import{u as N,r as d,N as f,E as y,n as b,j as e,S as C,Q as v,T as w,U as k,v as o,s as x,D as _,z as D,A as T,y as I,V as S}from"./index-Co7LZnNC.js";import{C as E}from"./Card-Bv0z91Da.js";import"./FancyCard-6Ch2L0xC.js";function B({cardId:m,onClose:p}){const{t}=N(["pages/card-detail","common/types","common/packs","common/sets"]),[n,h]=d.useState(m),s=f(n)||{},l=y(s.expansion),{data:g=[]}=b(),[j,r]=d.useState(!1);if(!s)return null;const i=s.pack==="everypack"?l?.packs[0].name:s.pack,c=g.find(a=>a.card_id===n),u=a=>new Intl.DateTimeFormat(void 0,{dateStyle:"long",timeStyle:"long"}).format(new Date(a));return e.jsx(C,{open:!0,onOpenChange:a=>{a||p()},children:e.jsxs(v,{className:"transition-all duration-300 ease-in-out border-slate-600 overflow-y-auto",children:[e.jsx(w,{children:e.jsxs(k,{children:[o(s,x.language)," ",s.rarity]})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"px-10 py-4 w-full",children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(E,{className:"w-full",card:{...s,amount_owned:c?.amount_owned||0},onImageClick:()=>r(!0)},n)})}),e.jsxs(_,{open:j,onOpenChange:r,children:[e.jsx(D,{className:"hidden",children:e.jsx(T,{children:"Card image dialog"})}),e.jsx(I,{className:"flex items-center justify-center p-0 max-w-3xl max-h-[90vh]",children:s.image&&e.jsx("img",{src:s.image,alt:o(s,x.language),className:"w-full h-full object-scale-down",onClick:()=>r(!1)})})]}),e.jsxs("div",{className:"p-4 w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold",children:t("text.alternateVersions")}),s.alternate_versions?.map(a=>e.jsxs("p",{onClick:()=>h(a.card_id),className:"cursor-pointer",children:[a.card_id===n?"✓":"→"," ",a.version]},a.card_id))]}),l&&i&&e.jsx("p",{className:"text-lg mb-1",children:e.jsx("strong",{children:t("text.chanceToPull",{ns:"pages/card-detail",percent:S(l,i,s).toFixed(2)})})}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.expansion"),":"]})," ",s.expansion]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.pack"),":"]})," ",t(`${s.pack}`,{ns:"common/packs"})]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsx("strong",{children:"Energy:"})," ",s.energy]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.hp"),":"]})," ",s.hp]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.cardType"),":"]})," ",t(`cardType.${s.card_type}`)]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.evolutionType"),":"]})," ",t(`evolutionType.${s.evolution_type}`)]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.ex"),":"]})," ",t(`ex.${s.ex}`)]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.baby"),":"]})," ",t(`ex.${s.baby?"yes":"no"}`)]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.craftingCost"),":"]})," ",s.crafting_cost]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.artist"),":"]})," ",s.artist]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[t("text.setDetails"),":"]})," ",t(s.set_details,{ns:"common/sets"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:t("text.details")}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("text.weakness"),":"]})," ",t(`${s.weakness}`,{ns:"common/types"})||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("text.retreat"),":"]})," ",s.retreat||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("text.ability"),":"]})," ",s.ability?.name||"No ability"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[t("text.abilityEffect"),":"]})," ",s.ability?.effect||"N/A"]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("p",{className:"text-neutral-400 text-sm",children:[e.jsxs("strong",{className:"font-semibold",children:[t("text.updated"),":"]})," ",c?.updated_at?u(c.updated_at):"N/A"]})})]})]})]})})}export{B as default};
