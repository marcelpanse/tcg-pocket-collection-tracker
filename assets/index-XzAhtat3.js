import{j as M}from"./query-vendor-DpGHCXpY.js";import{c as N,r as j,gW as F,gX as o}from"./index-BzHp76IK.js";import{M as Q,C as $}from"./react-tooltip.min-Bn43uU6H.js";import{u as U}from"./i18n-vendor-DDmeScd6.js";import{r as p,g as H}from"./react-vendor-DjlsVz29.js";import{a as P}from"./Filters-CVjDSFnQ.js";const be=t=>{const e=N.c(19),{deckbuildingMode:r,setDeckbuildingMode:n}=t,{t:s}=U("deckbuilding-filter");let i;e[0]!==r||e[1]!==n?(i=()=>n(!r),e[0]=r,e[1]=n,e[2]=i):i=e[2];let c;e[3]!==r||e[4]!==i?(c=M.jsx("input",{type:"checkbox",id:"checkbox",checked:r,onChange:i,className:"w-5 h-5"}),e[3]=r,e[4]=i,e[5]=c):c=e[5];let d;e[6]!==s?(d=s("deckbuildingModeLabel"),e[6]=s,e[7]=d):d=e[7];let u;e[8]!==d?(u=M.jsx("label",{htmlFor:"checkbox",className:"text-md",children:d}),e[8]=d,e[9]=u):u=e[9];let x;e[10]===Symbol.for("react.memo_cache_sentinel")?(x=M.jsx(Q,{id:"deckbuildingMode",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e[10]=x):x=e[10];let l;e[11]!==s?(l=s("deckbuildingModeTooltip"),e[11]=s,e[12]=l):l=e[12];let a;e[13]!==l?(a=M.jsx($,{className:"h-4 w-4","data-tooltip-id":"deckbuildingMode","data-tooltip-content":l}),e[13]=l,e[14]=a):a=e[14];let m;return e[15]!==c||e[16]!==u||e[17]!==a?(m=M.jsxs("div",{className:"flex items-center space-x-2 text-white/50",children:[c,u,x,a]}),e[15]=c,e[16]=u,e[17]=a,e[18]=m):m=e[18],m},S=["◊","◊◊","◊◊◊","◊◊◊◊","P"],ge=t=>{const e=N.c(11),{rarities:r,rarityFilter:n,setRarityFilter:s,deckbuildingMode:i,className:c}=t;let d;e[0]!==i||e[1]!==n||e[2]!==s?(d=()=>{i&&s(n.filter(W))},e[0]=i,e[1]=n,e[2]=s,e[3]=d):d=e[3];let u;e[4]!==i?(u=[i],e[4]=i,e[5]=u):u=e[5],p.useEffect(d,u);const x=r??(i?S:j);let l;return e[6]!==c||e[7]!==x||e[8]!==n||e[9]!==s?(l=M.jsx(P,{className:c,options:x,value:n,onChange:s,show:F,asChild:!0}),e[6]=c,e[7]=x,e[8]=n,e[9]=s,e[10]=l):l=e[10],l};function W(t){return S.includes(t)}var R={},D;function A(){if(D)return R;D=1,R.match=i,R.parse=c;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,r=/^(?:(min|max)-)?(.+)/,n=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function i(l,a){return c(l).some(function(m){var v=m.inverse,w=m.type==="all"||a.type===m.type;if(w&&v||!(w||v))return!1;var g=m.expressions.every(function(b){var E=b.feature,k=b.modifier,f=b.value,y=a[E];if(!y)return!1;switch(E){case"orientation":case"scan":return y.toLowerCase()===f.toLowerCase();case"width":case"height":case"device-width":case"device-height":f=x(f),y=x(y);break;case"resolution":f=u(f),y=u(y);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":f=d(f),y=d(y);break;case"grid":case"color":case"color-index":case"monochrome":f=parseInt(f,10)||1,y=parseInt(y,10)||0;break}switch(k){case"min":return y>=f;case"max":return y<=f;default:return y===f}});return g&&!v||!g&&v})}function c(l){return l.split(",").map(function(a){a=a.trim();var m=a.match(t),v=m[1],w=m[2],g=m[3]||"",b={};return b.inverse=!!v&&v.toLowerCase()==="not",b.type=w?w.toLowerCase():"all",g=g.match(/\([^\)]+\)/g)||[],b.expressions=g.map(function(E){var k=E.match(e),f=k[1].toLowerCase().match(r);return{modifier:f[1],feature:f[2],value:k[2]}}),b})}function d(l){var a=Number(l),m;return a||(m=l.match(/^(\d+)\s*\/\s*(\d+)$/),a=m[1]/m[2]),a}function u(l){var a=parseFloat(l),m=String(l).match(s)[1];switch(m){case"dpcm":return a/2.54;case"dppx":return a*96;default:return a}}function x(l){var a=parseFloat(l),m=String(l).match(n)[1];switch(m){case"em":return a*16;case"rem":return a*16;case"cm":return a*96/2.54;case"mm":return a*96/2.54/10;case"in":return a*96;case"pt":return a*72;case"pc":return a*72/12;default:return a}}return R}var C,O;function K(){if(O)return C;O=1;var t=A().match,e=typeof window<"u"?window.matchMedia:null;function r(s,i,c){var d=this,u;e&&!c&&(u=e.call(window,s)),u?(this.matches=u.matches,this.media=u.media,u.addListener(a)):(this.matches=t(s,i),this.media=s),this.addListener=x,this.removeListener=l,this.dispose=m;function x(v){u&&u.addListener(v)}function l(v){u&&u.removeListener(v)}function a(v){d.matches=v.matches,d.media=v.media}function m(){u&&u.removeListener(a)}}function n(s,i,c){return new r(s,i,c)}return C=n,C}var V=K();const X=H(V);var G=/[A-Z]/g,Y=/^ms-/,L={};function Z(t){return"-"+t.toLowerCase()}function _(t){if(L.hasOwnProperty(t))return L[t];var e=t.replace(G,Z);return L[t]=Y.test(e)?"-"+e:e}function z(t,e){if(t===e)return!0;if(!t||!e)return!1;const r=Object.keys(t),n=Object.keys(e),s=r.length;if(n.length!==s)return!1;for(let i=0;i<s;i++){const c=r[i];if(t[c]!==e[c]||!Object.prototype.hasOwnProperty.call(e,c))return!1}return!0}const h=o.oneOfType([o.string,o.number]),I={all:o.bool,grid:o.bool,aural:o.bool,braille:o.bool,handheld:o.bool,print:o.bool,projection:o.bool,screen:o.bool,tty:o.bool,tv:o.bool,embossed:o.bool},J={orientation:o.oneOf(["portrait","landscape"]),scan:o.oneOf(["progressive","interlace"]),aspectRatio:o.string,deviceAspectRatio:o.string,height:h,deviceHeight:h,width:h,deviceWidth:h,color:o.bool,colorIndex:o.bool,monochrome:o.bool,resolution:h,type:Object.keys(I)},{type:Me,...B}=J,ee={minAspectRatio:o.string,maxAspectRatio:o.string,minDeviceAspectRatio:o.string,maxDeviceAspectRatio:o.string,minHeight:h,maxHeight:h,minDeviceHeight:h,maxDeviceHeight:h,minWidth:h,maxWidth:h,minDeviceWidth:h,maxDeviceWidth:h,minColor:o.number,maxColor:o.number,minColorIndex:o.number,maxColorIndex:o.number,minMonochrome:o.number,maxMonochrome:o.number,minResolution:h,maxResolution:h,...B},te={...I,...ee};var re={all:te};const se=t=>`not ${t}`,ne=(t,e)=>{const r=_(t);return typeof e=="number"&&(e=`${e}px`),e===!0?r:e===!1?se(r):`(${r}: ${e})`},ie=t=>t.join(" and "),ae=t=>{const e=[];return Object.keys(re.all).forEach(r=>{const n=t[r];n!=null&&e.push(ne(r,n))}),ie(e)},oe=p.createContext(void 0),ce=t=>t.query||ae(t),q=t=>t?Object.keys(t).reduce((r,n)=>(r[_(n)]=t[n],r),{}):void 0,T=()=>{const t=p.useRef(!1);return p.useEffect(()=>{t.current=!0},[]),t.current},ue=t=>{const e=p.useContext(oe),r=()=>q(t)||q(e),[n,s]=p.useState(r);return p.useEffect(()=>{const i=r();z(n,i)||s(i)},[t,e]),n},le=t=>{const e=()=>ce(t),[r,n]=p.useState(e);return p.useEffect(()=>{const s=e();r!==s&&n(s)},[t]),r},me=(t,e)=>{const r=()=>X(t,e||{},!!e),[n,s]=p.useState(r),i=T();return p.useEffect(()=>{if(i){const c=r();return s(c),()=>{c&&c.dispose()}}},[t,e]),n},de=t=>{const[e,r]=p.useState(t.matches);return p.useEffect(()=>{const n=s=>{r(s.matches)};return t.addListener(n),r(t.matches),()=>{t.removeListener(n)}},[t]),e},we=(t,e,r)=>{const n=ue(e),s=le(t);if(!s)throw new Error("Invalid or missing MediaQuery!");const i=me(s,n),c=de(i);return T(),p.useEffect(()=>{},[c]),p.useEffect(()=>()=>{i&&i.dispose()},[]),c};export{be as D,ge as R,we as u};
