import{e as he,af as _e,ag as je,ah as G,j as e,f as ge,ai as be,B as v,u as j,aj as ve,ak as W,a3 as Ne,a4 as oe,a5 as ye,al as S,n as q,r as b,am as B,an as H,a7 as le,ao as Ce,ap as Te,aq as z,_ as K,ar as me,as as we,y as ke,at as Fe,au as ue,av as Se,aw as Ie,ax as $e,ae as J,ay as Ae,az as Me,aA as k,aB as Oe}from"./index-DQVDfiPJ.js";import{t as $,b as fe,d as xe,f as F,a as Le,D as ee,g as ae,M,C as P}from"./useWindowDimensionsHook-D_im_HM8.js";import{C as O}from"./CardLine-BPOBnLXN.js";import{C as te}from"./CardsTable-4klKIWWa.js";import{f as De}from"./utils-Jr8q5dMd.js";import{A as L,a as Q,b as X}from"./alert-BDqbRy1x.js";import{S as Y}from"./siren-D_w-pfTu.js";import{S as pe,u as Pe,a as Ee,F as Re,b as E,c as R,d as U,e as V,f as Ue,g as Ve}from"./form-QpKjF0e9.js";import"./index-D1E5okkA.js";import"./Card-JO_hC_RU.js";import"./FancyCard-B2dWfnX1.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Be=he("copy",We);function se(a){return _e(je,a)}const He=({friendId:a,className:n="",showCopyButton:s=!0})=>{const{toast:i}=G(),t=async()=>{try{await navigator.clipboard.writeText(a),i({title:"Friend ID copied to clipboard!",variant:"default",duration:2e3})}catch(l){console.error("Failed to copy friend ID:",l),i({title:"Failed to copy friend ID",variant:"destructive",duration:3e3})}};return a?e.jsxs("span",{className:ge("inline-flex items-center gap-1",n),children:[e.jsx("span",{className:"font-mono",children:be(a)}),s&&e.jsx(v,{variant:"ghost",size:"icon",onClick:t,className:"h-4 w-4 text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200","aria-label":"Copy friend ID",children:e.jsx(Be,{className:"h-2.5 w-2.5"})})]}):null},re=({cards:a,selected:n,setSelected:s})=>{const i=[...a].sort((l,d)=>{const u=m=>{const p=m.split("-"),g=p[0]||"",h=p.length>1?parseInt(p[1],10):0;return{setName:g,cardNumber:h}},x=u(l.card_id),c=u(d.card_id);return x.setName!==c.setName?x.setName.localeCompare(c.setName):x.cardNumber-c.cardNumber});function t(l){function d(){n?.card_id===l.card_id?s(null):s(l)}return e.jsx("li",{className:"rounded cursor-pointer",onClick:d,children:e.jsx(O,{className:`w-full ${n?.card_id===l.card_id&&"bg-green-900"} hover:bg-neutral-600`,card_id:l.card_id,rarity:"hidden"})},l.card_id)}return e.jsx("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-2 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1",children:i.map(t)})})};function ne(a){return a?e.jsx(O,{card_id:a.card_id,details:"hidden"}):"—"}const ze=({yourId:a,friendId:n,yourCard:s,friendCard:i,setYourCard:t,setFriendCard:l})=>{const{t:d}=j("trade-matches"),{toast:u}=G(),x=ve(),c=s&&i&&s.rarity===i.rarity;async function m(){if(!c)return;const p={offering_friend_id:a,receiving_friend_id:n,offer_card_id:s.card_id,receiver_card_id:i.card_id,status:"offered"};try{x.mutate(p)}catch(g){console.log("TradeOffer: Error inserting trade",g),u({title:d("tradeFailed"),variant:"default"})}t(null),l(null),u({title:d("tradeOffered"),variant:"default"}),W("Offer trade")}return!s&&!i?e.jsx("div",{className:"flex rounded-lg border-1 border-neutral-700 border-solid p-2 w-full items-center justify-around text-center h-[206px] sm:h-[138px]",children:e.jsx("h4",{className:"text-lg font-medium",children:d("selectCardsToTrade")})}):e.jsxs("div",{className:"bg-neutral-900 rounded-lg border-1 border-neutral-700 border-solid p-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:d("youGive")}),ne(s)]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:d("youReceive")}),ne(i)]})]}),e.jsx(v,{className:"block w-full sm:w-1/2 mx-auto text-center",type:"button",variant:"outline",onClick:m,disabled:!c,children:d("offerTrades")})]})};function ie(a,n){const s=new Set(n),i=a.filter(t=>s.has(t)).map(t=>le(t)).filter(t=>$.includes(t.rarity)&&Ce.includes(t.expansion));return Object.groupBy(i,t=>t.rarity)}function Ge(){const{t:a}=j(["trade-matches","common"]),{friendId:n}=Ne(),{data:s}=oe(n),{data:i}=ye(n),{data:t}=S(),{data:l=[]}=q(),[d,u]=b.useState(null),[x,c]=b.useState(null);if(!t)return null;if(s===null)return e.jsx("p",{className:"text-xl text-center py-8",children:a("notFound")});if(s===void 0||i===void 0)return e.jsxs("p",{className:"text-xl text-center py-8",children:[a("common:loading"),"..."]});if(!s.is_active_trading)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:a("inActiveTradePage",{username:s?.username})}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:a("inActiveTradeDescription")})]});const m=ie(H(l,t?.min_number_of_cards_to_keep),B(i,s.max_number_of_cards_wanted)),p=ie(H(i,s.min_number_of_cards_to_keep),B(l,t?.max_number_of_cards_wanted)),g=$.some(h=>(m[h]??[]).length>0&&(p[h]??[]).length>0);return e.jsxs("div",{className:"kap-4 justify-center w-full m-auto px-2",children:[e.jsxs("h1",{className:"mb-4",children:[e.jsx("span",{className:"text-2xl font-light",children:a("tradingWith")}),e.jsxs("span",{className:"text-2xl font-bold",children:[" ",s.username," "]}),e.jsx("span",{className:"block sm:inline text-sm",children:e.jsx(He,{friendId:s.friend_id})})]}),e.jsx(ze,{yourId:t.friend_id,friendId:s.friend_id,yourCard:d,friendCard:x,setYourCard:u,setFriendCard:c}),!g&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:a("noPossibleTrades")}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:a("noPossibleTradesDescription")})]}),e.jsx("div",{className:"mt-8",children:$.map(h=>p[h]&&m[h]&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-2 text-center",children:["[ ",h," ]"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:a("youHave")}),e.jsx(re,{cards:m[h],selected:d,setSelected:u})]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:a("friendHas")}),e.jsx(re,{cards:p[h],selected:x,setSelected:c})]})]})]},h))})]})}function qe(){const{t:a}=j("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(Q,{children:a("noCardsNeeded.title")}),e.jsx(X,{children:a("noCardsNeeded.description")})]})})}function Ke(){const{t:a}=j("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(Q,{children:a("noTradeableCards.title")}),e.jsx(X,{children:a("noTradeableCards.description")})]})})}function Qe(){const{t:a}=j("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(Q,{children:a("notLoggedIn.title")}),e.jsx(X,{children:a("notLoggedIn.description")})]})})}function Xe(){const{t:a}=j(["pages/trade","filters"]),{data:n}=Te(),{data:s}=S(),{data:i=[]}=q(),[t,l]=b.useState([]),[d,u]=b.useState((s?.max_number_of_cards_wanted??1)-1),[x,c]=b.useState((s?.min_number_of_cards_to_keep??1)+1),[m,p]=b.useState("looking_for"),g=f=>(t.length===0?$:t).includes(f.rarity),h=f=>{const N=le(f),D=i.find(y=>y.card_id===f)?.amount_owned??0;return{...N,amount_owned:D}},I=b.useMemo(()=>B(i,d+1).map(h),[i,d]),T=b.useMemo(()=>I.filter(g),[I,t]),r=b.useMemo(()=>H(i,x-1).map(h),[i,x]),_=b.useMemo(()=>r.filter(g),[r,t]),C=()=>{let f="";s?.is_public&&(f+=`${a("publicTradePage")} https://tcgpocketcollectiontracker.com/#/trade/${s?.friend_id}
`),s?.username&&(f+=`${a("friendID")} ${s.friend_id} (${s.username})

`),f+=`${a("lookingForCards")}
`;const N=T.sort((o,w)=>{const Z=o.expansion.localeCompare(w.expansion);return Z!==0?Z:o.rarity.localeCompare(w.rarity)});for(let o=0;o<N.length;o++)(o>0?N[o-1].expansion:"")!==N[o].expansion&&(f+=`
${N[o].set_details}:
`),f+=`${N[o].rarity} ${N[o].card_id} - ${N[o].name}
`;const D=T.map(o=>o.rarity);f+=`

${a("forTradeCards")}
`;const y=_.filter(o=>D.includes(o.rarity)).sort((o,w)=>o.rarity.localeCompare(w.rarity));for(let o=0;o<y.length;o++)(o>0?y[o-1].expansion:"")!==y[o].expansion&&(f+=`
${y[o].set_details}:
`),f+=`${y[o].rarity} ${y[o].card_id} - ${y[o].name}
`;return f},A=async()=>{const f=C();z({title:a("copiedInClipboard"),variant:"default",duration:3e3}),await navigator.clipboard.writeText(f)};return n?e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsxs(fe,{defaultValue:m,onValueChange:p,children:[e.jsxs("div",{className:"mx-auto max-w-[900px] flex flex-row flex-wrap align-center gap-x-4 gap-y-2",children:[e.jsxs(xe,{className:"flex-grow m-auto flex-wrap h-auto border-1 border-neutral-700 rounded-md",children:[e.jsx(F,{value:"looking_for",children:a("lookingFor")}),e.jsx(F,{value:"for_trade",children:a("forTrade")})]}),e.jsx(Le,{options:$,value:t,onChange:l,show:De,asChild:!0}),e.jsxs("div",{className:"sm:mt-1 flex flex-row flex-wrap align-center gap-x-4 gap-y-1",children:[m==="looking_for"&&e.jsx(ee,{label:a("f-number.maxNum",{ns:"filters"}),options:[1,2,3,4,5],value:d,onChange:u}),m==="for_trade"&&e.jsx(ee,{label:a("f-number.minNum",{ns:"filters"}),options:[2,3,4,5],value:x,onChange:c}),e.jsx(v,{variant:"outline",onClick:A,children:"Copy to clipboard"})]})]}),e.jsxs("div",{className:"mx-auto max-w-[900px] mt-6",children:[e.jsx(ae,{value:"looking_for",children:I?e.jsx(te,{cards:T,extraOffset:105,editable:!1}):e.jsx(qe,{})}),e.jsx(ae,{value:"for_trade",children:r?e.jsx(te,{cards:_,extraOffset:105,editable:!1}):e.jsx(Ke,{})})]})]})}):e.jsx(Qe,{})}function Ye({partner:a}){const n=K(),{t:s}=j("trade-matches");return e.jsx("div",{className:"w-md",children:e.jsxs("div",{className:"flex justify-between items-center mb-2 mx-1",children:[e.jsx("p",{children:a.username}),e.jsx("span",{className:"flex gap-4",children:e.jsxs(v,{variant:"outline",className:"my-auto",onClick:()=>n(`/trade/${a.friend_id}`),children:[s("viewTradePartner"),e.jsx(me,{})]})})]})})}function Ze(){const{t:a}=j(["trade-matches","common"]),{data:n,isLoading:s}=we();return s?e.jsx("p",{children:a("common:loading")}):n?.length?e.jsx("div",{className:"flex flex-col items-center mx-auto gap-6",children:n.map(i=>e.jsx(Ye,{partner:i},i.friend_id))}):e.jsx("p",{children:a("noTradePartners")})}const Je=({row:a,selectedTradeId:n,setSelectedTradeId:s})=>{const{t:i}=j("trade-matches"),{data:t}=S();if(!t)return null;const l=a.offering_friend_id===t.friend_id?a.offer_card_id:a.receiver_card_id,d=a.offering_friend_id===t.friend_id?a.receiver_card_id:a.offer_card_id;function u(c){n===c.id?s(void 0):s(c.id)}const x=c=>{const m={offered:{icon:c.offering_friend_id===t.friend_id?"→":"←",color:"bg-amber-600"},accepted:{icon:"↔",color:"bg-lime-600"},declined:{icon:"X",color:"bg-stone-600"},finished:{icon:"✓",color:"bg-indigo-600"}};return e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{id:`tooltip-${c.id}`}),e.jsx("span",{className:`rounded-full text-center w-7 md:w-9 ${m[c.status].color}`,"data-tooltip-id":`tooltip-${c.id}`,"data-tooltip-content":i(`status.${c.status}`),children:m[c.status].icon})]})};return e.jsxs("li",{className:`flex cursor-pointer rounded gap-1 md:gap-4 p-1 ${n===a.id&&"bg-green-900"} hover:bg-neutral-500`,onClick:()=>u(a),children:[x(a),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full justify-between gap-1 md:gap-4",children:[e.jsx(O,{className:"sm:w-1/2",card_id:l,increment:-1}),e.jsx(O,{className:"sm:w-1/2",card_id:d,increment:1})]})]})};function ea({trades:a,viewHistory:n}){const{t:s}=j("trade-matches"),{toast:i}=G(),{data:t}=S(),{data:l=[]}=q(),d=ke();function u(r){return r.offering_friend_id===t?.friend_id&&!r.offerer_ended||r.receiving_friend_id===t?.friend_id&&!r.receiver_ended}const x=n?a.filter(r=>!u(r)):a.filter(u),[c,m]=b.useState(void 0),p=Fe();if(!t)return null;const g=(r,_)=>({card_id:r,amount_owned:(l.find(C=>C.card_id===r)?.amount_owned??0)+_}),h=async r=>{if(r.offer_card_id!==r.receiver_card_id)if(r.offering_friend_id===t.friend_id){const _=[g(r.offer_card_id,-1),g(r.receiver_card_id,1)];d.mutate({updates:_}),i({title:s("collectionUpdated"),variant:"default"})}else if(r.receiving_friend_id===t.friend_id){const _=[g(r.offer_card_id,1),g(r.receiver_card_id,-1)];d.mutate({updates:_}),i({title:s("collectionUpdated"),variant:"default"})}else console.log(r,"can't match friend id")},I=r=>{const _=async f=>{p.mutate({id:r.id,trade:{status:f}}),m(r.id),W(`Updated trade: ${f}`)},C=async()=>{const f=r.offering_friend_id===t.friend_id?{offerer_ended:!0}:r.receiving_friend_id===t.friend_id?{receiver_ended:!0}:null;if(f===null){console.log(r," doesn't match your friend_id");return}p.mutate({id:r.id,trade:f}),m(void 0),W("Updated trade: ended")},A=r.offering_friend_id===t.friend_id&&r.offerer_ended||r.receiving_friend_id===t.friend_id&&r.receiver_ended;switch(r.status){case"offered":return e.jsxs(e.Fragment,{children:[r.receiving_friend_id===t.friend_id&&e.jsx(v,{type:"button",onClick:async()=>_("accepted"),children:s("actionAccept")}),e.jsx(v,{type:"button",onClick:async()=>_("declined"),children:r.receiving_friend_id===t.friend_id?s("actionDecline"):s("actionCancel")})]});case"accepted":return e.jsxs(e.Fragment,{children:[e.jsx(v,{type:"button",onClick:async()=>_("finished"),children:s("actionComplete")}),e.jsx(v,{type:"button",onClick:async()=>_("declined"),children:s("actionCancel")})]});case"declined":return A?null:e.jsx(v,{type:"button",onClick:C,children:s("actionHide")});case"finished":return A?null:e.jsxs(e.Fragment,{children:[e.jsx(v,{type:"button",onClick:async()=>{await h(r),await C()},children:s("actionUpdate")}),e.jsx(v,{type:"button",onClick:C,children:s("actionHide")})]});default:return console.log(`Unknown trade status ${r.status}`),null}},T=x.find(r=>r.id===c);return x.length===0?e.jsx("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-2 text-center",children:s("noActiveTrades")}):e.jsxs("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-1 sm:p-2",children:[e.jsxs("div",{className:"hidden sm:flex px-1",children:[e.jsx("div",{className:"w-9"}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:s("youGive")}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:s("youReceive")})]}),e.jsx("ul",{className:"flex flex-col gap-2 sm:gap-0",children:x.toSorted((r,_)=>r.created_at>_.created_at?-1:1).map(r=>e.jsx(Je,{row:r,selectedTradeId:c,setSelectedTradeId:m},r.id))}),T&&e.jsx("div",{className:"flex gap-4 text-center items-center mt-2",children:I(T)})]})}function de({friendId:a}){const n=K(),{t:s}=j("trade-matches"),{data:i}=ue(),{data:t}=oe(a),[l,d]=b.useState(!1);return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2 mx-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-md",children:s("tradingWith")}),e.jsxs("span",{className:"text-md font-bold",children:[" ",t?.username||"loading"," "]})]}),e.jsxs("span",{className:"flex gap-4",children:[e.jsxs("label",{htmlFor:`history-${a}`,className:"my-auto flex items-center",children:[s("viewHistory"),e.jsx(pe,{id:`history-${a}`,className:"ml-2 my-auto",checked:l,onCheckedChange:d})]}),e.jsxs(v,{variant:"outline",className:"my-auto",onClick:()=>n(`/trade/${a}`),children:[s("openTradeWith"),e.jsx(me,{})]})]})]}),t!==null&&i&&e.jsx(ea,{trades:i.filter(u=>u.offering_friend_id===a||u.receiving_friend_id===a),viewHistory:l})]})}function aa(){const{t:a}=j("trade-matches"),{data:n}=S(),{data:s}=ue();if(!s||!n)return null;if(s.length===0)return e.jsx("p",{children:a("noTradeOffers")});const i=ce(s,n.friend_id),t=Object.fromEntries(Object.entries(i).map(([c,m])=>[c,Math.max(...m.map(p=>new Date(p.updated_at).getTime()))])),l=Object.keys(i).toSorted((c,m)=>t[m]-t[c]),d=ce(s,n.friend_id,!0),u=Object.fromEntries(Object.entries(d).map(([c,m])=>[c,Math.max(...m.map(p=>new Date(p.updated_at).getTime()))])),x=Object.keys(d).toSorted((c,m)=>u[m]-u[c]);return e.jsxs("div",{className:"flex flex-col items-center mx-auto gap-12 sm:px-4 mb-12 w-full",children:[l.map(c=>e.jsx(de,{friendId:c},c)),x.map(c=>e.jsx(de,{friendId:c},c))]})}function ce(a,n,s=!1){const i=a.filter(t=>s?t.offering_friend_id===n?t.offerer_ended:t.receiver_ended:t.offering_friend_id===n?!t.offerer_ended:!t.receiver_ended);return Object.groupBy(i,t=>t.offering_friend_id===n?t.receiving_friend_id:t.receiving_friend_id===n?t.offering_friend_id:(console.log("Fetched row does not match user friend_id",t),"undefined"))}function ta(){const{t:a}=j("trade-matches"),{data:n}=S(),s=Se(),i=Ie({is_active_trading:$e(),min_number_of_cards_to_keep:se().min(1).max(10),max_number_of_cards_wanted:se().min(1).max(10)}),t=Pe({resolver:Ee(i),values:{is_active_trading:n?.is_active_trading||!1,min_number_of_cards_to_keep:n?.min_number_of_cards_to_keep||1,max_number_of_cards_wanted:n?.max_number_of_cards_wanted||1}}),l=async d=>{try{s.mutate({username:n?.username,is_active_trading:d.is_active_trading,min_number_of_cards_to_keep:d.min_number_of_cards_to_keep,max_number_of_cards_wanted:d.max_number_of_cards_wanted}),z({title:a("accountSaved"),variant:"default"})}catch(u){console.error("error saving account",u),z({title:a("errorSavingAccount"),variant:"destructive"})}};return!n||!n.username?e.jsx(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:a("noAccount")}):e.jsxs("div",{children:[e.jsx(Re,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(l),className:"border-1 border-neutral-700 space-y-2 p-4 mx-auto",children:[e.jsx(E,{control:t.control,name:"is_active_trading",render:({field:d})=>e.jsx(R,{className:"flex flex-col items-start",children:e.jsx(U,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(V,{className:"flex sm:w-72",children:a("isActiveTrading")}),e.jsx("div",{className:"grow-1",children:e.jsx(pe,{checked:d.value,onCheckedChange:d.onChange})}),e.jsx(Ue,{className:"grow",children:d.value?"active":"disabled"}),e.jsx(M,{id:"activeInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(P,{className:"h-4 w-4","data-tooltip-id":"activeInput","data-tooltip-content":a("activeTradingInputTooltip")})]})})})}),e.jsx(E,{control:t.control,name:"min_number_of_cards_to_keep",render:({field:d})=>e.jsx(R,{className:"flex flex-col items-start",children:e.jsx(U,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(V,{className:"flex sm:w-72",children:a("minNumberOfCardsToKeep")}),e.jsx("div",{className:"grow-1",children:e.jsx(J,{className:"w-24",type:"number",...d})}),e.jsx(M,{id:"minInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(P,{className:"h-4 w-4","data-tooltip-id":"minInput","data-tooltip-content":a("minInputTooltip")})]})})})}),e.jsx(E,{control:t.control,name:"max_number_of_cards_wanted",render:({field:d})=>e.jsx(R,{className:"flex flex-col items-start",children:e.jsx(U,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(V,{className:"flex sm:w-72",children:a("maxNumberOfCardsWanted")}),e.jsx("div",{className:"grow-1",children:e.jsx(J,{className:"w-24",type:"number",...d})}),e.jsx(M,{id:"maxInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(P,{className:"h-4 w-4","data-tooltip-id":"maxInput","data-tooltip-content":a("maxInputTooltip")})]})})})}),e.jsx("div",{className:"w-full flex justify-end mt-8",children:e.jsx(v,{type:"submit",children:a("save")})})]})}),e.jsx(Ve,{className:"mt-4"})]})}function xa(){const{t:a}=j("trade-matches"),n=Ae(),s=K(),i=n.pathname.split("/").pop()||"offers";return b.useEffect(()=>{n.pathname==="/trade"&&s("/trade/offers")},[n.pathname,s]),e.jsxs(fe,{className:"flex flex-col mx-auto max-w-[900px]",value:i,onValueChange:t=>s(`/trade/${t}`),children:[e.jsxs(xe,{className:"gap-4 mb-6 rounded-lg border-b-1 border-neutral-700 border-solid dark:bg-transparent pb-2",children:[e.jsx(F,{className:"text-md",value:"cards",children:a("tabCards")}),e.jsx(F,{className:"text-md",value:"offers",children:a("tabOffers")}),e.jsx(F,{className:"text-md",value:"matches",children:a("tabMatches")}),e.jsx(F,{className:"text-md",value:"settings",children:a("tabSettings")})]}),e.jsxs(Me,{children:[e.jsx(k,{path:"/",element:e.jsx(Oe,{to:"/trade/offers",replace:!0})}),e.jsx(k,{path:"cards",element:e.jsx(Xe,{})}),e.jsx(k,{path:"offers",element:e.jsx(aa,{})}),e.jsx(k,{path:"matches",element:e.jsx(Ze,{})}),e.jsx(k,{path:"settings",element:e.jsx(ta,{})}),e.jsx(k,{path:":friendId",element:e.jsx(Ge,{})})]})]})}export{xa as default};
