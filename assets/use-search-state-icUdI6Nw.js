import{c as j,Z as p,T as d}from"./index-rJmVMA6i.js";import{j as w}from"./react-vendor-DjlsVz29.js";function y(t){try{return JSON.parse(t)}catch{return t}}function k(t){const e=j.c(15),[r,h]=w();let f;e[0]!==t.shape||e[1]!==r||e[2]!==h?(f=u=>{const a=new URLSearchParams(r);for(const n in u){const s=u[n],o=t.shape[n];if(o===void 0){console.warn(`useSearchState(): Unknown key '${n}'`);continue}if(o instanceof p||o instanceof d&&o.unwrap()instanceof p){if(!Array.isArray(s)){console.warn(`useSearchState(): ${n} should be an array`);continue}s.length===0?a.delete(n):a.set(n,s.join(","))}else s===o.parse(void 0)?a.delete(n):a.set(n,String(s))}h(a)},e[0]=t.shape,e[1]=r,e[2]=h,e[3]=f):f=e[3];const S=f;let i,c;if(e[4]!==t||e[5]!==r){const u=Object.fromEntries(Object.entries(t.shape).map(n=>{const[s,o]=n;return r.has(s)?o instanceof p||o instanceof d&&o.unwrap()instanceof p?[s,r.get(s)?.split(",").map(y)]:[s,y(r.get(s))]:[s,void 0]}));let a;e[8]!==t.shape||e[9]!==r?(a=Object.keys(t.shape).filter(n=>r.has(n)),e[8]=t.shape,e[9]=r,e[10]=a):a=e[10],i=a.length,c=t.parse(u),e[4]=t,e[5]=r,e[6]=i,e[7]=c}else i=e[6],c=e[7];let l;return e[11]!==i||e[12]!==S||e[13]!==c?(l=[c,S,i],e[11]=i,e[12]=S,e[13]=c,e[14]=l):l=e[14],l}export{k as u};
