import{f as I,j as v,r as d,J as S,g as Q,$ as r}from"./index-BtElzD63.js";import{M as _,C as P}from"./react-tooltip.min-wNB47kC1.js";import{a as $}from"./Filters-C3FO7K6-.js";const fe=({deckbuildingMode:e,setDeckbuildingMode:t})=>{const{t:s}=I("deckbuilding-filter");return v.jsxs("div",{className:"flex items-center space-x-2 text-white/50",children:[v.jsx("input",{type:"checkbox",id:"checkbox",checked:e,onChange:()=>t(!e),className:"w-5 h-5"}),v.jsx("label",{htmlFor:"checkbox",className:"text-md",children:s("deckbuildingModeLabel")}),v.jsx(_,{id:"deckbuildingMode",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),v.jsx(P,{className:"h-4 w-4","data-tooltip-id":"deckbuildingMode","data-tooltip-content":s("deckbuildingModeTooltip")})]})};function U(e){switch(e){case"â—Š":case"â—Šâ—Š":case"â—Šâ—Šâ—Š":case"â—Šâ—Šâ—Šâ—Š":return v.jsx("span",{className:"text-gray-400 hover:text-gray-500 px-1",children:e});case"â˜†":case"â˜†â˜†":case"â˜†â˜†â˜†":return v.jsx("span",{className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:e});case"âœµ":case"âœµâœµ":return v.jsx("span",{className:"text-pink-300 hover:text-pink-500 .dark:data-[state=on]:text-pink-400 px-1",children:e});case"Crown Rare":return v.jsx("span",{className:"px-1",children:"ðŸ‘‘"});case"P":return v.jsx("span",{className:"px-1",children:"P"})}return null}function pe(e){return e==="trainer"?"T":v.jsx("img",{src:`/images/energy/${e}.webp`,alt:e,className:"h-4"})}const H=["â—Š","â—Šâ—Š","â—Šâ—Šâ—Š","â—Šâ—Šâ—Šâ—Š","P"],xe=({rarities:e,rarityFilter:t,setRarityFilter:s,deckbuildingMode:a,className:c})=>{d.useEffect(()=>{a&&s(t.filter(o=>H.includes(o)))},[a]);const i=e??S;return v.jsx($,{className:c,options:i,value:t,onChange:s,show:U,asChild:!0})};var C={},N;function F(){if(N)return C;N=1,C.match=i,C.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,s=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,c=/(dpi|dpcm|dppx)?$/;function i(f,n){return o(f).some(function(u){var p=u.inverse,w=u.type==="all"||n.type===u.type;if(w&&p||!(w||p))return!1;var g=u.expressions.every(function(y){var E=y.feature,k=y.modifier,l=y.value,x=n[E];if(!x)return!1;switch(E){case"orientation":case"scan":return x.toLowerCase()===l.toLowerCase();case"width":case"height":case"device-width":case"device-height":l=M(l),x=M(x);break;case"resolution":l=h(l),x=h(x);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":l=b(l),x=b(x);break;case"grid":case"color":case"color-index":case"monochrome":l=parseInt(l,10)||1,x=parseInt(x,10)||0;break}switch(k){case"min":return x>=l;case"max":return x<=l;default:return x===l}});return g&&!p||!g&&p})}function o(f){return f.split(",").map(function(n){n=n.trim();var u=n.match(e),p=u[1],w=u[2],g=u[3]||"",y={};return y.inverse=!!p&&p.toLowerCase()==="not",y.type=w?w.toLowerCase():"all",g=g.match(/\([^\)]+\)/g)||[],y.expressions=g.map(function(E){var k=E.match(t),l=k[1].toLowerCase().match(s);return{modifier:l[1],feature:l[2],value:k[2]}}),y})}function b(f){var n=Number(f),u;return n||(u=f.match(/^(\d+)\s*\/\s*(\d+)$/),n=u[1]/u[2]),n}function h(f){var n=parseFloat(f),u=String(f).match(c)[1];switch(u){case"dpcm":return n/2.54;case"dppx":return n*96;default:return n}}function M(f){var n=parseFloat(f),u=String(f).match(a)[1];switch(u){case"em":return n*16;case"rem":return n*16;case"cm":return n*96/2.54;case"mm":return n*96/2.54/10;case"in":return n*96;case"pt":return n*72;case"pc":return n*72/12;default:return n}}return C}var R,j;function W(){if(j)return R;j=1;var e=F().match,t=typeof window<"u"?window.matchMedia:null;function s(c,i,o){var b=this,h;t&&!o&&(h=t.call(window,c)),h?(this.matches=h.matches,this.media=h.media,h.addListener(n)):(this.matches=e(c,i),this.media=c),this.addListener=M,this.removeListener=f,this.dispose=u;function M(p){h&&h.addListener(p)}function f(p){h&&h.removeListener(p)}function n(p){b.matches=p.matches,b.media=p.media}function u(){h&&h.removeListener(n)}}function a(c,i,o){return new s(c,i,o)}return R=a,R}var A=W();const K=Q(A);var V=/[A-Z]/g,G=/^ms-/,L={};function J(e){return"-"+e.toLowerCase()}function O(e){if(L.hasOwnProperty(e))return L[e];var t=e.replace(V,J);return L[e]=G.test(t)?"-"+t:t}function X(e,t){if(e===t)return!0;if(!e||!t)return!1;const s=Object.keys(e),a=Object.keys(t),c=s.length;if(a.length!==c)return!1;for(let i=0;i<c;i++){const o=s[i];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}const m=r.oneOfType([r.string,r.number]),q={all:r.bool,grid:r.bool,aural:r.bool,braille:r.bool,handheld:r.bool,print:r.bool,projection:r.bool,screen:r.bool,tty:r.bool,tv:r.bool,embossed:r.bool},Y={orientation:r.oneOf(["portrait","landscape"]),scan:r.oneOf(["progressive","interlace"]),aspectRatio:r.string,deviceAspectRatio:r.string,height:m,deviceHeight:m,width:m,deviceWidth:m,color:r.bool,colorIndex:r.bool,monochrome:r.bool,resolution:m,type:Object.keys(q)},{type:ve,...Z}=Y,z={minAspectRatio:r.string,maxAspectRatio:r.string,minDeviceAspectRatio:r.string,maxDeviceAspectRatio:r.string,minHeight:m,maxHeight:m,minDeviceHeight:m,maxDeviceHeight:m,minWidth:m,maxWidth:m,minDeviceWidth:m,maxDeviceWidth:m,minColor:r.number,maxColor:r.number,minColorIndex:r.number,maxColorIndex:r.number,minMonochrome:r.number,maxMonochrome:r.number,minResolution:m,maxResolution:m,...Z},B={...q,...z};var ee={all:B};const te=e=>`not ${e}`,se=(e,t)=>{const s=O(e);return typeof t=="number"&&(t=`${t}px`),t===!0?s:t===!1?te(s):`(${s}: ${t})`},re=e=>e.join(" and "),ae=e=>{const t=[];return Object.keys(ee.all).forEach(s=>{const a=e[s];a!=null&&t.push(se(s,a))}),re(t)},ne=d.createContext(void 0),ce=e=>e.query||ae(e),D=e=>e?Object.keys(e).reduce((s,a)=>(s[O(a)]=e[a],s),{}):void 0,T=()=>{const e=d.useRef(!1);return d.useEffect(()=>{e.current=!0},[]),e.current},ie=e=>{const t=d.useContext(ne),s=()=>D(e)||D(t),[a,c]=d.useState(s);return d.useEffect(()=>{const i=s();X(a,i)||c(i)},[e,t]),a},oe=e=>{const t=()=>ce(e),[s,a]=d.useState(t);return d.useEffect(()=>{const c=t();s!==c&&a(c)},[e]),s},ue=(e,t)=>{const s=()=>K(e,t||{},!!t),[a,c]=d.useState(s),i=T();return d.useEffect(()=>{if(i){const o=s();return c(o),()=>{o&&o.dispose()}}},[e,t]),a},le=e=>{const[t,s]=d.useState(e.matches);return d.useEffect(()=>{const a=c=>{s(c.matches)};return e.addListener(a),s(e.matches),()=>{e.removeListener(a)}},[e]),t},ye=(e,t,s)=>{const a=ie(t),c=oe(e);if(!c)throw new Error("Invalid or missing MediaQuery!");const i=ue(c,a),o=le(i);return T(),d.useEffect(()=>{},[o]),d.useEffect(()=>()=>{i&&i.dispose()},[]),o};export{fe as D,xe as R,pe as s,ye as u};
