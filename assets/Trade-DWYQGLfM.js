import{e as pe,$ as he,a0 as _e,a1 as K,j as e,f as je,a2 as ge,B as v,u as j,a3 as be,L as ve,N as ce,O as Ne,a4 as S,n as z,r as b,a5 as W,a6 as H,S as oe,a7 as ye,a8 as Ce,a9 as B,F as G,aa as le,ab as Te,x as we,ac as me,ad as ke,ae as Fe,af as Se,ag as Ie,_ as q,ah as $e,ai as Ae,aj as k,ak as Me}from"./index-BKbFUXeB.js";import{T as ue,a as fe,b as F,c as J}from"./tabs-Ck_RT9xz.js";import{C as O}from"./CardLine-5L7xWDXj.js";import{t as $,R as Oe,N as ee}from"./RarityFilter-CxTKGFTd.js";import{C as te}from"./CardsTable-DGzKErez.js";import{A as L,a as Q,b as X}from"./alert-Kqn1TiIM.js";import{S as Y}from"./siren-D5WJpNx6.js";import{S as xe,u as Le,a as Pe,F as De,b as D,c as E,d as R,e as U,f as Ee,g as Re}from"./form-KgocR4o6.js";import{M,C as V}from"./useWindowDimensionsHook-CmD3SU4n.js";import"./Card-uSYmV4xv.js";import"./FancyCard-Bl25F02Q.js";import"./index-D85GSCbW.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ve=pe("copy",Ue);function ae(t){return he(_e,t)}const We=({friendId:t,className:n="",showCopyButton:s=!0})=>{const{toast:r}=K(),a=async()=>{try{await navigator.clipboard.writeText(t),r({title:"Friend ID copied to clipboard!",variant:"default",duration:2e3})}catch(o){console.error("Failed to copy friend ID:",o),r({title:"Failed to copy friend ID",variant:"destructive",duration:3e3})}};return t?e.jsxs("span",{className:je("inline-flex items-center gap-1",n),children:[e.jsx("span",{className:"font-mono",children:ge(t)}),s&&e.jsx(v,{variant:"ghost",size:"icon",onClick:a,className:"h-4 w-4 text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200","aria-label":"Copy friend ID",children:e.jsx(Ve,{className:"h-2.5 w-2.5"})})]}):null},se=({cards:t,selected:n,setSelected:s})=>{const r=[...t].sort((o,c)=>{const u=m=>{const p=m.split("-"),g=p[0]||"",h=p.length>1?parseInt(p[1],10):0;return{setName:g,cardNumber:h}},f=u(o.card_id),d=u(c.card_id);return f.setName!==d.setName?f.setName.localeCompare(d.setName):f.cardNumber-d.cardNumber});function a(o){function c(){n?.card_id===o.card_id?s(null):s(o)}return e.jsx("li",{className:"rounded cursor-pointer",onClick:c,children:e.jsx(O,{className:`w-full ${n?.card_id===o.card_id&&"bg-green-900"} hover:bg-neutral-600`,card_id:o.card_id,rarity:"hidden"})},o.card_id)}return e.jsx("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-2 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1",children:r.map(a)})})};function re(t){return t?e.jsx(O,{card_id:t.card_id,details:"hidden"}):"—"}const He=({yourId:t,friendId:n,yourCard:s,friendCard:r,setYourCard:a,setFriendCard:o})=>{const{t:c}=j("trade-matches"),{toast:u}=K(),f=be(),d=s&&r&&s.rarity===r.rarity;async function m(){if(!d)return;const p={offering_friend_id:t,receiving_friend_id:n,offer_card_id:s.card_id,receiver_card_id:r.card_id,status:"offered"};try{f.mutate(p)}catch(g){console.log("TradeOffer: Error inserting trade",g),u({title:c("tradeFailed"),variant:"default"})}a(null),o(null),u({title:c("tradeOffered"),variant:"default"})}return!s&&!r?e.jsx("div",{className:"flex rounded-lg border-1 border-neutral-700 border-solid p-2 w-full items-center justify-around text-center h-[206px] sm:h-[138px]",children:e.jsx("h4",{className:"text-lg font-medium",children:c("selectCardsToTrade")})}):e.jsxs("div",{className:"bg-neutral-900 rounded-lg border-1 border-neutral-700 border-solid p-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:c("youGive")}),re(s)]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:c("youReceive")}),re(r)]})]}),e.jsx(v,{className:"block w-full sm:w-1/2 mx-auto text-center",type:"button",variant:"outline",onClick:m,disabled:!d,children:c("offerTrades")})]})};function ne(t,n){const s=new Set(n),r=t.filter(a=>s.has(a)).map(a=>oe(a)).filter(a=>$.includes(a.rarity)&&ye.includes(a.expansion));return Object.groupBy(r,a=>a.rarity)}function Be(){const{t}=j(["trade-matches","common"]),{friendId:n}=ve(),{data:s}=ce(n),{data:r}=Ne(n),{data:a}=S(),{data:o=[]}=z(),[c,u]=b.useState(null),[f,d]=b.useState(null);if(!a)return null;if(s===null)return e.jsx("p",{className:"text-xl text-center py-8",children:t("notFound")});if(s===void 0||r===void 0)return e.jsxs("p",{className:"text-xl text-center py-8",children:[t("common:loading"),"..."]});if(!s.is_active_trading)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:t("inActiveTradePage",{username:s?.username})}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:t("inActiveTradeDescription")})]});const m=ne(H(o,a?.min_number_of_cards_to_keep),W(r,s.max_number_of_cards_wanted)),p=ne(H(r,s.min_number_of_cards_to_keep),W(o,a?.max_number_of_cards_wanted)),g=$.some(h=>(m[h]??[]).length>0&&(p[h]??[]).length>0);return e.jsxs("div",{className:"kap-4 justify-center w-full m-auto px-2",children:[e.jsxs("h1",{className:"mb-4",children:[e.jsx("span",{className:"text-2xl font-light",children:t("tradingWith")}),e.jsxs("span",{className:"text-2xl font-bold",children:[" ",s.username," "]}),e.jsx("span",{className:"block sm:inline text-sm",children:e.jsx(We,{friendId:s.friend_id})})]}),e.jsx(He,{yourId:a.friend_id,friendId:s.friend_id,yourCard:c,friendCard:f,setYourCard:u,setFriendCard:d}),!g&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:t("noPossibleTrades")}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:t("noPossibleTradesDescription")})]}),e.jsx("div",{className:"mt-8",children:$.map(h=>p[h]&&m[h]&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-2 text-center",children:["[ ",h," ]"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:t("youHave")}),e.jsx(se,{cards:m[h],selected:c,setSelected:u})]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:t("friendHas")}),e.jsx(se,{cards:p[h],selected:f,setSelected:d})]})]})]},h))})]})}function Ke(){const{t}=j("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(Q,{children:t("noCardsNeeded.title")}),e.jsx(X,{children:t("noCardsNeeded.description")})]})})}function ze(){const{t}=j("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(Q,{children:t("noTradeableCards.title")}),e.jsx(X,{children:t("noTradeableCards.description")})]})})}function Ge(){const{t}=j("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(Q,{children:t("notLoggedIn.title")}),e.jsx(X,{children:t("notLoggedIn.description")})]})})}function Qe(){const{t}=j("pages/trade"),{data:n}=Ce(),{data:s}=S(),{data:r=[]}=z(),[a,o]=b.useState([]),[c,u]=b.useState((s?.max_number_of_cards_wanted??1)-1),[f,d]=b.useState((s?.min_number_of_cards_to_keep??1)+1),[m,p]=b.useState("looking_for"),g=x=>(a.length===0?$:a).includes(x.rarity),h=x=>{const N=oe(x),P=r.find(y=>y.card_id===x)?.amount_owned??0;return{...N,amount_owned:P}},I=b.useMemo(()=>W(r,c+1).map(h),[r,c]),T=b.useMemo(()=>I.filter(g),[I,a]),i=b.useMemo(()=>H(r,f-1).map(h),[r,f]),_=b.useMemo(()=>i.filter(g),[i,a]),C=()=>{let x="";s?.is_public&&(x+=`${t("publicTradePage")} https://tcgpocketcollectiontracker.com/#/trade/${s?.friend_id}
`),s?.username&&(x+=`${t("friendID")} ${s.friend_id} (${s.username})

`),x+=`${t("lookingForCards")}
`;const N=T.sort((l,w)=>{const Z=l.expansion.localeCompare(w.expansion);return Z!==0?Z:l.rarity.localeCompare(w.rarity)});for(let l=0;l<N.length;l++)(l>0?N[l-1].expansion:"")!==N[l].expansion&&(x+=`
${N[l].set_details}:
`),x+=`${N[l].rarity} ${N[l].card_id} - ${N[l].name}
`;const P=T.map(l=>l.rarity);x+=`

${t("forTradeCards")}
`;const y=_.filter(l=>P.includes(l.rarity)).sort((l,w)=>l.rarity.localeCompare(w.rarity));for(let l=0;l<y.length;l++)(l>0?y[l-1].expansion:"")!==y[l].expansion&&(x+=`
${y[l].set_details}:
`),x+=`${y[l].rarity} ${y[l].card_id} - ${y[l].name}
`;return x},A=async()=>{const x=C();B({title:t("copiedInClipboard"),variant:"default",duration:3e3}),await navigator.clipboard.writeText(x)};return n?e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsxs(ue,{defaultValue:m,onValueChange:p,children:[e.jsxs("div",{className:"mx-auto max-w-[900px] flex flex-row flex-wrap align-center gap-x-4 gap-y-2",children:[e.jsxs(fe,{className:"flex-grow m-auto flex-wrap h-auto border-1 border-neutral-700 rounded-md",children:[e.jsx(F,{value:"looking_for",children:t("lookingFor")}),e.jsx(F,{value:"for_trade",children:t("forTrade")})]}),e.jsx(Oe,{rarityFilter:a,setRarityFilter:o,rarities:$}),e.jsxs("div",{className:"sm:mt-1 flex flex-row flex-wrap align-center gap-x-4 gap-y-1",children:[m==="looking_for"&&e.jsx(ee,{numberFilter:c,setNumberFilter:u,options:[0,1,2,3,4,5],labelKey:"maxNum"}),m==="for_trade"&&e.jsx(ee,{numberFilter:f,setNumberFilter:d,options:[2,3,4,5],labelKey:"minNum"}),e.jsx(v,{variant:"outline",onClick:A,children:"Copy to clipboard"})]})]}),e.jsxs("div",{className:"mx-auto max-w-[900px] mt-6",children:[e.jsx(J,{value:"looking_for",children:I?e.jsx(te,{cards:T,extraOffset:105,editable:!1}):e.jsx(Ke,{})}),e.jsx(J,{value:"for_trade",children:i?e.jsx(te,{cards:_,extraOffset:105,editable:!1}):e.jsx(ze,{})})]})]})}):e.jsx(Ge,{})}function Xe({partner:t}){const n=G(),{t:s}=j("trade-matches");return e.jsx("div",{className:"w-md",children:e.jsxs("div",{className:"flex justify-between items-center mb-2 mx-1",children:[e.jsx("p",{children:t.username}),e.jsx("span",{className:"flex gap-4",children:e.jsxs(v,{variant:"outline",className:"my-auto",onClick:()=>n(`/trade/${t.friend_id}`),children:[s("viewTradePartner"),e.jsx(le,{})]})})]})})}function Ye(){const{t}=j(["trade-matches","common"]),{data:n,isLoading:s}=Te();return s?e.jsx("p",{children:t("common:loading")}):n?.length?e.jsx("div",{className:"flex flex-col items-center mx-auto gap-6",children:n.map(r=>e.jsx(Xe,{partner:r},r.friend_id))}):e.jsx("p",{children:t("noTradePartners")})}const Ze=({row:t,selectedTradeId:n,setSelectedTradeId:s})=>{const{t:r}=j("trade-matches"),{data:a}=S();if(!a)return null;const o=t.offering_friend_id===a.friend_id?t.offer_card_id:t.receiver_card_id,c=t.offering_friend_id===a.friend_id?t.receiver_card_id:t.offer_card_id;function u(d){n===d.id?s(void 0):s(d.id)}const f=d=>{const m={offered:{icon:d.offering_friend_id===a.friend_id?"→":"←",color:"bg-amber-600"},accepted:{icon:"↔",color:"bg-lime-600"},declined:{icon:"X",color:"bg-stone-600"},finished:{icon:"✓",color:"bg-indigo-600"}};return e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{id:`tooltip-${d.id}`}),e.jsx("span",{className:`rounded-full text-center w-7 md:w-9 ${m[d.status].color}`,"data-tooltip-id":`tooltip-${d.id}`,"data-tooltip-content":r(`status.${d.status}`),children:m[d.status].icon})]})};return e.jsxs("li",{className:`flex cursor-pointer rounded gap-1 md:gap-4 p-1 ${n===t.id&&"bg-green-900"} hover:bg-neutral-500`,onClick:()=>u(t),children:[f(t),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full justify-between gap-1 md:gap-4",children:[e.jsx(O,{className:"sm:w-1/2",card_id:o,increment:-1}),e.jsx(O,{className:"sm:w-1/2",card_id:c,increment:1})]})]})};function qe({trades:t,update:n,viewHistory:s}){const{t:r}=j("trade-matches"),{toast:a}=K(),{data:o}=S(),{data:c=[]}=z(),u=we();function f(i){return i.offering_friend_id===o?.friend_id&&!i.offerer_ended||i.receiving_friend_id===o?.friend_id&&!i.receiver_ended}const d=s?t.filter(i=>!f(i)):t.filter(f),[m,p]=b.useState(void 0);if(!o)return null;const g=(i,_)=>({card_id:i,amount_owned:(c.find(C=>C.card_id===i)?.amount_owned??0)+_}),h=async i=>{if(i.offer_card_id!==i.receiver_card_id)if(i.offering_friend_id===o.friend_id){const _=[g(i.offer_card_id,-1),g(i.receiver_card_id,1)];u.mutate({updates:_}),a({title:r("collectionUpdated"),variant:"default"})}else if(i.receiving_friend_id===o.friend_id){const _=[g(i.offer_card_id,1),g(i.receiver_card_id,-1)];u.mutate({updates:_}),a({title:r("collectionUpdated"),variant:"default"})}else console.log(i,"can't match friend id")},I=i=>{const _=async x=>{await n(i.id,{status:x}),p(i.id)},C=async()=>{const x=i.offering_friend_id===o.friend_id?{offerer_ended:!0}:i.receiving_friend_id===o.friend_id?{receiver_ended:!0}:null;if(x===null){console.log(i," doesn't match your friend_id");return}await n(i.id,x),p(void 0)},A=i.offering_friend_id===o.friend_id&&i.offerer_ended||i.receiving_friend_id===o.friend_id&&i.receiver_ended;switch(i.status){case"offered":return e.jsxs(e.Fragment,{children:[i.receiving_friend_id===o.friend_id&&e.jsx(v,{type:"button",onClick:async()=>_("accepted"),children:r("actionAccept")}),e.jsx(v,{type:"button",onClick:async()=>_("declined"),children:i.receiving_friend_id===o.friend_id?r("actionDecline"):r("actionCancel")})]});case"accepted":return e.jsxs(e.Fragment,{children:[e.jsx(v,{type:"button",onClick:async()=>_("finished"),children:r("actionComplete")}),e.jsx(v,{type:"button",onClick:async()=>_("declined"),children:r("actionCancel")})]});case"declined":return A?null:e.jsx(v,{type:"button",onClick:C,children:r("actionHide")});case"finished":return A?null:e.jsxs(e.Fragment,{children:[e.jsx(v,{type:"button",onClick:async()=>{await h(i),await C()},children:r("actionUpdate")}),e.jsx(v,{type:"button",onClick:C,children:r("actionHide")})]});default:return console.log(`Unknown trade status ${i.status}`),null}},T=d.find(i=>i.id===m);return d.length===0?e.jsx("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-2 text-center",children:r("noActiveTrades")}):e.jsxs("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-1 sm:p-2",children:[e.jsxs("div",{className:"hidden sm:flex px-1",children:[e.jsx("div",{className:"w-9"}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:r("youGive")}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:r("youReceive")})]}),e.jsx("ul",{className:"flex flex-col gap-2 sm:gap-0",children:d.toSorted((i,_)=>i.created_at>_.created_at?-1:1).map(i=>e.jsx(Ze,{row:i,selectedTradeId:m,setSelectedTradeId:p},i.id))}),T&&e.jsx("div",{className:"flex gap-4 text-center items-center mt-2",children:I(T)})]})}function ie({friendId:t}){const n=G(),{t:s}=j("trade-matches"),{data:r}=me(),{data:a}=ce(t),o=ke(),[c,u]=b.useState(!1);async function f(d,m){o.mutate({id:d,trade:m})}return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2 mx-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-md",children:s("tradingWith")}),e.jsxs("span",{className:"text-md font-bold",children:[" ",a?.username||"loading"," "]})]}),e.jsxs("span",{className:"flex gap-4",children:[e.jsxs("label",{htmlFor:`history-${t}`,className:"my-auto flex items-center",children:[s("viewHistory"),e.jsx(xe,{id:`history-${t}`,className:"ml-2 my-auto",checked:c,onCheckedChange:u})]}),e.jsxs(v,{variant:"outline",className:"my-auto",onClick:()=>n(`/trade/${t}`),children:[s("openTradeWith"),e.jsx(le,{})]})]})]}),a!==null&&r&&e.jsx(qe,{trades:r.filter(d=>d.offering_friend_id===t||d.receiving_friend_id===t),update:f,viewHistory:c})]})}function Je(){const{t}=j("trade-matches"),{data:n}=S(),{data:s}=me();if(!s||!n)return null;if(s.length===0)return e.jsx("p",{children:t("noTradeOffers")});const r=de(s,n.friend_id),a=Object.fromEntries(Object.entries(r).map(([d,m])=>[d,Math.max(...m.map(p=>new Date(p.updated_at).getTime()))])),o=Object.keys(r).toSorted((d,m)=>a[m]-a[d]),c=de(s,n.friend_id,!0),u=Object.fromEntries(Object.entries(c).map(([d,m])=>[d,Math.max(...m.map(p=>new Date(p.updated_at).getTime()))])),f=Object.keys(c).toSorted((d,m)=>u[m]-u[d]);return e.jsxs("div",{className:"flex flex-col items-center mx-auto gap-12 sm:px-4 mb-12 w-full",children:[o.map(d=>e.jsx(ie,{friendId:d},d)),f.map(d=>e.jsx(ie,{friendId:d},d))]})}function de(t,n,s=!1){const r=t.filter(a=>s?a.offering_friend_id===n?a.offerer_ended:a.receiver_ended:a.offering_friend_id===n?!a.offerer_ended:!a.receiver_ended);return Object.groupBy(r,a=>a.offering_friend_id===n?a.receiving_friend_id:a.receiving_friend_id===n?a.offering_friend_id:(console.log("Fetched row does not match user friend_id",a),"undefined"))}function et(){const{t}=j("trade-matches"),{data:n}=S(),s=Fe(),r=Se({is_active_trading:Ie(),min_number_of_cards_to_keep:ae().min(1).max(10),max_number_of_cards_wanted:ae().min(1).max(10)}),a=Le({resolver:Pe(r),values:{is_active_trading:n?.is_active_trading||!1,min_number_of_cards_to_keep:n?.min_number_of_cards_to_keep||1,max_number_of_cards_wanted:n?.max_number_of_cards_wanted||1}}),o=async c=>{try{s.mutate({username:n?.username,is_active_trading:c.is_active_trading,min_number_of_cards_to_keep:c.min_number_of_cards_to_keep,max_number_of_cards_wanted:c.max_number_of_cards_wanted}),B({title:t("accountSaved"),variant:"default"})}catch(u){console.error("error saving account",u),B({title:t("errorSavingAccount"),variant:"destructive"})}};return!n||!n.username?e.jsx(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:t("noAccount")}):e.jsxs("div",{children:[e.jsx(De,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(o),className:"border-1 border-neutral-700 space-y-2 p-4 mx-auto",children:[e.jsx(D,{control:a.control,name:"is_active_trading",render:({field:c})=>e.jsx(E,{className:"flex flex-col items-start",children:e.jsx(R,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(U,{className:"flex sm:w-72",children:t("isActiveTrading")}),e.jsx("div",{className:"grow-1",children:e.jsx(xe,{checked:c.value,onCheckedChange:c.onChange})}),e.jsx(Ee,{className:"grow",children:c.value?"active":"disabled"}),e.jsx(M,{id:"activeInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(V,{className:"h-4 w-4","data-tooltip-id":"activeInput","data-tooltip-content":t("activeTradingInputTooltip")})]})})})}),e.jsx(D,{control:a.control,name:"min_number_of_cards_to_keep",render:({field:c})=>e.jsx(E,{className:"flex flex-col items-start",children:e.jsx(R,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(U,{className:"flex sm:w-72",children:t("minNumberOfCardsToKeep")}),e.jsx("div",{className:"grow-1",children:e.jsx(q,{className:"w-24",type:"number",...c})}),e.jsx(M,{id:"minInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(V,{className:"h-4 w-4","data-tooltip-id":"minInput","data-tooltip-content":t("minInputTooltip")})]})})})}),e.jsx(D,{control:a.control,name:"max_number_of_cards_wanted",render:({field:c})=>e.jsx(E,{className:"flex flex-col items-start",children:e.jsx(R,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(U,{className:"flex sm:w-72",children:t("maxNumberOfCardsWanted")}),e.jsx("div",{className:"grow-1",children:e.jsx(q,{className:"w-24",type:"number",...c})}),e.jsx(M,{id:"maxInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(V,{className:"h-4 w-4","data-tooltip-id":"maxInput","data-tooltip-content":t("maxInputTooltip")})]})})})}),e.jsx("div",{className:"w-full flex justify-end mt-8",children:e.jsx(v,{type:"submit",children:t("save")})})]})}),e.jsx(Re,{className:"mt-4"})]})}function ft(){const{t}=j("trade-matches"),n=$e(),s=G(),r=n.pathname.split("/").pop()||"offers";return b.useEffect(()=>{n.pathname==="/trade"&&s("/trade/offers")},[n.pathname,s]),e.jsxs(ue,{className:"flex flex-col mx-auto max-w-[900px]",value:r,onValueChange:a=>s(`/trade/${a}`),children:[e.jsxs(fe,{className:"gap-4 mb-6 rounded-lg border-b-1 border-neutral-700 border-solid dark:bg-transparent pb-2",children:[e.jsx(F,{className:"text-md",value:"cards",children:t("tabCards")}),e.jsx(F,{className:"text-md",value:"offers",children:t("tabOffers")}),e.jsx(F,{className:"text-md",value:"matches",children:t("tabMatches")}),e.jsx(F,{className:"text-md",value:"settings",children:t("tabSettings")})]}),e.jsxs(Ae,{children:[e.jsx(k,{path:"/",element:e.jsx(Me,{to:"/trade/offers",replace:!0})}),e.jsx(k,{path:"cards",element:e.jsx(Qe,{})}),e.jsx(k,{path:"offers",element:e.jsx(Je,{})}),e.jsx(k,{path:"matches",element:e.jsx(Ye,{})}),e.jsx(k,{path:"settings",element:e.jsx(et,{})}),e.jsx(k,{path:":friendId",element:e.jsx(Be,{})})]})]})}export{ft as default};
