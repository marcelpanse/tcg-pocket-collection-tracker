import{j as s}from"./query-vendor-DpGHCXpY.js";import{c as q,H as V,y as W,z as M,D as Q,E as X,F as Y,G as Z,S as ee,I as te,B as R,C as O,J as se}from"./index-Drn1N_VY.js";import{L as U,f as le,e as ie,r as ae}from"./react-vendor-DjlsVz29.js";import{T as ne,D as re,a as oe}from"./Filters-DXIdevOp.js";import"./i18n-vendor-DDmeScd6.js";import{C as ce}from"./chevron-first-Dgap7US7.js";import"./charts-vendor-D-Ae2kUX.js";import"./supabase-vendor-CP3OYKhD.js";import"./ui-vendor-9yhwxkpr.js";import"./xlsx-vendor-De4COjWB.js";import"./tabs-BkNsZvUQ.js";function me(e){const t=q.c(18),{deck:l}=e,c=`/decks/${l.id??""}`,N=l.id;let r;t[0]!==l.energy?(r=l.energy.map(de),t[0]=l.energy,t[1]=r):r=t[1];let o;t[2]!==r?(o=s.jsx("div",{className:"flex flex-wrap gap-1 items-center justify-center w-10",children:r}),t[2]=r,t[3]=o):o=t[3];let i;t[4]!==l.name?(i=s.jsx("h2",{className:"font-semibold",children:l.name}),t[4]=l.name,t[5]=i):i=t[5];let n;t[6]!==l.is_public||t[7]!==l.likes?(n=l.likes!==void 0?s.jsxs("span",{className:"ml-auto inline-flex gap-1",children:[s.jsx("span",{children:l.likes}),s.jsx(V,{})]}):s.jsx("span",{className:"ml-auto italic text-neutral-400 text-sm",children:l.is_public?"Public":"Private"}),t[6]=l.is_public,t[7]=l.likes,t[8]=n):n=t[8];let a;t[9]!==l.id||t[10]!==o||t[11]!==i||t[12]!==n?(a=s.jsxs("div",{className:"flex items-center gap-2 bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 rounded-md p-2",children:[o,i,n]},N),t[9]=l.id,t[10]=o,t[11]=i,t[12]=n,t[13]=a):a=t[13];let m;return t[14]!==l||t[15]!==c||t[16]!==a?(m=s.jsx(U,{to:c,state:l,children:a}),t[14]=l,t[15]=c,t[16]=a,t[17]=m):m=t[17],m}function de(e){return s.jsx("img",{src:`/images/energy/${e}.webp`,alt:e,className:"size-4"},e)}function Fe(){const e=q.c(54),t=le(),{kind:l}=ie();let c;e[0]!==l?(c=l&&M.includes(l)?l:"community",e[0]=l,e[1]=c):c=e[1];const N=c;let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[2]=r):r=e[2];let o;e[3]!==N?(o={kind:N,orderby:"popular",page:0,energy:r},e[3]=N,e[4]=o):o=e[4];const[i,n]=ae.useState(o),{data:a,isLoading:m,isError:B,error:H}=W(i);let w;e[5]!==t?(w=v=>{n(S=>({...S,kind:v,page:0})),t(`/decks/filter/${v}`,{replace:!0})},e[5]=t,e[6]=w):w=e[6];const I=w;let C;e[7]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(U,{to:"/decks/edit",children:s.jsxs(R,{className:"w-full",children:["New deck",s.jsx(O,{})]})}),e[7]=C):C=e[7];let d;e[8]!==i.kind||e[9]!==I?(d=s.jsx(ne,{className:"w-full",options:M,value:i.kind,onChange:I,show:he}),e[8]=i.kind,e[9]=I,e[10]=d):d=e[10];let f;e[11]!==i.kind||e[12]!==i.orderby?(f=i.kind==="community"&&s.jsx(re,{options:X,value:i.orderby,onChange:v=>n(S=>({...S,orderby:v})),label:"Sort by",show:Q}),e[11]=i.kind,e[12]=i.orderby,e[13]=f):f=e[13];let F;e[14]===Symbol.for("react.memo_cache_sentinel")?(F=v=>n(S=>({...S,energy:v})),e[14]=F):F=e[14];let p;e[15]!==i.energy?(p=s.jsx(oe,{options:Z,value:i.energy,onChange:F,show:Y}),e[15]=i.energy,e[16]=p):p=e[16];let x;e[17]!==d||e[18]!==f||e[19]!==p?(x=s.jsxs("div",{className:"flex flex-col gap-2",children:[C,d,f,p]}),e[17]=d,e[18]=f,e[19]=p,e[20]=x):x=e[20];const K=i.page+1;let u;e[21]!==K?(u=s.jsxs("span",{children:["Page ",K]}),e[21]=K,e[22]=u):u=e[22];let D;e[23]===Symbol.for("react.memo_cache_sentinel")?(D=()=>n(ue),e[23]=D):D=e[23];const A=i.page<=0;let E;e[24]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(ce,{}),e[24]=E):E=e[24];let h;e[25]!==A?(h=s.jsx(R,{variant:"outline",onClick:D,disabled:A,children:E}),e[25]=A,e[26]=h):h=e[26];let $;e[27]===Symbol.for("react.memo_cache_sentinel")?($=()=>n(xe),e[27]=$):$=e[27];const G=i.page<=0;let z;e[28]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(se,{}),e[28]=z):z=e[28];let g;e[29]!==G?(g=s.jsx(R,{variant:"outline",onClick:$,disabled:G,children:z}),e[29]=G,e[30]=g):g=e[30];let L;e[31]===Symbol.for("react.memo_cache_sentinel")?(L=()=>n(pe),e[31]=L):L=e[31];const J=!a?.hasNext;let P;e[32]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(O,{}),e[32]=P):P=e[32];let j;e[33]!==J?(j=s.jsx(R,{variant:"outline",onClick:L,disabled:J,children:P}),e[33]=J,e[34]=j):j=e[34];let b;e[35]!==a?(b=a&&s.jsxs("p",{className:"italic text-neutral-400",children:["Found ",a.count," decks"]}),e[35]=a,e[36]=b):b=e[36];let k;e[37]!==u||e[38]!==h||e[39]!==g||e[40]!==j||e[41]!==b?(k=s.jsxs("div",{className:"flex items-center gap-2",children:[u,h,g,j,b]}),e[37]=u,e[38]=h,e[39]=g,e[40]=j,e[41]=b,e[42]=k):k=e[42];let y;e[43]!==a||e[44]!==H||e[45]!==B||e[46]!==m?(y=m?s.jsx(ee,{size:"md",overlay:!0}):B||!a?s.jsx(te,{error:H??void 0}):a.decks.map(fe),e[43]=a,e[44]=H,e[45]=B,e[46]=m,e[47]=y):y=e[47];let _;e[48]!==k||e[49]!==y?(_=s.jsxs("div",{className:"flex flex-col gap-2 sm:w-xl",children:[k,y]}),e[48]=k,e[49]=y,e[50]=_):_=e[50];let T;return e[51]!==_||e[52]!==x?(T=s.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row sm:w-fit mx-auto px-1",children:[x,_]}),e[51]=_,e[52]=x,e[53]=T):T=e[53],T}function fe(e){return s.jsx(me,{deck:e},e.id)}function pe(e){return{...e,page:e.page+1}}function xe(e){return{...e,page:Math.max(e.page-1,0)}}function ue(e){return{...e,page:0}}function he(e){return`${Q(e)} decks`}export{Fe as default};
