import{r as o,s as h,j as y,v as j}from"./index-DLuvsuCK.js";function X({selected:a,setIsSelected:c,card:t,size:n="default"}){const s=o.useRef(null),[r,i]=o.useState({x:0,y:0}),[l,m]=o.useState(!1),w=o.useRef(P(e=>i(e),50)),f=e=>{w.current({x:e.clientX,y:e.clientY})},C=o.useCallback(()=>{m(!0),window.addEventListener("mousemove",f)},[]),M=o.useCallback(()=>{m(!1),window.removeEventListener("mousemove",f)},[]);let g=0,p=0;if(s.current&&l){const e=s.current.getBoundingClientRect(),u=e.left+e.width/2,d=e.top+e.height/2;g=r.x-u,p=r.y-d}const x=(e,u,d)=>Math.min(Math.max(e,u),d),E=l?x(g/4,-10,10):0,L=l?x(-p/4,-10,10):0,S={transform:`perspective(1000px)
                   rotateY(${E}deg)
                   rotateX(${L}deg)
                   scale(${l?1.04:1})`,transition:"transform 0.3s cubic-bezier(0.17, 0.67, 0.5, 1.03)",transformStyle:"preserve-3d",opacity:a?1:.5,width:n==="small"?"80px":"100%",height:n==="small"?"112px":"auto"},v=t.image?.split("/").at(-1),b=`/images/${h.language}/${v}`;return y.jsx("div",{style:{flex:"1 0 20%",perspective:"1000px",transformStyle:typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("firefox")?"flat":"preserve-3d",display:"flex",justifyContent:"center",alignItems:"center",zIndex:l?10:0},children:v&&y.jsx("img",{draggable:!1,loading:"lazy",onMouseDown:()=>c?.(!a),ref:s,className:"card-test",style:S,src:b,alt:j(t,h.language),onMouseEnter:C,onMouseLeave:M,onError:e=>{e.target.src=t.image}})})}const P=(a,c)=>{let t=0,n=null;return(...s)=>{const r=performance.now(),i=r-t;if(i<c){n||(n=setTimeout(()=>{t=performance.now(),n=null,a(...s)},c-i));return}t=r,a(...s)}};export{X as F};
