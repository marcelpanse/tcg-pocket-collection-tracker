import{$ as ae,a0 as ne,j as e,u as T,a1 as Q,a2 as ie,B as N,a3 as P,J as de,C as ce,M as X,N as le,K as F,o as H,r as g,T as I,a4 as R,a5 as U,a6 as $,L as V,O as B,a7 as oe,a8 as me,A as z,a9 as ue,aa as fe,ab as xe,ac as he,ad as q,ae as pe,af as W,ag as ge,ah as je,ai as _e,Z as G,G as be,aj as ve,H as Ne,ak as ye,al as S,am as Ce}from"./index-DgGwvT2j.js";import{T as Te,a as ke,b as we,c as Se,d as A}from"./Filters-Vwy-1eFQ.js";import{F as ee}from"./friend-id-display-DtPZHUHB.js";import{C as L}from"./CardLine-CYrmHgXV.js";import{C as $e}from"./Card-BJKCeoTR.js";import{C as Fe,g as Ie,u as Le}from"./filters-D5qW9lMZ.js";import{f as Ae}from"./utils-By0n8CQ0.js";import{A as te,a as Ee,b as Me}from"./alert-Cmihfiho.js";import{S as Oe}from"./index-MHbjL6K1.js";import{S as Pe}from"./SearchInput-CFP7PiCX.js";import{S as se,u as Re,a as Ue,F as ze,b as E,c as M,d as O,e as He,f as Ve,g as Be}from"./form-B_c6txeI.js";import{M as re,C as De}from"./react-tooltip.min-CSwDWev2.js";import"./FancyCard-BMv6sMQz.js";import"./trash-2-ByMK2UWi.js";import"./index-C61kyjGQ.js";function K(t){return ae(ne,t)}const Y=({cards:t,selected:n,setSelected:s})=>{const c=[...t].sort((f,i)=>{const l=x=>{const j=x.split("-"),p=j[0]||"",y=j.length>1?parseInt(j[1],10):0;return{setName:p,cardNumber:y}},o=l(f.card_id),m=l(i.card_id);return o.setName!==m.setName?o.setName.localeCompare(m.setName):o.cardNumber-m.cardNumber});function r(f){function i(){n?.card_id===f.card_id?s(null):s(f)}return e.jsx("li",{className:"rounded cursor-pointer",onClick:i,children:e.jsx(L,{className:`w-full ${n?.card_id===f.card_id&&"bg-green-900"} hover:bg-neutral-600`,card_id:f.card_id,rarity:"hidden"})},f.card_id)}return e.jsx("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-2 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1",children:c.map(r)})})};function Z(t){return t?e.jsx(L,{card_id:t.card_id,details:"hidden"}):"—"}const We=({yourId:t,friendId:n,yourCard:s,friendCard:c,setYourCard:r,setFriendCard:f})=>{const{t:i}=T("trade-matches"),{toast:l}=Q(),o=ie(),m=s&&c&&s.rarity===c.rarity;async function x(){if(!m)return;const j={offering_friend_id:t,receiving_friend_id:n,offer_card_id:s.card_id,receiver_card_id:c.card_id,status:"offered"};try{o.mutate(j)}catch(p){console.log("TradeOffer: Error inserting trade",p),l({title:i("tradeFailed"),variant:"default"})}r(null),f(null),l({title:i("tradeOffered"),variant:"default"}),P("Offer trade")}return!s&&!c?e.jsx("div",{className:"sticky top-0 z-10 flex rounded-lg border-1 bg-neutral-900 border-neutral-700 border-solid p-2 w-full items-center justify-around text-center h-[166px] sm:h-[110px]",children:e.jsx("h4",{className:"text-lg font-medium",children:i("selectCardsToTrade")})}):e.jsxs("div",{className:"sticky top-0 z-10 bg-neutral-900 rounded-lg border-1 border-neutral-700 border-solid p-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-x-4 gap-y-1 p-1",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:i("youGive")}),Z(s)]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:i("youReceive")}),Z(c)]})]}),e.jsx(N,{className:"block w-full sm:w-96 mx-auto mt-1 text-center",type:"button",variant:"outline",onClick:x,disabled:!m,children:i("offerTrades")})]})};function J(t,n){const s=new Set(n),c=t.filter(r=>s.has(r)).map(r=>I(r)).filter(r=>$.includes(r.rarity)&&oe.includes(r.expansion));return Object.groupBy(c,r=>r.rarity)}function Ge(){const{t}=T(["trade-matches","common"]),{friendId:n}=de(),[s]=ce(),{data:c,isLoading:r,isError:f}=X(n),{data:i=new Map,isLoading:l,isError:o}=le(n),{data:m}=F(),{data:x=new Map}=H(),[j,p]=g.useState(null),[y,h]=g.useState(()=>{const d=s.get("friend_card");return d?I(Number(d))??null:null});if(g.useEffect(()=>{const d=s.get("friend_card");if(!d||!i||!x)return;const v=I(Number(d));if(!v)return;const C=document.getElementById(v.rarity);C&&C.scrollIntoView({behavior:"smooth"})},[s,i,x]),!m)return null;if(c===null)return e.jsx("p",{className:"text-xl text-center py-8",children:t("notFound")});if(f||o)return e.jsx("p",{className:"text-xl text-center py-8",children:t("common:error")});if(r||l)return e.jsx("div",{className:"mx-auto mt-12 animate-spin rounded-full size-12 border-4 border-white border-t-transparent"});if(!c?.is_active_trading)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:t("inActiveTradePage",{username:c?.username})}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:t("inActiveTradeDescription")})]});const b=J(U(x,m.trade_rarity_settings),R(i,c.trade_rarity_settings)),a=J(U(i,c.trade_rarity_settings),R(x,m.trade_rarity_settings)),_=$.some(d=>(b[d]??[]).length>0&&(a[d]??[]).length>0);return e.jsxs("div",{className:"kap-4 justify-center w-full m-auto px-1 sm:px-2",children:[e.jsx("title",{children:`Trade with ${c.username} – TCG Pocket Collection Tracker`}),e.jsxs("div",{className:"mb-4 mx-1 flex justify-between",children:[e.jsxs("h1",{children:[e.jsx("span",{className:"text-2xl font-light",children:t("tradingWith")}),e.jsxs("span",{className:"text-2xl font-bold",children:[" ",c.username," "]}),e.jsx("span",{className:"block sm:inline text-sm",children:e.jsx(ee,{friendId:c.friend_id})})]}),e.jsx(V,{to:`/collection/${n}`,children:e.jsxs(N,{children:["Collection",e.jsx(B,{})]})})]}),e.jsx(We,{yourId:m.friend_id,friendId:c.friend_id,yourCard:j,friendCard:y,setYourCard:p,setFriendCard:h}),!_&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:t("noPossibleTrades")}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:t("noPossibleTradesDescription")})]}),$.map(d=>e.jsxs("div",{className:"mt-4",children:[e.jsxs("h3",{id:d,className:"text-xl font-semibold mb-2 text-center",children:["[ ",d," ]"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:t("youHave")}),b[d]?e.jsx(Y,{cards:b[d],selected:j,setSelected:p}):e.jsx("div",{className:"text-center text-neutral-500 rounded-lg border-1 border-neutral-700 border-solid p-2",children:"No cards to trade"})]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:t("friendHas")}),a[d]?e.jsx(Y,{cards:a[d],selected:y,setSelected:h}):e.jsx("div",{className:"text-center text-neutral-500  rounded-lg border-1 border-neutral-700 border-solid p-2",children:"No cards to trade"})]})]})]},d))]})}function Ke(){const{t}=T("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(te,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx(Ee,{children:t("notLoggedIn.title")}),e.jsx(Me,{children:t("notLoggedIn.description")})]})})}const Ye=["lookingFor","forTrade"];function Ze(){const{t}=T(["pages/trade","filters"]),{data:n}=me(),{data:s,isLoading:c}=F(),{data:r,isLoading:f}=H(),[i,l]=g.useState([]),[o,m]=g.useState("lookingFor"),x=d=>(i.length===0?$:i).includes(d.rarity),j=d=>{if(!r)throw new Error("populateCards called before collection loaded");const v=I(d),C=r.get(d)?.amount_owned??0;return{...v,amount_owned:C}},p=g.useMemo(()=>s&&r&&R(r,s.trade_rarity_settings).map(j),[r,s]),y=g.useMemo(()=>p?.filter(x),[p,i]),h=g.useMemo(()=>s&&r&&U(r,s.trade_rarity_settings).map(j),[r,s]),b=g.useMemo(()=>h?.filter(x),[h,i]);if(c||f)return e.jsx("div",{className:"mx-auto mt-12 animate-spin rounded-full size-12 border-4 border-white border-t-transparent"});if(!n||!s)return e.jsx(Ke,{});if(!y||!b)return e.jsx("p",{className:"text-xl text-center py-8",children:"Something went wrong"});const a=()=>{let d="";s?.is_public&&(d+=`${t("publicTradePage")} https://tcgpocketcollectiontracker.com/#/trade/${s?.friend_id}
`),s?.username&&(d+=`${t("friendID")} ${s.friend_id} (${s.username})

`),d+=`${t("lookingForCards")}
`;const v=y.sort((u,w)=>{const D=u.expansion.localeCompare(w.expansion);return D!==0?D:u.rarity.localeCompare(w.rarity)});for(let u=0;u<v.length;u++)(u>0?v[u-1].expansion:"")!==v[u].expansion&&(d+=`
${v[u].set_details}:
`),d+=`${v[u].rarity} ${v[u].card_id} - ${v[u].name}
`;const C=y.map(u=>u.rarity);d+=`

${t("forTradeCards")}
`;const k=b.filter(u=>C.includes(u.rarity)).sort((u,w)=>u.rarity.localeCompare(w.rarity));for(let u=0;u<k.length;u++)(u>0?k[u-1].expansion:"")!==k[u].expansion&&(d+=`
${k[u].set_details}:
`),d+=`${k[u].rarity} ${k[u].card_id} - ${k[u].name}
`;return d},_=async()=>{const d=a();z({title:t("copiedInClipboard"),variant:"default",duration:3e3}),await navigator.clipboard.writeText(d)};return e.jsx(Fe,{cards:o==="lookingFor"?y:b,render:d=>e.jsx($e,{card:d,editable:!1}),children:e.jsxs("div",{className:"flex flex-wrap gap-2 mx-2 mb-2",children:[e.jsx(Te,{options:Ye,value:o,onChange:m,show:t}),e.jsx(ke,{options:$,value:i,onChange:l,show:Ae,asChild:!0}),e.jsx(N,{variant:"outline",onClick:_,children:t("copyToClipboard")})]})})}function Je(){const{t}=T(["trade-matches","common"]),n=g.useRef(null),[s,c]=g.useState(""),[r,f]=g.useState(),[i,l]=g.useState(!1),o=g.useMemo(()=>Ie({search:s,rarity:[...$]},new Map),[s]),{data:m,isLoading:x,isError:j}=ue(i,r),p=Le({getScrollElement:()=>n.current,count:o.length,getItemKey:h=>o[h].card_id,estimateSize:()=>32});if(!i)return e.jsxs("div",{className:"sm:w-sm mx-auto",children:[e.jsx(Pe,{setValue:c}),e.jsx("div",{ref:n,className:"my-2 h-96 rounded border border-neutral-700 px-1 overflow-y-auto",children:e.jsx("ul",{style:{height:`${p.getTotalSize()}px`},className:"relative",children:p.getVirtualItems().map(h=>{const b=o[h.index];return e.jsx("button",{type:"button",className:"absolute top-0 left-0 w-full cursor-pointer",style:{height:`${h.size}px`,transform:`translateY(${h.start}px)`},onClick:()=>f(a=>a===b.internal_id?void 0:b.internal_id),children:e.jsx(L,{className:`w-full ${r===b.internal_id&&"bg-green-900"} hover:bg-neutral-600`,card_id:b.card_id})},h.key)})})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{className:"w-1/2",disabled:!r,onClick:()=>{l(!0)},children:r?`Search ${I(r)?.name}`:"Select card to search"}),e.jsx(N,{className:"w-1/2",onClick:()=>{f(void 0),l(!0)},children:"Search all cards"})]})]});if(x)return e.jsxs("p",{className:"text-xl text-center py-8",children:[t("common:loading"),e.jsx("br",{}),t("longOperation")]});if(j||!m)return e.jsx("p",{className:"text-xl text-center py-8",children:t("common:error")});if(m.length===0)return e.jsx("p",{className:"text-xl text-center py-8",children:t("noTradePartners")});const y=r?`?friend_card=${r}`:"";return e.jsx("div",{className:"flex flex-col gap-4",children:m.map(h=>e.jsxs("div",{className:"max-w-md w-full flex justify-between items-center mx-auto px-4",children:[e.jsx("p",{className:"mr-2",children:h.username}),e.jsx(V,{to:`/trade/${h.friend_id}${y}`,children:e.jsxs(N,{variant:"outline",className:"my-auto",children:[t("viewTradePartner",{tradeMatches:h.trade_matches}),e.jsx(B,{})]})})]},h.friend_id))})}const Qe=({row:t,selectedTradeId:n,setSelectedTradeId:s})=>{const{t:c}=T("trade-matches"),{data:r}=F();if(!r)return null;const f=t.offering_friend_id===r.friend_id?t.offer_card_id:t.receiver_card_id,i=t.offering_friend_id===r.friend_id?t.receiver_card_id:t.offer_card_id;function l(m){n===m.id?s(void 0):s(m.id)}const o=m=>{const x={offered:{icon:m.offering_friend_id===r.friend_id?"→":"←",color:"bg-amber-600"},accepted:{icon:"↔",color:"bg-lime-600"},declined:{icon:"X",color:"bg-stone-600"},finished:{icon:"✓",color:"bg-indigo-600"}};return e.jsxs("div",{className:"flex items-center",children:[e.jsx(re,{id:`tooltip-${m.id}`}),e.jsx("span",{className:`rounded-full text-center w-7 md:w-9 ${x[m.status].color}`,"data-tooltip-id":`tooltip-${m.id}`,"data-tooltip-content":c(`status.${m.status}`),children:x[m.status].icon})]})};return e.jsxs("li",{className:`flex cursor-pointer rounded gap-1 md:gap-4 p-1 ${n===t.id&&"bg-green-900"} hover:bg-neutral-500`,onClick:()=>l(t),children:[o(t),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full justify-between gap-1 md:gap-4",children:[e.jsx(L,{className:"sm:w-1/2",card_id:f,increment:-1}),e.jsx(L,{className:"sm:w-1/2",card_id:i,increment:1})]})]})};function Xe({trades:t,viewHistory:n}){const{t:s}=T("trade-matches"),{toast:c}=Q(),{data:r}=F(),{data:f=new Map}=H(),i=fe();function l(a){return a.offering_friend_id===r?.friend_id&&!a.offerer_ended||a.receiving_friend_id===r?.friend_id&&!a.receiver_ended}const o=n?t.filter(a=>!l(a)):t.filter(l),[m,x]=g.useState(void 0),j=xe();if(!r)return null;const p=(a,_)=>{const d=he(a);return{card_id:a,internal_id:d,amount_owned:(f.get(d)?.amount_owned??0)+_}},y=async a=>{if(a.offer_card_id!==a.receiver_card_id)if(a.offering_friend_id===r.friend_id){const _=[p(a.offer_card_id,-1),p(a.receiver_card_id,1)];i.mutate({updates:_}),c({title:s("collectionUpdated"),variant:"default"})}else if(a.receiving_friend_id===r.friend_id){const _=[p(a.offer_card_id,1),p(a.receiver_card_id,-1)];i.mutate({updates:_}),c({title:s("collectionUpdated"),variant:"default"})}else console.log(a,"can't match friend id")},h=a=>{const _=async C=>{j.mutate({id:a.id,trade:{status:C}}),x(a.id),P(`Updated trade: ${C}`)},d=async()=>{const C=a.offering_friend_id===r.friend_id?{offerer_ended:!0}:a.receiving_friend_id===r.friend_id?{receiver_ended:!0}:null;if(C===null){console.log(a," doesn't match your friend_id");return}j.mutate({id:a.id,trade:C}),x(void 0),P("Updated trade: ended")},v=a.offering_friend_id===r.friend_id&&a.offerer_ended||a.receiving_friend_id===r.friend_id&&a.receiver_ended;switch(a.status){case"offered":return e.jsxs(e.Fragment,{children:[a.receiving_friend_id===r.friend_id&&e.jsx(N,{type:"button",onClick:async()=>_("accepted"),children:s("actionAccept")}),e.jsx(N,{type:"button",onClick:async()=>_("declined"),children:a.receiving_friend_id===r.friend_id?s("actionDecline"):s("actionCancel")})]});case"accepted":return e.jsxs(e.Fragment,{children:[e.jsx(N,{type:"button",onClick:async()=>_("finished"),children:s("actionComplete")}),e.jsx(N,{type:"button",onClick:async()=>_("declined"),children:s("actionCancel")})]});case"declined":return v?null:e.jsx(N,{type:"button",onClick:d,children:s("actionHide")});case"finished":return v?null:e.jsxs(e.Fragment,{children:[e.jsx(N,{type:"button",onClick:async()=>{await y(a),await d()},children:s("actionUpdate")}),e.jsx(N,{type:"button",onClick:d,children:s("actionHide")})]});default:return console.log(`Unknown trade status ${a.status}`),null}},b=o.find(a=>a.id===m);return o.length===0?null:e.jsxs("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-1 sm:p-2",children:[e.jsxs("div",{className:"hidden sm:flex px-1",children:[e.jsx("div",{className:"w-9"}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:s("youGive")}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:s("youReceive")})]}),e.jsx("ul",{className:"flex flex-col gap-2 sm:gap-0",children:o.toSorted((a,_)=>a.created_at>_.created_at?-1:1).map(a=>e.jsx(Qe,{row:a,selectedTradeId:m,setSelectedTradeId:x},a.id))}),b&&e.jsx("div",{className:"flex gap-4 text-center items-center mt-2",children:h(b)})]})}function qe({friendId:t}){const{t:n}=T("trade-matches"),{data:s}=q(),{data:c}=X(t),[r,f]=g.useState(!1);if(!s)return null;const i=s.filter(l=>l.offering_friend_id===t||l.receiving_friend_id===t);return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1 mx-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-md",children:n("tradingWith")}),e.jsxs("span",{className:"text-md font-bold",children:[" ",c?.username||"loading"," "]}),c&&e.jsx(ee,{friendId:c.friend_id,showFriendId:!1,className:"ml-1"})]}),e.jsxs("span",{className:"flex gap-4",children:[e.jsxs("label",{htmlFor:`history-${t}`,className:"my-auto flex items-center",children:[n("viewHistory"),e.jsx(se,{id:`history-${t}`,className:"ml-2 my-auto",checked:r,onCheckedChange:f})]}),e.jsx(V,{to:`/trade/${t}`,children:e.jsxs(N,{variant:"outline",className:"my-auto",children:[n("openTradeWith"),e.jsx(B,{})]})})]})]}),c!==null&&e.jsx(Xe,{trades:i,viewHistory:r})]})}function et(){const{t}=T("trade-matches"),{data:n}=F(),{data:s}=q();if(!s||!n)return null;if(s.length===0)return e.jsx("p",{children:t("noTradeOffers")});const c=st(s,n.friend_id),r=Object.fromEntries(Object.entries(c).map(([l,o])=>[l,+(tt(o,n.friend_id).length===0)])),f=Object.fromEntries(Object.entries(c).map(([l,o])=>[l,Math.max(...o.map(m=>new Date(m.updated_at).getTime()))])),i=Object.keys(c).toSorted((l,o)=>r[l]!==r[o]?r[l]-r[o]:f[o]-f[l]);return e.jsx("div",{className:"flex flex-col items-center mx-auto gap-6 sm:px-4 mb-12 w-full",children:i.map(l=>e.jsx(qe,{friendId:l},l))})}function tt(t,n){return t.filter(s=>s.offering_friend_id===n?!s.offerer_ended:!s.receiver_ended)}function st(t,n){return Object.groupBy(t,s=>s.offering_friend_id===n?s.receiving_friend_id:s.receiving_friend_id===n?s.offering_friend_id:(console.log("Fetched row does not match user friend_id",s),"undefined"))}function rt(){const{t}=T("trade-matches"),{data:n}=F(),s=pe(),c=W({is_active_trading:_e(),trade_rarity_settings:ge(W({rarity:je(be),to_collect:K().min(0).max(100),to_keep:K().min(0).max(100)}))}),r=Re({resolver:Ue(c),values:{is_active_trading:n?.is_active_trading||!1,trade_rarity_settings:n?.trade_rarity_settings||[]}}),f=async i=>{try{s.mutate({username:n?.username,is_active_trading:i.is_active_trading,trade_rarity_settings:i.trade_rarity_settings}),z({title:t("accountSaved"),variant:"default"})}catch(l){console.error("error saving account",l),z({title:t("errorSavingAccount"),variant:"destructive"})}};return!n||!n.username?e.jsx(te,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:t("noAccount")}):e.jsxs("div",{children:[e.jsx(ze,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(f),className:"border-1 border-neutral-700 space-y-2 p-4 mx-auto",children:[e.jsx(E,{control:r.control,name:"is_active_trading",render:({field:i})=>e.jsx(M,{className:"flex flex-col items-start",children:e.jsx(O,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(He,{className:"flex sm:w-72",children:t("isActiveTrading")}),e.jsx("div",{className:"grow-1",children:e.jsx(se,{checked:i.value,onCheckedChange:i.onChange})}),e.jsx(Ve,{className:"grow",children:i.value?"active":"disabled"}),e.jsx(re,{id:"activeInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(De,{className:"h-4 w-4","data-tooltip-id":"activeInput","data-tooltip-content":t("activeTradingInputTooltip")})]})})})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-x-4 mb-2",children:[e.jsx("div",{className:"flex-1",children:t("rarity")}),e.jsx("div",{className:"flex-1",children:t("toCollect")}),e.jsx("div",{className:"flex-1",children:t("toKeep")})]}),r.watch("trade_rarity_settings").map((i,l)=>e.jsxs("div",{className:"flex items-center gap-x-4 mb-2",children:[e.jsx("div",{className:"flex-1",children:i.rarity}),e.jsx(E,{control:r.control,name:`trade_rarity_settings.${l}.to_collect`,render:({field:o})=>e.jsx(M,{className:"flex-1",children:e.jsx(O,{children:e.jsx(G,{className:"w-24",type:"number",...o})})})}),e.jsx(E,{control:r.control,name:`trade_rarity_settings.${l}.to_keep`,render:({field:o})=>e.jsx(M,{className:"flex-1",children:e.jsx(O,{children:e.jsx(G,{className:"w-24",type:"number",...o})})})})]},l))]}),e.jsx("div",{className:"w-full flex justify-end mt-8",children:e.jsx(N,{type:"submit",children:t("save")})})]})}),e.jsx(Be,{className:"mt-4"})]})}function _t(){const{t}=T("trade-matches"),n=ve(),s=Ne(),c=n.pathname.split("/").pop()||"offers";return g.useEffect(()=>{n.pathname==="/trade"&&s("/trade/offers")},[n.pathname,s]),e.jsxs(we,{className:"flex flex-col mx-auto max-w-[900px]",value:c,onValueChange:r=>s(`/trade/${r}`),children:[e.jsxs(Se,{className:"gap-4 mb-6 rounded-lg border-b-1 border-neutral-700 border-solid dark:bg-transparent pb-2",children:[e.jsx(A,{className:"text-md",value:"cards",children:t("tabCards")}),e.jsx(A,{className:"text-md",value:"offers",children:t("tabOffers")}),e.jsx(A,{className:"text-md",value:"matches",children:t("tabMatches")}),e.jsx(A,{className:"text-md",value:"settings",children:t("tabSettings")})]}),e.jsxs(ye,{children:[e.jsx(S,{path:"/",element:e.jsx(Ce,{to:"/trade/offers",replace:!0})}),e.jsx(S,{path:"cards",element:e.jsx(Ze,{})}),e.jsx(S,{path:"offers",element:e.jsx(et,{})}),e.jsx(S,{path:"matches",element:e.jsx(Je,{})}),e.jsx(S,{path:"settings",element:e.jsx(rt,{})}),e.jsx(S,{path:":friendId",element:e.jsx(Ge,{})})]})]})}export{_t as default};
