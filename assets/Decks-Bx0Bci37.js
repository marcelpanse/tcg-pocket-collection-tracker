import{p as v,Q as C,r as u,T as x,j as e,L as g,D as w,J as S,v as k}from"./index-ClbyXLjL.js";import{S as D}from"./SearchInput-8UAaaJ83.js";import{F as A}from"./FancyCard-Zy8KTvDU.js";import{s as T}from"./utils-CRnu-1y-.js";import{C as j}from"./chevron-right-BqPbAOle.js";const B=[],I={S:"The best decks are in the S tier, which are decks that have amazing consistency on top of being easy to build and function with minimal difficulty.","A+":"A+ Tier Decks are some of the most powerful metagame options. These can function at the highest level, but face competition against S tiers.",A:"A Tier Decks are also powerful, and can also function at a high level, but may not be as easy to pilot as the S Tiers.",B:"B Tier Decks are decent, but would require more skill to achieve success with.",C:"C Tier consists of the game's Rogue Decks. These are great for countering specific threats but require skilled pilots and specific circumstances to succeed with.",D:"D Tier include decks that used to be stronger, and those kept to date with the latest sets, but lacks the consistency to keep up with the heavier hitters."},L={D:"bg-gray-600",C:"bg-yellow-600",B:"bg-blue-600",A:"bg-green-600","A+":"bg-orange-600",S:"bg-red-600 font-bold"},_=({deck:s})=>{const{data:l}=v(),{setSelectedCardId:c}=C(),[o,i]=u.useState(!1),m=I[s.rank],f=s.cards.map(t=>x(t)).filter((t,a)=>t&&!h(s.cards,t,a));function h(t,a,n){if(!l)return!0;const r=t.slice(0,n+1).filter(d=>d===a.card_id).length,N=a.alternate_versions.reduce((d,y)=>d+(l.get(y)?.amount_owned??0),0);return r<=N}const b=u.useMemo(()=>{const t=s.cards.map(r=>x(r)?.internal_id).filter(r=>!!r),a=new Map;for(const r of t)a.set(r,(a.get(r)??0)+1);return`/decks/edit?${new URLSearchParams({title:s.name,energy:s.energy.join(","),cards:T(a)}).toString()}`},[s.name,s.cards,s.energy]);return e.jsxs("div",{className:"flex flex-col rounded border-1 border-neutral-700 bg-neutral-800 p-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsxs("button",{className:"flex flex-1 flex-col-reverse sm:flex-row gap-y-1 gap-x-4 cursor-pointer",type:"button",tabIndex:0,"aria-expanded":o,onClick:()=>i(!o),children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 sm:min-w-40",children:[e.jsx("span",{className:`mx-1 transition-transform duration-300 ${o?"rotate-180":"rotate-90"}`,"aria-hidden":"true",children:"â–²"}),e.jsx("img",{src:s.img_url,alt:s.name,className:"w-20 object-cover object-[0%_20%]"}),e.jsx("span",{className:`${L[s.rank]} p-1 h-fit rounded w-7 text-center`,title:m,children:s.rank}),e.jsx("div",{className:"flex flex-col gap-1 min-w-4",children:s.energy.map(t=>e.jsx("img",{src:`/images/energy/${t}.webp`,alt:t,className:"h-4 w-4"},t))})]}),e.jsxs("div",{className:"flex flex-wrap items-baseline my-auto gap-x-2",children:[e.jsx("h2",{className:"text-nowrap font-semibold text-md sm:text-lg md:text-2xl",children:s.name}),f.length>0&&e.jsxs("span",{className:"text-nowrap",children:[f.length," missing"]})]})]}),e.jsx(g,{className:"w-full sm:w-fit mt-2 sm:my-auto",to:b,children:e.jsxs(w,{className:"w-full",children:["Copy and edit",e.jsx(j,{})]})})]}),e.jsx("div",{className:`overflow-hidden transition-[max-height,opacity] duration-300 ease-in-out ${o?"max-h-[2500px] opacity-100":"max-h-0 opacity-0"}`,"aria-hidden":!o,children:e.jsx("div",{className:"flex gap-x-2 gap-y-2 flex-1 flex-wrap items-start justify-start pt-2 px-1",children:s.cards.map((t,a)=>{const n=x(t),r=n?h(s.cards,n,a):!1;return n&&e.jsxs("div",{className:"group flex w-fit max-w-30 flex-col items-center rounded-lg cursor-pointer",children:[e.jsx("button",{type:"button",className:"cursor-pointer",onClick:()=>c(n.internal_id),children:e.jsx(A,{card:n,selected:r})}),e.jsx("span",{className:"font-semibold overflow-hidden pt-2 text-[12px] text-center",children:S(n,k.language)})]},`${n.name}-${a}`)})})})]},s.name)},p={D:0,C:1,B:2,A:3,"A+":4,S:5};function q(){const s=B,[l,c]=u.useState(""),o=s.filter(i=>i.name.toLowerCase().includes(l.toLowerCase())).sort((i,m)=>(p[m.rank]??999)-(p[i.rank]??999));return e.jsxs("div",{className:"flex flex-col gap-4 mx-auto max-w-[1360px] px-1",children:[e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:justify-between",children:[e.jsx(D,{className:"w-full sm:max-w-96",setValue:c}),e.jsx(g,{to:"/decks/edit",className:"w-full sm:max-w-48",children:e.jsxs(w,{className:"w-full",children:["New deck",e.jsx(j,{})]})})]}),o.map(i=>e.jsx(_,{deck:i},i.name))]})}export{q as default,p as rankOrder};
