import{j as e,x as X,s as Z,f as Y,u as L,r as u,y as _e,B as C,D as ee,z as te,A as ne,C as ae,M as Te,E as Se,F as oe,G as Ae,H as se,J as Me,K as Re,l as Oe,L as Fe,N as re,m as le,O as R,Q as ie,S as ce,T as Ee,U as Ie,V as Be,W as De,X as Le,Y as ze,Z as Ue,_ as $e,$ as He,a0 as de,a1 as Ze,v as V,a2 as Ge,a3 as Ve,a4 as qe,t as Ke,a5 as Qe,a6 as We,a7 as Je,n as Xe}from"./index-g8d6-R_R.js";import{A as ue,b as pe,a as Ye}from"./alert-C9hWBkxs.js";import{R as q,D as et,u as tt}from"./index-B-0BcuLO.js";import{C as nt}from"./CardsTable-CjMxtpVf.js";import{F as at}from"./FancyCard-CIJwzZxQ.js";import{P as ot}from"./Card-Duo4rJCm.js";import{S as K}from"./SearchInput-DOdMlOGm.js";import{M as st,C as rt,D as M,e as lt,T as D,a as it,c as ct}from"./useWindowDimensionsHook-SB8h2YnQ.js";import{S as dt}from"./siren-CL2gw7Y0.js";import"./utils-kMfpb3OF.js";import"./index-D_L_S3pD.js";function ut({card:a,onSelect:n,selected:i}){const c=()=>{n(a.card_id,!i)};return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{type:"button",onClick:c,children:e.jsx(at,{card:a,selected:i,size:"small"})}),e.jsx("p",{className:"text-xs text-center mt-1",children:X(a,Z.language)})]})}const pt=({children:a,className:n})=>e.jsx("div",{className:Y("max-h-[300px] overflow-y-auto border border-gray-300 rounded-md",n),style:{maxHeight:"300px"},children:a});function xt({filteredCards:a}){const{t:n}=L("bulk-update"),[i,c]=u.useState(!1),[l,o]=u.useState(0),[d,x]=u.useState({}),[g,p]=u.useState(!1),[v,j]=u.useState(!1),m=_e(),b=async(t,r)=>{m.mutate({updates:t.map(oe).filter(s=>!!s).map(s=>({card_id:s.card_id,rarity:s.rarity,internal_id:Ae(s.card_id),amount_owned:r}))})},U=a.length===0,P=u.useMemo(()=>a.reduce((t,r)=>(t.some(s=>s.card_id===r.card_id)||t.push(r),t),[]),[a]);u.useEffect(()=>{if(i){const t=P.reduce((r,s)=>(r[s.card_id]=!0,r),{});x(t)}i||j(!1)},[i]);const F=(t,r)=>{x(s=>({...s,[t]:r}))},E=()=>{const t=P.reduce((r,s)=>(r[s.card_id]=!0,r),{});x(t)},T=()=>{const t=P.reduce((r,s)=>(r[s.card_id]=!1,r),{});x(t)},y=Object.values(d).filter(t=>t).length,k=()=>{l!==null&&(l>0?o(t=>(t||0)-1):l===0&&o(0)),j(!0)},I=()=>{o(t=>t?t+1:1),j(!0)},B=t=>{const r=t.target.value.trim();if(r==="")o(0);else{const s=Number(r);Number.isNaN(s)?o(0):o(s<0?0:s)}j(!0)},$=async()=>{p(!0);const t=Object.entries(d).filter(([r,s])=>s).map(([r])=>r);t.length>0&&(await b(t,l),c(!1),p(!1))};return e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"hidden sm:block",variant:"outline",onClick:()=>c(!0),disabled:U,children:n("buttonTitle")}),e.jsx(ee,{open:i,onOpenChange:c,children:e.jsxs(te,{className:"max-w-2xl",children:[e.jsx(ne,{children:e.jsx(ae,{children:n("title")})}),e.jsx(ue,{variant:"destructive",children:e.jsxs(pe,{children:[n("alert.beforeCount"),e.jsxs("strong",{children:[e.jsx("span",{style:{fontSize:"1.25rem",color:"#f3f4f6",padding:"0.25rem 0.5rem",borderRadius:"0.375rem",margin:"0 0.25rem"},children:y})," ",n("alert.cards")]})," ",n("alert.afterCount"),e.jsx("strong",{children:n("alert.warning")})]})}),e.jsxs("div",{className:"flex gap-2 justify-between",children:[e.jsx(C,{variant:"outline",onClick:T,children:n("deselectAll")}),e.jsx(C,{variant:"outline",onClick:E,children:n("selectAll")})]}),e.jsx(pt,{className:"h-64 rounded-md border p-4",children:e.jsx("div",{className:"grid grid-cols-5 gap-2",children:P.map(t=>e.jsx(ut,{card:t,onSelect:F,selected:d[t.card_id]},t.card_id))})}),e.jsxs("div",{className:"flex items-center gap-x-1 justify-center",children:[e.jsx(C,{variant:"ghost",size:"icon",onClick:k,disabled:l===null||l===0,className:"rounded-full",children:e.jsx(Te,{size:14})}),e.jsx("input",{type:"text",min:"0",value:l??0,onChange:B,placeholder:n("enterAmount"),className:"w-7 text-center border-none rounded",onFocus:t=>t.target.select()}),e.jsx(C,{variant:"ghost",size:"icon",onClick:I,className:"rounded-full",children:e.jsx(ot,{size:14})})]}),e.jsxs(Se,{children:[e.jsx(C,{variant:"outline",onClick:()=>c(!1),children:n("cancel")}),e.jsxs(C,{onClick:$,disabled:y===0||g||!v,variant:"default",children:[g&&e.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),e.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),n(g?"batchProcessing":"batchUpdate")]})]})]})})]})}function mt(a,n){if(a.length===0)return n.length;if(n.length===0)return a.length;let i=Array(a.length+1).fill(0).map((l,o)=>o),c=Array(a.length+1);for(let l=1;l<=n.length;l++){c[0]=l;for(let o=1;o<=a.length;o++){const d=a[o-1]===n[l-1]?0:1;c[o]=Math.min(i[o]+1,c[o-1]+1,i[o-1]+d)}[i,c]=[c,i]}return i[a.length]}const ht=({allTextSearch:a,setAllTextSearch:n})=>{const{t:i}=L("search-input");return e.jsxs("div",{className:"flex items-center space-x-2 text-white/50",children:[e.jsx("input",{type:"checkbox",id:"checkbox",checked:a,onChange:()=>n(!a),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"checkbox",className:"text-xs",children:i("allTextLabel")}),e.jsx(st,{id:"allTextSearch",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(rt,{className:"h-4 w-4","data-tooltip-id":"allTextSearch","data-tooltip-content":i("allTextTooltip")})]})};var z="Popover",[xe]=Oe(z,[se]),O=se(),[ft,N]=xe(z),me=a=>{const{__scopePopover:n,children:i,open:c,defaultOpen:l,onOpenChange:o,modal:d=!1}=a,x=O(n),g=u.useRef(null),[p,v]=u.useState(!1),[j,m]=Me({prop:c,defaultProp:l??!1,onChange:o,caller:z});return e.jsx(Re,{...x,children:e.jsx(ft,{scope:n,contentId:Fe(),triggerRef:g,open:j,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(b=>!b),[m]),hasCustomAnchor:p,onCustomAnchorAdd:u.useCallback(()=>v(!0),[]),onCustomAnchorRemove:u.useCallback(()=>v(!1),[]),modal:d,children:i})})};me.displayName=z;var he="PopoverAnchor",gt=u.forwardRef((a,n)=>{const{__scopePopover:i,...c}=a,l=N(he,i),o=O(i),{onCustomAnchorAdd:d,onCustomAnchorRemove:x}=l;return u.useEffect(()=>(d(),()=>x()),[d,x]),e.jsx(ie,{...o,...c,ref:n})});gt.displayName=he;var fe="PopoverTrigger",ge=u.forwardRef((a,n)=>{const{__scopePopover:i,...c}=a,l=N(fe,i),o=O(i),d=re(n,l.triggerRef),x=e.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":be(l.open),...c,ref:d,onClick:R(a.onClick,l.onOpenToggle)});return l.hasCustomAnchor?x:e.jsx(ie,{asChild:!0,...o,children:x})});ge.displayName=fe;var G="PopoverPortal",[Ct,vt]=xe(G,{forceMount:void 0}),Ce=a=>{const{__scopePopover:n,forceMount:i,children:c,container:l}=a,o=N(G,n);return e.jsx(Ct,{scope:n,forceMount:i,children:e.jsx(ce,{present:i||o.open,children:e.jsx(Ee,{asChild:!0,container:l,children:c})})})};Ce.displayName=G;var _="PopoverContent",ve=u.forwardRef((a,n)=>{const i=vt(_,a.__scopePopover),{forceMount:c=i.forceMount,...l}=a,o=N(_,a.__scopePopover);return e.jsx(ce,{present:c||o.open,children:o.modal?e.jsx(wt,{...l,ref:n}):e.jsx(bt,{...l,ref:n})})});ve.displayName=_;var jt=De("PopoverContent.RemoveScroll"),wt=u.forwardRef((a,n)=>{const i=N(_,a.__scopePopover),c=u.useRef(null),l=re(n,c),o=u.useRef(!1);return u.useEffect(()=>{const d=c.current;if(d)return Ie(d)},[]),e.jsx(Be,{as:jt,allowPinchZoom:!0,children:e.jsx(je,{...a,ref:l,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:R(a.onCloseAutoFocus,d=>{d.preventDefault(),o.current||i.triggerRef.current?.focus()}),onPointerDownOutside:R(a.onPointerDownOutside,d=>{const x=d.detail.originalEvent,g=x.button===0&&x.ctrlKey===!0,p=x.button===2||g;o.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:R(a.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),bt=u.forwardRef((a,n)=>{const i=N(_,a.__scopePopover),c=u.useRef(!1),l=u.useRef(!1);return e.jsx(je,{...a,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{a.onCloseAutoFocus?.(o),o.defaultPrevented||(c.current||i.triggerRef.current?.focus(),o.preventDefault()),c.current=!1,l.current=!1},onInteractOutside:o=>{a.onInteractOutside?.(o),o.defaultPrevented||(c.current=!0,o.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const d=o.target;i.triggerRef.current?.contains(d)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&l.current&&o.preventDefault()}})}),je=u.forwardRef((a,n)=>{const{__scopePopover:i,trapFocus:c,onOpenAutoFocus:l,onCloseAutoFocus:o,disableOutsidePointerEvents:d,onEscapeKeyDown:x,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:v,...j}=a,m=N(_,i),b=O(i);return Le(),e.jsx(ze,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:l,onUnmountAutoFocus:o,children:e.jsx(Ue,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:v,onEscapeKeyDown:x,onPointerDownOutside:g,onFocusOutside:p,onDismiss:()=>m.onOpenChange(!1),children:e.jsx($e,{"data-state":be(m.open),role:"dialog",id:m.contentId,...b,...j,ref:n,style:{...j.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),we="PopoverClose",yt=u.forwardRef((a,n)=>{const{__scopePopover:i,...c}=a,l=N(we,i);return e.jsx(le.button,{type:"button",...c,ref:n,onClick:R(a.onClick,()=>l.onOpenChange(!1))})});yt.displayName=we;var Nt="PopoverArrow",Pt=u.forwardRef((a,n)=>{const{__scopePopover:i,...c}=a,l=O(i);return e.jsx(He,{...l,...c,ref:n})});Pt.displayName=Nt;function be(a){return a?"open":"closed"}var kt=me,_t=ge,Tt=Ce,ye=ve;const St=kt,At=_t,Ne=u.forwardRef(({className:a,align:n="center",sideOffset:i=4,...c},l)=>e.jsx(Tt,{children:e.jsx(ye,{ref:l,align:n,sideOffset:i,className:Y("z-50 w-72 rounded-md border border-neutral-200 bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",a),...c})}));Ne.displayName=ye.displayName;const Q=["all","missing","owned"],W=["all",...lt],Mt=["default","recent","expansion-newest"],Rt=[...ct.filter(a=>a!=="")],Ot=({cards:a,filters:n,setFilters:i,onFiltersChanged:c,visibleFilters:l,filtersDialog:o,batchUpdate:d,share:x,missionsButton:g})=>{const{t:p}=L(["pages/collection","common/sets","common/packs","filters"]),v=de(),{setIsProfileDialogOpen:j}=Ze(),m=t=>{i(r=>{const s={...r,...t},f=T(s);return c(f),s})},b=t=>m({search:t}),U=t=>m({allTextSearch:t}),P=t=>m({pack:t}),F=t=>m({rarity:t}),E=t=>m({owned:t}),T=t=>{let r=Ve;if(t.deckbuildingMode&&(r=r.filter(s=>qe.includes(s.rarity)||s.rarity==="P")),t.expansion!=="all"&&(r=r.filter(s=>s.expansion===t.expansion)),t.pack!=="all"&&(r=r.filter(s=>s.pack===t.pack||s.pack==="everypack")),t.owned!=="all"&&(t.owned==="owned"?r=r.filter(s=>(a.get(s.internal_id)?.amount_owned||0)>0):t.owned==="missing"&&(r=r.filter(s=>(a.get(s.internal_id)?.amount_owned||0)===0))),t.sortBy==="recent")r=[...r].sort((s,f)=>{const w=a.get(s.internal_id)?.updated_at,h=a.get(f.internal_id)?.updated_at;return w&&h?new Date(h).getTime()-new Date(w).getTime():w&&!h?-1:1});else if(t.sortBy==="expansion-newest"){const s=[...Ke].reverse();r=[...r].sort((f,w)=>{const h=s.findIndex(A=>A.id===f.expansion),S=s.findIndex(A=>A.id===w.expansion);return h!==S?h-S:f.card_id.localeCompare(w.card_id,Z.language||"en",{numeric:!0})})}r=r.filter(s=>t.rarity.length===0?!0:t.rarity.includes(s.rarity)),r=r.filter(s=>t.cardType.length===0?!0:s.card_type.toLowerCase()==="trainer"?t.cardType.includes("trainer"):s.energy!==""&&t.cardType.includes(s.energy.toLowerCase())),t.search&&(r=r.filter(f=>{const w=X(f,Z.language).toLowerCase(),h=t.search.toLowerCase();let S=!1;t.allTextSearch&&(S=f.ability&&(f.ability.name.toLowerCase().includes(h)||f.ability.effect.toLowerCase().includes(h))||f.attacks.some(H=>H.name?.toLowerCase().includes(h)||H.effect?.toLowerCase()!=="no effect"&&H.effect?.toLowerCase()?.includes(h)));const A=w.includes(h),Pe=mt(w,h)<=2,ke=f.card_id.toLowerCase().includes(h);return S||A||Pe||ke}));for(const s of r)t.deckbuildingMode?s.amount_owned=s.alternate_versions.reduce((f,w)=>{const h=oe(w);return f+(a.get(h?.internal_id||0)?.amount_owned??0)},0):s.amount_owned=a.get(s.internal_id)?.amount_owned??0,s.collected=a.get(s.internal_id)?.collection.includes(s.card_id)??!1;return r=r.filter(s=>(s.amount_owned??0)>=t.minNumber),t.maxNumber!==100&&(r=r.filter(s=>(s.amount_owned??0)<=t.maxNumber)),r},y=u.useMemo(()=>T(n),[n,a]),k=u.useMemo(()=>{const t=V(n.expansion);if(!(!t||t.packs.length<=1))return["all",...t.packs.map(r=>r.name).filter(r=>r!=="everypack")]},[n.expansion]);u.useEffect(()=>{c(y)},[]);function I(t){m({expansion:t,pack:"all"})}const B=t=>{const r=t==="all"?"all":V(t)?.name??"unknown";return p(r,{ns:"common/sets"})};function $(t){return t==="trainer"?"T":e.jsx("img",{src:`/images/energy/${t}.webp`,alt:t,className:"h-4"})}return e.jsxs("div",{id:"filterbar",className:"flex flex-col gap-x-2 flex-wrap",children:[l?.expansions&&e.jsxs("div",{className:"flex gap-x-2 px-4 mb-2",children:[e.jsx(M,{label:p("expansion",{ns:"common/sets"}),options:W,value:n.expansion,onChange:I,show:B}),k&&e.jsx(D,{options:k,value:n.pack,onChange:P,show:t=>p(t,{ns:"common/packs"})})]}),e.jsxs("div",{className:"gap-2 flex-row gap-y-1 px-4 flex",children:[l?.search&&e.jsx(K,{className:"w-full sm:w-32",setSearchValue:b}),l?.owned&&e.jsx(D,{options:Q,value:n.owned,onChange:E,show:t=>p(t,{ns:"filters",keyPrefix:"f-owned"})}),l?.rarity&&e.jsxs(St,{children:[e.jsx(At,{asChild:!0,children:e.jsxs(C,{variant:"outline",children:[p("rarity",{ns:"filters"})," (",n.rarity.length,")"]})}),e.jsx(Ne,{className:"w-28",children:e.jsx(q,{className:"flex-col bg-transparent",rarityFilter:n.rarity,setRarityFilter:F,deckbuildingMode:n.deckbuildingMode})})]}),o&&e.jsxs(ee,{children:[e.jsx(Ge,{asChild:!0,children:e.jsx(C,{variant:"outline",children:p("filters.allFilters")})}),e.jsxs(te,{className:"border-1 border-neutral-700 shadow-none max-h-[90vh] overflow-y-auto content-start",children:[e.jsx(ne,{children:e.jsx(ae,{children:p("filters.filtersCount",{count:(y||[]).length})})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[o.search&&e.jsx(K,{className:"w-full bg-neutral-900",setSearchValue:b}),o.allTextSearch&&e.jsx(ht,{allTextSearch:n.allTextSearch,setAllTextSearch:U}),o.expansions&&e.jsx(M,{className:"bg-neutral-900",label:p("expansion",{ns:"common/sets"}),options:W,value:n.expansion,onChange:I,show:B}),o.pack&&k&&e.jsx(D,{className:"w-full bg-neutral-900",options:k,value:n.pack,onChange:P,show:t=>p(t,{ns:"common/packs"})}),o.rarity&&e.jsx(q,{className:"bg-neutral-900",rarityFilter:n.rarity,setRarityFilter:F,deckbuildingMode:n.deckbuildingMode}),o.cardType&&e.jsx(it,{className:"bg-neutral-900",options:Rt,value:n.cardType,onChange:t=>m({cardType:t}),show:$}),o.owned&&e.jsx(D,{className:"w-full bg-neutral-900",options:Q,value:n.owned,onChange:E,show:t=>p(t,{ns:"filters",keyPrefix:"f-owned"})}),o.sortBy&&e.jsx(M,{className:"bg-neutral-900",label:p("f-sortBy.sortBy",{ns:"filters"}),options:Mt,value:n.sortBy,onChange:t=>m({sortBy:t}),show:t=>p(`f-sortBy.${t}`,{ns:"filters"})}),o.amount&&e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"bg-neutral-900",label:p("f-number.minNum",{ns:"filters"}),options:[0,1,2,3,4,5,6,7,8,9,10,100],value:n.minNumber,onChange:t=>m({minNumber:t})}),e.jsx(M,{className:"bg-neutral-900",label:p("f-number.maxNum",{ns:"filters"}),options:[0,1,2,3,4,5,6,7,8,9,10,100],value:n.maxNumber,onChange:t=>m({maxNumber:t})})]}),o.deckBuildingMode&&e.jsx(et,{deckbuildingMode:n.deckbuildingMode,setDeckbuildingMode:t=>m({deckbuildingMode:t})}),e.jsx(C,{variant:"outline",className:"!text-red-700",onClick:()=>{const t={search:"",expansion:"all",pack:"all",cardType:[],rarity:[],owned:"all",sortBy:"expansion-newest",minNumber:0,maxNumber:100,deckbuildingMode:!1,allTextSearch:!1},r=T(t);c(r),i(t)},children:p("filters.clear")}),g&&e.jsx(C,{className:"mt-2",variant:"outline",onClick:()=>v("/collection/missions"),children:p("goToMissions")})]})]})]}),d&&e.jsx(xt,{filteredCards:y||[],disabled:!y||y.length===0}),x&&e.jsx(C,{variant:"outline",onClick:()=>j(!0),children:p("filters.share")})]})]})};function J({cards:a,isPublic:n,extraOffset:i}){const c=tt({query:"(max-width: 767px)"}),[l,o]=u.useState(null),[d,x]=u.useState({search:"",expansion:"all",pack:"all",cardType:[],rarity:[],owned:"all",sortBy:"expansion-newest",minNumber:0,maxNumber:100,deckbuildingMode:!1,allTextSearch:!1}),[g,p]=u.useState(!1);return u.useEffect(()=>{p(!0);const v=setTimeout(()=>p(!1),100);return()=>clearTimeout(v)},[d]),e.jsxs(e.Fragment,{children:[e.jsx(Ot,{cards:a,filters:d,setFilters:x,onFiltersChanged:v=>o(v),visibleFilters:{expansions:!c,allTextSearch:!c,search:!0,owned:!c,rarity:!c},filtersDialog:{expansions:!0,pack:!0,search:!0,owned:!0,sortBy:!0,rarity:!0,cardType:!0,amount:!0,deckBuildingMode:!0,allTextSearch:!0},batchUpdate:!n,missionsButton:!n,share:!0}),l&&e.jsx(nt,{cards:l,resetScrollTrigger:g,showStats:!d.deckbuildingMode,extraOffset:i,editable:!d.deckbuildingMode&&!n})]})}function Gt(){const{t:a}=L(["pages/collection","common"]),{friendId:n}=Qe(),i=de(),{data:c}=We(n),{data:l}=Je(n),{data:o=new Map,isLoading:d}=Xe();return n?c===null?e.jsx("p",{className:"text-xl text-center py-8",children:a("common:noAccount")}):l===null?e.jsx("p",{className:"text-xl text-center py-8",children:"Not a public account"}):l===void 0||c===void 0?e.jsxs("p",{className:"text-xl text-center py-8",children:[a("common:loading"),"..."]}):e.jsxs("div",{className:"flex flex-col gap-y-1 mx-auto max-w-[900px]",children:[e.jsxs(ue,{className:"mb-4 border-1 border-neutral-700 shadow-none",children:[e.jsx(dt,{className:"h-4 w-4"}),e.jsx(Ye,{children:a("publicCollectionTitle",{username:c?.username})}),e.jsx(pe,{children:e.jsxs("div",{className:"flex items-center",children:[a("publicCollectionDescription"),e.jsx(C,{className:"mb-4",onClick:()=>i(`/trade/${c?.friend_id}`),children:a("showPossibleTrades")})]})})]}),e.jsx(J,{cards:l,isPublic:!0,extraOffset:136})]}):d?e.jsxs("p",{className:"text-xl text-center py-8",children:[a("common:loading"),"..."]}):e.jsx("div",{className:"flex flex-col gap-y-1 mx-auto max-w-[900px]",children:e.jsx(J,{cards:o,isPublic:!1,extraOffset:20})})}export{Gt as default};
