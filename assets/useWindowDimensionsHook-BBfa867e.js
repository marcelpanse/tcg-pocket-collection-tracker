import{r as c,ac as O,a5 as j,j as r,ad as ue,l as I,a6 as de,ae as S,m as b,aa as P,af as D,ab as F,ag as pe,ah as ve,ai as ge,aj as fe,ak as xe,al as he,am as me,an as Pe,ao as Ce,f as y,R as f,a7 as M,a9 as be,a4 as we,a8 as Re,ap as je,u as ye,B as Ne}from"./index-xn5AZfTo.js";var N="Popover",[z,Ze]=I(N,[O]),w=O(),[_e,h]=z(N),$=e=>{const{__scopePopover:o,children:a,open:n,defaultOpen:t,onOpenChange:s,modal:l=!1}=e,i=w(o),u=c.useRef(null),[p,v]=c.useState(!1),[g,x]=j({prop:n,defaultProp:t??!1,onChange:s,caller:N});return r.jsx(ue,{...i,children:r.jsx(_e,{scope:o,contentId:de(),triggerRef:u,open:g,onOpenChange:x,onOpenToggle:c.useCallback(()=>x(_=>!_),[x]),hasCustomAnchor:p,onCustomAnchorAdd:c.useCallback(()=>v(!0),[]),onCustomAnchorRemove:c.useCallback(()=>v(!1),[]),modal:l,children:a})})};$.displayName=N;var V="PopoverAnchor",Te=c.forwardRef((e,o)=>{const{__scopePopover:a,...n}=e,t=h(V,a),s=w(a),{onCustomAnchorAdd:l,onCustomAnchorRemove:i}=t;return c.useEffect(()=>(l(),()=>i()),[l,i]),r.jsx(D,{...s,...n,ref:o})});Te.displayName=V;var L="PopoverTrigger",W=c.forwardRef((e,o)=>{const{__scopePopover:a,...n}=e,t=h(L,a),s=w(a),l=S(o,t.triggerRef),i=r.jsx(b.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":J(t.open),...n,ref:l,onClick:P(e.onClick,t.onOpenToggle)});return t.hasCustomAnchor?i:r.jsx(D,{asChild:!0,...s,children:i})});W.displayName=L;var T="PopoverPortal",[Ae,Ge]=z(T,{forceMount:void 0}),B=e=>{const{__scopePopover:o,forceMount:a,children:n,container:t}=e,s=h(T,o);return r.jsx(Ae,{scope:o,forceMount:a,children:r.jsx(F,{present:a||s.open,children:r.jsx(pe,{asChild:!0,container:t,children:n})})})};B.displayName=T;var C="PopoverContent",H=c.forwardRef((e,o)=>{const a=Ge(C,e.__scopePopover),{forceMount:n=a.forceMount,...t}=e,s=h(C,e.__scopePopover);return r.jsx(F,{present:n||s.open,children:s.modal?r.jsx(Ee,{...t,ref:o}):r.jsx(Oe,{...t,ref:o})})});H.displayName=C;var ke=fe("PopoverContent.RemoveScroll"),Ee=c.forwardRef((e,o)=>{const a=h(C,e.__scopePopover),n=c.useRef(null),t=S(o,n),s=c.useRef(!1);return c.useEffect(()=>{const l=n.current;if(l)return ve(l)},[]),r.jsx(ge,{as:ke,allowPinchZoom:!0,children:r.jsx(U,{...e,ref:t,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,l=>{l.preventDefault(),s.current||a.triggerRef.current?.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0,p=i.button===2||u;s.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Oe=c.forwardRef((e,o)=>{const a=h(C,e.__scopePopover),n=c.useRef(!1),t=c.useRef(!1);return r.jsx(U,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||a.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,t.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const l=s.target;a.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&t.current&&s.preventDefault()}})}),U=c.forwardRef((e,o)=>{const{__scopePopover:a,trapFocus:n,onOpenAutoFocus:t,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:v,...g}=e,x=h(C,a),_=w(a);return xe(),r.jsx(he,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:t,onUnmountAutoFocus:s,children:r.jsx(me,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:v,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:p,onDismiss:()=>x.onOpenChange(!1),children:r.jsx(Pe,{"data-state":J(x.open),role:"dialog",id:x.contentId,..._,...g,ref:o,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),K="PopoverClose",Ie=c.forwardRef((e,o)=>{const{__scopePopover:a,...n}=e,t=h(K,a);return r.jsx(b.button,{type:"button",...n,ref:o,onClick:P(e.onClick,()=>t.onOpenChange(!1))})});Ie.displayName=K;var Se="PopoverArrow",De=c.forwardRef((e,o)=>{const{__scopePopover:a,...n}=e,t=w(a);return r.jsx(Ce,{...t,...n,ref:o})});De.displayName=Se;function J(e){return e?"open":"closed"}var Fe=$,Me=W,ze=B,X=H;const $e=Fe,Ve=Me,Z=c.forwardRef(({className:e,align:o="center",sideOffset:a=4,...n},t)=>r.jsx(ze,{children:r.jsx(X,{ref:t,align:o,sideOffset:a,className:y("z-50 w-72 rounded-md border border-neutral-200 bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",e),...n})}));Z.displayName=X.displayName;var q="Toggle",A=c.forwardRef((e,o)=>{const{pressed:a,defaultPressed:n,onPressedChange:t,...s}=e,[l,i]=j({prop:a,onChange:t,defaultProp:n??!1,caller:q});return r.jsx(b.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:o,onClick:P(e.onClick,()=>{e.disabled||i(!l)})})});A.displayName=q;var Q=A,m="ToggleGroup",[Y,qe]=I(m,[M]),ee=M(),G=f.forwardRef((e,o)=>{const{type:a,...n}=e;if(a==="single"){const t=n;return r.jsx(Le,{...t,ref:o})}if(a==="multiple"){const t=n;return r.jsx(We,{...t,ref:o})}throw new Error(`Missing prop \`type\` expected on \`${m}\``)});G.displayName=m;var[oe,te]=Y(m),Le=f.forwardRef((e,o)=>{const{value:a,defaultValue:n,onValueChange:t=()=>{},...s}=e,[l,i]=j({prop:a,defaultProp:n??"",onChange:t,caller:m});return r.jsx(oe,{scope:e.__scopeToggleGroup,type:"single",value:f.useMemo(()=>l?[l]:[],[l]),onItemActivate:i,onItemDeactivate:f.useCallback(()=>i(""),[i]),children:r.jsx(re,{...s,ref:o})})}),We=f.forwardRef((e,o)=>{const{value:a,defaultValue:n,onValueChange:t=()=>{},...s}=e,[l,i]=j({prop:a,defaultProp:n??[],onChange:t,caller:m}),u=f.useCallback(v=>i((g=[])=>[...g,v]),[i]),p=f.useCallback(v=>i((g=[])=>g.filter(x=>x!==v)),[i]);return r.jsx(oe,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:u,onItemDeactivate:p,children:r.jsx(re,{...s,ref:o})})});G.displayName=m;var[Be,He]=Y(m),re=f.forwardRef((e,o)=>{const{__scopeToggleGroup:a,disabled:n=!1,rovingFocus:t=!0,orientation:s,dir:l,loop:i=!0,...u}=e,p=ee(a),v=we(l),g={role:"group",dir:v,...u};return r.jsx(Be,{scope:a,rovingFocus:t,disabled:n,children:t?r.jsx(Re,{asChild:!0,...p,orientation:s,dir:v,loop:i,children:r.jsx(b.div,{...g,ref:o})}):r.jsx(b.div,{...g,ref:o})})}),R="ToggleGroupItem",ae=f.forwardRef((e,o)=>{const a=te(R,e.__scopeToggleGroup),n=He(R,e.__scopeToggleGroup),t=ee(e.__scopeToggleGroup),s=a.value.includes(e.value),l=n.disabled||e.disabled,i={...e,pressed:s,disabled:l},u=f.useRef(null);return n.rovingFocus?r.jsx(be,{asChild:!0,...t,focusable:!l,active:s,ref:u,children:r.jsx(k,{...i,ref:o})}):r.jsx(k,{...i,ref:o})});ae.displayName=R;var k=f.forwardRef((e,o)=>{const{__scopeToggleGroup:a,value:n,...t}=e,s=te(R,a),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=s.type==="single"?l:void 0;return r.jsx(A,{...i,...t,ref:o,onPressedChange:u=>{u?s.onItemActivate(n):s.onItemDeactivate(n)}})}),ne=G,se=ae;const le=je("inline-flex items-center justify-center gap-2 rounded-sm text-sm font-medium transition-colors hover:bg-neutral-100 hover:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-neutral-100 data-[state=on]:text-neutral-900 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:hover:bg-neutral-800 dark:hover:text-neutral-400 dark:focus-visible:ring-neutral-300 dark:data-[state=on]:bg-neutral-800 dark:data-[state=on]:text-neutral-50",{variants:{variant:{default:"bg-transparent",outline:"hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:hover:bg-neutral-800 dark:hover:text-neutral-50"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ue=c.forwardRef(({className:e,variant:o,size:a,...n},t)=>r.jsx(Q,{ref:t,className:y(le({variant:o,size:a,className:e})),...n}));Ue.displayName=Q.displayName;const ie=c.createContext({size:"default",variant:"default"}),ce=c.forwardRef(({className:e,variant:o,size:a,children:n,...t},s)=>r.jsx(ne,{ref:s,className:y("flex items-center justify-center gap-1",e),...t,children:r.jsx(ie.Provider,{value:{variant:o,size:a},children:n})}));ce.displayName=ne.displayName;const d=c.forwardRef(({className:e,children:o,variant:a,size:n,...t},s)=>{const l=c.useContext(ie);return r.jsx(se,{ref:s,className:y(le({variant:l.variant||a,size:l.size||n}),e),...t,children:o})});d.displayName=se.displayName;const Ke=["◊","◊◊","◊◊◊","◊◊◊◊","☆","☆☆","☆☆☆","✵","✵✵","Crown Rare","P",""],Qe=["◊","◊◊","◊◊◊","◊◊◊◊","☆"],Ye=["grass","fire","water","lightning","psychic","fighting","darkness","metal","dragon","colorless","trainer",""],Je={"◊":r.jsx(d,{value:"◊","aria-label":"◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢"}),"◊◊":r.jsx(d,{value:"◊◊","aria-label":"◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢"}),"◊◊◊":r.jsx(d,{value:"◊◊◊","aria-label":"◊◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢♢"}),"◊◊◊◊":r.jsx(d,{value:"◊◊◊◊","aria-label":"◊◊◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢♢♢"}),"☆":r.jsx(d,{value:"☆","aria-label":"☆",className:"text-yellow-500 hover:text-yellow-600 .dark:data-[state=on]:text-yellow-500 px-1",children:"☆"}),"☆☆":r.jsx(d,{value:"☆☆","aria-label":"☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:"☆☆"}),"☆☆☆":r.jsx(d,{value:"☆☆☆","aria-label":"☆☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:"☆☆☆"}),"✵":r.jsx(d,{value:"✵","aria-label":"✵",className:"text-pink-300 hover:text-pink-500 .dark:data-[state=on]:text-pink-400 px-1",children:"✵"}),"✵✵":r.jsx(d,{value:"✵✵","aria-label":"✵✵",className:"text-pink-300 hover:text-pink-500 data-[state=on]:text-pink-400 px-1",children:"✵✵"}),"Crown Rare":r.jsx(d,{value:"Crown Rare","aria-label":"♛",className:"px-1",children:"👑"}),P:r.jsx(d,{value:"P","aria-label":"P",className:"px-1",children:"P"}),"":null},eo=({rarities:e,rarityFilter:o,setRarityFilter:a,deckbuildingMode:n,collapse:t})=>{const{t:s}=ye("rarity-filter");c.useEffect(()=>{if(n){const u=["◊","◊◊","◊◊◊","◊◊◊◊"];a(o.filter(p=>u.includes(p)))}},[n]);const l=e??(n?["◊","◊◊","◊◊◊","◊◊◊◊"]:Ke),i=c.useMemo(()=>r.jsx(ce,{variant:"outline",type:"multiple",size:"sm",value:o,onValueChange:u=>a(u),className:`justify-center shadow-none border-1 border-neutral-700 rounded-md flex-wrap ${t?"flex-col":"flex-row"}`,children:l.map(u=>Je[u])}),[o,t,n]);return t?r.jsxs($e,{children:[r.jsx(Ve,{asChild:!0,children:r.jsxs(Ne,{variant:"outline",children:[s("filters")," (",o.length,")"]})}),r.jsx(Z,{className:"w-32",children:i})]}):i};function E(){const{innerWidth:e,innerHeight:o}=window;return{width:e,height:o}}function oo(){const[e,o]=c.useState(E());return c.useEffect(()=>{function a(){o(E())}return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}export{$e as P,eo as R,ce as T,d as a,Ve as b,Ye as c,Z as d,Qe as t,oo as u};
