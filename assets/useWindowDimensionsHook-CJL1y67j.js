import{r as c,ad as O,a6 as R,j as o,ae as ue,l as I,a7 as de,af as S,m as b,ab as P,ag as D,ac as F,ah as pe,ai as ve,aj as ge,ak as fe,al as xe,am as he,an as me,ao as Pe,ap as Ce,f as y,R as g,a8 as M,aa as be,a5 as we,a9 as je,aq as Re,u as ye,B as Ne}from"./index-CA2O7DK2.js";var N="Popover",[z,qe]=I(N,[O]),w=O(),[_e,h]=z(N),$=e=>{const{__scopePopover:r,children:t,open:n,defaultOpen:a,onOpenChange:s,modal:l=!1}=e,i=w(r),u=c.useRef(null),[f,p]=c.useState(!1),[v,x]=R({prop:n,defaultProp:a??!1,onChange:s,caller:N});return o.jsx(ue,{...i,children:o.jsx(_e,{scope:r,contentId:de(),triggerRef:u,open:v,onOpenChange:x,onOpenToggle:c.useCallback(()=>x(_=>!_),[x]),hasCustomAnchor:f,onCustomAnchorAdd:c.useCallback(()=>p(!0),[]),onCustomAnchorRemove:c.useCallback(()=>p(!1),[]),modal:l,children:t})})};$.displayName=N;var V="PopoverAnchor",Te=c.forwardRef((e,r)=>{const{__scopePopover:t,...n}=e,a=h(V,t),s=w(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:i}=a;return c.useEffect(()=>(l(),()=>i()),[l,i]),o.jsx(D,{...s,...n,ref:r})});Te.displayName=V;var L="PopoverTrigger",W=c.forwardRef((e,r)=>{const{__scopePopover:t,...n}=e,a=h(L,t),s=w(t),l=S(r,a.triggerRef),i=o.jsx(b.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":q(a.open),...n,ref:l,onClick:P(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?i:o.jsx(D,{asChild:!0,...s,children:i})});W.displayName=L;var T="PopoverPortal",[Ae,Ge]=z(T,{forceMount:void 0}),B=e=>{const{__scopePopover:r,forceMount:t,children:n,container:a}=e,s=h(T,r);return o.jsx(Ae,{scope:r,forceMount:t,children:o.jsx(F,{present:t||s.open,children:o.jsx(pe,{asChild:!0,container:a,children:n})})})};B.displayName=T;var C="PopoverContent",H=c.forwardRef((e,r)=>{const t=Ge(C,e.__scopePopover),{forceMount:n=t.forceMount,...a}=e,s=h(C,e.__scopePopover);return o.jsx(F,{present:n||s.open,children:s.modal?o.jsx(Ee,{...a,ref:r}):o.jsx(Oe,{...a,ref:r})})});H.displayName=C;var ke=fe("PopoverContent.RemoveScroll"),Ee=c.forwardRef((e,r)=>{const t=h(C,e.__scopePopover),n=c.useRef(null),a=S(r,n),s=c.useRef(!1);return c.useEffect(()=>{const l=n.current;if(l)return ve(l)},[]),o.jsx(ge,{as:ke,allowPinchZoom:!0,children:o.jsx(K,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,l=>{l.preventDefault(),s.current||t.triggerRef.current?.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0,f=i.button===2||u;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Oe=c.forwardRef((e,r)=>{const t=h(C,e.__scopePopover),n=c.useRef(!1),a=c.useRef(!1);return o.jsx(K,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||t.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=s.target;t.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),K=c.forwardRef((e,r)=>{const{__scopePopover:t,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,...v}=e,x=h(C,t),_=w(t);return xe(),o.jsx(he,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(me,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:o.jsx(Pe,{"data-state":q(x.open),role:"dialog",id:x.contentId,..._,...v,ref:r,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),U="PopoverClose",Ie=c.forwardRef((e,r)=>{const{__scopePopover:t,...n}=e,a=h(U,t);return o.jsx(b.button,{type:"button",...n,ref:r,onClick:P(e.onClick,()=>a.onOpenChange(!1))})});Ie.displayName=U;var Se="PopoverArrow",De=c.forwardRef((e,r)=>{const{__scopePopover:t,...n}=e,a=w(t);return o.jsx(Ce,{...a,...n,ref:r})});De.displayName=Se;function q(e){return e?"open":"closed"}var Fe=$,Me=W,ze=B,Z=H;const $e=Fe,Ve=Me,J=c.forwardRef(({className:e,align:r="center",sideOffset:t=4,...n},a)=>o.jsx(ze,{children:o.jsx(Z,{ref:a,align:r,sideOffset:t,className:y("z-50 w-72 rounded-md border border-neutral-200 bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",e),...n})}));J.displayName=Z.displayName;var Q="Toggle",A=c.forwardRef((e,r)=>{const{pressed:t,defaultPressed:n,onPressedChange:a,...s}=e,[l,i]=R({prop:t,onChange:a,defaultProp:n??!1,caller:Q});return o.jsx(b.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:r,onClick:P(e.onClick,()=>{e.disabled||i(!l)})})});A.displayName=Q;var X=A,m="ToggleGroup",[Y,Ze]=I(m,[M]),ee=M(),G=g.forwardRef((e,r)=>{const{type:t,...n}=e;if(t==="single"){const a=n;return o.jsx(Le,{...a,ref:r})}if(t==="multiple"){const a=n;return o.jsx(We,{...a,ref:r})}throw new Error(`Missing prop \`type\` expected on \`${m}\``)});G.displayName=m;var[oe,te]=Y(m),Le=g.forwardRef((e,r)=>{const{value:t,defaultValue:n,onValueChange:a=()=>{},...s}=e,[l,i]=R({prop:t,defaultProp:n??"",onChange:a,caller:m});return o.jsx(oe,{scope:e.__scopeToggleGroup,type:"single",value:g.useMemo(()=>l?[l]:[],[l]),onItemActivate:i,onItemDeactivate:g.useCallback(()=>i(""),[i]),children:o.jsx(re,{...s,ref:r})})}),We=g.forwardRef((e,r)=>{const{value:t,defaultValue:n,onValueChange:a=()=>{},...s}=e,[l,i]=R({prop:t,defaultProp:n??[],onChange:a,caller:m}),u=g.useCallback(p=>i((v=[])=>[...v,p]),[i]),f=g.useCallback(p=>i((v=[])=>v.filter(x=>x!==p)),[i]);return o.jsx(oe,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:u,onItemDeactivate:f,children:o.jsx(re,{...s,ref:r})})});G.displayName=m;var[Be,He]=Y(m),re=g.forwardRef((e,r)=>{const{__scopeToggleGroup:t,disabled:n=!1,rovingFocus:a=!0,orientation:s,dir:l,loop:i=!0,...u}=e,f=ee(t),p=we(l),v={role:"group",dir:p,...u};return o.jsx(Be,{scope:t,rovingFocus:a,disabled:n,children:a?o.jsx(je,{asChild:!0,...f,orientation:s,dir:p,loop:i,children:o.jsx(b.div,{...v,ref:r})}):o.jsx(b.div,{...v,ref:r})})}),j="ToggleGroupItem",ae=g.forwardRef((e,r)=>{const t=te(j,e.__scopeToggleGroup),n=He(j,e.__scopeToggleGroup),a=ee(e.__scopeToggleGroup),s=t.value.includes(e.value),l=n.disabled||e.disabled,i={...e,pressed:s,disabled:l},u=g.useRef(null);return n.rovingFocus?o.jsx(be,{asChild:!0,...a,focusable:!l,active:s,ref:u,children:o.jsx(k,{...i,ref:r})}):o.jsx(k,{...i,ref:r})});ae.displayName=j;var k=g.forwardRef((e,r)=>{const{__scopeToggleGroup:t,value:n,...a}=e,s=te(j,t),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=s.type==="single"?l:void 0;return o.jsx(A,{...i,...a,ref:r,onPressedChange:u=>{u?s.onItemActivate(n):s.onItemDeactivate(n)}})}),ne=G,se=ae;const le=Re("inline-flex items-center justify-center gap-2 rounded-sm text-sm font-medium transition-colors hover:bg-neutral-100 hover:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-neutral-100 data-[state=on]:text-neutral-900 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:hover:bg-neutral-800 dark:hover:text-neutral-400 dark:focus-visible:ring-neutral-300 dark:data-[state=on]:bg-neutral-800 dark:data-[state=on]:text-neutral-50",{variants:{variant:{default:"bg-transparent",outline:"hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:hover:bg-neutral-800 dark:hover:text-neutral-50"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ke=c.forwardRef(({className:e,variant:r,size:t,...n},a)=>o.jsx(X,{ref:a,className:y(le({variant:r,size:t,className:e})),...n}));Ke.displayName=X.displayName;const ie=c.createContext({size:"default",variant:"default"}),ce=c.forwardRef(({className:e,variant:r,size:t,children:n,...a},s)=>o.jsx(ne,{ref:s,className:y("flex items-center justify-center gap-1",e),...a,children:o.jsx(ie.Provider,{value:{variant:r,size:t},children:n})}));ce.displayName=ne.displayName;const d=c.forwardRef(({className:e,children:r,variant:t,size:n,...a},s)=>{const l=c.useContext(ie);return o.jsx(se,{ref:s,className:y(le({variant:l.variant||t,size:l.size||n}),e),...a,children:r})});d.displayName=se.displayName;const Je=({rarityFilter:e,setRarityFilter:r,deckbuildingMode:t,collapse:n})=>{const{t:a}=ye("rarity-filter");c.useEffect(()=>{if(t){const l=["◊","◊◊","◊◊◊","◊◊◊◊"];r(e.filter(i=>l.includes(i)))}},[t]);const s=c.useMemo(()=>o.jsxs(ce,{variant:"outline",type:"multiple",size:"sm",value:e,onValueChange:l=>r(l),className:`justify-center shadow-none border-1 border-neutral-700 rounded-md flex-wrap ${n?"flex-col":"flex-row"}`,children:[o.jsx(d,{value:"◊","aria-label":"◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢"}),o.jsx(d,{value:"◊◊","aria-label":"◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢"}),o.jsx(d,{value:"◊◊◊","aria-label":"◊◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢♢"}),o.jsx(d,{value:"◊◊◊◊","aria-label":"◊◊◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢♢♢"}),!t&&o.jsxs(o.Fragment,{children:[o.jsx(d,{value:"☆","aria-label":"☆",className:"text-yellow-500 hover:text-yellow-600 .dark:data-[state=on]:text-yellow-500 px-1",children:"☆"}),o.jsx(d,{value:"☆☆","aria-label":"☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:"☆☆"}),o.jsx(d,{value:"☆☆☆","aria-label":"☆☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:"☆☆☆"}),o.jsx(d,{value:"✵","aria-label":"✵",className:"text-pink-300 hover:text-pink-500 .dark:data-[state=on]:text-pink-400 px-1",children:"✵"}),o.jsx(d,{value:"✵✵","aria-label":"✵✵",className:"text-pink-300 hover:text-pink-500 data-[state=on]:text-pink-400 px-1",children:"✵✵"}),o.jsx(d,{value:"Crown Rare","aria-label":"♛",className:"px-1",children:"👑"}),o.jsx(d,{value:"P","aria-label":"P",className:"px-1",children:"P"})]})]}),[e,n,t]);return n?o.jsxs($e,{children:[o.jsx(Ve,{asChild:!0,children:o.jsxs(Ne,{variant:"outline",children:[a("filters")," (",e.length,")"]})}),o.jsx(J,{className:"w-32",children:s})]}):s};function E(){const{innerWidth:e,innerHeight:r}=window;return{width:e,height:r}}function Qe(){const[e,r]=c.useState(E());return c.useEffect(()=>{function t(){r(E())}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e}export{$e as P,Je as R,ce as T,d as a,Ve as b,J as c,Qe as u};
