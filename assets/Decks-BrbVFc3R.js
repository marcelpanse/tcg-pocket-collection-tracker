import{j as l}from"./query-vendor-DKO9QhDh.js";import{h as B,c as H,H as M,y as K,z as U,D as q,E as G,S as J,F as O,B as $,C as A}from"./index-Ck3RXL2O.js";import{L as I,r as Q}from"./react-vendor-BwilO4Pl.js";import{T as V,a as W}from"./Filters-BrKxdlkO.js";import"./i18n-vendor-EDt-GOM6.js";import"./charts-vendor-DSiU2xyM.js";import"./supabase-vendor-CP3OYKhD.js";import"./ui-vendor-CVKvef2y.js";import"./xlsx-vendor-De4COjWB.js";import"./tabs-zVSF5bL6.js";const X=[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]],Y=B("chevron-first",X);const Z=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ee=B("chevron-left",Z);function te(e){const t=H.c(18),{deck:s}=e,f=`/decks/${s.id??""}`,i=s.id;let c;t[0]!==s.energy?(c=s.energy.map(se),t[0]=s.energy,t[1]=c):c=t[1];let o;t[2]!==c?(o=l.jsx("div",{className:"flex flex-wrap gap-1 items-center justify-center w-10",children:c}),t[2]=c,t[3]=o):o=t[3];let m;t[4]!==s.name?(m=l.jsx("h2",{className:"font-semibold",children:s.name}),t[4]=s.name,t[5]=m):m=t[5];let n;t[6]!==s.is_public||t[7]!==s.likes?(n=s.likes!==void 0?l.jsxs("span",{className:"ml-auto inline-flex gap-1",children:[l.jsx("span",{children:s.likes}),l.jsx(M,{})]}):l.jsx("span",{className:"ml-auto italic text-neutral-400 text-sm",children:s.is_public?"Public":"Private"}),t[6]=s.is_public,t[7]=s.likes,t[8]=n):n=t[8];let a;t[9]!==s.id||t[10]!==o||t[11]!==m||t[12]!==n?(a=l.jsxs("div",{className:"flex items-center gap-2 bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 rounded-md p-2",children:[o,m,n]},i),t[9]=s.id,t[10]=o,t[11]=m,t[12]=n,t[13]=a):a=t[13];let r;return t[14]!==s||t[15]!==f||t[16]!==a?(r=l.jsx(I,{to:f,state:s,children:a}),t[14]=s,t[15]=f,t[16]=a,t[17]=r):r=t[17],r}function se(e){return l.jsx("img",{src:`/images/energy/${e}.webp`,alt:e,className:"size-4"},e)}function je(){const e=H.c(44);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={kind:"my",page:0,energy:[]},e[0]=t):t=e[0];const[s,f]=Q.useState(t),{data:i,isLoading:c,isError:o,error:m}=K(s);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx(I,{to:"/decks/edit",children:l.jsxs($,{className:"w-full",children:["New deck",l.jsx(A,{})]})}),e[1]=n):n=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=P=>f(R=>({...R,kind:P})),e[2]=a):a=e[2];let r;e[3]!==s.kind?(r=l.jsx(V,{className:"w-full",options:U,value:s.kind,onChange:a,show:re}),e[3]=s.kind,e[4]=r):r=e[4];let k;e[5]===Symbol.for("react.memo_cache_sentinel")?(k=P=>f(R=>({...R,energy:P})),e[5]=k):k=e[5];let d;e[6]!==s.energy?(d=l.jsx(W,{options:G,value:s.energy,onChange:k,show:q}),e[6]=s.energy,e[7]=d):d=e[7];let p;e[8]!==r||e[9]!==d?(p=l.jsxs("div",{className:"flex flex-col gap-2",children:[n,r,d]}),e[8]=r,e[9]=d,e[10]=p):p=e[10];const L=s.page+1;let x;e[11]!==L?(x=l.jsxs("span",{children:["Page ",L]}),e[11]=L,e[12]=x):x=e[12];let v;e[13]===Symbol.for("react.memo_cache_sentinel")?(v=()=>f(ae),e[13]=v):v=e[13];const D=s.page<=0;let N;e[14]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx(Y,{}),e[14]=N):N=e[14];let h;e[15]!==D?(h=l.jsx($,{variant:"outline",onClick:v,disabled:D,children:N}),e[15]=D,e[16]=h):h=e[16];let S;e[17]===Symbol.for("react.memo_cache_sentinel")?(S=()=>f(ne),e[17]=S):S=e[17];const T=s.page<=0;let w;e[18]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx(ee,{}),e[18]=w):w=e[18];let u;e[19]!==T?(u=l.jsx($,{variant:"outline",onClick:S,disabled:T,children:w}),e[19]=T,e[20]=u):u=e[20];let C;e[21]===Symbol.for("react.memo_cache_sentinel")?(C=()=>f(ie),e[21]=C):C=e[21];const z=!i?.hasNext;let E;e[22]===Symbol.for("react.memo_cache_sentinel")?(E=l.jsx(A,{}),e[22]=E):E=e[22];let g;e[23]!==z?(g=l.jsx($,{variant:"outline",onClick:C,disabled:z,children:E}),e[23]=z,e[24]=g):g=e[24];let j;e[25]!==i?(j=i&&l.jsxs("p",{className:"italic text-neutral-400",children:["Found ",i.count," decks"]}),e[25]=i,e[26]=j):j=e[26];let _;e[27]!==h||e[28]!==u||e[29]!==g||e[30]!==j||e[31]!==x?(_=l.jsxs("div",{className:"flex items-center gap-2",children:[x,h,u,g,j]}),e[27]=h,e[28]=u,e[29]=g,e[30]=j,e[31]=x,e[32]=_):_=e[32];let y;e[33]!==i||e[34]!==m||e[35]!==o||e[36]!==c?(y=c?l.jsx(J,{size:"md",overlay:!0}):o||!i?l.jsx(O,{error:m??void 0}):i.decks.map(le),e[33]=i,e[34]=m,e[35]=o,e[36]=c,e[37]=y):y=e[37];let b;e[38]!==_||e[39]!==y?(b=l.jsxs("div",{className:"flex flex-col gap-2 sm:w-xl",children:[_,y]}),e[38]=_,e[39]=y,e[40]=b):b=e[40];let F;return e[41]!==b||e[42]!==p?(F=l.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row sm:w-fit mx-auto px-1",children:[p,b]}),e[41]=b,e[42]=p,e[43]=F):F=e[43],F}function le(e){return l.jsx(te,{deck:e},e.id)}function ie(e){return{...e,page:e.page+1}}function ne(e){return{...e,page:Math.max(e.page-1,0)}}function ae(e){return{...e,page:0}}function re(e){return`${e.charAt(0).toUpperCase()+e.slice(1)} decks`}export{je as default};
