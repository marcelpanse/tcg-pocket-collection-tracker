import{u as re,j as s,a6 as Le,r as l,a7 as Be,a8 as Ve,a9 as A,aa as ze,ab as We,ac as $e,ad as He,ae as Xe,af as Ye,ag as ae,$ as V,ah as Ze,e as oe,a0 as Ke,ai as ne,f as O,a4 as G,aj as se,a5 as le,ak as Ue,al as qe,am as Qe,an as Je,ao as et,ap as tt,aq as rt,ar as at,a as z,R as w,a1 as ce,a3 as ot,Z as nt,a2 as st,as as lt,B as ct}from"./index-Bbt_Bdpr.js";const Wt=({numberFilter:e,setNumberFilter:t,options:r,labelKey:a="numberCards"})=>{const{t:n}=re("number-filter");return s.jsx("div",{className:"px-3 py-1 border-1 border-neutral-700 rounded-md",children:s.jsxs("label",{className:"flex items-center gap-x-2 text-white/50 text-sm",children:[s.jsx("h2",{children:n(a)}),s.jsx("select",{value:e,onChange:o=>t(Number.parseInt(o.target.value)),className:"p-1",children:r.map(o=>s.jsx("option",{value:o,className:"text-black",children:o},o))})]})})};var ie=Le(),H=function(){},W=l.forwardRef(function(e,t){var r=l.useRef(null),a=l.useState({onScrollCapture:H,onWheelCapture:H,onTouchMoveCapture:H}),n=a[0],o=a[1],c=e.forwardProps,i=e.children,v=e.className,h=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,P=e.noRelative,E=e.noIsolation,u=e.inert,d=e.allowPinchZoom,x=e.as,R=x===void 0?"div":x,b=e.gapMode,y=Be(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),m=g,k=Ve([r,t]),S=A(A({},y),n);return l.createElement(l.Fragment,null,f&&l.createElement(m,{sideCar:ie,removeScrollBar:h,shards:p,noRelative:P,noIsolation:E,inert:u,setCallbacks:o,allowPinchZoom:!!d,lockRef:r,gapMode:b}),c?l.cloneElement(l.Children.only(i),A(A({},S),{ref:k})):l.createElement(R,A({},S,{className:v,ref:k}),i))});W.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};W.classNames={fullWidth:We,zeroRight:ze};var X=!1;if(typeof window<"u")try{var F=Object.defineProperty({},"passive",{get:function(){return X=!0,!0}});window.addEventListener("test",F,F),window.removeEventListener("test",F,F)}catch{X=!1}var T=X?{passive:!1}:!1,it=function(e){return e.tagName==="TEXTAREA"},ue=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!it(e)&&r[t]==="visible")},ut=function(e){return ue(e,"overflowY")},dt=function(e){return ue(e,"overflowX")},q=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=de(e,a);if(n){var o=ve(e,a),c=o[1],i=o[2];if(c>i)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},vt=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},ft=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},de=function(e,t){return e==="v"?ut(t):dt(t)},ve=function(e,t){return e==="v"?vt(t):ft(t)},pt=function(e,t){return e==="h"&&t==="rtl"?-1:1},ht=function(e,t,r,a,n){var o=pt(e,window.getComputedStyle(t).direction),c=o*a,i=r.target,v=t.contains(i),h=!1,f=c>0,p=0,g=0;do{var P=ve(e,i),E=P[0],u=P[1],d=P[2],x=u-d-o*E;(E||x)&&de(e,i)&&(p+=x,g+=E),i=i.parentNode.host||i.parentNode}while(!v&&i!==document.body||v&&(t.contains(i)||t===i));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(h=!0),h},L=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Q=function(e){return[e.deltaX,e.deltaY]},J=function(e){return e&&"current"in e?e.current:e},gt=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mt=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xt=0,_=[];function Ct(e){var t=l.useRef([]),r=l.useRef([0,0]),a=l.useRef(),n=l.useState(xt++)[0],o=l.useState($e)[0],c=l.useRef(e);l.useEffect(function(){c.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var u=He([e.lockRef.current],(e.shards||[]).map(J),!0).filter(Boolean);return u.forEach(function(d){return d.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),u.forEach(function(d){return d.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var i=l.useCallback(function(u,d){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!c.current.allowPinchZoom;var x=L(u),R=r.current,b="deltaX"in u?u.deltaX:R[0]-x[0],y="deltaY"in u?u.deltaY:R[1]-x[1],m,k=u.target,S=Math.abs(b)>Math.abs(y)?"h":"v";if("touches"in u&&S==="h"&&k.type==="range")return!1;var D=q(S,k);if(!D)return!0;if(D?m=S:(m=S==="v"?"h":"v",D=q(S,k)),!D)return!1;if(!a.current&&"changedTouches"in u&&(b||y)&&(a.current=m),!m)return!0;var U=a.current||m;return ht(U,d,u,U==="h"?b:y)},[]),v=l.useCallback(function(u){var d=u;if(!(!_.length||_[_.length-1]!==o)){var x="deltaY"in d?Q(d):L(d),R=t.current.filter(function(m){return m.name===d.type&&(m.target===d.target||d.target===m.shadowParent)&&gt(m.delta,x)})[0];if(R&&R.should){d.cancelable&&d.preventDefault();return}if(!R){var b=(c.current.shards||[]).map(J).filter(Boolean).filter(function(m){return m.contains(d.target)}),y=b.length>0?i(d,b[0]):!c.current.noIsolation;y&&d.cancelable&&d.preventDefault()}}},[]),h=l.useCallback(function(u,d,x,R){var b={name:u,delta:d,target:x,should:R,shadowParent:Pt(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(y){return y!==b})},1)},[]),f=l.useCallback(function(u){r.current=L(u),a.current=void 0},[]),p=l.useCallback(function(u){h(u.type,Q(u),u.target,i(u,e.lockRef.current))},[]),g=l.useCallback(function(u){h(u.type,L(u),u.target,i(u,e.lockRef.current))},[]);l.useEffect(function(){return _.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",v,T),document.addEventListener("touchmove",v,T),document.addEventListener("touchstart",f,T),function(){_=_.filter(function(u){return u!==o}),document.removeEventListener("wheel",v,T),document.removeEventListener("touchmove",v,T),document.removeEventListener("touchstart",f,T)}},[]);var P=e.removeScrollBar,E=e.inert;return l.createElement(l.Fragment,null,E?l.createElement(o,{styles:mt(n)}):null,P?l.createElement(Xe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Pt(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bt=Ye(ie,Ct);var fe=l.forwardRef(function(e,t){return l.createElement(W,A({},e,{ref:t,sideCar:bt}))});fe.classNames=W.classNames;var $="Popover",[pe,$t]=oe($,[ae]),M=ae(),[wt,N]=pe($),he=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:n,onOpenChange:o,modal:c=!1}=e,i=M(t),v=l.useRef(null),[h,f]=l.useState(!1),[p,g]=V({prop:a,defaultProp:n??!1,onChange:o,caller:$});return s.jsx(Ze,{...i,children:s.jsx(wt,{scope:t,contentId:Ke(),triggerRef:v,open:p,onOpenChange:g,onOpenToggle:l.useCallback(()=>g(P=>!P),[g]),hasCustomAnchor:h,onCustomAnchorAdd:l.useCallback(()=>f(!0),[]),onCustomAnchorRemove:l.useCallback(()=>f(!1),[]),modal:c,children:r})})};he.displayName=$;var ge="PopoverAnchor",Rt=l.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=N(ge,r),o=M(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:i}=n;return l.useEffect(()=>(c(),()=>i()),[c,i]),s.jsx(se,{...o,...a,ref:t})});Rt.displayName=ge;var me="PopoverTrigger",xe=l.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=N(me,r),o=M(r),c=ne(t,n.triggerRef),i=s.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Re(n.open),...a,ref:c,onClick:G(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?i:s.jsx(se,{asChild:!0,...o,children:i})});xe.displayName=me;var Y="PopoverPortal",[yt,St]=pe(Y,{forceMount:void 0}),Ce=e=>{const{__scopePopover:t,forceMount:r,children:a,container:n}=e,o=N(Y,t);return s.jsx(yt,{scope:t,forceMount:r,children:s.jsx(le,{present:r||o.open,children:s.jsx(Ue,{asChild:!0,container:n,children:a})})})};Ce.displayName=Y;var I="PopoverContent",Pe=l.forwardRef((e,t)=>{const r=St(I,e.__scopePopover),{forceMount:a=r.forceMount,...n}=e,o=N(I,e.__scopePopover);return s.jsx(le,{present:a||o.open,children:o.modal?s.jsx(jt,{...n,ref:t}):s.jsx(Et,{...n,ref:t})})});Pe.displayName=I;var Nt=Qe("PopoverContent.RemoveScroll"),jt=l.forwardRef((e,t)=>{const r=N(I,e.__scopePopover),a=l.useRef(null),n=ne(t,a),o=l.useRef(!1);return l.useEffect(()=>{const c=a.current;if(c)return qe(c)},[]),s.jsx(fe,{as:Nt,allowPinchZoom:!0,children:s.jsx(be,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,c=>{c.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,v=i.button===0&&i.ctrlKey===!0,h=i.button===2||v;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:G(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Et=l.forwardRef((e,t)=>{const r=N(I,e.__scopePopover),a=l.useRef(!1),n=l.useRef(!1);return s.jsx(be,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(a.current||r.triggerRef.current?.focus(),o.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=o.target;r.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),be=l.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:v,onFocusOutside:h,onInteractOutside:f,...p}=e,g=N(I,r),P=M(r);return Je(),s.jsx(et,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:o,children:s.jsx(tt,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:v,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(rt,{"data-state":Re(g.open),role:"dialog",id:g.contentId,...P,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),we="PopoverClose",kt=l.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=N(we,r);return s.jsx(O.button,{type:"button",...a,ref:t,onClick:G(e.onClick,()=>n.onOpenChange(!1))})});kt.displayName=we;var Tt="PopoverArrow",_t=l.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,n=M(r);return s.jsx(at,{...n,...a,ref:t})});_t.displayName=Tt;function Re(e){return e?"open":"closed"}var At=he,Gt=xe,It=Ce,ye=Pe;const Ot=At,Mt=Gt,Se=l.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},n)=>s.jsx(It,{children:s.jsx(ye,{ref:n,align:t,sideOffset:r,className:z("z-50 w-72 rounded-md border border-neutral-200 bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",e),...a})}));Se.displayName=ye.displayName;var Ne="Toggle",Z=l.forwardRef((e,t)=>{const{pressed:r,defaultPressed:a,onPressedChange:n,...o}=e,[c,i]=V({prop:r,onChange:n,defaultProp:a??!1,caller:Ne});return s.jsx(O.button,{type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:G(e.onClick,()=>{e.disabled||i(!c)})})});Z.displayName=Ne;var je=Z,j="ToggleGroup",[Ee,Ht]=oe(j,[ce]),ke=ce(),K=w.forwardRef((e,t)=>{const{type:r,...a}=e;if(r==="single"){const n=a;return s.jsx(Dt,{...n,ref:t})}if(r==="multiple"){const n=a;return s.jsx(Ft,{...n,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${j}\``)});K.displayName=j;var[Te,_e]=Ee(j),Dt=w.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},...o}=e,[c,i]=V({prop:r,defaultProp:a??"",onChange:n,caller:j});return s.jsx(Te,{scope:e.__scopeToggleGroup,type:"single",value:w.useMemo(()=>c?[c]:[],[c]),onItemActivate:i,onItemDeactivate:w.useCallback(()=>i(""),[i]),children:s.jsx(Ae,{...o,ref:t})})}),Ft=w.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},...o}=e,[c,i]=V({prop:r,defaultProp:a??[],onChange:n,caller:j}),v=w.useCallback(f=>i((p=[])=>[...p,f]),[i]),h=w.useCallback(f=>i((p=[])=>p.filter(g=>g!==f)),[i]);return s.jsx(Te,{scope:e.__scopeToggleGroup,type:"multiple",value:c,onItemActivate:v,onItemDeactivate:h,children:s.jsx(Ae,{...o,ref:t})})});K.displayName=j;var[Lt,Bt]=Ee(j),Ae=w.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:a=!1,rovingFocus:n=!0,orientation:o,dir:c,loop:i=!0,...v}=e,h=ke(r),f=nt(c),p={role:"group",dir:f,...v};return s.jsx(Lt,{scope:r,rovingFocus:n,disabled:a,children:n?s.jsx(st,{asChild:!0,...h,orientation:o,dir:f,loop:i,children:s.jsx(O.div,{...p,ref:t})}):s.jsx(O.div,{...p,ref:t})})}),B="ToggleGroupItem",Ge=w.forwardRef((e,t)=>{const r=_e(B,e.__scopeToggleGroup),a=Bt(B,e.__scopeToggleGroup),n=ke(e.__scopeToggleGroup),o=r.value.includes(e.value),c=a.disabled||e.disabled,i={...e,pressed:o,disabled:c},v=w.useRef(null);return a.rovingFocus?s.jsx(ot,{asChild:!0,...n,focusable:!c,active:o,ref:v,children:s.jsx(ee,{...i,ref:t})}):s.jsx(ee,{...i,ref:t})});Ge.displayName=B;var ee=w.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:a,...n}=e,o=_e(B,r),c={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=o.type==="single"?c:void 0;return s.jsx(Z,{...i,...n,ref:t,onPressedChange:v=>{v?o.onItemActivate(a):o.onItemDeactivate(a)}})}),Ie=K,Oe=Ge;const Me=lt("inline-flex items-center justify-center gap-2 rounded-sm text-sm font-medium transition-colors hover:bg-neutral-100 hover:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-neutral-100 data-[state=on]:text-neutral-900 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:hover:bg-neutral-800 dark:hover:text-neutral-400 dark:focus-visible:ring-neutral-300 dark:data-[state=on]:bg-neutral-800 dark:data-[state=on]:text-neutral-50",{variants:{variant:{default:"bg-transparent",outline:"hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:hover:bg-neutral-800 dark:hover:text-neutral-50"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Vt=l.forwardRef(({className:e,variant:t,size:r,...a},n)=>s.jsx(je,{ref:n,className:z(Me({variant:t,size:r,className:e})),...a}));Vt.displayName=je.displayName;const De=l.createContext({size:"default",variant:"default"}),Fe=l.forwardRef(({className:e,variant:t,size:r,children:a,...n},o)=>s.jsx(Ie,{ref:o,className:z("flex items-center justify-center gap-1",e),...n,children:s.jsx(De.Provider,{value:{variant:t,size:r},children:a})}));Fe.displayName=Ie.displayName;const C=l.forwardRef(({className:e,children:t,variant:r,size:a,...n},o)=>{const c=l.useContext(De);return s.jsx(Oe,{ref:o,className:z(Me({variant:c.variant||r,size:c.size||a}),e),...n,children:t})});C.displayName=Oe.displayName;const Xt=({rarityFilter:e,setRarityFilter:t,deckbuildingMode:r,collapse:a})=>{const{t:n}=re("rarity-filter");l.useEffect(()=>{if(r){const c=["◊","◊◊","◊◊◊","◊◊◊◊"];t(e.filter(i=>c.includes(i)))}},[r]);const o=l.useMemo(()=>s.jsxs(Fe,{variant:"outline",type:"multiple",size:"sm",value:e,onValueChange:c=>t(c),className:`justify-center shadow-none border-1 border-neutral-700 rounded-md flex-wrap ${a?"flex-col":"flex-row"}`,children:[s.jsx(C,{value:"◊","aria-label":"◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢"}),s.jsx(C,{value:"◊◊","aria-label":"◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢"}),s.jsx(C,{value:"◊◊◊","aria-label":"◊◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢♢"}),s.jsx(C,{value:"◊◊◊◊","aria-label":"◊◊◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢♢♢"}),!r&&s.jsxs(s.Fragment,{children:[s.jsx(C,{value:"☆","aria-label":"☆",className:"text-yellow-500 hover:text-yellow-600 .dark:data-[state=on]:text-yellow-500 px-1",children:"☆"}),s.jsx(C,{value:"☆☆","aria-label":"☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:"☆☆"}),s.jsx(C,{value:"☆☆☆","aria-label":"☆☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:"☆☆☆"}),s.jsx(C,{value:"✵","aria-label":"✵",className:"text-pink-300 hover:text-pink-500 .dark:data-[state=on]:text-pink-400 px-1",children:"✵"}),s.jsx(C,{value:"✵✵","aria-label":"✵✵",className:"text-pink-300 hover:text-pink-500 data-[state=on]:text-pink-400 px-1",children:"✵✵"}),s.jsx(C,{value:"Crown Rare","aria-label":"♛",className:"px-1",children:"👑"}),s.jsx(C,{value:"P","aria-label":"P",className:"px-1",children:"P"})]})]}),[e,a,r]);return a?s.jsxs(Ot,{children:[s.jsx(Mt,{asChild:!0,children:s.jsxs(ct,{variant:"outline",children:[n("filters")," (",e.length,")"]})}),s.jsx(Se,{className:"w-32",children:o})]}):o};function te(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function Yt(){const[e,t]=l.useState(te());return l.useEffect(()=>{function r(){t(te())}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}export{Wt as N,Ot as P,Xt as R,Fe as T,C as a,Mt as b,Se as c,Yt as u};
