import{u as T,j as b,r as d,G as j,g as Q,$ as s}from"./index-wq27GdxM.js";import{M as _,C as U}from"./react-tooltip.min-CmCoZvEm.js";import{a as $}from"./Filters-MiDX6IJb.js";import{f as H}from"./utils-Dx5VD6D0.js";const pe=({deckbuildingMode:e,setDeckbuildingMode:t})=>{const{t:r}=T("deckbuilding-filter");return b.jsxs("div",{className:"flex items-center space-x-2 text-white/50",children:[b.jsx("input",{type:"checkbox",id:"checkbox",checked:e,onChange:()=>t(!e),className:"w-5 h-5"}),b.jsx("label",{htmlFor:"checkbox",className:"text-md",children:r("deckbuildingModeLabel")}),b.jsx(_,{id:"deckbuildingMode",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),b.jsx(U,{className:"h-4 w-4","data-tooltip-id":"deckbuildingMode","data-tooltip-content":r("deckbuildingModeTooltip")})]})},P=["◊","◊◊","◊◊◊","◊◊◊◊","P"],ve=({rarities:e,rarityFilter:t,setRarityFilter:r,deckbuildingMode:n,className:i})=>{d.useEffect(()=>{n&&r(t.filter(o=>P.includes(o)))},[n]);const c=e??j;return b.jsx($,{className:i,options:c,value:t,onChange:r,show:H,asChild:!0})};var C={},D;function F(){if(D)return C;D=1,C.match=c,C.parse=o;var e=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,t=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,r=/^(?:(min|max)-)?(.+)/,n=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function c(f,a){return o(f).some(function(u){var p=u.inverse,w=u.type==="all"||a.type===u.type;if(w&&p||!(w||p))return!1;var y=u.expressions.every(function(x){var E=x.feature,R=x.modifier,m=x.value,v=a[E];if(!v)return!1;switch(E){case"orientation":case"scan":return v.toLowerCase()===m.toLowerCase();case"width":case"height":case"device-width":case"device-height":m=M(m),v=M(v);break;case"resolution":m=h(m),v=h(v);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":m=g(m),v=g(v);break;case"grid":case"color":case"color-index":case"monochrome":m=parseInt(m,10)||1,v=parseInt(v,10)||0;break}switch(R){case"min":return v>=m;case"max":return v<=m;default:return v===m}});return y&&!p||!y&&p})}function o(f){return f.split(",").map(function(a){a=a.trim();var u=a.match(e),p=u[1],w=u[2],y=u[3]||"",x={};return x.inverse=!!p&&p.toLowerCase()==="not",x.type=w?w.toLowerCase():"all",y=y.match(/\([^\)]+\)/g)||[],x.expressions=y.map(function(E){var R=E.match(t),m=R[1].toLowerCase().match(r);return{modifier:m[1],feature:m[2],value:R[2]}}),x})}function g(f){var a=Number(f),u;return a||(u=f.match(/^(\d+)\s*\/\s*(\d+)$/),a=u[1]/u[2]),a}function h(f){var a=parseFloat(f),u=String(f).match(i)[1];switch(u){case"dpcm":return a/2.54;case"dppx":return a*96;default:return a}}function M(f){var a=parseFloat(f),u=String(f).match(n)[1];switch(u){case"em":return a*16;case"rem":return a*16;case"cm":return a*96/2.54;case"mm":return a*96/2.54/10;case"in":return a*96;case"pt":return a*72;case"pc":return a*72/12;default:return a}}return C}var k,O;function W(){if(O)return k;O=1;var e=F().match,t=typeof window<"u"?window.matchMedia:null;function r(i,c,o){var g=this,h;t&&!o&&(h=t.call(window,i)),h?(this.matches=h.matches,this.media=h.media,h.addListener(a)):(this.matches=e(i,c),this.media=i),this.addListener=M,this.removeListener=f,this.dispose=u;function M(p){h&&h.addListener(p)}function f(p){h&&h.removeListener(p)}function a(p){g.matches=p.matches,g.media=p.media}function u(){h&&h.removeListener(a)}}function n(i,c,o){return new r(i,c,o)}return k=n,k}var A=W();const K=Q(A);var G=/[A-Z]/g,V=/^ms-/,L={};function X(e){return"-"+e.toLowerCase()}function N(e){if(L.hasOwnProperty(e))return L[e];var t=e.replace(G,X);return L[e]=V.test(t)?"-"+t:t}function Y(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t),i=r.length;if(n.length!==i)return!1;for(let c=0;c<i;c++){const o=r[c];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}const l=s.oneOfType([s.string,s.number]),I={all:s.bool,grid:s.bool,aural:s.bool,braille:s.bool,handheld:s.bool,print:s.bool,projection:s.bool,screen:s.bool,tty:s.bool,tv:s.bool,embossed:s.bool},Z={orientation:s.oneOf(["portrait","landscape"]),scan:s.oneOf(["progressive","interlace"]),aspectRatio:s.string,deviceAspectRatio:s.string,height:l,deviceHeight:l,width:l,deviceWidth:l,color:s.bool,colorIndex:s.bool,monochrome:s.bool,resolution:l,type:Object.keys(I)},{type:xe,...z}=Z,J={minAspectRatio:s.string,maxAspectRatio:s.string,minDeviceAspectRatio:s.string,maxDeviceAspectRatio:s.string,minHeight:l,maxHeight:l,minDeviceHeight:l,maxDeviceHeight:l,minWidth:l,maxWidth:l,minDeviceWidth:l,maxDeviceWidth:l,minColor:s.number,maxColor:s.number,minColorIndex:s.number,maxColorIndex:s.number,minMonochrome:s.number,maxMonochrome:s.number,minResolution:l,maxResolution:l,...z},B={...I,...J};var ee={all:B};const te=e=>`not ${e}`,re=(e,t)=>{const r=N(e);return typeof t=="number"&&(t=`${t}px`),t===!0?r:t===!1?te(r):`(${r}: ${t})`},se=e=>e.join(" and "),ne=e=>{const t=[];return Object.keys(ee.all).forEach(r=>{const n=e[r];n!=null&&t.push(re(r,n))}),se(t)},ae=d.createContext(void 0),ie=e=>e.query||ne(e),q=e=>e?Object.keys(e).reduce((r,n)=>(r[N(n)]=e[n],r),{}):void 0,S=()=>{const e=d.useRef(!1);return d.useEffect(()=>{e.current=!0},[]),e.current},ce=e=>{const t=d.useContext(ae),r=()=>q(e)||q(t),[n,i]=d.useState(r);return d.useEffect(()=>{const c=r();Y(n,c)||i(c)},[e,t]),n},oe=e=>{const t=()=>ie(e),[r,n]=d.useState(t);return d.useEffect(()=>{const i=t();r!==i&&n(i)},[e]),r},ue=(e,t)=>{const r=()=>K(e,t||{},!!t),[n,i]=d.useState(r),c=S();return d.useEffect(()=>{if(c){const o=r();return i(o),()=>{o&&o.dispose()}}},[e,t]),n},me=e=>{const[t,r]=d.useState(e.matches);return d.useEffect(()=>{const n=i=>{r(i.matches)};return e.addListener(n),r(e.matches),()=>{e.removeListener(n)}},[e]),t},ye=(e,t,r)=>{const n=ce(t),i=oe(e);if(!i)throw new Error("Invalid or missing MediaQuery!");const c=ue(i,n),o=me(c);return S(),d.useEffect(()=>{},[o]),d.useEffect(()=>()=>{c&&c.dispose()},[]),o};export{pe as D,ve as R,ye as u};
