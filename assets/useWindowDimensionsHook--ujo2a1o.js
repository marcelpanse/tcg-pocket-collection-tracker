import{a9 as Fe,r as s,aa as Le,ab as Be,ac as A,ad as Ve,ae as ze,af as We,ag as $e,ah as He,ai as Xe,aj as re,a2 as V,j as l,ak as Ye,e as ae,a3 as Ze,al as oe,f as I,a7 as G,am as ne,a8 as se,an as Ke,ao as Ue,ap as qe,aq as Qe,ar as Je,as as et,at as tt,au as rt,a as z,R as b,a4 as le,a6 as at,a1 as ot,a5 as nt,av as st,u as lt,B as ct}from"./index-LlXw60fV.js";var ce=Fe(),H=function(){},W=s.forwardRef(function(e,t){var r=s.useRef(null),a=s.useState({onScrollCapture:H,onWheelCapture:H,onTouchMoveCapture:H}),o=a[0],n=a[1],c=e.forwardProps,i=e.children,v=e.className,g=e.removeScrollBar,f=e.enabled,p=e.shards,h=e.sideCar,C=e.noRelative,E=e.noIsolation,u=e.inert,d=e.allowPinchZoom,x=e.as,R=x===void 0?"div":x,w=e.gapMode,y=Le(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),m=h,k=Be([r,t]),S=A(A({},y),o);return s.createElement(s.Fragment,null,f&&s.createElement(m,{sideCar:ce,removeScrollBar:g,shards:p,noRelative:C,noIsolation:E,inert:u,setCallbacks:n,allowPinchZoom:!!d,lockRef:r,gapMode:w}),c?s.cloneElement(s.Children.only(i),A(A({},S),{ref:k})):s.createElement(R,A({},S,{className:v,ref:k}),i))});W.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};W.classNames={fullWidth:ze,zeroRight:Ve};var X=!1;if(typeof window<"u")try{var F=Object.defineProperty({},"passive",{get:function(){return X=!0,!0}});window.addEventListener("test",F,F),window.removeEventListener("test",F,F)}catch{X=!1}var T=X?{passive:!1}:!1,it=function(e){return e.tagName==="TEXTAREA"},ie=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!it(e)&&r[t]==="visible")},ut=function(e){return ie(e,"overflowY")},dt=function(e){return ie(e,"overflowX")},q=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=ue(e,a);if(o){var n=de(e,a),c=n[1],i=n[2];if(c>i)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},vt=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},ft=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},ue=function(e,t){return e==="v"?ut(t):dt(t)},de=function(e,t){return e==="v"?vt(t):ft(t)},pt=function(e,t){return e==="h"&&t==="rtl"?-1:1},gt=function(e,t,r,a,o){var n=pt(e,window.getComputedStyle(t).direction),c=n*a,i=r.target,v=t.contains(i),g=!1,f=c>0,p=0,h=0;do{var C=de(e,i),E=C[0],u=C[1],d=C[2],x=u-d-n*E;(E||x)&&ue(e,i)&&(p+=x,h+=E),i=i.parentNode.host||i.parentNode}while(!v&&i!==document.body||v&&(t.contains(i)||t===i));return(f&&Math.abs(p)<1||!f&&Math.abs(h)<1)&&(g=!0),g},L=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Q=function(e){return[e.deltaX,e.deltaY]},J=function(e){return e&&"current"in e?e.current:e},ht=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mt=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xt=0,_=[];function Pt(e){var t=s.useRef([]),r=s.useRef([0,0]),a=s.useRef(),o=s.useState(xt++)[0],n=s.useState(We)[0],c=s.useRef(e);s.useEffect(function(){c.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var u=$e([e.lockRef.current],(e.shards||[]).map(J),!0).filter(Boolean);return u.forEach(function(d){return d.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),u.forEach(function(d){return d.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=s.useCallback(function(u,d){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!c.current.allowPinchZoom;var x=L(u),R=r.current,w="deltaX"in u?u.deltaX:R[0]-x[0],y="deltaY"in u?u.deltaY:R[1]-x[1],m,k=u.target,S=Math.abs(w)>Math.abs(y)?"h":"v";if("touches"in u&&S==="h"&&k.type==="range")return!1;var D=q(S,k);if(!D)return!0;if(D?m=S:(m=S==="v"?"h":"v",D=q(S,k)),!D)return!1;if(!a.current&&"changedTouches"in u&&(w||y)&&(a.current=m),!m)return!0;var U=a.current||m;return gt(U,d,u,U==="h"?w:y)},[]),v=s.useCallback(function(u){var d=u;if(!(!_.length||_[_.length-1]!==n)){var x="deltaY"in d?Q(d):L(d),R=t.current.filter(function(m){return m.name===d.type&&(m.target===d.target||d.target===m.shadowParent)&&ht(m.delta,x)})[0];if(R&&R.should){d.cancelable&&d.preventDefault();return}if(!R){var w=(c.current.shards||[]).map(J).filter(Boolean).filter(function(m){return m.contains(d.target)}),y=w.length>0?i(d,w[0]):!c.current.noIsolation;y&&d.cancelable&&d.preventDefault()}}},[]),g=s.useCallback(function(u,d,x,R){var w={name:u,delta:d,target:x,should:R,shadowParent:Ct(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(y){return y!==w})},1)},[]),f=s.useCallback(function(u){r.current=L(u),a.current=void 0},[]),p=s.useCallback(function(u){g(u.type,Q(u),u.target,i(u,e.lockRef.current))},[]),h=s.useCallback(function(u){g(u.type,L(u),u.target,i(u,e.lockRef.current))},[]);s.useEffect(function(){return _.push(n),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",v,T),document.addEventListener("touchmove",v,T),document.addEventListener("touchstart",f,T),function(){_=_.filter(function(u){return u!==n}),document.removeEventListener("wheel",v,T),document.removeEventListener("touchmove",v,T),document.removeEventListener("touchstart",f,T)}},[]);var C=e.removeScrollBar,E=e.inert;return s.createElement(s.Fragment,null,E?s.createElement(n,{styles:mt(o)}):null,C?s.createElement(He,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Ct(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wt=Xe(ce,Pt);var ve=s.forwardRef(function(e,t){return s.createElement(W,A({},e,{ref:t,sideCar:wt}))});ve.classNames=W.classNames;var $="Popover",[fe,Wt]=ae($,[re]),M=re(),[bt,j]=fe($),pe=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:o,onOpenChange:n,modal:c=!1}=e,i=M(t),v=s.useRef(null),[g,f]=s.useState(!1),[p,h]=V({prop:a,defaultProp:o??!1,onChange:n,caller:$});return l.jsx(Ye,{...i,children:l.jsx(bt,{scope:t,contentId:Ze(),triggerRef:v,open:p,onOpenChange:h,onOpenToggle:s.useCallback(()=>h(C=>!C),[h]),hasCustomAnchor:g,onCustomAnchorAdd:s.useCallback(()=>f(!0),[]),onCustomAnchorRemove:s.useCallback(()=>f(!1),[]),modal:c,children:r})})};pe.displayName=$;var ge="PopoverAnchor",Rt=s.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,o=j(ge,r),n=M(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:i}=o;return s.useEffect(()=>(c(),()=>i()),[c,i]),l.jsx(ne,{...n,...a,ref:t})});Rt.displayName=ge;var he="PopoverTrigger",me=s.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,o=j(he,r),n=M(r),c=oe(t,o.triggerRef),i=l.jsx(I.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":be(o.open),...a,ref:c,onClick:G(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:l.jsx(ne,{asChild:!0,...n,children:i})});me.displayName=he;var Y="PopoverPortal",[yt,St]=fe(Y,{forceMount:void 0}),xe=e=>{const{__scopePopover:t,forceMount:r,children:a,container:o}=e,n=j(Y,t);return l.jsx(yt,{scope:t,forceMount:r,children:l.jsx(se,{present:r||n.open,children:l.jsx(Ke,{asChild:!0,container:o,children:a})})})};xe.displayName=Y;var O="PopoverContent",Pe=s.forwardRef((e,t)=>{const r=St(O,e.__scopePopover),{forceMount:a=r.forceMount,...o}=e,n=j(O,e.__scopePopover);return l.jsx(se,{present:a||n.open,children:n.modal?l.jsx(Nt,{...o,ref:t}):l.jsx(Et,{...o,ref:t})})});Pe.displayName=O;var jt=qe("PopoverContent.RemoveScroll"),Nt=s.forwardRef((e,t)=>{const r=j(O,e.__scopePopover),a=s.useRef(null),o=oe(t,a),n=s.useRef(!1);return s.useEffect(()=>{const c=a.current;if(c)return Ue(c)},[]),l.jsx(ve,{as:jt,allowPinchZoom:!0,children:l.jsx(Ce,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,c=>{c.preventDefault(),n.current||r.triggerRef.current?.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,v=i.button===0&&i.ctrlKey===!0,g=i.button===2||v;n.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:G(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Et=s.forwardRef((e,t)=>{const r=j(O,e.__scopePopover),a=s.useRef(!1),o=s.useRef(!1);return l.jsx(Ce,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{e.onCloseAutoFocus?.(n),n.defaultPrevented||(a.current||r.triggerRef.current?.focus(),n.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:n=>{e.onInteractOutside?.(n),n.defaultPrevented||(a.current=!0,n.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=n.target;r.triggerRef.current?.contains(c)&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&o.current&&n.preventDefault()}})}),Ce=s.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:n,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:f,...p}=e,h=j(O,r),C=M(r);return Qe(),l.jsx(Je,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:n,children:l.jsx(et,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:v,onFocusOutside:g,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(tt,{"data-state":be(h.open),role:"dialog",id:h.contentId,...C,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),we="PopoverClose",kt=s.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,o=j(we,r);return l.jsx(I.button,{type:"button",...a,ref:t,onClick:G(e.onClick,()=>o.onOpenChange(!1))})});kt.displayName=we;var Tt="PopoverArrow",_t=s.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,o=M(r);return l.jsx(rt,{...o,...a,ref:t})});_t.displayName=Tt;function be(e){return e?"open":"closed"}var At=pe,Gt=me,Ot=xe,Re=Pe;const It=At,Mt=Gt,ye=s.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},o)=>l.jsx(Ot,{children:l.jsx(Re,{ref:o,align:t,sideOffset:r,className:z("z-50 w-72 rounded-md border border-neutral-200 bg-white p-4 text-neutral-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",e),...a})}));ye.displayName=Re.displayName;var Se="Toggle",Z=s.forwardRef((e,t)=>{const{pressed:r,defaultPressed:a,onPressedChange:o,...n}=e,[c,i]=V({prop:r,onChange:o,defaultProp:a??!1,caller:Se});return l.jsx(I.button,{type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":e.disabled?"":void 0,...n,ref:t,onClick:G(e.onClick,()=>{e.disabled||i(!c)})})});Z.displayName=Se;var je=Z,N="ToggleGroup",[Ne,$t]=ae(N,[le]),Ee=le(),K=b.forwardRef((e,t)=>{const{type:r,...a}=e;if(r==="single"){const o=a;return l.jsx(Dt,{...o,ref:t})}if(r==="multiple"){const o=a;return l.jsx(Ft,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${N}\``)});K.displayName=N;var[ke,Te]=Ne(N),Dt=b.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:o=()=>{},...n}=e,[c,i]=V({prop:r,defaultProp:a??"",onChange:o,caller:N});return l.jsx(ke,{scope:e.__scopeToggleGroup,type:"single",value:b.useMemo(()=>c?[c]:[],[c]),onItemActivate:i,onItemDeactivate:b.useCallback(()=>i(""),[i]),children:l.jsx(_e,{...n,ref:t})})}),Ft=b.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:o=()=>{},...n}=e,[c,i]=V({prop:r,defaultProp:a??[],onChange:o,caller:N}),v=b.useCallback(f=>i((p=[])=>[...p,f]),[i]),g=b.useCallback(f=>i((p=[])=>p.filter(h=>h!==f)),[i]);return l.jsx(ke,{scope:e.__scopeToggleGroup,type:"multiple",value:c,onItemActivate:v,onItemDeactivate:g,children:l.jsx(_e,{...n,ref:t})})});K.displayName=N;var[Lt,Bt]=Ne(N),_e=b.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:a=!1,rovingFocus:o=!0,orientation:n,dir:c,loop:i=!0,...v}=e,g=Ee(r),f=ot(c),p={role:"group",dir:f,...v};return l.jsx(Lt,{scope:r,rovingFocus:o,disabled:a,children:o?l.jsx(nt,{asChild:!0,...g,orientation:n,dir:f,loop:i,children:l.jsx(I.div,{...p,ref:t})}):l.jsx(I.div,{...p,ref:t})})}),B="ToggleGroupItem",Ae=b.forwardRef((e,t)=>{const r=Te(B,e.__scopeToggleGroup),a=Bt(B,e.__scopeToggleGroup),o=Ee(e.__scopeToggleGroup),n=r.value.includes(e.value),c=a.disabled||e.disabled,i={...e,pressed:n,disabled:c},v=b.useRef(null);return a.rovingFocus?l.jsx(at,{asChild:!0,...o,focusable:!c,active:n,ref:v,children:l.jsx(ee,{...i,ref:t})}):l.jsx(ee,{...i,ref:t})});Ae.displayName=B;var ee=b.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:a,...o}=e,n=Te(B,r),c={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=n.type==="single"?c:void 0;return l.jsx(Z,{...i,...o,ref:t,onPressedChange:v=>{v?n.onItemActivate(a):n.onItemDeactivate(a)}})}),Ge=K,Oe=Ae;const Ie=st("inline-flex items-center justify-center gap-2 rounded-sm text-sm font-medium transition-colors hover:bg-neutral-100 hover:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-neutral-100 data-[state=on]:text-neutral-900 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:hover:bg-neutral-800 dark:hover:text-neutral-400 dark:focus-visible:ring-neutral-300 dark:data-[state=on]:bg-neutral-800 dark:data-[state=on]:text-neutral-50",{variants:{variant:{default:"bg-transparent",outline:"hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:hover:bg-neutral-800 dark:hover:text-neutral-50"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Vt=s.forwardRef(({className:e,variant:t,size:r,...a},o)=>l.jsx(je,{ref:o,className:z(Ie({variant:t,size:r,className:e})),...a}));Vt.displayName=je.displayName;const Me=s.createContext({size:"default",variant:"default"}),De=s.forwardRef(({className:e,variant:t,size:r,children:a,...o},n)=>l.jsx(Ge,{ref:n,className:z("flex items-center justify-center gap-1",e),...o,children:l.jsx(Me.Provider,{value:{variant:t,size:r},children:a})}));De.displayName=Ge.displayName;const P=s.forwardRef(({className:e,children:t,variant:r,size:a,...o},n)=>{const c=s.useContext(Me);return l.jsx(Oe,{ref:n,className:z(Ie({variant:c.variant||r,size:c.size||a}),e),...o,children:t})});P.displayName=Oe.displayName;const Ht=({rarityFilter:e,setRarityFilter:t,deckbuildingMode:r,collapse:a})=>{const{t:o}=lt("rarity-filter");s.useEffect(()=>{if(r){const c=["◊","◊◊","◊◊◊","◊◊◊◊"];t(e.filter(i=>c.includes(i)))}},[r]);const n=s.useMemo(()=>l.jsxs(De,{variant:"outline",type:"multiple",size:"sm",value:e,onValueChange:c=>t(c),className:`justify-center shadow-none border-1 border-neutral-700 rounded-md flex-wrap ${a?"flex-col":"flex-row"}`,children:[l.jsx(P,{value:"◊","aria-label":"◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢"}),l.jsx(P,{value:"◊◊","aria-label":"◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢"}),l.jsx(P,{value:"◊◊◊","aria-label":"◊◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢♢"}),l.jsx(P,{value:"◊◊◊◊","aria-label":"◊◊◊◊",className:"text-gray-400 hover:text-gray-500 px-1",children:"♢♢♢♢"}),!r&&l.jsxs(l.Fragment,{children:[l.jsx(P,{value:"☆","aria-label":"☆",className:"text-yellow-500 hover:text-yellow-600 .dark:data-[state=on]:text-yellow-500 px-1",children:"☆"}),l.jsx(P,{value:"☆☆","aria-label":"☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:"☆☆"}),l.jsx(P,{value:"☆☆☆","aria-label":"☆☆☆",className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:"☆☆☆"}),l.jsx(P,{value:"✵","aria-label":"✵",className:"text-pink-300 hover:text-pink-500 .dark:data-[state=on]:text-pink-400 px-1",children:"✵"}),l.jsx(P,{value:"✵✵","aria-label":"✵✵",className:"text-pink-300 hover:text-pink-500 data-[state=on]:text-pink-400 px-1",children:"✵✵"}),l.jsx(P,{value:"Crown Rare","aria-label":"♛",className:"px-1",children:"👑"}),l.jsx(P,{value:"P","aria-label":"P",className:"px-1",children:"P"})]})]}),[e,a,r]);return a?l.jsxs(It,{children:[l.jsx(Mt,{asChild:!0,children:l.jsxs(ct,{variant:"outline",children:[o("filters")," (",e.length,")"]})}),l.jsx(ye,{className:"w-32",children:n})]}):n};function te(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function Xt(){const[e,t]=s.useState(te());return s.useEffect(()=>{function r(){t(te())}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}export{It as P,Ht as R,De as T,P as a,Mt as b,ye as c,Xt as u};
