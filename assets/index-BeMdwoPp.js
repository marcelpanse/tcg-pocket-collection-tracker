import{j as g}from"./query-vendor-BtExsvmS.js";import{a as O,r as _,P as c}from"./index-B7pfeaGh.js";import{M as I,C as $}from"./react-tooltip.min-CcFhWTa-.js";import{u as F}from"./i18n-vendor-Dl1_3pZV.js";import{r as p,g as P}from"./react-vendor-BHI5tqau.js";import{a as Q}from"./Filters-nIm3BuFr.js";const ge=t=>{const e=O.c(19),{deckbuildingMode:s,setDeckbuildingMode:n}=t,{t:r}=F("deckbuilding-filter");let i;e[0]!==s||e[1]!==n?(i=()=>n(!s),e[0]=s,e[1]=n,e[2]=i):i=e[2];let o;e[3]!==s||e[4]!==i?(o=g.jsx("input",{type:"checkbox",id:"checkbox",checked:s,onChange:i,className:"w-5 h-5"}),e[3]=s,e[4]=i,e[5]=o):o=e[5];let d;e[6]!==r?(d=r("deckbuildingModeLabel"),e[6]=r,e[7]=d):d=e[7];let u;e[8]!==d?(u=g.jsx("label",{htmlFor:"checkbox",className:"text-md",children:d}),e[8]=d,e[9]=u):u=e[9];let v;e[10]===Symbol.for("react.memo_cache_sentinel")?(v=g.jsx(I,{id:"deckbuildingMode",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e[10]=v):v=e[10];let l;e[11]!==r?(l=r("deckbuildingModeTooltip"),e[11]=r,e[12]=l):l=e[12];let a;e[13]!==l?(a=g.jsx($,{className:"h-4 w-4","data-tooltip-id":"deckbuildingMode","data-tooltip-content":l}),e[13]=l,e[14]=a):a=e[14];let m;return e[15]!==o||e[16]!==u||e[17]!==a?(m=g.jsxs("div",{className:"flex items-center space-x-2 text-white/50",children:[o,u,v,a]}),e[15]=o,e[16]=u,e[17]=a,e[18]=m):m=e[18],m};function U(t){switch(t){case"â—Š":case"â—Šâ—Š":case"â—Šâ—Šâ—Š":case"â—Šâ—Šâ—Šâ—Š":return g.jsx("span",{className:"text-gray-400 hover:text-gray-500 px-1",children:t});case"â˜†":case"â˜†â˜†":case"â˜†â˜†â˜†":return g.jsx("span",{className:"text-yellow-500 hover:text-yellow-600 data-[state=on]:text-yellow-500 px-1",children:t});case"âœµ":case"âœµâœµ":return g.jsx("span",{className:"text-pink-300 hover:text-pink-500 .dark:data-[state=on]:text-pink-400 px-1",children:t});case"Crown Rare":return g.jsx("span",{className:"px-1",children:"ðŸ‘‘"});case"P":return g.jsx("span",{className:"px-1",children:"P"})}return null}function be(t){return t==="trainer"?"T":g.jsx("img",{src:`/images/energy/${t}.webp`,alt:t,className:"h-4"})}const H=["â—Š","â—Šâ—Š","â—Šâ—Šâ—Š","â—Šâ—Šâ—Šâ—Š","P"],we=t=>{const e=O.c(11),{rarities:s,rarityFilter:n,setRarityFilter:r,deckbuildingMode:i,className:o}=t;let d;e[0]!==i||e[1]!==n||e[2]!==r?(d=()=>{i&&r(n.filter(W))},e[0]=i,e[1]=n,e[2]=r,e[3]=d):d=e[3];let u;e[4]!==i?(u=[i],e[4]=i,e[5]=u):u=e[5],p.useEffect(d,u);const v=s??_;let l;return e[6]!==o||e[7]!==v||e[8]!==n||e[9]!==r?(l=g.jsx(Q,{className:o,options:v,value:n,onChange:r,show:U,asChild:!0}),e[6]=o,e[7]=v,e[8]=n,e[9]=r,e[10]=l):l=e[10],l};function W(t){return H.includes(t)}var R={},N;function A(){if(N)return R;N=1,R.match=i,R.parse=o;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,s=/^(?:(min|max)-)?(.+)/,n=/(em|rem|px|cm|mm|in|pt|pc)?$/,r=/(dpi|dpcm|dppx)?$/;function i(l,a){return o(l).some(function(m){var x=m.inverse,M=m.type==="all"||a.type===m.type;if(M&&x||!(M||x))return!1;var w=m.expressions.every(function(b){var k=b.feature,E=b.modifier,f=b.value,y=a[k];if(!y)return!1;switch(k){case"orientation":case"scan":return y.toLowerCase()===f.toLowerCase();case"width":case"height":case"device-width":case"device-height":f=v(f),y=v(y);break;case"resolution":f=u(f),y=u(y);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":f=d(f),y=d(y);break;case"grid":case"color":case"color-index":case"monochrome":f=parseInt(f,10)||1,y=parseInt(y,10)||0;break}switch(E){case"min":return y>=f;case"max":return y<=f;default:return y===f}});return w&&!x||!w&&x})}function o(l){return l.split(",").map(function(a){a=a.trim();var m=a.match(t),x=m[1],M=m[2],w=m[3]||"",b={};return b.inverse=!!x&&x.toLowerCase()==="not",b.type=M?M.toLowerCase():"all",w=w.match(/\([^\)]+\)/g)||[],b.expressions=w.map(function(k){var E=k.match(e),f=E[1].toLowerCase().match(s);return{modifier:f[1],feature:f[2],value:E[2]}}),b})}function d(l){var a=Number(l),m;return a||(m=l.match(/^(\d+)\s*\/\s*(\d+)$/),a=m[1]/m[2]),a}function u(l){var a=parseFloat(l),m=String(l).match(r)[1];switch(m){case"dpcm":return a/2.54;case"dppx":return a*96;default:return a}}function v(l){var a=parseFloat(l),m=String(l).match(n)[1];switch(m){case"em":return a*16;case"rem":return a*16;case"cm":return a*96/2.54;case"mm":return a*96/2.54/10;case"in":return a*96;case"pt":return a*72;case"pc":return a*72/12;default:return a}}return R}var C,D;function K(){if(D)return C;D=1;var t=A().match,e=typeof window<"u"?window.matchMedia:null;function s(r,i,o){var d=this,u;e&&!o&&(u=e.call(window,r)),u?(this.matches=u.matches,this.media=u.media,u.addListener(a)):(this.matches=t(r,i),this.media=r),this.addListener=v,this.removeListener=l,this.dispose=m;function v(x){u&&u.addListener(x)}function l(x){u&&u.removeListener(x)}function a(x){d.matches=x.matches,d.media=x.media}function m(){u&&u.removeListener(a)}}function n(r,i,o){return new s(r,i,o)}return C=n,C}var V=K();const G=P(V);var X=/[A-Z]/g,Y=/^ms-/,L={};function Z(t){return"-"+t.toLowerCase()}function q(t){if(L.hasOwnProperty(t))return L[t];var e=t.replace(X,Z);return L[t]=Y.test(e)?"-"+e:e}function z(t,e){if(t===e)return!0;if(!t||!e)return!1;const s=Object.keys(t),n=Object.keys(e),r=s.length;if(n.length!==r)return!1;for(let i=0;i<r;i++){const o=s[i];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}const h=c.oneOfType([c.string,c.number]),S={all:c.bool,grid:c.bool,aural:c.bool,braille:c.bool,handheld:c.bool,print:c.bool,projection:c.bool,screen:c.bool,tty:c.bool,tv:c.bool,embossed:c.bool},J={orientation:c.oneOf(["portrait","landscape"]),scan:c.oneOf(["progressive","interlace"]),aspectRatio:c.string,deviceAspectRatio:c.string,height:h,deviceHeight:h,width:h,deviceWidth:h,color:c.bool,colorIndex:c.bool,monochrome:c.bool,resolution:h,type:Object.keys(S)},{type:Me,...B}=J,ee={minAspectRatio:c.string,maxAspectRatio:c.string,minDeviceAspectRatio:c.string,maxDeviceAspectRatio:c.string,minHeight:h,maxHeight:h,minDeviceHeight:h,maxDeviceHeight:h,minWidth:h,maxWidth:h,minDeviceWidth:h,maxDeviceWidth:h,minColor:c.number,maxColor:c.number,minColorIndex:c.number,maxColorIndex:c.number,minMonochrome:c.number,maxMonochrome:c.number,minResolution:h,maxResolution:h,...B},te={...S,...ee};var se={all:te};const re=t=>`not ${t}`,ne=(t,e)=>{const s=q(t);return typeof e=="number"&&(e=`${e}px`),e===!0?s:e===!1?re(s):`(${s}: ${e})`},ae=t=>t.join(" and "),ie=t=>{const e=[];return Object.keys(se.all).forEach(s=>{const n=t[s];n!=null&&e.push(ne(s,n))}),ae(e)},ce=p.createContext(void 0),oe=t=>t.query||ie(t),j=t=>t?Object.keys(t).reduce((s,n)=>(s[q(n)]=t[n],s),{}):void 0,T=()=>{const t=p.useRef(!1);return p.useEffect(()=>{t.current=!0},[]),t.current},ue=t=>{const e=p.useContext(ce),s=()=>j(t)||j(e),[n,r]=p.useState(s);return p.useEffect(()=>{const i=s();z(n,i)||r(i)},[t,e]),n},le=t=>{const e=()=>oe(t),[s,n]=p.useState(e);return p.useEffect(()=>{const r=e();s!==r&&n(r)},[t]),s},me=(t,e)=>{const s=()=>G(t,e||{},!!e),[n,r]=p.useState(s),i=T();return p.useEffect(()=>{if(i){const o=s();return r(o),()=>{o&&o.dispose()}}},[t,e]),n},de=t=>{const[e,s]=p.useState(t.matches);return p.useEffect(()=>{const n=r=>{s(r.matches)};return t.addListener(n),s(t.matches),()=>{t.removeListener(n)}},[t]),e},ke=(t,e,s)=>{const n=ue(e),r=le(t);if(!r)throw new Error("Invalid or missing MediaQuery!");const i=me(r,n),o=de(i);return T(),p.useEffect(()=>{},[o]),p.useEffect(()=>()=>{i&&i.dispose()},[]),o};export{ge as D,we as R,be as s,ke as u};
