const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Overview-T256wJAm.js","assets/NumberFilter-Dl3hKuET.js","assets/RarityFilter-L94b0lc7.js","assets/siren-C1udM8gM.js","assets/Collection-DCRX0Ktr.js","assets/tabs-TaLV86Gb.js","assets/Trade-_TxP40co.js","assets/EditProfile-7qXHar4x.js"])))=>i.map(i=>d[i]);
var AJ=Object.defineProperty;var NJ=(t,e,a)=>e in t?AJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var mo=(t,e,a)=>NJ(t,typeof e!="symbol"?e+"":e,a);function HB(t,e){for(var a=0;a<e.length;a++){const n=e[a];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();var HKe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Od(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KB(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var a=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(a,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),a}var PN={exports:{}},C0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R4;function SJ(){if(R4)return C0;R4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(n,r,s){var i=null;if(s!==void 0&&(i=""+s),r.key!==void 0&&(i=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:t,type:n,key:i,ref:r!==void 0?r:null,props:s}}return C0.Fragment=e,C0.jsx=a,C0.jsxs=a,C0}var D4;function TJ(){return D4||(D4=1,PN.exports=SJ()),PN.exports}var L=TJ(),FN={exports:{}},ia={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4;function EJ(){if(P4)return ia;P4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function p(M){return M===null||typeof M!="object"?null:(M=d&&M[d]||M["@@iterator"],typeof M=="function"?M:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,x={};function v(M,se,ue){this.props=M,this.context=se,this.refs=x,this.updater=ue||m}v.prototype.isReactComponent={},v.prototype.setState=function(M,se){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,se,"setState")},v.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=v.prototype;function b(M,se,ue){this.props=M,this.context=se,this.refs=x,this.updater=ue||m}var _=b.prototype=new k;_.constructor=b,g(_,v.prototype),_.isPureReactComponent=!0;var A=Array.isArray,S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function E(M,se,ue,le,ie,ye){return ue=ye.ref,{$$typeof:t,type:M,key:se,ref:ue!==void 0?ue:null,props:ye}}function R(M,se){return E(M.type,se,void 0,void 0,void 0,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function P(M){var se={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ue){return se[ue]})}var D=/\/+/g;function B(M,se){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):se.toString(36)}function U(){}function V(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(U,U):(M.status="pending",M.then(function(se){M.status==="pending"&&(M.status="fulfilled",M.value=se)},function(se){M.status==="pending"&&(M.status="rejected",M.reason=se)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function j(M,se,ue,le,ie){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(ye){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case t:case e:ke=!0;break;case u:return ke=M._init,j(ke(M._payload),se,ue,le,ie)}}if(ke)return ie=ie(M),ke=le===""?"."+B(M,0):le,A(ie)?(ue="",ke!=null&&(ue=ke.replace(D,"$&/")+"/"),j(ie,se,ue,"",function(te){return te})):ie!=null&&(I(ie)&&(ie=R(ie,ue+(ie.key==null||M&&M.key===ie.key?"":(""+ie.key).replace(D,"$&/")+"/")+ke)),se.push(ie)),1;ke=0;var ge=le===""?".":le+":";if(A(M))for(var G=0;G<M.length;G++)le=M[G],ye=ge+B(le,G),ke+=j(le,se,ue,ye,ie);else if(G=p(M),typeof G=="function")for(M=G.call(M),G=0;!(le=M.next()).done;)le=le.value,ye=ge+B(le,G++),ke+=j(le,se,ue,ye,ie);else if(ye==="object"){if(typeof M.then=="function")return j(V(M),se,ue,le,ie);throw se=String(M),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ke}function W(M,se,ue){if(M==null)return M;var le=[],ie=0;return j(M,le,"","",function(ye){return se.call(ue,ye,ie++)}),le}function Q(M){if(M._status===-1){var se=M._result;se=se(),se.then(function(ue){(M._status===0||M._status===-1)&&(M._status=1,M._result=ue)},function(ue){(M._status===0||M._status===-1)&&(M._status=2,M._result=ue)}),M._status===-1&&(M._status=0,M._result=se)}if(M._status===1)return M._result.default;throw M._result}var q=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Z(){}return ia.Children={map:W,forEach:function(M,se,ue){W(M,function(){se.apply(this,arguments)},ue)},count:function(M){var se=0;return W(M,function(){se++}),se},toArray:function(M){return W(M,function(se){return se})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ia.Component=v,ia.Fragment=a,ia.Profiler=r,ia.PureComponent=b,ia.StrictMode=n,ia.Suspense=c,ia.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,ia.act=function(){throw Error("act(...) is not supported in production builds of React.")},ia.cache=function(M){return function(){return M.apply(null,arguments)}},ia.cloneElement=function(M,se,ue){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=g({},M.props),ie=M.key,ye=void 0;if(se!=null)for(ke in se.ref!==void 0&&(ye=void 0),se.key!==void 0&&(ie=""+se.key),se)!C.call(se,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&se.ref===void 0||(le[ke]=se[ke]);var ke=arguments.length-2;if(ke===1)le.children=ue;else if(1<ke){for(var ge=Array(ke),G=0;G<ke;G++)ge[G]=arguments[G+2];le.children=ge}return E(M.type,ie,void 0,void 0,ye,le)},ia.createContext=function(M){return M={$$typeof:i,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},ia.createElement=function(M,se,ue){var le,ie={},ye=null;if(se!=null)for(le in se.key!==void 0&&(ye=""+se.key),se)C.call(se,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ie[le]=se[le]);var ke=arguments.length-2;if(ke===1)ie.children=ue;else if(1<ke){for(var ge=Array(ke),G=0;G<ke;G++)ge[G]=arguments[G+2];ie.children=ge}if(M&&M.defaultProps)for(le in ke=M.defaultProps,ke)ie[le]===void 0&&(ie[le]=ke[le]);return E(M,ye,void 0,void 0,null,ie)},ia.createRef=function(){return{current:null}},ia.forwardRef=function(M){return{$$typeof:o,render:M}},ia.isValidElement=I,ia.lazy=function(M){return{$$typeof:u,_payload:{_status:-1,_result:M},_init:Q}},ia.memo=function(M,se){return{$$typeof:l,type:M,compare:se===void 0?null:se}},ia.startTransition=function(M){var se=S.T,ue={};S.T=ue;try{var le=M(),ie=S.S;ie!==null&&ie(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Z,q)}catch(ye){q(ye)}finally{S.T=se}},ia.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},ia.use=function(M){return S.H.use(M)},ia.useActionState=function(M,se,ue){return S.H.useActionState(M,se,ue)},ia.useCallback=function(M,se){return S.H.useCallback(M,se)},ia.useContext=function(M){return S.H.useContext(M)},ia.useDebugValue=function(){},ia.useDeferredValue=function(M,se){return S.H.useDeferredValue(M,se)},ia.useEffect=function(M,se){return S.H.useEffect(M,se)},ia.useId=function(){return S.H.useId()},ia.useImperativeHandle=function(M,se,ue){return S.H.useImperativeHandle(M,se,ue)},ia.useInsertionEffect=function(M,se){return S.H.useInsertionEffect(M,se)},ia.useLayoutEffect=function(M,se){return S.H.useLayoutEffect(M,se)},ia.useMemo=function(M,se){return S.H.useMemo(M,se)},ia.useOptimistic=function(M,se){return S.H.useOptimistic(M,se)},ia.useReducer=function(M,se,ue){return S.H.useReducer(M,se,ue)},ia.useRef=function(M){return S.H.useRef(M)},ia.useState=function(M){return S.H.useState(M)},ia.useSyncExternalStore=function(M,se,ue){return S.H.useSyncExternalStore(M,se,ue)},ia.useTransition=function(){return S.H.useTransition()},ia.version="19.0.0",ia}var F4;function hC(){return F4||(F4=1,FN.exports=EJ()),FN.exports}var F=hC();const rs=Od(F),CJ=HB({__proto__:null,default:rs},[F]);var ON={exports:{}},I0={},$N={exports:{}},LN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O4;function IJ(){return O4||(O4=1,function(t){function e(W,Q){var q=W.length;W.push(Q);e:for(;0<q;){var Z=q-1>>>1,M=W[Z];if(0<r(M,Q))W[Z]=Q,W[q]=M,q=Z;else break e}}function a(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var Q=W[0],q=W.pop();if(q!==Q){W[0]=q;e:for(var Z=0,M=W.length,se=M>>>1;Z<se;){var ue=2*(Z+1)-1,le=W[ue],ie=ue+1,ye=W[ie];if(0>r(le,q))ie<M&&0>r(ye,le)?(W[Z]=ye,W[ie]=q,Z=ie):(W[Z]=le,W[ue]=q,Z=ue);else if(ie<M&&0>r(ye,q))W[Z]=ye,W[ie]=q,Z=ie;else break e}}return Q}function r(W,Q){var q=W.sortIndex-Q.sortIndex;return q!==0?q:W.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],l=[],u=1,d=null,p=3,m=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function _(W){for(var Q=a(l);Q!==null;){if(Q.callback===null)n(l);else if(Q.startTime<=W)n(l),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=a(l)}}function A(W){if(x=!1,_(W),!g)if(a(c)!==null)g=!0,V();else{var Q=a(l);Q!==null&&j(A,Q.startTime-W)}}var S=!1,C=-1,E=5,R=-1;function I(){return!(t.unstable_now()-R<E)}function P(){if(S){var W=t.unstable_now();R=W;var Q=!0;try{e:{g=!1,x&&(x=!1,k(C),C=-1),m=!0;var q=p;try{t:{for(_(W),d=a(c);d!==null&&!(d.expirationTime>W&&I());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var M=Z(d.expirationTime<=W);if(W=t.unstable_now(),typeof M=="function"){d.callback=M,_(W),Q=!0;break t}d===a(c)&&n(c),_(W)}else n(c);d=a(c)}if(d!==null)Q=!0;else{var se=a(l);se!==null&&j(A,se.startTime-W),Q=!1}}break e}finally{d=null,p=q,m=!1}Q=void 0}}finally{Q?D():S=!1}}}var D;if(typeof b=="function")D=function(){b(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=P,D=function(){U.postMessage(null)}}else D=function(){v(P,0)};function V(){S||(S=!0,D())}function j(W,Q){C=v(function(){W(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,V())},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var q=p;p=Q;try{return W()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var q=p;p=W;try{return Q()}finally{p=q}},t.unstable_scheduleCallback=function(W,Q,q){var Z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=q+M,W={id:u++,callback:Q,priorityLevel:W,startTime:q,expirationTime:M,sortIndex:-1},q>Z?(W.sortIndex=q,e(l,W),a(c)===null&&W===a(l)&&(x?(k(C),C=-1):x=!0,j(A,q-Z))):(W.sortIndex=M,e(c,W),g||m||(g=!0,V())),W},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(W){var Q=p;return function(){var q=p;p=Q;try{return W.apply(this,arguments)}finally{p=q}}}}(LN)),LN}var $4;function RJ(){return $4||($4=1,$N.exports=IJ()),$N.exports}var MN={exports:{}},Qr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4;function DJ(){if(L4)return Qr;L4=1;var t=hC();function e(c){var l="https://react.dev/errors/"+c;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var n={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,l,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:c,containerInfo:l,implementation:u}}var i=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,l){if(c==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return Qr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Qr.createPortal=function(c,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(e(299));return s(c,l,null,u)},Qr.flushSync=function(c){var l=i.T,u=n.p;try{if(i.T=null,n.p=2,c)return c()}finally{i.T=l,n.p=u,n.d.f()}},Qr.preconnect=function(c,l){typeof c=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,n.d.C(c,l))},Qr.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Qr.preinit=function(c,l){if(typeof c=="string"&&l&&typeof l.as=="string"){var u=l.as,d=o(u,l.crossOrigin),p=typeof l.integrity=="string"?l.integrity:void 0,m=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;u==="style"?n.d.S(c,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:m}):u==="script"&&n.d.X(c,{crossOrigin:d,integrity:p,fetchPriority:m,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},Qr.preinitModule=function(c,l){if(typeof c=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var u=o(l.as,l.crossOrigin);n.d.M(c,{crossOrigin:u,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&n.d.M(c)},Qr.preload=function(c,l){if(typeof c=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var u=l.as,d=o(u,l.crossOrigin);n.d.L(c,u,{crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},Qr.preloadModule=function(c,l){if(typeof c=="string")if(l){var u=o(l.as,l.crossOrigin);n.d.m(c,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:u,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else n.d.m(c)},Qr.requestFormReset=function(c){n.d.r(c)},Qr.unstable_batchedUpdates=function(c,l){return c(l)},Qr.useFormState=function(c,l,u){return i.H.useFormState(c,l,u)},Qr.useFormStatus=function(){return i.H.useHostTransitionStatus()},Qr.version="19.0.0",Qr}var M4;function qB(){if(M4)return MN.exports;M4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),MN.exports=DJ(),MN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B4;function PJ(){if(B4)return I0;B4=1;var t=RJ(),e=hC(),a=qB();function n(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}var s=Symbol.for("react.element"),i=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),A=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function C(f){return f===null||typeof f!="object"?null:(f=S&&f[S]||f["@@iterator"],typeof f=="function"?f:null)}var E=Symbol.for("react.client.reference");function R(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===E?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case c:return"Fragment";case o:return"Portal";case u:return"Profiler";case l:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case m:return(f.displayName||"Context")+".Provider";case p:return(f._context.displayName||"Context")+".Consumer";case g:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case k:return h=f.displayName||null,h!==null?h:R(f.type)||"Memo";case b:h=f._payload,f=f._init;try{return R(f(h))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,D,B;function U(f){if(D===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);D=h&&h[1]||"",B=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+D+f+B}var V=!1;function j(f,h){if(!f||V)return"";V=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Ue){var Le=Ue}Reflect.construct(f,[],Ze)}else{try{Ze.call()}catch(Ue){Le=Ue}f.call(Ze.prototype)}}else{try{throw Error()}catch(Ue){Le=Ue}(Ze=f())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Ue){if(Ue&&Le&&typeof Ue.stack=="string")return[Ue.stack,Le.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=w.DetermineComponentFrameRoot(),z=T[0],J=T[1];if(z&&J){var de=z.split(`
`),_e=J.split(`
`);for(N=w=0;w<de.length&&!de[w].includes("DetermineComponentFrameRoot");)w++;for(;N<_e.length&&!_e[N].includes("DetermineComponentFrameRoot");)N++;if(w===de.length||N===_e.length)for(w=de.length-1,N=_e.length-1;1<=w&&0<=N&&de[w]!==_e[N];)N--;for(;1<=w&&0<=N;w--,N--)if(de[w]!==_e[N]){if(w!==1||N!==1)do if(w--,N--,0>N||de[w]!==_e[N]){var We=`
`+de[w].replace(" at new "," at ");return f.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",f.displayName)),We}while(1<=w&&0<=N);break}}}finally{V=!1,Error.prepareStackTrace=y}return(y=f?f.displayName||f.name:"")?U(y):""}function W(f){switch(f.tag){case 26:case 27:case 5:return U(f.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return f=j(f.type,!1),f;case 11:return f=j(f.type.render,!1),f;case 1:return f=j(f.type,!0),f;default:return""}}function Q(f){try{var h="";do h+=W(f),f=f.return;while(f);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function q(f){var h=f,y=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(y=h.return),f=h.return;while(f)}return h.tag===3?y:null}function Z(f){if(f.tag===13){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function M(f){if(q(f)!==f)throw Error(n(188))}function se(f){var h=f.alternate;if(!h){if(h=q(f),h===null)throw Error(n(188));return h!==f?null:f}for(var y=f,w=h;;){var N=y.return;if(N===null)break;var T=N.alternate;if(T===null){if(w=N.return,w!==null){y=w;continue}break}if(N.child===T.child){for(T=N.child;T;){if(T===y)return M(N),f;if(T===w)return M(N),h;T=T.sibling}throw Error(n(188))}if(y.return!==w.return)y=N,w=T;else{for(var z=!1,J=N.child;J;){if(J===y){z=!0,y=N,w=T;break}if(J===w){z=!0,w=N,y=T;break}J=J.sibling}if(!z){for(J=T.child;J;){if(J===y){z=!0,y=T,w=N;break}if(J===w){z=!0,w=T,y=N;break}J=J.sibling}if(!z)throw Error(n(189))}}if(y.alternate!==w)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?f:h}function ue(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=ue(f),h!==null)return h;f=f.sibling}return null}var le=Array.isArray,ie=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ke=[],ge=-1;function G(f){return{current:f}}function te(f){0>ge||(f.current=ke[ge],ke[ge]=null,ge--)}function ee(f,h){ge++,ke[ge]=f.current,f.current=h}var ne=G(null),be=G(null),Y=G(null),Ae=G(null);function Oe(f,h){switch(ee(Y,h),ee(be,f),ee(ne,null),f=h.nodeType,f){case 9:case 11:h=(h=h.documentElement)&&(h=h.namespaceURI)?i4(h):0;break;default:if(f=f===8?h.parentNode:h,h=f.tagName,f=f.namespaceURI)f=i4(f),h=o4(f,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}te(ne),ee(ne,h)}function $e(){te(ne),te(be),te(Y)}function He(f){f.memoizedState!==null&&ee(Ae,f);var h=ne.current,y=o4(h,f.type);h!==y&&(ee(be,f),ee(ne,y))}function Ve(f){be.current===f&&(te(ne),te(be)),Ae.current===f&&(te(Ae),A0._currentValue=ye)}var tt=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,Mt=t.unstable_cancelCallback,Ft=t.unstable_shouldYield,st=t.unstable_requestPaint,Be=t.unstable_now,Fe=t.unstable_getCurrentPriorityLevel,It=t.unstable_ImmediatePriority,Lt=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,$a=t.unstable_LowPriority,La=t.unstable_IdlePriority,it=t.log,jt=t.unstable_setDisableYieldValue,Ht=null,Wt=null;function ur(f){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Ht,f,void 0,(f.current.flags&128)===128)}catch{}}function Kn(f){if(typeof it=="function"&&jt(f),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Ht,f)}catch{}}var Rn=Math.clz32?Math.clz32:yv,Rl=Math.log,oh=Math.LN2;function yv(f){return f>>>=0,f===0?32:31-(Rl(f)/oh|0)|0}var ch=128,lh=4194304;function bi(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function uh(f,h){var y=f.pendingLanes;if(y===0)return 0;var w=0,N=f.suspendedLanes,T=f.pingedLanes,z=f.warmLanes;f=f.finishedLanes!==0;var J=y&134217727;return J!==0?(y=J&~N,y!==0?w=bi(y):(T&=J,T!==0?w=bi(T):f||(z=J&~z,z!==0&&(w=bi(z))))):(J=y&~N,J!==0?w=bi(J):T!==0?w=bi(T):f||(z=y&~z,z!==0&&(w=bi(z)))),w===0?0:h!==0&&h!==w&&(h&N)===0&&(N=w&-w,z=h&-h,N>=z||N===32&&(z&4194176)!==0)?h:w}function ef(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function C2(f,h){switch(f){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vv(){var f=ch;return ch<<=1,(ch&4194176)===0&&(ch=128),f}function xv(){var f=lh;return lh<<=1,(lh&62914560)===0&&(lh=4194304),f}function $m(f){for(var h=[],y=0;31>y;y++)h.push(f);return h}function tf(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function I2(f,h,y,w,N,T){var z=f.pendingLanes;f.pendingLanes=y,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=y,f.entangledLanes&=y,f.errorRecoveryDisabledLanes&=y,f.shellSuspendCounter=0;var J=f.entanglements,de=f.expirationTimes,_e=f.hiddenUpdates;for(y=z&~y;0<y;){var We=31-Rn(y),Ze=1<<We;J[We]=0,de[We]=-1;var Le=_e[We];if(Le!==null)for(_e[We]=null,We=0;We<Le.length;We++){var Ue=Le[We];Ue!==null&&(Ue.lane&=-536870913)}y&=~Ze}w!==0&&fh(f,w,0),T!==0&&N===0&&f.tag!==0&&(f.suspendedLanes|=T&~(z&~h))}function fh(f,h,y){f.pendingLanes|=h,f.suspendedLanes&=~h;var w=31-Rn(h);f.entangledLanes|=h,f.entanglements[w]=f.entanglements[w]|1073741824|y&4194218}function kv(f,h){var y=f.entangledLanes|=h;for(f=f.entanglements;y;){var w=31-Rn(y),N=1<<w;N&h|f[w]&h&&(f[w]|=h),y&=~N}}function wv(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function bv(){var f=ie.p;return f!==0?f:(f=window.event,f===void 0?32:N4(f.type))}function H(f,h){var y=ie.p;try{return ie.p=f,h()}finally{ie.p=y}}var oe=Math.random().toString(36).slice(2),ae="__reactFiber$"+oe,re="__reactProps$"+oe,ce="__reactContainer$"+oe,fe="__reactEvents$"+oe,Pe="__reactListeners$"+oe,Ge="__reactHandles$"+oe,Te="__reactResources$"+oe,Ee="__reactMarker$"+oe;function De(f){delete f[ae],delete f[re],delete f[fe],delete f[Pe],delete f[Ge]}function Je(f){var h=f[ae];if(h)return h;for(var y=f.parentNode;y;){if(h=y[ce]||y[ae]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(f=u4(f);f!==null;){if(y=f[ae])return y;f=u4(f)}return h}f=y,y=f.parentNode}return null}function rt(f){if(f=f[ae]||f[ce]){var h=f.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return f}return null}function ht(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f.stateNode;throw Error(n(33))}function Qe(f){var h=f[Te];return h||(h=f[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function et(f){f[Ee]=!0}var Vt=new Set,tn={};function Ga(f,h){wn(f,h),wn(f+"Capture",h)}function wn(f,h){for(tn[f]=h,f=0;f<h.length;f++)Vt.add(h[f])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),af=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},jo={};function Lm(f){return tt.call(jo,f)?!0:tt.call(Dl,f)?!1:af.test(f)?jo[f]=!0:(Dl[f]=!0,!1)}function $s(f,h,y){if(Lm(h))if(y===null)f.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":f.removeAttribute(h);return;case"boolean":var w=h.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){f.removeAttribute(h);return}}f.setAttribute(h,""+y)}}function _v(f,h,y){if(y===null)f.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(h);return}f.setAttribute(h,""+y)}}function Pc(f,h,y,w){if(w===null)f.removeAttribute(y);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(y);return}f.setAttributeNS(h,y,""+w)}}function _i(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function lP(f){var h=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function xY(f){var h=lP(f)?"checked":"value",y=Object.getOwnPropertyDescriptor(f.constructor.prototype,h),w=""+f[h];if(!f.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var N=y.get,T=y.set;return Object.defineProperty(f,h,{configurable:!0,get:function(){return N.call(this)},set:function(z){w=""+z,T.call(this,z)}}),Object.defineProperty(f,h,{enumerable:y.enumerable}),{getValue:function(){return w},setValue:function(z){w=""+z},stopTracking:function(){f._valueTracker=null,delete f[h]}}}}function Av(f){f._valueTracker||(f._valueTracker=xY(f))}function uP(f){if(!f)return!1;var h=f._valueTracker;if(!h)return!0;var y=h.getValue(),w="";return f&&(w=lP(f)?f.checked?"true":"false":f.value),f=w,f!==y?(h.setValue(f),!0):!1}function Nv(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var kY=/[\n"\\]/g;function Ai(f){return f.replace(kY,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function R2(f,h,y,w,N,T,z,J){f.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?f.type=z:f.removeAttribute("type"),h!=null?z==="number"?(h===0&&f.value===""||f.value!=h)&&(f.value=""+_i(h)):f.value!==""+_i(h)&&(f.value=""+_i(h)):z!=="submit"&&z!=="reset"||f.removeAttribute("value"),h!=null?D2(f,z,_i(h)):y!=null?D2(f,z,_i(y)):w!=null&&f.removeAttribute("value"),N==null&&T!=null&&(f.defaultChecked=!!T),N!=null&&(f.checked=N&&typeof N!="function"&&typeof N!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?f.name=""+_i(J):f.removeAttribute("name")}function fP(f,h,y,w,N,T,z,J){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(f.type=T),h!=null||y!=null){if(!(T!=="submit"&&T!=="reset"||h!=null))return;y=y!=null?""+_i(y):"",h=h!=null?""+_i(h):y,J||h===f.value||(f.value=h),f.defaultValue=h}w=w??N,w=typeof w!="function"&&typeof w!="symbol"&&!!w,f.checked=J?f.checked:!!w,f.defaultChecked=!!w,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(f.name=z)}function D2(f,h,y){h==="number"&&Nv(f.ownerDocument)===f||f.defaultValue===""+y||(f.defaultValue=""+y)}function dh(f,h,y,w){if(f=f.options,h){h={};for(var N=0;N<y.length;N++)h["$"+y[N]]=!0;for(y=0;y<f.length;y++)N=h.hasOwnProperty("$"+f[y].value),f[y].selected!==N&&(f[y].selected=N),N&&w&&(f[y].defaultSelected=!0)}else{for(y=""+_i(y),h=null,N=0;N<f.length;N++){if(f[N].value===y){f[N].selected=!0,w&&(f[N].defaultSelected=!0);return}h!==null||f[N].disabled||(h=f[N])}h!==null&&(h.selected=!0)}}function dP(f,h,y){if(h!=null&&(h=""+_i(h),h!==f.value&&(f.value=h),y==null)){f.defaultValue!==h&&(f.defaultValue=h);return}f.defaultValue=y!=null?""+_i(y):""}function hP(f,h,y,w){if(h==null){if(w!=null){if(y!=null)throw Error(n(92));if(le(w)){if(1<w.length)throw Error(n(93));w=w[0]}y=w}y==null&&(y=""),h=y}y=_i(h),f.defaultValue=y,w=f.textContent,w===y&&w!==""&&w!==null&&(f.value=w)}function hh(f,h){if(h){var y=f.firstChild;if(y&&y===f.lastChild&&y.nodeType===3){y.nodeValue=h;return}}f.textContent=h}var wY=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pP(f,h,y){var w=h.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?w?f.setProperty(h,""):h==="float"?f.cssFloat="":f[h]="":w?f.setProperty(h,y):typeof y!="number"||y===0||wY.has(h)?h==="float"?f.cssFloat=y:f[h]=(""+y).trim():f[h]=y+"px"}function mP(f,h,y){if(h!=null&&typeof h!="object")throw Error(n(62));if(f=f.style,y!=null){for(var w in y)!y.hasOwnProperty(w)||h!=null&&h.hasOwnProperty(w)||(w.indexOf("--")===0?f.setProperty(w,""):w==="float"?f.cssFloat="":f[w]="");for(var N in h)w=h[N],h.hasOwnProperty(N)&&y[N]!==w&&pP(f,N,w)}else for(var T in h)h.hasOwnProperty(T)&&pP(f,T,h[T])}function P2(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bY=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_Y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sv(f){return _Y.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var F2=null;function O2(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var ph=null,mh=null;function gP(f){var h=rt(f);if(h&&(f=h.stateNode)){var y=f[re]||null;e:switch(f=h.stateNode,h.type){case"input":if(R2(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),h=y.name,y.type==="radio"&&h!=null){for(y=f;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Ai(""+h)+'"][type="radio"]'),h=0;h<y.length;h++){var w=y[h];if(w!==f&&w.form===f.form){var N=w[re]||null;if(!N)throw Error(n(90));R2(w,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(h=0;h<y.length;h++)w=y[h],w.form===f.form&&uP(w)}break e;case"textarea":dP(f,y.value,y.defaultValue);break e;case"select":h=y.value,h!=null&&dh(f,!!y.multiple,h,!1)}}}var $2=!1;function yP(f,h,y){if($2)return f(h,y);$2=!0;try{var w=f(h);return w}finally{if($2=!1,(ph!==null||mh!==null)&&(lx(),ph&&(h=ph,f=mh,mh=ph=null,gP(h),f)))for(h=0;h<f.length;h++)gP(f[h])}}function Mm(f,h){var y=f.stateNode;if(y===null)return null;var w=y[re]||null;if(w===null)return null;y=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(f=f.type,w=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!w;break e;default:f=!1}if(f)return null;if(y&&typeof y!="function")throw Error(n(231,h,typeof y));return y}var L2=!1;if(ws)try{var Bm={};Object.defineProperty(Bm,"passive",{get:function(){L2=!0}}),window.addEventListener("test",Bm,Bm),window.removeEventListener("test",Bm,Bm)}catch{L2=!1}var Pl=null,M2=null,Tv=null;function vP(){if(Tv)return Tv;var f,h=M2,y=h.length,w,N="value"in Pl?Pl.value:Pl.textContent,T=N.length;for(f=0;f<y&&h[f]===N[f];f++);var z=y-f;for(w=1;w<=z&&h[y-w]===N[T-w];w++);return Tv=N.slice(f,1<w?1-w:void 0)}function Ev(f){var h=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&h===13&&(f=13)):f=h,f===10&&(f=13),32<=f||f===13?f:0}function Cv(){return!0}function xP(){return!1}function Ls(f){function h(y,w,N,T,z){this._reactName=y,this._targetInst=N,this.type=w,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var J in f)f.hasOwnProperty(J)&&(y=f[J],this[J]=y?y(T):T[J]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Cv:xP,this.isPropagationStopped=xP,this}return P(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Cv)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Cv)},persist:function(){},isPersistent:Cv}),h}var nf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iv=Ls(nf),zm=P({},nf,{view:0,detail:0}),AY=Ls(zm),B2,z2,Gm,Rv=P({},zm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U2,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Gm&&(Gm&&f.type==="mousemove"?(B2=f.screenX-Gm.screenX,z2=f.screenY-Gm.screenY):z2=B2=0,Gm=f),B2)},movementY:function(f){return"movementY"in f?f.movementY:z2}}),kP=Ls(Rv),NY=P({},Rv,{dataTransfer:0}),SY=Ls(NY),TY=P({},zm,{relatedTarget:0}),G2=Ls(TY),EY=P({},nf,{animationName:0,elapsedTime:0,pseudoElement:0}),CY=Ls(EY),IY=P({},nf,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),RY=Ls(IY),DY=P({},nf,{data:0}),wP=Ls(DY),PY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $Y(f){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(f):(f=OY[f])?!!h[f]:!1}function U2(){return $Y}var LY=P({},zm,{key:function(f){if(f.key){var h=PY[f.key]||f.key;if(h!=="Unidentified")return h}return f.type==="keypress"?(f=Ev(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?FY[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U2,charCode:function(f){return f.type==="keypress"?Ev(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Ev(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),MY=Ls(LY),BY=P({},Rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bP=Ls(BY),zY=P({},zm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U2}),GY=Ls(zY),UY=P({},nf,{propertyName:0,elapsedTime:0,pseudoElement:0}),WY=Ls(UY),VY=P({},Rv,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),jY=Ls(VY),HY=P({},nf,{newState:0,oldState:0}),KY=Ls(HY),qY=[9,13,27,32],W2=ws&&"CompositionEvent"in window,Um=null;ws&&"documentMode"in document&&(Um=document.documentMode);var XY=ws&&"TextEvent"in window&&!Um,_P=ws&&(!W2||Um&&8<Um&&11>=Um),AP=" ",NP=!1;function SP(f,h){switch(f){case"keyup":return qY.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TP(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var gh=!1;function YY(f,h){switch(f){case"compositionend":return TP(h);case"keypress":return h.which!==32?null:(NP=!0,AP);case"textInput":return f=h.data,f===AP&&NP?null:f;default:return null}}function ZY(f,h){if(gh)return f==="compositionend"||!W2&&SP(f,h)?(f=vP(),Tv=M2=Pl=null,gh=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return _P&&h.locale!=="ko"?null:h.data;default:return null}}var JY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EP(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h==="input"?!!JY[f.type]:h==="textarea"}function CP(f,h,y,w){ph?mh?mh.push(w):mh=[w]:ph=w,h=px(h,"onChange"),0<h.length&&(y=new Iv("onChange","change",null,y,w),f.push({event:y,listeners:h}))}var Wm=null,Vm=null;function QY(f){t4(f,0)}function Dv(f){var h=ht(f);if(uP(h))return f}function IP(f,h){if(f==="change")return h}var RP=!1;if(ws){var V2;if(ws){var j2="oninput"in document;if(!j2){var DP=document.createElement("div");DP.setAttribute("oninput","return;"),j2=typeof DP.oninput=="function"}V2=j2}else V2=!1;RP=V2&&(!document.documentMode||9<document.documentMode)}function PP(){Wm&&(Wm.detachEvent("onpropertychange",FP),Vm=Wm=null)}function FP(f){if(f.propertyName==="value"&&Dv(Vm)){var h=[];CP(h,Vm,f,O2(f)),yP(QY,h)}}function eZ(f,h,y){f==="focusin"?(PP(),Wm=h,Vm=y,Wm.attachEvent("onpropertychange",FP)):f==="focusout"&&PP()}function tZ(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Dv(Vm)}function aZ(f,h){if(f==="click")return Dv(h)}function nZ(f,h){if(f==="input"||f==="change")return Dv(h)}function rZ(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var ni=typeof Object.is=="function"?Object.is:rZ;function jm(f,h){if(ni(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var y=Object.keys(f),w=Object.keys(h);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var N=y[w];if(!tt.call(h,N)||!ni(f[N],h[N]))return!1}return!0}function OP(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function $P(f,h){var y=OP(f);f=0;for(var w;y;){if(y.nodeType===3){if(w=f+y.textContent.length,f<=h&&w>=h)return{node:y,offset:h-f};f=w}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=OP(y)}}function LP(f,h){return f&&h?f===h?!0:f&&f.nodeType===3?!1:h&&h.nodeType===3?LP(f,h.parentNode):"contains"in f?f.contains(h):f.compareDocumentPosition?!!(f.compareDocumentPosition(h)&16):!1:!1}function MP(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var h=Nv(f.document);h instanceof f.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)f=h.contentWindow;else break;h=Nv(f.document)}return h}function H2(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h&&(h==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||h==="textarea"||f.contentEditable==="true")}function sZ(f,h){var y=MP(h);h=f.focusedElem;var w=f.selectionRange;if(y!==h&&h&&h.ownerDocument&&LP(h.ownerDocument.documentElement,h)){if(w!==null&&H2(h)){if(f=w.start,y=w.end,y===void 0&&(y=f),"selectionStart"in h)h.selectionStart=f,h.selectionEnd=Math.min(y,h.value.length);else if(y=(f=h.ownerDocument||document)&&f.defaultView||window,y.getSelection){y=y.getSelection();var N=h.textContent.length,T=Math.min(w.start,N);w=w.end===void 0?T:Math.min(w.end,N),!y.extend&&T>w&&(N=w,w=T,T=N),N=$P(h,T);var z=$P(h,w);N&&z&&(y.rangeCount!==1||y.anchorNode!==N.node||y.anchorOffset!==N.offset||y.focusNode!==z.node||y.focusOffset!==z.offset)&&(f=f.createRange(),f.setStart(N.node,N.offset),y.removeAllRanges(),T>w?(y.addRange(f),y.extend(z.node,z.offset)):(f.setEnd(z.node,z.offset),y.addRange(f)))}}for(f=[],y=h;y=y.parentNode;)y.nodeType===1&&f.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<f.length;h++)y=f[h],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}var iZ=ws&&"documentMode"in document&&11>=document.documentMode,yh=null,K2=null,Hm=null,q2=!1;function BP(f,h,y){var w=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;q2||yh==null||yh!==Nv(w)||(w=yh,"selectionStart"in w&&H2(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Hm&&jm(Hm,w)||(Hm=w,w=px(K2,"onSelect"),0<w.length&&(h=new Iv("onSelect","select",null,h,y),f.push({event:h,listeners:w}),h.target=yh)))}function rf(f,h){var y={};return y[f.toLowerCase()]=h.toLowerCase(),y["Webkit"+f]="webkit"+h,y["Moz"+f]="moz"+h,y}var vh={animationend:rf("Animation","AnimationEnd"),animationiteration:rf("Animation","AnimationIteration"),animationstart:rf("Animation","AnimationStart"),transitionrun:rf("Transition","TransitionRun"),transitionstart:rf("Transition","TransitionStart"),transitioncancel:rf("Transition","TransitionCancel"),transitionend:rf("Transition","TransitionEnd")},X2={},zP={};ws&&(zP=document.createElement("div").style,"AnimationEvent"in window||(delete vh.animationend.animation,delete vh.animationiteration.animation,delete vh.animationstart.animation),"TransitionEvent"in window||delete vh.transitionend.transition);function sf(f){if(X2[f])return X2[f];if(!vh[f])return f;var h=vh[f],y;for(y in h)if(h.hasOwnProperty(y)&&y in zP)return X2[f]=h[y];return f}var GP=sf("animationend"),UP=sf("animationiteration"),WP=sf("animationstart"),oZ=sf("transitionrun"),cZ=sf("transitionstart"),lZ=sf("transitioncancel"),VP=sf("transitionend"),jP=new Map,HP="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function uo(f,h){jP.set(f,h),Ga(h,[f])}var Ni=[],xh=0,Y2=0;function Pv(){for(var f=xh,h=Y2=xh=0;h<f;){var y=Ni[h];Ni[h++]=null;var w=Ni[h];Ni[h++]=null;var N=Ni[h];Ni[h++]=null;var T=Ni[h];if(Ni[h++]=null,w!==null&&N!==null){var z=w.pending;z===null?N.next=N:(N.next=z.next,z.next=N),w.pending=N}T!==0&&KP(y,N,T)}}function Fv(f,h,y,w){Ni[xh++]=f,Ni[xh++]=h,Ni[xh++]=y,Ni[xh++]=w,Y2|=w,f.lanes|=w,f=f.alternate,f!==null&&(f.lanes|=w)}function Z2(f,h,y,w){return Fv(f,h,y,w),Ov(f)}function Fl(f,h){return Fv(f,null,null,h),Ov(f)}function KP(f,h,y){f.lanes|=y;var w=f.alternate;w!==null&&(w.lanes|=y);for(var N=!1,T=f.return;T!==null;)T.childLanes|=y,w=T.alternate,w!==null&&(w.childLanes|=y),T.tag===22&&(f=T.stateNode,f===null||f._visibility&1||(N=!0)),f=T,T=T.return;N&&h!==null&&f.tag===3&&(T=f.stateNode,N=31-Rn(y),T=T.hiddenUpdates,f=T[N],f===null?T[N]=[h]:f.push(h),h.lane=y|536870912)}function Ov(f){if(50<y0)throw y0=0,nN=null,Error(n(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}var kh={},qP=new WeakMap;function Si(f,h){if(typeof f=="object"&&f!==null){var y=qP.get(f);return y!==void 0?y:(h={value:f,source:h,stack:Q(h)},qP.set(f,h),h)}return{value:f,source:h,stack:Q(h)}}var wh=[],bh=0,$v=null,Lv=0,Ti=[],Ei=0,of=null,Fc=1,Oc="";function cf(f,h){wh[bh++]=Lv,wh[bh++]=$v,$v=f,Lv=h}function XP(f,h,y){Ti[Ei++]=Fc,Ti[Ei++]=Oc,Ti[Ei++]=of,of=f;var w=Fc;f=Oc;var N=32-Rn(w)-1;w&=~(1<<N),y+=1;var T=32-Rn(h)+N;if(30<T){var z=N-N%5;T=(w&(1<<z)-1).toString(32),w>>=z,N-=z,Fc=1<<32-Rn(h)+N|y<<N|w,Oc=T+f}else Fc=1<<T|y<<N|w,Oc=f}function J2(f){f.return!==null&&(cf(f,1),XP(f,1,0))}function Q2(f){for(;f===$v;)$v=wh[--bh],wh[bh]=null,Lv=wh[--bh],wh[bh]=null;for(;f===of;)of=Ti[--Ei],Ti[Ei]=null,Oc=Ti[--Ei],Ti[Ei]=null,Fc=Ti[--Ei],Ti[Ei]=null}var bs=null,Ur=null,Ma=!1,fo=null,Ho=!1,eA=Error(n(519));function lf(f){var h=Error(n(418,""));throw Xm(Si(h,f)),eA}function YP(f){var h=f.stateNode,y=f.type,w=f.memoizedProps;switch(h[ae]=f,h[re]=w,y){case"dialog":Ca("cancel",h),Ca("close",h);break;case"iframe":case"object":case"embed":Ca("load",h);break;case"video":case"audio":for(y=0;y<x0.length;y++)Ca(x0[y],h);break;case"source":Ca("error",h);break;case"img":case"image":case"link":Ca("error",h),Ca("load",h);break;case"details":Ca("toggle",h);break;case"input":Ca("invalid",h),fP(h,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Av(h);break;case"select":Ca("invalid",h);break;case"textarea":Ca("invalid",h),hP(h,w.value,w.defaultValue,w.children),Av(h)}y=w.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||h.textContent===""+y||w.suppressHydrationWarning===!0||s4(h.textContent,y)?(w.popover!=null&&(Ca("beforetoggle",h),Ca("toggle",h)),w.onScroll!=null&&Ca("scroll",h),w.onScrollEnd!=null&&Ca("scrollend",h),w.onClick!=null&&(h.onclick=mx),h=!0):h=!1,h||lf(f)}function ZP(f){for(bs=f.return;bs;)switch(bs.tag){case 3:case 27:Ho=!0;return;case 5:case 13:Ho=!1;return;default:bs=bs.return}}function Km(f){if(f!==bs)return!1;if(!Ma)return ZP(f),Ma=!0,!1;var h=!1,y;if((y=f.tag!==3&&f.tag!==27)&&((y=f.tag===5)&&(y=f.type,y=!(y!=="form"&&y!=="button")||kN(f.type,f.memoizedProps)),y=!y),y&&(h=!0),h&&Ur&&lf(f),ZP(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,h=0;f;){if(f.nodeType===8)if(y=f.data,y==="/$"){if(h===0){Ur=po(f.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++;f=f.nextSibling}Ur=null}}else Ur=bs?po(f.stateNode.nextSibling):null;return!0}function qm(){Ur=bs=null,Ma=!1}function Xm(f){fo===null?fo=[f]:fo.push(f)}var Ym=Error(n(460)),JP=Error(n(474)),tA={then:function(){}};function QP(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Mv(){}function eF(f,h,y){switch(y=f[y],y===void 0?f.push(h):y!==h&&(h.then(Mv,Mv),h=y),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===Ym?Error(n(483)):f;default:if(typeof h.status=="string")h.then(Mv,Mv);else{if(f=cn,f!==null&&100<f.shellSuspendCounter)throw Error(n(482));f=h,f.status="pending",f.then(function(w){if(h.status==="pending"){var N=h;N.status="fulfilled",N.value=w}},function(w){if(h.status==="pending"){var N=h;N.status="rejected",N.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,f===Ym?Error(n(483)):f}throw Zm=h,Ym}}var Zm=null;function tF(){if(Zm===null)throw Error(n(459));var f=Zm;return Zm=null,f}var _h=null,Jm=0;function Bv(f){var h=Jm;return Jm+=1,_h===null&&(_h=[]),eF(_h,f,h)}function Qm(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function zv(f,h){throw h.$$typeof===s?Error(n(525)):(f=Object.prototype.toString.call(h),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function aF(f){var h=f._init;return h(f._payload)}function nF(f){function h(Se,we){if(f){var Ie=Se.deletions;Ie===null?(Se.deletions=[we],Se.flags|=16):Ie.push(we)}}function y(Se,we){if(!f)return null;for(;we!==null;)h(Se,we),we=we.sibling;return null}function w(Se){for(var we=new Map;Se!==null;)Se.key!==null?we.set(Se.key,Se):we.set(Se.index,Se),Se=Se.sibling;return we}function N(Se,we){return Se=Hl(Se,we),Se.index=0,Se.sibling=null,Se}function T(Se,we,Ie){return Se.index=Ie,f?(Ie=Se.alternate,Ie!==null?(Ie=Ie.index,Ie<we?(Se.flags|=33554434,we):Ie):(Se.flags|=33554434,we)):(Se.flags|=1048576,we)}function z(Se){return f&&Se.alternate===null&&(Se.flags|=33554434),Se}function J(Se,we,Ie,Ke){return we===null||we.tag!==6?(we=XA(Ie,Se.mode,Ke),we.return=Se,we):(we=N(we,Ie),we.return=Se,we)}function de(Se,we,Ie,Ke){var xt=Ie.type;return xt===c?We(Se,we,Ie.props.children,Ke,Ie.key):we!==null&&(we.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===b&&aF(xt)===we.type)?(we=N(we,Ie.props),Qm(we,Ie),we.return=Se,we):(we=rx(Ie.type,Ie.key,Ie.props,null,Se.mode,Ke),Qm(we,Ie),we.return=Se,we)}function _e(Se,we,Ie,Ke){return we===null||we.tag!==4||we.stateNode.containerInfo!==Ie.containerInfo||we.stateNode.implementation!==Ie.implementation?(we=YA(Ie,Se.mode,Ke),we.return=Se,we):(we=N(we,Ie.children||[]),we.return=Se,we)}function We(Se,we,Ie,Ke,xt){return we===null||we.tag!==7?(we=xf(Ie,Se.mode,Ke,xt),we.return=Se,we):(we=N(we,Ie),we.return=Se,we)}function Ze(Se,we,Ie){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=XA(""+we,Se.mode,Ie),we.return=Se,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case i:return Ie=rx(we.type,we.key,we.props,null,Se.mode,Ie),Qm(Ie,we),Ie.return=Se,Ie;case o:return we=YA(we,Se.mode,Ie),we.return=Se,we;case b:var Ke=we._init;return we=Ke(we._payload),Ze(Se,we,Ie)}if(le(we)||C(we))return we=xf(we,Se.mode,Ie,null),we.return=Se,we;if(typeof we.then=="function")return Ze(Se,Bv(we),Ie);if(we.$$typeof===m)return Ze(Se,tx(Se,we),Ie);zv(Se,we)}return null}function Le(Se,we,Ie,Ke){var xt=we!==null?we.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return xt!==null?null:J(Se,we,""+Ie,Ke);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case i:return Ie.key===xt?de(Se,we,Ie,Ke):null;case o:return Ie.key===xt?_e(Se,we,Ie,Ke):null;case b:return xt=Ie._init,Ie=xt(Ie._payload),Le(Se,we,Ie,Ke)}if(le(Ie)||C(Ie))return xt!==null?null:We(Se,we,Ie,Ke,null);if(typeof Ie.then=="function")return Le(Se,we,Bv(Ie),Ke);if(Ie.$$typeof===m)return Le(Se,we,tx(Se,Ie),Ke);zv(Se,Ie)}return null}function Ue(Se,we,Ie,Ke,xt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Se=Se.get(Ie)||null,J(we,Se,""+Ke,xt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case i:return Se=Se.get(Ke.key===null?Ie:Ke.key)||null,de(we,Se,Ke,xt);case o:return Se=Se.get(Ke.key===null?Ie:Ke.key)||null,_e(we,Se,Ke,xt);case b:var va=Ke._init;return Ke=va(Ke._payload),Ue(Se,we,Ie,Ke,xt)}if(le(Ke)||C(Ke))return Se=Se.get(Ie)||null,We(we,Se,Ke,xt,null);if(typeof Ke.then=="function")return Ue(Se,we,Ie,Bv(Ke),xt);if(Ke.$$typeof===m)return Ue(Se,we,Ie,tx(we,Ke),xt);zv(we,Ke)}return null}function Tt(Se,we,Ie,Ke){for(var xt=null,va=null,Ot=we,Bt=we=0,Sr=null;Ot!==null&&Bt<Ie.length;Bt++){Ot.index>Bt?(Sr=Ot,Ot=null):Sr=Ot.sibling;var Ba=Le(Se,Ot,Ie[Bt],Ke);if(Ba===null){Ot===null&&(Ot=Sr);break}f&&Ot&&Ba.alternate===null&&h(Se,Ot),we=T(Ba,we,Bt),va===null?xt=Ba:va.sibling=Ba,va=Ba,Ot=Sr}if(Bt===Ie.length)return y(Se,Ot),Ma&&cf(Se,Bt),xt;if(Ot===null){for(;Bt<Ie.length;Bt++)Ot=Ze(Se,Ie[Bt],Ke),Ot!==null&&(we=T(Ot,we,Bt),va===null?xt=Ot:va.sibling=Ot,va=Ot);return Ma&&cf(Se,Bt),xt}for(Ot=w(Ot);Bt<Ie.length;Bt++)Sr=Ue(Ot,Se,Bt,Ie[Bt],Ke),Sr!==null&&(f&&Sr.alternate!==null&&Ot.delete(Sr.key===null?Bt:Sr.key),we=T(Sr,we,Bt),va===null?xt=Sr:va.sibling=Sr,va=Sr);return f&&Ot.forEach(function(Ql){return h(Se,Ql)}),Ma&&cf(Se,Bt),xt}function Yt(Se,we,Ie,Ke){if(Ie==null)throw Error(n(151));for(var xt=null,va=null,Ot=we,Bt=we=0,Sr=null,Ba=Ie.next();Ot!==null&&!Ba.done;Bt++,Ba=Ie.next()){Ot.index>Bt?(Sr=Ot,Ot=null):Sr=Ot.sibling;var Ql=Le(Se,Ot,Ba.value,Ke);if(Ql===null){Ot===null&&(Ot=Sr);break}f&&Ot&&Ql.alternate===null&&h(Se,Ot),we=T(Ql,we,Bt),va===null?xt=Ql:va.sibling=Ql,va=Ql,Ot=Sr}if(Ba.done)return y(Se,Ot),Ma&&cf(Se,Bt),xt;if(Ot===null){for(;!Ba.done;Bt++,Ba=Ie.next())Ba=Ze(Se,Ba.value,Ke),Ba!==null&&(we=T(Ba,we,Bt),va===null?xt=Ba:va.sibling=Ba,va=Ba);return Ma&&cf(Se,Bt),xt}for(Ot=w(Ot);!Ba.done;Bt++,Ba=Ie.next())Ba=Ue(Ot,Se,Bt,Ba.value,Ke),Ba!==null&&(f&&Ba.alternate!==null&&Ot.delete(Ba.key===null?Bt:Ba.key),we=T(Ba,we,Bt),va===null?xt=Ba:va.sibling=Ba,va=Ba);return f&&Ot.forEach(function(_J){return h(Se,_J)}),Ma&&cf(Se,Bt),xt}function Fn(Se,we,Ie,Ke){if(typeof Ie=="object"&&Ie!==null&&Ie.type===c&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case i:e:{for(var xt=Ie.key;we!==null;){if(we.key===xt){if(xt=Ie.type,xt===c){if(we.tag===7){y(Se,we.sibling),Ke=N(we,Ie.props.children),Ke.return=Se,Se=Ke;break e}}else if(we.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===b&&aF(xt)===we.type){y(Se,we.sibling),Ke=N(we,Ie.props),Qm(Ke,Ie),Ke.return=Se,Se=Ke;break e}y(Se,we);break}else h(Se,we);we=we.sibling}Ie.type===c?(Ke=xf(Ie.props.children,Se.mode,Ke,Ie.key),Ke.return=Se,Se=Ke):(Ke=rx(Ie.type,Ie.key,Ie.props,null,Se.mode,Ke),Qm(Ke,Ie),Ke.return=Se,Se=Ke)}return z(Se);case o:e:{for(xt=Ie.key;we!==null;){if(we.key===xt)if(we.tag===4&&we.stateNode.containerInfo===Ie.containerInfo&&we.stateNode.implementation===Ie.implementation){y(Se,we.sibling),Ke=N(we,Ie.children||[]),Ke.return=Se,Se=Ke;break e}else{y(Se,we);break}else h(Se,we);we=we.sibling}Ke=YA(Ie,Se.mode,Ke),Ke.return=Se,Se=Ke}return z(Se);case b:return xt=Ie._init,Ie=xt(Ie._payload),Fn(Se,we,Ie,Ke)}if(le(Ie))return Tt(Se,we,Ie,Ke);if(C(Ie)){if(xt=C(Ie),typeof xt!="function")throw Error(n(150));return Ie=xt.call(Ie),Yt(Se,we,Ie,Ke)}if(typeof Ie.then=="function")return Fn(Se,we,Bv(Ie),Ke);if(Ie.$$typeof===m)return Fn(Se,we,tx(Se,Ie),Ke);zv(Se,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,we!==null&&we.tag===6?(y(Se,we.sibling),Ke=N(we,Ie),Ke.return=Se,Se=Ke):(y(Se,we),Ke=XA(Ie,Se.mode,Ke),Ke.return=Se,Se=Ke),z(Se)):y(Se,we)}return function(Se,we,Ie,Ke){try{Jm=0;var xt=Fn(Se,we,Ie,Ke);return _h=null,xt}catch(Ot){if(Ot===Ym)throw Ot;var va=Di(29,Ot,null,Se.mode);return va.lanes=Ke,va.return=Se,va}finally{}}}var uf=nF(!0),rF=nF(!1),Ah=G(null),Gv=G(0);function sF(f,h){f=Hc,ee(Gv,f),ee(Ah,h),Hc=f|h.baseLanes}function aA(){ee(Gv,Hc),ee(Ah,Ah.current)}function nA(){Hc=Gv.current,te(Ah),te(Gv)}var Ci=G(null),Ko=null;function Ol(f){var h=f.alternate;ee(fr,fr.current&1),ee(Ci,f),Ko===null&&(h===null||Ah.current!==null||h.memoizedState!==null)&&(Ko=f)}function iF(f){if(f.tag===22){if(ee(fr,fr.current),ee(Ci,f),Ko===null){var h=f.alternate;h!==null&&h.memoizedState!==null&&(Ko=f)}}else $l()}function $l(){ee(fr,fr.current),ee(Ci,Ci.current)}function $c(f){te(Ci),Ko===f&&(Ko=null),te(fr)}var fr=G(0);function Uv(f){for(var h=f;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var uZ=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(y,w){f.push(w)}};this.abort=function(){h.aborted=!0,f.forEach(function(y){return y()})}},fZ=t.unstable_scheduleCallback,dZ=t.unstable_NormalPriority,dr={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rA(){return{controller:new uZ,data:new Map,refCount:0}}function e0(f){f.refCount--,f.refCount===0&&fZ(dZ,function(){f.controller.abort()})}var t0=null,sA=0,Nh=0,Sh=null;function hZ(f,h){if(t0===null){var y=t0=[];sA=0,Nh=fN(),Sh={status:"pending",value:void 0,then:function(w){y.push(w)}}}return sA++,h.then(oF,oF),h}function oF(){if(--sA===0&&t0!==null){Sh!==null&&(Sh.status="fulfilled");var f=t0;t0=null,Nh=0,Sh=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function pZ(f,h){var y=[],w={status:"pending",value:null,reason:null,then:function(N){y.push(N)}};return f.then(function(){w.status="fulfilled",w.value=h;for(var N=0;N<y.length;N++)(0,y[N])(h)},function(N){for(w.status="rejected",w.reason=N,N=0;N<y.length;N++)(0,y[N])(void 0)}),w}var cF=I.S;I.S=function(f,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&hZ(f,h),cF!==null&&cF(f,h)};var ff=G(null);function iA(){var f=ff.current;return f!==null?f:cn.pooledCache}function Wv(f,h){h===null?ee(ff,ff.current):ee(ff,h.pool)}function lF(){var f=iA();return f===null?null:{parent:dr._currentValue,pool:f}}var Ll=0,ga=null,Za=null,qn=null,Vv=!1,Th=!1,df=!1,jv=0,a0=0,Eh=null,mZ=0;function Wn(){throw Error(n(321))}function oA(f,h){if(h===null)return!1;for(var y=0;y<h.length&&y<f.length;y++)if(!ni(f[y],h[y]))return!1;return!0}function cA(f,h,y,w,N,T){return Ll=T,ga=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,I.H=f===null||f.memoizedState===null?hf:Ml,df=!1,T=y(w,N),df=!1,Th&&(T=fF(h,y,w,N)),uF(f),T}function uF(f){I.H=qo;var h=Za!==null&&Za.next!==null;if(Ll=0,qn=Za=ga=null,Vv=!1,a0=0,Eh=null,h)throw Error(n(300));f===null||Ar||(f=f.dependencies,f!==null&&ex(f)&&(Ar=!0))}function fF(f,h,y,w){ga=f;var N=0;do{if(Th&&(Eh=null),a0=0,Th=!1,25<=N)throw Error(n(301));if(N+=1,qn=Za=null,f.updateQueue!=null){var T=f.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}I.H=pf,T=h(y,w)}while(Th);return T}function gZ(){var f=I.H,h=f.useState()[0];return h=typeof h.then=="function"?n0(h):h,f=f.useState()[0],(Za!==null?Za.memoizedState:null)!==f&&(ga.flags|=1024),h}function lA(){var f=jv!==0;return jv=0,f}function uA(f,h,y){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~y}function fA(f){if(Vv){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}Vv=!1}Ll=0,qn=Za=ga=null,Th=!1,a0=jv=0,Eh=null}function Ms(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?ga.memoizedState=qn=f:qn=qn.next=f,qn}function Xn(){if(Za===null){var f=ga.alternate;f=f!==null?f.memoizedState:null}else f=Za.next;var h=qn===null?ga.memoizedState:qn.next;if(h!==null)qn=h,Za=f;else{if(f===null)throw ga.alternate===null?Error(n(467)):Error(n(310));Za=f,f={memoizedState:Za.memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},qn===null?ga.memoizedState=qn=f:qn=qn.next=f}return qn}var Hv;Hv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function n0(f){var h=a0;return a0+=1,Eh===null&&(Eh=[]),f=eF(Eh,f,h),h=ga,(qn===null?h.memoizedState:qn.next)===null&&(h=h.alternate,I.H=h===null||h.memoizedState===null?hf:Ml),f}function Kv(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return n0(f);if(f.$$typeof===m)return Jr(f)}throw Error(n(438,String(f)))}function dA(f){var h=null,y=ga.updateQueue;if(y!==null&&(h=y.memoCache),h==null){var w=ga.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(N){return N.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),y===null&&(y=Hv(),ga.updateQueue=y),y.memoCache=h,y=h.data[h.index],y===void 0)for(y=h.data[h.index]=Array(f),w=0;w<f;w++)y[w]=A;return h.index++,y}function Lc(f,h){return typeof h=="function"?h(f):h}function qv(f){var h=Xn();return hA(h,Za,f)}function hA(f,h,y){var w=f.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=y;var N=f.baseQueue,T=w.pending;if(T!==null){if(N!==null){var z=N.next;N.next=T.next,T.next=z}h.baseQueue=N=T,w.pending=null}if(T=f.baseState,N===null)f.memoizedState=T;else{h=N.next;var J=z=null,de=null,_e=h,We=!1;do{var Ze=_e.lane&-536870913;if(Ze!==_e.lane?(Pa&Ze)===Ze:(Ll&Ze)===Ze){var Le=_e.revertLane;if(Le===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Ze===Nh&&(We=!0);else if((Ll&Le)===Le){_e=_e.next,Le===Nh&&(We=!0);continue}else Ze={lane:0,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},de===null?(J=de=Ze,z=T):de=de.next=Ze,ga.lanes|=Le,Kl|=Le;Ze=_e.action,df&&y(T,Ze),T=_e.hasEagerState?_e.eagerState:y(T,Ze)}else Le={lane:Ze,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},de===null?(J=de=Le,z=T):de=de.next=Le,ga.lanes|=Ze,Kl|=Ze;_e=_e.next}while(_e!==null&&_e!==h);if(de===null?z=T:de.next=J,!ni(T,f.memoizedState)&&(Ar=!0,We&&(y=Sh,y!==null)))throw y;f.memoizedState=T,f.baseState=z,f.baseQueue=de,w.lastRenderedState=T}return N===null&&(w.lanes=0),[f.memoizedState,w.dispatch]}function pA(f){var h=Xn(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=f;var w=y.dispatch,N=y.pending,T=h.memoizedState;if(N!==null){y.pending=null;var z=N=N.next;do T=f(T,z.action),z=z.next;while(z!==N);ni(T,h.memoizedState)||(Ar=!0),h.memoizedState=T,h.baseQueue===null&&(h.baseState=T),y.lastRenderedState=T}return[T,w]}function dF(f,h,y){var w=ga,N=Xn(),T=Ma;if(T){if(y===void 0)throw Error(n(407));y=y()}else y=h();var z=!ni((Za||N).memoizedState,y);if(z&&(N.memoizedState=y,Ar=!0),N=N.queue,yA(mF.bind(null,w,N,f),[f]),N.getSnapshot!==h||z||qn!==null&&qn.memoizedState.tag&1){if(w.flags|=2048,Ch(9,pF.bind(null,w,N,y,h),{destroy:void 0},null),cn===null)throw Error(n(349));T||(Ll&60)!==0||hF(w,h,y)}return y}function hF(f,h,y){f.flags|=16384,f={getSnapshot:h,value:y},h=ga.updateQueue,h===null?(h=Hv(),ga.updateQueue=h,h.stores=[f]):(y=h.stores,y===null?h.stores=[f]:y.push(f))}function pF(f,h,y,w){h.value=y,h.getSnapshot=w,gF(h)&&yF(f)}function mF(f,h,y){return y(function(){gF(h)&&yF(f)})}function gF(f){var h=f.getSnapshot;f=f.value;try{var y=h();return!ni(f,y)}catch{return!0}}function yF(f){var h=Fl(f,2);h!==null&&_s(h,f,2)}function mA(f){var h=Ms();if(typeof f=="function"){var y=f;if(f=y(),df){Kn(!0);try{y()}finally{Kn(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:f},h}function vF(f,h,y,w){return f.baseState=y,hA(f,Za,typeof w=="function"?w:Lc)}function yZ(f,h,y,w,N){if(Zv(f))throw Error(n(485));if(f=h.action,f!==null){var T={payload:N,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){T.listeners.push(z)}};I.T!==null?y(!0):T.isTransition=!1,w(T),y=h.pending,y===null?(T.next=h.pending=T,xF(h,T)):(T.next=y.next,h.pending=y.next=T)}}function xF(f,h){var y=h.action,w=h.payload,N=f.state;if(h.isTransition){var T=I.T,z={};I.T=z;try{var J=y(N,w),de=I.S;de!==null&&de(z,J),kF(f,h,J)}catch(_e){gA(f,h,_e)}finally{I.T=T}}else try{T=y(N,w),kF(f,h,T)}catch(_e){gA(f,h,_e)}}function kF(f,h,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(w){wF(f,h,w)},function(w){return gA(f,h,w)}):wF(f,h,y)}function wF(f,h,y){h.status="fulfilled",h.value=y,bF(h),f.state=y,h=f.pending,h!==null&&(y=h.next,y===h?f.pending=null:(y=y.next,h.next=y,xF(f,y)))}function gA(f,h,y){var w=f.pending;if(f.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=y,bF(h),h=h.next;while(h!==w)}f.action=null}function bF(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function _F(f,h){return h}function AF(f,h){if(Ma){var y=cn.formState;if(y!==null){e:{var w=ga;if(Ma){if(Ur){t:{for(var N=Ur,T=Ho;N.nodeType!==8;){if(!T){N=null;break t}if(N=po(N.nextSibling),N===null){N=null;break t}}T=N.data,N=T==="F!"||T==="F"?N:null}if(N){Ur=po(N.nextSibling),w=N.data==="F!";break e}}lf(w)}w=!1}w&&(h=y[0])}}return y=Ms(),y.memoizedState=y.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_F,lastRenderedState:h},y.queue=w,y=UF.bind(null,ga,w),w.dispatch=y,w=mA(!1),T=bA.bind(null,ga,!1,w.queue),w=Ms(),N={state:h,dispatch:null,action:f,pending:null},w.queue=N,y=yZ.bind(null,ga,N,T,y),N.dispatch=y,w.memoizedState=f,[h,y,!1]}function NF(f){var h=Xn();return SF(h,Za,f)}function SF(f,h,y){h=hA(f,h,_F)[0],f=qv(Lc)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?n0(h):h;var w=Xn(),N=w.queue,T=N.dispatch;return y!==w.memoizedState&&(ga.flags|=2048,Ch(9,vZ.bind(null,N,y),{destroy:void 0},null)),[h,T,f]}function vZ(f,h){f.action=h}function TF(f){var h=Xn(),y=Za;if(y!==null)return SF(h,y,f);Xn(),h=h.memoizedState,y=Xn();var w=y.queue.dispatch;return y.memoizedState=f,[h,w,!1]}function Ch(f,h,y,w){return f={tag:f,create:h,inst:y,deps:w,next:null},h=ga.updateQueue,h===null&&(h=Hv(),ga.updateQueue=h),y=h.lastEffect,y===null?h.lastEffect=f.next=f:(w=y.next,y.next=f,f.next=w,h.lastEffect=f),f}function EF(){return Xn().memoizedState}function Xv(f,h,y,w){var N=Ms();ga.flags|=f,N.memoizedState=Ch(1|h,y,{destroy:void 0},w===void 0?null:w)}function Yv(f,h,y,w){var N=Xn();w=w===void 0?null:w;var T=N.memoizedState.inst;Za!==null&&w!==null&&oA(w,Za.memoizedState.deps)?N.memoizedState=Ch(h,y,T,w):(ga.flags|=f,N.memoizedState=Ch(1|h,y,T,w))}function CF(f,h){Xv(8390656,8,f,h)}function yA(f,h){Yv(2048,8,f,h)}function IF(f,h){return Yv(4,2,f,h)}function RF(f,h){return Yv(4,4,f,h)}function DF(f,h){if(typeof h=="function"){f=f();var y=h(f);return function(){typeof y=="function"?y():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function PF(f,h,y){y=y!=null?y.concat([f]):null,Yv(4,4,DF.bind(null,h,f),y)}function vA(){}function FF(f,h){var y=Xn();h=h===void 0?null:h;var w=y.memoizedState;return h!==null&&oA(h,w[1])?w[0]:(y.memoizedState=[f,h],f)}function OF(f,h){var y=Xn();h=h===void 0?null:h;var w=y.memoizedState;if(h!==null&&oA(h,w[1]))return w[0];if(w=f(),df){Kn(!0);try{f()}finally{Kn(!1)}}return y.memoizedState=[w,h],w}function xA(f,h,y){return y===void 0||(Ll&1073741824)!==0?f.memoizedState=h:(f.memoizedState=y,f=LO(),ga.lanes|=f,Kl|=f,y)}function $F(f,h,y,w){return ni(y,h)?y:Ah.current!==null?(f=xA(f,y,w),ni(f,h)||(Ar=!0),f):(Ll&42)===0?(Ar=!0,f.memoizedState=y):(f=LO(),ga.lanes|=f,Kl|=f,h)}function LF(f,h,y,w,N){var T=ie.p;ie.p=T!==0&&8>T?T:8;var z=I.T,J={};I.T=J,bA(f,!1,h,y);try{var de=N(),_e=I.S;if(_e!==null&&_e(J,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var We=pZ(de,w);r0(f,h,We,oi(f))}else r0(f,h,w,oi(f))}catch(Ze){r0(f,h,{then:function(){},status:"rejected",reason:Ze},oi())}finally{ie.p=T,I.T=z}}function xZ(){}function kA(f,h,y,w){if(f.tag!==5)throw Error(n(476));var N=MF(f).queue;LF(f,N,h,ye,y===null?xZ:function(){return BF(f),y(w)})}function MF(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:ye},next:null};var y={};return h.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:y},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function BF(f){var h=MF(f).next.queue;r0(f,h,{},oi())}function wA(){return Jr(A0)}function zF(){return Xn().memoizedState}function GF(){return Xn().memoizedState}function kZ(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var y=oi();f=Gl(y);var w=Ul(h,f,y);w!==null&&(_s(w,h,y),o0(w,h,y)),h={cache:rA()},f.payload=h;return}h=h.return}}function wZ(f,h,y){var w=oi();y={lane:w,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},Zv(f)?WF(h,y):(y=Z2(f,h,y,w),y!==null&&(_s(y,f,w),VF(y,h,w)))}function UF(f,h,y){var w=oi();r0(f,h,y,w)}function r0(f,h,y,w){var N={lane:w,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(Zv(f))WF(h,N);else{var T=f.alternate;if(f.lanes===0&&(T===null||T.lanes===0)&&(T=h.lastRenderedReducer,T!==null))try{var z=h.lastRenderedState,J=T(z,y);if(N.hasEagerState=!0,N.eagerState=J,ni(J,z))return Fv(f,h,N,0),cn===null&&Pv(),!1}catch{}finally{}if(y=Z2(f,h,N,w),y!==null)return _s(y,f,w),VF(y,h,w),!0}return!1}function bA(f,h,y,w){if(w={lane:2,revertLane:fN(),action:w,hasEagerState:!1,eagerState:null,next:null},Zv(f)){if(h)throw Error(n(479))}else h=Z2(f,y,w,2),h!==null&&_s(h,f,2)}function Zv(f){var h=f.alternate;return f===ga||h!==null&&h===ga}function WF(f,h){Th=Vv=!0;var y=f.pending;y===null?h.next=h:(h.next=y.next,y.next=h),f.pending=h}function VF(f,h,y){if((y&4194176)!==0){var w=h.lanes;w&=f.pendingLanes,y|=w,h.lanes=y,kv(f,y)}}var qo={readContext:Jr,use:Kv,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn};qo.useCacheRefresh=Wn,qo.useMemoCache=Wn,qo.useHostTransitionStatus=Wn,qo.useFormState=Wn,qo.useActionState=Wn,qo.useOptimistic=Wn;var hf={readContext:Jr,use:Kv,useCallback:function(f,h){return Ms().memoizedState=[f,h===void 0?null:h],f},useContext:Jr,useEffect:CF,useImperativeHandle:function(f,h,y){y=y!=null?y.concat([f]):null,Xv(4194308,4,DF.bind(null,h,f),y)},useLayoutEffect:function(f,h){return Xv(4194308,4,f,h)},useInsertionEffect:function(f,h){Xv(4,2,f,h)},useMemo:function(f,h){var y=Ms();h=h===void 0?null:h;var w=f();if(df){Kn(!0);try{f()}finally{Kn(!1)}}return y.memoizedState=[w,h],w},useReducer:function(f,h,y){var w=Ms();if(y!==void 0){var N=y(h);if(df){Kn(!0);try{y(h)}finally{Kn(!1)}}}else N=h;return w.memoizedState=w.baseState=N,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:N},w.queue=f,f=f.dispatch=wZ.bind(null,ga,f),[w.memoizedState,f]},useRef:function(f){var h=Ms();return f={current:f},h.memoizedState=f},useState:function(f){f=mA(f);var h=f.queue,y=UF.bind(null,ga,h);return h.dispatch=y,[f.memoizedState,y]},useDebugValue:vA,useDeferredValue:function(f,h){var y=Ms();return xA(y,f,h)},useTransition:function(){var f=mA(!1);return f=LF.bind(null,ga,f.queue,!0,!1),Ms().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,y){var w=ga,N=Ms();if(Ma){if(y===void 0)throw Error(n(407));y=y()}else{if(y=h(),cn===null)throw Error(n(349));(Pa&60)!==0||hF(w,h,y)}N.memoizedState=y;var T={value:y,getSnapshot:h};return N.queue=T,CF(mF.bind(null,w,T,f),[f]),w.flags|=2048,Ch(9,pF.bind(null,w,T,y,h),{destroy:void 0},null),y},useId:function(){var f=Ms(),h=cn.identifierPrefix;if(Ma){var y=Oc,w=Fc;y=(w&~(1<<32-Rn(w)-1)).toString(32)+y,h=":"+h+"R"+y,y=jv++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=mZ++,h=":"+h+"r"+y.toString(32)+":";return f.memoizedState=h},useCacheRefresh:function(){return Ms().memoizedState=kZ.bind(null,ga)}};hf.useMemoCache=dA,hf.useHostTransitionStatus=wA,hf.useFormState=AF,hf.useActionState=AF,hf.useOptimistic=function(f){var h=Ms();h.memoizedState=h.baseState=f;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=y,h=bA.bind(null,ga,!0,y),y.dispatch=h,[f,h]};var Ml={readContext:Jr,use:Kv,useCallback:FF,useContext:Jr,useEffect:yA,useImperativeHandle:PF,useInsertionEffect:IF,useLayoutEffect:RF,useMemo:OF,useReducer:qv,useRef:EF,useState:function(){return qv(Lc)},useDebugValue:vA,useDeferredValue:function(f,h){var y=Xn();return $F(y,Za.memoizedState,f,h)},useTransition:function(){var f=qv(Lc)[0],h=Xn().memoizedState;return[typeof f=="boolean"?f:n0(f),h]},useSyncExternalStore:dF,useId:zF};Ml.useCacheRefresh=GF,Ml.useMemoCache=dA,Ml.useHostTransitionStatus=wA,Ml.useFormState=NF,Ml.useActionState=NF,Ml.useOptimistic=function(f,h){var y=Xn();return vF(y,Za,f,h)};var pf={readContext:Jr,use:Kv,useCallback:FF,useContext:Jr,useEffect:yA,useImperativeHandle:PF,useInsertionEffect:IF,useLayoutEffect:RF,useMemo:OF,useReducer:pA,useRef:EF,useState:function(){return pA(Lc)},useDebugValue:vA,useDeferredValue:function(f,h){var y=Xn();return Za===null?xA(y,f,h):$F(y,Za.memoizedState,f,h)},useTransition:function(){var f=pA(Lc)[0],h=Xn().memoizedState;return[typeof f=="boolean"?f:n0(f),h]},useSyncExternalStore:dF,useId:zF};pf.useCacheRefresh=GF,pf.useMemoCache=dA,pf.useHostTransitionStatus=wA,pf.useFormState=TF,pf.useActionState=TF,pf.useOptimistic=function(f,h){var y=Xn();return Za!==null?vF(y,Za,f,h):(y.baseState=f,[f,y.queue.dispatch])};function _A(f,h,y,w){h=f.memoizedState,y=y(w,h),y=y==null?h:P({},h,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var AA={isMounted:function(f){return(f=f._reactInternals)?q(f)===f:!1},enqueueSetState:function(f,h,y){f=f._reactInternals;var w=oi(),N=Gl(w);N.payload=h,y!=null&&(N.callback=y),h=Ul(f,N,w),h!==null&&(_s(h,f,w),o0(h,f,w))},enqueueReplaceState:function(f,h,y){f=f._reactInternals;var w=oi(),N=Gl(w);N.tag=1,N.payload=h,y!=null&&(N.callback=y),h=Ul(f,N,w),h!==null&&(_s(h,f,w),o0(h,f,w))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var y=oi(),w=Gl(y);w.tag=2,h!=null&&(w.callback=h),h=Ul(f,w,y),h!==null&&(_s(h,f,y),o0(h,f,y))}};function jF(f,h,y,w,N,T,z){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,T,z):h.prototype&&h.prototype.isPureReactComponent?!jm(y,w)||!jm(N,T):!0}function HF(f,h,y,w){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,w),h.state!==f&&AA.enqueueReplaceState(h,h.state,null)}function mf(f,h){var y=h;if("ref"in h){y={};for(var w in h)w!=="ref"&&(y[w]=h[w])}if(f=f.defaultProps){y===h&&(y=P({},y));for(var N in f)y[N]===void 0&&(y[N]=f[N])}return y}var Jv=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function KF(f){Jv(f)}function qF(f){console.error(f)}function XF(f){Jv(f)}function Qv(f,h){try{var y=f.onUncaughtError;y(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function YF(f,h,y){try{var w=f.onCaughtError;w(y.value,{componentStack:y.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function NA(f,h,y){return y=Gl(y),y.tag=3,y.payload={element:null},y.callback=function(){Qv(f,h)},y}function ZF(f){return f=Gl(f),f.tag=3,f}function JF(f,h,y,w){var N=y.type.getDerivedStateFromError;if(typeof N=="function"){var T=w.value;f.payload=function(){return N(T)},f.callback=function(){YF(h,y,w)}}var z=y.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(f.callback=function(){YF(h,y,w),typeof N!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var J=w.stack;this.componentDidCatch(w.value,{componentStack:J!==null?J:""})})}function bZ(f,h,y,w,N){if(y.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=y.alternate,h!==null&&i0(h,y,N,!0),y=Ci.current,y!==null){switch(y.tag){case 13:return Ko===null?iN():y.alternate===null&&Pn===0&&(Pn=3),y.flags&=-257,y.flags|=65536,y.lanes=N,w===tA?y.flags|=16384:(h=y.updateQueue,h===null?y.updateQueue=new Set([w]):h.add(w),cN(f,w,N)),!1;case 22:return y.flags|=65536,w===tA?y.flags|=16384:(h=y.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},y.updateQueue=h):(y=h.retryQueue,y===null?h.retryQueue=new Set([w]):y.add(w)),cN(f,w,N)),!1}throw Error(n(435,y.tag))}return cN(f,w,N),iN(),!1}if(Ma)return h=Ci.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=N,w!==eA&&(f=Error(n(422),{cause:w}),Xm(Si(f,y)))):(w!==eA&&(h=Error(n(423),{cause:w}),Xm(Si(h,y))),f=f.current.alternate,f.flags|=65536,N&=-N,f.lanes|=N,w=Si(w,y),N=NA(f.stateNode,w,N),zA(f,N),Pn!==4&&(Pn=2)),!1;var T=Error(n(520),{cause:w});if(T=Si(T,y),m0===null?m0=[T]:m0.push(T),Pn!==4&&(Pn=2),h===null)return!0;w=Si(w,y),y=h;do{switch(y.tag){case 3:return y.flags|=65536,f=N&-N,y.lanes|=f,f=NA(y.stateNode,w,f),zA(y,f),!1;case 1:if(h=y.type,T=y.stateNode,(y.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ql===null||!ql.has(T))))return y.flags|=65536,N&=-N,y.lanes|=N,N=ZF(N),JF(N,f,y,w),zA(y,N),!1}y=y.return}while(y!==null);return!1}var QF=Error(n(461)),Ar=!1;function Wr(f,h,y,w){h.child=f===null?rF(h,null,y,w):uf(h,f.child,y,w)}function eO(f,h,y,w,N){y=y.render;var T=h.ref;if("ref"in w){var z={};for(var J in w)J!=="ref"&&(z[J]=w[J])}else z=w;return yf(h),w=cA(f,h,y,z,T,N),J=lA(),f!==null&&!Ar?(uA(f,h,N),Mc(f,h,N)):(Ma&&J&&J2(h),h.flags|=1,Wr(f,h,w,N),h.child)}function tO(f,h,y,w,N){if(f===null){var T=y.type;return typeof T=="function"&&!qA(T)&&T.defaultProps===void 0&&y.compare===null?(h.tag=15,h.type=T,aO(f,h,T,w,N)):(f=rx(y.type,null,w,h,h.mode,N),f.ref=h.ref,f.return=h,h.child=f)}if(T=f.child,!FA(f,N)){var z=T.memoizedProps;if(y=y.compare,y=y!==null?y:jm,y(z,w)&&f.ref===h.ref)return Mc(f,h,N)}return h.flags|=1,f=Hl(T,w),f.ref=h.ref,f.return=h,h.child=f}function aO(f,h,y,w,N){if(f!==null){var T=f.memoizedProps;if(jm(T,w)&&f.ref===h.ref)if(Ar=!1,h.pendingProps=w=T,FA(f,N))(f.flags&131072)!==0&&(Ar=!0);else return h.lanes=f.lanes,Mc(f,h,N)}return SA(f,h,y,w,N)}function nO(f,h,y){var w=h.pendingProps,N=w.children,T=(h.stateNode._pendingVisibility&2)!==0,z=f!==null?f.memoizedState:null;if(s0(f,h),w.mode==="hidden"||T){if((h.flags&128)!==0){if(w=z!==null?z.baseLanes|y:y,f!==null){for(N=h.child=f.child,T=0;N!==null;)T=T|N.lanes|N.childLanes,N=N.sibling;h.childLanes=T&~w}else h.childLanes=0,h.child=null;return rO(f,h,w,y)}if((y&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&Wv(h,z!==null?z.cachePool:null),z!==null?sF(h,z):aA(),iF(h);else return h.lanes=h.childLanes=536870912,rO(f,h,z!==null?z.baseLanes|y:y,y)}else z!==null?(Wv(h,z.cachePool),sF(h,z),$l(),h.memoizedState=null):(f!==null&&Wv(h,null),aA(),$l());return Wr(f,h,N,y),h.child}function rO(f,h,y,w){var N=iA();return N=N===null?null:{parent:dr._currentValue,pool:N},h.memoizedState={baseLanes:y,cachePool:N},f!==null&&Wv(h,null),aA(),iF(h),f!==null&&i0(f,h,w,!0),null}function s0(f,h){var y=h.ref;if(y===null)f!==null&&f.ref!==null&&(h.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(n(284));(f===null||f.ref!==y)&&(h.flags|=2097664)}}function SA(f,h,y,w,N){return yf(h),y=cA(f,h,y,w,void 0,N),w=lA(),f!==null&&!Ar?(uA(f,h,N),Mc(f,h,N)):(Ma&&w&&J2(h),h.flags|=1,Wr(f,h,y,N),h.child)}function sO(f,h,y,w,N,T){return yf(h),h.updateQueue=null,y=fF(h,w,y,N),uF(f),w=lA(),f!==null&&!Ar?(uA(f,h,T),Mc(f,h,T)):(Ma&&w&&J2(h),h.flags|=1,Wr(f,h,y,T),h.child)}function iO(f,h,y,w,N){if(yf(h),h.stateNode===null){var T=kh,z=y.contextType;typeof z=="object"&&z!==null&&(T=Jr(z)),T=new y(w,T),h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=AA,h.stateNode=T,T._reactInternals=h,T=h.stateNode,T.props=w,T.state=h.memoizedState,T.refs={},MA(h),z=y.contextType,T.context=typeof z=="object"&&z!==null?Jr(z):kh,T.state=h.memoizedState,z=y.getDerivedStateFromProps,typeof z=="function"&&(_A(h,y,z,w),T.state=h.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(z=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),z!==T.state&&AA.enqueueReplaceState(T,T.state,null),l0(h,w,T,N),c0(),T.state=h.memoizedState),typeof T.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(f===null){T=h.stateNode;var J=h.memoizedProps,de=mf(y,J);T.props=de;var _e=T.context,We=y.contextType;z=kh,typeof We=="object"&&We!==null&&(z=Jr(We));var Ze=y.getDerivedStateFromProps;We=typeof Ze=="function"||typeof T.getSnapshotBeforeUpdate=="function",J=h.pendingProps!==J,We||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(J||_e!==z)&&HF(h,T,w,z),zl=!1;var Le=h.memoizedState;T.state=Le,l0(h,w,T,N),c0(),_e=h.memoizedState,J||Le!==_e||zl?(typeof Ze=="function"&&(_A(h,y,Ze,w),_e=h.memoizedState),(de=zl||jF(h,y,de,w,Le,_e,z))?(We||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(h.flags|=4194308)):(typeof T.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=_e),T.props=w,T.state=_e,T.context=z,w=de):(typeof T.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{T=h.stateNode,BA(f,h),z=h.memoizedProps,We=mf(y,z),T.props=We,Ze=h.pendingProps,Le=T.context,_e=y.contextType,de=kh,typeof _e=="object"&&_e!==null&&(de=Jr(_e)),J=y.getDerivedStateFromProps,(_e=typeof J=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==Ze||Le!==de)&&HF(h,T,w,de),zl=!1,Le=h.memoizedState,T.state=Le,l0(h,w,T,N),c0();var Ue=h.memoizedState;z!==Ze||Le!==Ue||zl||f!==null&&f.dependencies!==null&&ex(f.dependencies)?(typeof J=="function"&&(_A(h,y,J,w),Ue=h.memoizedState),(We=zl||jF(h,y,We,w,Le,Ue,de)||f!==null&&f.dependencies!==null&&ex(f.dependencies))?(_e||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(w,Ue,de),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(w,Ue,de)),typeof T.componentDidUpdate=="function"&&(h.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof T.componentDidUpdate!="function"||z===f.memoizedProps&&Le===f.memoizedState||(h.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===f.memoizedProps&&Le===f.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Ue),T.props=w,T.state=Ue,T.context=de,w=We):(typeof T.componentDidUpdate!="function"||z===f.memoizedProps&&Le===f.memoizedState||(h.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===f.memoizedProps&&Le===f.memoizedState||(h.flags|=1024),w=!1)}return T=w,s0(f,h),w=(h.flags&128)!==0,T||w?(T=h.stateNode,y=w&&typeof y.getDerivedStateFromError!="function"?null:T.render(),h.flags|=1,f!==null&&w?(h.child=uf(h,f.child,null,N),h.child=uf(h,null,y,N)):Wr(f,h,y,N),h.memoizedState=T.state,f=h.child):f=Mc(f,h,N),f}function oO(f,h,y,w){return qm(),h.flags|=256,Wr(f,h,y,w),h.child}var TA={dehydrated:null,treeContext:null,retryLane:0};function EA(f){return{baseLanes:f,cachePool:lF()}}function CA(f,h,y){return f=f!==null?f.childLanes&~y:0,h&&(f|=Pi),f}function cO(f,h,y){var w=h.pendingProps,N=!1,T=(h.flags&128)!==0,z;if((z=T)||(z=f!==null&&f.memoizedState===null?!1:(fr.current&2)!==0),z&&(N=!0,h.flags&=-129),z=(h.flags&32)!==0,h.flags&=-33,f===null){if(Ma){if(N?Ol(h):$l(),Ma){var J=Ur,de;if(de=J){e:{for(de=J,J=Ho;de.nodeType!==8;){if(!J){J=null;break e}if(de=po(de.nextSibling),de===null){J=null;break e}}J=de}J!==null?(h.memoizedState={dehydrated:J,treeContext:of!==null?{id:Fc,overflow:Oc}:null,retryLane:536870912},de=Di(18,null,null,0),de.stateNode=J,de.return=h,h.child=de,bs=h,Ur=null,de=!0):de=!1}de||lf(h)}if(J=h.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return J.data==="$!"?h.lanes=16:h.lanes=536870912,null;$c(h)}return J=w.children,w=w.fallback,N?($l(),N=h.mode,J=RA({mode:"hidden",children:J},N),w=xf(w,N,y,null),J.return=h,w.return=h,J.sibling=w,h.child=J,N=h.child,N.memoizedState=EA(y),N.childLanes=CA(f,z,y),h.memoizedState=TA,w):(Ol(h),IA(h,J))}if(de=f.memoizedState,de!==null&&(J=de.dehydrated,J!==null)){if(T)h.flags&256?(Ol(h),h.flags&=-257,h=DA(f,h,y)):h.memoizedState!==null?($l(),h.child=f.child,h.flags|=128,h=null):($l(),N=w.fallback,J=h.mode,w=RA({mode:"visible",children:w.children},J),N=xf(N,J,y,null),N.flags|=2,w.return=h,N.return=h,w.sibling=N,h.child=w,uf(h,f.child,null,y),w=h.child,w.memoizedState=EA(y),w.childLanes=CA(f,z,y),h.memoizedState=TA,h=N);else if(Ol(h),J.data==="$!"){if(z=J.nextSibling&&J.nextSibling.dataset,z)var _e=z.dgst;z=_e,w=Error(n(419)),w.stack="",w.digest=z,Xm({value:w,source:null,stack:null}),h=DA(f,h,y)}else if(Ar||i0(f,h,y,!1),z=(y&f.childLanes)!==0,Ar||z){if(z=cn,z!==null){if(w=y&-y,(w&42)!==0)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=(w&(z.suspendedLanes|y))!==0?0:w,w!==0&&w!==de.retryLane)throw de.retryLane=w,Fl(f,w),_s(z,f,w),QF}J.data==="$?"||iN(),h=DA(f,h,y)}else J.data==="$?"?(h.flags|=128,h.child=f.child,h=LZ.bind(null,f),J._reactRetry=h,h=null):(f=de.treeContext,Ur=po(J.nextSibling),bs=h,Ma=!0,fo=null,Ho=!1,f!==null&&(Ti[Ei++]=Fc,Ti[Ei++]=Oc,Ti[Ei++]=of,Fc=f.id,Oc=f.overflow,of=h),h=IA(h,w.children),h.flags|=4096);return h}return N?($l(),N=w.fallback,J=h.mode,de=f.child,_e=de.sibling,w=Hl(de,{mode:"hidden",children:w.children}),w.subtreeFlags=de.subtreeFlags&31457280,_e!==null?N=Hl(_e,N):(N=xf(N,J,y,null),N.flags|=2),N.return=h,w.return=h,w.sibling=N,h.child=w,w=N,N=h.child,J=f.child.memoizedState,J===null?J=EA(y):(de=J.cachePool,de!==null?(_e=dr._currentValue,de=de.parent!==_e?{parent:_e,pool:_e}:de):de=lF(),J={baseLanes:J.baseLanes|y,cachePool:de}),N.memoizedState=J,N.childLanes=CA(f,z,y),h.memoizedState=TA,w):(Ol(h),y=f.child,f=y.sibling,y=Hl(y,{mode:"visible",children:w.children}),y.return=h,y.sibling=null,f!==null&&(z=h.deletions,z===null?(h.deletions=[f],h.flags|=16):z.push(f)),h.child=y,h.memoizedState=null,y)}function IA(f,h){return h=RA({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function RA(f,h){return FO(f,h,0,null)}function DA(f,h,y){return uf(h,f.child,null,y),f=IA(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function lO(f,h,y){f.lanes|=h;var w=f.alternate;w!==null&&(w.lanes|=h),$A(f.return,h,y)}function PA(f,h,y,w,N){var T=f.memoizedState;T===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:N}:(T.isBackwards=h,T.rendering=null,T.renderingStartTime=0,T.last=w,T.tail=y,T.tailMode=N)}function uO(f,h,y){var w=h.pendingProps,N=w.revealOrder,T=w.tail;if(Wr(f,h,w.children,y),w=fr.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&lO(f,y,h);else if(f.tag===19)lO(f,y,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}w&=1}switch(ee(fr,w),N){case"forwards":for(y=h.child,N=null;y!==null;)f=y.alternate,f!==null&&Uv(f)===null&&(N=y),y=y.sibling;y=N,y===null?(N=h.child,h.child=null):(N=y.sibling,y.sibling=null),PA(h,!1,N,y,T);break;case"backwards":for(y=null,N=h.child,h.child=null;N!==null;){if(f=N.alternate,f!==null&&Uv(f)===null){h.child=N;break}f=N.sibling,N.sibling=y,y=N,N=f}PA(h,!0,y,null,T);break;case"together":PA(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Mc(f,h,y){if(f!==null&&(h.dependencies=f.dependencies),Kl|=h.lanes,(y&h.childLanes)===0)if(f!==null){if(i0(f,h,y,!1),(y&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(n(153));if(h.child!==null){for(f=h.child,y=Hl(f,f.pendingProps),h.child=y,y.return=h;f.sibling!==null;)f=f.sibling,y=y.sibling=Hl(f,f.pendingProps),y.return=h;y.sibling=null}return h.child}function FA(f,h){return(f.lanes&h)!==0?!0:(f=f.dependencies,!!(f!==null&&ex(f)))}function _Z(f,h,y){switch(h.tag){case 3:Oe(h,h.stateNode.containerInfo),Bl(h,dr,f.memoizedState.cache),qm();break;case 27:case 5:He(h);break;case 4:Oe(h,h.stateNode.containerInfo);break;case 10:Bl(h,h.type,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Ol(h),h.flags|=128,null):(y&h.child.childLanes)!==0?cO(f,h,y):(Ol(h),f=Mc(f,h,y),f!==null?f.sibling:null);Ol(h);break;case 19:var N=(f.flags&128)!==0;if(w=(y&h.childLanes)!==0,w||(i0(f,h,y,!1),w=(y&h.childLanes)!==0),N){if(w)return uO(f,h,y);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),ee(fr,fr.current),w)break;return null;case 22:case 23:return h.lanes=0,nO(f,h,y);case 24:Bl(h,dr,f.memoizedState.cache)}return Mc(f,h,y)}function fO(f,h,y){if(f!==null)if(f.memoizedProps!==h.pendingProps)Ar=!0;else{if(!FA(f,y)&&(h.flags&128)===0)return Ar=!1,_Z(f,h,y);Ar=(f.flags&131072)!==0}else Ar=!1,Ma&&(h.flags&1048576)!==0&&XP(h,Lv,h.index);switch(h.lanes=0,h.tag){case 16:e:{f=h.pendingProps;var w=h.elementType,N=w._init;if(w=N(w._payload),h.type=w,typeof w=="function")qA(w)?(f=mf(w,f),h.tag=1,h=iO(null,h,w,f,y)):(h.tag=0,h=SA(null,h,w,f,y));else{if(w!=null){if(N=w.$$typeof,N===g){h.tag=11,h=eO(null,h,w,f,y);break e}else if(N===k){h.tag=14,h=tO(null,h,w,f,y);break e}}throw h=R(w)||w,Error(n(306,h,""))}}return h;case 0:return SA(f,h,h.type,h.pendingProps,y);case 1:return w=h.type,N=mf(w,h.pendingProps),iO(f,h,w,N,y);case 3:e:{if(Oe(h,h.stateNode.containerInfo),f===null)throw Error(n(387));var T=h.pendingProps;N=h.memoizedState,w=N.element,BA(f,h),l0(h,T,null,y);var z=h.memoizedState;if(T=z.cache,Bl(h,dr,T),T!==N.cache&&LA(h,[dr],y,!0),c0(),T=z.element,N.isDehydrated)if(N={element:T,isDehydrated:!1,cache:z.cache},h.updateQueue.baseState=N,h.memoizedState=N,h.flags&256){h=oO(f,h,T,y);break e}else if(T!==w){w=Si(Error(n(424)),h),Xm(w),h=oO(f,h,T,y);break e}else for(Ur=po(h.stateNode.containerInfo.firstChild),bs=h,Ma=!0,fo=null,Ho=!0,y=rF(h,null,T,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(qm(),T===w){h=Mc(f,h,y);break e}Wr(f,h,T,y)}h=h.child}return h;case 26:return s0(f,h),f===null?(y=p4(h.type,null,h.pendingProps,null))?h.memoizedState=y:Ma||(y=h.type,f=h.pendingProps,w=gx(Y.current).createElement(y),w[ae]=h,w[re]=f,Vr(w,y,f),et(w),h.stateNode=w):h.memoizedState=p4(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:return He(h),f===null&&Ma&&(w=h.stateNode=f4(h.type,h.pendingProps,Y.current),bs=h,Ho=!0,Ur=po(w.firstChild)),w=h.pendingProps.children,f!==null||Ma?Wr(f,h,w,y):h.child=uf(h,null,w,y),s0(f,h),h.child;case 5:return f===null&&Ma&&((N=w=Ur)&&(w=QZ(w,h.type,h.pendingProps,Ho),w!==null?(h.stateNode=w,bs=h,Ur=po(w.firstChild),Ho=!1,N=!0):N=!1),N||lf(h)),He(h),N=h.type,T=h.pendingProps,z=f!==null?f.memoizedProps:null,w=T.children,kN(N,T)?w=null:z!==null&&kN(N,z)&&(h.flags|=32),h.memoizedState!==null&&(N=cA(f,h,gZ,null,null,y),A0._currentValue=N),s0(f,h),Wr(f,h,w,y),h.child;case 6:return f===null&&Ma&&((f=y=Ur)&&(y=eJ(y,h.pendingProps,Ho),y!==null?(h.stateNode=y,bs=h,Ur=null,f=!0):f=!1),f||lf(h)),null;case 13:return cO(f,h,y);case 4:return Oe(h,h.stateNode.containerInfo),w=h.pendingProps,f===null?h.child=uf(h,null,w,y):Wr(f,h,w,y),h.child;case 11:return eO(f,h,h.type,h.pendingProps,y);case 7:return Wr(f,h,h.pendingProps,y),h.child;case 8:return Wr(f,h,h.pendingProps.children,y),h.child;case 12:return Wr(f,h,h.pendingProps.children,y),h.child;case 10:return w=h.pendingProps,Bl(h,h.type,w.value),Wr(f,h,w.children,y),h.child;case 9:return N=h.type._context,w=h.pendingProps.children,yf(h),N=Jr(N),w=w(N),h.flags|=1,Wr(f,h,w,y),h.child;case 14:return tO(f,h,h.type,h.pendingProps,y);case 15:return aO(f,h,h.type,h.pendingProps,y);case 19:return uO(f,h,y);case 22:return nO(f,h,y);case 24:return yf(h),w=Jr(dr),f===null?(N=iA(),N===null&&(N=cn,T=rA(),N.pooledCache=T,T.refCount++,T!==null&&(N.pooledCacheLanes|=y),N=T),h.memoizedState={parent:w,cache:N},MA(h),Bl(h,dr,N)):((f.lanes&y)!==0&&(BA(f,h),l0(h,null,null,y),c0()),N=f.memoizedState,T=h.memoizedState,N.parent!==w?(N={parent:w,cache:w},h.memoizedState=N,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=N),Bl(h,dr,w)):(w=T.cache,Bl(h,dr,w),w!==N.cache&&LA(h,[dr],y,!0))),Wr(f,h,h.pendingProps.children,y),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}var OA=G(null),gf=null,Bc=null;function Bl(f,h,y){ee(OA,h._currentValue),h._currentValue=y}function zc(f){f._currentValue=OA.current,te(OA)}function $A(f,h,y){for(;f!==null;){var w=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),f===y)break;f=f.return}}function LA(f,h,y,w){var N=f.child;for(N!==null&&(N.return=f);N!==null;){var T=N.dependencies;if(T!==null){var z=N.child;T=T.firstContext;e:for(;T!==null;){var J=T;T=N;for(var de=0;de<h.length;de++)if(J.context===h[de]){T.lanes|=y,J=T.alternate,J!==null&&(J.lanes|=y),$A(T.return,y,f),w||(z=null);break e}T=J.next}}else if(N.tag===18){if(z=N.return,z===null)throw Error(n(341));z.lanes|=y,T=z.alternate,T!==null&&(T.lanes|=y),$A(z,y,f),z=null}else z=N.child;if(z!==null)z.return=N;else for(z=N;z!==null;){if(z===f){z=null;break}if(N=z.sibling,N!==null){N.return=z.return,z=N;break}z=z.return}N=z}}function i0(f,h,y,w){f=null;for(var N=h,T=!1;N!==null;){if(!T){if((N.flags&524288)!==0)T=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var z=N.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var J=N.type;ni(N.pendingProps.value,z.value)||(f!==null?f.push(J):f=[J])}}else if(N===Ae.current){if(z=N.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(f!==null?f.push(A0):f=[A0])}N=N.return}f!==null&&LA(h,f,y,w),h.flags|=262144}function ex(f){for(f=f.firstContext;f!==null;){if(!ni(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function yf(f){gf=f,Bc=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Jr(f){return dO(gf,f)}function tx(f,h){return gf===null&&yf(f),dO(f,h)}function dO(f,h){var y=h._currentValue;if(h={context:h,memoizedValue:y,next:null},Bc===null){if(f===null)throw Error(n(308));Bc=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else Bc=Bc.next=h;return y}var zl=!1;function MA(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function BA(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Gl(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Ul(f,h,y){var w=f.updateQueue;if(w===null)return null;if(w=w.shared,(_n&2)!==0){var N=w.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),w.pending=h,h=Ov(f),KP(f,null,y),h}return Fv(f,w,h,y),Ov(f)}function o0(f,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194176)!==0)){var w=h.lanes;w&=f.pendingLanes,y|=w,h.lanes=y,kv(f,y)}}function zA(f,h){var y=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,y===w)){var N=null,T=null;if(y=y.firstBaseUpdate,y!==null){do{var z={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};T===null?N=T=z:T=T.next=z,y=y.next}while(y!==null);T===null?N=T=h:T=T.next=h}else N=T=h;y={baseState:w.baseState,firstBaseUpdate:N,lastBaseUpdate:T,shared:w.shared,callbacks:w.callbacks},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=h:f.next=h,y.lastBaseUpdate=h}var GA=!1;function c0(){if(GA){var f=Sh;if(f!==null)throw f}}function l0(f,h,y,w){GA=!1;var N=f.updateQueue;zl=!1;var T=N.firstBaseUpdate,z=N.lastBaseUpdate,J=N.shared.pending;if(J!==null){N.shared.pending=null;var de=J,_e=de.next;de.next=null,z===null?T=_e:z.next=_e,z=de;var We=f.alternate;We!==null&&(We=We.updateQueue,J=We.lastBaseUpdate,J!==z&&(J===null?We.firstBaseUpdate=_e:J.next=_e,We.lastBaseUpdate=de))}if(T!==null){var Ze=N.baseState;z=0,We=_e=de=null,J=T;do{var Le=J.lane&-536870913,Ue=Le!==J.lane;if(Ue?(Pa&Le)===Le:(w&Le)===Le){Le!==0&&Le===Nh&&(GA=!0),We!==null&&(We=We.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Tt=f,Yt=J;Le=h;var Fn=y;switch(Yt.tag){case 1:if(Tt=Yt.payload,typeof Tt=="function"){Ze=Tt.call(Fn,Ze,Le);break e}Ze=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Yt.payload,Le=typeof Tt=="function"?Tt.call(Fn,Ze,Le):Tt,Le==null)break e;Ze=P({},Ze,Le);break e;case 2:zl=!0}}Le=J.callback,Le!==null&&(f.flags|=64,Ue&&(f.flags|=8192),Ue=N.callbacks,Ue===null?N.callbacks=[Le]:Ue.push(Le))}else Ue={lane:Le,tag:J.tag,payload:J.payload,callback:J.callback,next:null},We===null?(_e=We=Ue,de=Ze):We=We.next=Ue,z|=Le;if(J=J.next,J===null){if(J=N.shared.pending,J===null)break;Ue=J,J=Ue.next,Ue.next=null,N.lastBaseUpdate=Ue,N.shared.pending=null}}while(!0);We===null&&(de=Ze),N.baseState=de,N.firstBaseUpdate=_e,N.lastBaseUpdate=We,T===null&&(N.shared.lanes=0),Kl|=z,f.lanes=z,f.memoizedState=Ze}}function hO(f,h){if(typeof f!="function")throw Error(n(191,f));f.call(h)}function pO(f,h){var y=f.callbacks;if(y!==null)for(f.callbacks=null,f=0;f<y.length;f++)hO(y[f],h)}function u0(f,h){try{var y=h.updateQueue,w=y!==null?y.lastEffect:null;if(w!==null){var N=w.next;y=N;do{if((y.tag&f)===f){w=void 0;var T=y.create,z=y.inst;w=T(),z.destroy=w}y=y.next}while(y!==N)}}catch(J){an(h,h.return,J)}}function Wl(f,h,y){try{var w=h.updateQueue,N=w!==null?w.lastEffect:null;if(N!==null){var T=N.next;w=T;do{if((w.tag&f)===f){var z=w.inst,J=z.destroy;if(J!==void 0){z.destroy=void 0,N=h;var de=y;try{J()}catch(_e){an(N,de,_e)}}}w=w.next}while(w!==T)}}catch(_e){an(h,h.return,_e)}}function mO(f){var h=f.updateQueue;if(h!==null){var y=f.stateNode;try{pO(h,y)}catch(w){an(f,f.return,w)}}}function gO(f,h,y){y.props=mf(f.type,f.memoizedProps),y.state=f.memoizedState;try{y.componentWillUnmount()}catch(w){an(f,h,w)}}function vf(f,h){try{var y=f.ref;if(y!==null){var w=f.stateNode;switch(f.tag){case 26:case 27:case 5:var N=w;break;default:N=w}typeof y=="function"?f.refCleanup=y(N):y.current=N}}catch(T){an(f,h,T)}}function ri(f,h){var y=f.ref,w=f.refCleanup;if(y!==null)if(typeof w=="function")try{w()}catch(N){an(f,h,N)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(N){an(f,h,N)}else y.current=null}function yO(f){var h=f.type,y=f.memoizedProps,w=f.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":y.autoFocus&&w.focus();break e;case"img":y.src?w.src=y.src:y.srcSet&&(w.srcset=y.srcSet)}}catch(N){an(f,f.return,N)}}function vO(f,h,y){try{var w=f.stateNode;qZ(w,f.type,y,h),w[re]=h}catch(N){an(f,f.return,N)}}function xO(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27||f.tag===4}function UA(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||xO(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==27&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function WA(f,h,y){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(f,h):y.insertBefore(f,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(f,y)):(h=y,h.appendChild(f)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=mx));else if(w!==4&&w!==27&&(f=f.child,f!==null))for(WA(f,h,y),f=f.sibling;f!==null;)WA(f,h,y),f=f.sibling}function ax(f,h,y){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?y.insertBefore(f,h):y.appendChild(f);else if(w!==4&&w!==27&&(f=f.child,f!==null))for(ax(f,h,y),f=f.sibling;f!==null;)ax(f,h,y),f=f.sibling}var Gc=!1,Dn=!1,VA=!1,kO=typeof WeakSet=="function"?WeakSet:Set,Nr=null,wO=!1;function AZ(f,h){if(f=f.containerInfo,vN=bx,f=MP(f),H2(f)){if("selectionStart"in f)var y={start:f.selectionStart,end:f.selectionEnd};else e:{y=(y=f.ownerDocument)&&y.defaultView||window;var w=y.getSelection&&y.getSelection();if(w&&w.rangeCount!==0){y=w.anchorNode;var N=w.anchorOffset,T=w.focusNode;w=w.focusOffset;try{y.nodeType,T.nodeType}catch{y=null;break e}var z=0,J=-1,de=-1,_e=0,We=0,Ze=f,Le=null;t:for(;;){for(var Ue;Ze!==y||N!==0&&Ze.nodeType!==3||(J=z+N),Ze!==T||w!==0&&Ze.nodeType!==3||(de=z+w),Ze.nodeType===3&&(z+=Ze.nodeValue.length),(Ue=Ze.firstChild)!==null;)Le=Ze,Ze=Ue;for(;;){if(Ze===f)break t;if(Le===y&&++_e===N&&(J=z),Le===T&&++We===w&&(de=z),(Ue=Ze.nextSibling)!==null)break;Ze=Le,Le=Ze.parentNode}Ze=Ue}y=J===-1||de===-1?null:{start:J,end:de}}else y=null}y=y||{start:0,end:0}}else y=null;for(xN={focusedElem:f,selectionRange:y},bx=!1,Nr=h;Nr!==null;)if(h=Nr,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,Nr=f;else for(;Nr!==null;){switch(h=Nr,T=h.alternate,f=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&T!==null){f=void 0,y=h,N=T.memoizedProps,T=T.memoizedState,w=y.stateNode;try{var Tt=mf(y.type,N,y.elementType===y.type);f=w.getSnapshotBeforeUpdate(Tt,T),w.__reactInternalSnapshotBeforeUpdate=f}catch(Yt){an(y,y.return,Yt)}}break;case 3:if((f&1024)!==0){if(f=h.stateNode.containerInfo,y=f.nodeType,y===9)_N(f);else if(y===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":_N(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(n(163))}if(f=h.sibling,f!==null){f.return=h.return,Nr=f;break}Nr=h.return}return Tt=wO,wO=!1,Tt}function bO(f,h,y){var w=y.flags;switch(y.tag){case 0:case 11:case 15:Wc(f,y),w&4&&u0(5,y);break;case 1:if(Wc(f,y),w&4)if(f=y.stateNode,h===null)try{f.componentDidMount()}catch(J){an(y,y.return,J)}else{var N=mf(y.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(N,h,f.__reactInternalSnapshotBeforeUpdate)}catch(J){an(y,y.return,J)}}w&64&&mO(y),w&512&&vf(y,y.return);break;case 3:if(Wc(f,y),w&64&&(w=y.updateQueue,w!==null)){if(f=null,y.child!==null)switch(y.child.tag){case 27:case 5:f=y.child.stateNode;break;case 1:f=y.child.stateNode}try{pO(w,f)}catch(J){an(y,y.return,J)}}break;case 26:Wc(f,y),w&512&&vf(y,y.return);break;case 27:case 5:Wc(f,y),h===null&&w&4&&yO(y),w&512&&vf(y,y.return);break;case 12:Wc(f,y);break;case 13:Wc(f,y),w&4&&NO(f,y);break;case 22:if(N=y.memoizedState!==null||Gc,!N){h=h!==null&&h.memoizedState!==null||Dn;var T=Gc,z=Dn;Gc=N,(Dn=h)&&!z?Vl(f,y,(y.subtreeFlags&8772)!==0):Wc(f,y),Gc=T,Dn=z}w&512&&(y.memoizedProps.mode==="manual"?vf(y,y.return):ri(y,y.return));break;default:Wc(f,y)}}function _O(f){var h=f.alternate;h!==null&&(f.alternate=null,_O(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&De(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Yn=null,si=!1;function Uc(f,h,y){for(y=y.child;y!==null;)AO(f,h,y),y=y.sibling}function AO(f,h,y){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Ht,y)}catch{}switch(y.tag){case 26:Dn||ri(y,h),Uc(f,h,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Dn||ri(y,h);var w=Yn,N=si;for(Yn=y.stateNode,Uc(f,h,y),y=y.stateNode,h=y.attributes;h.length;)y.removeAttributeNode(h[0]);De(y),Yn=w,si=N;break;case 5:Dn||ri(y,h);case 6:N=Yn;var T=si;if(Yn=null,Uc(f,h,y),Yn=N,si=T,Yn!==null)if(si)try{f=Yn,w=y.stateNode,f.nodeType===8?f.parentNode.removeChild(w):f.removeChild(w)}catch(z){an(y,h,z)}else try{Yn.removeChild(y.stateNode)}catch(z){an(y,h,z)}break;case 18:Yn!==null&&(si?(h=Yn,y=y.stateNode,h.nodeType===8?bN(h.parentNode,y):h.nodeType===1&&bN(h,y),E0(h)):bN(Yn,y.stateNode));break;case 4:w=Yn,N=si,Yn=y.stateNode.containerInfo,si=!0,Uc(f,h,y),Yn=w,si=N;break;case 0:case 11:case 14:case 15:Dn||Wl(2,y,h),Dn||Wl(4,y,h),Uc(f,h,y);break;case 1:Dn||(ri(y,h),w=y.stateNode,typeof w.componentWillUnmount=="function"&&gO(y,h,w)),Uc(f,h,y);break;case 21:Uc(f,h,y);break;case 22:Dn||ri(y,h),Dn=(w=Dn)||y.memoizedState!==null,Uc(f,h,y),Dn=w;break;default:Uc(f,h,y)}}function NO(f,h){if(h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{E0(f)}catch(y){an(h,h.return,y)}}function NZ(f){switch(f.tag){case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new kO),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new kO),h;default:throw Error(n(435,f.tag))}}function jA(f,h){var y=NZ(f);h.forEach(function(w){var N=MZ.bind(null,f,w);y.has(w)||(y.add(w),w.then(N,N))})}function Ii(f,h){var y=h.deletions;if(y!==null)for(var w=0;w<y.length;w++){var N=y[w],T=f,z=h,J=z;e:for(;J!==null;){switch(J.tag){case 27:case 5:Yn=J.stateNode,si=!1;break e;case 3:Yn=J.stateNode.containerInfo,si=!0;break e;case 4:Yn=J.stateNode.containerInfo,si=!0;break e}J=J.return}if(Yn===null)throw Error(n(160));AO(T,z,N),Yn=null,si=!1,T=N.alternate,T!==null&&(T.return=null),N.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)SO(h,f),h=h.sibling}var ho=null;function SO(f,h){var y=f.alternate,w=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Ii(h,f),Ri(f),w&4&&(Wl(3,f,f.return),u0(3,f),Wl(5,f,f.return));break;case 1:Ii(h,f),Ri(f),w&512&&(Dn||y===null||ri(y,y.return)),w&64&&Gc&&(f=f.updateQueue,f!==null&&(w=f.callbacks,w!==null&&(y=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=y===null?w:y.concat(w))));break;case 26:var N=ho;if(Ii(h,f),Ri(f),w&512&&(Dn||y===null||ri(y,y.return)),w&4){var T=y!==null?y.memoizedState:null;if(w=f.memoizedState,y===null)if(w===null)if(f.stateNode===null){e:{w=f.type,y=f.memoizedProps,N=N.ownerDocument||N;t:switch(w){case"title":T=N.getElementsByTagName("title")[0],(!T||T[Ee]||T[ae]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=N.createElement(w),N.head.insertBefore(T,N.querySelector("head > title"))),Vr(T,w,y),T[ae]=f,et(T),w=T;break e;case"link":var z=y4("link","href",N).get(w+(y.href||""));if(z){for(var J=0;J<z.length;J++)if(T=z[J],T.getAttribute("href")===(y.href==null?null:y.href)&&T.getAttribute("rel")===(y.rel==null?null:y.rel)&&T.getAttribute("title")===(y.title==null?null:y.title)&&T.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){z.splice(J,1);break t}}T=N.createElement(w),Vr(T,w,y),N.head.appendChild(T);break;case"meta":if(z=y4("meta","content",N).get(w+(y.content||""))){for(J=0;J<z.length;J++)if(T=z[J],T.getAttribute("content")===(y.content==null?null:""+y.content)&&T.getAttribute("name")===(y.name==null?null:y.name)&&T.getAttribute("property")===(y.property==null?null:y.property)&&T.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&T.getAttribute("charset")===(y.charSet==null?null:y.charSet)){z.splice(J,1);break t}}T=N.createElement(w),Vr(T,w,y),N.head.appendChild(T);break;default:throw Error(n(468,w))}T[ae]=f,et(T),w=T}f.stateNode=w}else v4(N,f.type,f.stateNode);else f.stateNode=g4(N,w,f.memoizedProps);else T!==w?(T===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):T.count--,w===null?v4(N,f.type,f.stateNode):g4(N,w,f.memoizedProps)):w===null&&f.stateNode!==null&&vO(f,f.memoizedProps,y.memoizedProps)}break;case 27:if(w&4&&f.alternate===null){N=f.stateNode,T=f.memoizedProps;try{for(var de=N.firstChild;de;){var _e=de.nextSibling,We=de.nodeName;de[Ee]||We==="HEAD"||We==="BODY"||We==="SCRIPT"||We==="STYLE"||We==="LINK"&&de.rel.toLowerCase()==="stylesheet"||N.removeChild(de),de=_e}for(var Ze=f.type,Le=N.attributes;Le.length;)N.removeAttributeNode(Le[0]);Vr(N,Ze,T),N[ae]=f,N[re]=T}catch(Tt){an(f,f.return,Tt)}}case 5:if(Ii(h,f),Ri(f),w&512&&(Dn||y===null||ri(y,y.return)),f.flags&32){N=f.stateNode;try{hh(N,"")}catch(Tt){an(f,f.return,Tt)}}w&4&&f.stateNode!=null&&(N=f.memoizedProps,vO(f,N,y!==null?y.memoizedProps:N)),w&1024&&(VA=!0);break;case 6:if(Ii(h,f),Ri(f),w&4){if(f.stateNode===null)throw Error(n(162));w=f.memoizedProps,y=f.stateNode;try{y.nodeValue=w}catch(Tt){an(f,f.return,Tt)}}break;case 3:if(xx=null,N=ho,ho=yx(h.containerInfo),Ii(h,f),ho=N,Ri(f),w&4&&y!==null&&y.memoizedState.isDehydrated)try{E0(h.containerInfo)}catch(Tt){an(f,f.return,Tt)}VA&&(VA=!1,TO(f));break;case 4:w=ho,ho=yx(f.stateNode.containerInfo),Ii(h,f),Ri(f),ho=w;break;case 12:Ii(h,f),Ri(f);break;case 13:Ii(h,f),Ri(f),f.child.flags&8192&&f.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(eN=Be()),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,jA(f,w)));break;case 22:if(w&512&&(Dn||y===null||ri(y,y.return)),de=f.memoizedState!==null,_e=y!==null&&y.memoizedState!==null,We=Gc,Ze=Dn,Gc=We||de,Dn=Ze||_e,Ii(h,f),Dn=Ze,Gc=We,Ri(f),h=f.stateNode,h._current=f,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,w&8192&&(h._visibility=de?h._visibility&-2:h._visibility|1,de&&(h=Gc||Dn,y===null||_e||h||Ih(f)),f.memoizedProps===null||f.memoizedProps.mode!=="manual"))e:for(y=null,h=f;;){if(h.tag===5||h.tag===26||h.tag===27){if(y===null){_e=y=h;try{if(N=_e.stateNode,de)T=N.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{z=_e.stateNode,J=_e.memoizedProps.style;var Ue=J!=null&&J.hasOwnProperty("display")?J.display:null;z.style.display=Ue==null||typeof Ue=="boolean"?"":(""+Ue).trim()}}catch(Tt){an(_e,_e.return,Tt)}}}else if(h.tag===6){if(y===null){_e=h;try{_e.stateNode.nodeValue=de?"":_e.memoizedProps}catch(Tt){an(_e,_e.return,Tt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}w&4&&(w=f.updateQueue,w!==null&&(y=w.retryQueue,y!==null&&(w.retryQueue=null,jA(f,y))));break;case 19:Ii(h,f),Ri(f),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,jA(f,w)));break;case 21:break;default:Ii(h,f),Ri(f)}}function Ri(f){var h=f.flags;if(h&2){try{if(f.tag!==27){e:{for(var y=f.return;y!==null;){if(xO(y)){var w=y;break e}y=y.return}throw Error(n(160))}switch(w.tag){case 27:var N=w.stateNode,T=UA(f);ax(f,T,N);break;case 5:var z=w.stateNode;w.flags&32&&(hh(z,""),w.flags&=-33);var J=UA(f);ax(f,J,z);break;case 3:case 4:var de=w.stateNode.containerInfo,_e=UA(f);WA(f,_e,de);break;default:throw Error(n(161))}}}catch(We){an(f,f.return,We)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function TO(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;TO(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),f=f.sibling}}function Wc(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)bO(f,h.alternate,h),h=h.sibling}function Ih(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:Wl(4,h,h.return),Ih(h);break;case 1:ri(h,h.return);var y=h.stateNode;typeof y.componentWillUnmount=="function"&&gO(h,h.return,y),Ih(h);break;case 26:case 27:case 5:ri(h,h.return),Ih(h);break;case 22:ri(h,h.return),h.memoizedState===null&&Ih(h);break;default:Ih(h)}f=f.sibling}}function Vl(f,h,y){for(y=y&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,N=f,T=h,z=T.flags;switch(T.tag){case 0:case 11:case 15:Vl(N,T,y),u0(4,T);break;case 1:if(Vl(N,T,y),w=T,N=w.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(_e){an(w,w.return,_e)}if(w=T,N=w.updateQueue,N!==null){var J=w.stateNode;try{var de=N.shared.hiddenCallbacks;if(de!==null)for(N.shared.hiddenCallbacks=null,N=0;N<de.length;N++)hO(de[N],J)}catch(_e){an(w,w.return,_e)}}y&&z&64&&mO(T),vf(T,T.return);break;case 26:case 27:case 5:Vl(N,T,y),y&&w===null&&z&4&&yO(T),vf(T,T.return);break;case 12:Vl(N,T,y);break;case 13:Vl(N,T,y),y&&z&4&&NO(N,T);break;case 22:T.memoizedState===null&&Vl(N,T,y),vf(T,T.return);break;default:Vl(N,T,y)}h=h.sibling}}function HA(f,h){var y=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==y&&(f!=null&&f.refCount++,y!=null&&e0(y))}function KA(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&e0(f))}function jl(f,h,y,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)EO(f,h,y,w),h=h.sibling}function EO(f,h,y,w){var N=h.flags;switch(h.tag){case 0:case 11:case 15:jl(f,h,y,w),N&2048&&u0(9,h);break;case 3:jl(f,h,y,w),N&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&e0(f)));break;case 12:if(N&2048){jl(f,h,y,w),f=h.stateNode;try{var T=h.memoizedProps,z=T.id,J=T.onPostCommit;typeof J=="function"&&J(z,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(de){an(h,h.return,de)}}else jl(f,h,y,w);break;case 23:break;case 22:T=h.stateNode,h.memoizedState!==null?T._visibility&4?jl(f,h,y,w):f0(f,h):T._visibility&4?jl(f,h,y,w):(T._visibility|=4,Rh(f,h,y,w,(h.subtreeFlags&10256)!==0)),N&2048&&HA(h.alternate,h);break;case 24:jl(f,h,y,w),N&2048&&KA(h.alternate,h);break;default:jl(f,h,y,w)}}function Rh(f,h,y,w,N){for(N=N&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var T=f,z=h,J=y,de=w,_e=z.flags;switch(z.tag){case 0:case 11:case 15:Rh(T,z,J,de,N),u0(8,z);break;case 23:break;case 22:var We=z.stateNode;z.memoizedState!==null?We._visibility&4?Rh(T,z,J,de,N):f0(T,z):(We._visibility|=4,Rh(T,z,J,de,N)),N&&_e&2048&&HA(z.alternate,z);break;case 24:Rh(T,z,J,de,N),N&&_e&2048&&KA(z.alternate,z);break;default:Rh(T,z,J,de,N)}h=h.sibling}}function f0(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var y=f,w=h,N=w.flags;switch(w.tag){case 22:f0(y,w),N&2048&&HA(w.alternate,w);break;case 24:f0(y,w),N&2048&&KA(w.alternate,w);break;default:f0(y,w)}h=h.sibling}}var d0=8192;function Dh(f){if(f.subtreeFlags&d0)for(f=f.child;f!==null;)CO(f),f=f.sibling}function CO(f){switch(f.tag){case 26:Dh(f),f.flags&d0&&f.memoizedState!==null&&hJ(ho,f.memoizedState,f.memoizedProps);break;case 5:Dh(f);break;case 3:case 4:var h=ho;ho=yx(f.stateNode.containerInfo),Dh(f),ho=h;break;case 22:f.memoizedState===null&&(h=f.alternate,h!==null&&h.memoizedState!==null?(h=d0,d0=16777216,Dh(f),d0=h):Dh(f));break;default:Dh(f)}}function IO(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function h0(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var w=h[y];Nr=w,DO(w,f)}IO(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)RO(f),f=f.sibling}function RO(f){switch(f.tag){case 0:case 11:case 15:h0(f),f.flags&2048&&Wl(9,f,f.return);break;case 3:h0(f);break;case 12:h0(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&4&&(f.return===null||f.return.tag!==13)?(h._visibility&=-5,nx(f)):h0(f);break;default:h0(f)}}function nx(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var w=h[y];Nr=w,DO(w,f)}IO(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:Wl(8,h,h.return),nx(h);break;case 22:y=h.stateNode,y._visibility&4&&(y._visibility&=-5,nx(h));break;default:nx(h)}f=f.sibling}}function DO(f,h){for(;Nr!==null;){var y=Nr;switch(y.tag){case 0:case 11:case 15:Wl(8,y,h);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var w=y.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:e0(y.memoizedState.cache)}if(w=y.child,w!==null)w.return=y,Nr=w;else e:for(y=f;Nr!==null;){w=Nr;var N=w.sibling,T=w.return;if(_O(w),w===y){Nr=null;break e}if(N!==null){N.return=T,Nr=N;break e}Nr=T}}}function SZ(f,h,y,w){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(f,h,y,w){return new SZ(f,h,y,w)}function qA(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Hl(f,h){var y=f.alternate;return y===null?(y=Di(f.tag,h,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=h,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&31457280,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,h=f.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y.refCleanup=f.refCleanup,y}function PO(f,h){f.flags&=31457282;var y=f.alternate;return y===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,h=y.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function rx(f,h,y,w,N,T){var z=0;if(w=f,typeof f=="function")qA(f)&&(z=1);else if(typeof f=="string")z=fJ(f,y,ne.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case c:return xf(y.children,N,T,h);case l:z=8,N|=24;break;case u:return f=Di(12,y,h,N|2),f.elementType=u,f.lanes=T,f;case x:return f=Di(13,y,h,N),f.elementType=x,f.lanes=T,f;case v:return f=Di(19,y,h,N),f.elementType=v,f.lanes=T,f;case _:return FO(y,N,T,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case d:case m:z=10;break e;case p:z=9;break e;case g:z=11;break e;case k:z=14;break e;case b:z=16,w=null;break e}z=29,y=Error(n(130,f===null?"null":typeof f,"")),w=null}return h=Di(z,y,h,N),h.elementType=f,h.type=w,h.lanes=T,h}function xf(f,h,y,w){return f=Di(7,f,w,h),f.lanes=y,f}function FO(f,h,y,w){f=Di(22,f,w,h),f.elementType=_,f.lanes=y;var N={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var T=N._current;if(T===null)throw Error(n(456));if((N._pendingVisibility&2)===0){var z=Fl(T,2);z!==null&&(N._pendingVisibility|=2,_s(z,T,2))}},attach:function(){var T=N._current;if(T===null)throw Error(n(456));if((N._pendingVisibility&2)!==0){var z=Fl(T,2);z!==null&&(N._pendingVisibility&=-3,_s(z,T,2))}}};return f.stateNode=N,f}function XA(f,h,y){return f=Di(6,f,null,h),f.lanes=y,f}function YA(f,h,y){return h=Di(4,f.children!==null?f.children:[],f.key,h),h.lanes=y,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function Vc(f){f.flags|=4}function OO(f,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!x4(h)){if(h=Ci.current,h!==null&&((Pa&4194176)===Pa?Ko!==null:(Pa&62914560)!==Pa&&(Pa&536870912)===0||h!==Ko))throw Zm=tA,JP;f.flags|=8192}}function sx(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?xv():536870912,f.lanes|=h,Fh|=h)}function p0(f,h){if(!Ma)switch(f.tailMode){case"hidden":h=f.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function bn(f){var h=f.alternate!==null&&f.alternate.child===f.child,y=0,w=0;if(h)for(var N=f.child;N!==null;)y|=N.lanes|N.childLanes,w|=N.subtreeFlags&31457280,w|=N.flags&31457280,N.return=f,N=N.sibling;else for(N=f.child;N!==null;)y|=N.lanes|N.childLanes,w|=N.subtreeFlags,w|=N.flags,N.return=f,N=N.sibling;return f.subtreeFlags|=w,f.childLanes=y,h}function TZ(f,h,y){var w=h.pendingProps;switch(Q2(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(h),null;case 1:return bn(h),null;case 3:return y=h.stateNode,w=null,f!==null&&(w=f.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),zc(dr),$e(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(f===null||f.child===null)&&(Km(h)?Vc(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,fo!==null&&(rN(fo),fo=null))),bn(h),null;case 26:return y=h.memoizedState,f===null?(Vc(h),y!==null?(bn(h),OO(h,y)):(bn(h),h.flags&=-16777217)):y?y!==f.memoizedState?(Vc(h),bn(h),OO(h,y)):(bn(h),h.flags&=-16777217):(f.memoizedProps!==w&&Vc(h),bn(h),h.flags&=-16777217),null;case 27:Ve(h),y=Y.current;var N=h.type;if(f!==null&&h.stateNode!=null)f.memoizedProps!==w&&Vc(h);else{if(!w){if(h.stateNode===null)throw Error(n(166));return bn(h),null}f=ne.current,Km(h)?YP(h):(f=f4(N,w,y),h.stateNode=f,Vc(h))}return bn(h),null;case 5:if(Ve(h),y=h.type,f!==null&&h.stateNode!=null)f.memoizedProps!==w&&Vc(h);else{if(!w){if(h.stateNode===null)throw Error(n(166));return bn(h),null}if(f=ne.current,Km(h))YP(h);else{switch(N=gx(Y.current),f){case 1:f=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:f=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":f=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":f=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":f=N.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof w.is=="string"?N.createElement("select",{is:w.is}):N.createElement("select"),w.multiple?f.multiple=!0:w.size&&(f.size=w.size);break;default:f=typeof w.is=="string"?N.createElement(y,{is:w.is}):N.createElement(y)}}f[ae]=h,f[re]=w;e:for(N=h.child;N!==null;){if(N.tag===5||N.tag===6)f.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===h)break e;for(;N.sibling===null;){if(N.return===null||N.return===h)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}h.stateNode=f;e:switch(Vr(f,y,w),y){case"button":case"input":case"select":case"textarea":f=!!w.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Vc(h)}}return bn(h),h.flags&=-16777217,null;case 6:if(f&&h.stateNode!=null)f.memoizedProps!==w&&Vc(h);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(f=Y.current,Km(h)){if(f=h.stateNode,y=h.memoizedProps,w=null,N=bs,N!==null)switch(N.tag){case 27:case 5:w=N.memoizedProps}f[ae]=h,f=!!(f.nodeValue===y||w!==null&&w.suppressHydrationWarning===!0||s4(f.nodeValue,y)),f||lf(h)}else f=gx(f).createTextNode(w),f[ae]=h,h.stateNode=f}return bn(h),null;case 13:if(w=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(N=Km(h),w!==null&&w.dehydrated!==null){if(f===null){if(!N)throw Error(n(318));if(N=h.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[ae]=h}else qm(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;bn(h),N=!1}else fo!==null&&(rN(fo),fo=null),N=!0;if(!N)return h.flags&256?($c(h),h):($c(h),null)}if($c(h),(h.flags&128)!==0)return h.lanes=y,h;if(y=w!==null,f=f!==null&&f.memoizedState!==null,y){w=h.child,N=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(N=w.alternate.memoizedState.cachePool.pool);var T=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(T=w.memoizedState.cachePool.pool),T!==N&&(w.flags|=2048)}return y!==f&&y&&(h.child.flags|=8192),sx(h,h.updateQueue),bn(h),null;case 4:return $e(),f===null&&mN(h.stateNode.containerInfo),bn(h),null;case 10:return zc(h.type),bn(h),null;case 19:if(te(fr),N=h.memoizedState,N===null)return bn(h),null;if(w=(h.flags&128)!==0,T=N.rendering,T===null)if(w)p0(N,!1);else{if(Pn!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(T=Uv(f),T!==null){for(h.flags|=128,p0(N,!1),f=T.updateQueue,h.updateQueue=f,sx(h,f),h.subtreeFlags=0,f=y,y=h.child;y!==null;)PO(y,f),y=y.sibling;return ee(fr,fr.current&1|2),h.child}f=f.sibling}N.tail!==null&&Be()>ix&&(h.flags|=128,w=!0,p0(N,!1),h.lanes=4194304)}else{if(!w)if(f=Uv(T),f!==null){if(h.flags|=128,w=!0,f=f.updateQueue,h.updateQueue=f,sx(h,f),p0(N,!0),N.tail===null&&N.tailMode==="hidden"&&!T.alternate&&!Ma)return bn(h),null}else 2*Be()-N.renderingStartTime>ix&&y!==536870912&&(h.flags|=128,w=!0,p0(N,!1),h.lanes=4194304);N.isBackwards?(T.sibling=h.child,h.child=T):(f=N.last,f!==null?f.sibling=T:h.child=T,N.last=T)}return N.tail!==null?(h=N.tail,N.rendering=h,N.tail=h.sibling,N.renderingStartTime=Be(),h.sibling=null,f=fr.current,ee(fr,w?f&1|2:f&1),h):(bn(h),null);case 22:case 23:return $c(h),nA(),w=h.memoizedState!==null,f!==null?f.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(y&536870912)!==0&&(h.flags&128)===0&&(bn(h),h.subtreeFlags&6&&(h.flags|=8192)):bn(h),y=h.updateQueue,y!==null&&sx(h,y.retryQueue),y=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048),f!==null&&te(ff),null;case 24:return y=null,f!==null&&(y=f.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),zc(dr),bn(h),null;case 25:return null}throw Error(n(156,h.tag))}function EZ(f,h){switch(Q2(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return zc(dr),$e(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return Ve(h),null;case 13:if($c(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(n(340));qm()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return te(fr),null;case 4:return $e(),null;case 10:return zc(h.type),null;case 22:case 23:return $c(h),nA(),f!==null&&te(ff),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return zc(dr),null;case 25:return null;default:return null}}function $O(f,h){switch(Q2(h),h.tag){case 3:zc(dr),$e();break;case 26:case 27:case 5:Ve(h);break;case 4:$e();break;case 13:$c(h);break;case 19:te(fr);break;case 10:zc(h.type);break;case 22:case 23:$c(h),nA(),f!==null&&te(ff);break;case 24:zc(dr)}}var CZ={getCacheForType:function(f){var h=Jr(dr),y=h.data.get(f);return y===void 0&&(y=f(),h.data.set(f,y)),y}},IZ=typeof WeakMap=="function"?WeakMap:Map,_n=0,cn=null,ba=null,Pa=0,ln=0,ii=null,jc=!1,Ph=!1,ZA=!1,Hc=0,Pn=0,Kl=0,kf=0,JA=0,Pi=0,Fh=0,m0=null,Xo=null,QA=!1,eN=0,ix=1/0,ox=null,ql=null,cx=!1,wf=null,g0=0,tN=0,aN=null,y0=0,nN=null;function oi(){if((_n&2)!==0&&Pa!==0)return Pa&-Pa;if(I.T!==null){var f=Nh;return f!==0?f:fN()}return bv()}function LO(){Pi===0&&(Pi=(Pa&536870912)===0||Ma?vv():536870912);var f=Ci.current;return f!==null&&(f.flags|=32),Pi}function _s(f,h,y){(f===cn&&ln===2||f.cancelPendingCommit!==null)&&(Oh(f,0),Kc(f,Pa,Pi,!1)),tf(f,y),((_n&2)===0||f!==cn)&&(f===cn&&((_n&2)===0&&(kf|=y),Pn===4&&Kc(f,Pa,Pi,!1)),Yo(f))}function MO(f,h,y){if((_n&6)!==0)throw Error(n(327));var w=!y&&(h&60)===0&&(h&f.expiredLanes)===0||ef(f,h),N=w?PZ(f,h):oN(f,h,!0),T=w;do{if(N===0){Ph&&!w&&Kc(f,h,0,!1);break}else if(N===6)Kc(f,h,0,!jc);else{if(y=f.current.alternate,T&&!RZ(y)){N=oN(f,h,!1),T=!1;continue}if(N===2){if(T=h,f.errorRecoveryDisabledLanes&T)var z=0;else z=f.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){h=z;e:{var J=f;N=m0;var de=J.current.memoizedState.isDehydrated;if(de&&(Oh(J,z).flags|=256),z=oN(J,z,!1),z!==2){if(ZA&&!de){J.errorRecoveryDisabledLanes|=T,kf|=T,N=4;break e}T=Xo,Xo=N,T!==null&&rN(T)}N=z}if(T=!1,N!==2)continue}}if(N===1){Oh(f,0),Kc(f,h,0,!0);break}e:{switch(w=f,N){case 0:case 1:throw Error(n(345));case 4:if((h&4194176)===h){Kc(w,h,Pi,!jc);break e}break;case 2:Xo=null;break;case 3:case 5:break;default:throw Error(n(329))}if(w.finishedWork=y,w.finishedLanes=h,(h&62914560)===h&&(T=eN+300-Be(),10<T)){if(Kc(w,h,Pi,!jc),uh(w,0)!==0)break e;w.timeoutHandle=c4(BO.bind(null,w,y,Xo,ox,QA,h,Pi,kf,Fh,jc,2,-0,0),T);break e}BO(w,y,Xo,ox,QA,h,Pi,kf,Fh,jc,0,-0,0)}}break}while(!0);Yo(f)}function rN(f){Xo===null?Xo=f:Xo.push.apply(Xo,f)}function BO(f,h,y,w,N,T,z,J,de,_e,We,Ze,Le){var Ue=h.subtreeFlags;if((Ue&8192||(Ue&16785408)===16785408)&&(_0={stylesheets:null,count:0,unsuspend:dJ},CO(h),h=pJ(),h!==null)){f.cancelPendingCommit=h(HO.bind(null,f,y,w,N,z,J,de,1,Ze,Le)),Kc(f,T,z,!_e);return}HO(f,y,w,N,z,J,de,We,Ze,Le)}function RZ(f){for(var h=f;;){var y=h.tag;if((y===0||y===11||y===15)&&h.flags&16384&&(y=h.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var w=0;w<y.length;w++){var N=y[w],T=N.getSnapshot;N=N.value;try{if(!ni(T(),N))return!1}catch{return!1}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Kc(f,h,y,w){h&=~JA,h&=~kf,f.suspendedLanes|=h,f.pingedLanes&=~h,w&&(f.warmLanes|=h),w=f.expirationTimes;for(var N=h;0<N;){var T=31-Rn(N),z=1<<T;w[T]=-1,N&=~z}y!==0&&fh(f,y,h)}function lx(){return(_n&6)===0?(v0(0),!1):!0}function sN(){if(ba!==null){if(ln===0)var f=ba.return;else f=ba,Bc=gf=null,fA(f),_h=null,Jm=0,f=ba;for(;f!==null;)$O(f.alternate,f),f=f.return;ba=null}}function Oh(f,h){f.finishedWork=null,f.finishedLanes=0;var y=f.timeoutHandle;y!==-1&&(f.timeoutHandle=-1,YZ(y)),y=f.cancelPendingCommit,y!==null&&(f.cancelPendingCommit=null,y()),sN(),cn=f,ba=y=Hl(f.current,null),Pa=h,ln=0,ii=null,jc=!1,Ph=ef(f,h),ZA=!1,Fh=Pi=JA=kf=Kl=Pn=0,Xo=m0=null,QA=!1,(h&8)!==0&&(h|=h&32);var w=f.entangledLanes;if(w!==0)for(f=f.entanglements,w&=h;0<w;){var N=31-Rn(w),T=1<<N;h|=f[N],w&=~T}return Hc=h,Pv(),y}function zO(f,h){ga=null,I.H=qo,h===Ym?(h=tF(),ln=3):h===JP?(h=tF(),ln=4):ln=h===QF?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,ii=h,ba===null&&(Pn=1,Qv(f,Si(h,f.current)))}function GO(){var f=I.H;return I.H=qo,f===null?qo:f}function UO(){var f=I.A;return I.A=CZ,f}function iN(){Pn=4,jc||(Pa&4194176)!==Pa&&Ci.current!==null||(Ph=!0),(Kl&134217727)===0&&(kf&134217727)===0||cn===null||Kc(cn,Pa,Pi,!1)}function oN(f,h,y){var w=_n;_n|=2;var N=GO(),T=UO();(cn!==f||Pa!==h)&&(ox=null,Oh(f,h)),h=!1;var z=Pn;e:do try{if(ln!==0&&ba!==null){var J=ba,de=ii;switch(ln){case 8:sN(),z=6;break e;case 3:case 2:case 6:Ci.current===null&&(h=!0);var _e=ln;if(ln=0,ii=null,$h(f,J,de,_e),y&&Ph){z=0;break e}break;default:_e=ln,ln=0,ii=null,$h(f,J,de,_e)}}DZ(),z=Pn;break}catch(We){zO(f,We)}while(!0);return h&&f.shellSuspendCounter++,Bc=gf=null,_n=w,I.H=N,I.A=T,ba===null&&(cn=null,Pa=0,Pv()),z}function DZ(){for(;ba!==null;)WO(ba)}function PZ(f,h){var y=_n;_n|=2;var w=GO(),N=UO();cn!==f||Pa!==h?(ox=null,ix=Be()+500,Oh(f,h)):Ph=ef(f,h);e:do try{if(ln!==0&&ba!==null){h=ba;var T=ii;t:switch(ln){case 1:ln=0,ii=null,$h(f,h,T,1);break;case 2:if(QP(T)){ln=0,ii=null,VO(h);break}h=function(){ln===2&&cn===f&&(ln=7),Yo(f)},T.then(h,h);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:QP(T)?(ln=0,ii=null,VO(h)):(ln=0,ii=null,$h(f,h,T,7));break;case 5:var z=null;switch(ba.tag){case 26:z=ba.memoizedState;case 5:case 27:var J=ba;if(!z||x4(z)){ln=0,ii=null;var de=J.sibling;if(de!==null)ba=de;else{var _e=J.return;_e!==null?(ba=_e,ux(_e)):ba=null}break t}}ln=0,ii=null,$h(f,h,T,5);break;case 6:ln=0,ii=null,$h(f,h,T,6);break;case 8:sN(),Pn=6;break e;default:throw Error(n(462))}}FZ();break}catch(We){zO(f,We)}while(!0);return Bc=gf=null,I.H=w,I.A=N,_n=y,ba!==null?0:(cn=null,Pa=0,Pv(),Pn)}function FZ(){for(;ba!==null&&!Ft();)WO(ba)}function WO(f){var h=fO(f.alternate,f,Hc);f.memoizedProps=f.pendingProps,h===null?ux(f):ba=h}function VO(f){var h=f,y=h.alternate;switch(h.tag){case 15:case 0:h=sO(y,h,h.pendingProps,h.type,void 0,Pa);break;case 11:h=sO(y,h,h.pendingProps,h.type.render,h.ref,Pa);break;case 5:fA(h);default:$O(y,h),h=ba=PO(h,Hc),h=fO(y,h,Hc)}f.memoizedProps=f.pendingProps,h===null?ux(f):ba=h}function $h(f,h,y,w){Bc=gf=null,fA(h),_h=null,Jm=0;var N=h.return;try{if(bZ(f,N,h,y,Pa)){Pn=1,Qv(f,Si(y,f.current)),ba=null;return}}catch(T){if(N!==null)throw ba=N,T;Pn=1,Qv(f,Si(y,f.current)),ba=null;return}h.flags&32768?(Ma||w===1?f=!0:Ph||(Pa&536870912)!==0?f=!1:(jc=f=!0,(w===2||w===3||w===6)&&(w=Ci.current,w!==null&&w.tag===13&&(w.flags|=16384))),jO(h,f)):ux(h)}function ux(f){var h=f;do{if((h.flags&32768)!==0){jO(h,jc);return}f=h.return;var y=TZ(h.alternate,h,Hc);if(y!==null){ba=y;return}if(h=h.sibling,h!==null){ba=h;return}ba=h=f}while(h!==null);Pn===0&&(Pn=5)}function jO(f,h){do{var y=EZ(f.alternate,f);if(y!==null){y.flags&=32767,ba=y;return}if(y=f.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!h&&(f=f.sibling,f!==null)){ba=f;return}ba=f=y}while(f!==null);Pn=6,ba=null}function HO(f,h,y,w,N,T,z,J,de,_e){var We=I.T,Ze=ie.p;try{ie.p=2,I.T=null,OZ(f,h,y,w,Ze,N,T,z,J,de,_e)}finally{I.T=We,ie.p=Ze}}function OZ(f,h,y,w,N,T,z,J){do Lh();while(wf!==null);if((_n&6)!==0)throw Error(n(327));var de=f.finishedWork;if(w=f.finishedLanes,de===null)return null;if(f.finishedWork=null,f.finishedLanes=0,de===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var _e=de.lanes|de.childLanes;if(_e|=Y2,I2(f,w,_e,T,z,J),f===cn&&(ba=cn=null,Pa=0),(de.subtreeFlags&10256)===0&&(de.flags&10256)===0||cx||(cx=!0,tN=_e,aN=y,BZ(Rt,function(){return Lh(),null})),y=(de.flags&15990)!==0,(de.subtreeFlags&15990)!==0||y?(y=I.T,I.T=null,T=ie.p,ie.p=2,z=_n,_n|=4,AZ(f,de),SO(de,f),sZ(xN,f.containerInfo),bx=!!vN,xN=vN=null,f.current=de,bO(f,de.alternate,de),st(),_n=z,ie.p=T,I.T=y):f.current=de,cx?(cx=!1,wf=f,g0=w):KO(f,_e),_e=f.pendingLanes,_e===0&&(ql=null),ur(de.stateNode),Yo(f),h!==null)for(N=f.onRecoverableError,de=0;de<h.length;de++)_e=h[de],N(_e.value,{componentStack:_e.stack});return(g0&3)!==0&&Lh(),_e=f.pendingLanes,(w&4194218)!==0&&(_e&42)!==0?f===nN?y0++:(y0=0,nN=f):y0=0,v0(0),null}function KO(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,e0(h)))}function Lh(){if(wf!==null){var f=wf,h=tN;tN=0;var y=wv(g0),w=I.T,N=ie.p;try{if(ie.p=32>y?32:y,I.T=null,wf===null)var T=!1;else{y=aN,aN=null;var z=wf,J=g0;if(wf=null,g0=0,(_n&6)!==0)throw Error(n(331));var de=_n;if(_n|=4,RO(z.current),EO(z,z.current,J,y),_n=de,v0(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Ht,z)}catch{}T=!0}return T}finally{ie.p=N,I.T=w,KO(f,h)}}return!1}function qO(f,h,y){h=Si(y,h),h=NA(f.stateNode,h,2),f=Ul(f,h,2),f!==null&&(tf(f,2),Yo(f))}function an(f,h,y){if(f.tag===3)qO(f,f,y);else for(;h!==null;){if(h.tag===3){qO(h,f,y);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ql===null||!ql.has(w))){f=Si(y,f),y=ZF(2),w=Ul(h,y,2),w!==null&&(JF(y,w,h,f),tf(w,2),Yo(w));break}}h=h.return}}function cN(f,h,y){var w=f.pingCache;if(w===null){w=f.pingCache=new IZ;var N=new Set;w.set(h,N)}else N=w.get(h),N===void 0&&(N=new Set,w.set(h,N));N.has(y)||(ZA=!0,N.add(y),f=$Z.bind(null,f,h,y),h.then(f,f))}function $Z(f,h,y){var w=f.pingCache;w!==null&&w.delete(h),f.pingedLanes|=f.suspendedLanes&y,f.warmLanes&=~y,cn===f&&(Pa&y)===y&&(Pn===4||Pn===3&&(Pa&62914560)===Pa&&300>Be()-eN?(_n&2)===0&&Oh(f,0):JA|=y,Fh===Pa&&(Fh=0)),Yo(f)}function XO(f,h){h===0&&(h=xv()),f=Fl(f,h),f!==null&&(tf(f,h),Yo(f))}function LZ(f){var h=f.memoizedState,y=0;h!==null&&(y=h.retryLane),XO(f,y)}function MZ(f,h){var y=0;switch(f.tag){case 13:var w=f.stateNode,N=f.memoizedState;N!==null&&(y=N.retryLane);break;case 19:w=f.stateNode;break;case 22:w=f.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(h),XO(f,y)}function BZ(f,h){return lt(f,h)}var fx=null,Mh=null,lN=!1,dx=!1,uN=!1,bf=0;function Yo(f){f!==Mh&&f.next===null&&(Mh===null?fx=Mh=f:Mh=Mh.next=f),dx=!0,lN||(lN=!0,GZ(zZ))}function v0(f,h){if(!uN&&dx){uN=!0;do for(var y=!1,w=fx;w!==null;){if(f!==0){var N=w.pendingLanes;if(N===0)var T=0;else{var z=w.suspendedLanes,J=w.pingedLanes;T=(1<<31-Rn(42|f)+1)-1,T&=N&~(z&~J),T=T&201326677?T&201326677|1:T?T|2:0}T!==0&&(y=!0,JO(w,T))}else T=Pa,T=uh(w,w===cn?T:0),(T&3)===0||ef(w,T)||(y=!0,JO(w,T));w=w.next}while(y);uN=!1}}function zZ(){dx=lN=!1;var f=0;bf!==0&&(XZ()&&(f=bf),bf=0);for(var h=Be(),y=null,w=fx;w!==null;){var N=w.next,T=YO(w,h);T===0?(w.next=null,y===null?fx=N:y.next=N,N===null&&(Mh=y)):(y=w,(f!==0||(T&3)!==0)&&(dx=!0)),w=N}v0(f)}function YO(f,h){for(var y=f.suspendedLanes,w=f.pingedLanes,N=f.expirationTimes,T=f.pendingLanes&-62914561;0<T;){var z=31-Rn(T),J=1<<z,de=N[z];de===-1?((J&y)===0||(J&w)!==0)&&(N[z]=C2(J,h)):de<=h&&(f.expiredLanes|=J),T&=~J}if(h=cn,y=Pa,y=uh(f,f===h?y:0),w=f.callbackNode,y===0||f===h&&ln===2||f.cancelPendingCommit!==null)return w!==null&&w!==null&&Mt(w),f.callbackNode=null,f.callbackPriority=0;if((y&3)===0||ef(f,y)){if(h=y&-y,h===f.callbackPriority)return h;switch(w!==null&&Mt(w),wv(y)){case 2:case 8:y=Lt;break;case 32:y=Rt;break;case 268435456:y=La;break;default:y=Rt}return w=ZO.bind(null,f),y=lt(y,w),f.callbackPriority=h,f.callbackNode=y,h}return w!==null&&w!==null&&Mt(w),f.callbackPriority=2,f.callbackNode=null,2}function ZO(f,h){var y=f.callbackNode;if(Lh()&&f.callbackNode!==y)return null;var w=Pa;return w=uh(f,f===cn?w:0),w===0?null:(MO(f,w,h),YO(f,Be()),f.callbackNode!=null&&f.callbackNode===y?ZO.bind(null,f):null)}function JO(f,h){if(Lh())return null;MO(f,h,!0)}function GZ(f){ZZ(function(){(_n&6)!==0?lt(It,f):f()})}function fN(){return bf===0&&(bf=vv()),bf}function QO(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Sv(""+f)}function e4(f,h){var y=h.ownerDocument.createElement("input");return y.name=h.name,y.value=h.value,f.id&&y.setAttribute("form",f.id),h.parentNode.insertBefore(y,h),f=new FormData(f),y.parentNode.removeChild(y),f}function UZ(f,h,y,w,N){if(h==="submit"&&y&&y.stateNode===N){var T=QO((N[re]||null).action),z=w.submitter;z&&(h=(h=z[re]||null)?QO(h.formAction):z.getAttribute("formAction"),h!==null&&(T=h,z=null));var J=new Iv("action","action",null,w,N);f.push({event:J,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(bf!==0){var de=z?e4(N,z):new FormData(N);kA(y,{pending:!0,data:de,method:N.method,action:T},null,de)}}else typeof T=="function"&&(J.preventDefault(),de=z?e4(N,z):new FormData(N),kA(y,{pending:!0,data:de,method:N.method,action:T},T,de))},currentTarget:N}]})}}for(var dN=0;dN<HP.length;dN++){var hN=HP[dN],WZ=hN.toLowerCase(),VZ=hN[0].toUpperCase()+hN.slice(1);uo(WZ,"on"+VZ)}uo(GP,"onAnimationEnd"),uo(UP,"onAnimationIteration"),uo(WP,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(oZ,"onTransitionRun"),uo(cZ,"onTransitionStart"),uo(lZ,"onTransitionCancel"),uo(VP,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var x0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(x0));function t4(f,h){h=(h&4)!==0;for(var y=0;y<f.length;y++){var w=f[y],N=w.event;w=w.listeners;e:{var T=void 0;if(h)for(var z=w.length-1;0<=z;z--){var J=w[z],de=J.instance,_e=J.currentTarget;if(J=J.listener,de!==T&&N.isPropagationStopped())break e;T=J,N.currentTarget=_e;try{T(N)}catch(We){Jv(We)}N.currentTarget=null,T=de}else for(z=0;z<w.length;z++){if(J=w[z],de=J.instance,_e=J.currentTarget,J=J.listener,de!==T&&N.isPropagationStopped())break e;T=J,N.currentTarget=_e;try{T(N)}catch(We){Jv(We)}N.currentTarget=null,T=de}}}}function Ca(f,h){var y=h[fe];y===void 0&&(y=h[fe]=new Set);var w=f+"__bubble";y.has(w)||(a4(h,f,2,!1),y.add(w))}function pN(f,h,y){var w=0;h&&(w|=4),a4(y,f,w,h)}var hx="_reactListening"+Math.random().toString(36).slice(2);function mN(f){if(!f[hx]){f[hx]=!0,Vt.forEach(function(y){y!=="selectionchange"&&(jZ.has(y)||pN(y,!1,f),pN(y,!0,f))});var h=f.nodeType===9?f:f.ownerDocument;h===null||h[hx]||(h[hx]=!0,pN("selectionchange",!1,h))}}function a4(f,h,y,w){switch(N4(h)){case 2:var N=yJ;break;case 8:N=vJ;break;default:N=EN}y=N.bind(null,h,y,f),N=void 0,!L2||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),w?N!==void 0?f.addEventListener(h,y,{capture:!0,passive:N}):f.addEventListener(h,y,!0):N!==void 0?f.addEventListener(h,y,{passive:N}):f.addEventListener(h,y,!1)}function gN(f,h,y,w,N){var T=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var z=w.tag;if(z===3||z===4){var J=w.stateNode.containerInfo;if(J===N||J.nodeType===8&&J.parentNode===N)break;if(z===4)for(z=w.return;z!==null;){var de=z.tag;if((de===3||de===4)&&(de=z.stateNode.containerInfo,de===N||de.nodeType===8&&de.parentNode===N))return;z=z.return}for(;J!==null;){if(z=Je(J),z===null)return;if(de=z.tag,de===5||de===6||de===26||de===27){w=T=z;continue e}J=J.parentNode}}w=w.return}yP(function(){var _e=T,We=O2(y),Ze=[];e:{var Le=jP.get(f);if(Le!==void 0){var Ue=Iv,Tt=f;switch(f){case"keypress":if(Ev(y)===0)break e;case"keydown":case"keyup":Ue=MY;break;case"focusin":Tt="focus",Ue=G2;break;case"focusout":Tt="blur",Ue=G2;break;case"beforeblur":case"afterblur":Ue=G2;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=kP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=SY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=GY;break;case GP:case UP:case WP:Ue=CY;break;case VP:Ue=WY;break;case"scroll":case"scrollend":Ue=AY;break;case"wheel":Ue=jY;break;case"copy":case"cut":case"paste":Ue=RY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=bP;break;case"toggle":case"beforetoggle":Ue=KY}var Yt=(h&4)!==0,Fn=!Yt&&(f==="scroll"||f==="scrollend"),Se=Yt?Le!==null?Le+"Capture":null:Le;Yt=[];for(var we=_e,Ie;we!==null;){var Ke=we;if(Ie=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Ie===null||Se===null||(Ke=Mm(we,Se),Ke!=null&&Yt.push(k0(we,Ke,Ie))),Fn)break;we=we.return}0<Yt.length&&(Le=new Ue(Le,Tt,null,y,We),Ze.push({event:Le,listeners:Yt}))}}if((h&7)===0){e:{if(Le=f==="mouseover"||f==="pointerover",Ue=f==="mouseout"||f==="pointerout",Le&&y!==F2&&(Tt=y.relatedTarget||y.fromElement)&&(Je(Tt)||Tt[ce]))break e;if((Ue||Le)&&(Le=We.window===We?We:(Le=We.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ue?(Tt=y.relatedTarget||y.toElement,Ue=_e,Tt=Tt?Je(Tt):null,Tt!==null&&(Fn=q(Tt),Yt=Tt.tag,Tt!==Fn||Yt!==5&&Yt!==27&&Yt!==6)&&(Tt=null)):(Ue=null,Tt=_e),Ue!==Tt)){if(Yt=kP,Ke="onMouseLeave",Se="onMouseEnter",we="mouse",(f==="pointerout"||f==="pointerover")&&(Yt=bP,Ke="onPointerLeave",Se="onPointerEnter",we="pointer"),Fn=Ue==null?Le:ht(Ue),Ie=Tt==null?Le:ht(Tt),Le=new Yt(Ke,we+"leave",Ue,y,We),Le.target=Fn,Le.relatedTarget=Ie,Ke=null,Je(We)===_e&&(Yt=new Yt(Se,we+"enter",Tt,y,We),Yt.target=Ie,Yt.relatedTarget=Fn,Ke=Yt),Fn=Ke,Ue&&Tt)t:{for(Yt=Ue,Se=Tt,we=0,Ie=Yt;Ie;Ie=Bh(Ie))we++;for(Ie=0,Ke=Se;Ke;Ke=Bh(Ke))Ie++;for(;0<we-Ie;)Yt=Bh(Yt),we--;for(;0<Ie-we;)Se=Bh(Se),Ie--;for(;we--;){if(Yt===Se||Se!==null&&Yt===Se.alternate)break t;Yt=Bh(Yt),Se=Bh(Se)}Yt=null}else Yt=null;Ue!==null&&n4(Ze,Le,Ue,Yt,!1),Tt!==null&&Fn!==null&&n4(Ze,Fn,Tt,Yt,!0)}}e:{if(Le=_e?ht(_e):window,Ue=Le.nodeName&&Le.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Le.type==="file")var xt=IP;else if(EP(Le))if(RP)xt=nZ;else{xt=tZ;var va=eZ}else Ue=Le.nodeName,!Ue||Ue.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?_e&&P2(_e.elementType)&&(xt=IP):xt=aZ;if(xt&&(xt=xt(f,_e))){CP(Ze,xt,y,We);break e}va&&va(f,Le,_e),f==="focusout"&&_e&&Le.type==="number"&&_e.memoizedProps.value!=null&&D2(Le,"number",Le.value)}switch(va=_e?ht(_e):window,f){case"focusin":(EP(va)||va.contentEditable==="true")&&(yh=va,K2=_e,Hm=null);break;case"focusout":Hm=K2=yh=null;break;case"mousedown":q2=!0;break;case"contextmenu":case"mouseup":case"dragend":q2=!1,BP(Ze,y,We);break;case"selectionchange":if(iZ)break;case"keydown":case"keyup":BP(Ze,y,We)}var Ot;if(W2)e:{switch(f){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else gh?SP(f,y)&&(Bt="onCompositionEnd"):f==="keydown"&&y.keyCode===229&&(Bt="onCompositionStart");Bt&&(_P&&y.locale!=="ko"&&(gh||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&gh&&(Ot=vP()):(Pl=We,M2="value"in Pl?Pl.value:Pl.textContent,gh=!0)),va=px(_e,Bt),0<va.length&&(Bt=new wP(Bt,f,null,y,We),Ze.push({event:Bt,listeners:va}),Ot?Bt.data=Ot:(Ot=TP(y),Ot!==null&&(Bt.data=Ot)))),(Ot=XY?YY(f,y):ZY(f,y))&&(Bt=px(_e,"onBeforeInput"),0<Bt.length&&(va=new wP("onBeforeInput","beforeinput",null,y,We),Ze.push({event:va,listeners:Bt}),va.data=Ot)),UZ(Ze,f,_e,y,We)}t4(Ze,h)})}function k0(f,h,y){return{instance:f,listener:h,currentTarget:y}}function px(f,h){for(var y=h+"Capture",w=[];f!==null;){var N=f,T=N.stateNode;N=N.tag,N!==5&&N!==26&&N!==27||T===null||(N=Mm(f,y),N!=null&&w.unshift(k0(f,N,T)),N=Mm(f,h),N!=null&&w.push(k0(f,N,T))),f=f.return}return w}function Bh(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function n4(f,h,y,w,N){for(var T=h._reactName,z=[];y!==null&&y!==w;){var J=y,de=J.alternate,_e=J.stateNode;if(J=J.tag,de!==null&&de===w)break;J!==5&&J!==26&&J!==27||_e===null||(de=_e,N?(_e=Mm(y,T),_e!=null&&z.unshift(k0(y,_e,de))):N||(_e=Mm(y,T),_e!=null&&z.push(k0(y,_e,de)))),y=y.return}z.length!==0&&f.push({event:h,listeners:z})}var HZ=/\r\n?/g,KZ=/\u0000|\uFFFD/g;function r4(f){return(typeof f=="string"?f:""+f).replace(HZ,`
`).replace(KZ,"")}function s4(f,h){return h=r4(h),r4(f)===h}function mx(){}function Ja(f,h,y,w,N,T){switch(y){case"children":typeof w=="string"?h==="body"||h==="textarea"&&w===""||hh(f,w):(typeof w=="number"||typeof w=="bigint")&&h!=="body"&&hh(f,""+w);break;case"className":_v(f,"class",w);break;case"tabIndex":_v(f,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":_v(f,y,w);break;case"style":mP(f,w,T);break;case"data":if(h!=="object"){_v(f,"data",w);break}case"src":case"href":if(w===""&&(h!=="a"||y!=="href")){f.removeAttribute(y);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){f.removeAttribute(y);break}w=Sv(""+w),f.setAttribute(y,w);break;case"action":case"formAction":if(typeof w=="function"){f.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(y==="formAction"?(h!=="input"&&Ja(f,h,"name",N.name,N,null),Ja(f,h,"formEncType",N.formEncType,N,null),Ja(f,h,"formMethod",N.formMethod,N,null),Ja(f,h,"formTarget",N.formTarget,N,null)):(Ja(f,h,"encType",N.encType,N,null),Ja(f,h,"method",N.method,N,null),Ja(f,h,"target",N.target,N,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){f.removeAttribute(y);break}w=Sv(""+w),f.setAttribute(y,w);break;case"onClick":w!=null&&(f.onclick=mx);break;case"onScroll":w!=null&&Ca("scroll",f);break;case"onScrollEnd":w!=null&&Ca("scrollend",f);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(y=w.__html,y!=null){if(N.children!=null)throw Error(n(60));f.innerHTML=y}}break;case"multiple":f.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":f.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){f.removeAttribute("xlink:href");break}y=Sv(""+w),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?f.setAttribute(y,""+w):f.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?f.setAttribute(y,""):f.removeAttribute(y);break;case"capture":case"download":w===!0?f.setAttribute(y,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?f.setAttribute(y,w):f.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?f.setAttribute(y,w):f.removeAttribute(y);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?f.removeAttribute(y):f.setAttribute(y,w);break;case"popover":Ca("beforetoggle",f),Ca("toggle",f),$s(f,"popover",w);break;case"xlinkActuate":Pc(f,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Pc(f,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Pc(f,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Pc(f,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Pc(f,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Pc(f,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Pc(f,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Pc(f,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Pc(f,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":$s(f,"is",w);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=bY.get(y)||y,$s(f,y,w))}}function yN(f,h,y,w,N,T){switch(y){case"style":mP(f,w,T);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(y=w.__html,y!=null){if(N.children!=null)throw Error(n(60));f.innerHTML=y}}break;case"children":typeof w=="string"?hh(f,w):(typeof w=="number"||typeof w=="bigint")&&hh(f,""+w);break;case"onScroll":w!=null&&Ca("scroll",f);break;case"onScrollEnd":w!=null&&Ca("scrollend",f);break;case"onClick":w!=null&&(f.onclick=mx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tn.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(N=y.endsWith("Capture"),h=y.slice(2,N?y.length-7:void 0),T=f[re]||null,T=T!=null?T[y]:null,typeof T=="function"&&f.removeEventListener(h,T,N),typeof w=="function")){typeof T!="function"&&T!==null&&(y in f?f[y]=null:f.hasAttribute(y)&&f.removeAttribute(y)),f.addEventListener(h,w,N);break e}y in f?f[y]=w:w===!0?f.setAttribute(y,""):$s(f,y,w)}}}function Vr(f,h,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ca("error",f),Ca("load",f);var w=!1,N=!1,T;for(T in y)if(y.hasOwnProperty(T)){var z=y[T];if(z!=null)switch(T){case"src":w=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Ja(f,h,T,z,y,null)}}N&&Ja(f,h,"srcSet",y.srcSet,y,null),w&&Ja(f,h,"src",y.src,y,null);return;case"input":Ca("invalid",f);var J=T=z=N=null,de=null,_e=null;for(w in y)if(y.hasOwnProperty(w)){var We=y[w];if(We!=null)switch(w){case"name":N=We;break;case"type":z=We;break;case"checked":de=We;break;case"defaultChecked":_e=We;break;case"value":T=We;break;case"defaultValue":J=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,h));break;default:Ja(f,h,w,We,y,null)}}fP(f,T,J,de,_e,z,N,!1),Av(f);return;case"select":Ca("invalid",f),w=z=T=null;for(N in y)if(y.hasOwnProperty(N)&&(J=y[N],J!=null))switch(N){case"value":T=J;break;case"defaultValue":z=J;break;case"multiple":w=J;default:Ja(f,h,N,J,y,null)}h=T,y=z,f.multiple=!!w,h!=null?dh(f,!!w,h,!1):y!=null&&dh(f,!!w,y,!0);return;case"textarea":Ca("invalid",f),T=N=w=null;for(z in y)if(y.hasOwnProperty(z)&&(J=y[z],J!=null))switch(z){case"value":w=J;break;case"defaultValue":N=J;break;case"children":T=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:Ja(f,h,z,J,y,null)}hP(f,w,N,T),Av(f);return;case"option":for(de in y)if(y.hasOwnProperty(de)&&(w=y[de],w!=null))switch(de){case"selected":f.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ja(f,h,de,w,y,null)}return;case"dialog":Ca("cancel",f),Ca("close",f);break;case"iframe":case"object":Ca("load",f);break;case"video":case"audio":for(w=0;w<x0.length;w++)Ca(x0[w],f);break;case"image":Ca("error",f),Ca("load",f);break;case"details":Ca("toggle",f);break;case"embed":case"source":case"link":Ca("error",f),Ca("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in y)if(y.hasOwnProperty(_e)&&(w=y[_e],w!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Ja(f,h,_e,w,y,null)}return;default:if(P2(h)){for(We in y)y.hasOwnProperty(We)&&(w=y[We],w!==void 0&&yN(f,h,We,w,y,void 0));return}}for(J in y)y.hasOwnProperty(J)&&(w=y[J],w!=null&&Ja(f,h,J,w,y,null))}function qZ(f,h,y,w){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,T=null,z=null,J=null,de=null,_e=null,We=null;for(Ue in y){var Ze=y[Ue];if(y.hasOwnProperty(Ue)&&Ze!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":de=Ze;default:w.hasOwnProperty(Ue)||Ja(f,h,Ue,null,w,Ze)}}for(var Le in w){var Ue=w[Le];if(Ze=y[Le],w.hasOwnProperty(Le)&&(Ue!=null||Ze!=null))switch(Le){case"type":T=Ue;break;case"name":N=Ue;break;case"checked":_e=Ue;break;case"defaultChecked":We=Ue;break;case"value":z=Ue;break;case"defaultValue":J=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(n(137,h));break;default:Ue!==Ze&&Ja(f,h,Le,Ue,w,Ze)}}R2(f,z,J,de,_e,We,T,N);return;case"select":Ue=z=J=Le=null;for(T in y)if(de=y[T],y.hasOwnProperty(T)&&de!=null)switch(T){case"value":break;case"multiple":Ue=de;default:w.hasOwnProperty(T)||Ja(f,h,T,null,w,de)}for(N in w)if(T=w[N],de=y[N],w.hasOwnProperty(N)&&(T!=null||de!=null))switch(N){case"value":Le=T;break;case"defaultValue":J=T;break;case"multiple":z=T;default:T!==de&&Ja(f,h,N,T,w,de)}h=J,y=z,w=Ue,Le!=null?dh(f,!!y,Le,!1):!!w!=!!y&&(h!=null?dh(f,!!y,h,!0):dh(f,!!y,y?[]:"",!1));return;case"textarea":Ue=Le=null;for(J in y)if(N=y[J],y.hasOwnProperty(J)&&N!=null&&!w.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Ja(f,h,J,null,w,N)}for(z in w)if(N=w[z],T=y[z],w.hasOwnProperty(z)&&(N!=null||T!=null))switch(z){case"value":Le=N;break;case"defaultValue":Ue=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:N!==T&&Ja(f,h,z,N,w,T)}dP(f,Le,Ue);return;case"option":for(var Tt in y)if(Le=y[Tt],y.hasOwnProperty(Tt)&&Le!=null&&!w.hasOwnProperty(Tt))switch(Tt){case"selected":f.selected=!1;break;default:Ja(f,h,Tt,null,w,Le)}for(de in w)if(Le=w[de],Ue=y[de],w.hasOwnProperty(de)&&Le!==Ue&&(Le!=null||Ue!=null))switch(de){case"selected":f.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:Ja(f,h,de,Le,w,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in y)Le=y[Yt],y.hasOwnProperty(Yt)&&Le!=null&&!w.hasOwnProperty(Yt)&&Ja(f,h,Yt,null,w,Le);for(_e in w)if(Le=w[_e],Ue=y[_e],w.hasOwnProperty(_e)&&Le!==Ue&&(Le!=null||Ue!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(n(137,h));break;default:Ja(f,h,_e,Le,w,Ue)}return;default:if(P2(h)){for(var Fn in y)Le=y[Fn],y.hasOwnProperty(Fn)&&Le!==void 0&&!w.hasOwnProperty(Fn)&&yN(f,h,Fn,void 0,w,Le);for(We in w)Le=w[We],Ue=y[We],!w.hasOwnProperty(We)||Le===Ue||Le===void 0&&Ue===void 0||yN(f,h,We,Le,w,Ue);return}}for(var Se in y)Le=y[Se],y.hasOwnProperty(Se)&&Le!=null&&!w.hasOwnProperty(Se)&&Ja(f,h,Se,null,w,Le);for(Ze in w)Le=w[Ze],Ue=y[Ze],!w.hasOwnProperty(Ze)||Le===Ue||Le==null&&Ue==null||Ja(f,h,Ze,Le,w,Ue)}var vN=null,xN=null;function gx(f){return f.nodeType===9?f:f.ownerDocument}function i4(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o4(f,h){if(f===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&h==="foreignObject"?0:f}function kN(f,h){return f==="textarea"||f==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var wN=null;function XZ(){var f=window.event;return f&&f.type==="popstate"?f===wN?!1:(wN=f,!0):(wN=null,!1)}var c4=typeof setTimeout=="function"?setTimeout:void 0,YZ=typeof clearTimeout=="function"?clearTimeout:void 0,l4=typeof Promise=="function"?Promise:void 0,ZZ=typeof queueMicrotask=="function"?queueMicrotask:typeof l4<"u"?function(f){return l4.resolve(null).then(f).catch(JZ)}:c4;function JZ(f){setTimeout(function(){throw f})}function bN(f,h){var y=h,w=0;do{var N=y.nextSibling;if(f.removeChild(y),N&&N.nodeType===8)if(y=N.data,y==="/$"){if(w===0){f.removeChild(N),E0(h);return}w--}else y!=="$"&&y!=="$?"&&y!=="$!"||w++;y=N}while(y);E0(h)}function _N(f){var h=f.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var y=h;switch(h=h.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":_N(y),De(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}f.removeChild(y)}}function QZ(f,h,y,w){for(;f.nodeType===1;){var N=y;if(f.nodeName.toLowerCase()!==h.toLowerCase()){if(!w&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(w){if(!f[Ee])switch(h){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(T=f.getAttribute("rel"),T==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(T!==N.rel||f.getAttribute("href")!==(N.href==null?null:N.href)||f.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||f.getAttribute("title")!==(N.title==null?null:N.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(T=f.getAttribute("src"),(T!==(N.src==null?null:N.src)||f.getAttribute("type")!==(N.type==null?null:N.type)||f.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&T&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(h==="input"&&f.type==="hidden"){var T=N.name==null?null:""+N.name;if(N.type==="hidden"&&f.getAttribute("name")===T)return f}else return f;if(f=po(f.nextSibling),f===null)break}return null}function eJ(f,h,y){if(h==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!y||(f=po(f.nextSibling),f===null))return null;return f}function po(f){for(;f!=null;f=f.nextSibling){var h=f.nodeType;if(h===1||h===3)break;if(h===8){if(h=f.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return f}function u4(f){f=f.previousSibling;for(var h=0;f;){if(f.nodeType===8){var y=f.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return f;h--}else y==="/$"&&h++}f=f.previousSibling}return null}function f4(f,h,y){switch(h=gx(y),f){case"html":if(f=h.documentElement,!f)throw Error(n(452));return f;case"head":if(f=h.head,!f)throw Error(n(453));return f;case"body":if(f=h.body,!f)throw Error(n(454));return f;default:throw Error(n(451))}}var Fi=new Map,d4=new Set;function yx(f){return typeof f.getRootNode=="function"?f.getRootNode():f.ownerDocument}var qc=ie.d;ie.d={f:tJ,r:aJ,D:nJ,C:rJ,L:sJ,m:iJ,X:cJ,S:oJ,M:lJ};function tJ(){var f=qc.f(),h=lx();return f||h}function aJ(f){var h=rt(f);h!==null&&h.tag===5&&h.type==="form"?BF(h):qc.r(f)}var zh=typeof document>"u"?null:document;function h4(f,h,y){var w=zh;if(w&&typeof h=="string"&&h){var N=Ai(h);N='link[rel="'+f+'"][href="'+N+'"]',typeof y=="string"&&(N+='[crossorigin="'+y+'"]'),d4.has(N)||(d4.add(N),f={rel:f,crossOrigin:y,href:h},w.querySelector(N)===null&&(h=w.createElement("link"),Vr(h,"link",f),et(h),w.head.appendChild(h)))}}function nJ(f){qc.D(f),h4("dns-prefetch",f,null)}function rJ(f,h){qc.C(f,h),h4("preconnect",f,h)}function sJ(f,h,y){qc.L(f,h,y);var w=zh;if(w&&f&&h){var N='link[rel="preload"][as="'+Ai(h)+'"]';h==="image"&&y&&y.imageSrcSet?(N+='[imagesrcset="'+Ai(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(N+='[imagesizes="'+Ai(y.imageSizes)+'"]')):N+='[href="'+Ai(f)+'"]';var T=N;switch(h){case"style":T=Gh(f);break;case"script":T=Uh(f)}Fi.has(T)||(f=P({rel:"preload",href:h==="image"&&y&&y.imageSrcSet?void 0:f,as:h},y),Fi.set(T,f),w.querySelector(N)!==null||h==="style"&&w.querySelector(w0(T))||h==="script"&&w.querySelector(b0(T))||(h=w.createElement("link"),Vr(h,"link",f),et(h),w.head.appendChild(h)))}}function iJ(f,h){qc.m(f,h);var y=zh;if(y&&f){var w=h&&typeof h.as=="string"?h.as:"script",N='link[rel="modulepreload"][as="'+Ai(w)+'"][href="'+Ai(f)+'"]',T=N;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Uh(f)}if(!Fi.has(T)&&(f=P({rel:"modulepreload",href:f},h),Fi.set(T,f),y.querySelector(N)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(b0(T)))return}w=y.createElement("link"),Vr(w,"link",f),et(w),y.head.appendChild(w)}}}function oJ(f,h,y){qc.S(f,h,y);var w=zh;if(w&&f){var N=Qe(w).hoistableStyles,T=Gh(f);h=h||"default";var z=N.get(T);if(!z){var J={loading:0,preload:null};if(z=w.querySelector(w0(T)))J.loading=5;else{f=P({rel:"stylesheet",href:f,"data-precedence":h},y),(y=Fi.get(T))&&AN(f,y);var de=z=w.createElement("link");et(de),Vr(de,"link",f),de._p=new Promise(function(_e,We){de.onload=_e,de.onerror=We}),de.addEventListener("load",function(){J.loading|=1}),de.addEventListener("error",function(){J.loading|=2}),J.loading|=4,vx(z,h,w)}z={type:"stylesheet",instance:z,count:1,state:J},N.set(T,z)}}}function cJ(f,h){qc.X(f,h);var y=zh;if(y&&f){var w=Qe(y).hoistableScripts,N=Uh(f),T=w.get(N);T||(T=y.querySelector(b0(N)),T||(f=P({src:f,async:!0},h),(h=Fi.get(N))&&NN(f,h),T=y.createElement("script"),et(T),Vr(T,"link",f),y.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},w.set(N,T))}}function lJ(f,h){qc.M(f,h);var y=zh;if(y&&f){var w=Qe(y).hoistableScripts,N=Uh(f),T=w.get(N);T||(T=y.querySelector(b0(N)),T||(f=P({src:f,async:!0,type:"module"},h),(h=Fi.get(N))&&NN(f,h),T=y.createElement("script"),et(T),Vr(T,"link",f),y.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},w.set(N,T))}}function p4(f,h,y,w){var N=(N=Y.current)?yx(N):null;if(!N)throw Error(n(446));switch(f){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(h=Gh(y.href),y=Qe(N).hoistableStyles,w=y.get(h),w||(w={type:"style",instance:null,count:0,state:null},y.set(h,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){f=Gh(y.href);var T=Qe(N).hoistableStyles,z=T.get(f);if(z||(N=N.ownerDocument||N,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(f,z),(T=N.querySelector(w0(f)))&&!T._p&&(z.instance=T,z.state.loading=5),Fi.has(f)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},Fi.set(f,y),T||uJ(N,f,y,z.state))),h&&w===null)throw Error(n(528,""));return z}if(h&&w!==null)throw Error(n(529,""));return null;case"script":return h=y.async,y=y.src,typeof y=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Uh(y),y=Qe(N).hoistableScripts,w=y.get(h),w||(w={type:"script",instance:null,count:0,state:null},y.set(h,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,f))}}function Gh(f){return'href="'+Ai(f)+'"'}function w0(f){return'link[rel="stylesheet"]['+f+"]"}function m4(f){return P({},f,{"data-precedence":f.precedence,precedence:null})}function uJ(f,h,y,w){f.querySelector('link[rel="preload"][as="style"]['+h+"]")?w.loading=1:(h=f.createElement("link"),w.preload=h,h.addEventListener("load",function(){return w.loading|=1}),h.addEventListener("error",function(){return w.loading|=2}),Vr(h,"link",y),et(h),f.head.appendChild(h))}function Uh(f){return'[src="'+Ai(f)+'"]'}function b0(f){return"script[async]"+f}function g4(f,h,y){if(h.count++,h.instance===null)switch(h.type){case"style":var w=f.querySelector('style[data-href~="'+Ai(y.href)+'"]');if(w)return h.instance=w,et(w),w;var N=P({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return w=(f.ownerDocument||f).createElement("style"),et(w),Vr(w,"style",N),vx(w,y.precedence,f),h.instance=w;case"stylesheet":N=Gh(y.href);var T=f.querySelector(w0(N));if(T)return h.state.loading|=4,h.instance=T,et(T),T;w=m4(y),(N=Fi.get(N))&&AN(w,N),T=(f.ownerDocument||f).createElement("link"),et(T);var z=T;return z._p=new Promise(function(J,de){z.onload=J,z.onerror=de}),Vr(T,"link",w),h.state.loading|=4,vx(T,y.precedence,f),h.instance=T;case"script":return T=Uh(y.src),(N=f.querySelector(b0(T)))?(h.instance=N,et(N),N):(w=y,(N=Fi.get(T))&&(w=P({},y),NN(w,N)),f=f.ownerDocument||f,N=f.createElement("script"),et(N),Vr(N,"link",w),f.head.appendChild(N),h.instance=N);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(w=h.instance,h.state.loading|=4,vx(w,y.precedence,f));return h.instance}function vx(f,h,y){for(var w=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=w.length?w[w.length-1]:null,T=N,z=0;z<w.length;z++){var J=w[z];if(J.dataset.precedence===h)T=J;else if(T!==N)break}T?T.parentNode.insertBefore(f,T.nextSibling):(h=y.nodeType===9?y.head:y,h.insertBefore(f,h.firstChild))}function AN(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.title==null&&(f.title=h.title)}function NN(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.integrity==null&&(f.integrity=h.integrity)}var xx=null;function y4(f,h,y){if(xx===null){var w=new Map,N=xx=new Map;N.set(y,w)}else N=xx,w=N.get(y),w||(w=new Map,N.set(y,w));if(w.has(f))return w;for(w.set(f,null),y=y.getElementsByTagName(f),N=0;N<y.length;N++){var T=y[N];if(!(T[Ee]||T[ae]||f==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var z=T.getAttribute(h)||"";z=f+z;var J=w.get(z);J?J.push(T):w.set(z,[T])}}return w}function v4(f,h,y){f=f.ownerDocument||f,f.head.insertBefore(y,h==="title"?f.querySelector("head > title"):null)}function fJ(f,h,y){if(y===1||h.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return f=h.disabled,typeof h.precedence=="string"&&f==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function x4(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var _0=null;function dJ(){}function hJ(f,h,y){if(_0===null)throw Error(n(475));var w=_0;if(h.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var N=Gh(y.href),T=f.querySelector(w0(N));if(T){f=T._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(w.count++,w=kx.bind(w),f.then(w,w)),h.state.loading|=4,h.instance=T,et(T);return}T=f.ownerDocument||f,y=m4(y),(N=Fi.get(N))&&AN(y,N),T=T.createElement("link"),et(T);var z=T;z._p=new Promise(function(J,de){z.onload=J,z.onerror=de}),Vr(T,"link",y),h.instance=T}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(h,f),(f=h.state.preload)&&(h.state.loading&3)===0&&(w.count++,h=kx.bind(w),f.addEventListener("load",h),f.addEventListener("error",h))}}function pJ(){if(_0===null)throw Error(n(475));var f=_0;return f.stylesheets&&f.count===0&&SN(f,f.stylesheets),0<f.count?function(h){var y=setTimeout(function(){if(f.stylesheets&&SN(f,f.stylesheets),f.unsuspend){var w=f.unsuspend;f.unsuspend=null,w()}},6e4);return f.unsuspend=h,function(){f.unsuspend=null,clearTimeout(y)}}:null}function kx(){if(this.count--,this.count===0){if(this.stylesheets)SN(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var wx=null;function SN(f,h){f.stylesheets=null,f.unsuspend!==null&&(f.count++,wx=new Map,h.forEach(mJ,f),wx=null,kx.call(f))}function mJ(f,h){if(!(h.state.loading&4)){var y=wx.get(f);if(y)var w=y.get(null);else{y=new Map,wx.set(f,y);for(var N=f.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<N.length;T++){var z=N[T];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(y.set(z.dataset.precedence,z),w=z)}w&&y.set(null,w)}N=h.instance,z=N.getAttribute("data-precedence"),T=y.get(z)||w,T===w&&y.set(null,N),y.set(z,N),this.count++,w=kx.bind(this),N.addEventListener("load",w),N.addEventListener("error",w),T?T.parentNode.insertBefore(N,T.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(N,f.firstChild)),h.state.loading|=4}}var A0={$$typeof:m,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function gJ(f,h,y,w,N,T,z,J){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$m(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$m(0),this.hiddenUpdates=$m(null),this.identifierPrefix=w,this.onUncaughtError=N,this.onCaughtError=T,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function k4(f,h,y,w,N,T,z,J,de,_e,We,Ze){return f=new gJ(f,h,y,z,J,de,_e,Ze),h=1,T===!0&&(h|=24),T=Di(3,null,null,h),f.current=T,T.stateNode=f,h=rA(),h.refCount++,f.pooledCache=h,h.refCount++,T.memoizedState={element:w,isDehydrated:y,cache:h},MA(T),f}function w4(f){return f?(f=kh,f):kh}function b4(f,h,y,w,N,T){N=w4(N),w.context===null?w.context=N:w.pendingContext=N,w=Gl(h),w.payload={element:y},T=T===void 0?null:T,T!==null&&(w.callback=T),y=Ul(f,w,h),y!==null&&(_s(y,f,h),o0(y,f,h))}function _4(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<h?y:h}}function TN(f,h){_4(f,h),(f=f.alternate)&&_4(f,h)}function A4(f){if(f.tag===13){var h=Fl(f,67108864);h!==null&&_s(h,f,67108864),TN(f,67108864)}}var bx=!0;function yJ(f,h,y,w){var N=I.T;I.T=null;var T=ie.p;try{ie.p=2,EN(f,h,y,w)}finally{ie.p=T,I.T=N}}function vJ(f,h,y,w){var N=I.T;I.T=null;var T=ie.p;try{ie.p=8,EN(f,h,y,w)}finally{ie.p=T,I.T=N}}function EN(f,h,y,w){if(bx){var N=CN(w);if(N===null)gN(f,h,w,_x,y),S4(f,w);else if(kJ(N,f,h,y,w))w.stopPropagation();else if(S4(f,w),h&4&&-1<xJ.indexOf(f)){for(;N!==null;){var T=rt(N);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var z=bi(T.pendingLanes);if(z!==0){var J=T;for(J.pendingLanes|=2,J.entangledLanes|=2;z;){var de=1<<31-Rn(z);J.entanglements[1]|=de,z&=~de}Yo(T),(_n&6)===0&&(ix=Be()+500,v0(0))}}break;case 13:J=Fl(T,2),J!==null&&_s(J,T,2),lx(),TN(T,2)}if(T=CN(w),T===null&&gN(f,h,w,_x,y),T===N)break;N=T}N!==null&&w.stopPropagation()}else gN(f,h,w,null,y)}}function CN(f){return f=O2(f),IN(f)}var _x=null;function IN(f){if(_x=null,f=Je(f),f!==null){var h=q(f);if(h===null)f=null;else{var y=h.tag;if(y===13){if(f=Z(h),f!==null)return f;f=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;f=null}else h!==f&&(f=null)}}return _x=f,null}function N4(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case It:return 2;case Lt:return 8;case Rt:case $a:return 32;case La:return 268435456;default:return 32}default:return 32}}var RN=!1,Xl=null,Yl=null,Zl=null,N0=new Map,S0=new Map,Jl=[],xJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S4(f,h){switch(f){case"focusin":case"focusout":Xl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":N0.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":S0.delete(h.pointerId)}}function T0(f,h,y,w,N,T){return f===null||f.nativeEvent!==T?(f={blockedOn:h,domEventName:y,eventSystemFlags:w,nativeEvent:T,targetContainers:[N]},h!==null&&(h=rt(h),h!==null&&A4(h)),f):(f.eventSystemFlags|=w,h=f.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),f)}function kJ(f,h,y,w,N){switch(h){case"focusin":return Xl=T0(Xl,f,h,y,w,N),!0;case"dragenter":return Yl=T0(Yl,f,h,y,w,N),!0;case"mouseover":return Zl=T0(Zl,f,h,y,w,N),!0;case"pointerover":var T=N.pointerId;return N0.set(T,T0(N0.get(T)||null,f,h,y,w,N)),!0;case"gotpointercapture":return T=N.pointerId,S0.set(T,T0(S0.get(T)||null,f,h,y,w,N)),!0}return!1}function T4(f){var h=Je(f.target);if(h!==null){var y=q(h);if(y!==null){if(h=y.tag,h===13){if(h=Z(y),h!==null){f.blockedOn=h,H(f.priority,function(){if(y.tag===13){var w=oi(),N=Fl(y,w);N!==null&&_s(N,y,w),TN(y,w)}});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){f.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Ax(f){if(f.blockedOn!==null)return!1;for(var h=f.targetContainers;0<h.length;){var y=CN(f.nativeEvent);if(y===null){y=f.nativeEvent;var w=new y.constructor(y.type,y);F2=w,y.target.dispatchEvent(w),F2=null}else return h=rt(y),h!==null&&A4(h),f.blockedOn=y,!1;h.shift()}return!0}function E4(f,h,y){Ax(f)&&y.delete(h)}function wJ(){RN=!1,Xl!==null&&Ax(Xl)&&(Xl=null),Yl!==null&&Ax(Yl)&&(Yl=null),Zl!==null&&Ax(Zl)&&(Zl=null),N0.forEach(E4),S0.forEach(E4)}function Nx(f,h){f.blockedOn===h&&(f.blockedOn=null,RN||(RN=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wJ)))}var Sx=null;function C4(f){Sx!==f&&(Sx=f,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sx===f&&(Sx=null);for(var h=0;h<f.length;h+=3){var y=f[h],w=f[h+1],N=f[h+2];if(typeof w!="function"){if(IN(w||y)===null)continue;break}var T=rt(y);T!==null&&(f.splice(h,3),h-=3,kA(T,{pending:!0,data:N,method:y.method,action:w},w,N))}}))}function E0(f){function h(de){return Nx(de,f)}Xl!==null&&Nx(Xl,f),Yl!==null&&Nx(Yl,f),Zl!==null&&Nx(Zl,f),N0.forEach(h),S0.forEach(h);for(var y=0;y<Jl.length;y++){var w=Jl[y];w.blockedOn===f&&(w.blockedOn=null)}for(;0<Jl.length&&(y=Jl[0],y.blockedOn===null);)T4(y),y.blockedOn===null&&Jl.shift();if(y=(f.ownerDocument||f).$$reactFormReplay,y!=null)for(w=0;w<y.length;w+=3){var N=y[w],T=y[w+1],z=N[re]||null;if(typeof T=="function")z||C4(y);else if(z){var J=null;if(T&&T.hasAttribute("formAction")){if(N=T,z=T[re]||null)J=z.formAction;else if(IN(N)!==null)continue}else J=z.action;typeof J=="function"?y[w+1]=J:(y.splice(w,3),w-=3),C4(y)}}}function DN(f){this._internalRoot=f}Tx.prototype.render=DN.prototype.render=function(f){var h=this._internalRoot;if(h===null)throw Error(n(409));var y=h.current,w=oi();b4(y,w,f,h,null,null)},Tx.prototype.unmount=DN.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var h=f.containerInfo;f.tag===0&&Lh(),b4(f.current,2,null,f,null,null),lx(),h[ce]=null}};function Tx(f){this._internalRoot=f}Tx.prototype.unstable_scheduleHydration=function(f){if(f){var h=bv();f={blockedOn:null,target:f,priority:h};for(var y=0;y<Jl.length&&h!==0&&h<Jl[y].priority;y++);Jl.splice(y,0,f),y===0&&T4(f)}};var I4=e.version;if(I4!=="19.0.0")throw Error(n(527,I4,"19.0.0"));ie.findDOMNode=function(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=se(h),f=f!==null?ue(f):null,f=f===null?null:f.stateNode,f};var bJ={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Je,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ex=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ex.isDisabled&&Ex.supportsFiber)try{Ht=Ex.inject(bJ),Wt=Ex}catch{}}return I0.createRoot=function(f,h){if(!r(f))throw Error(n(299));var y=!1,w="",N=KF,T=qF,z=XF,J=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(T=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(J=h.unstable_transitionCallbacks)),h=k4(f,1,!1,null,null,y,w,N,T,z,J,null),f[ce]=h.current,mN(f.nodeType===8?f.parentNode:f),new DN(h)},I0.hydrateRoot=function(f,h,y){if(!r(f))throw Error(n(299));var w=!1,N="",T=KF,z=qF,J=XF,de=null,_e=null;return y!=null&&(y.unstable_strictMode===!0&&(w=!0),y.identifierPrefix!==void 0&&(N=y.identifierPrefix),y.onUncaughtError!==void 0&&(T=y.onUncaughtError),y.onCaughtError!==void 0&&(z=y.onCaughtError),y.onRecoverableError!==void 0&&(J=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(de=y.unstable_transitionCallbacks),y.formState!==void 0&&(_e=y.formState)),h=k4(f,1,!0,h,y??null,w,N,T,z,J,de,_e),h.context=w4(null),y=h.current,w=oi(),N=Gl(w),N.callback=null,Ul(y,N,w),h.current.lanes=w,tf(h,w),Yo(h),f[ce]=h.current,mN(f),new Tx(h)},I0.version="19.0.0",I0}var z4;function FJ(){if(z4)return ON.exports;z4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ON.exports=PJ(),ON.exports}var OJ=FJ();const $J=(t,e,a,n)=>{var s,i,o,c;const r=[a,{code:e,...n||{}}];if((i=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&i.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);Kf(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(c=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&c.warn?t.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},G4={},iT=(t,e,a,n)=>{Kf(a)&&G4[a]||(Kf(a)&&(G4[a]=new Date),$J(t,e,a,n))},XB=(t,e)=>()=>{if(t.isInitialized)e();else{const a=()=>{setTimeout(()=>{t.off("initialized",a)},0),e()};t.on("initialized",a)}},oT=(t,e,a)=>{t.loadNamespaces(e,XB(t,a))},U4=(t,e,a,n)=>{if(Kf(a)&&(a=[a]),t.options.preload&&t.options.preload.indexOf(e)>-1)return oT(t,a,n);a.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,XB(t,n))},LJ=(t,e,a={})=>!e.languages||!e.languages.length?(iT(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:a.lng,precheck:(n,r)=>{var s;if(((s=a.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,t))return!1}}),Kf=t=>typeof t=="string",MJ=t=>typeof t=="object"&&t!==null,BJ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,zJ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},GJ=t=>zJ[t],UJ=t=>t.replace(BJ,GJ);let cT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:UJ};const WJ=(t={})=>{cT={...cT,...t}},VJ=()=>cT;let YB;const jJ=t=>{YB=t},HJ=()=>YB,KJ={type:"3rdParty",init(t){WJ(t.options.react),jJ(t)}},ZB=F.createContext();class qJ{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const XJ=(t,e)=>{const a=F.useRef();return F.useEffect(()=>{a.current=t},[t,e]),a.current},JB=(t,e,a,n)=>t.getFixedT(e,a,n),YJ=(t,e,a,n)=>F.useCallback(JB(t,e,a,n),[t,e,a,n]),wy=(t,e={})=>{var A,S,C,E;const{i18n:a}=e,{i18n:n,defaultNS:r}=F.useContext(ZB)||{},s=a||n||HJ();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new qJ),!s){iT(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(P,D)=>Kf(D)?D:MJ(D)&&Kf(D.defaultValue)?D.defaultValue:Array.isArray(P)?P[P.length-1]:P,I=[R,{},!1];return I.t=R,I.i18n={},I.ready=!1,I}(A=s.options.react)!=null&&A.wait&&iT(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...VJ(),...s.options.react,...e},{useSuspense:o,keyPrefix:c}=i;let l=t||r||((S=s.options)==null?void 0:S.defaultNS);l=Kf(l)?[l]:l||["translation"],(E=(C=s.reportNamespaces).addUsedNamespaces)==null||E.call(C,l);const u=(s.isInitialized||s.initializedStoreOnce)&&l.every(R=>LJ(R,s,i)),d=YJ(s,e.lng||null,i.nsMode==="fallback"?l:l[0],c),p=()=>d,m=()=>JB(s,e.lng||null,i.nsMode==="fallback"?l:l[0],c),[g,x]=F.useState(p);let v=l.join();e.lng&&(v=`${e.lng}${v}`);const k=XJ(v),b=F.useRef(!0);F.useEffect(()=>{const{bindI18n:R,bindI18nStore:I}=i;b.current=!0,!u&&!o&&(e.lng?U4(s,e.lng,l,()=>{b.current&&x(m)}):oT(s,l,()=>{b.current&&x(m)})),u&&k&&k!==v&&b.current&&x(m);const P=()=>{b.current&&x(m)};return R&&(s==null||s.on(R,P)),I&&(s==null||s.store.on(I,P)),()=>{b.current=!1,s&&(R==null||R.split(" ").forEach(D=>s.off(D,P))),I&&s&&I.split(" ").forEach(D=>s.store.off(D,P))}},[s,v]),F.useEffect(()=>{b.current&&u&&x(p)},[s,c,u]);const _=[g,s,u];if(_.t=g,_.i18n=s,_.ready=u,u||!u&&!o)return _;throw new Promise(R=>{e.lng?U4(s,e.lng,l,()=>R()):oT(s,l,()=>R())})};function ZJ({i18n:t,defaultNS:e,children:a}){const n=F.useMemo(()=>({i18n:t,defaultNS:e}),[t,e]);return F.createElement(ZB.Provider,{value:n},a)}var R0={},W4;function JJ(){if(W4)return R0;W4=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.parse=i,R0.serialize=l;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function i(p,m){const g=new s,x=p.length;if(x<2)return g;const v=(m==null?void 0:m.decode)||u;let k=0;do{const b=p.indexOf("=",k);if(b===-1)break;const _=p.indexOf(";",k),A=_===-1?x:_;if(b>A){k=p.lastIndexOf(";",b-1)+1;continue}const S=o(p,k,b),C=c(p,b,S),E=p.slice(S,C);if(g[E]===void 0){let R=o(p,b+1,A),I=c(p,A,R);const P=v(p.slice(R,I));g[E]=P}k=A+1}while(k<x);return g}function o(p,m,g){do{const x=p.charCodeAt(m);if(x!==32&&x!==9)return m}while(++m<g);return g}function c(p,m,g){for(;m>g;){const x=p.charCodeAt(--m);if(x!==32&&x!==9)return m+1}return g}function l(p,m,g){const x=(g==null?void 0:g.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const v=x(m);if(!e.test(v))throw new TypeError(`argument val is invalid: ${m}`);let k=p+"="+v;if(!g)return k;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);k+="; Max-Age="+g.maxAge}if(g.domain){if(!a.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);k+="; Domain="+g.domain}if(g.path){if(!n.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);k+="; Path="+g.path}if(g.expires){if(!d(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);k+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(k+="; HttpOnly"),g.secure&&(k+="; Secure"),g.partitioned&&(k+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return k}function u(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function d(p){return r.call(p)==="[object Date]"}return R0}JJ();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V4="popstate";function QJ(t={}){function e(r,s){let{pathname:i="/",search:o="",hash:c=""}=$d(r.location.hash.substring(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),lT("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(r,s){let i=r.document.querySelector("base"),o="";if(i&&i.getAttribute("href")){let c=r.location.href,l=c.indexOf("#");o=l===-1?c:c.slice(0,l)}return o+"#"+(typeof s=="string"?s:_g(s))}function n(r,s){Io(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return tQ(e,a,n,t)}function Tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Io(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eQ(){return Math.random().toString(36).substring(2,10)}function j4(t,e){return{usr:t.state,key:t.key,idx:e}}function lT(t,e,a=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$d(e):e,state:a,key:e&&e.key||n||eQ()}}function _g({pathname:t="/",search:e="",hash:a=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function $d(t){let e={};if(t){let a=t.indexOf("#");a>=0&&(e.hash=t.substring(a),t=t.substring(0,a));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function tQ(t,e,a,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,i=r.history,o="POP",c=null,l=u();l==null&&(l=0,i.replaceState({...i.state,idx:l},""));function u(){return(i.state||{idx:null}).idx}function d(){o="POP";let v=u(),k=v==null?null:v-l;l=v,c&&c({action:o,location:x.location,delta:k})}function p(v,k){o="PUSH";let b=lT(x.location,v,k);a&&a(b,v),l=u()+1;let _=j4(b,l),A=x.createHref(b);try{i.pushState(_,"",A)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(A)}s&&c&&c({action:o,location:x.location,delta:1})}function m(v,k){o="REPLACE";let b=lT(x.location,v,k);a&&a(b,v),l=u();let _=j4(b,l),A=x.createHref(b);i.replaceState(_,"",A),s&&c&&c({action:o,location:x.location,delta:0})}function g(v){let k=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof v=="string"?v:_g(v);return b=b.replace(/ $/,"%20"),Tn(k,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,k)}let x={get action(){return o},get location(){return t(r,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(V4,d),c=v,()=>{r.removeEventListener(V4,d),c=null}},createHref(v){return e(r,v)},createURL:g,encodeLocation(v){let k=g(v);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:p,replace:m,go(v){return i.go(v)}};return x}function QB(t,e,a="/"){return aQ(t,e,a,!1)}function aQ(t,e,a,n){let r=typeof e=="string"?$d(e):e,s=yu(r.pathname||"/",a);if(s==null)return null;let i=e6(t);nQ(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let l=pQ(s);o=dQ(i[c],l,n)}return o}function e6(t,e=[],a=[],n=""){let r=(s,i,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Tn(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let l=ol([n,c.relativePath]),u=a.concat(c);s.children&&s.children.length>0&&(Tn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),e6(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:uQ(l,s.index),routesMeta:u})};return t.forEach((s,i)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,i);else for(let c of t6(s.path))r(s,i,c)}),e}function t6(t){let e=t.split("/");if(e.length===0)return[];let[a,...n]=e,r=a.endsWith("?"),s=a.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let i=t6(n.join("/")),o=[];return o.push(...i.map(c=>c===""?s:[s,c].join("/"))),r&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function nQ(t){t.sort((e,a)=>e.score!==a.score?a.score-e.score:fQ(e.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var rQ=/^:[\w-]+$/,sQ=3,iQ=2,oQ=1,cQ=10,lQ=-2,H4=t=>t==="*";function uQ(t,e){let a=t.split("/"),n=a.length;return a.some(H4)&&(n+=lQ),e&&(n+=iQ),a.filter(r=>!H4(r)).reduce((r,s)=>r+(rQ.test(s)?sQ:s===""?oQ:cQ),n)}function fQ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function dQ(t,e,a=!1){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=zk({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),p=c.route;if(!d&&l&&a&&!n[n.length-1].route.index&&(d=zk({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:ol([s,d.pathname]),pathnameBase:vQ(ol([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=ol([s,d.pathnameBase]))}return i}function zk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,n]=hQ(t.path,t.caseSensitive,t.end),r=e.match(a);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:n.reduce((l,{paramName:u,isOptional:d},p)=>{if(u==="*"){let g=o[p]||"";i=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[p];return d&&!m?l[u]=void 0:l[u]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:i,pattern:t}}function hQ(t,e=!1,a=!0){Io(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function pQ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Io(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,n=t.charAt(a);return n&&n!=="/"?null:t.slice(a)||"/"}function mQ(t,e="/"){let{pathname:a,search:n="",hash:r=""}=typeof t=="string"?$d(t):t;return{pathname:a?a.startsWith("/")?a:gQ(a,e):e,search:xQ(n),hash:kQ(r)}}function gQ(t,e){let a=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function BN(t,e,a,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yQ(t){return t.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function a6(t){let e=yQ(t);return e.map((a,n)=>n===e.length-1?a.pathname:a.pathnameBase)}function n6(t,e,a,n=!1){let r;typeof t=="string"?r=$d(t):(r={...t},Tn(!r.pathname||!r.pathname.includes("?"),BN("?","pathname","search",r)),Tn(!r.pathname||!r.pathname.includes("#"),BN("#","pathname","hash",r)),Tn(!r.search||!r.search.includes("#"),BN("#","search","hash",r)));let s=t===""||r.pathname==="",i=s?"/":r.pathname,o;if(i==null)o=a;else{let d=e.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}o=d>=0?e[d]:"/"}let c=mQ(r,o),l=i&&i!=="/"&&i.endsWith("/"),u=(s||i===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var ol=t=>t.join("/").replace(/\/\/+/g,"/"),vQ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xQ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kQ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wQ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var r6=["POST","PUT","PATCH","DELETE"];new Set(r6);var bQ=["GET",...r6];new Set(bQ);var im=F.createContext(null);im.displayName="DataRouter";var ab=F.createContext(null);ab.displayName="DataRouterState";var s6=F.createContext({isTransitioning:!1});s6.displayName="ViewTransition";var _Q=F.createContext(new Map);_Q.displayName="Fetchers";var AQ=F.createContext(null);AQ.displayName="Await";var Ec=F.createContext(null);Ec.displayName="Navigation";var by=F.createContext(null);by.displayName="Location";var _l=F.createContext({outlet:null,matches:[],isDataRoute:!1});_l.displayName="Route";var pC=F.createContext(null);pC.displayName="RouteError";function NQ(t,{relative:e}={}){Tn(_y(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=F.useContext(Ec),{hash:r,pathname:s,search:i}=Ay(t,{relative:e}),o=s;return a!=="/"&&(o=s==="/"?a:ol([a,s])),n.createHref({pathname:o,search:i,hash:r})}function _y(){return F.useContext(by)!=null}function Ld(){return Tn(_y(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(by).location}var i6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o6(t){F.useContext(Ec).static||F.useLayoutEffect(t)}function SQ(){let{isDataRoute:t}=F.useContext(_l);return t?BQ():TQ()}function TQ(){Tn(_y(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(im),{basename:e,navigator:a}=F.useContext(Ec),{matches:n}=F.useContext(_l),{pathname:r}=Ld(),s=JSON.stringify(a6(n)),i=F.useRef(!1);return o6(()=>{i.current=!0}),F.useCallback((c,l={})=>{if(Io(i.current,i6),!i.current)return;if(typeof c=="number"){a.go(c);return}let u=n6(c,JSON.parse(s),r,l.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:ol([e,u.pathname])),(l.replace?a.replace:a.push)(u,l.state,l)},[e,a,s,r,t])}F.createContext(null);function Ay(t,{relative:e}={}){let{matches:a}=F.useContext(_l),{pathname:n}=Ld(),r=JSON.stringify(a6(a));return F.useMemo(()=>n6(t,JSON.parse(r),n,e==="path"),[t,r,n,e])}function EQ(t,e){return c6(t,e)}function c6(t,e,a,n){var b;Tn(_y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=F.useContext(Ec),{matches:i}=F.useContext(_l),o=i[i.length-1],c=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let _=d&&d.path||"";l6(l,!d||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let p=Ld(),m;if(e){let _=typeof e=="string"?$d(e):e;Tn(u==="/"||((b=_.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=p;let g=m.pathname||"/",x=g;if(u!=="/"){let _=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=!s&&a&&a.matches&&a.matches.length>0?a.matches:QB(t,{pathname:x});Io(d||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Io(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=PQ(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:ol([u,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:ol([u,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,a,n);return e&&k?F.createElement(by.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},k):k}function CQ(){let t=MQ(),e=wQ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),a?F.createElement("pre",{style:r},a):null,i)}var IQ=F.createElement(CQ,null),RQ=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(_l.Provider,{value:this.props.routeContext},F.createElement(pC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DQ({routeContext:t,match:e,children:a}){let n=F.useContext(im);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(_l.Provider,{value:t},a)}function PQ(t,e=[],a=null,n=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let r=t,s=a==null?void 0:a.errors;if(s!=null){let c=r.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id])!==void 0);Tn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let i=!1,o=-1;if(a)for(let c=0;c<r.length;c++){let l=r[c];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(o=c),l.route.id){let{loaderData:u,errors:d}=a,p=l.route.loader&&!u.hasOwnProperty(l.route.id)&&(!d||d[l.route.id]===void 0);if(l.route.lazy||p){i=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((c,l,u)=>{let d,p=!1,m=null,g=null;a&&(d=s&&l.route.id?s[l.route.id]:void 0,m=l.route.errorElement||IQ,i&&(o<0&&u===0?(l6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):o===u&&(p=!0,g=l.route.hydrateFallbackElement||null)));let x=e.concat(r.slice(0,u+1)),v=()=>{let k;return d?k=m:p?k=g:l.route.Component?k=F.createElement(l.route.Component,null):l.route.element?k=l.route.element:k=c,F.createElement(DQ,{match:l,routeContext:{outlet:c,matches:x,isDataRoute:a!=null},children:k})};return a&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?F.createElement(RQ,{location:a.location,revalidation:a.revalidation,component:m,error:d,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}function mC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FQ(t){let e=F.useContext(im);return Tn(e,mC(t)),e}function OQ(t){let e=F.useContext(ab);return Tn(e,mC(t)),e}function $Q(t){let e=F.useContext(_l);return Tn(e,mC(t)),e}function gC(t){let e=$Q(t),a=e.matches[e.matches.length-1];return Tn(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function LQ(){return gC("useRouteId")}function MQ(){var n;let t=F.useContext(pC),e=OQ("useRouteError"),a=gC("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[a]}function BQ(){let{router:t}=FQ("useNavigate"),e=gC("useNavigate"),a=F.useRef(!1);return o6(()=>{a.current=!0}),F.useCallback(async(r,s={})=>{Io(a.current,i6),a.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var K4={};function l6(t,e,a){!e&&!K4[t]&&(K4[t]=!0,Io(!1,a))}F.memo(zQ);function zQ({routes:t,future:e,state:a}){return c6(t,void 0,a,e)}function xk(t){Tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GQ({basename:t="/",children:e=null,location:a,navigationType:n="POP",navigator:r,static:s=!1}){Tn(!_y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),o=F.useMemo(()=>({basename:i,navigator:r,static:s,future:{}}),[i,r,s]);typeof a=="string"&&(a=$d(a));let{pathname:c="/",search:l="",hash:u="",state:d=null,key:p="default"}=a,m=F.useMemo(()=>{let g=yu(c,i);return g==null?null:{location:{pathname:g,search:l,hash:u,state:d,key:p},navigationType:n}},[i,c,l,u,d,p,n]);return Io(m!=null,`<Router basename="${i}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:F.createElement(Ec.Provider,{value:o},F.createElement(by.Provider,{children:e,value:m}))}function UQ({children:t,location:e}){return EQ(uT(t),e)}function uT(t,e=[]){let a=[];return F.Children.forEach(t,(n,r)=>{if(!F.isValidElement(n))return;let s=[...e,r];if(n.type===F.Fragment){a.push.apply(a,uT(n.props.children,s));return}Tn(n.type===xk,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=uT(n.props.children,s)),a.push(i)}),a}var kk="get",wk="application/x-www-form-urlencoded";function nb(t){return t!=null&&typeof t.tagName=="string"}function WQ(t){return nb(t)&&t.tagName.toLowerCase()==="button"}function VQ(t){return nb(t)&&t.tagName.toLowerCase()==="form"}function jQ(t){return nb(t)&&t.tagName.toLowerCase()==="input"}function HQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KQ(t,e){return t.button===0&&(!e||e==="_self")&&!HQ(t)}var Cx=null;function qQ(){if(Cx===null)try{new FormData(document.createElement("form"),0),Cx=!1}catch{Cx=!0}return Cx}var XQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zN(t){return t!=null&&!XQ.has(t)?(Io(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wk}"`),null):t}function YQ(t,e){let a,n,r,s,i;if(VQ(t)){let o=t.getAttribute("action");n=o?yu(o,e):null,a=t.getAttribute("method")||kk,r=zN(t.getAttribute("enctype"))||wk,s=new FormData(t)}else if(WQ(t)||jQ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(n=c?yu(c,e):null,a=t.getAttribute("formmethod")||o.getAttribute("method")||kk,r=zN(t.getAttribute("formenctype"))||zN(o.getAttribute("enctype"))||wk,s=new FormData(o,t),!qQ()){let{name:l,type:u,value:d}=t;if(u==="image"){let p=l?`${l}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else l&&s.append(l,d)}}else{if(nb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=kk,n=null,r=wk,i=t}return s&&r==="text/plain"&&(i=s,s=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:s,body:i}}function yC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function ZQ(t,e){if(t.id in e)return e[t.id];try{let a=await import(t.module);return e[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JQ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QQ(t,e,a){let n=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let i=await ZQ(s,a);return i.links?i.links():[]}return[]}));return nee(n.flat(1).filter(JQ).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function q4(t,e,a,n,r,s){let i=(c,l)=>a[l]?c.route.id!==a[l].route.id:!0,o=(c,l)=>{var u;return a[l].pathname!==c.pathname||((u=a[l].route.path)==null?void 0:u.endsWith("*"))&&a[l].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,l)=>i(c,l)||o(c,l)):s==="data"?e.filter((c,l)=>{var d;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,l)||o(c,l))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=a[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function eee(t,e,{includeHydrateFallback:a}={}){return tee(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function tee(t){return[...new Set(t)]}function aee(t){let e={},a=Object.keys(t).sort();for(let n of a)e[n]=t[n];return e}function nee(t,e){let a=new Set;return new Set(e),t.reduce((n,r)=>{let s=JSON.stringify(aee(r));return a.has(s)||(a.add(s),n.push({key:s,link:r})),n},[])}function ree(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function see(){let t=F.useContext(im);return yC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iee(){let t=F.useContext(ab);return yC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vC=F.createContext(void 0);vC.displayName="FrameworkContext";function u6(){let t=F.useContext(vC);return yC(t,"You must render this element inside a <HydratedRouter> element"),t}function oee(t,e){let a=F.useContext(vC),[n,r]=F.useState(!1),[s,i]=F.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=e,p=F.useRef(null);F.useEffect(()=>{if(t==="render"&&i(!0),t==="viewport"){let x=k=>{k.forEach(b=>{i(b.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[t]),F.useEffect(()=>{if(n){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{r(!0)},g=()=>{r(!1),i(!1)};return a?t!=="intent"?[s,p,{}]:[s,p,{onFocus:D0(o,m),onBlur:D0(c,g),onMouseEnter:D0(l,m),onMouseLeave:D0(u,g),onTouchStart:D0(d,m)}]:[!1,p,{}]}function D0(t,e){return a=>{t&&t(a),a.defaultPrevented||e(a)}}function cee({page:t,...e}){let{router:a}=see(),n=F.useMemo(()=>QB(a.routes,t,a.basename),[a.routes,t,a.basename]);return n?F.createElement(uee,{page:t,matches:n,...e}):null}function lee(t){let{manifest:e,routeModules:a}=u6(),[n,r]=F.useState([]);return F.useEffect(()=>{let s=!1;return QQ(t,e,a).then(i=>{s||r(i)}),()=>{s=!0}},[t,e,a]),n}function uee({page:t,matches:e,...a}){let n=Ld(),{manifest:r,routeModules:s}=u6(),{loaderData:i,matches:o}=iee(),c=F.useMemo(()=>q4(t,e,o,r,n,"data"),[t,e,o,r,n]),l=F.useMemo(()=>q4(t,e,o,r,n,"assets"),[t,e,o,r,n]),u=F.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let m=new Set,g=!1;if(e.forEach(v=>{var b;let k=r.routes[v.route.id];!k||!k.hasLoader||(!c.some(_=>_.route.id===v.route.id)&&v.route.id in i&&((b=s[v.route.id])!=null&&b.shouldRevalidate)||k.hasClientLoader?g=!0:m.add(v.route.id))}),m.size===0)return[];let x=ree(t);return g&&m.size>0&&x.searchParams.set("_routes",e.filter(v=>m.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[i,n,r,c,e,t,s]),d=F.useMemo(()=>eee(l,r),[l,r]),p=lee(l);return F.createElement(F.Fragment,null,u.map(m=>F.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...a})),d.map(m=>F.createElement("link",{key:m,rel:"modulepreload",href:m,...a})),p.map(({key:m,link:g})=>F.createElement("link",{key:m,...g})))}function fee(...t){return e=>{t.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var f6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f6&&(window.__reactRouterVersion="7.2.0")}catch{}function dee({basename:t,children:e,window:a}){let n=F.useRef();n.current==null&&(n.current=QJ({window:a,v5Compat:!0}));let r=n.current,[s,i]=F.useState({action:r.action,location:r.location}),o=F.useCallback(c=>{F.startTransition(()=>i(c))},[i]);return F.useLayoutEffect(()=>r.listen(o),[r,o]),F.createElement(GQ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var d6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vf=F.forwardRef(function({onClick:e,discover:a="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:o,target:c,to:l,preventScrollReset:u,viewTransition:d,...p},m){let{basename:g}=F.useContext(Ec),x=typeof l=="string"&&d6.test(l),v,k=!1;if(typeof l=="string"&&x&&(v=l,f6))try{let I=new URL(window.location.href),P=l.startsWith("//")?new URL(I.protocol+l):new URL(l),D=yu(P.pathname,g);P.origin===I.origin&&D!=null?l=D+P.search+P.hash:k=!0}catch{Io(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=NQ(l,{relative:r}),[_,A,S]=oee(n,p),C=gee(l,{replace:i,state:o,target:c,preventScrollReset:u,relative:r,viewTransition:d});function E(I){e&&e(I),I.defaultPrevented||C(I)}let R=F.createElement("a",{...p,...S,href:v||b,onClick:k||s?e:E,ref:fee(m,A),target:c,"data-discover":!x&&a==="render"?"true":void 0});return _&&!x?F.createElement(F.Fragment,null,R,F.createElement(cee,{page:b})):R});Vf.displayName="Link";var hee=F.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:o,children:c,...l},u){let d=Ay(i,{relative:l.relative}),p=Ld(),m=F.useContext(ab),{navigator:g,basename:x}=F.useContext(Ec),v=m!=null&&wee(d)&&o===!0,k=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,b=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&x&&(_=yu(_,x)||_);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let S=b===k||!r&&b.startsWith(k)&&b.charAt(A)==="/",C=_!=null&&(_===k||!r&&_.startsWith(k)&&_.charAt(k.length)==="/"),E={isActive:S,isPending:C,isTransitioning:v},R=S?e:void 0,I;typeof n=="function"?I=n(E):I=[n,S?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(E):s;return F.createElement(Vf,{...l,"aria-current":R,className:I,ref:u,style:P,to:i,viewTransition:o},typeof c=="function"?c(E):c)});hee.displayName="NavLink";var pee=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:a,reloadDocument:n,replace:r,state:s,method:i=kk,action:o,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,...p},m)=>{let g=xee(),x=kee(o,{relative:l}),v=i.toLowerCase()==="get"?"get":"post",k=typeof o=="string"&&d6.test(o),b=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,S=(A==null?void 0:A.getAttribute("formmethod"))||i;g(A||_.currentTarget,{fetcherKey:e,method:S,navigate:a,replace:r,state:s,relative:l,preventScrollReset:u,viewTransition:d})};return F.createElement("form",{ref:m,method:v,action:x,onSubmit:n?c:b,...p,"data-discover":!k&&t==="render"?"true":void 0})});pee.displayName="Form";function mee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h6(t){let e=F.useContext(im);return Tn(e,mee(t)),e}function gee(t,{target:e,replace:a,state:n,preventScrollReset:r,relative:s,viewTransition:i}={}){let o=SQ(),c=Ld(),l=Ay(t,{relative:s});return F.useCallback(u=>{if(KQ(u,e)){u.preventDefault();let d=a!==void 0?a:_g(c)===_g(l);o(t,{replace:d,state:n,preventScrollReset:r,relative:s,viewTransition:i})}},[c,o,l,a,n,e,t,r,s,i])}var yee=0,vee=()=>`__${String(++yee)}__`;function xee(){let{router:t}=h6("useSubmit"),{basename:e}=F.useContext(Ec),a=LQ();return F.useCallback(async(n,r={})=>{let{action:s,method:i,encType:o,formData:c,body:l}=YQ(n,e);if(r.navigate===!1){let u=r.fetcherKey||vee();await t.fetch(u,a,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:l,formMethod:r.method||i,formEncType:r.encType||o,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:l,formMethod:r.method||i,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:a,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,a])}function kee(t,{relative:e}={}){let{basename:a}=F.useContext(Ec),n=F.useContext(_l);Tn(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...Ay(t||".",{relative:e})},i=Ld();if(t==null){s.search=i.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(s.pathname=s.pathname==="/"?a:ol([a,s.pathname])),_g(s)}function wee(t,e={}){let a=F.useContext(s6);Tn(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=h6("useViewTransitionState"),r=Ay(t,{relative:e.relative});if(!a.isTransitioning)return!1;let s=yu(a.currentLocation.pathname,n)||a.currentLocation.pathname,i=yu(a.nextLocation.pathname,n)||a.nextLocation.pathname;return zk(r.pathname,i)!=null||zk(r.pathname,s)!=null}new TextEncoder;const bee="modulepreload",_ee=function(t){return"/"+t},X4={},Ro=function(e,a,n){let r=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(a.map(c=>{if(c=_ee(c),c in X4)return;X4[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":bee,l||(d.as="script"),d.crossOrigin="",d.href=c,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function p6(t){var e,a,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(a=p6(t[e]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}function m6(){for(var t,e,a=0,n="",r=arguments.length;a<r;a++)(t=arguments[a])&&(e=p6(t))&&(n&&(n+=" "),n+=e);return n}const xC="-",Aee=t=>{const e=See(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{const o=i.split(xC);return o[0]===""&&o.length!==1&&o.shift(),g6(o,e)||Nee(i)},getConflictingClassGroupIds:(i,o)=>{const c=a[i]||[];return o&&n[i]?[...c,...n[i]]:c}}},g6=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const a=t[0],n=e.nextPart.get(a),r=n?g6(t.slice(1),n):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(xC);return(i=e.validators.find(({validator:o})=>o(s)))==null?void 0:i.classGroupId},Y4=/^\[(.+)\]$/,Nee=t=>{if(Y4.test(t)){const e=Y4.exec(t)[1],a=e==null?void 0:e.substring(0,e.indexOf(":"));if(a)return"arbitrary.."+a}},See=t=>{const{theme:e,classGroups:a}=t,n={nextPart:new Map,validators:[]};for(const r in a)fT(a[r],n,r,e);return n},fT=(t,e,a,n)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:Z4(e,r);s.classGroupId=a;return}if(typeof r=="function"){if(Tee(r)){fT(r(n),e,a,n);return}e.validators.push({validator:r,classGroupId:a});return}Object.entries(r).forEach(([s,i])=>{fT(i,Z4(e,s),a,n)})})},Z4=(t,e)=>{let a=t;return e.split(xC).forEach(n=>{a.nextPart.has(n)||a.nextPart.set(n,{nextPart:new Map,validators:[]}),a=a.nextPart.get(n)}),a},Tee=t=>t.isThemeGetter,Eee=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,a=new Map,n=new Map;const r=(s,i)=>{a.set(s,i),e++,e>t&&(e=0,n=a,a=new Map)};return{get(s){let i=a.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return r(s,i),i},set(s,i){a.has(s)?a.set(s,i):r(s,i)}}},dT="!",hT=":",Cee=hT.length,Iee=t=>{const{prefix:e,experimentalParseClassName:a}=t;let n=r=>{const s=[];let i=0,o=0,c=0,l;for(let g=0;g<r.length;g++){let x=r[g];if(i===0&&o===0){if(x===hT){s.push(r.slice(c,g)),c=g+Cee;continue}if(x==="/"){l=g;continue}}x==="["?i++:x==="]"?i--:x==="("?o++:x===")"&&o--}const u=s.length===0?r:r.substring(c),d=Ree(u),p=d!==u,m=l&&l>c?l-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:d,maybePostfixModifierPosition:m}};if(e){const r=e+hT,s=n;n=i=>i.startsWith(r)?s(i.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(a){const r=n;n=s=>a({className:s,parseClassName:r})}return n},Ree=t=>t.endsWith(dT)?t.substring(0,t.length-1):t.startsWith(dT)?t.substring(1):t,Dee=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},Pee=t=>({cache:Eee(t.cacheSize),parseClassName:Iee(t),sortModifiers:Dee(t),...Aee(t)}),Fee=/\s+/,Oee=(t,e)=>{const{parseClassName:a,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:s}=e,i=[],o=t.trim().split(Fee);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{isExternal:d,modifiers:p,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:x}=a(u);if(d){c=u+(c.length>0?" "+c:c);continue}let v=!!x,k=n(v?g.substring(0,x):g);if(!k){if(!v){c=u+(c.length>0?" "+c:c);continue}if(k=n(g),!k){c=u+(c.length>0?" "+c:c);continue}v=!1}const b=s(p).join(":"),_=m?b+dT:b,A=_+k;if(i.includes(A))continue;i.push(A);const S=r(k,v);for(let C=0;C<S.length;++C){const E=S[C];i.push(_+E)}c=u+(c.length>0?" "+c:c)}return c};function $ee(){let t=0,e,a,n="";for(;t<arguments.length;)(e=arguments[t++])&&(a=y6(e))&&(n&&(n+=" "),n+=a);return n}const y6=t=>{if(typeof t=="string")return t;let e,a="";for(let n=0;n<t.length;n++)t[n]&&(e=y6(t[n]))&&(a&&(a+=" "),a+=e);return a};function Lee(t,...e){let a,n,r,s=i;function i(c){const l=e.reduce((u,d)=>d(u),t());return a=Pee(l),n=a.cache.get,r=a.cache.set,s=o,o(c)}function o(c){const l=n(c);if(l)return l;const u=Oee(c,a);return r(c,u),u}return function(){return s($ee.apply(null,arguments))}}const Tr=t=>{const e=a=>a[t]||[];return e.isThemeGetter=!0,e},v6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,x6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mee=/^\d+\/\d+$/,Bee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Uee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wh=t=>Mee.test(t),Aa=t=>!!t&&!Number.isNaN(Number(t)),_f=t=>!!t&&Number.isInteger(Number(t)),J4=t=>t.endsWith("%")&&Aa(t.slice(0,-1)),eu=t=>Bee.test(t),Vee=()=>!0,jee=t=>zee.test(t)&&!Gee.test(t),kC=()=>!1,Hee=t=>Uee.test(t),Kee=t=>Wee.test(t),qee=t=>!_t(t)&&!At(t),Xee=t=>om(t,b6,kC),_t=t=>v6.test(t),Af=t=>om(t,_6,jee),GN=t=>om(t,ite,Aa),Yee=t=>om(t,k6,kC),Zee=t=>om(t,w6,Kee),Jee=t=>om(t,kC,Hee),At=t=>x6.test(t),Ix=t=>cm(t,_6),Qee=t=>cm(t,ote),ete=t=>cm(t,k6),tte=t=>cm(t,b6),ate=t=>cm(t,w6),nte=t=>cm(t,cte,!0),om=(t,e,a)=>{const n=v6.exec(t);return n?n[1]?e(n[1]):a(n[2]):!1},cm=(t,e,a=!1)=>{const n=x6.exec(t);return n?n[1]?e(n[1]):a:!1},k6=t=>t==="position",rte=new Set(["image","url"]),w6=t=>rte.has(t),ste=new Set(["length","size","percentage"]),b6=t=>ste.has(t),_6=t=>t==="length",ite=t=>t==="number",ote=t=>t==="family-name",cte=t=>t==="shadow",lte=()=>{const t=Tr("color"),e=Tr("font"),a=Tr("text"),n=Tr("font-weight"),r=Tr("tracking"),s=Tr("leading"),i=Tr("breakpoint"),o=Tr("container"),c=Tr("spacing"),l=Tr("radius"),u=Tr("shadow"),d=Tr("inset-shadow"),p=Tr("drop-shadow"),m=Tr("blur"),g=Tr("perspective"),x=Tr("aspect"),v=Tr("ease"),k=Tr("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],C=()=>[At,_t,c],E=()=>[Wh,"full","auto",...C()],R=()=>[_f,"none","subgrid",At,_t],I=()=>["auto",{span:["full",_f,At,_t]},At,_t],P=()=>[_f,"auto",At,_t],D=()=>["auto","min","max","fr",At,_t],B=()=>["start","end","center","between","around","evenly","stretch","baseline"],U=()=>["start","end","center","stretch"],V=()=>["auto",...C()],j=()=>[Wh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[t,At,_t],Q=()=>[J4,Af],q=()=>["","none","full",l,At,_t],Z=()=>["",Aa,Ix,Af],M=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>["","none",m,At,_t],le=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",At,_t],ie=()=>["none",Aa,At,_t],ye=()=>["none",Aa,At,_t],ke=()=>[Aa,At,_t],ge=()=>[Wh,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[eu],breakpoint:[eu],color:[Vee],container:[eu],"drop-shadow":[eu],ease:["in","out","in-out"],font:[qee],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[eu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[eu],shadow:[eu],spacing:["px",Aa],text:[eu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wh,_t,At,x]}],container:["container"],columns:[{columns:[Aa,_t,At,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),_t,At]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[_f,"auto",At,_t]}],basis:[{basis:[Wh,"full","auto",o,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Aa,Wh,"auto","initial","none",_t]}],grow:[{grow:["",Aa,At,_t]}],shrink:[{shrink:["",Aa,At,_t]}],order:[{order:[_f,"first","last","none",At,_t]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...U(),"baseline"]}],"align-self":[{self:["auto",...U(),"baseline"]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[o,"screen",...j()]}],"min-w":[{"min-w":[o,"screen","none",...j()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...j()]}],h:[{h:["screen",...j()]}],"min-h":[{"min-h":["screen","none",...j()]}],"max-h":[{"max-h":["screen",...j()]}],"font-size":[{text:["base",a,Ix,Af]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,At,GN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",J4,_t]}],"font-family":[{font:[Qee,_t,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,At,_t]}],"line-clamp":[{"line-clamp":[Aa,"none",At,GN]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",At,_t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",At,_t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:[Aa,"from-font","auto",At,Af]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Aa,"auto",At,_t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",At,_t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",At,_t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),ete,Yee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",tte,Xee]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_f,At,_t],radial:["",At,_t],conic:[_f,At,_t]},ate,Zee]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...M(),"hidden","none"]}],"divide-style":[{divide:[...M(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...M(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Aa,At,_t]}],"outline-w":[{outline:["",Aa,Ix,Af]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",u,nte,Jee]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",At,_t,d]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Aa,Af]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":W()}],opacity:[{opacity:[Aa,At,_t]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none",At,_t]}],blur:[{blur:ue()}],brightness:[{brightness:[Aa,At,_t]}],contrast:[{contrast:[Aa,At,_t]}],"drop-shadow":[{"drop-shadow":["","none",p,At,_t]}],grayscale:[{grayscale:["",Aa,At,_t]}],"hue-rotate":[{"hue-rotate":[Aa,At,_t]}],invert:[{invert:["",Aa,At,_t]}],saturate:[{saturate:[Aa,At,_t]}],sepia:[{sepia:["",Aa,At,_t]}],"backdrop-filter":[{"backdrop-filter":["","none",At,_t]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Aa,At,_t]}],"backdrop-contrast":[{"backdrop-contrast":[Aa,At,_t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Aa,At,_t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Aa,At,_t]}],"backdrop-invert":[{"backdrop-invert":["",Aa,At,_t]}],"backdrop-opacity":[{"backdrop-opacity":[Aa,At,_t]}],"backdrop-saturate":[{"backdrop-saturate":[Aa,At,_t]}],"backdrop-sepia":[{"backdrop-sepia":["",Aa,At,_t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",At,_t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Aa,"initial",At,_t]}],ease:[{ease:["linear","initial",v,At,_t]}],delay:[{delay:[Aa,At,_t]}],animate:[{animate:["none",k,At,_t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,At,_t]}],"perspective-origin":[{"perspective-origin":le()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[At,_t,"","none","gpu","cpu"]}],"transform-origin":[{origin:le()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ge()}],"translate-x":[{"translate-x":ge()}],"translate-y":[{"translate-y":ge()}],"translate-z":[{"translate-z":ge()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",At,_t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",At,_t]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Aa,Ix,Af,GN]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},ute=Lee(lte);function sa(...t){return ute(m6(t))}function Q4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ny(...t){return e=>{let a=!1;const n=t.map(r=>{const s=Q4(r,e);return!a&&typeof s=="function"&&(a=!0),s});if(a)return()=>{for(let r=0;r<n.length;r++){const s=n[r];typeof s=="function"?s():Q4(t[r],null)}}}}function vn(...t){return F.useCallback(Ny(...t),t)}var rd=F.forwardRef((t,e)=>{const{children:a,...n}=t,r=F.Children.toArray(a),s=r.find(dte);if(s){const i=s.props.children,o=r.map(c=>c===s?F.Children.count(i)>1?F.Children.only(null):F.isValidElement(i)?i.props.children:null:c);return L.jsx(pT,{...n,ref:e,children:F.isValidElement(i)?F.cloneElement(i,void 0,o):null})}return L.jsx(pT,{...n,ref:e,children:a})});rd.displayName="Slot";var pT=F.forwardRef((t,e)=>{const{children:a,...n}=t;if(F.isValidElement(a)){const r=pte(a),s=hte(n,a.props);return a.type!==F.Fragment&&(s.ref=e?Ny(e,r):r),F.cloneElement(a,s)}return F.Children.count(a)>1?F.Children.only(null):null});pT.displayName="SlotClone";var fte=({children:t})=>L.jsx(L.Fragment,{children:t});function dte(t){return F.isValidElement(t)&&t.type===fte}function hte(t,e){const a={...e};for(const n in e){const r=t[n],s=e[n];/^on[A-Z]/.test(n)?r&&s?a[n]=(...o)=>{s(...o),r(...o)}:r&&(a[n]=r):n==="style"?a[n]={...r,...s}:n==="className"&&(a[n]=[r,s].filter(Boolean).join(" "))}return{...t,...a}}function pte(t){var n,r;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}const e$=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,t$=m6,Sy=(t,e)=>a=>{var n;if((e==null?void 0:e.variants)==null)return t$(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:r,defaultVariants:s}=e,i=Object.keys(r).map(l=>{const u=a==null?void 0:a[l],d=s==null?void 0:s[l];if(u===null)return null;const p=e$(u)||e$(d);return r[l][p]}),o=a&&Object.entries(a).reduce((l,u)=>{let[d,p]=u;return p===void 0||(l[d]=p),l},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((l,u)=>{let{class:d,className:p,...m}=u;return Object.entries(m).every(g=>{let[x,v]=g;return Array.isArray(v)?v.includes({...s,...o}[x]):{...s,...o}[x]===v})?[...l,d,p]:l},[]);return t$(t,i,c,a==null?void 0:a.class,a==null?void 0:a.className)},mte=Sy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 shadow hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white shadow-sm hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 shadow-sm hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),rn=F.forwardRef(({className:t,variant:e,size:a,asChild:n=!1,...r},s)=>{const i=n?rd:"button";return L.jsx(i,{className:sa(mte({variant:e,size:a,className:t})),ref:s,...r})});rn.displayName="Button";const gte=()=>{const[t,e]=F.useState(null),[a,n]=F.useState(()=>{const i=localStorage.getItem("showInstall");return JSON.parse(i||"true")}),{t:r}=wy("header");F.useEffect(()=>{const i=()=>{const o=localStorage.getItem("showInstall");n(JSON.parse(o||"true"))};return window.addEventListener("storage",i),()=>{window.removeEventListener("storage",i)}},[]),F.useEffect(()=>{const i=o=>{o.preventDefault(),e(o)};return window.addEventListener("beforeinstallprompt",i),()=>{window.removeEventListener("beforeinstallprompt",i)}},[]);const s=async()=>{console.log("install clicked",t),t&&(console.log("prompting"),await t.prompt(),console.log("awaiting user choice"),(await t.userChoice).outcome==="accepted"?(console.log("User accepted the install prompt"),n(!1),localStorage.setItem("showInstall","false")):console.log("User dismissed the install prompt"),e(null))};return!a||!t?null:L.jsxs("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)"},className:"block sm:hidden border-2 border-slate-600 p-2 shadow-sm bg-gray-900 rounded-md",children:[L.jsx("p",{className:"pb-2",children:r("install")}),L.jsxs("div",{className:"justify-between flex",children:[L.jsx(rn,{onClick:s,type:"button",variant:"default",children:r("accept")}),L.jsx(rn,{onClick:()=>{n(!1),localStorage.setItem("showInstall","false")},type:"button",variant:"outline",children:r("cancel")})]})]})},yte=1,vte=1e6;let UN=0;function xte(){return UN=(UN+1)%Number.MAX_SAFE_INTEGER,UN.toString()}const WN=new Map,a$=t=>{if(WN.has(t))return;const e=setTimeout(()=>{WN.delete(t),tg({type:"REMOVE_TOAST",toastId:t})},vte);WN.set(t,e)},kte=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,yte)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=e;if(a)a$(a);else for(const n of t.toasts)a$(n.id);return{...t,toasts:t.toasts.map(n=>n.id===a||a===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)}}},bk=[];let _k={toasts:[]};function tg(t){_k=kte(_k,t);for(const e of bk)e(_k)}function wte({...t}){const e=xte(),a=r=>tg({type:"UPDATE_TOAST",toast:{...r,id:e}}),n=()=>tg({type:"DISMISS_TOAST",toastId:e});return tg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||n()}}}),{id:e,dismiss:n,update:a}}function wC(){const[t,e]=F.useState(_k);return F.useEffect(()=>(bk.push(e),()=>{const a=bk.indexOf(e);a>-1&&bk.splice(a,1)}),[t]),{...t,toast:wte,dismiss:a=>tg({type:"DISMISS_TOAST",toastId:a})}}const bte=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...a)=>Ro(async()=>{const{default:n}=await Promise.resolve().then(()=>lm);return{default:n}},[]).then(({default:n})=>n(...a)):e=fetch,(...a)=>e(...a)};class bC extends Error{constructor(e,a="FunctionsError",n){super(e),this.name=a,this.context=n}}class _te extends bC{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ate extends bC{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nte extends bC{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mT;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mT||(mT={}));var Ste=function(t,e,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function o(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})};class Tte{constructor(e,{headers:a={},customFetch:n,region:r=mT.Any}={}){this.url=e,this.headers=a,this.region=r,this.fetch=bte(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,a={}){var n;return Ste(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:i}=a;let o={},{region:c}=a;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let l;i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",l=i):typeof i=="string"?(o["Content-Type"]="text/plain",l=i):typeof FormData<"u"&&i instanceof FormData?l=i:(o["Content-Type"]="application/json",l=JSON.stringify(i)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:l}).catch(g=>{throw new _te(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Ate(u);if(!u.ok)throw new Nte(u);let p=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield u.json():p==="application/octet-stream"?m=yield u.blob():p==="text/event-stream"?m=u:p==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(r){return{data:null,error:r}}})}}var Er={},Vh={},jh={},Hh={},Kh={},qh={},Ete=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Op=Ete();const Cte=Op.fetch,A6=Op.fetch.bind(Op),N6=Op.Headers,Ite=Op.Request,Rte=Op.Response,lm=Object.freeze(Object.defineProperty({__proto__:null,Headers:N6,Request:Ite,Response:Rte,default:A6,fetch:Cte},Symbol.toStringTag,{value:"Module"})),Dte=KB(lm);var Rx={},n$;function S6(){if(n$)return Rx;n$=1,Object.defineProperty(Rx,"__esModule",{value:!0});class t extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Rx.default=t,Rx}var r$;function T6(){if(r$)return qh;r$=1;var t=qh&&qh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qh,"__esModule",{value:!0});const e=t(Dte),a=t(S6());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=Object.assign({},this.headers),this.headers[s]=i,this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,p;let m=null,g=null,x=null,v=l.status,k=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=S:g=JSON.parse(S))}const _=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),A=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&A&&A.length>1&&(x=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,x=null,v=406,k="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await l.text();try{m=JSON.parse(_),Array.isArray(m)&&l.status===404&&(g=[],m=null,v=200,k="OK")}catch{l.status===404&&_===""?(v=204,k="No Content"):m={message:_}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,v=200,k="OK"),m&&this.shouldThrowOnError)throw new a.default(m)}return{error:m,data:g,count:x,status:v,statusText:k}});return this.shouldThrowOnError||(c=c.catch(l=>{var u,d,p;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(p=l==null?void 0:l.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,i)}returns(){return this}overrideTypes(){return this}}return qh.default=n,qh}var s$;function E6(){if(s$)return Kh;s$=1;var t=Kh&&Kh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kh,"__esModule",{value:!0});const e=t(T6());class a extends e.default{select(r){let s=!1;const i=(r??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:s=!0,nullsFirst:i,foreignTable:o,referencedTable:c=o}={}){const l=c?`${c}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${r}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:s,referencedTable:i=s}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${r}`),this}range(r,s,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(l,`${s-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:s=!1,settings:i=!1,buffers:o=!1,wal:c=!1,format:l="text"}={}){var u;const d=[r?"analyze":null,s?"verbose":null,i?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${p}"; options=${d};`,l==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Kh.default=a,Kh}var i$;function _C(){if(i$)return Hh;i$=1;var t=Hh&&Hh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hh,"__esModule",{value:!0});const e=t(E6());class a extends e.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const i=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:i,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const l=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${c}fts${l}.${s}`),this}match(r){return Object.entries(r).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(r,s,i){return this.url.searchParams.append(r,`not.${s}.${i}`),this}or(r,{foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${r})`),this}filter(r,s,i){return this.url.searchParams.append(r,`${s}.${i}`),this}}return Hh.default=a,Hh}var o$;function C6(){if(o$)return jh;o$=1;var t=jh&&jh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jh,"__esModule",{value:!0});const e=t(_C());class a{constructor(r,{headers:s={},schema:i,fetch:o}){this.url=r,this.headers=s,this.schema=i,this.fetch=o}select(r,{head:s=!1,count:i}={}){const o=s?"HEAD":"GET";let c=!1;const l=(r??"*").split("").map(u=>/\s/.test(u)&&!c?"":(u==='"'&&(c=!c),u)).join("");return this.url.searchParams.set("select",l),i&&(this.headers.Prefer=`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:s,defaultToNull:i=!0}={}){const o="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const l=r.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:s,ignoreDuplicates:i=!1,count:o,defaultToNull:c=!0}={}){const l="POST",u=[`resolution=${i?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),c||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(r)){const d=r.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:s}={}){const i="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const s="DELETE",i=[];return r&&i.push(`count=${r}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return jh.default=a,jh}var P0={},F0={},c$;function Pte(){return c$||(c$=1,Object.defineProperty(F0,"__esModule",{value:!0}),F0.version=void 0,F0.version="0.0.0-automated"),F0}var l$;function Fte(){if(l$)return P0;l$=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.DEFAULT_HEADERS=void 0;const t=Pte();return P0.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},P0}var u$;function Ote(){if(u$)return Vh;u$=1;var t=Vh&&Vh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vh,"__esModule",{value:!0});const e=t(C6()),a=t(_C()),n=Fte();class r{constructor(i,{headers:o={},schema:c,fetch:l}={}){this.url=i,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),o),this.schemaName=c,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:l=!1,count:u}={}){let d;const p=new URL(`${this.url}/rpc/${i}`);let m;c||l?(d=c?"HEAD":"GET",Object.entries(o).filter(([x,v])=>v!==void 0).map(([x,v])=>[x,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([x,v])=>{p.searchParams.append(x,v)})):(d="POST",m=o);const g=Object.assign({},this.headers);return u&&(g.Prefer=`count=${u}`),new a.default({method:d,url:p,headers:g,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return Vh.default=r,Vh}var f$;function $te(){if(f$)return Er;f$=1;var t=Er&&Er.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Er,"__esModule",{value:!0}),Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const e=t(Ote());Er.PostgrestClient=e.default;const a=t(C6());Er.PostgrestQueryBuilder=a.default;const n=t(_C());Er.PostgrestFilterBuilder=n.default;const r=t(E6());Er.PostgrestTransformBuilder=r.default;const s=t(T6());Er.PostgrestBuilder=s.default;const i=t(S6());return Er.PostgrestError=i.default,Er.default={PostgrestClient:e.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:s.default,PostgrestError:i.default},Er}var Lte=$te();const Mte=Od(Lte),{PostgrestClient:Bte,PostgrestQueryBuilder:KKe,PostgrestFilterBuilder:qKe,PostgrestTransformBuilder:XKe,PostgrestBuilder:YKe,PostgrestError:ZKe}=Mte,zte="2.11.2",Gte={"X-Client-Info":`realtime-js/${zte}`},Ute="1.0.0",I6=1e4,Wte=1e3;var xp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xp||(xp={}));var ci;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ci||(ci={}));var ko;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ko||(ko={}));var gT;(function(t){t.websocket="websocket"})(gT||(gT={}));var Ff;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ff||(Ff={}));class Vte{constructor(){this.HEADER_LENGTH=1}decode(e,a){return e.constructor===ArrayBuffer?a(this._binaryDecode(e)):a(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const a=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,a,n)}_decodeBroadcast(e,a,n){const r=a.getUint8(1),s=a.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+r));i=i+r;const c=n.decode(e.slice(i,i+s));i=i+s;const l=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:c,payload:l}}}class R6{constructor(e,a){this.callback=e,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var un;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(un||(un={}));const d$=(t,e,a={})=>{var n;const r=(n=a.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,i)=>(s[i]=jte(i,t,e,r),s),{})},jte=(t,e,a,n)=>{const r=e.find(o=>o.name===t),s=r==null?void 0:r.type,i=a[t];return s&&!n.includes(s)?D6(s,i):yT(i)},D6=(t,e)=>{if(t.charAt(0)==="_"){const a=t.slice(1,t.length);return Xte(e,a)}switch(t){case un.bool:return Hte(e);case un.float4:case un.float8:case un.int2:case un.int4:case un.int8:case un.numeric:case un.oid:return Kte(e);case un.json:case un.jsonb:return qte(e);case un.timestamp:return Yte(e);case un.abstime:case un.date:case un.daterange:case un.int4range:case un.int8range:case un.money:case un.reltime:case un.text:case un.time:case un.timestamptz:case un.timetz:case un.tsrange:case un.tstzrange:return yT(e);default:return yT(e)}},yT=t=>t,Hte=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Kte=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qte=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Xte=(t,e)=>{if(typeof t!="string")return t;const a=t.length-1,n=t[a];if(t[0]==="{"&&n==="}"){let s;const i=t.slice(1,a);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>D6(e,o))}return t},Yte=t=>typeof t=="string"?t.replace(" ","T"):t,P6=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class VN{constructor(e,a,n={},r=I6){this.channel=e,this.event=a,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,a){var n;return this._hasReceived(e)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:a}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(a))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var h$;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(h$||(h$={}));class ag{constructor(e,a){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ag.syncState(this.state,r,s,i),this.pendingDiffs.forEach(c=>{this.state=ag.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},r=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ag.syncDiff(this.state,r,s,i),o())}),this.onJoin((r,s,i)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:i})}),this.onLeave((r,s,i)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,a,n,r){const s=this.cloneDeep(e),i=this.transformState(a),o={},c={};return this.map(s,(l,u)=>{i[l]||(c[l]=u)}),this.map(i,(l,u)=>{const d=s[l];if(d){const p=u.map(v=>v.presence_ref),m=d.map(v=>v.presence_ref),g=u.filter(v=>m.indexOf(v.presence_ref)<0),x=d.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(o[l]=g),x.length>0&&(c[l]=x)}else o[l]=u}),this.syncDiff(s,{joins:o,leaves:c},n,r)}static syncDiff(e,a,n,r){const{joins:s,leaves:i}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(o,c)=>{var l;const u=(l=e[o])!==null&&l!==void 0?l:[];if(e[o]=this.cloneDeep(c),u.length>0){const d=e[o].map(m=>m.presence_ref),p=u.filter(m=>d.indexOf(m.presence_ref)<0);e[o].unshift(...p)}n(o,u,c)}),this.map(i,(o,c)=>{let l=e[o];if(!l)return;const u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=l,r(o,l,c),l.length===0&&delete e[o]}),e}static map(e,a){return Object.getOwnPropertyNames(e).map(n=>a(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((a,n)=>{const r=e[n];return"metas"in r?a[n]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):a[n]=r,a},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var p$;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(p$||(p$={}));var m$;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(m$||(m$={}));var Jc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Jc||(Jc={}));class AC{constructor(e,a={config:{}},n){this.topic=e,this.params=a,this.socket=n,this.bindings={},this.state=ci.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new VN(this,ko.join,this.params,this.timeout),this.rejoinTimer=new R6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ci.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ci.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=ci.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ci.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ko.reply,{},(r,s)=>{this._trigger(this._replyEventName(s),r)}),this.presence=new ag(this),this.broadcastEndpointURL=P6(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,a=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Jc.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Jc.CLOSED));const c={},l={broadcast:s,presence:i,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&r!==void 0?r:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Jc.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,g=[];for(let x=0;x<m;x++){const v=p[x],{filter:{event:k,schema:b,table:_,filter:A}}=v,S=u&&u[x];if(S&&S.event===k&&S.schema===b&&S.table===_&&S.filter===A)g.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),e==null||e(Jc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Jc.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Jc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Jc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,a={}){return await this.send({type:"presence",event:"track",payload:e},a.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,a,n){return this._on(e,a,n)}async send(e,a={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=l.body)===null||r===void 0?void 0:r.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,c;const l=this._push(e.type,e,a.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ci.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ko.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new VN(this,ko.leave,{},e);r.receive("ok",()=>{a(),n("ok")}).receive("timeout",()=>{a(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,a,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},a),{signal:r.signal}));return clearTimeout(s),i}_push(e,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new VN(this,e,a,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,a,n){return a}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,a,n){var r,s;const i=e.toLocaleLowerCase(),{close:o,error:c,leave:l,join:u}=ko;if(n&&[o,c,l,u].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,a,n);if(a&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var g,x,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(x=m.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(m=>m.callback(p,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var g,x,v,k,b,_;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const A=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return A&&((x=a.ids)===null||x===void 0?void 0:x.includes(A))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=a.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const A=(b=(k=m==null?void 0:m.filter)===null||k===void 0?void 0:k.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return A==="*"||A===((_=a==null?void 0:a.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:x,table:v,commit_timestamp:k,type:b,errors:_}=g;p=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:k,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(g))}m.callback(p,n)})}_isClosed(){return this.state===ci.closed}_isJoined(){return this.state===ci.joined}_isJoining(){return this.state===ci.joining}_isLeaving(){return this.state===ci.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,a,n){const r=e.toLocaleLowerCase(),s={type:r,filter:a,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,a){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&AC.isEqual(r.filter,a))}),this}static isEqual(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const n in e)if(e[n]!==a[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ko.close,{},e)}_onError(e){this._on(ko.error,{},a=>e(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ci.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const a={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(a.new=d$(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(a.old=d$(e.columns,e.old_record)),a}}const Zte=()=>{},Jte=typeof WebSocket<"u",Qte=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eae{constructor(e,a){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Gte,this.params={},this.timeout=I6,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zte,this.conn=null,this.sendBuffer=[],this.serializer=new Vte,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Ro(async()=>{const{default:c}=await Promise.resolve().then(()=>lm);return{default:c}},void 0).then(({default:c})=>c(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${e}/${gT.websocket}`,this.httpEndpoint=P6(e),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const r=(n=a==null?void 0:a.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(s,i)=>i(JSON.stringify(s)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new R6(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Jte){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new tae(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ro(async()=>{const{default:e}=await import("./browser-CjSkSgkw.js").then(a=>a.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ute}))}disconnect(e,a){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const a=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const e=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.disconnect(),e}log(e,a,n){this.logger(e,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xp.connecting:return Ff.Connecting;case xp.open:return Ff.Open;case xp.closing:return Ff.Closing;default:return Ff.Closed}}isConnected(){return this.connectionState()===Ff.Open}channel(e,a={config:{}}){const n=new AC(`realtime:${e}`,a,this);return this.channels.push(n),n}push(e){const{topic:a,event:n,payload:r,ref:s}=e,i=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${a} ${n} (${s})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let a=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(a){let n=null;try{n=JSON.parse(atob(a.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=a,this.channels.forEach(r=>{a&&r.updateJoinPayload({access_token:a}),r.joinedOnce&&r._isJoined()&&r._push(ko.access_token,{access_token:a})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Wte,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let a=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${e}"`),a.unsubscribe())}_remove(e){this.channels=this.channels.filter(a=>a._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,a=>{let{topic:n,event:r,payload:s,ref:i}=a;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${r} ${i&&"("+i+")"||""}`,s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(r,s,i)),this.stateChangeCallbacks.message.forEach(o=>o(a))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ko.error))}_appendParams(e,a){if(Object.keys(a).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(a);return`${e}${n}${r}`}_workerObjectUrl(e){let a;if(e)a=e;else{const n=new Blob([Qte],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}}class tae{constructor(e,a,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xp.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class NC extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Cr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class aae extends NC{constructor(e,a){super(e),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vT extends NC{constructor(e,a){super(e),this.name="StorageUnknownError",this.originalError=a}}var nae=function(t,e,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function o(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})};const F6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...a)=>Ro(async()=>{const{default:n}=await Promise.resolve().then(()=>lm);return{default:n}},void 0).then(({default:n})=>n(...a)):e=fetch,(...a)=>e(...a)},rae=()=>nae(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ro(()=>Promise.resolve().then(()=>lm),void 0)).Response:Response}),xT=t=>{if(Array.isArray(t))return t.map(a=>xT(a));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([a,n])=>{const r=a.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[r]=xT(n)}),e};var Md=function(t,e,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function o(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})};const jN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sae=(t,e,a)=>Md(void 0,void 0,void 0,function*(){const n=yield rae();t instanceof n&&!(a!=null&&a.noResolveJson)?t.json().then(r=>{e(new aae(jN(r),t.status||500))}).catch(r=>{e(new vT(jN(r),r))}):e(new vT(jN(t),t))}),iae=(t,e,a,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),a))};function Ty(t,e,a,n,r,s){return Md(this,void 0,void 0,function*(){return new Promise((i,o)=>{t(a,iae(e,n,r,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>sae(c,o,n))})})}function Gk(t,e,a,n){return Md(this,void 0,void 0,function*(){return Ty(t,"GET",e,a,n)})}function su(t,e,a,n,r){return Md(this,void 0,void 0,function*(){return Ty(t,"POST",e,n,r,a)})}function oae(t,e,a,n,r){return Md(this,void 0,void 0,function*(){return Ty(t,"PUT",e,n,r,a)})}function cae(t,e,a,n){return Md(this,void 0,void 0,function*(){return Ty(t,"HEAD",e,Object.assign(Object.assign({},a),{noResolveJson:!0}),n)})}function O6(t,e,a,n,r){return Md(this,void 0,void 0,function*(){return Ty(t,"DELETE",e,n,r,a)})}var Bs=function(t,e,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function o(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})};const lae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},g$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uae{constructor(e,a={},n,r){this.url=e,this.headers=a,this.bucketId=n,this.fetch=F6(r)}uploadOrUpdate(e,a,n,r){return Bs(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},g$),r);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(o=Object.assign(Object.assign({},o),r.headers));const l=this._removeEmptyFolders(a),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),p=yield d.json();return d.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(Cr(s))return{data:null,error:s};throw s}})}upload(e,a,n){return Bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,a,n)})}uploadToSignedUrl(e,a,n,r){return Bs(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",a);try{let c;const l=Object.assign({upsert:g$.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),p=yield d.json();return d.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(Cr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,a){return Bs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);a!=null&&a.upsert&&(r["x-upsert"]="true");const s=yield su(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new NC("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}})}update(e,a,n){return Bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,a,n)})}move(e,a,n){return Bs(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}copy(e,a,n){return Bs(this,void 0,void 0,function*(){try{return{data:{path:(yield su(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}createSignedUrl(e,a,n){return Bs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield su(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:a},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}createSignedUrls(e,a,n){return Bs(this,void 0,void 0,function*(){try{const r=yield su(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}download(e,a){return Bs(this,void 0,void 0,function*(){const r=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),i=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Gk(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Cr(o))return{data:null,error:o};throw o}})}info(e){return Bs(this,void 0,void 0,function*(){const a=this._getFinalPath(e);try{const n=yield Gk(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:xT(n),error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}})}exists(e){return Bs(this,void 0,void 0,function*(){const a=this._getFinalPath(e);try{return yield cae(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Cr(n)&&n instanceof vT){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,a){const n=this._getFinalPath(e),r=[],s=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";s!==""&&r.push(s);const o=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});c!==""&&r.push(c);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}remove(e){return Bs(this,void 0,void 0,function*(){try{return{data:yield O6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(a){if(Cr(a))return{data:null,error:a};throw a}})}list(e,a,n){return Bs(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},lae),a),{prefix:e||""});return{data:yield su(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Cr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const a=[];return e.width&&a.push(`width=${e.width}`),e.height&&a.push(`height=${e.height}`),e.resize&&a.push(`resize=${e.resize}`),e.format&&a.push(`format=${e.format}`),e.quality&&a.push(`quality=${e.quality}`),a.join("&")}}const fae="2.7.1",dae={"X-Client-Info":`storage-js/${fae}`};var Xh=function(t,e,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function o(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})};class hae{constructor(e,a={},n){this.url=e,this.headers=Object.assign(Object.assign({},dae),a),this.fetch=F6(n)}listBuckets(){return Xh(this,void 0,void 0,function*(){try{return{data:yield Gk(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Cr(e))return{data:null,error:e};throw e}})}getBucket(e){return Xh(this,void 0,void 0,function*(){try{return{data:yield Gk(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(a){if(Cr(a))return{data:null,error:a};throw a}})}createBucket(e,a={public:!1}){return Xh(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}})}updateBucket(e,a){return Xh(this,void 0,void 0,function*(){try{return{data:yield oae(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Xh(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Cr(a))return{data:null,error:a};throw a}})}deleteBucket(e){return Xh(this,void 0,void 0,function*(){try{return{data:yield O6(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(a){if(Cr(a))return{data:null,error:a};throw a}})}}class pae extends hae{constructor(e,a={},n){super(e,a,n)}from(e){return new uae(this.url,this.headers,e,this.fetch)}}const mae="2.49.1";let U0="";typeof Deno<"u"?U0="deno":typeof document<"u"?U0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?U0="react-native":U0="node";const gae={"X-Client-Info":`supabase-js-${U0}/${mae}`},yae={headers:gae},vae={schema:"public"},xae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kae={};var wae=function(t,e,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function o(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})};const bae=t=>{let e;return t?e=t:typeof fetch>"u"?e=A6:e=fetch,(...a)=>e(...a)},_ae=()=>typeof Headers>"u"?N6:Headers,Aae=(t,e,a)=>{const n=bae(a),r=_ae();return(s,i)=>wae(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let l=new r(i==null?void 0:i.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:l}))})};var Nae=function(t,e,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function o(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})};function Sae(t){return t.replace(/\/$/,"")}function Tae(t,e){const{db:a,auth:n,realtime:r,global:s}=t,{db:i,auth:o,realtime:c,global:l}=e,u={db:Object.assign(Object.assign({},i),a),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),r),global:Object.assign(Object.assign({},l),s),accessToken:()=>Nae(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const $6="2.68.0",lp=30*1e3,kT=3,HN=kT*lp,Eae="http://localhost:9999",Cae="supabase.auth.token",Iae={"X-Client-Info":`gotrue-js/${$6}`},wT="X-Supabase-Api-Version",L6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Rae(t){return Math.round(Date.now()/1e3)+t}function Dae(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qo=()=>typeof window<"u"&&typeof document<"u",Nf={tested:!1,writable:!1},ng=()=>{if(!Qo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nf.tested)return Nf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Nf.tested=!0,Nf.writable=!0}catch{Nf.tested=!0,Nf.writable=!1}return Nf.writable};function Pae(t){const e={},a=new URL(t);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((r,s)=>{e[s]=r})}catch{}return a.searchParams.forEach((n,r)=>{e[r]=n}),e}const M6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...a)=>Ro(async()=>{const{default:n}=await Promise.resolve().then(()=>lm);return{default:n}},void 0).then(({default:n})=>n(...a)):e=fetch,(...a)=>e(...a)},Fae=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",B6=async(t,e,a)=>{await t.setItem(e,JSON.stringify(a))},Dx=async(t,e)=>{const a=await t.getItem(e);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Px=async(t,e)=>{await t.removeItem(e)};function Oae(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a="",n,r,s,i,o,c,l,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)i=e.indexOf(t.charAt(u++)),o=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),n=i<<2|o>>4,r=(o&15)<<4|c>>2,s=(c&3)<<6|l,a=a+String.fromCharCode(n),c!=64&&r!=0&&(a=a+String.fromCharCode(r)),l!=64&&s!=0&&(a=a+String.fromCharCode(s));return a}class rb{constructor(){this.promise=new rb.promiseConstructor((e,a)=>{this.resolve=e,this.reject=a})}}rb.promiseConstructor=Promise;function y$(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,a=t.split(".");if(a.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(a[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=a[1];return JSON.parse(Oae(n))}async function $ae(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Lae(t,e){return new Promise((n,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await t(s);if(!e(s,null,i)){n(i);return}}catch(i){if(!e(s,i)){r(i);return}}})()})}function Mae(t){return("0"+t.toString(16)).substr(-2)}function Bae(){const e=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let r="";for(let s=0;s<56;s++)r+=a.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Mae).join("")}async function zae(t){const a=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",a),r=new Uint8Array(n);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}function Gae(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Uae(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const a=await zae(t);return Gae(a)}async function Yh(t,e,a=!1){const n=Bae();let r=n;a&&(r+="/PASSWORD_RECOVERY"),await B6(t,`${e}-code-verifier`,r);const s=await Uae(n);return[s,n===s?"plain":"s256"]}const Wae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vae(t){const e=t.headers.get(wT);if(!e||!e.match(Wae))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class SC extends Error{constructor(e,a,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function ca(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class jae extends SC{constructor(e,a,n){super(e,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function Hae(t){return ca(t)&&t.name==="AuthApiError"}class z6 extends SC{constructor(e,a){super(e),this.name="AuthUnknownError",this.originalError=a}}class Bd extends SC{constructor(e,a,n,r){super(e,n,r),this.name=a,this.status=n}}class au extends Bd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kae(t){return ca(t)&&t.name==="AuthSessionMissingError"}class KN extends Bd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fx extends Bd{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ox extends Bd{constructor(e,a=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qae(t){return ca(t)&&t.name==="AuthImplicitGrantRedirectError"}class v$ extends Bd{constructor(e,a=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bT extends Bd{constructor(e,a){super(e,"AuthRetryableFetchError",a,void 0)}}function qN(t){return ca(t)&&t.name==="AuthRetryableFetchError"}class x$ extends Bd{constructor(e,a,n){super(e,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}var Xae=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(a[n[r]]=t[n[r]]);return a};const Rf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yae=[502,503,504];async function k$(t){var e;if(!Fae(t))throw new bT(Rf(t),0);if(Yae.includes(t.status))throw new bT(Rf(t),t.status);let a;try{a=await t.json()}catch(s){throw new z6(Rf(s),s)}let n;const r=Vae(t);if(r&&r.getTime()>=L6["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new x$(Rf(a),t.status,((e=a.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new au}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new x$(Rf(a),t.status,a.weak_password.reasons);throw new jae(Rf(a),t.status||500,n)}const Zae=(t,e,a,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),a))};async function Ia(t,e,a,n){var r;const s=Object.assign({},n==null?void 0:n.headers);s[wT]||(s[wT]=L6["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Jae(t,e,a+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Jae(t,e,a,n,r,s){const i=Zae(e,n,r,s);let o;try{o=await t(a,Object.assign({},i))}catch(c){throw console.error(c),new bT(Rf(c),0)}if(o.ok||await k$(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await k$(c)}}function nu(t){var e;let a=null;ane(t)&&(a=Object.assign({},t),t.expires_at||(a.expires_at=Rae(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:a,user:n},error:null}}function w$(t){const e=nu(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ou(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qae(t){return{data:t,error:null}}function ene(t){const{action_link:e,email_otp:a,hashed_token:n,redirect_to:r,verification_type:s}=t,i=Xae(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:a,hashed_token:n,redirect_to:r,verification_type:s},c=Object.assign({},i);return{data:{properties:o,user:c},error:null}}function tne(t){return t}function ane(t){return t.access_token&&t.refresh_token&&t.expires_in}var nne=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(a[n[r]]=t[n[r]]);return a};class rne{constructor({url:e="",headers:a={},fetch:n}){this.url=e,this.headers=a,this.fetch=M6(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,a="global"){try{return await Ia(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ca(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,a={}){try{return await Ia(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ou})}catch(n){if(ca(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:a}=e,n=nne(e,["options"]),r=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await Ia(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ene,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(ca(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(e){try{return await Ia(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ou})}catch(a){if(ca(a))return{data:{user:null},error:a};throw a}}async listUsers(e){var a,n,r,s,i,o,c;try{const l={nextPage:null,lastPage:0,total:0},u=await Ia(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=e==null?void 0:e.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(s=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:tne});if(u.error)throw u.error;const d=await u.json(),p=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=x}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(ca(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await Ia(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ou})}catch(a){if(ca(a))return{data:{user:null},error:a};throw a}}async updateUserById(e,a){try{return await Ia(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:a,headers:this.headers,xform:ou})}catch(n){if(ca(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,a=!1){try{return await Ia(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:a},xform:ou})}catch(n){if(ca(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:a,error:n}=await Ia(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:a,error:n}}catch(a){if(ca(a))return{data:null,error:a};throw a}}async _deleteFactor(e){try{return{data:await Ia(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(a){if(ca(a))return{data:null,error:a};throw a}}}const sne={getItem:t=>ng()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ng()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ng()&&globalThis.localStorage.removeItem(t)}};function b$(t={}){return{getItem:e=>t[e]||null,setItem:(e,a)=>{t[e]=a},removeItem:e=>{delete t[e]}}}function ine(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zh={debug:!!(globalThis&&ng()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class G6 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class one extends G6{}async function cne(t,e,a){Zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Zh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await a()}finally{Zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Zh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new one(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}ine();const lne={url:Eae,storageKey:Cae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Iae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _$(t,e,a){return await a()}class Ag{constructor(e){var a,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ag.nextInstanceID,Ag.nextInstanceID+=1,this.instanceID>0&&Qo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},lne),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new rne({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=M6(r.fetch),this.lock=r.lock||_$,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Qo()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=cne:this.lock=_$,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:ng()?this.storage=sne:(this.memoryStorage={},this.storage=b$(this.memoryStorage)):(this.memoryStorage={},this.storage=b$(this.memoryStorage)),Qo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$6}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const a=Pae(window.location.href);let n="none";if(this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce"),Qo()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:s}=await this._getSessionFromURL(a,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),qae(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return ca(a)?{error:a}:{error:new z6("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var a,n,r;try{const s=await Ia(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:nu}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(ca(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var a,n,r;try{let s;if("email"in e){const{email:u,password:d,options:p}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Yh(this.storage,this.storageKey)),s=await Ia(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:d,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:g},xform:nu})}else if("phone"in e){const{phone:u,password:d,options:p}=e;s=await Ia(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(r=p==null?void 0:p.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:nu})}else throw new Fx("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(ca(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let a;if("email"in e){const{email:s,password:i,options:o}=e;a=await Ia(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:w$})}else if("phone"in e){const{phone:s,password:i,options:o}=e;a=await Ia(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:w$})}else throw new Fx("You must provide either an email or phone number and a password");const{data:n,error:r}=a;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new KN}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(a){if(ca(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(e){var a,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const a=await Dx(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(a??"").split("/");try{const{data:s,error:i}=await Ia(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:nu});if(await Px(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new KN}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:i})}catch(s){if(ca(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:a,provider:n,token:r,access_token:s,nonce:i}=e,o=await Ia(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nu}),{data:c,error:l}=o;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new KN}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(a){if(ca(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(e){var a,n,r,s,i;try{if("email"in e){const{email:o,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Yh(this.storage,this.storageKey));const{error:d}=await Ia(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:c}=e,{data:l,error:u}=await Ia(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Fx("You must provide either an email or phone number.")}catch(o){if(ca(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var a,n;try{let r,s;"options"in e&&(r=(a=e.options)===null||a===void 0?void 0:a.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await Ia(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:nu});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,l=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(r){if(ca(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var a,n,r;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Yh(this.storage,this.storageKey)),await Ia(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(a=e.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:Qae})}catch(s){if(ca(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:a},error:n}=e;if(n)throw n;if(!a)throw new au;const{error:r}=await Ia(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ca(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const a=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:i}=await Ia(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:r,options:s}=e,{data:i,error:o}=await Ia(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new Fx("You must provide either an email or phone number and a type")}catch(a){if(ca(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(e,a){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await e(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const a=await Dx(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?e=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<HN:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!i&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ia(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ou}):await this._useSession(async a=>{var n,r,s;const{data:i,error:o}=a;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new au}:await Ia(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:ou})})}catch(a){if(ca(a))return Kae(a)&&(await this._removeSession(),await Px(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(e,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,a))}async _updateUser(e,a={}){try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new au;const i=r.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Yh(this.storage,this.storageKey));const{data:l,error:u}=await Ia(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:i.access_token,xform:ou});if(u)throw u;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ca(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return y$(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new au;const a=Date.now()/1e3;let n=a,r=!0,s=null;const i=y$(e.access_token);if(i.exp&&(n=i.exp,r=n<=a),r){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(a){if(ca(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async a=>{var n;if(!e){const{data:i,error:o}=a;if(o)throw o;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new au;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(ca(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(e,a){try{if(!Qo())throw new Ox("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ox(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new v$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ox("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new v$("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:i,expires_in:o,expires_at:c,token_type:l}=e;if(!s||!o||!i||!l)throw new Ox("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let p=u+d;c&&(p=parseInt(c));const m=p-u;m*1e3<=lp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const g=p-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,u);const{data:x,error:v}=await this._getUser(s);if(v)throw v;const k={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:d,expires_at:p,refresh_token:i,token_type:l,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(n){if(ca(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const a=await Dx(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&a)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:r,error:s}=a;if(s)return{error:s};const i=(n=r.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,e);if(o&&!(Hae(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Px(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const a=Dae(),n={id:a,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async a=>{var n,r;try{const{data:{session:s},error:i}=a;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,a={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Yh(this.storage,this.storageKey,!0));try{return await Ia(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(s){if(ca(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=a.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(a){if(ca(a))return{data:null,error:a};throw a}}async linkIdentity(e){var a;try{const{data:n,error:r}=await this._useSession(async s=>{var i,o,c,l,u;const{data:d,error:p}=s;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ia(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return Qo()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ca(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async a=>{var n,r;const{data:s,error:i}=a;if(i)throw i;return await Ia(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(a){if(ca(a))return{data:null,error:a};throw a}}async _refreshAccessToken(e){const a=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await Lae(async r=>(r>0&&await $ae(200*Math.pow(2,r-1)),this._debug(a,"refreshing attempt",r),await Ia(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nu})),(r,s)=>{const i=200*Math.pow(2,r);return s&&qN(s)&&Date.now()+i-n<lp})}catch(n){if(this._debug(a,"error",n),ca(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(a,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",a,"url",n),Qo()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await Dx(this.storage,this.storageKey);if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const r=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<HN;if(this._debug(a,`session has${r?"":" not"} expired with margin of ${HN}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),qN(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var a,n;if(!e)throw new au;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new rb;const{data:s,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!s.session)throw new au;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(r,"error",s),ca(s)){const i={session:null,error:s};return qN(s)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,a,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:a});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,a)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await B6(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Px(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),lp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/lp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${lp}ms, refresh threshold is ${kT} ticks`),r<=kT&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof G6)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const a=`#_onVisibilityChanged(${e})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,a,n){const r=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Yh(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});r.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);r.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async a=>{var n;const{data:r,error:s}=a;return s?{data:null,error:s}:await Ia(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(ca(a))return{data:null,error:a};throw a}}async _enroll(e){try{return await this._useSession(async a=>{var n,r;const{data:s,error:i}=a;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await Ia(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(a){if(ca(a))return{data:null,error:a};throw a}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:r,error:s}=a;if(s)return{data:null,error:s};const{data:i,error:o}=await Ia(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(a){if(ca(a))return{data:null,error:a};throw a}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:r,error:s}=a;return s?{data:null,error:s}:await Ia(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(ca(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(e){const{data:a,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:a.id,code:e.code})}async _listFactors(){const{data:{user:e},error:a}=await this.getUser();if(a)return{data:null,error:a};const n=(e==null?void 0:e.factors)||[],r=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var a,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const i=this._decodeJWT(r.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((n=(a=r.user.factors)===null||a===void 0?void 0:a.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}Ag.nextInstanceID=0;const une=Ag;class fne extends une{constructor(e){super(e)}}var dne=function(t,e,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function o(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})};class hne{constructor(e,a,n){var r,s,i;if(this.supabaseUrl=e,this.supabaseKey=a,!e)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const o=Sae(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:vae,realtime:kae,auth:Object.assign(Object.assign({},xae),{storageKey:c}),global:yae},u=Tae(n??{},l);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=Aae(a,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Bte(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Tte(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pae(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,a={},n={}){return this.rest.rpc(e,a,n)}channel(e,a={config:{}}){return this.realtime.channel(e,a)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,a;return dne(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(a=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:a,detectSessionInUrl:n,storage:r,storageKey:s,flowType:i,lock:o,debug:c},l,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fne({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:s,autoRefreshToken:e,persistSession:a,detectSessionInUrl:n,storage:r,flowType:i,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new eae(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,a,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pne=(t,e,a)=>new hne(t,e,a),mne="https://vcwloujmsjuacqpwthee.supabase.co",gne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZjd2xvdWptc2p1YWNxcHd0aGVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4MTM2NjAsImV4cCI6MjA1NzM4OTY2MH0.a4Hyi9PsyLQ-MxtS_20cSs4KWgDNh39w-uJo0cQa_qQ",eo=pne(mne,gne),U6=async()=>{const{error:t}=await eo.auth.signOut();if(t)throw console.log("supa error",t),new Error("Error logging out");console.log("logged out")},yne=async(t,e,a)=>{console.log("Initializing SSO for discourse",e,a);const n=t.access_token,{data:r,error:s}=await eo.functions.invoke("sso",{method:"POST",body:{sso:e,sig:a},headers:{Authorization:`Bearer ${n}`}});if(s)throw console.log("supa sso error",s),new Error("Error logging in");console.log("supa sso response",r),window.location.href=r.redirectUrl};async function vne(){const{data:t,error:e}=await eo.from("accounts").select().limit(1);if(e)throw console.log("supa error",e),new Error("Error fetching collection");return console.log("fetched account",t),t.length>0?t[0]:null}function xne({selected:t,setIsSelected:e,card:a,size:n="default"}){var _;const r=F.useRef(null),[s,i]=F.useState({x:0,y:0}),[o,c]=F.useState(!1),l=F.useRef(kne(A=>i(A),50)),u=A=>{l.current({x:A.clientX,y:A.clientY})},d=F.useCallback(()=>{c(!0),window.addEventListener("mousemove",u)},[]),p=F.useCallback(()=>{c(!1),window.removeEventListener("mousemove",u)},[]);let m=0,g=0;if(r.current&&o){const A=r.current.getBoundingClientRect(),S=A.left+A.width/2,C=A.top+A.height/2;m=s.x-S,g=s.y-C}const x=(A,S,C)=>Math.min(Math.max(A,S),C),v=o?x(m/4,-10,10):0,k=o?x(-g/4,-10,10):0,b={transform:`perspective(1000px)
                   rotateY(${v}deg)
                   rotateX(${k}deg)
                   scale(${o?1.04:1})`,transition:"transform 0.3s cubic-bezier(0.17, 0.67, 0.5, 1.03)",transformStyle:"preserve-3d",cursor:"pointer",opacity:t?1:.5,width:n==="small"?"80px":"100%",height:n==="small"?"112px":"auto"};return L.jsx("div",{style:{flex:"1 0 20%",perspective:"1000px",transformStyle:"preserve-3d",display:"flex",justifyContent:"center",alignItems:"center",zIndex:o?10:0},children:L.jsx("img",{draggable:!1,onMouseDown:()=>e==null?void 0:e(!t),ref:r,className:"card-test",style:b,src:`/images/${(_=a.image)==null?void 0:_.split("/").at(-1)}`,alt:a.name,onMouseEnter:d,onMouseLeave:p})})}const kne=(t,e)=>{let a=0,n=null;return(...r)=>{const s=performance.now(),i=s-a;if(i<e){n||(n=setTimeout(()=>{a=performance.now(),n=null,t(...r)},e-i));return}a=s,t(...r)}},Ey=F.createContext({ownedCards:[],setOwnedCards:()=>{},selectedCardId:"",setSelectedCardId:()=>{}}),Al=F.createContext({user:null,setUser:()=>{},account:null,setAccount:()=>{},isLoginDialogOpen:!1,setIsLoginDialogOpen:()=>{},isProfileDialogOpen:!1,setIsProfileDialogOpen:()=>{}});/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W6=(...t)=>t.filter((e,a,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===a).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:r="",children:s,iconNode:i,...o},c)=>F.createElement("svg",{ref:c,...bne,width:e,height:e,stroke:t,strokeWidth:n?Number(a)*24/Number(e):a,className:W6("lucide",r),...o},[...i.map(([l,u])=>F.createElement(l,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=(t,e)=>{const a=F.forwardRef(({className:n,...r},s)=>F.createElement(_ne,{ref:s,iconNode:e,className:W6(`lucide-${wne(t)}`,n),...r}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nne=zo("Check",Ane);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tne=zo("ChevronDown",Sne);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cne=zo("ChevronRight",Ene);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rne=zo("Circle",Ine);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Pne=zo("Globe",Dne);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],V6=zo("LogOut",Fne);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],$ne=zo("Menu",One);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M5 12h14",key:"1ays0h"}]],TC=zo("Minus",Lne);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],j6=zo("Plus",Mne);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]],H6=zo("UserRoundPen",Bne);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],EC=zo("X",zne),XN={};function Gne({card:t,useMaxWidth:e=!1}){const{user:a,setIsLoginDialogOpen:n}=F.use(Al),{ownedCards:r,setOwnedCards:s,setSelectedCardId:i}=F.use(Ey);let o=F.useMemo(()=>{var g;return((g=r.find(x=>x.card_id===t.card_id))==null?void 0:g.amount_owned)||0},[r]);const[c,l]=F.useState(0);F.useEffect(()=>{l(o)},[o]);const u=F.useCallback(async(g,x)=>{o=Math.max(0,x),l(o),XN[g]&&window.clearTimeout(XN[g]),XN[g]=window.setTimeout(async()=>{if(!a||!a.user.email)throw new Error("User not logged in");const v=r.find(b=>b.card_id===g);v?v.amount_owned=Math.max(0,x):r.push({email:a.user.email,card_id:g,amount_owned:x}),s([...r]);const{error:k}=await eo.from("collection").upsert({card_id:g,amount_owned:x,email:a.user.email});if(k)throw new Error("Error updating collection")},1e3)},[r,a,s,o]),d=F.useCallback(async g=>{if(!a){n(!0);return}await u(g,o+1)},[u]),p=F.useCallback(async g=>{if(!a){n(!0);return}await u(g,o-1)},[u]),m=async g=>{const x=g.target.value===""?0:Number.parseInt(g.target.value,10);!Number.isNaN(x)&&x>=0&&await u(t.card_id,x)};return L.jsxs("div",{className:`group flex w-fit ${e?"":"max-w-32 md:max-w-40"} flex-col items-center rounded-lg cursor-pointer`,children:[L.jsx("div",{onClick:()=>i(t.card_id),children:L.jsx(xne,{card:t,selected:o>0})}),L.jsxs("p",{className:"max-w-[130px] overflow-hidden text-ellipsis whitespace-nowrap font-semibold text-[12px] pt-2",children:[t.card_id," - ",t.name]}),L.jsxs("div",{className:"flex items-center gap-x-1",children:[L.jsx(rn,{variant:"ghost",size:"icon",onClick:()=>p(t.card_id),className:"rounded-full",tabIndex:-1,children:L.jsx(TC,{})}),L.jsx("input",{min:"0",max:"99",type:"text",value:c,onChange:m,className:"w-7 text-center border-none rounded",onFocus:g=>g.target.select()}),L.jsx(rn,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>d(t.card_id),tabIndex:-1,children:L.jsx(j6,{})})]})]})}const JKe=async(t,e,a,n,r)=>{if(!r||!r.user.email)throw new Error("User not logged in");if(e<0)throw new Error("New amount cannot be negative");const s=[...a],i=t.map(c=>({card_id:c,amount_owned:e,email:r.user.email})),{error:o}=await eo.from("collection").upsert(i);if(o)throw new Error("Error bulk updating collection");for(const c of t){const l=s.find(u=>u.card_id===c);l?(console.log("Updating existing card:",c),l.amount_owned=e):l||(console.log("Adding new card:",c),s.push({email:r.user.email,card_id:c,amount_owned:e}))}n([...s])},Une=async(t,e,a,n,r)=>{if(console.log("incrementing multiple cards",t,e),!r||!r.user.email)throw new Error("User not logged in");const s=[...a],i=[];for(const c of t){const l=s.find(m=>m.card_id===c),u=(l==null?void 0:l.amount_owned)||0,d=Math.max(0,u+e),p=i.find(m=>m.card_id===c);p?p.amount_owned=d:i.push({card_id:c,amount_owned:d,email:r.user.email}),l?(console.log("Incrementing existing card:",c,"from",u,"to",d),l.amount_owned=d):!l&&d>0&&(console.log("Adding new card:",c,"with amount",d),s.push({email:r.user.email,card_id:c,amount_owned:d}))}const{error:o}=await eo.from("collection").upsert(i);if(o)throw new Error("Error bulk updating collection");n([...s])};function kt(t,e,{checkForDefaultPrevented:a=!0}={}){return function(r){if(t==null||t(r),a===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Wne(t,e){const a=F.createContext(e),n=s=>{const{children:i,...o}=s,c=F.useMemo(()=>o,Object.values(o));return L.jsx(a.Provider,{value:c,children:i})};n.displayName=t+"Provider";function r(s){const i=F.useContext(a);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,r]}function zu(t,e=[]){let a=[];function n(s,i){const o=F.createContext(i),c=a.length;a=[...a,i];const l=d=>{var k;const{scope:p,children:m,...g}=d,x=((k=p==null?void 0:p[t])==null?void 0:k[c])||o,v=F.useMemo(()=>g,Object.values(g));return L.jsx(x.Provider,{value:v,children:m})};l.displayName=s+"Provider";function u(d,p){var x;const m=((x=p==null?void 0:p[t])==null?void 0:x[c])||o,g=F.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[l,u]}const r=()=>{const s=a.map(i=>F.createContext(i));return function(o){const c=(o==null?void 0:o[t])||s;return F.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return r.scopeName=t,[n,Vne(r,...e)]}function Vne(...t){const e=t[0];if(t.length===1)return e;const a=()=>{const n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const i=n.reduce((o,{useScope:c,scopeName:l})=>{const d=c(s)[`__scope${l}`];return{...o,...d}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return a.scopeName=e.scopeName,a}var Do=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},jne=CJ.useId||(()=>{}),Hne=0;function fu(t){const[e,a]=F.useState(jne());return Do(()=>{a(n=>n??String(Hne++))},[t]),e?`radix-${e}`:""}function $n(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t}),F.useMemo(()=>(...a)=>{var n;return(n=e.current)==null?void 0:n.call(e,...a)},[])}function um({prop:t,defaultProp:e,onChange:a=()=>{}}){const[n,r]=Kne({defaultProp:e,onChange:a}),s=t!==void 0,i=s?t:n,o=$n(a),c=F.useCallback(l=>{if(s){const d=typeof l=="function"?l(t):l;d!==t&&o(d)}else r(l)},[s,t,r,o]);return[i,c]}function Kne({defaultProp:t,onChange:e}){const a=F.useState(t),[n]=a,r=F.useRef(n),s=$n(e);return F.useEffect(()=>{r.current!==n&&(s(n),r.current=n)},[n,r,s]),a}var sb=qB();const K6=Od(sb);var qne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ka=qne.reduce((t,e)=>{const a=F.forwardRef((n,r)=>{const{asChild:s,...i}=n,o=s?rd:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(o,{...i,ref:r})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function Ng(t,e){t&&sb.flushSync(()=>t.dispatchEvent(e))}function Xne(t,e=globalThis==null?void 0:globalThis.document){const a=$n(t);F.useEffect(()=>{const n=r=>{r.key==="Escape"&&a(r)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[a,e])}var Yne="DismissableLayer",_T="dismissableLayer.update",Zne="dismissableLayer.pointerDownOutside",Jne="dismissableLayer.focusOutside",A$,q6=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cy=F.forwardRef((t,e)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:i,onDismiss:o,...c}=t,l=F.useContext(q6),[u,d]=F.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=F.useState({}),g=vn(e,E=>d(E)),x=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),k=x.indexOf(v),b=u?x.indexOf(u):-1,_=l.layersWithOutsidePointerEventsDisabled.size>0,A=b>=k,S=ere(E=>{const R=E.target,I=[...l.branches].some(P=>P.contains(R));!A||I||(r==null||r(E),i==null||i(E),E.defaultPrevented||o==null||o())},p),C=tre(E=>{const R=E.target;[...l.branches].some(P=>P.contains(R))||(s==null||s(E),i==null||i(E),E.defaultPrevented||o==null||o())},p);return Xne(E=>{b===l.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},p),F.useEffect(()=>{if(u)return a&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(A$=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),N$(),()=>{a&&l.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=A$)}},[u,p,a,l]),F.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),N$())},[u,l]),F.useEffect(()=>{const E=()=>m({});return document.addEventListener(_T,E),()=>document.removeEventListener(_T,E)},[]),L.jsx(ka.div,{...c,ref:g,style:{pointerEvents:_?A?"auto":"none":void 0,...t.style},onFocusCapture:kt(t.onFocusCapture,C.onFocusCapture),onBlurCapture:kt(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:kt(t.onPointerDownCapture,S.onPointerDownCapture)})});Cy.displayName=Yne;var Qne="DismissableLayerBranch",X6=F.forwardRef((t,e)=>{const a=F.useContext(q6),n=F.useRef(null),r=vn(e,n);return F.useEffect(()=>{const s=n.current;if(s)return a.branches.add(s),()=>{a.branches.delete(s)}},[a.branches]),L.jsx(ka.div,{...t,ref:r})});X6.displayName=Qne;function ere(t,e=globalThis==null?void 0:globalThis.document){const a=$n(t),n=F.useRef(!1),r=F.useRef(()=>{});return F.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let c=function(){Y6(Zne,a,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);n.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,a]),{onPointerDownCapture:()=>n.current=!0}}function tre(t,e=globalThis==null?void 0:globalThis.document){const a=$n(t),n=F.useRef(!1);return F.useEffect(()=>{const r=s=>{s.target&&!n.current&&Y6(Jne,a,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,a]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function N$(){const t=new CustomEvent(_T);document.dispatchEvent(t)}function Y6(t,e,a,{discrete:n}){const r=a.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});e&&r.addEventListener(t,e,{once:!0}),n?Ng(r,s):r.dispatchEvent(s)}var are=Cy,nre=X6,YN="focusScope.autoFocusOnMount",ZN="focusScope.autoFocusOnUnmount",S$={bubbles:!1,cancelable:!0},rre="FocusScope",CC=F.forwardRef((t,e)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...i}=t,[o,c]=F.useState(null),l=$n(r),u=$n(s),d=F.useRef(null),p=vn(e,x=>c(x)),m=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(n){let x=function(_){if(m.paused||!o)return;const A=_.target;o.contains(A)?d.current=A:ru(d.current,{select:!0})},v=function(_){if(m.paused||!o)return;const A=_.relatedTarget;A!==null&&(o.contains(A)||ru(d.current,{select:!0}))},k=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&ru(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const b=new MutationObserver(k);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),b.disconnect()}}},[n,o,m.paused]),F.useEffect(()=>{if(o){E$.add(m);const x=document.activeElement;if(!o.contains(x)){const k=new CustomEvent(YN,S$);o.addEventListener(YN,l),o.dispatchEvent(k),k.defaultPrevented||(sre(ure(Z6(o)),{select:!0}),document.activeElement===x&&ru(o))}return()=>{o.removeEventListener(YN,l),setTimeout(()=>{const k=new CustomEvent(ZN,S$);o.addEventListener(ZN,u),o.dispatchEvent(k),k.defaultPrevented||ru(x??document.body,{select:!0}),o.removeEventListener(ZN,u),E$.remove(m)},0)}}},[o,l,u,m]);const g=F.useCallback(x=>{if(!a&&!n||m.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,k=document.activeElement;if(v&&k){const b=x.currentTarget,[_,A]=ire(b);_&&A?!x.shiftKey&&k===A?(x.preventDefault(),a&&ru(_,{select:!0})):x.shiftKey&&k===_&&(x.preventDefault(),a&&ru(A,{select:!0})):k===b&&x.preventDefault()}},[a,n,m.paused]);return L.jsx(ka.div,{tabIndex:-1,...i,ref:p,onKeyDown:g})});CC.displayName=rre;function sre(t,{select:e=!1}={}){const a=document.activeElement;for(const n of t)if(ru(n,{select:e}),document.activeElement!==a)return}function ire(t){const e=Z6(t),a=T$(e,t),n=T$(e.reverse(),t);return[a,n]}function Z6(t){const e=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)e.push(a.currentNode);return e}function T$(t,e){for(const a of t)if(!ore(a,{upTo:e}))return a}function ore(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cre(t){return t instanceof HTMLInputElement&&"select"in t}function ru(t,{select:e=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&cre(t)&&e&&t.select()}}var E$=lre();function lre(){let t=[];return{add(e){const a=t[0];e!==a&&(a==null||a.pause()),t=C$(t,e),t.unshift(e)},remove(e){var a;t=C$(t,e),(a=t[0])==null||a.resume()}}}function C$(t,e){const a=[...t],n=a.indexOf(e);return n!==-1&&a.splice(n,1),a}function ure(t){return t.filter(e=>e.tagName!=="A")}var fre="Portal",ib=F.forwardRef((t,e)=>{var o;const{container:a,...n}=t,[r,s]=F.useState(!1);Do(()=>s(!0),[]);const i=a||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?K6.createPortal(L.jsx(ka.div,{...n,ref:e}),i):null});ib.displayName=fre;function dre(t,e){return F.useReducer((a,n)=>e[a][n]??a,t)}var xi=t=>{const{present:e,children:a}=t,n=hre(e),r=typeof a=="function"?a({present:n.isPresent}):F.Children.only(a),s=vn(n.ref,pre(r));return typeof a=="function"||n.isPresent?F.cloneElement(r,{ref:s}):null};xi.displayName="Presence";function hre(t){const[e,a]=F.useState(),n=F.useRef({}),r=F.useRef(t),s=F.useRef("none"),i=t?"mounted":"unmounted",[o,c]=dre(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const l=$x(n.current);s.current=o==="mounted"?l:"none"},[o]),Do(()=>{const l=n.current,u=r.current;if(u!==t){const p=s.current,m=$x(l);t?c("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Do(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=m=>{const x=$x(n.current).includes(m.animationName);if(m.target===e&&x&&(c("ANIMATION_END"),!r.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=m=>{m.target===e&&(s.current=$x(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:F.useCallback(l=>{l&&(n.current=getComputedStyle(l)),a(l)},[])}}function $x(t){return(t==null?void 0:t.animationName)||"none"}function pre(t){var n,r;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,a=e&&"isReactWarning"in e&&e.isReactWarning;return a?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,a=e&&"isReactWarning"in e&&e.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var JN=0;function J6(){F.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??I$()),document.body.insertAdjacentElement("beforeend",t[1]??I$()),JN++,()=>{JN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),JN--}},[])}function I$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cc=function(){return cc=Object.assign||function(e){for(var a,n=1,r=arguments.length;n<r;n++){a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},cc.apply(this,arguments)};function Q6(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(a[n[r]]=t[n[r]]);return a}function zd(t,e,a,n){function r(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function o(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((n=n.apply(t,e||[])).next())})}function mre(t,e,a){if(a||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Ak="right-scroll-bar-position",Nk="width-before-scroll-bar",gre="with-scroll-bars-hidden",yre="--removed-body-scroll-bar-size";function QN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function vre(t,e){var a=F.useState(function(){return{value:t,callback:e,facade:{get current(){return a.value},set current(n){var r=a.value;r!==n&&(a.value=n,a.callback(n,r))}}}})[0];return a.callback=e,a.facade}var xre=typeof window<"u"?F.useLayoutEffect:F.useEffect,R$=new WeakMap;function kre(t,e){var a=vre(null,function(n){return t.forEach(function(r){return QN(r,n)})});return xre(function(){var n=R$.get(a);if(n){var r=new Set(n),s=new Set(t),i=a.current;r.forEach(function(o){s.has(o)||QN(o,null)}),s.forEach(function(o){r.has(o)||QN(o,i)})}R$.set(a,t)},[t]),a}function wre(t){return t}function bre(t,e){e===void 0&&(e=wre);var a=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(s){var i=e(s,n);return a.push(i),function(){a=a.filter(function(o){return o!==i})}},assignSyncMedium:function(s){for(n=!0;a.length;){var i=a;a=[],i.forEach(s)}a={push:function(o){return s(o)},filter:function(){return a}}},assignMedium:function(s){n=!0;var i=[];if(a.length){var o=a;a=[],o.forEach(s),i=a}var c=function(){var u=i;i=[],u.forEach(s)},l=function(){return Promise.resolve().then(c)};l(),a={push:function(u){i.push(u),l()},filter:function(u){return i=i.filter(u),a}}}};return r}function _re(t){t===void 0&&(t={});var e=bre(null);return e.options=cc({async:!0,ssr:!1},t),e}var e8=function(t){var e=t.sideCar,a=Q6(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return F.createElement(n,cc({},a))};e8.isSideCarExport=!0;function Are(t,e){return t.useMedium(e),e8}var t8=_re(),eS=function(){},ob=F.forwardRef(function(t,e){var a=F.useRef(null),n=F.useState({onScrollCapture:eS,onWheelCapture:eS,onTouchMoveCapture:eS}),r=n[0],s=n[1],i=t.forwardProps,o=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,m=t.noIsolation,g=t.inert,x=t.allowPinchZoom,v=t.as,k=v===void 0?"div":v,b=t.gapMode,_=Q6(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,S=kre([a,e]),C=cc(cc({},_),r);return F.createElement(F.Fragment,null,u&&F.createElement(A,{sideCar:t8,removeScrollBar:l,shards:d,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!x,lockRef:a,gapMode:b}),i?F.cloneElement(F.Children.only(o),cc(cc({},C),{ref:S})):F.createElement(k,cc({},C,{className:c,ref:S}),o))});ob.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ob.classNames={fullWidth:Nk,zeroRight:Ak};var Nre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Nre();return e&&t.setAttribute("nonce",e),t}function Tre(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Ere(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Cre=function(){var t=0,e=null;return{add:function(a){t==0&&(e=Sre())&&(Tre(e,a),Ere(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ire=function(){var t=Cre();return function(e,a){F.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&a])}},a8=function(){var t=Ire(),e=function(a){var n=a.styles,r=a.dynamic;return t(n,r),null};return e},Rre={left:0,top:0,right:0,gap:0},tS=function(t){return parseInt(t||"",10)||0},Dre=function(t){var e=window.getComputedStyle(document.body),a=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[tS(a),tS(n),tS(r)]},Pre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Rre;var e=Dre(t),a=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-a+e[2]-e[0])}},Fre=a8(),kp="data-scroll-locked",Ore=function(t,e,a,n){var r=t.left,s=t.top,i=t.right,o=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(gre,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(kp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),a==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),a==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ak,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Nk,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Ak," .").concat(Ak,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nk," .").concat(Nk,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(kp,`] {
    `).concat(yre,": ").concat(o,`px;
  }
`)},D$=function(){var t=parseInt(document.body.getAttribute(kp)||"0",10);return isFinite(t)?t:0},$re=function(){F.useEffect(function(){return document.body.setAttribute(kp,(D$()+1).toString()),function(){var t=D$()-1;t<=0?document.body.removeAttribute(kp):document.body.setAttribute(kp,t.toString())}},[])},Lre=function(t){var e=t.noRelative,a=t.noImportant,n=t.gapMode,r=n===void 0?"margin":n;$re();var s=F.useMemo(function(){return Pre(r)},[r]);return F.createElement(Fre,{styles:Ore(s,!e,r,a?"":"!important")})},AT=!1;if(typeof window<"u")try{var Lx=Object.defineProperty({},"passive",{get:function(){return AT=!0,!0}});window.addEventListener("test",Lx,Lx),window.removeEventListener("test",Lx,Lx)}catch{AT=!1}var Jh=AT?{passive:!1}:!1,Mre=function(t){return t.tagName==="TEXTAREA"},n8=function(t,e){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[e]!=="hidden"&&!(a.overflowY===a.overflowX&&!Mre(t)&&a[e]==="visible")},Bre=function(t){return n8(t,"overflowY")},zre=function(t){return n8(t,"overflowX")},P$=function(t,e){var a=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=r8(t,n);if(r){var s=s8(t,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==a.body);return!1},Gre=function(t){var e=t.scrollTop,a=t.scrollHeight,n=t.clientHeight;return[e,a,n]},Ure=function(t){var e=t.scrollLeft,a=t.scrollWidth,n=t.clientWidth;return[e,a,n]},r8=function(t,e){return t==="v"?Bre(e):zre(e)},s8=function(t,e){return t==="v"?Gre(e):Ure(e)},Wre=function(t,e){return t==="h"&&e==="rtl"?-1:1},Vre=function(t,e,a,n,r){var s=Wre(t,window.getComputedStyle(e).direction),i=s*n,o=a.target,c=e.contains(o),l=!1,u=i>0,d=0,p=0;do{var m=s8(t,o),g=m[0],x=m[1],v=m[2],k=x-v-s*g;(g||k)&&r8(t,o)&&(d+=k,p+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(l=!0),l},Mx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},F$=function(t){return[t.deltaX,t.deltaY]},O$=function(t){return t&&"current"in t?t.current:t},jre=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Hre=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Kre=0,Qh=[];function qre(t){var e=F.useRef([]),a=F.useRef([0,0]),n=F.useRef(),r=F.useState(Kre++)[0],s=F.useState(a8)[0],i=F.useRef(t);F.useEffect(function(){i.current=t},[t]),F.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var x=mre([t.lockRef.current],(t.shards||[]).map(O$),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=F.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var k=Mx(x),b=a.current,_="deltaX"in x?x.deltaX:b[0]-k[0],A="deltaY"in x?x.deltaY:b[1]-k[1],S,C=x.target,E=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in x&&E==="h"&&C.type==="range")return!1;var R=P$(E,C);if(!R)return!0;if(R?S=E:(S=E==="v"?"h":"v",R=P$(E,C)),!R)return!1;if(!n.current&&"changedTouches"in x&&(_||A)&&(n.current=S),!S)return!0;var I=n.current||S;return Vre(I,v,x,I==="h"?_:A)},[]),c=F.useCallback(function(x){var v=x;if(!(!Qh.length||Qh[Qh.length-1]!==s)){var k="deltaY"in v?F$(v):Mx(v),b=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&jre(S.delta,k)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var _=(i.current.shards||[]).map(O$).filter(Boolean).filter(function(S){return S.contains(v.target)}),A=_.length>0?o(v,_[0]):!i.current.noIsolation;A&&v.cancelable&&v.preventDefault()}}},[]),l=F.useCallback(function(x,v,k,b){var _={name:x,delta:v,target:k,should:b,shadowParent:Xre(k)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(A){return A!==_})},1)},[]),u=F.useCallback(function(x){a.current=Mx(x),n.current=void 0},[]),d=F.useCallback(function(x){l(x.type,F$(x),x.target,o(x,t.lockRef.current))},[]),p=F.useCallback(function(x){l(x.type,Mx(x),x.target,o(x,t.lockRef.current))},[]);F.useEffect(function(){return Qh.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Jh),document.addEventListener("touchmove",c,Jh),document.addEventListener("touchstart",u,Jh),function(){Qh=Qh.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Jh),document.removeEventListener("touchmove",c,Jh),document.removeEventListener("touchstart",u,Jh)}},[]);var m=t.removeScrollBar,g=t.inert;return F.createElement(F.Fragment,null,g?F.createElement(s,{styles:Hre(r)}):null,m?F.createElement(Lre,{gapMode:t.gapMode}):null)}function Xre(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Yre=Are(t8,qre);var IC=F.forwardRef(function(t,e){return F.createElement(ob,cc({},t,{ref:e,sideCar:Yre}))});IC.classNames=ob.classNames;var Zre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ep=new WeakMap,Bx=new WeakMap,zx={},aS=0,i8=function(t){return t&&(t.host||i8(t.parentNode))},Jre=function(t,e){return e.map(function(a){if(t.contains(a))return a;var n=i8(a);return n&&t.contains(n)?n:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},Qre=function(t,e,a,n){var r=Jre(e,Array.isArray(t)?t:[t]);zx[a]||(zx[a]=new WeakMap);var s=zx[a],i=[],o=new Set,c=new Set(r),l=function(d){!d||o.has(d)||(o.add(d),l(d.parentNode))};r.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(p){if(o.has(p))u(p);else try{var m=p.getAttribute(n),g=m!==null&&m!=="false",x=(ep.get(p)||0)+1,v=(s.get(p)||0)+1;ep.set(p,x),s.set(p,v),i.push(p),x===1&&g&&Bx.set(p,!0),v===1&&p.setAttribute(a,"true"),g||p.setAttribute(n,"true")}catch(k){console.error("aria-hidden: cannot operate on ",p,k)}})};return u(e),o.clear(),aS++,function(){i.forEach(function(d){var p=ep.get(d)-1,m=s.get(d)-1;ep.set(d,p),s.set(d,m),p||(Bx.has(d)||d.removeAttribute(n),Bx.delete(d)),m||d.removeAttribute(a)}),aS--,aS||(ep=new WeakMap,ep=new WeakMap,Bx=new WeakMap,zx={})}},o8=function(t,e,a){a===void 0&&(a="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),r=Zre(t);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live]"))),Qre(n,r,a,"aria-hidden")):function(){return null}},RC="Dialog",[c8,QKe]=zu(RC),[ese,Go]=c8(RC),l8=t=>{const{__scopeDialog:e,children:a,open:n,defaultOpen:r,onOpenChange:s,modal:i=!0}=t,o=F.useRef(null),c=F.useRef(null),[l=!1,u]=um({prop:n,defaultProp:r,onChange:s});return L.jsx(ese,{scope:e,triggerRef:o,contentRef:c,contentId:fu(),titleId:fu(),descriptionId:fu(),open:l,onOpenChange:u,onOpenToggle:F.useCallback(()=>u(d=>!d),[u]),modal:i,children:a})};l8.displayName=RC;var u8="DialogTrigger",f8=F.forwardRef((t,e)=>{const{__scopeDialog:a,...n}=t,r=Go(u8,a),s=vn(e,r.triggerRef);return L.jsx(ka.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":FC(r.open),...n,ref:s,onClick:kt(t.onClick,r.onOpenToggle)})});f8.displayName=u8;var DC="DialogPortal",[tse,d8]=c8(DC,{forceMount:void 0}),h8=t=>{const{__scopeDialog:e,forceMount:a,children:n,container:r}=t,s=Go(DC,e);return L.jsx(tse,{scope:e,forceMount:a,children:F.Children.map(n,i=>L.jsx(xi,{present:a||s.open,children:L.jsx(ib,{asChild:!0,container:r,children:i})}))})};h8.displayName=DC;var Uk="DialogOverlay",p8=F.forwardRef((t,e)=>{const a=d8(Uk,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,s=Go(Uk,t.__scopeDialog);return s.modal?L.jsx(xi,{present:n||s.open,children:L.jsx(ase,{...r,ref:e})}):null});p8.displayName=Uk;var ase=F.forwardRef((t,e)=>{const{__scopeDialog:a,...n}=t,r=Go(Uk,a);return L.jsx(IC,{as:rd,allowPinchZoom:!0,shards:[r.contentRef],children:L.jsx(ka.div,{"data-state":FC(r.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),sd="DialogContent",m8=F.forwardRef((t,e)=>{const a=d8(sd,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,s=Go(sd,t.__scopeDialog);return L.jsx(xi,{present:n||s.open,children:s.modal?L.jsx(nse,{...r,ref:e}):L.jsx(rse,{...r,ref:e})})});m8.displayName=sd;var nse=F.forwardRef((t,e)=>{const a=Go(sd,t.__scopeDialog),n=F.useRef(null),r=vn(e,a.contentRef,n);return F.useEffect(()=>{const s=n.current;if(s)return o8(s)},[]),L.jsx(g8,{...t,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(t.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=a.triggerRef.current)==null||i.focus()}),onPointerDownOutside:kt(t.onPointerDownOutside,s=>{const i=s.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&s.preventDefault()}),onFocusOutside:kt(t.onFocusOutside,s=>s.preventDefault())})}),rse=F.forwardRef((t,e)=>{const a=Go(sd,t.__scopeDialog),n=F.useRef(!1),r=F.useRef(!1);return L.jsx(g8,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,o;(i=t.onCloseAutoFocus)==null||i.call(t,s),s.defaultPrevented||(n.current||(o=a.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=s.target;((l=a.triggerRef.current)==null?void 0:l.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),g8=F.forwardRef((t,e)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,...i}=t,o=Go(sd,a),c=F.useRef(null),l=vn(e,c);return J6(),L.jsxs(L.Fragment,{children:[L.jsx(CC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:L.jsx(Cy,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":FC(o.open),...i,ref:l,onDismiss:()=>o.onOpenChange(!1)})}),L.jsxs(L.Fragment,{children:[L.jsx(sse,{titleId:o.titleId}),L.jsx(ose,{contentRef:c,descriptionId:o.descriptionId})]})]})}),PC="DialogTitle",y8=F.forwardRef((t,e)=>{const{__scopeDialog:a,...n}=t,r=Go(PC,a);return L.jsx(ka.h2,{id:r.titleId,...n,ref:e})});y8.displayName=PC;var v8="DialogDescription",x8=F.forwardRef((t,e)=>{const{__scopeDialog:a,...n}=t,r=Go(v8,a);return L.jsx(ka.p,{id:r.descriptionId,...n,ref:e})});x8.displayName=v8;var k8="DialogClose",w8=F.forwardRef((t,e)=>{const{__scopeDialog:a,...n}=t,r=Go(k8,a);return L.jsx(ka.button,{type:"button",...n,ref:e,onClick:kt(t.onClick,()=>r.onOpenChange(!1))})});w8.displayName=k8;function FC(t){return t?"open":"closed"}var b8="DialogTitleWarning",[eqe,_8]=Wne(b8,{contentName:sd,titleName:PC,docsSlug:"dialog"}),sse=({titleId:t})=>{const e=_8(b8),a=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return F.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},ise="DialogDescriptionWarning",ose=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_8(ise).contentName}}.`;return F.useEffect(()=>{var s;const r=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},A8=l8,N8=f8,S8=h8,cb=p8,lb=m8,ub=y8,fb=x8,T8=w8;const E8=A8,cse=N8,lse=S8,C8=F.forwardRef(({className:t,...e},a)=>L.jsx(cb,{className:sa("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80 data-[state=closed]:animate-out data-[state=open]:animate-in",t),...e,ref:a}));C8.displayName=cb.displayName;const use=Sy("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out dark:bg-neutral-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),OC=F.forwardRef(({side:t="right",className:e,children:a,...n},r)=>L.jsxs(lse,{children:[L.jsx(C8,{}),L.jsxs(lb,{ref:r,className:sa(use({side:t}),e),...n,children:[L.jsxs(T8,{className:"absolute top-4 right-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-neutral-100 dark:ring-offset-neutral-950 dark:data-[state=open]:bg-neutral-800 dark:focus:ring-neutral-300",children:[L.jsx(EC,{className:"h-4 w-4"}),L.jsx("span",{className:"sr-only",children:"Close"})]}),a]})]}));OC.displayName=lb.displayName;const I8=({className:t,...e})=>L.jsx("div",{className:sa("flex flex-col space-y-2 text-center sm:text-left",t),...e});I8.displayName="SheetHeader";const R8=F.forwardRef(({className:t,...e},a)=>L.jsx(ub,{ref:a,className:sa("font-semibold text-lg text-neutral-950 dark:text-neutral-50",t),...e}));R8.displayName=ub.displayName;const fse=F.forwardRef(({className:t,...e},a)=>L.jsx(fb,{ref:a,className:sa("text-neutral-500 text-sm dark:text-neutral-400",t),...e}));fse.displayName=fb.displayName;const dse=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_001_EN.webp","hp":"70","name":"Bulbasaur","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #1","rarity":""},{"version":"Genetic Apex #227","rarity":""},{"version":"Promo-A #23","rarity":""}],"artist":"Narumi Sato","crafting_cost":35},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_002_EN.webp","hp":"90","name":"Ivysaur","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Razor Leaf","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #2","rarity":""}],"artist":"Kurata So","crafting_cost":70},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_003_EN.webp","hp":"160","name":"Venusaur","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Mega Drain","damage":"80","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #3","rarity":""},{"version":"Promo-A #18","rarity":""}],"artist":"Ryota Murayama","crafting_cost":150},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_004_EN.webp","hp":"190","name":"Venusaur ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Razor Leaf","damage":"60","effect":"No effect"},{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Giant Bloom","damage":"100","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #4","rarity":""},{"version":"Genetic Apex #251","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_005_EN.webp","hp":"50","name":"Caterpie","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Find a","damage":"Friend","effect":"Put 1 random [G] Pokmon from your deck into your hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #5","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_006_EN.webp","hp":"80","name":"Metapod","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Bug Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #6","rarity":""}],"artist":"Yuka Morii","crafting_cost":35},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_007_EN.webp","hp":"120","name":"Butterfree","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Gust","damage":"60","effect":"No effect"}],"ability":{"name":"Powder Heal","effect":"Once during your turn, you may heal 20 damage from each of your Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #7","rarity":""},{"version":"Promo-A #13","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":150},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_008_EN.webp","hp":"50","name":"Weedle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Sting","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #8","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":35},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_009_EN.webp","hp":"80","name":"Kakuna","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Bug Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #9","rarity":""}],"artist":"miki kudo","crafting_cost":35},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_010_EN.webp","hp":"120","name":"Beedrill","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass"],"name":"Sharp Sting","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #10","rarity":""}],"artist":"You Iribi","crafting_cost":150},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_011_EN.webp","hp":"60","name":"Oddish","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Ram","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #11","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":35},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_012_EN.webp","hp":"80","name":"Gloom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Drool","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #12","rarity":""},{"version":"Genetic Apex #228","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":70},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_013_EN.webp","hp":"140","name":"Vileplume","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Soothing Scent","damage":"80","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #13","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":150},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_014_EN.webp","hp":"70","name":"Paras","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Scratch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #14","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_015_EN.webp","hp":"120","name":"Parasect","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Slash","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #15","rarity":""}],"artist":"Eri Yamaki","crafting_cost":70},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_016_EN.webp","hp":"60","name":"Venonat","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #16","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":35},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_017_EN.webp","hp":"80","name":"Venomoth","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Poison Powder","damage":"30","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #17","rarity":""}],"artist":"Mina Nakai","crafting_cost":70},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_018_EN.webp","hp":"60","name":"Bellsprout","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Vine Whip","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #18","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":35},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_019_EN.webp","hp":"90","name":"Weepinbell","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Razor Leaf","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #19","rarity":""}],"artist":"Miki Tanaka","crafting_cost":70},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_020_EN.webp","hp":"140","name":"Victreebel","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"60","effect":"No effect"}],"ability":{"name":"Fragrance Trap","effect":"If this Pokmon is in the Active Spot, once during your turn, you may switch in 1 of your opponent's Benched Basic Pokmon to the Active Spot."},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #20","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":150},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_021_EN.webp","hp":"50","name":"Exeggcute","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Seed Bomb","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #21","rarity":""}],"artist":"kawayoo","crafting_cost":35},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_022_EN.webp","hp":"130","name":"Exeggutor","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Stomp","damage":"30+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #22","rarity":""}],"artist":"Yukiko Baba","crafting_cost":150},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_023_EN.webp","hp":"160","name":"Exeggutor ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Tropical Swing","damage":"40+","effect":"Flip a coin. If heads, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #23","rarity":""},{"version":"Genetic Apex #252","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_024_EN.webp","hp":"80","name":"Tangela","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Absorb","damage":"40","effect":"Heal 10 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #24","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_025_EN.webp","hp":"70","name":"Scyther","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Sharp Scythe","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #25","rarity":""}],"artist":"Hasuno","crafting_cost":35},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_026_EN.webp","hp":"90","name":"Pinsir","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Grass"],"name":"Double Horn","damage":"50x","effect":"Flip 2 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #26","rarity":""},{"version":"Genetic Apex #229","rarity":""}],"artist":"Eri Yamaki","crafting_cost":70},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_027_EN.webp","hp":"50","name":"Cottonee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Attach","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #27","rarity":""}],"artist":"Kanako Eo","crafting_cost":35},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_028_EN.webp","hp":"80","name":"Whimsicott","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Rolling Tackle","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #28","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":70},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_029_EN.webp","hp":"60","name":"Petilil","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Blot","damage":"10","effect":"Heal 10 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #29","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_030_EN.webp","hp":"100","name":"Lilligant","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Leaf Supply","damage":"50","effect":"Take a [G] Energy from your Energy Zone and attach it to 1 of your Benched [G] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #30","rarity":""}],"artist":"You Iribi","crafting_cost":70},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_031_EN.webp","hp":"70","name":"Skiddo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Surprise Attack","damage":"40","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #31","rarity":""}],"artist":"Naoki Saito","crafting_cost":35},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_032_EN.webp","hp":"120","name":"Gogoat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Razor Leaf","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #32","rarity":""}],"artist":"You Iribi","crafting_cost":35},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_033_EN.webp","hp":"60","name":"Charmander","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Ember","damage":"30","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #33","rarity":""},{"version":"Genetic Apex #230","rarity":""},{"version":"Promo-A #32","rarity":""}],"artist":"Teeziro","crafting_cost":35},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_034_EN.webp","hp":"90","name":"Charmeleon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Fire Claws","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #34","rarity":""}],"artist":"kantaro","crafting_cost":70},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_035_EN.webp","hp":"150","name":"Charizard","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Fire Spin","damage":"150","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #35","rarity":""}],"artist":"takuyoa","crafting_cost":150},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_036_EN.webp","hp":"180","name":"Charizard ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Slash","damage":"60","effect":"No effect"},{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Crimson Storm","damage":"200","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #36","rarity":""},{"version":"Genetic Apex #253","rarity":""},{"version":"Genetic Apex #280","rarity":""},{"version":"Genetic Apex #284","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":500},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_037_EN.webp","hp":"50","name":"Vulpix","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tail","damage":"Whip","effect":"Flip a coin. If heads, the Defending Pokmon can't attack during your opponent's next turn."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #37","rarity":""}],"artist":"Toshinao Aoki","crafting_cost":35},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_038_EN.webp","hp":"90","name":"Ninetales","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire"],"name":"Flamethrower","damage":"90","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #38","rarity":""}],"artist":"You Iribi","crafting_cost":70},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_039_EN.webp","hp":"70","name":"Growlithe","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #39","rarity":""}],"artist":"Mizue","crafting_cost":35},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_040_EN.webp","hp":"130","name":"Arcanine","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Heat Tackle","damage":"100","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #40","rarity":""}],"artist":"kodama","crafting_cost":150},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_041_EN.webp","hp":"150","name":"Arcanine ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Inferno Onrush","damage":"120","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #41","rarity":""},{"version":"Genetic Apex #254","rarity":""}],"artist":"PLANETA Saito","crafting_cost":500},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_042_EN.webp","hp":"60","name":"Ponyta","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Flare","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #42","rarity":""}],"artist":"Uta","crafting_cost":35},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_043_EN.webp","hp":"100","name":"Rapidash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire"],"name":"Fire Mane","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #43","rarity":""},{"version":"Genetic Apex #231","rarity":""}],"artist":"Misa Tsutsui","crafting_cost":70},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_044_EN.webp","hp":"80","name":"Magmar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Fire"],"name":"Magma Punch","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #44","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":35},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_045_EN.webp","hp":"120","name":"Flareon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Flamethrower","damage":"110","effect":"Discard 1 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #45","rarity":""}],"artist":"sui","crafting_cost":150},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_046_EN.webp","hp":"100","name":"Moltres","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Sky Attack","damage":"130","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #46","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_047_EN.webp","hp":"140","name":"Moltres ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Inferno","damage":"Dance","effect":"Flip 3 coins. Take an amount of [R] Energy from your Energy Zone equal to the number of heads and attach it to your Benched [R] Pokmon in any way you like."},{"cost":["Fire","Colorless","Colorless"],"name":"Heat Blast","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #47","rarity":""},{"version":"Genetic Apex #255","rarity":""},{"version":"Genetic Apex #274","rarity":""},{"version":"Promo-A #25","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_048_EN.webp","hp":"80","name":"Heatmor","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Combustion","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #48","rarity":""}],"artist":"Suwama Chiaki","crafting_cost":35},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_049_EN.webp","hp":"60","name":"Salandit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Scratch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #49","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"50","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_050_EN.webp","hp":"90","name":"Salazzle","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Fire Claws","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #50","rarity":""}],"artist":"hatachu","crafting_cost":35},{"id":"51","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_051_EN.webp","hp":"60","name":"Sizzlipede","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gnaw","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #51","rarity":""}],"artist":"Teeziro","crafting_cost":35},{"id":"52","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_052_EN.webp","hp":"130","name":"Centiskorch","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless","Colorless","Colorless"],"name":"Fire Blast","damage":"130","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #52","rarity":""}],"artist":"GOSSAN","crafting_cost":70},{"id":"53","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_053_EN.webp","hp":"60","name":"Squirtle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #53","rarity":""},{"version":"Genetic Apex #232","rarity":""},{"version":"Promo-A #33","rarity":""}],"artist":"Mizue","crafting_cost":35},{"id":"54","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_054_EN.webp","hp":"80","name":"Wartortle","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Wave Splash","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #54","rarity":""}],"artist":"Nelnal","crafting_cost":70},{"id":"55","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_055_EN.webp","hp":"150","name":"Blastoise","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless"],"name":"Hydro Pump","damage":"80+","effect":"If this Pokmon has at least 2 extra [W] Energy attached, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #55","rarity":""},{"version":"Promo-A #29","rarity":""}],"artist":"Nurikabe","crafting_cost":150},{"id":"56","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_056_EN.webp","hp":"180","name":"Blastoise ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless"],"name":"Surf","damage":"40","effect":"No effect"},{"cost":["Water","Water","Colorless"],"name":"Hydro Bazooka","damage":"100+","effect":"If this Pokmon has at least 2 extra [W] Energy attached, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #56","rarity":""},{"version":"Genetic Apex #256","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"57","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_057_EN.webp","hp":"60","name":"Psyduck","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Headache","damage":"10","effect":"Your opponent can't use any Supporter cards from their hand during their next turn."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #57","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"58","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_058_EN.webp","hp":"90","name":"Golduck","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Aqua Edge","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #58","rarity":""}],"artist":"Naoki Saito","crafting_cost":70},{"id":"59","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_059_EN.webp","hp":"60","name":"Poliwag","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Razor Fin","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #59","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"60","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_060_EN.webp","hp":"90","name":"Poliwhirl","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Knuckle Punch","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #60","rarity":""}],"artist":"Yuka Morii","crafting_cost":70},{"id":"61","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_061_EN.webp","hp":"150","name":"Poliwrath","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Mega Punch","damage":"80","effect":"No effect"}],"ability":{"name":"Counterattack","effect":"If this Pokmon is in the Active Spot and is damaged by an attack from your opponent's Pokmon, do 20 damage to the attacking Pokmon."},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #61","rarity":""}],"artist":"Akira Komayama","crafting_cost":150},{"id":"62","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_062_EN.webp","hp":"60","name":"Tentacool","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Gentle Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #62","rarity":""}],"artist":"Shinya Komatsu","crafting_cost":35},{"id":"63","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_063_EN.webp","hp":"110","name":"Tentacruel","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Poison Tentacles","damage":"50","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #63","rarity":""}],"artist":"kodama","crafting_cost":70},{"id":"64","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_064_EN.webp","hp":"80","name":"Seel","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Headbutt","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #64","rarity":""}],"artist":"Masako Yamashita","crafting_cost":35},{"id":"65","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_065_EN.webp","hp":"120","name":"Dewgong","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water"],"name":"Surf","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #65","rarity":""}],"artist":"Kanako Eo","crafting_cost":70},{"id":"66","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_066_EN.webp","hp":"60","name":"Shellder","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Tongue Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #66","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":35},{"id":"67","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_067_EN.webp","hp":"120","name":"Cloyster","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Surf","damage":"70","effect":"No effect"}],"ability":{"name":"Shell Armor","effect":"This Pokmon takes -10 damage from attacks."},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #67","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":70},{"id":"68","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_068_EN.webp","hp":"70","name":"Krabby","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Vise Grip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #68","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":35},{"id":"69","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_069_EN.webp","hp":"120","name":"Kingler","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"KO Crab","damage":"80+","effect":"Flip 2 coins. If both of them are heads, this attack does 80 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #69","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":70},{"id":"70","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_070_EN.webp","hp":"60","name":"Horsea","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #70","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":35},{"id":"71","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_071_EN.webp","hp":"70","name":"Seadra","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water"],"name":"Water","damage":"Arrow","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #71","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":70},{"id":"72","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_072_EN.webp","hp":"60","name":"Goldeen","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Flop","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #72","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"73","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_073_EN.webp","hp":"100","name":"Seaking","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Horn Hazard","damage":"80","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #73","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"74","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_074_EN.webp","hp":"50","name":"Staryu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Smack","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #74","rarity":""}],"artist":"Hiroki Asanuma","crafting_cost":35},{"id":"75","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_075_EN.webp","hp":"90","name":"Starmie","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Wave Splash","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #75","rarity":""}],"artist":"Yukiko Baba","crafting_cost":70},{"id":"76","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_076_EN.webp","hp":"130","name":"Starmie ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Hydro Splash","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #76","rarity":""},{"version":"Genetic Apex #257","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":500},{"id":"77","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_077_EN.webp","hp":"30","name":"Magikarp","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Splash","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #77","rarity":""}],"artist":"Sekio","crafting_cost":35},{"id":"78","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_078_EN.webp","hp":"150","name":"Gyarados","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Water"],"name":"Hyper Beam","damage":"100","effect":"Discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #78","rarity":""},{"version":"Genetic Apex #233","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":150},{"id":"79","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_079_EN.webp","hp":"100","name":"Lapras","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Hydro Pump","damage":"20+","effect":"If this Pokmon has at least 3 extra [W] Energy attached, this attack does 70 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #79","rarity":""},{"version":"Genetic Apex #234","rarity":""}],"artist":"Sekio","crafting_cost":150},{"id":"80","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_080_EN.webp","hp":"130","name":"Vaporeon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Bubble Drain","damage":"60","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #80","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":150},{"id":"81","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_081_EN.webp","hp":"90","name":"Omanyte","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #81","rarity":""}],"artist":"Suwama Chiaki","crafting_cost":70},{"id":"82","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_082_EN.webp","hp":"140","name":"Omastar","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Ancient Whirlpool","damage":"70","effect":"During your opponent's next turn, the Defending Pokmon can't attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #82","rarity":""}],"artist":"kirisAki","crafting_cost":150},{"id":"83","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_083_EN.webp","hp":"100","name":"Articuno","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water","Colorless"],"name":"Ice Beam","damage":"60","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #83","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"84","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_084_EN.webp","hp":"140","name":"Articuno ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Ice Wing","damage":"40","effect":"No effect"},{"cost":["Water","Water","Water"],"name":"Blizzard","damage":"80","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #84","rarity":""},{"version":"Genetic Apex #258","rarity":""},{"version":"Genetic Apex #275","rarity":""}],"artist":"PLANETA Saito","crafting_cost":500},{"id":"85","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_085_EN.webp","hp":"50","name":"Ducklett","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Flap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #85","rarity":""}],"artist":"Yumi","crafting_cost":35},{"id":"86","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_086_EN.webp","hp":"90","name":"Swanna","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Wing Attack","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #86","rarity":""}],"artist":"sui","crafting_cost":70},{"id":"87","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_087_EN.webp","hp":"60","name":"Froakie","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Flop","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #87","rarity":""}],"artist":"Aya Kusube","crafting_cost":35},{"id":"88","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_088_EN.webp","hp":"80","name":"Frogadier","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Water Drip","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #88","rarity":""}],"artist":"Akira Komayama","crafting_cost":70},{"id":"89","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_089_EN.webp","hp":"120","name":"Greninja","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless"],"name":"Mist Slash","damage":"60","effect":"No effect"}],"ability":{"name":"Water Shuriken","effect":"Once during your turn, you may do 20 damage to 1 of your opponent's Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #89","rarity":""},{"version":"Promo-A #19","rarity":""}],"artist":"5ban Graphics","crafting_cost":150},{"id":"90","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_090_EN.webp","hp":"70","name":"Pyukumuku","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Rain Splash","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #90","rarity":""}],"artist":"OOYAMA","crafting_cost":35},{"id":"91","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_091_EN.webp","hp":"90","name":"Bruxish","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Second Strike","damage":"10+","effect":"If your opponent's Active Pokmon has damage on it, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #91","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"92","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_092_EN.webp","hp":"50","name":"Snom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Ram","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #92","rarity":""}],"artist":"ryoma uratsuka","crafting_cost":35},{"id":"93","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_093_EN.webp","hp":"90","name":"Frosmoth","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Powder Snow","damage":"40","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #93","rarity":""}],"artist":"aoki","crafting_cost":70},{"id":"94","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_094_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #94","rarity":""},{"version":"Promo-A #9","rarity":""},{"version":"Promo-A #15","rarity":""},{"version":"Promo-A #26","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":35},{"id":"95","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_095_EN.webp","hp":"100","name":"Raichu","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning","Lightning"],"name":"Thunderbolt","damage":"140","effect":"Discard all Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #95","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":150},{"id":"96","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_096_EN.webp","hp":"120","name":"Pikachu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Circle Circuit","damage":"30x","effect":"This attack does 30 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #96","rarity":""},{"version":"Genetic Apex #259","rarity":""},{"version":"Genetic Apex #281","rarity":""},{"version":"Genetic Apex #285","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"97","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_097_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Lightning Ball","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #97","rarity":""},{"version":"Promo-A #24","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"98","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_098_EN.webp","hp":"80","name":"Magneton","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Colorless","Colorless","Colorless"],"name":"Spinning Attack","damage":"60","effect":"No effect"}],"ability":{"name":"Volt Charge","effect":"Once during your turn, you may take a  Energy from your Energy Zone and attach it to this Pokmon."},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #98","rarity":""}],"artist":"kirisAki","crafting_cost":150},{"id":"99","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_099_EN.webp","hp":"60","name":"Voltorb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #99","rarity":""}],"artist":"SATOSHI NAKAI","crafting_cost":35},{"id":"100","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_100_EN.webp","hp":"80","name":"Electrode","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Electro Ball","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #100","rarity":""},{"version":"Genetic Apex #235","rarity":""}],"artist":"Asako Ito","crafting_cost":70},{"id":"101","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_101_EN.webp","hp":"70","name":"Electabuzz","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Thunder Punch","damage":"40+","effect":"Flip a coin. If heads, this attack does 40 more damage. If tails, this Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #101","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":35},{"id":"102","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_102_EN.webp","hp":"90","name":"Jolteon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Colorless"],"name":"Pin Missile","damage":"40x","effect":"Flip 4 coins. This attack does 40 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #102","rarity":""}],"artist":"Kouki Saitou","crafting_cost":150},{"id":"103","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_103_EN.webp","hp":"100","name":"Zapdos","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning","Colorless"],"name":"Raging Thunder","damage":"100","effect":"This attack also does 30 damage to 1 of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #103","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"104","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_104_EN.webp","hp":"130","name":"Zapdos ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Peck","damage":"20","effect":"No effect"},{"cost":["Lightning","Lightning","Lightning"],"name":"Thundering Hurricane","damage":"50x","effect":"Flip 4 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #104","rarity":""},{"version":"Genetic Apex #260","rarity":""},{"version":"Genetic Apex #276","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"105","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_105_EN.webp","hp":"60","name":"Blitzle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Zap Kick","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #105","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"106","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_106_EN.webp","hp":"90","name":"Zebstrika","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning"],"name":"Thunder","damage":"Spear","effect":"This attack does 30 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #106","rarity":""}],"artist":"Misa Tsutsui","crafting_cost":70},{"id":"107","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_107_EN.webp","hp":"30","name":"Tynamo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Tiny Charge","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #107","rarity":""}],"artist":"Asako Ito","crafting_cost":35},{"id":"108","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_108_EN.webp","hp":"80","name":"Eelektrik","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning"],"name":"Head Bolt","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #108","rarity":""}],"artist":"Midori Harada","crafting_cost":70},{"id":"109","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_109_EN.webp","hp":"140","name":"Eelektross","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Lightning","Lightning","Colorless"],"name":"Thunder Fang","damage":"80","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #109","rarity":""}],"artist":"hatachu","crafting_cost":150},{"id":"110","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_110_EN.webp","hp":"60","name":"Helioptile","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Tail Whap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #110","rarity":""}],"artist":"5ban Graphics","crafting_cost":35},{"id":"111","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_111_EN.webp","hp":"90","name":"Heliolisk","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Quick Attack","damage":"40+","effect":"Flip a coin. If heads, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #111","rarity":""}],"artist":"otumami","crafting_cost":35},{"id":"112","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_112_EN.webp","hp":"70","name":"Pincurchin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Thunder Shock","damage":"30","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #112","rarity":""}],"artist":"Tika Matsuno","crafting_cost":70},{"id":"113","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_113_EN.webp","hp":"60","name":"Clefairy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #113","rarity":""},{"version":"Promo-A #16","rarity":""}],"artist":"kirisAki","crafting_cost":35},{"id":"114","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_114_EN.webp","hp":"100","name":"Clefable","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Magical Shot","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #114","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":70},{"id":"115","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_115_EN.webp","hp":"60","name":"Abra","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Teleport","effect":"Switch this Pokmon with 1 of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #115","rarity":""}],"artist":"Aya Kusube","crafting_cost":35},{"id":"116","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_116_EN.webp","hp":"80","name":"Kadabra","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Super Psy Bolt","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #116","rarity":""}],"artist":"Ken Sugimori","crafting_cost":70},{"id":"117","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_117_EN.webp","hp":"130","name":"Alakazam","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Psychic","damage":"60+","effect":"This attack does 30 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #117","rarity":""},{"version":"Genetic Apex #236","rarity":""}],"artist":"Kouki Saitou","crafting_cost":150},{"id":"118","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_118_EN.webp","hp":"70","name":"Slowpoke","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Tail Whap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #118","rarity":""},{"version":"Genetic Apex #237","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"119","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_119_EN.webp","hp":"130","name":"Slowbro","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Super Psy Bolt","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #119","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"120","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_120_EN.webp","hp":"60","name":"Gastly","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Suffocating Gas","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #120","rarity":""}],"artist":"Masako Yamashita","crafting_cost":35},{"id":"121","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_121_EN.webp","hp":"80","name":"Haunter","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Will-O-Wisp","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #121","rarity":""}],"artist":"Nisata Niso","crafting_cost":70},{"id":"122","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_122_EN.webp","hp":"130","name":"Gengar","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic"],"name":"Bother","damage":"50","effect":"Your opponent can't use any Supporter cards from their hand during their next turn."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #122","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":150},{"id":"123","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_123_EN.webp","hp":"170","name":"Gengar ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Spooky Shot","damage":"100","effect":"No effect"}],"ability":{"name":"Shadowy Spellbind","effect":"As long as this Pokmon is in the Active Spot, your opponent can't use any Supporter cards from their hand."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #123","rarity":""},{"version":"Genetic Apex #261","rarity":""},{"version":"Genetic Apex #277","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"124","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_124_EN.webp","hp":"70","name":"Drowzee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Mumble","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #124","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"125","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_125_EN.webp","hp":"100","name":"Hypno","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Psypunch","damage":"50","effect":"No effect"}],"ability":{"name":"Sleep Pendulum","effect":"Once during your turn, you may flip a coin. If heads, your opponent's Active Pokmon is now Asleep."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #125","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":150},{"id":"126","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_126_EN.webp","hp":"80","name":"Mr. Mime","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Barrier Attack","damage":"30","effect":"During your opponent's next turn, this Pokmon takes -20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #126","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"127","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_127_EN.webp","hp":"80","name":"Jynx","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic","damage":"30+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #127","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":35},{"id":"128","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_128_EN.webp","hp":"120","name":"Mewtwo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Power Blast","damage":"120","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #128","rarity":""},{"version":"Promo-A #10","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"129","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_129_EN.webp","hp":"150","name":"Mewtwo ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic Sphere","damage":"50","effect":"No effect"},{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Psydrive","damage":"150","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #129","rarity":""},{"version":"Genetic Apex #262","rarity":""},{"version":"Genetic Apex #282","rarity":""},{"version":"Genetic Apex #286","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":500},{"id":"130","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_130_EN.webp","hp":"60","name":"Ralts","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Ram","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #130","rarity":""}],"artist":"Yuka Morii","crafting_cost":35},{"id":"131","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_131_EN.webp","hp":"80","name":"Kirlia","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless"],"name":"Smack","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #131","rarity":""}],"artist":"sowsow","crafting_cost":70},{"id":"132","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_132_EN.webp","hp":"110","name":"Gardevoir","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Psyshot","damage":"60","effect":"No effect"}],"ability":{"name":"Psy Shadow","effect":"Once during your turn, you may take 1  Energy from your Energy Zone and attach it to the  Pokmon in the Active Spot."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #132","rarity":""}],"artist":"Yuu Nishida","crafting_cost":150},{"id":"133","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_133_EN.webp","hp":"60","name":"Woobat","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gnaw","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #133","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"134","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_134_EN.webp","hp":"90","name":"Swoobat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless"],"name":"Heart Stamp","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #134","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":35},{"id":"135","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_135_EN.webp","hp":"90","name":"Golett","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Mega Punch","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #135","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"136","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_136_EN.webp","hp":"140","name":"Golurk","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Double Lariat","damage":"100x","effect":"Flip 2 coins. This attack does 100 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #136","rarity":""}],"artist":"match","crafting_cost":70},{"id":"137","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_137_EN.webp","hp":"70","name":"Sandshrew","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Scratch","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #137","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"138","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_138_EN.webp","hp":"100","name":"Sandslash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Slash","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #138","rarity":""}],"artist":"Miki Tanaka","crafting_cost":70},{"id":"139","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_139_EN.webp","hp":"50","name":"Diglett","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Mud-Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #139","rarity":""},{"version":"Genetic Apex #238","rarity":""}],"artist":"Masako Yamashita","crafting_cost":35},{"id":"140","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_140_EN.webp","hp":"70","name":"Dugtrio","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Dig","damage":"40","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #140","rarity":""}],"artist":"Akira Komayama","crafting_cost":70},{"id":"141","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_141_EN.webp","hp":"60","name":"Mankey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Low Kick","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #141","rarity":""}],"artist":"Kanako Eo","crafting_cost":35},{"id":"142","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_142_EN.webp","hp":"90","name":"Primeape","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Fight Back","damage":"40+","effect":"If this Pokmon has damage on it, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #142","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"143","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_143_EN.webp","hp":"70","name":"Machop","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Knuckle Punch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #143","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"144","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_144_EN.webp","hp":"100","name":"Machoke","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Strength","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #144","rarity":""}],"artist":"match","crafting_cost":70},{"id":"145","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_145_EN.webp","hp":"150","name":"Machamp","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Seismic Toss","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #145","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"146","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_146_EN.webp","hp":"180","name":"Machamp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Mega Punch","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #146","rarity":""},{"version":"Genetic Apex #263","rarity":""},{"version":"Genetic Apex #278","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"147","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_147_EN.webp","hp":"70","name":"Geodude","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #147","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"148","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_148_EN.webp","hp":"100","name":"Graveler","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless","Colorless"],"name":"Rollout","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #148","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":70},{"id":"149","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_149_EN.webp","hp":"160","name":"Golem","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Colorless","Colorless","Colorless"],"name":"Double-Edge","damage":"150","effect":"This Pokmon also does 50 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #149","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":150},{"id":"150","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_150_EN.webp","hp":"110","name":"Onix","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Land Crush","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #150","rarity":""},{"version":"Promo-A #21","rarity":""}],"artist":"otumami","crafting_cost":70},{"id":"151","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_151_EN.webp","hp":"60","name":"Cubone","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Growl","effect":"During your opponent's next turn, attacks used by the Defending Pokmon do -20 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #151","rarity":""},{"version":"Genetic Apex #239","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"152","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_152_EN.webp","hp":"100","name":"Marowak","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Bone Beatdown","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #152","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":70},{"id":"153","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_153_EN.webp","hp":"140","name":"Marowak ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Bonemerang","damage":"80x","effect":"Flip 2 coins. This attack does 80 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #153","rarity":""},{"version":"Genetic Apex #264","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":500},{"id":"154","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_154_EN.webp","hp":"80","name":"Hitmonlee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Stretch","damage":"Kick","effect":"This attack does 30 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #154","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"155","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_155_EN.webp","hp":"80","name":"Hitmonchan","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Jab","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #155","rarity":""}],"artist":"Ken Sugimori","crafting_cost":35},{"id":"156","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_156_EN.webp","hp":"80","name":"Rhyhorn","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Tackle","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #156","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"157","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_157_EN.webp","hp":"120","name":"Rhydon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Horn Drill","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #157","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"158","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_158_EN.webp","hp":"90","name":"Kabuto","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Shell Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #158","rarity":""}],"artist":"sui","crafting_cost":70},{"id":"159","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_159_EN.webp","hp":"140","name":"Kabutops","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Leech Life","damage":"50","effect":"Heal from this Pokmon the same amount of damage you did to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #159","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":150},{"id":"160","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_160_EN.webp","hp":"60","name":"Mienfoo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pound","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #160","rarity":""}],"artist":"match","crafting_cost":35},{"id":"161","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_161_EN.webp","hp":"80","name":"Mienshao","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Spiral Kick","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #161","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":70},{"id":"162","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_162_EN.webp","hp":"80","name":"Clobbopus","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Knuckle Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #162","rarity":""}],"artist":"Yuu Nishida","crafting_cost":35},{"id":"163","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_163_EN.webp","hp":"130","name":"Grapploct","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Knock Back","damage":"70","effect":"Switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #163","rarity":""}],"artist":"kurumitsu","crafting_cost":70},{"id":"164","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_164_EN.webp","hp":"60","name":"Ekans","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #164","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"165","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_165_EN.webp","hp":"100","name":"Arbok","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Colorless"],"name":"Corner","damage":"60","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #165","rarity":""}],"artist":"Naoki Saito","crafting_cost":70},{"id":"166","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_166_EN.webp","hp":"60","name":"Nidoran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Call for","damage":"Family","effect":"Put 1 random Nidoran from your deck onto your Bench."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #166","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"167","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_167_EN.webp","hp":"80","name":"Nidorina","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #167","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"168","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_168_EN.webp","hp":"140","name":"Nidoqueen","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Lovestrike","damage":"80+","effect":"This attack does 50 more damage for each of your Benched Nidoking."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #168","rarity":""},{"version":"Genetic Apex #240","rarity":""}],"artist":"nagimiso","crafting_cost":150},{"id":"169","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_169_EN.webp","hp":"60","name":"Nidoran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #169","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"170","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_170_EN.webp","hp":"90","name":"Nidorino","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Colorless"],"name":"Horn Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #170","rarity":""}],"artist":"Kouki Saitou","crafting_cost":70},{"id":"171","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_171_EN.webp","hp":"150","name":"Nidoking","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Poison Horn","damage":"90","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #171","rarity":""},{"version":"Genetic Apex #241","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"172","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_172_EN.webp","hp":"50","name":"Zubat","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Glide","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #172","rarity":""}],"artist":"match","crafting_cost":35},{"id":"173","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_173_EN.webp","hp":"70","name":"Golbat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Wing Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #173","rarity":""},{"version":"Genetic Apex #242","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"174","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_174_EN.webp","hp":"70","name":"Grimer","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Poison Gas","damage":"10","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #174","rarity":""}],"artist":"Pani Kobayashi","crafting_cost":35},{"id":"175","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_175_EN.webp","hp":"130","name":"Muk","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Venoshock","damage":"70+","effect":"If your opponent's Active Pokmon is Poisoned, this attack does 50 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #175","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":150},{"id":"176","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_176_EN.webp","hp":"70","name":"Koffing","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Suffocating Gas","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #176","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":35},{"id":"177","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_177_EN.webp","hp":"110","name":"Weezing","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Tackle","damage":"30","effect":"No effect"}],"ability":{"name":"Gas Leak","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may make your opponent's Active Pokmon Poisoned."},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #177","rarity":""},{"version":"Genetic Apex #243","rarity":""}],"artist":"OOYAMA","crafting_cost":150},{"id":"178","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_178_EN.webp","hp":"70","name":"Mawile","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Crunch","damage":"20","effect":"Flip a coin. If heads, discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #178","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"179","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_179_EN.webp","hp":"50","name":"Pawniard","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Pierce","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #179","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"180","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_180_EN.webp","hp":"90","name":"Bisharp","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal"],"name":"Metal Claw","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #180","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":70},{"id":"181","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_181_EN.webp","hp":"60","name":"Meltan","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Unknown","damage":"Amass","effect":"Take 1 [M] Energy from your Energy Zone and attach it to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #181","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"182","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_182_EN.webp","hp":"130","name":"Melmetal","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Metal","Colorless"],"name":"Heavy Impact","damage":"120","effect":"No effect"}],"ability":{"name":"Hard Coat","effect":"This Pokmon takes -20 damage from attacks."},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #182","rarity":""}],"artist":"Kouki Saitou","crafting_cost":150},{"id":"183","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_183_EN.webp","hp":"70","name":"Dratini","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Lightning"],"name":"Ram","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #183","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":35},{"id":"184","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_184_EN.webp","hp":"100","name":"Dragonair","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Lightning","Colorless"],"name":"Tail Smack","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #184","rarity":""}],"artist":"kirisAki","crafting_cost":70},{"id":"185","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_185_EN.webp","hp":"160","name":"Dragonite","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Lightning","Colorless","Colorless"],"name":"Draco","damage":"Meteor","effect":"1 of your opponent's Pokmon is chosen at random 4 times. For each time a Pokmon was chosen, do 50 damage to it."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #185","rarity":""},{"version":"Genetic Apex #244","rarity":""}],"artist":"Hiroyuki Yamamoto","crafting_cost":150},{"id":"186","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_186_EN.webp","hp":"60","name":"Pidgey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gust","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #186","rarity":""}],"artist":"Scav","crafting_cost":35},{"id":"187","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_187_EN.webp","hp":"80","name":"Pidgeotto","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Gust","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #187","rarity":""}],"artist":"Scav","crafting_cost":35},{"id":"188","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_188_EN.webp","hp":"130","name":"Pidgeot","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless"],"name":"Wing Attack","damage":"70","effect":"No effect"}],"ability":{"name":"Drive Off","effect":"Once during your turn, you may switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #188","rarity":""},{"version":"Genetic Apex #245","rarity":""}],"artist":"Scav","crafting_cost":150},{"id":"189","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_189_EN.webp","hp":"40","name":"Rattata","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #189","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":35},{"id":"190","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_190_EN.webp","hp":"80","name":"Raticate","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Bite","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #190","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":35},{"id":"191","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_191_EN.webp","hp":"60","name":"Spearow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #191","rarity":""}],"artist":"Shiburingaru","crafting_cost":35},{"id":"192","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_192_EN.webp","hp":"100","name":"Fearow","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Drill Run","damage":"50","effect":"Flip a coin. If heads, discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #192","rarity":""}],"artist":"Satoshi Shirai","crafting_cost":35},{"id":"193","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_193_EN.webp","hp":"60","name":"Jigglypuff","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Pound","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #193","rarity":""}],"artist":"Mizue","crafting_cost":35},{"id":"194","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_194_EN.webp","hp":"100","name":"Wigglytuff","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Hyper Voice","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #194","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"195","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_195_EN.webp","hp":"140","name":"Wigglytuff ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Sleepy Song","damage":"80","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #195","rarity":""},{"version":"Genetic Apex #265","rarity":""},{"version":"Genetic Apex #279","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":500},{"id":"196","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_196_EN.webp","hp":"60","name":"Meowth","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pay Day","damage":"10","effect":"Draw 1 card."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #196","rarity":""},{"version":"Genetic Apex #246","rarity":""},{"version":"Promo-A #12","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":35},{"id":"197","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_197_EN.webp","hp":"90","name":"Persian","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Shadow Claw","damage":"40","effect":"Flip a coin. If heads, discard a random card from your opponent's hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #197","rarity":""}],"artist":"nagimiso","crafting_cost":70},{"id":"198","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_198_EN.webp","hp":"60","name":"Farfetch'd","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Leek Slap","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #198","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"199","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_199_EN.webp","hp":"60","name":"Doduo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #199","rarity":""}],"artist":"Yuya Oka","crafting_cost":35},{"id":"200","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_200_EN.webp","hp":"80","name":"Dodrio","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Drill Peck","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #200","rarity":""}],"artist":"Miki Tanaka","crafting_cost":70},{"id":"201","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_201_EN.webp","hp":"90","name":"Lickitung","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Continuous Lick","damage":"60x","effect":"Flip a coin until you get tails. This attack does 60 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #201","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"202","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_202_EN.webp","hp":"120","name":"Chansey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Gentle Slap","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #202","rarity":""},{"version":"Promo-A #11","rarity":""}],"artist":"MAHOU","crafting_cost":70},{"id":"203","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_203_EN.webp","hp":"100","name":"Kangaskhan","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Dizzy Punch","damage":"30x","effect":"Flip 2 coins. This attack does 30 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #203","rarity":""}],"artist":"Ken Sugimori","crafting_cost":150},{"id":"204","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_204_EN.webp","hp":"100","name":"Tauros","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Horn Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #204","rarity":""}],"artist":"kodama","crafting_cost":70},{"id":"205","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_205_EN.webp","hp":"70","name":"Ditto","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Copy","damage":"Anything","effect":"Choose 1 of your opponent's Pokmon's attacks and use it as this attack. If this Pokmon doesn't have the necessary Energy to use that attack, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #205","rarity":""},{"version":"Genetic Apex #247","rarity":""}],"artist":"Miki Tanaka","crafting_cost":150},{"id":"206","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_206_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #206","rarity":""},{"version":"Genetic Apex #207","rarity":""},{"version":"Genetic Apex #208","rarity":""},{"version":"Genetic Apex #248","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"207","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_207_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #206","rarity":""},{"version":"Genetic Apex #207","rarity":""},{"version":"Genetic Apex #208","rarity":""},{"version":"Genetic Apex #248","rarity":""}],"artist":"Hasuno","crafting_cost":35},{"id":"208","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_208_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #206","rarity":""},{"version":"Genetic Apex #207","rarity":""},{"version":"Genetic Apex #208","rarity":""},{"version":"Genetic Apex #248","rarity":""}],"artist":"Sekio","crafting_cost":35},{"id":"209","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_209_EN.webp","hp":"50","name":"Porygon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Sharpen","damage":"20","effect":"No effect"}],"ability":{"name":"Data Scan","effect":"Once during your turn, you may look at the top card of your deck."},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #209","rarity":""},{"version":"Genetic Apex #249","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":70},{"id":"210","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_210_EN.webp","hp":"100","name":"Aerodactyl","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Primal","damage":"Wingbeat","effect":"Flip a coin. If heads, your opponent shuffles their Active Pokmon back into their deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #210","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":150},{"id":"211","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_211_EN.webp","hp":"150","name":"Snorlax","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Rollout","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #211","rarity":""},{"version":"Genetic Apex #250","rarity":""}],"artist":"Naoki Saito","crafting_cost":150},{"id":"212","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_212_EN.webp","hp":"60","name":"Minccino","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tail Smack","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #212","rarity":""}],"artist":"sui","crafting_cost":35},{"id":"213","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_213_EN.webp","hp":"90","name":"Cinccino","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Do the Wave","damage":"30x","effect":"This attack does 30 damage for each of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #213","rarity":""},{"version":"Promo-A #31","rarity":""}],"artist":"0313","crafting_cost":70},{"id":"214","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_214_EN.webp","hp":"70","name":"Wooloo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Tackle","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #214","rarity":""}],"artist":"Yoriyuki Ikegami","crafting_cost":35},{"id":"215","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_215_EN.webp","hp":"120","name":"Dubwool","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Rolling Tackle","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #215","rarity":""}],"artist":"saino misaki","crafting_cost":35},{"id":"216","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_216_EN.webp","hp":"40","name":"Helix Fossil","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #216","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"217","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_217_EN.webp","hp":"40","name":"Dome Fossil","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #217","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"218","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_218_EN.webp","hp":"40","name":"Old Amber","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #218","rarity":""},{"version":"Mythical Island #63","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"219","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_219_EN.webp","hp":"Unknown","name":"Erika","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Heal 50 damage from 1 of your [G] Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                kirisAki","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #219","rarity":""},{"version":"Genetic Apex #266","rarity":""}],"artist":"kirisAki","crafting_cost":70},{"id":"220","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_220_EN.webp","hp":"Unknown","name":"Misty","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Choose 1 of your[W] Pokmon, and flip a coin until you get tails. For each heads, take a[W] Energy from your Energy Zone and attach it to that Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Sanosuke Sakuma","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #220","rarity":""},{"version":"Genetic Apex #267","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":70},{"id":"221","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_221_EN.webp","hp":"Unknown","name":"Blaine","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Ninetales, Rapidash, or Magmar do +30 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GOSSAN","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #221","rarity":""},{"version":"Genetic Apex #268","rarity":""}],"artist":"GOSSAN","crafting_cost":70},{"id":"222","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_222_EN.webp","hp":"Unknown","name":"Koga","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put your Muk or Weezing in the Active Spot into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Souichirou Gunjima","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #222","rarity":""},{"version":"Genetic Apex #269","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":70},{"id":"223","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_223_EN.webp","hp":"Unknown","name":"Giovanni","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Pokmon do +10 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Hideki Ishikawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #223","rarity":""},{"version":"Genetic Apex #270","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":70},{"id":"224","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_224_EN.webp","hp":"Unknown","name":"Brock","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Take a [F] Energy from your Energy Zone and attach it to Golem or Onix.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Taira Akitsu","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #224","rarity":""},{"version":"Genetic Apex #271","rarity":""}],"artist":"Taira Akitsu","crafting_cost":70},{"id":"225","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_225_EN.webp","hp":"Unknown","name":"Sabrina","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #225","rarity":""},{"version":"Genetic Apex #272","rarity":""}],"artist":"Yuu Nishida","crafting_cost":70},{"id":"226","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_226_EN.webp","hp":"Unknown","name":"Lt. Surge","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Move all [L] Energy from your Benched Pokmon to your Raichu, Electrode, or Electabuzz in the Active Spot.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                nagimiso","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #226","rarity":""},{"version":"Genetic Apex #273","rarity":""}],"artist":"nagimiso","crafting_cost":70},{"id":"227","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_227_EN.webp","hp":"70","name":"Bulbasaur","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #1","rarity":""},{"version":"Genetic Apex #227","rarity":""},{"version":"Promo-A #23","rarity":""}],"artist":"Ryota Murayama","crafting_cost":400},{"id":"228","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_228_EN.webp","hp":"80","name":"Gloom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Drool","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #12","rarity":""},{"version":"Genetic Apex #228","rarity":""}],"artist":"OKACHEKE","crafting_cost":400},{"id":"229","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_229_EN.webp","hp":"90","name":"Pinsir","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Grass"],"name":"Double Horn","damage":"50x","effect":"Flip 2 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #26","rarity":""},{"version":"Genetic Apex #229","rarity":""}],"artist":"Scav","crafting_cost":400},{"id":"230","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_230_EN.webp","hp":"60","name":"Charmander","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Ember","damage":"30","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #33","rarity":""},{"version":"Genetic Apex #230","rarity":""},{"version":"Promo-A #32","rarity":""}],"artist":"GIDORA","crafting_cost":400},{"id":"231","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_231_EN.webp","hp":"100","name":"Rapidash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire"],"name":"Fire Mane","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #43","rarity":""},{"version":"Genetic Apex #231","rarity":""}],"artist":"Taira Akitsu","crafting_cost":400},{"id":"232","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_232_EN.webp","hp":"60","name":"Squirtle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #53","rarity":""},{"version":"Genetic Apex #232","rarity":""},{"version":"Promo-A #33","rarity":""}],"artist":"Taira Akitsu","crafting_cost":400},{"id":"233","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_233_EN.webp","hp":"150","name":"Gyarados","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Water"],"name":"Hyper Beam","damage":"100","effect":"Discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #78","rarity":""},{"version":"Genetic Apex #233","rarity":""}],"artist":"Nurikabe","crafting_cost":400},{"id":"234","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_234_EN.webp","hp":"100","name":"Lapras","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Hydro Pump","damage":"20+","effect":"If this Pokmon has at least 3 extra [W] Energy attached, this attack does 70 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #79","rarity":""},{"version":"Genetic Apex #234","rarity":""}],"artist":"Haru Akasaka","crafting_cost":400},{"id":"235","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_235_EN.webp","hp":"80","name":"Electrode","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Electro Ball","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"0","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #100","rarity":""},{"version":"Genetic Apex #235","rarity":""}],"artist":"DOM","crafting_cost":400},{"id":"236","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_236_EN.webp","hp":"130","name":"Alakazam","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Psychic","damage":"60+","effect":"This attack does 30 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #117","rarity":""},{"version":"Genetic Apex #236","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":400},{"id":"237","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_237_EN.webp","hp":"70","name":"Slowpoke","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Tail Whap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #118","rarity":""},{"version":"Genetic Apex #237","rarity":""}],"artist":"Miki Tanaka","crafting_cost":400},{"id":"238","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_238_EN.webp","hp":"50","name":"Diglett","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Mud-Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #139","rarity":""},{"version":"Genetic Apex #238","rarity":""}],"artist":"Shinya Komatsu","crafting_cost":400},{"id":"239","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_239_EN.webp","hp":"60","name":"Cubone","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Growl","effect":"During your opponent's next turn, attacks used by the Defending Pokmon do -20 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #151","rarity":""},{"version":"Genetic Apex #239","rarity":""}],"artist":"Teeziro","crafting_cost":400},{"id":"240","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_240_EN.webp","hp":"140","name":"Nidoqueen","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Lovestrike","damage":"80+","effect":"This attack does 50 more damage for each of your Benched Nidoking."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #168","rarity":""},{"version":"Genetic Apex #240","rarity":""}],"artist":"aoki","crafting_cost":400},{"id":"241","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_241_EN.webp","hp":"150","name":"Nidoking","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Poison Horn","damage":"90","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #171","rarity":""},{"version":"Genetic Apex #241","rarity":""}],"artist":"nagimiso","crafting_cost":400},{"id":"242","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_242_EN.webp","hp":"70","name":"Golbat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Wing Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #173","rarity":""},{"version":"Genetic Apex #242","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":400},{"id":"243","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_243_EN.webp","hp":"110","name":"Weezing","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Tackle","damage":"30","effect":"No effect"}],"ability":{"name":"Gas Leak","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may make your opponent's Active Pokmon Poisoned."},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #177","rarity":""},{"version":"Genetic Apex #243","rarity":""}],"artist":"KEIICHIRO ITO","crafting_cost":400},{"id":"244","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_244_EN.webp","hp":"160","name":"Dragonite","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Lightning","Colorless","Colorless"],"name":"Draco","damage":"Meteor","effect":"1 of your opponent's Pokmon is chosen at random 4 times. For each time a Pokmon was chosen, do 50 damage to it."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #185","rarity":""},{"version":"Genetic Apex #244","rarity":""}],"artist":"Gemi","crafting_cost":400},{"id":"245","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_245_EN.webp","hp":"130","name":"Pidgeot","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless"],"name":"Wing Attack","damage":"70","effect":"No effect"}],"ability":{"name":"Drive Off","effect":"Once during your turn, you may switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #188","rarity":""},{"version":"Genetic Apex #245","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":400},{"id":"246","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_246_EN.webp","hp":"60","name":"Meowth","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pay Day","damage":"10","effect":"Draw 1 card."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #196","rarity":""},{"version":"Genetic Apex #246","rarity":""},{"version":"Promo-A #12","rarity":""}],"artist":"Mina Nakai","crafting_cost":400},{"id":"247","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_247_EN.webp","hp":"70","name":"Ditto","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Copy","damage":"Anything","effect":"Choose 1 of your opponent's Pokmon's attacks and use it as this attack. If this Pokmon doesn't have the necessary Energy to use that attack, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #205","rarity":""},{"version":"Genetic Apex #247","rarity":""}],"artist":"Jerky","crafting_cost":400},{"id":"248","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_248_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #206","rarity":""},{"version":"Genetic Apex #207","rarity":""},{"version":"Genetic Apex #208","rarity":""},{"version":"Genetic Apex #248","rarity":""}],"artist":"sowsow","crafting_cost":400},{"id":"249","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_249_EN.webp","hp":"50","name":"Porygon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Sharpen","damage":"20","effect":"No effect"}],"ability":{"name":"Data Scan","effect":"Once during your turn, you may look at the top card of your deck."},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #209","rarity":""},{"version":"Genetic Apex #249","rarity":""}],"artist":"Akira Komayama","crafting_cost":400},{"id":"250","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_250_EN.webp","hp":"150","name":"Snorlax","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Rollout","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #211","rarity":""},{"version":"Genetic Apex #250","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":400},{"id":"251","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_251_EN.webp","hp":"190","name":"Venusaur ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Razor Leaf","damage":"60","effect":"No effect"},{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Giant Bloom","damage":"100","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #4","rarity":""},{"version":"Genetic Apex #251","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"252","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_252_EN.webp","hp":"160","name":"Exeggutor ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Tropical Swing","damage":"40+","effect":"Flip a coin. If heads, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #23","rarity":""},{"version":"Genetic Apex #252","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"253","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_253_EN.webp","hp":"180","name":"Charizard ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Slash","damage":"60","effect":"No effect"},{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Crimson Storm","damage":"200","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #36","rarity":""},{"version":"Genetic Apex #253","rarity":""},{"version":"Genetic Apex #280","rarity":""},{"version":"Genetic Apex #284","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"254","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_254_EN.webp","hp":"150","name":"Arcanine ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Inferno Onrush","damage":"120","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #41","rarity":""},{"version":"Genetic Apex #254","rarity":""}],"artist":"PLANETA Saito","crafting_cost":1250},{"id":"255","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_255_EN.webp","hp":"140","name":"Moltres ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Inferno","damage":"Dance","effect":"Flip 3 coins. Take an amount of [R] Energy from your Energy Zone equal to the number of heads and attach it to your Benched [R] Pokmon in any way you like."},{"cost":["Fire","Colorless","Colorless"],"name":"Heat Blast","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #47","rarity":""},{"version":"Genetic Apex #255","rarity":""},{"version":"Genetic Apex #274","rarity":""},{"version":"Promo-A #25","rarity":""}],"artist":"PLANETA Saito","crafting_cost":1250},{"id":"256","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_256_EN.webp","hp":"180","name":"Blastoise ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless"],"name":"Surf","damage":"40","effect":"No effect"},{"cost":["Water","Water","Colorless"],"name":"Hydro Bazooka","damage":"100+","effect":"If this Pokmon has at least 2 extra [W] Energy attached, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #56","rarity":""},{"version":"Genetic Apex #256","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"257","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_257_EN.webp","hp":"130","name":"Starmie ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Hydro Splash","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #76","rarity":""},{"version":"Genetic Apex #257","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":1250},{"id":"258","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_258_EN.webp","hp":"140","name":"Articuno ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Ice Wing","damage":"40","effect":"No effect"},{"cost":["Water","Water","Water"],"name":"Blizzard","damage":"80","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #84","rarity":""},{"version":"Genetic Apex #258","rarity":""},{"version":"Genetic Apex #275","rarity":""}],"artist":"PLANETA Saito","crafting_cost":1250},{"id":"259","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_259_EN.webp","hp":"120","name":"Pikachu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Circle Circuit","damage":"30x","effect":"This attack does 30 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #96","rarity":""},{"version":"Genetic Apex #259","rarity":""},{"version":"Genetic Apex #281","rarity":""},{"version":"Genetic Apex #285","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"260","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_260_EN.webp","hp":"130","name":"Zapdos ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Peck","damage":"20","effect":"No effect"},{"cost":["Lightning","Lightning","Lightning"],"name":"Thundering Hurricane","damage":"50x","effect":"Flip 4 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #104","rarity":""},{"version":"Genetic Apex #260","rarity":""},{"version":"Genetic Apex #276","rarity":""}],"artist":"PLANETA Saito","crafting_cost":1250},{"id":"261","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_261_EN.webp","hp":"170","name":"Gengar ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Spooky Shot","damage":"100","effect":"No effect"}],"ability":{"name":"Shadowy Spellbind","effect":"As long as this Pokmon is in the Active Spot, your opponent can't use any Supporter cards from their hand."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #123","rarity":""},{"version":"Genetic Apex #261","rarity":""},{"version":"Genetic Apex #277","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"262","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_262_EN.webp","hp":"150","name":"Mewtwo ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic Sphere","damage":"50","effect":"No effect"},{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Psydrive","damage":"150","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #129","rarity":""},{"version":"Genetic Apex #262","rarity":""},{"version":"Genetic Apex #282","rarity":""},{"version":"Genetic Apex #286","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":1250},{"id":"263","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_263_EN.webp","hp":"180","name":"Machamp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Mega Punch","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #146","rarity":""},{"version":"Genetic Apex #263","rarity":""},{"version":"Genetic Apex #278","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":1250},{"id":"264","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_264_EN.webp","hp":"140","name":"Marowak ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Bonemerang","damage":"80x","effect":"Flip 2 coins. This attack does 80 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #153","rarity":""},{"version":"Genetic Apex #264","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":1250},{"id":"265","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_265_EN.webp","hp":"140","name":"Wigglytuff ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Sleepy Song","damage":"80","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #195","rarity":""},{"version":"Genetic Apex #265","rarity":""},{"version":"Genetic Apex #279","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":1250},{"id":"266","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_266_EN.webp","hp":"Unknown","name":"Erika","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Heal 50 damage from 1 of your [G] Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                saino misaki","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #219","rarity":""},{"version":"Genetic Apex #266","rarity":""}],"artist":"saino misaki","crafting_cost":1250},{"id":"267","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_267_EN.webp","hp":"Unknown","name":"Misty","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Choose 1 of your[W] Pokmon, and flip a coin until you get tails. For each heads, take a[W] Energy from your Energy Zone and attach it to that Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Sanosuke Sakuma","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #220","rarity":""},{"version":"Genetic Apex #267","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":1250},{"id":"268","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_268_EN.webp","hp":"Unknown","name":"Blaine","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Ninetales, Rapidash, or Magmar do +30 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GOSSAN","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #221","rarity":""},{"version":"Genetic Apex #268","rarity":""}],"artist":"GOSSAN","crafting_cost":1250},{"id":"269","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_269_EN.webp","hp":"Unknown","name":"Koga","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put your Muk or Weezing in the Active Spot into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Souichirou Gunjima","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #222","rarity":""},{"version":"Genetic Apex #269","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":1250},{"id":"270","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_270_EN.webp","hp":"Unknown","name":"Giovanni","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Pokmon do +10 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Hideki Ishikawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #223","rarity":""},{"version":"Genetic Apex #270","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":1250},{"id":"271","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_271_EN.webp","hp":"Unknown","name":"Brock","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Take a [F] Energy from your Energy Zone and attach it to Golem or Onix.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #224","rarity":""},{"version":"Genetic Apex #271","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":1250},{"id":"272","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_272_EN.webp","hp":"Unknown","name":"Sabrina","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GIDORA","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #225","rarity":""},{"version":"Genetic Apex #272","rarity":""}],"artist":"GIDORA","crafting_cost":1250},{"id":"273","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_273_EN.webp","hp":"Unknown","name":"Lt. Surge","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Move all [L] Energy from your Benched Pokmon to your Raichu, Electrode, or Electabuzz in the Active Spot.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                nagimiso","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #226","rarity":""},{"version":"Genetic Apex #273","rarity":""}],"artist":"nagimiso","crafting_cost":1250},{"id":"274","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_274_EN.webp","hp":"140","name":"Moltres ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Inferno","damage":"Dance","effect":"Flip 3 coins. Take an amount of [R] Energy from your Energy Zone equal to the number of heads and attach it to your Benched [R] Pokmon in any way you like."},{"cost":["Fire","Colorless","Colorless"],"name":"Heat Blast","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #47","rarity":""},{"version":"Genetic Apex #255","rarity":""},{"version":"Genetic Apex #274","rarity":""},{"version":"Promo-A #25","rarity":""}],"artist":"hncl","crafting_cost":1250},{"id":"275","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_275_EN.webp","hp":"140","name":"Articuno ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Ice Wing","damage":"40","effect":"No effect"},{"cost":["Water","Water","Water"],"name":"Blizzard","damage":"80","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #84","rarity":""},{"version":"Genetic Apex #258","rarity":""},{"version":"Genetic Apex #275","rarity":""}],"artist":"kodama","crafting_cost":1250},{"id":"276","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_276_EN.webp","hp":"130","name":"Zapdos ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Peck","damage":"20","effect":"No effect"},{"cost":["Lightning","Lightning","Lightning"],"name":"Thundering Hurricane","damage":"50x","effect":"Flip 4 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #104","rarity":""},{"version":"Genetic Apex #260","rarity":""},{"version":"Genetic Apex #276","rarity":""}],"artist":"GOSSAN","crafting_cost":1250},{"id":"277","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_277_EN.webp","hp":"170","name":"Gengar ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Spooky Shot","damage":"100","effect":"No effect"}],"ability":{"name":"Shadowy Spellbind","effect":"As long as this Pokmon is in the Active Spot, your opponent can't use any Supporter cards from their hand."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #123","rarity":""},{"version":"Genetic Apex #261","rarity":""},{"version":"Genetic Apex #277","rarity":""}],"artist":"NC Empire","crafting_cost":1250},{"id":"278","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_278_EN.webp","hp":"180","name":"Machamp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Mega Punch","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #146","rarity":""},{"version":"Genetic Apex #263","rarity":""},{"version":"Genetic Apex #278","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":1250},{"id":"279","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_279_EN.webp","hp":"140","name":"Wigglytuff ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Sleepy Song","damage":"80","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #195","rarity":""},{"version":"Genetic Apex #265","rarity":""},{"version":"Genetic Apex #279","rarity":""}],"artist":"Shibuzoh.","crafting_cost":1250},{"id":"280","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_280_EN.webp","hp":"180","name":"Charizard ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Slash","damage":"60","effect":"No effect"},{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Crimson Storm","damage":"200","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #36","rarity":""},{"version":"Genetic Apex #253","rarity":""},{"version":"Genetic Apex #280","rarity":""},{"version":"Genetic Apex #284","rarity":""}],"artist":"kantaro","crafting_cost":1500},{"id":"281","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_281_EN.webp","hp":"120","name":"Pikachu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Circle Circuit","damage":"30x","effect":"This attack does 30 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #96","rarity":""},{"version":"Genetic Apex #259","rarity":""},{"version":"Genetic Apex #281","rarity":""},{"version":"Genetic Apex #285","rarity":""}],"artist":"Ryota Murayama","crafting_cost":1500},{"id":"282","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_282_EN.webp","hp":"150","name":"Mewtwo ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic Sphere","damage":"50","effect":"No effect"},{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Psydrive","damage":"150","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #129","rarity":""},{"version":"Genetic Apex #262","rarity":""},{"version":"Genetic Apex #282","rarity":""},{"version":"Genetic Apex #286","rarity":""}],"artist":"Nurikabe","crafting_cost":1500},{"id":"283","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_283_EN.webp","hp":"60","name":"Mew","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psy Report","damage":"20","effect":"Your opponent reveals their hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #283","rarity":""},{"version":"Mythical Island #31","rarity":""}],"artist":"Amelicart","crafting_cost":1500},{"id":"284","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_284_EN.webp","hp":"180","name":"Charizard ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Slash","damage":"60","effect":"No effect"},{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Crimson Storm","damage":"200","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #36","rarity":""},{"version":"Genetic Apex #253","rarity":""},{"version":"Genetic Apex #280","rarity":""},{"version":"Genetic Apex #284","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"},{"id":"285","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_285_EN.webp","hp":"120","name":"Pikachu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Circle Circuit","damage":"30x","effect":"This attack does 30 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #96","rarity":""},{"version":"Genetic Apex #259","rarity":""},{"version":"Genetic Apex #281","rarity":""},{"version":"Genetic Apex #285","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"},{"id":"286","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_286_EN.webp","hp":"150","name":"Mewtwo ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic Sphere","damage":"50","effect":"No effect"},{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Psydrive","damage":"150","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #129","rarity":""},{"version":"Genetic Apex #262","rarity":""},{"version":"Genetic Apex #282","rarity":""},{"version":"Genetic Apex #286","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":"Unknown"}]`),hse=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_001_EN.webp","hp":"50","name":"Exeggcute","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Growth","damage":"Spurt","effect":"Take a [G] Energy from your Energy Zone and attach it to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #1","rarity":""}],"artist":"Yuka Morii","crafting_cost":35},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_002_EN.webp","hp":"130","name":"Exeggutor","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless","Colorless"],"name":"Psychic","damage":"80+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #2","rarity":""},{"version":"Mythical Island #69","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_003_EN.webp","hp":"130","name":"Celebi ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Powerful Bloom","damage":"50x","effect":"Flip a coin for each Energy attached to this Pokmon. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #3","rarity":""},{"version":"Mythical Island #75","rarity":""},{"version":"Mythical Island #85","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_004_EN.webp","hp":"70","name":"Snivy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #4","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_005_EN.webp","hp":"80","name":"Servine","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #5","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":70},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_006_EN.webp","hp":"110","name":"Serperior","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Jungle Totem","effect":"Each  Energy attached to your  Pokmon provides 2  Energy. This effect doesn't stack."},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #6","rarity":""},{"version":"Mythical Island #70","rarity":""}],"artist":"Yoshioka","crafting_cost":150},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_007_EN.webp","hp":"60","name":"Morelull","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Ram","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #7","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":35},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_008_EN.webp","hp":"90","name":"Shiinotic","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Flickering Spores","damage":"50","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #8","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_009_EN.webp","hp":"100","name":"Dhelmise","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Energy Whip","damage":"20+","effect":"If this Pokmon has at least 3 extra [G] Energy attached, this attack does 70 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #9","rarity":""}],"artist":"Hasuno","crafting_cost":70},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_010_EN.webp","hp":"60","name":"Ponyta","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Stomp","damage":"10+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #10","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":35},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_011_EN.webp","hp":"100","name":"Rapidash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Rising Lunge","damage":"40+","effect":"Flip a coin. If heads, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #11","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":70},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_012_EN.webp","hp":"80","name":"Magmar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Fire"],"name":"Fire Blast","damage":"80","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #12","rarity":""}],"artist":"sui","crafting_cost":70},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_013_EN.webp","hp":"80","name":"Larvesta","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Colorless"],"name":"Combustion","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #13","rarity":""}],"artist":"kawayoo","crafting_cost":35},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_014_EN.webp","hp":"120","name":"Volcarona","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Volcanic","damage":"Ash","effect":"Discard 2 [R] Energy from this Pokmon. This attack does 80 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #14","rarity":""},{"version":"Promo-A #28","rarity":""}],"artist":"DOM","crafting_cost":150},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_015_EN.webp","hp":"60","name":"Salandit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Venoshock","damage":"10+","effect":"If your opponent's Active Pokmon is Poisoned, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #15","rarity":""},{"version":"Mythical Island #71","rarity":""}],"artist":"Naoki Saito","crafting_cost":35},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_016_EN.webp","hp":"80","name":"Salazzle","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire"],"name":"Poison Claws","damage":"30","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #16","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":35},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_017_EN.webp","hp":"30","name":"Magikarp","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Leap","damage":"Out","effect":"Switch this Pokmon with 1 of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #17","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":35},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_018_EN.webp","hp":"180","name":"Gyarados ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Colorless"],"name":"Rampaging Whirlpool","damage":"140","effect":"Discard a random Energy from among the Energy attached to all Pokmon (both yours and your opponent's)."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #18","rarity":""},{"version":"Mythical Island #76","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_019_EN.webp","hp":"120","name":"Vaporeon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Wave Splash","damage":"60","effect":"No effect"}],"ability":{"name":"Wash Out","effect":"As often as you like during your turn, you may move a  Energy from 1 of your Benched  Pokmon to your Active  Pokmon."},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #19","rarity":""},{"version":"Mythical Island #72","rarity":""}],"artist":"LINNE","crafting_cost":150},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_020_EN.webp","hp":"60","name":"Finneon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #20","rarity":""}],"artist":"sui","crafting_cost":35},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_021_EN.webp","hp":"80","name":"Lumineon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Aqua","damage":"Liner","effect":"This attack does 50 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #21","rarity":""}],"artist":"Sekio","crafting_cost":70},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_022_EN.webp","hp":"80","name":"Chewtle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #22","rarity":""}],"artist":"Taiga Kayama","crafting_cost":35},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_023_EN.webp","hp":"130","name":"Drednaw","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water"],"name":"Crunch","damage":"70","effect":"Flip a coin. If heads, discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #23","rarity":""}],"artist":"nisimono","crafting_cost":70},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_024_EN.webp","hp":"80","name":"Cramorant","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water","Colorless"],"name":"Dive","damage":"60","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #24","rarity":""}],"artist":"Jerky","crafting_cost":35},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_025_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Circle Circuit","damage":"10x","effect":"This attack does 10 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #25","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_026_EN.webp","hp":"120","name":"Raichu","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning","Lightning"],"name":"Gigashock","damage":"60","effect":"This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #26","rarity":""}],"artist":"hncl","crafting_cost":150},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_027_EN.webp","hp":"70","name":"Electabuzz","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Thunder","damage":"Spear","effect":"This attack does 40 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #27","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":70},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_028_EN.webp","hp":"40","name":"Joltik","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Bug Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #28","rarity":""}],"artist":"MINAMINAMI Take","crafting_cost":35},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_029_EN.webp","hp":"80","name":"Galvantula","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Electroweb","damage":"70","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #29","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":70},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_030_EN.webp","hp":"60","name":"Dedenne","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Thunder Shock","damage":"10","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #30","rarity":""},{"version":"Mythical Island #73","rarity":""}],"artist":"Taiga Kayama","crafting_cost":35},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_031_EN.webp","hp":"60","name":"Mew","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psy Report","damage":"20","effect":"Your opponent reveals their hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Genetic Apex #283","rarity":""},{"version":"Mythical Island #31","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":150},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_032_EN.webp","hp":"130","name":"Mew ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psyshot","damage":"20","effect":"No effect"},{"cost":["Colorless","Colorless","Colorless"],"name":"Genome","damage":"Hacking","effect":"Choose 1 of your opponent's Active Pokmon's attacks and use it as this attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #32","rarity":""},{"version":"Mythical Island #77","rarity":""},{"version":"Mythical Island #83","rarity":""},{"version":"Mythical Island #86","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_033_EN.webp","hp":"80","name":"Sigilyph","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Spike Draw","damage":"10","effect":"Draw a card."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #33","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":70},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_034_EN.webp","hp":"60","name":"Elgyem","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Headbutt","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #34","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_035_EN.webp","hp":"90","name":"Beheeyem","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Mind Jack","damage":"10+","effect":"This attack does 20 more damage for each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #35","rarity":""}],"artist":"sowsow","crafting_cost":70},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_036_EN.webp","hp":"40","name":"Flabb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Hypnotic","damage":"Gaze","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #36","rarity":""}],"artist":"Cona Nitanda","crafting_cost":35},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_037_EN.webp","hp":"70","name":"Floette","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Leaf Drain","damage":"40","effect":"Heal 10 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #37","rarity":""}],"artist":"Cona Nitanda","crafting_cost":35},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_038_EN.webp","hp":"120","name":"Florges","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic"],"name":"Bloomshine","damage":"80","effect":"Heal 20 damage from each of your Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #38","rarity":""}],"artist":"Cona Nitanda","crafting_cost":70},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_039_EN.webp","hp":"60","name":"Swirlix","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Fairy Wind","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #39","rarity":""}],"artist":"5ban Graphics","crafting_cost":35},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_040_EN.webp","hp":"100","name":"Slurpuff","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless"],"name":"Magical Shot","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #40","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_041_EN.webp","hp":"50","name":"Mankey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Focus Fist","damage":"50","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #41","rarity":""}],"artist":"Akira Komayama","crafting_cost":35},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_042_EN.webp","hp":"80","name":"Primeape","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Punch","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #42","rarity":""}],"artist":"Taiga Kayama","crafting_cost":35},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_043_EN.webp","hp":"70","name":"Geodude","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Light Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #43","rarity":""}],"artist":"GOSSAN","crafting_cost":35},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_044_EN.webp","hp":"100","name":"Graveler","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless"],"name":"Lunge Out","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #44","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":70},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_045_EN.webp","hp":"160","name":"Golem","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Guard Press","damage":"120","effect":"During your opponent's next turn, this Pokmon takes 30 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #45","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":150},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_046_EN.webp","hp":"140","name":"Aerodactyl ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless"],"name":"Land Crush","damage":"80","effect":"No effect"}],"ability":{"name":"Primeval Law","effect":"Your opponent can't play any Pokmon from their hand to evolve their Active Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #46","rarity":""},{"version":"Mythical Island #78","rarity":""},{"version":"Mythical Island #84","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_047_EN.webp","hp":"80","name":"Marshadow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Revenge","damage":"40+","effect":"If any of your Pokmon were Knocked Out by damage from an attack during your opponent's last turn, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #47","rarity":""},{"version":"Mythical Island #74","rarity":""}],"artist":"kantaro","crafting_cost":150},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_048_EN.webp","hp":"120","name":"Stonjourner","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Mega Kick","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #48","rarity":""}],"artist":"Teeziro","crafting_cost":70},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_049_EN.webp","hp":"70","name":"Koffing","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Unknown","damage":"Division","effect":"Put 1 random Koffing from your deck onto your Bench."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #49","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"50","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_050_EN.webp","hp":"110","name":"Weezing","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness"],"name":"Smokescreen","damage":"50","effect":"During your opponent's next turn, if the Defending Pokmon tries to use an attack, your opponent flips a coin. If tails, that attack doesn't happen."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #50","rarity":""}],"artist":"Mousho","crafting_cost":70},{"id":"51","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_051_EN.webp","hp":"60","name":"Purrloin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Scratch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #51","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"52","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_052_EN.webp","hp":"90","name":"Liepard","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Slash","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #52","rarity":""}],"artist":"GIDORA","crafting_cost":35},{"id":"53","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_053_EN.webp","hp":"60","name":"Venipede","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Ram","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #53","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"54","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_054_EN.webp","hp":"90","name":"Whirlipede","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Poison Sting","damage":"20","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #54","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"55","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_055_EN.webp","hp":"140","name":"Scolipede","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Colorless"],"name":"Venoshock","damage":"70+","effect":"If your opponent's Active Pokmon is Poisoned, this attack does 50 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #55","rarity":""}],"artist":"5ban Graphics","crafting_cost":70},{"id":"56","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_056_EN.webp","hp":"100","name":"Druddigon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Water","Colorless"],"name":"Dragon Claw","damage":"90","effect":"No effect"}],"ability":{"name":"Rough Skin","effect":"If this Pokmon is in the Active Spot and is damaged by an attack from your opponent's Pokmon, do 20 damage to the Attacking Pokmon."},"weakness":"none","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #56","rarity":""}],"artist":"Ryota Murayama","crafting_cost":70},{"id":"57","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_057_EN.webp","hp":"50","name":"Pidgey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Flap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #57","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":35},{"id":"58","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_058_EN.webp","hp":"90","name":"Pidgeotto","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Wing Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #58","rarity":""}],"artist":"Taiga Kayama","crafting_cost":35},{"id":"59","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_059_EN.webp","hp":"170","name":"Pidgeot ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Scattering Cyclone","damage":"80+","effect":"This attack does 20 more damage for each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #59","rarity":""},{"version":"Mythical Island #79","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"60","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_060_EN.webp","hp":"100","name":"Tauros","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Fighting Tackle","damage":"40+","effect":"If your opponent's Active Pokmon is a Pokmon ex, this attack does 80  more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #60","rarity":""}],"artist":"KEIICHIRO ITO","crafting_cost":150},{"id":"61","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_061_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Continuous Steps","damage":"20x","effect":"Flip a coin until you get tails. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #61","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":35},{"id":"62","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_062_EN.webp","hp":"60","name":"Chatot","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Mimic","effect":"Shuffle your hand into your deck. Draw a card for each card in your opponent's hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #62","rarity":""}],"artist":"Masako Tomii","crafting_cost":35},{"id":"63","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_063_EN.webp","hp":"40","name":"Old Amber","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Genetic Apex #218","rarity":""},{"version":"Mythical Island #63","rarity":""}],"artist":"Toyste Beach","crafting_cost":35,"linkedCardID":"A1-218"},{"id":"64","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_064_EN.webp","hp":"Unknown","name":"Pokmon Flute","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Put a Basic Pokmon from your opponent's discard pile onto their Bench.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #64","rarity":""}],"artist":"Toyste Beach","crafting_cost":70},{"id":"65","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_065_EN.webp","hp":"Unknown","name":"Mythical Slab","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Look at the top card of your deck. If that card is a [P] Pokmon, put it into your hand. If it is not a [P] Pokmon, put it on the bottom of your deck.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                AYUMI ODASHIMA","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #65","rarity":""}],"artist":"AYUMI ODASHIMA","crafting_cost":70},{"id":"66","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_066_EN.webp","hp":"Unknown","name":"Budding Expeditioner","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put your Mew ex in the Active Spot into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #66","rarity":""},{"version":"Mythical Island #80","rarity":""}],"artist":"Yuu Nishida","crafting_cost":70},{"id":"67","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_067_EN.webp","hp":"Unknown","name":"Blue","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During your opponent's next turn, all of your Pokmon take 10 damage from attacks from your opponent's Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #67","rarity":""},{"version":"Mythical Island #81","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":70},{"id":"68","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_068_EN.webp","hp":"Unknown","name":"Leaf","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, the Retreat Cost of your Active Pokmon is 2 less.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                En Morikura","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #68","rarity":""},{"version":"Mythical Island #82","rarity":""}],"artist":"En Morikura","crafting_cost":70},{"id":"69","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_069_EN.webp","hp":"130","name":"Exeggutor","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless","Colorless"],"name":"Psychic","damage":"80+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #2","rarity":""},{"version":"Mythical Island #69","rarity":""}],"artist":"Gapao","crafting_cost":400},{"id":"70","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_070_EN.webp","hp":"110","name":"Serperior","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Jungle Totem","effect":"Each  Energy attached to your  Pokmon provides 2  Energy. This effect doesn't stack."},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #6","rarity":""},{"version":"Mythical Island #70","rarity":""}],"artist":"rika","crafting_cost":400},{"id":"71","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_071_EN.webp","hp":"60","name":"Salandit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Venoshock","damage":"10+","effect":"If your opponent's Active Pokmon is Poisoned, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #15","rarity":""},{"version":"Mythical Island #71","rarity":""}],"artist":"Nurikabe","crafting_cost":400},{"id":"72","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_072_EN.webp","hp":"120","name":"Vaporeon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Wave Splash","damage":"60","effect":"No effect"}],"ability":{"name":"Wash Out","effect":"As often as you like during your turn, you may move a  Energy from 1 of your Benched  Pokmon to your Active  Pokmon."},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #19","rarity":""},{"version":"Mythical Island #72","rarity":""}],"artist":"aspara","crafting_cost":400},{"id":"73","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_073_EN.webp","hp":"60","name":"Dedenne","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Thunder Shock","damage":"10","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #30","rarity":""},{"version":"Mythical Island #73","rarity":""}],"artist":"Yuu Nishida","crafting_cost":400},{"id":"74","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_074_EN.webp","hp":"80","name":"Marshadow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Revenge","damage":"40+","effect":"If any of your Pokmon were Knocked Out by damage from an attack during your opponent's last turn, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #47","rarity":""},{"version":"Mythical Island #74","rarity":""}],"artist":"OKACHEKE","crafting_cost":400},{"id":"75","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_075_EN.webp","hp":"130","name":"Celebi ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Powerful Bloom","damage":"50x","effect":"Flip a coin for each Energy attached to this Pokmon. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #3","rarity":""},{"version":"Mythical Island #75","rarity":""},{"version":"Mythical Island #85","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"76","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_076_EN.webp","hp":"180","name":"Gyarados ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Colorless"],"name":"Rampaging Whirlpool","damage":"140","effect":"Discard a random Energy from among the Energy attached to all Pokmon (both yours and your opponent's)."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #18","rarity":""},{"version":"Mythical Island #76","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"77","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_077_EN.webp","hp":"130","name":"Mew ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psyshot","damage":"20","effect":"No effect"},{"cost":["Colorless","Colorless","Colorless"],"name":"Genome","damage":"Hacking","effect":"Choose 1 of your opponent's Active Pokmon's attacks and use it as this attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #32","rarity":""},{"version":"Mythical Island #77","rarity":""},{"version":"Mythical Island #83","rarity":""},{"version":"Mythical Island #86","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"78","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_078_EN.webp","hp":"140","name":"Aerodactyl ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless"],"name":"Land Crush","damage":"80","effect":"No effect"}],"ability":{"name":"Primeval Law","effect":"Your opponent can't play any Pokmon from their hand to evolve their Active Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #46","rarity":""},{"version":"Mythical Island #78","rarity":""},{"version":"Mythical Island #84","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"79","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_079_EN.webp","hp":"170","name":"Pidgeot ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Scattering Cyclone","damage":"80+","effect":"This attack does 20 more damage for each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #59","rarity":""},{"version":"Mythical Island #79","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"80","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_080_EN.webp","hp":"Unknown","name":"Budding Expeditioner","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put your Mew ex in the Active Spot into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #66","rarity":""},{"version":"Mythical Island #80","rarity":""}],"artist":"Yuu Nishida","crafting_cost":1250},{"id":"81","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_081_EN.webp","hp":"Unknown","name":"Blue","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During your opponent's next turn, all of your Pokmon take 10 damage from attacks from your opponent's Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #67","rarity":""},{"version":"Mythical Island #81","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":1250},{"id":"82","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_082_EN.webp","hp":"Unknown","name":"Leaf","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, the Retreat Cost of your Active Pokmon is 2 less.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                En Morikura","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #68","rarity":""},{"version":"Mythical Island #82","rarity":""}],"artist":"En Morikura","crafting_cost":1250},{"id":"83","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_083_EN.webp","hp":"130","name":"Mew ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psyshot","damage":"20","effect":"No effect"},{"cost":["Colorless","Colorless","Colorless"],"name":"Genome","damage":"Hacking","effect":"Choose 1 of your opponent's Active Pokmon's attacks and use it as this attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #32","rarity":""},{"version":"Mythical Island #77","rarity":""},{"version":"Mythical Island #83","rarity":""},{"version":"Mythical Island #86","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":1250},{"id":"84","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_084_EN.webp","hp":"140","name":"Aerodactyl ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless"],"name":"Land Crush","damage":"80","effect":"No effect"}],"ability":{"name":"Primeval Law","effect":"Your opponent can't play any Pokmon from their hand to evolve their Active Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #46","rarity":""},{"version":"Mythical Island #78","rarity":""},{"version":"Mythical Island #84","rarity":""}],"artist":"danciao","crafting_cost":1250},{"id":"85","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_085_EN.webp","hp":"130","name":"Celebi ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Powerful Bloom","damage":"50x","effect":"Flip a coin for each Energy attached to this Pokmon. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #3","rarity":""},{"version":"Mythical Island #75","rarity":""},{"version":"Mythical Island #85","rarity":""}],"artist":"kantaro","crafting_cost":1500},{"id":"86","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_086_EN.webp","hp":"130","name":"Mew ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psyshot","damage":"20","effect":"No effect"},{"cost":["Colorless","Colorless","Colorless"],"name":"Genome","damage":"Hacking","effect":"Choose 1 of your opponent's Active Pokmon's attacks and use it as this attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #32","rarity":""},{"version":"Mythical Island #77","rarity":""},{"version":"Mythical Island #83","rarity":""},{"version":"Mythical Island #86","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"}]`),pse=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_001_EN.webp","hp":"60","name":"Oddish","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Blot","damage":"10","effect":"Heal 10 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #1","rarity":""}],"artist":"Asako Ito","crafting_cost":35},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_002_EN.webp","hp":"80","name":"Gloom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Razor Leaf","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #2","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_003_EN.webp","hp":"130","name":"Bellossom","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass"],"name":"Leaf Step","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #3","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":70},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_004_EN.webp","hp":"70","name":"Tangela","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #4","rarity":""}],"artist":"Narumi Sato","crafting_cost":35},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_005_EN.webp","hp":"130","name":"Tangrowth","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Grass","Colorless"],"name":"Mega Drain","damage":"90","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #5","rarity":""},{"version":"Space-Time Smackdown #156","rarity":""}],"artist":"kodama","crafting_cost":70},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_006_EN.webp","hp":"50","name":"Yanma","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Flap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #6","rarity":""}],"artist":"Eri Yamaki","crafting_cost":35},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_007_EN.webp","hp":"140","name":"Yanmega ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Air Slash","damage":"120","effect":"Discard a random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #7","rarity":""},{"version":"Space-Time Smackdown #180","rarity":""},{"version":"Space-Time Smackdown #196","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_008_EN.webp","hp":"70","name":"Roselia","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Sting","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #8","rarity":""}],"artist":"kirisAki","crafting_cost":35},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_009_EN.webp","hp":"100","name":"Roserade","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Poisonous Whip","damage":"50","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #9","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_010_EN.webp","hp":"80","name":"Turtwig","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #10","rarity":""},{"version":"Promo-A #35","rarity":""}],"artist":"OOYAMA","crafting_cost":35},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_011_EN.webp","hp":"100","name":"Grotle","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Razor Leaf","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #11","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":70},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_012_EN.webp","hp":"160","name":"Torterra","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Frenzy Plant","damage":"150","effect":"During your next turn, this Pokmon can't use Frenzy Plant."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #12","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_013_EN.webp","hp":"60","name":"Kricketot","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Bug Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #13","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":35},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_014_EN.webp","hp":"90","name":"Kricketune","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Entrancing Melody","damage":"50","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #14","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_015_EN.webp","hp":"60","name":"Burmy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #15","rarity":""}],"artist":"Mugi Hamada","crafting_cost":35},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_016_EN.webp","hp":"120","name":"Wormadam","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Leaf Cutter","damage":"60+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #16","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_017_EN.webp","hp":"50","name":"Combee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Call for","damage":"Family","effect":"Put 1 random Basic Pokmon from your deck onto your Bench."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #17","rarity":""},{"version":"Space-Time Smackdown #157","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_018_EN.webp","hp":"100","name":"Vespiquen","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Pierce","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #18","rarity":""}],"artist":"chibi","crafting_cost":70},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_019_EN.webp","hp":"90","name":"Carnivine","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Flog","damage":"40+","effect":"Flip a coin. If heads, this attack does 50 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #19","rarity":""},{"version":"Space-Time Smackdown #158","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":70},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_020_EN.webp","hp":"90","name":"Leafeon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Leafy Cyclone","damage":"90","effect":"During your next turn, this Pokmon can't attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #20","rarity":""}],"artist":"Kouki Saitou","crafting_cost":150},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_021_EN.webp","hp":"80","name":"Mow Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Energy Cutoff","damage":"30","effect":"Flip a coin. If heads, discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #21","rarity":""}],"artist":"kawayoo","crafting_cost":35},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_022_EN.webp","hp":"60","name":"Shaymin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Flop","damage":"30","effect":"No effect"}],"ability":{"name":"Fragrant Flower Garden","effect":"Once during your turn, you may heal 10 damage from each of your Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #22","rarity":""},{"version":"Space-Time Smackdown #159","rarity":""}],"artist":"Narumi Sato","crafting_cost":150},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_023_EN.webp","hp":"80","name":"Magmar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Unknown","damage":"Stoke","effect":"Take a [R] Energy from your Energy Zone and attach it to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #23","rarity":""}],"artist":"Hiroki Asanuma","crafting_cost":35},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_024_EN.webp","hp":"130","name":"Magmortar","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Fire","Fire"],"name":"Bursting Inferno","damage":"100","effect":"Your opponent's Active Pokmon is now Burned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #24","rarity":""}],"artist":"KEIICHIRO ITO","crafting_cost":150},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_025_EN.webp","hp":"70","name":"Slugma","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Flare","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #25","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_026_EN.webp","hp":"120","name":"Magcargo","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Searing Flame","damage":"30","effect":"Your opponent's Active Pokmon is now Burned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #26","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":70},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_027_EN.webp","hp":"60","name":"Chimchar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Scratch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #27","rarity":""},{"version":"Promo-A #40","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_028_EN.webp","hp":"80","name":"Monferno","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire"],"name":"Fiery Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #28","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_029_EN.webp","hp":"170","name":"Infernape ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Fire"],"name":"Flare Blitz","damage":"140","effect":"Discard all [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"0","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #29","rarity":""},{"version":"Space-Time Smackdown #181","rarity":""},{"version":"Space-Time Smackdown #197","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_030_EN.webp","hp":"80","name":"Heat Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Colorless"],"name":"Heat Breath","damage":"30+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #30","rarity":""}],"artist":"Kedamahadaitai Yawarakai","crafting_cost":35},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_031_EN.webp","hp":"60","name":"Swinub","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Headbutt","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #31","rarity":""}],"artist":"Eri Yamaki","crafting_cost":35},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_032_EN.webp","hp":"110","name":"Piloswine","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Hammer In","damage":"60","effect":"No effect"}],"ability":{"name":"Thick Fat","effect":"This Pokmon takes 20 damage from attacks from  or  Pokmon."},"weakness":"Metal","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #32","rarity":""}],"artist":"Suwama Chiaki","crafting_cost":70},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_033_EN.webp","hp":"160","name":"Mamoswine","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless","Colorless"],"name":"Frosty Flattening","damage":"120","effect":"No effect"}],"ability":{"name":"Thick Fat","effect":"This Pokmon takes 30 damage from attacks from  or  Pokmon."},"weakness":"Metal","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #33","rarity":""},{"version":"Space-Time Smackdown #160","rarity":""}],"artist":"match","crafting_cost":150},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_034_EN.webp","hp":"110","name":"Regice","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water"],"name":"Frost Smash","damage":"50","effect":"No effect"}],"ability":{"name":"Crystal Body","effect":"Prevent all effects of attacks used by your opponent's Pokmon done to this Pokmon."},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #34","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":70},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_035_EN.webp","hp":"60","name":"Piplup","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Nap","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #35","rarity":""},{"version":"Promo-A #34","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":35},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_036_EN.webp","hp":"90","name":"Prinplup","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Surf","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #36","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_037_EN.webp","hp":"150","name":"Empoleon","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless"],"name":"Aqua Jet","damage":"80","effect":"This attack also does 30 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #37","rarity":""}],"artist":"Satoshi Shirai","crafting_cost":150},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_038_EN.webp","hp":"60","name":"Buizel","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #38","rarity":""}],"artist":"OKUBO","crafting_cost":35},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_039_EN.webp","hp":"90","name":"Floatzel","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Jet Screw","damage":"30+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #39","rarity":""}],"artist":"Kanako Eo","crafting_cost":70},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_040_EN.webp","hp":"70","name":"Shellos","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Mud-Slap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #40","rarity":""}],"artist":"Teeziro","crafting_cost":35},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_041_EN.webp","hp":"120","name":"Gastrodon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Muddy Water","damage":"60","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #41","rarity":""},{"version":"Space-Time Smackdown #161","rarity":""}],"artist":"Aya Kusube","crafting_cost":70},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_042_EN.webp","hp":"50","name":"Finneon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Elegant Swim","damage":"10","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #42","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":35},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_043_EN.webp","hp":"90","name":"Lumineon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Waterfall","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #43","rarity":""}],"artist":"rika","crafting_cost":70},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_044_EN.webp","hp":"70","name":"Snover","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Ice Shard","damage":"10+","effect":"If your opponent's Active Pokmon is a [F] Pokmon, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #44","rarity":""}],"artist":"match","crafting_cost":35},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_045_EN.webp","hp":"140","name":"Abomasnow","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Colorless"],"name":"Frost Breath","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #45","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":70},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_046_EN.webp","hp":"90","name":"Glaceon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Ice Beam","damage":"60","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #46","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":150},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_047_EN.webp","hp":"80","name":"Wash Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Wave Splash","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #47","rarity":""}],"artist":"Saboteri","crafting_cost":35},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_048_EN.webp","hp":"80","name":"Frost Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water"],"name":"Blizzard","damage":"30","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #48","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_049_EN.webp","hp":"150","name":"Palkia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Slash","damage":"30","effect":"No effect"},{"cost":["Water","Water","Water","Colorless"],"name":"Dimensional Storm","damage":"150","effect":"Discard 3 [W] Energy from this Pokmon. This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #49","rarity":""},{"version":"Space-Time Smackdown #182","rarity":""},{"version":"Space-Time Smackdown #204","rarity":""},{"version":"Space-Time Smackdown #206","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"50","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_050_EN.webp","hp":"50","name":"Manaphy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Oceanic","damage":"Gift","effect":"Choose 2 of your Benched Pokmon. For each of those Pokmon, take a [W] Energy from your Energy Zone and attach it to that Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #50","rarity":""},{"version":"Space-Time Smackdown #162","rarity":""},{"version":"Promo-A #48","rarity":""}],"artist":"MINAMINAMI Take","crafting_cost":70},{"id":"51","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_051_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Ram","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #51","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"52","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_052_EN.webp","hp":"80","name":"Magneton","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Lightning Ball","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #52","rarity":""}],"artist":"Yumi","crafting_cost":70},{"id":"53","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_053_EN.webp","hp":"140","name":"Magnezone","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Lightning","Colorless","Colorless"],"name":"Thunder Blast","damage":"110","effect":"Discard a [L] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #53","rarity":""}],"artist":"Yoshinobu Saito","crafting_cost":150},{"id":"54","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_054_EN.webp","hp":"60","name":"Voltorb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Big Explosion","damage":"30","effect":"This Pokmon also does 10 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #54","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"55","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_055_EN.webp","hp":"80","name":"Electrode","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning"],"name":"Rolling Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #55","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":70},{"id":"56","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_056_EN.webp","hp":"80","name":"Electabuzz","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Unknown","damage":"Charge","effect":"Take a [L] Energy from your Energy Zone and attach it to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #56","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"57","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_057_EN.webp","hp":"120","name":"Electivire","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Exciting Voltage","damage":"40+","effect":"If this Pokmon has at least 2 extra [L] Energy attached, this attack does 80 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #57","rarity":""},{"version":"Promo-A #36","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"58","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_058_EN.webp","hp":"60","name":"Shinx","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Unknown","damage":"Hide","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #58","rarity":""},{"version":"Space-Time Smackdown #163","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"59","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_059_EN.webp","hp":"90","name":"Luxio","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Colorless"],"name":"Electric Claws","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #59","rarity":""}],"artist":"Naoki Saito","crafting_cost":70},{"id":"60","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_060_EN.webp","hp":"130","name":"Luxray","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Lightning","Lightning","Lightning"],"name":"Volt","damage":"Bolt","effect":"Discard all [L] Energy from this Pokmon. This attack does 120 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #60","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"61","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_061_EN.webp","hp":"120","name":"Pachirisu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Sparking Gadget","damage":"40+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #61","rarity":""},{"version":"Space-Time Smackdown #183","rarity":""},{"version":"Space-Time Smackdown #198","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"62","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_062_EN.webp","hp":"70","name":"Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Assault Laser","damage":"20+","effect":"If your opponent's Active Pokmon has a Pokmon Tool attached, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #62","rarity":""},{"version":"Space-Time Smackdown #164","rarity":""}],"artist":"Krgc","crafting_cost":35},{"id":"63","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_063_EN.webp","hp":"50","name":"Togepi","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Pound","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #63","rarity":""},{"version":"Promo-A #41","rarity":""}],"artist":"Narumi Sato","crafting_cost":35},{"id":"64","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_064_EN.webp","hp":"80","name":"Togetic","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Fairy Wind","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #64","rarity":""}],"artist":"Kanako Eo","crafting_cost":70},{"id":"65","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_065_EN.webp","hp":"140","name":"Togekiss","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic"],"name":"Overdrive Smash","damage":"60","effect":"During your next turn, this Pokmon's Overdrive Smash attack does +60 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #65","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"66","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_066_EN.webp","hp":"60","name":"Misdreavus","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Mumble","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #66","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":35},{"id":"67","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_067_EN.webp","hp":"140","name":"Mismagius ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Magical Delusion","damage":"70","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #67","rarity":""},{"version":"Space-Time Smackdown #184","rarity":""},{"version":"Space-Time Smackdown #199","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":500},{"id":"68","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_068_EN.webp","hp":"60","name":"Ralts","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Teleport","effect":"Switch this Pokmon with 1 of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #68","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"69","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_069_EN.webp","hp":"80","name":"Kirlia","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #69","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"70","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_070_EN.webp","hp":"60","name":"Duskull","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Will-O-Wisp","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #70","rarity":""}],"artist":"ryoma uratsuka","crafting_cost":35},{"id":"71","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_071_EN.webp","hp":"90","name":"Dusclops","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Psypunch","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #71","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":70},{"id":"72","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_072_EN.webp","hp":"130","name":"Dusknoir","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Devour Soul","damage":"70","effect":"No effect"}],"ability":{"name":"Shadow Void","effect":"As often as you like during your turn, you may choose 1 of your Pokmon that has damage on it, and move all of its damage to this Pokmon."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #72","rarity":""}],"artist":"Suwama Chiaki","crafting_cost":150},{"id":"73","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_073_EN.webp","hp":"50","name":"Drifloon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Expand","damage":"10","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #73","rarity":""},{"version":"Space-Time Smackdown #165","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"74","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_074_EN.webp","hp":"100","name":"Drifblim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Balloon Strike","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #74","rarity":""}],"artist":"Miki Tanaka","crafting_cost":70},{"id":"75","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_075_EN.webp","hp":"70","name":"Uxie","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Mind Boost","damage":"20","effect":"Take a [P] Energy from your Energy Zone and attach it to Mesprit or Azelf."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #75","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":70},{"id":"76","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_076_EN.webp","hp":"70","name":"Mesprit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Supreme Blast","damage":"160","effect":"You can use this attack only if you have Uxie and Azelf on your Bench. Discard all Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #76","rarity":""},{"version":"Space-Time Smackdown #166","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":150},{"id":"77","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_077_EN.webp","hp":"70","name":"Azelf","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psychic","damage":"Arrow","effect":"This attack does 20 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #77","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":70},{"id":"78","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_078_EN.webp","hp":"120","name":"Giratina","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Spooky Shot","damage":"70","effect":"No effect"}],"ability":{"name":"Levitate","effect":"If this Pokmon has any Energy attached, it has no Retreat Cost."},"weakness":"Darkness","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #78","rarity":""},{"version":"Space-Time Smackdown #167","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":150},{"id":"79","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_079_EN.webp","hp":"110","name":"Cresselia","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic"],"name":"Moonlight Gain","damage":"50","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #79","rarity":""},{"version":"Space-Time Smackdown #168","rarity":""}],"artist":"Masako Tomii","crafting_cost":150},{"id":"80","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_080_EN.webp","hp":"80","name":"Rhyhorn","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Horn Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #80","rarity":""}],"artist":"otumami","crafting_cost":35},{"id":"81","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_081_EN.webp","hp":"110","name":"Rhydon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Wrack Down","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #81","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":70},{"id":"82","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_082_EN.webp","hp":"160","name":"Rhyperior","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Mountain Swing","damage":"150","effect":"Discard the top 3 cards of your deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #82","rarity":""},{"version":"Space-Time Smackdown #169","rarity":""}],"artist":"Naoki Saito","crafting_cost":150},{"id":"83","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_083_EN.webp","hp":"60","name":"Gligar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Pierce","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #83","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":35},{"id":"84","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_084_EN.webp","hp":"100","name":"Gliscor","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Acrobatics","damage":"20+","effect":"Flip 2 coins. This attack does 20 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #84","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"85","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_085_EN.webp","hp":"80","name":"Hitmontop","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting"],"name":"Spinning Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #85","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"86","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_086_EN.webp","hp":"70","name":"Nosepass","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Ram","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #86","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"87","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_087_EN.webp","hp":"120","name":"Regirock","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Boulder Crush","damage":"100","effect":"No effect"}],"ability":{"name":"Exoskeleton","effect":"This Pokmon takes 20 damage from attacks."},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #87","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":70},{"id":"88","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_088_EN.webp","hp":"90","name":"Cranidos","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Headbutt","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #88","rarity":""}],"artist":"Kouki Saitou","crafting_cost":70},{"id":"89","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_089_EN.webp","hp":"150","name":"Rampardos","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Head Smash","damage":"130","effect":"If your opponent's Pokmon is Knocked Out by damage from this attack, this Pokmon also does 50 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #89","rarity":""}],"artist":"Yoshinobu Saito","crafting_cost":150},{"id":"90","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_090_EN.webp","hp":"120","name":"Wormadam","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless","Colorless"],"name":"Land Crush","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #90","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":35},{"id":"91","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_091_EN.webp","hp":"60","name":"Riolu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Jab","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #91","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":35},{"id":"92","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_092_EN.webp","hp":"100","name":"Lucario","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Submarine Blow","damage":"40","effect":"No effect"}],"ability":{"name":"Fighting Coach","effect":"Attacks used by your  Pokmon do +20 damage to your opponent's Active Pokmon."},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #92","rarity":""},{"version":"Space-Time Smackdown #170","rarity":""}],"artist":"nagimiso","crafting_cost":150},{"id":"93","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_093_EN.webp","hp":"80","name":"Hippopotas","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Rolling Tackle","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #93","rarity":""},{"version":"Space-Time Smackdown #171","rarity":""}],"artist":"Akira Komayama","crafting_cost":35},{"id":"94","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_094_EN.webp","hp":"140","name":"Hippowdon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Earthen Press","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #94","rarity":""}],"artist":"KEIICHIRO ITO","crafting_cost":70},{"id":"95","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_095_EN.webp","hp":"170","name":"Gallade ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting"],"name":"Energized Blade","damage":"70+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #95","rarity":""},{"version":"Space-Time Smackdown #185","rarity":""},{"version":"Space-Time Smackdown #200","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"96","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_096_EN.webp","hp":"60","name":"Murkrow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #96","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"97","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_097_EN.webp","hp":"100","name":"Honchkrow","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness"],"name":"Skill","damage":"Dive","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #97","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":70},{"id":"98","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_098_EN.webp","hp":"60","name":"Sneasel","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Double Scratch","damage":"20x","effect":"Flip 2 coins. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #98","rarity":""}],"artist":"Hasuno","crafting_cost":35},{"id":"99","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_099_EN.webp","hp":"140","name":"Weavile ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Scratching Nails","damage":"30+","effect":"If your opponent's Active Pokmon has damage on it, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #99","rarity":""},{"version":"Space-Time Smackdown #186","rarity":""},{"version":"Space-Time Smackdown #201","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"100","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_100_EN.webp","hp":"60","name":"Poochyena","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #100","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"101","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_101_EN.webp","hp":"90","name":"Mightyena","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Colorless"],"name":"Darkness Fang","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #101","rarity":""}],"artist":"Kouki Saitou","crafting_cost":70},{"id":"102","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_102_EN.webp","hp":"70","name":"Stunky","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Scratch","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #102","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"103","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_103_EN.webp","hp":"100","name":"Skuntank","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Colorless"],"name":"Poison Gas","damage":"50","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #103","rarity":""}],"artist":"kirisAki","crafting_cost":70},{"id":"104","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_104_EN.webp","hp":"80","name":"Spiritomb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Swirling","damage":"Disaster","effect":"This attack does 10 damage to each of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #104","rarity":""},{"version":"Space-Time Smackdown #172","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":70},{"id":"105","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_105_EN.webp","hp":"70","name":"Skorupi","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Colorless"],"name":"Pierce","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #105","rarity":""}],"artist":"Naoki Saito","crafting_cost":35},{"id":"106","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_106_EN.webp","hp":"120","name":"Drapion","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness","Darkness"],"name":"Cross Poison","damage":"40x","effect":"Flip 4 coins. This attack does 40 damage for each heads. If at least 2 of them are heads, your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #106","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":70},{"id":"107","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_107_EN.webp","hp":"60","name":"Croagunk","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness"],"name":"Group Beatdown","damage":"20x","effect":"Flip a coin for each Pokmon you have in play. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #107","rarity":""},{"version":"Space-Time Smackdown #173","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":35},{"id":"108","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_108_EN.webp","hp":"90","name":"Toxicroak","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness"],"name":"Group Beatdown","damage":"40x","effect":"Flip a coin for each Pokmon you have in play. This attack does 40 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #108","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":70},{"id":"109","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_109_EN.webp","hp":"110","name":"Darkrai","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Void","damage":"60","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #109","rarity":""}],"artist":"Masako Tomii","crafting_cost":150},{"id":"110","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_110_EN.webp","hp":"140","name":"Darkrai ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Prism","damage":"80","effect":"No effect"}],"ability":{"name":"Nightmare Aura","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, do 20 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #110","rarity":""},{"version":"Space-Time Smackdown #187","rarity":""},{"version":"Space-Time Smackdown #202","rarity":""},{"version":"Promo-A #42","rarity":""}],"artist":"PLANETA Yamashita","crafting_cost":500},{"id":"111","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_111_EN.webp","hp":"80","name":"Skarmory","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Metal Arms","damage":"20+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #111","rarity":""},{"version":"Promo-A #39","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":70},{"id":"112","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_112_EN.webp","hp":"110","name":"Registeel","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal","Metal"],"name":"Metal Claw","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #112","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":70},{"id":"113","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_113_EN.webp","hp":"100","name":"Shieldon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Colorless"],"name":"Headbutt","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #113","rarity":""}],"artist":"Kouki Saitou","crafting_cost":70},{"id":"114","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_114_EN.webp","hp":"160","name":"Bastiodon","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Headbang","damage":"80","effect":"No effect"}],"ability":{"name":"Guarded Grill","effect":"If any damage is done to this Pokmon by attacks, flip a coin. If heads, this Pokmon takes 100 damage from that attack."},"weakness":"Fire","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #114","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":150},{"id":"115","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_115_EN.webp","hp":"110","name":"Wormadam","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal"],"name":"Iron Head","damage":"50+","effect":"Flip a coin until you get tails. This attack does 30 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #115","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"116","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_116_EN.webp","hp":"60","name":"Bronzor","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Colorless"],"name":"Tackle","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #116","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"117","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_117_EN.webp","hp":"120","name":"Bronzong","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Guard Press","damage":"60","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #117","rarity":""}],"artist":"Yuka Morii","crafting_cost":70},{"id":"118","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_118_EN.webp","hp":"130","name":"Probopass","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Metal","Colorless"],"name":"Triple Nose","damage":"30+","effect":"Flip 3 coins. This attack does 50 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #118","rarity":""}],"artist":"MAHOU","crafting_cost":70},{"id":"119","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_119_EN.webp","hp":"150","name":"Dialga ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal"],"name":"Metallic Turbo","damage":"30","effect":"Take 2 [M] Energy from your Energy Zone and attach it to 1 of your Benched Pokmon."},{"cost":["Metal","Metal","Colorless","Colorless"],"name":"Heavy Impact","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #119","rarity":""},{"version":"Space-Time Smackdown #188","rarity":""},{"version":"Space-Time Smackdown #205","rarity":""},{"version":"Space-Time Smackdown #207","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"120","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_120_EN.webp","hp":"120","name":"Heatran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal","Metal"],"name":"Steel Tackle","damage":"110","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #120","rarity":""},{"version":"Space-Time Smackdown #174","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":150},{"id":"121","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_121_EN.webp","hp":"60","name":"Gible","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #121","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"122","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_122_EN.webp","hp":"90","name":"Gabite","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Fighting"],"name":"Slash","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #122","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":70},{"id":"123","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_123_EN.webp","hp":"140","name":"Garchomp","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Fighting"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"Reckless Shearing","effect":"You must discard a card from your hand in order to use this Ability. Once during your turn, you may draw a card."},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #123","rarity":""},{"version":"Space-Time Smackdown #175","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":150},{"id":"124","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_124_EN.webp","hp":"80","name":"Lickitung","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Tongue Slap","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #124","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"125","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_125_EN.webp","hp":"160","name":"Lickilicky ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Licking Fury","damage":"100+","effect":"Flip a coin until you get tails. This attack does 40 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #125","rarity":""},{"version":"Space-Time Smackdown #189","rarity":""},{"version":"Space-Time Smackdown #203","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":500},{"id":"126","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_126_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Quick Attack","damage":"10+","effect":"Flip a coin. If heads, this attack does 20 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #126","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"127","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_127_EN.webp","hp":"60","name":"Porygon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Beam","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #127","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"128","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_128_EN.webp","hp":"80","name":"Porygon2","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Sharpen","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #128","rarity":""}],"artist":"sowsow","crafting_cost":70},{"id":"129","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_129_EN.webp","hp":"140","name":"Porygon-Z","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Buggy Beam","damage":"80","effect":"Change the type of the next Energy that will be generated for your opponent to 1 of the following at random: [G],[R],[W],[L],[P],[F],[D], or [M]."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #129","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":150},{"id":"130","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_130_EN.webp","hp":"60","name":"Aipom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tail Jab","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #130","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"131","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_131_EN.webp","hp":"90","name":"Ambipom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Double Hit","damage":"40x","effect":"Flip 2 coins. This attack does 40 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #131","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"132","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_132_EN.webp","hp":"50","name":"Starly","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pluck","damage":"20","effect":"Before doing damage, discard all Pokmon Tools from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #132","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"133","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_133_EN.webp","hp":"80","name":"Staravia","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Wing Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #133","rarity":""}],"artist":"REND","crafting_cost":35},{"id":"134","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_134_EN.webp","hp":"140","name":"Staraptor","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Clutch","damage":"80","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #134","rarity":""},{"version":"Space-Time Smackdown #176","rarity":""}],"artist":"Sekio","crafting_cost":70},{"id":"135","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_135_EN.webp","hp":"60","name":"Bidoof","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Super","damage":"Fang","effect":"Halve your opponent's Active Pokmon's remaining HP, rounded down."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #135","rarity":""},{"version":"Space-Time Smackdown #177","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"136","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_136_EN.webp","hp":"110","name":"Bibarel","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Rolling Tackle","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #136","rarity":""}],"artist":"kirisAki","crafting_cost":35},{"id":"137","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_137_EN.webp","hp":"60","name":"Buneary","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Splash","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #137","rarity":""}],"artist":"Narumi Sato","crafting_cost":35},{"id":"138","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_138_EN.webp","hp":"90","name":"Lopunny","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Jump Kick","damage":"20","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #138","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":35},{"id":"139","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_139_EN.webp","hp":"60","name":"Glameow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pose","damage":"40","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #139","rarity":""},{"version":"Space-Time Smackdown #178","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"140","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_140_EN.webp","hp":"110","name":"Purugly","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Interrupt","damage":"60","effect":"Your opponent reveals their hand. Choose a card you find there and shuffle it into your opponent's deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #140","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"141","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_141_EN.webp","hp":"70","name":"Chatot","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Fury Attack","damage":"20x","effect":"Flip 3 coins. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #141","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":35},{"id":"142","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_142_EN.webp","hp":"80","name":"Fan Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Spin","damage":"Storm","effect":"Flip a coin. If heads, put your opponent's Active Pokmon into their hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #142","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":35},{"id":"143","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_143_EN.webp","hp":"140","name":"Regigigas","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Raging Hammer","damage":"50+","effect":"This attack does more damage equal to the damage this Pokmon has on it."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #143","rarity":""},{"version":"Space-Time Smackdown #179","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":150},{"id":"144","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_144_EN.webp","hp":"Unknown","name":"Skull Fossil","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #144","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"145","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_145_EN.webp","hp":"Unknown","name":"Armor Fossil","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #145","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"146","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_146_EN.webp","hp":"Unknown","name":"Pokmon Communication","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Choose a Pokmon in your hand and switch it with a random Pokmon in your deck.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ayaka Yoshida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #146","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":70},{"id":"147","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_147_EN.webp","hp":"Unknown","name":"Giant Cape","card_type":"Trainer","evolution_type":"Tool","attacks":[],"ability":"The Pokmon this card is attached to gets +20 HP.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryo Ueda","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #147","rarity":""}],"artist":"Ryo Ueda","crafting_cost":70},{"id":"148","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_148_EN.webp","hp":"Unknown","name":"Rocky Helmet","card_type":"Trainer","evolution_type":"Tool","attacks":[],"ability":"If the Pokmon this card is attached to is in the Active Spot and is damaged by an attack from your opponent's Pokmon, do 20 damage to the Attacking Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ayaka Yoshida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #148","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":70},{"id":"149","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_149_EN.webp","hp":"Unknown","name":"Lum Berry","card_type":"Trainer","evolution_type":"Tool","attacks":[],"ability":"At the end of each turn, if the Pokmon this card is attached to is affected by any Special Conditions, it recovers from all of them, and discard this card.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yoshinobu Saito","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #149","rarity":""}],"artist":"Yoshinobu Saito","crafting_cost":70},{"id":"150","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_150_EN.webp","hp":"Unknown","name":"Cyrus","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Switch in 1 of your opponent's Benched Pokmon that has damage on it to the Active Spot.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                akagi","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #150","rarity":""},{"version":"Space-Time Smackdown #190","rarity":""}],"artist":"akagi","crafting_cost":70},{"id":"151","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_151_EN.webp","hp":"Unknown","name":"Team Galactic Grunt","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put 1 random Glameow, Stunky, or Croagunk from your deck into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GOSSAN","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #151","rarity":""},{"version":"Space-Time Smackdown #191","rarity":""}],"artist":"GOSSAN","crafting_cost":70},{"id":"152","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_152_EN.webp","hp":"Unknown","name":"Cynthia","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Garchomp or Togekiss do +50 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #152","rarity":""},{"version":"Space-Time Smackdown #192","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":70},{"id":"153","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_153_EN.webp","hp":"Unknown","name":"Volkner","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Choose 1 of your Electivire or Luxray. Attach 2 [L] Energy from your discard pile to that Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GIDORA","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #153","rarity":""},{"version":"Space-Time Smackdown #193","rarity":""}],"artist":"GIDORA","crafting_cost":70},{"id":"154","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_154_EN.webp","hp":"Unknown","name":"Dawn","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Move an Energy from 1 of your Benched Pokmon to your Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                saino misaki","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #154","rarity":""},{"version":"Space-Time Smackdown #194","rarity":""}],"artist":"saino misaki","crafting_cost":70},{"id":"155","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_155_EN.webp","hp":"Unknown","name":"Mars","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Your opponent shuffles their hand into their deck and draws a card for each of their remaining points needed to win.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #155","rarity":""},{"version":"Space-Time Smackdown #195","rarity":""}],"artist":"Yuu Nishida","crafting_cost":70},{"id":"156","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_156_EN.webp","hp":"130","name":"Tangrowth","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Grass","Colorless"],"name":"Mega Drain","damage":"90","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #5","rarity":""},{"version":"Space-Time Smackdown #156","rarity":""}],"artist":"Saboteri","crafting_cost":400},{"id":"157","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_157_EN.webp","hp":"50","name":"Combee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Call for","damage":"Family","effect":"Put 1 random Basic Pokmon from your deck onto your Bench."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #17","rarity":""},{"version":"Space-Time Smackdown #157","rarity":""}],"artist":"Shibuzoh.","crafting_cost":400},{"id":"158","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_158_EN.webp","hp":"90","name":"Carnivine","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Flog","damage":"40+","effect":"Flip a coin. If heads, this attack does 50 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #19","rarity":""},{"version":"Space-Time Smackdown #158","rarity":""}],"artist":"Yoriyuki Ikegami","crafting_cost":400},{"id":"159","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_159_EN.webp","hp":"60","name":"Shaymin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Flop","damage":"30","effect":"No effect"}],"ability":{"name":"Fragrant Flower Garden","effect":"Once during your turn, you may heal 10 damage from each of your Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #22","rarity":""},{"version":"Space-Time Smackdown #159","rarity":""}],"artist":"REND","crafting_cost":400},{"id":"160","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_160_EN.webp","hp":"160","name":"Mamoswine","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless","Colorless"],"name":"Frosty Flattening","damage":"120","effect":"No effect"}],"ability":{"name":"Thick Fat","effect":"This Pokmon takes 30 damage from attacks from  or  Pokmon."},"weakness":"Metal","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #33","rarity":""},{"version":"Space-Time Smackdown #160","rarity":""}],"artist":"OKACHEKE","crafting_cost":400},{"id":"161","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_161_EN.webp","hp":"120","name":"Gastrodon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Muddy Water","damage":"60","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #41","rarity":""},{"version":"Space-Time Smackdown #161","rarity":""}],"artist":"takashi shiraishi","crafting_cost":400},{"id":"162","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_162_EN.webp","hp":"50","name":"Manaphy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Oceanic","damage":"Gift","effect":"Choose 2 of your Benched Pokmon. For each of those Pokmon, take a [W] Energy from your Energy Zone and attach it to that Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #50","rarity":""},{"version":"Space-Time Smackdown #162","rarity":""},{"version":"Promo-A #48","rarity":""}],"artist":"miki kudo","crafting_cost":400},{"id":"163","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_163_EN.webp","hp":"60","name":"Shinx","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Unknown","damage":"Hide","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #58","rarity":""},{"version":"Space-Time Smackdown #163","rarity":""}],"artist":"Yuu Nishida","crafting_cost":400},{"id":"164","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_164_EN.webp","hp":"70","name":"Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Assault Laser","damage":"20+","effect":"If your opponent's Active Pokmon has a Pokmon Tool attached, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #62","rarity":""},{"version":"Space-Time Smackdown #164","rarity":""}],"artist":"Shimaris Yukichi","crafting_cost":400},{"id":"165","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_165_EN.webp","hp":"50","name":"Drifloon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Expand","damage":"10","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #73","rarity":""},{"version":"Space-Time Smackdown #165","rarity":""}],"artist":"Orca","crafting_cost":400},{"id":"166","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_166_EN.webp","hp":"70","name":"Mesprit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Supreme Blast","damage":"160","effect":"You can use this attack only if you have Uxie and Azelf on your Bench. Discard all Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #76","rarity":""},{"version":"Space-Time Smackdown #166","rarity":""}],"artist":"Orca","crafting_cost":400},{"id":"167","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_167_EN.webp","hp":"120","name":"Giratina","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Spooky Shot","damage":"70","effect":"No effect"}],"ability":{"name":"Levitate","effect":"If this Pokmon has any Energy attached, it has no Retreat Cost."},"weakness":"Darkness","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #78","rarity":""},{"version":"Space-Time Smackdown #167","rarity":""}],"artist":"Rond","crafting_cost":400},{"id":"168","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_168_EN.webp","hp":"110","name":"Cresselia","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic"],"name":"Moonlight Gain","damage":"50","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #79","rarity":""},{"version":"Space-Time Smackdown #168","rarity":""}],"artist":"rika","crafting_cost":400},{"id":"169","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_169_EN.webp","hp":"160","name":"Rhyperior","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Mountain Swing","damage":"150","effect":"Discard the top 3 cards of your deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #82","rarity":""},{"version":"Space-Time Smackdown #169","rarity":""}],"artist":"Taiga Kayama","crafting_cost":400},{"id":"170","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_170_EN.webp","hp":"100","name":"Lucario","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Submarine Blow","damage":"40","effect":"No effect"}],"ability":{"name":"Fighting Coach","effect":"Attacks used by your  Pokmon do +20 damage to your opponent's Active Pokmon."},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #92","rarity":""},{"version":"Space-Time Smackdown #170","rarity":""}],"artist":"Akira Komayama","crafting_cost":400},{"id":"171","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_171_EN.webp","hp":"80","name":"Hippopotas","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Rolling Tackle","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #93","rarity":""},{"version":"Space-Time Smackdown #171","rarity":""}],"artist":"Teeziro","crafting_cost":400},{"id":"172","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_172_EN.webp","hp":"80","name":"Spiritomb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Swirling","damage":"Disaster","effect":"This attack does 10 damage to each of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #104","rarity":""},{"version":"Space-Time Smackdown #172","rarity":""}],"artist":"Shinji Kanda","crafting_cost":400},{"id":"173","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_173_EN.webp","hp":"60","name":"Croagunk","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness"],"name":"Group Beatdown","damage":"20x","effect":"Flip a coin for each Pokmon you have in play. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #107","rarity":""},{"version":"Space-Time Smackdown #173","rarity":""}],"artist":"GOSSAN","crafting_cost":400},{"id":"174","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_174_EN.webp","hp":"120","name":"Heatran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal","Metal"],"name":"Steel Tackle","damage":"110","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #120","rarity":""},{"version":"Space-Time Smackdown #174","rarity":""}],"artist":"OKUBO","crafting_cost":400},{"id":"175","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_175_EN.webp","hp":"140","name":"Garchomp","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Fighting"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"Reckless Shearing","effect":"You must discard a card from your hand in order to use this Ability. Once during your turn, you may draw a card."},"weakness":"none","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #123","rarity":""},{"version":"Space-Time Smackdown #175","rarity":""}],"artist":"MINAMINAMI Take","crafting_cost":400},{"id":"176","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_176_EN.webp","hp":"140","name":"Staraptor","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Clutch","damage":"80","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #134","rarity":""},{"version":"Space-Time Smackdown #176","rarity":""}],"artist":"Ryota Murayama","crafting_cost":400},{"id":"177","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_177_EN.webp","hp":"60","name":"Bidoof","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Super","damage":"Fang","effect":"Halve your opponent's Active Pokmon's remaining HP, rounded down."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #135","rarity":""},{"version":"Space-Time Smackdown #177","rarity":""}],"artist":"Shinya Komatsu","crafting_cost":400},{"id":"178","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_178_EN.webp","hp":"60","name":"Glameow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pose","damage":"40","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #139","rarity":""},{"version":"Space-Time Smackdown #178","rarity":""}],"artist":"matazo","crafting_cost":400},{"id":"179","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_179_EN.webp","hp":"140","name":"Regigigas","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Raging Hammer","damage":"50+","effect":"This attack does more damage equal to the damage this Pokmon has on it."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #143","rarity":""},{"version":"Space-Time Smackdown #179","rarity":""}],"artist":"Tetsu Kayama","crafting_cost":400},{"id":"180","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_180_EN.webp","hp":"140","name":"Yanmega ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Air Slash","damage":"120","effect":"Discard a random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #7","rarity":""},{"version":"Space-Time Smackdown #180","rarity":""},{"version":"Space-Time Smackdown #196","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"181","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_181_EN.webp","hp":"170","name":"Infernape ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Fire"],"name":"Flare Blitz","damage":"140","effect":"Discard all [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"0","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #29","rarity":""},{"version":"Space-Time Smackdown #181","rarity":""},{"version":"Space-Time Smackdown #197","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"182","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_182_EN.webp","hp":"150","name":"Palkia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Slash","damage":"30","effect":"No effect"},{"cost":["Water","Water","Water","Colorless"],"name":"Dimensional Storm","damage":"150","effect":"Discard 3 [W] Energy from this Pokmon. This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #49","rarity":""},{"version":"Space-Time Smackdown #182","rarity":""},{"version":"Space-Time Smackdown #204","rarity":""},{"version":"Space-Time Smackdown #206","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"183","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_183_EN.webp","hp":"120","name":"Pachirisu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Sparking Gadget","damage":"40+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #61","rarity":""},{"version":"Space-Time Smackdown #183","rarity":""},{"version":"Space-Time Smackdown #198","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"184","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_184_EN.webp","hp":"140","name":"Mismagius ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Magical Delusion","damage":"70","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #67","rarity":""},{"version":"Space-Time Smackdown #184","rarity":""},{"version":"Space-Time Smackdown #199","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"185","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_185_EN.webp","hp":"170","name":"Gallade ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting"],"name":"Energized Blade","damage":"70+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #95","rarity":""},{"version":"Space-Time Smackdown #185","rarity":""},{"version":"Space-Time Smackdown #200","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"186","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_186_EN.webp","hp":"140","name":"Weavile ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Scratching Nails","damage":"30+","effect":"If your opponent's Active Pokmon has damage on it, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #99","rarity":""},{"version":"Space-Time Smackdown #186","rarity":""},{"version":"Space-Time Smackdown #201","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"187","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_187_EN.webp","hp":"140","name":"Darkrai ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Prism","damage":"80","effect":"No effect"}],"ability":{"name":"Nightmare Aura","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, do 20 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #110","rarity":""},{"version":"Space-Time Smackdown #187","rarity":""},{"version":"Space-Time Smackdown #202","rarity":""},{"version":"Promo-A #42","rarity":""}],"artist":"PLANETA Yamashita","crafting_cost":1250},{"id":"188","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_188_EN.webp","hp":"150","name":"Dialga ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal"],"name":"Metallic Turbo","damage":"30","effect":"Take 2 [M] Energy from your Energy Zone and attach it to 1 of your Benched Pokmon."},{"cost":["Metal","Metal","Colorless","Colorless"],"name":"Heavy Impact","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #119","rarity":""},{"version":"Space-Time Smackdown #188","rarity":""},{"version":"Space-Time Smackdown #205","rarity":""},{"version":"Space-Time Smackdown #207","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"189","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_189_EN.webp","hp":"160","name":"Lickilicky ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Licking Fury","damage":"100+","effect":"Flip a coin until you get tails. This attack does 40 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #125","rarity":""},{"version":"Space-Time Smackdown #189","rarity":""},{"version":"Space-Time Smackdown #203","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"190","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_190_EN.webp","hp":"Unknown","name":"Cyrus","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Switch in 1 of your opponent's Benched Pokmon that has damage on it to the Active Spot.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                akagi","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #150","rarity":""},{"version":"Space-Time Smackdown #190","rarity":""}],"artist":"akagi","crafting_cost":1250},{"id":"191","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_191_EN.webp","hp":"Unknown","name":"Team Galactic Grunt","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put 1 random Glameow, Stunky, or Croagunk from your deck into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GOSSAN","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #151","rarity":""},{"version":"Space-Time Smackdown #191","rarity":""}],"artist":"GOSSAN","crafting_cost":1250},{"id":"192","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_192_EN.webp","hp":"Unknown","name":"Cynthia","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Garchomp or Togekiss do +50 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #152","rarity":""},{"version":"Space-Time Smackdown #192","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":1250},{"id":"193","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_193_EN.webp","hp":"Unknown","name":"Volkner","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Choose 1 of your Electivire or Luxray. Attach 2 [L] Energy from your discard pile to that Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GIDORA","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #153","rarity":""},{"version":"Space-Time Smackdown #193","rarity":""}],"artist":"GIDORA","crafting_cost":1250},{"id":"194","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_194_EN.webp","hp":"Unknown","name":"Dawn","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Move an Energy from 1 of your Benched Pokmon to your Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                saino misaki","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #154","rarity":""},{"version":"Space-Time Smackdown #194","rarity":""}],"artist":"saino misaki","crafting_cost":1250},{"id":"195","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_195_EN.webp","hp":"Unknown","name":"Mars","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Your opponent shuffles their hand into their deck and draws a card for each of their remaining points needed to win.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #155","rarity":""},{"version":"Space-Time Smackdown #195","rarity":""}],"artist":"Yuu Nishida","crafting_cost":1250},{"id":"196","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_196_EN.webp","hp":"140","name":"Yanmega ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Air Slash","damage":"120","effect":"Discard a random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #7","rarity":""},{"version":"Space-Time Smackdown #180","rarity":""},{"version":"Space-Time Smackdown #196","rarity":""}],"artist":"Mina Nakai","crafting_cost":1250},{"id":"197","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_197_EN.webp","hp":"170","name":"Infernape ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Fire"],"name":"Flare Blitz","damage":"140","effect":"Discard all [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"0","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #29","rarity":""},{"version":"Space-Time Smackdown #181","rarity":""},{"version":"Space-Time Smackdown #197","rarity":""}],"artist":"nagimiso","crafting_cost":1250},{"id":"198","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_198_EN.webp","hp":"120","name":"Pachirisu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Sparking Gadget","damage":"40+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #61","rarity":""},{"version":"Space-Time Smackdown #183","rarity":""},{"version":"Space-Time Smackdown #198","rarity":""}],"artist":"Nurikabe","crafting_cost":1250},{"id":"199","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_199_EN.webp","hp":"140","name":"Mismagius ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Magical Delusion","damage":"70","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #67","rarity":""},{"version":"Space-Time Smackdown #184","rarity":""},{"version":"Space-Time Smackdown #199","rarity":""}],"artist":"Kuroimori","crafting_cost":1250},{"id":"200","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_200_EN.webp","hp":"170","name":"Gallade ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting"],"name":"Energized Blade","damage":"70+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #95","rarity":""},{"version":"Space-Time Smackdown #185","rarity":""},{"version":"Space-Time Smackdown #200","rarity":""}],"artist":"Takumi Wada","crafting_cost":1250},{"id":"201","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_201_EN.webp","hp":"140","name":"Weavile ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Scratching Nails","damage":"30+","effect":"If your opponent's Active Pokmon has damage on it, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #99","rarity":""},{"version":"Space-Time Smackdown #186","rarity":""},{"version":"Space-Time Smackdown #201","rarity":""}],"artist":"hncl","crafting_cost":1250},{"id":"202","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_202_EN.webp","hp":"140","name":"Darkrai ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Prism","damage":"80","effect":"No effect"}],"ability":{"name":"Nightmare Aura","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, do 20 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #110","rarity":""},{"version":"Space-Time Smackdown #187","rarity":""},{"version":"Space-Time Smackdown #202","rarity":""},{"version":"Promo-A #42","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":1250},{"id":"203","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_203_EN.webp","hp":"160","name":"Lickilicky ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Licking Fury","damage":"100+","effect":"Flip a coin until you get tails. This attack does 40 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #125","rarity":""},{"version":"Space-Time Smackdown #189","rarity":""},{"version":"Space-Time Smackdown #203","rarity":""}],"artist":"Jerky","crafting_cost":1250},{"id":"204","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_204_EN.webp","hp":"150","name":"Palkia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Slash","damage":"30","effect":"No effect"},{"cost":["Water","Water","Water","Colorless"],"name":"Dimensional Storm","damage":"150","effect":"Discard 3 [W] Energy from this Pokmon. This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #49","rarity":""},{"version":"Space-Time Smackdown #182","rarity":""},{"version":"Space-Time Smackdown #204","rarity":""},{"version":"Space-Time Smackdown #206","rarity":""}],"artist":"N-DESIGN Inc.","crafting_cost":1500},{"id":"205","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_205_EN.webp","hp":"150","name":"Dialga ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal"],"name":"Metallic Turbo","damage":"30","effect":"Take 2 [M] Energy from your Energy Zone and attach it to 1 of your Benched Pokmon."},{"cost":["Metal","Metal","Colorless","Colorless"],"name":"Heavy Impact","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #119","rarity":""},{"version":"Space-Time Smackdown #188","rarity":""},{"version":"Space-Time Smackdown #205","rarity":""},{"version":"Space-Time Smackdown #207","rarity":""}],"artist":"N-DESIGN Inc.","crafting_cost":1500},{"id":"206","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_206_EN.webp","hp":"150","name":"Palkia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Slash","damage":"30","effect":"No effect"},{"cost":["Water","Water","Water","Colorless"],"name":"Dimensional Storm","damage":"150","effect":"Discard 3 [W] Energy from this Pokmon. This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #49","rarity":""},{"version":"Space-Time Smackdown #182","rarity":""},{"version":"Space-Time Smackdown #204","rarity":""},{"version":"Space-Time Smackdown #206","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"},{"id":"207","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_207_EN.webp","hp":"150","name":"Dialga ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal"],"name":"Metallic Turbo","damage":"30","effect":"Take 2 [M] Energy from your Energy Zone and attach it to 1 of your Benched Pokmon."},{"cost":["Metal","Metal","Colorless","Colorless"],"name":"Heavy Impact","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #119","rarity":""},{"version":"Space-Time Smackdown #188","rarity":""},{"version":"Space-Time Smackdown #205","rarity":""},{"version":"Space-Time Smackdown #207","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"}]`),mse=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_001_EN.webp","hp":"100","name":"Heracross","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Single-Horn Throw","damage":"50+","effect":"Flip 2 coins. If both of them are heads, this attack does 70 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #1","rarity":""}],"artist":"Satoshi Shirai","crafting_cost":70},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_002_EN.webp","hp":"50","name":"Burmy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Ram","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #2","rarity":""}],"artist":"miki kudo","crafting_cost":35},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_003_EN.webp","hp":"90","name":"Mothim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Gust","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #3","rarity":""}],"artist":"MAHOU","crafting_cost":70},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_004_EN.webp","hp":"50","name":"Combee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Bug Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #4","rarity":""}],"artist":"Akira Komayama","crafting_cost":35},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_005_EN.webp","hp":"100","name":"Vespiquen","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Grass"],"name":"Reckless Charge","damage":"120","effect":"This Pokmon also does 30 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #5","rarity":""}],"artist":"kawayoo","crafting_cost":70},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_006_EN.webp","hp":"50","name":"Cherubi","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Leafage","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #6","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_007_EN.webp","hp":"80","name":"Cherrim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Worry Seed","damage":"40","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #7","rarity":""}],"artist":"Midori Harada","crafting_cost":70},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_008_EN.webp","hp":"80","name":"Cherrim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Leech Seed","damage":"60","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #8","rarity":""},{"version":"Promo-A #43","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_009_EN.webp","hp":"80","name":"Carnivine","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Vine Whip","damage":"20","effect":"No effect"}],"ability":{"name":"Power Link","effect":"If you have Arceus or Arceus ex in play, attacks used by this Pokmon do +30 damage to your opponent's Active Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #9","rarity":""}],"artist":"Shiburingaru","crafting_cost":150},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_010_EN.webp","hp":"140","name":"Leafeon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Forest Breath","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may take a  Energy from your Energy Zone and attach it to 1 of your  Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #10","rarity":""},{"version":"Triumphant Light #82","rarity":""},{"version":"Triumphant Light #91","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_011_EN.webp","hp":"60","name":"Houndour","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Flare","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #11","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_012_EN.webp","hp":"100","name":"Houndoom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Corner","damage":"60","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #12","rarity":""},{"version":"Triumphant Light #76","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":70},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_013_EN.webp","hp":"110","name":"Heatran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Fire"],"name":"Ragin Mad Strike","damage":"40+","effect":"If this Pokmon has damage on it, this attack does 40 more damage."}],"ability":{"name":"Speed Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon has no Retreat Cost."},"weakness":"Water","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #13","rarity":""}],"artist":"Kazumasa Yasukuni","crafting_cost":150},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_014_EN.webp","hp":"60","name":"Marill","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #14","rarity":""},{"version":"Triumphant Light #77","rarity":""}],"artist":"Tika Matsuno","crafting_cost":35},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_015_EN.webp","hp":"100","name":"Azumarill","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Waterfall","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #15","rarity":""}],"artist":"miki kudo","crafting_cost":35},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_016_EN.webp","hp":"60","name":"Barboach","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Mud-Slap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #16","rarity":""}],"artist":"sui","crafting_cost":35},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_017_EN.webp","hp":"120","name":"Whiscash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless","Colorless"],"name":"Thrash","damage":"80+","effect":"Flip a coin. If heads, this attack does 60 more damage. If tails, this Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #17","rarity":""}],"artist":"Shinya Komatsu","crafting_cost":70},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_018_EN.webp","hp":"60","name":"Snorunt","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Icicle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #18","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_019_EN.webp","hp":"90","name":"Froslass","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Blizzard","damage":"40","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #19","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_020_EN.webp","hp":"70","name":"Snover","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Corkscrew Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #20","rarity":""}],"artist":"otumami","crafting_cost":35},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_021_EN.webp","hp":"120","name":"Abomasnow","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Mega Punch","damage":"80","effect":"No effect"}],"ability":{"name":"Vigor Link","effect":"If you have Arceus or Arceus ex in play, attacks used by this Pokmon cost 1 less  Energy."},"weakness":"Metal","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #21","rarity":""}],"artist":"nagimiso","crafting_cost":150},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_022_EN.webp","hp":"140","name":"Glaceon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Freezing Wind","damage":"90","effect":"No effect"}],"ability":{"name":"Snowy Terrain","effect":"During Pokmon Checkup, if this Pokmon is in the Active Spot, do 10 damage to your opponent's Active Pokmon."},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #22","rarity":""},{"version":"Triumphant Light #83","rarity":""},{"version":"Triumphant Light #92","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_023_EN.webp","hp":"120","name":"Origin Forme Palkia","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water","Water"],"name":"Zone Smash","damage":"60+","effect":"Flip a coin. If heads, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #23","rarity":""}],"artist":"toriyufu","crafting_cost":150},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_024_EN.webp","hp":"60","name":"Phione","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water"],"name":"Water Pulse","damage":"40","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #24","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":70},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_025_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Spark","damage":"10","effect":"This attack also does 10 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #25","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_026_EN.webp","hp":"90","name":"Raichu","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Spark","damage":"40","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"Resilience Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon takes 30 damage from attacks."},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #26","rarity":""},{"version":"Promo-A #44","rarity":""}],"artist":"Nisota Niso","crafting_cost":150},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_027_EN.webp","hp":"60","name":"Electrike","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Zap Kick","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #27","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_028_EN.webp","hp":"90","name":"Manectric","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning"],"name":"Flash","damage":"40","effect":"During your opponent's next turn, if the Defending Pokmon tries to use an attack, your opponent flips a coin. If tails, that attack doesn't happen."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #28","rarity":""}],"artist":"match","crafting_cost":70},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_029_EN.webp","hp":"60","name":"Clefairy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Smack","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #29","rarity":""}],"artist":"rika","crafting_cost":35},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_030_EN.webp","hp":"100","name":"Clefable","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Moonblast","damage":"60","effect":"During your opponent's next turn, attacks used by the Defending Pokmon do 30 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #30","rarity":""}],"artist":"sui","crafting_cost":70},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_031_EN.webp","hp":"50","name":"Gastly","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Astonish","effect":"Flip a coin. If heads, your opponent reveals a random card from their hand and shuffles it into their deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #31","rarity":""}],"artist":"Yuu Nishida","crafting_cost":35},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_032_EN.webp","hp":"80","name":"Haunter","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Mumble","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #32","rarity":""}],"artist":"Eri Yamaki","crafting_cost":35},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_033_EN.webp","hp":"140","name":"Gengar","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic"],"name":"Hypnoblast","damage":"70","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #33","rarity":""}],"artist":"Midori Harada","crafting_cost":70},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_034_EN.webp","hp":"60","name":"Unown","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Hidden Power","damage":"20","effect":"No effect"}],"ability":{"name":"CHECK","effect":"Once during your turn, you may choose either player. Look at the top card of that player's deck."},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #34","rarity":""},{"version":"Triumphant Light #78","rarity":""}],"artist":"Tetsu Kayama","crafting_cost":70},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_035_EN.webp","hp":"70","name":"Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Dash","damage":"Attack","effect":"This attack does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"Speed Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon has no Retreat Cost."},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #35","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":150},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_036_EN.webp","hp":"80","name":"Sudowoodo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Fighting Headbutt","damage":"20+","effect":"If your opponent's Active Pokmon is a Pokmon ex, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #36","rarity":""},{"version":"Triumphant Light #79","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":70},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_037_EN.webp","hp":"60","name":"Phanpy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Rollout","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #37","rarity":""}],"artist":"Asako Ito","crafting_cost":35},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_038_EN.webp","hp":"120","name":"Donphan","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Rolling Spin","damage":"60","effect":"During your next turn, this Pokmon's Rolling Spin attack does +60 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #38","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":70},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_039_EN.webp","hp":"60","name":"Larvitar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Corkscrew Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #39","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_040_EN.webp","hp":"80","name":"Pupitar","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless","Colorless"],"name":"Speed Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #40","rarity":""}],"artist":"match","crafting_cost":70},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_041_EN.webp","hp":"160","name":"Tyranitar","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Land Crush","damage":"130","effect":"No effect"}],"ability":{"name":"Power Link","effect":"If you have Arceus or Arceus ex in play, attacks used by this Pokmon do +30 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #41","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_042_EN.webp","hp":"80","name":"Nosepass","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #42","rarity":""}],"artist":"Satoshi Shirai","crafting_cost":35},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_043_EN.webp","hp":"60","name":"Meditite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Kick","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #43","rarity":""}],"artist":"Mina Nakai","crafting_cost":35},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_044_EN.webp","hp":"100","name":"Medicham","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Kick Shot","damage":"80","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #44","rarity":""}],"artist":"Tetsu Kayama","crafting_cost":70},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_045_EN.webp","hp":"60","name":"Gible","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #45","rarity":""},{"version":"Promo-A #46","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_046_EN.webp","hp":"80","name":"Gabite","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Sharp Scythe","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #46","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":35},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_047_EN.webp","hp":"170","name":"Garchomp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Linear","damage":"Attack","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."},{"cost":["Fighting","Fighting","Colorless"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #47","rarity":""},{"version":"Triumphant Light #84","rarity":""},{"version":"Triumphant Light #93","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_048_EN.webp","hp":"50","name":"Zubat","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #48","rarity":""}],"artist":"Sekio","crafting_cost":35},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_049_EN.webp","hp":"80","name":"Golbat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #49","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"50","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_050_EN.webp","hp":"110","name":"Crobat","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness"],"name":"Darkness Fang","damage":"50","effect":"No effect"}],"ability":{"name":"Cunning Link","effect":"Once during your turn, if you have Arceus or Arceus ex in play, you may do 30 damage to your opponent's Active Pokmon."},"weakness":"Fighting","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #50","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":150},{"id":"51","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_051_EN.webp","hp":"60","name":"Croagunk","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Beat","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #51","rarity":""}],"artist":"SATOSHI NAKAI","crafting_cost":35},{"id":"52","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_052_EN.webp","hp":"100","name":"Toxicroak","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Unknown","damage":"Toxic","effect":"Your opponent's Active Pokmon is now Poisoned. Do 20 damage to this Pokmon instead of the usual amount for this Special Condition."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #52","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":70},{"id":"53","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_053_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #53","rarity":""},{"version":"Triumphant Light #80","rarity":""}],"artist":"OKACHEKE","crafting_cost":35},{"id":"54","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_054_EN.webp","hp":"90","name":"Magneton","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Colorless"],"name":"Rolling Attack","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #54","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":35},{"id":"55","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_055_EN.webp","hp":"140","name":"Magnezone","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Power Beam","damage":"80","effect":"No effect"}],"ability":{"name":"Resilience Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon takes 30 damage from attacks."},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #55","rarity":""}],"artist":"toriyufu","crafting_cost":150},{"id":"56","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_056_EN.webp","hp":"70","name":"Mawile","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Iron Beam Breaker","damage":"20+","effect":"If your opponent's Active Pokmon is a [M] Pokmon, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #56","rarity":""}],"artist":"tetsuya koizumi","crafting_cost":35},{"id":"57","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_057_EN.webp","hp":"160","name":"Probopass ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Defensive Unit","damage":"90","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #57","rarity":""},{"version":"Triumphant Light #85","rarity":""},{"version":"Triumphant Light #94","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"58","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_058_EN.webp","hp":"60","name":"Bronzor","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Ram","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #58","rarity":""}],"artist":"Akira Komayama","crafting_cost":35},{"id":"59","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_059_EN.webp","hp":"120","name":"Bronzong","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Psychic","damage":"50+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #59","rarity":""}],"artist":"Naoki Saito","crafting_cost":70},{"id":"60","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_060_EN.webp","hp":"120","name":"Origin Forme Dialga","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Time Mash","damage":"100","effect":"Flip a coin. If tails, during your next turn, this Pokmon can't attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #60","rarity":""}],"artist":"akagi","crafting_cost":150},{"id":"61","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_061_EN.webp","hp":"120","name":"Giratina","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Psychic","Colorless"],"name":"Crisis Dive","damage":"120","effect":"Discard 2 random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #61","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":150},{"id":"62","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_062_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Tail Whap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #62","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"63","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_063_EN.webp","hp":"140","name":"Snorlax","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Collapse","damage":"100","effect":"This Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #63","rarity":""},{"version":"Promo-A #49","rarity":""}],"artist":"burari","crafting_cost":70},{"id":"64","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_064_EN.webp","hp":"60","name":"Hoothoot","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #64","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":35},{"id":"65","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_065_EN.webp","hp":"100","name":"Noctowl","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Silent Wing","damage":"50","effect":"Your opponent reveals their hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #65","rarity":""}],"artist":"DOM","crafting_cost":70},{"id":"66","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_066_EN.webp","hp":"60","name":"Starly","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Glide","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #66","rarity":""}],"artist":"Apios","crafting_cost":35},{"id":"67","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_067_EN.webp","hp":"80","name":"Staravia","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Wing Attack","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #67","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":35},{"id":"68","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_068_EN.webp","hp":"150","name":"Staraptor","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Brave Bird","damage":"130","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #68","rarity":""}],"artist":"Minahamu","crafting_cost":70},{"id":"69","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_069_EN.webp","hp":"70","name":"Shaymin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Flap","damage":"30","effect":"No effect"}],"ability":{"name":"Sky Support","effect":"As long as this Pokmon is on your Bench, your Active Basic Pokemon's Retreat Cost is 1 less."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #69","rarity":""},{"version":"Triumphant Light #81","rarity":""}],"artist":"Mizue","crafting_cost":150},{"id":"70","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_070_EN.webp","hp":"120","name":"Arceus","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Power Blast","damage":"100","effect":"Discard a random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #70","rarity":""}],"artist":"Nurikabe","crafting_cost":150},{"id":"71","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_071_EN.webp","hp":"140","name":"Arceus ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Ultimate Force","damage":"70+","effect":"This attack does 20 more damage for each of your Benched Pokmon."}],"ability":{"name":"Fabled Luster","effect":"This Pokmon can't be affected by any Special Conditions."},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #71","rarity":""},{"version":"Triumphant Light #86","rarity":""},{"version":"Triumphant Light #95","rarity":""},{"version":"Triumphant Light #96","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"72","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_072_EN.webp","hp":"Unknown","name":"Irida","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Heal 40 damage from each of your Pokmon that has any [W] Energy attached.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Atsushi Furusawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #72","rarity":""},{"version":"Triumphant Light #87","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":70},{"id":"73","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_073_EN.webp","hp":"Unknown","name":"Celestic Town Elder","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put 1 random Basic Pokemon from your discard pile into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #73","rarity":""},{"version":"Triumphant Light #88","rarity":""}],"artist":"Yuu Nishida","crafting_cost":70},{"id":"74","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_074_EN.webp","hp":"Unknown","name":"Barry","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Snorlax, Heracross, and Staraptor cost 2 less [C] Energy.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Hideki Ishikawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #74","rarity":""},{"version":"Triumphant Light #89","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":70},{"id":"75","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_075_EN.webp","hp":"Unknown","name":"Adaman","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During your opponent's next turn, all of your [M] Pokmon take 20 damage from attacks from your opponent's Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                akagi","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #75","rarity":""},{"version":"Triumphant Light #90","rarity":""}],"artist":"akagi","crafting_cost":70},{"id":"76","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_076_EN.webp","hp":"100","name":"Houndoom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Corner","damage":"60","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #12","rarity":""},{"version":"Triumphant Light #76","rarity":""}],"artist":"matazo","crafting_cost":400},{"id":"77","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_077_EN.webp","hp":"60","name":"Marill","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #14","rarity":""},{"version":"Triumphant Light #77","rarity":""}],"artist":"Taiga Kayama","crafting_cost":400},{"id":"78","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_078_EN.webp","hp":"60","name":"Unown","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Hidden Power","damage":"20","effect":"No effect"}],"ability":{"name":"CHECK","effect":"Once during your turn, you may choose either player. Look at the top card of that player's deck."},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #34","rarity":""},{"version":"Triumphant Light #78","rarity":""}],"artist":"IKEDA Saki","crafting_cost":400},{"id":"79","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_079_EN.webp","hp":"80","name":"Sudowoodo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Fighting Headbutt","damage":"20+","effect":"If your opponent's Active Pokmon is a Pokmon ex, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #36","rarity":""},{"version":"Triumphant Light #79","rarity":""}],"artist":"Yuriko Akase","crafting_cost":400},{"id":"80","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_080_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #53","rarity":""},{"version":"Triumphant Light #80","rarity":""}],"artist":"Yukihiro Tada","crafting_cost":400},{"id":"81","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_081_EN.webp","hp":"70","name":"Shaymin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Flap","damage":"30","effect":"No effect"}],"ability":{"name":"Sky Support","effect":"As long as this Pokmon is on your Bench, your Active Basic Pokemon's Retreat Cost is 1 less."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #69","rarity":""},{"version":"Triumphant Light #81","rarity":""}],"artist":"MINAMINAMI Take","crafting_cost":400},{"id":"82","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_082_EN.webp","hp":"140","name":"Leafeon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Forest Breath","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may take a  Energy from your Energy Zone and attach it to 1 of your  Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #10","rarity":""},{"version":"Triumphant Light #82","rarity":""},{"version":"Triumphant Light #91","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"83","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_083_EN.webp","hp":"140","name":"Glaceon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Freezing Wind","damage":"90","effect":"No effect"}],"ability":{"name":"Snowy Terrain","effect":"During Pokmon Checkup, if this Pokmon is in the Active Spot, do 10 damage to your opponent's Active Pokmon."},"weakness":"Metal","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #22","rarity":""},{"version":"Triumphant Light #83","rarity":""},{"version":"Triumphant Light #92","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"84","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_084_EN.webp","hp":"170","name":"Garchomp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Linear","damage":"Attack","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."},{"cost":["Fighting","Fighting","Colorless"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #47","rarity":""},{"version":"Triumphant Light #84","rarity":""},{"version":"Triumphant Light #93","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"85","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_085_EN.webp","hp":"160","name":"Probopass ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Defensive Unit","damage":"90","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #57","rarity":""},{"version":"Triumphant Light #85","rarity":""},{"version":"Triumphant Light #94","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"86","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_086_EN.webp","hp":"140","name":"Arceus ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Ultimate Force","damage":"70+","effect":"This attack does 20 more damage for each of your Benched Pokmon."}],"ability":{"name":"Fabled Luster","effect":"This Pokmon can't be affected by any Special Conditions."},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #71","rarity":""},{"version":"Triumphant Light #86","rarity":""},{"version":"Triumphant Light #95","rarity":""},{"version":"Triumphant Light #96","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"87","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_087_EN.webp","hp":"Unknown","name":"Irida","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Heal 40 damage from each of your Pokmon that has any [W] Energy attached.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Atsushi Furusawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #72","rarity":""},{"version":"Triumphant Light #87","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":1250},{"id":"88","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_088_EN.webp","hp":"Unknown","name":"Celestic Town Elder","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put 1 random Basic Pokemon from your discard pile into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #73","rarity":""},{"version":"Triumphant Light #88","rarity":""}],"artist":"Yuu Nishida","crafting_cost":1250},{"id":"89","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_089_EN.webp","hp":"Unknown","name":"Barry","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Snorlax, Heracross, and Staraptor cost 2 less [C] Energy.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Hideki Ishikawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #74","rarity":""},{"version":"Triumphant Light #89","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":1250},{"id":"90","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_090_EN.webp","hp":"Unknown","name":"Adaman","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During your opponent's next turn, all of your [M] Pokmon take 20 damage from attacks from your opponent's Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                akagi","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #75","rarity":""},{"version":"Triumphant Light #90","rarity":""}],"artist":"akagi","crafting_cost":1250},{"id":"91","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_091_EN.webp","hp":"140","name":"Leafeon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Forest Breath","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may take a  Energy from your Energy Zone and attach it to 1 of your  Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #10","rarity":""},{"version":"Triumphant Light #82","rarity":""},{"version":"Triumphant Light #91","rarity":""}],"artist":"saino misaki","crafting_cost":1250},{"id":"92","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_092_EN.webp","hp":"140","name":"Glaceon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Freezing Wind","damage":"90","effect":"No effect"}],"ability":{"name":"Snowy Terrain","effect":"During Pokmon Checkup, if this Pokmon is in the Active Spot, do 10 damage to your opponent's Active Pokmon."},"weakness":"Metal","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #22","rarity":""},{"version":"Triumphant Light #83","rarity":""},{"version":"Triumphant Light #92","rarity":""}],"artist":"rika","crafting_cost":1250},{"id":"93","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_093_EN.webp","hp":"170","name":"Garchomp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Linear","damage":"Attack","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."},{"cost":["Fighting","Fighting","Colorless"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #47","rarity":""},{"version":"Triumphant Light #84","rarity":""},{"version":"Triumphant Light #93","rarity":""}],"artist":"toriyufu","crafting_cost":1250},{"id":"94","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_094_EN.webp","hp":"160","name":"Probopass ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Defensive Unit","damage":"90","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #57","rarity":""},{"version":"Triumphant Light #85","rarity":""},{"version":"Triumphant Light #94","rarity":""}],"artist":"Masa","crafting_cost":1250},{"id":"95","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_095_EN.webp","hp":"140","name":"Arceus ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Ultimate Force","damage":"70+","effect":"This attack does 20 more damage for each of your Benched Pokmon."}],"ability":{"name":"Fabled Luster","effect":"This Pokmon can't be affected by any Special Conditions."},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #71","rarity":""},{"version":"Triumphant Light #86","rarity":""},{"version":"Triumphant Light #95","rarity":""},{"version":"Triumphant Light #96","rarity":""}],"artist":"Takumi Wada","crafting_cost":1500},{"id":"96","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_096_EN.webp","hp":"140","name":"Arceus ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Ultimate Force","damage":"70+","effect":"This attack does 20 more damage for each of your Benched Pokmon."}],"ability":{"name":"Fabled Luster","effect":"This Pokmon can't be affected by any Special Conditions."},"weakness":"Fighting","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #71","rarity":""},{"version":"Triumphant Light #86","rarity":""},{"version":"Triumphant Light #95","rarity":""},{"version":"Triumphant Light #96","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"}]`),gse=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_001_EN.webp","hp":"Unknown","name":"Potion","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Heal 20 damage from 1 of your Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                5ban Graphics","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #1","rarity":""}],"artist":"5ban Graphics","crafting_cost":"Unknown"},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_002_EN.webp","hp":"Unknown","name":"X Speed","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"During this turn, the Retreat Cost of your Active Pokmon is 1 less.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #2","rarity":""}],"artist":"Toyste Beach","crafting_cost":"Unknown"},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_003_EN.webp","hp":"Unknown","name":"Hand Scope","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Your opponent reveals their hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #3","rarity":""}],"artist":"Toyste Beach","crafting_cost":"Unknown"},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_004_EN.webp","hp":"Unknown","name":"Pokdex","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Look at the top 3 cards of your deck.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryo Ueda","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #4","rarity":""},{"version":"Promo-A #8","rarity":""}],"artist":"Ryo Ueda","crafting_cost":"Unknown"},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_005_EN.webp","hp":"Unknown","name":"Pok Ball","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Put 1 random Basic Pokemon from your deck into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryo Ueda","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #5","rarity":""}],"artist":"Ryo Ueda","crafting_cost":"Unknown"},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_006_EN.webp","hp":"Unknown","name":"Red Card","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Your opponent shuffles their hand into their deck and draws 3 cards.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                5ban Graphics","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #6","rarity":""}],"artist":"5ban Graphics","crafting_cost":"Unknown"},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_007_EN.webp","hp":"Unknown","name":"Professor's Research","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Draw 2 cards.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Naoki Saito","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #7","rarity":""}],"artist":"Naoki Saito","crafting_cost":"Unknown"},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_008_EN.webp","hp":"Unknown","name":"Pokdex","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Look at the top 3 cards of your deck.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #4","rarity":""},{"version":"Promo-A #8","rarity":""}],"artist":"Yuu Nishida","crafting_cost":"Unknown"},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_009_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #94","rarity":""},{"version":"Promo-A #9","rarity":""},{"version":"Promo-A #15","rarity":""},{"version":"Promo-A #26","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":"Unknown"},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_010_EN.webp","hp":"120","name":"Mewtwo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Power Blast","damage":"120","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #128","rarity":""},{"version":"Promo-A #10","rarity":""}],"artist":"Krgc","crafting_cost":"Unknown"},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_011_EN.webp","hp":"120","name":"Chansey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Gentle Slap","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #202","rarity":""},{"version":"Promo-A #11","rarity":""}],"artist":"sowsow","crafting_cost":"Unknown"},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_012_EN.webp","hp":"60","name":"Meowth","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pay Day","damage":"10","effect":"Draw 1 card."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #196","rarity":""},{"version":"Genetic Apex #246","rarity":""},{"version":"Promo-A #12","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":"Unknown"},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_013_EN.webp","hp":"120","name":"Butterfree","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Gust","damage":"60","effect":"No effect"}],"ability":{"name":"Powder Heal","effect":"Once during your turn, you may heal 20 damage from each of your Pokmon."},"weakness":"Fire","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #7","rarity":""},{"version":"Promo-A #13","rarity":""}],"artist":"miki kudo","crafting_cost":"Unknown"},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_014_EN.webp","hp":"140","name":"Lapras ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water","Colorless"],"name":"Bubble Drain","damage":"80","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #14","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_015_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #94","rarity":""},{"version":"Promo-A #9","rarity":""},{"version":"Promo-A #15","rarity":""},{"version":"Promo-A #26","rarity":""}],"artist":"Kouki Saitou","crafting_cost":"Unknown"},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_016_EN.webp","hp":"60","name":"Clefairy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #113","rarity":""},{"version":"Promo-A #16","rarity":""}],"artist":"Shibuzoh.","crafting_cost":"Unknown"},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_017_EN.webp","hp":"60","name":"Mankey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Reckless Charge","damage":"30","effect":"This Pokmon also does 10 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #17","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":"Unknown"},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_018_EN.webp","hp":"160","name":"Venusaur","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Mega Drain","damage":"80","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #3","rarity":""},{"version":"Promo-A #18","rarity":""}],"artist":"Kuroimori","crafting_cost":"Unknown"},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_019_EN.webp","hp":"120","name":"Greninja","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless"],"name":"Mist Slash","damage":"60","effect":"No effect"}],"ability":{"name":"Water Shuriken","effect":"Once during your turn, you may do 20 damage to 1 of your opponent's Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #89","rarity":""},{"version":"Promo-A #19","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":"Unknown"},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_020_EN.webp","hp":"70","name":"Haunter","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Surprise Attack","damage":"50","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #20","rarity":""}],"artist":"Mkayu","crafting_cost":"Unknown"},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_021_EN.webp","hp":"110","name":"Onix","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Land Crush","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #150","rarity":""},{"version":"Promo-A #21","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":"Unknown"},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_022_EN.webp","hp":"60","name":"Jigglypuff","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Sing","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #22","rarity":""}],"artist":"Kurata So","crafting_cost":"Unknown"},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_023_EN.webp","hp":"70","name":"Bulbasaur","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #1","rarity":""},{"version":"Genetic Apex #227","rarity":""},{"version":"Promo-A #23","rarity":""}],"artist":"Kouki Saitou","crafting_cost":"Unknown"},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_024_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Lightning Ball","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #97","rarity":""},{"version":"Promo-A #24","rarity":""}],"artist":"Miki Tanaka","crafting_cost":"Unknown"},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_025_EN.webp","hp":"140","name":"Moltres ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Inferno","damage":"Dance","effect":"Flip 3 coins. Take an amount of [R] Energy from your Energy Zone equal to the number of heads and attach it to your Benched [R] Pokmon in any way you like."},{"cost":["Fire","Colorless","Colorless"],"name":"Heat Blast","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #47","rarity":""},{"version":"Genetic Apex #255","rarity":""},{"version":"Genetic Apex #274","rarity":""},{"version":"Promo-A #25","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":"Unknown"},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_026_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #94","rarity":""},{"version":"Promo-A #9","rarity":""},{"version":"Promo-A #15","rarity":""},{"version":"Promo-A #26","rarity":""}],"artist":"Kouki Saitou","crafting_cost":"Unknown"},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_027_EN.webp","hp":"60","name":"Snivy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #27","rarity":""}],"artist":"Yoriyuki Ikegami","crafting_cost":"Unknown"},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_028_EN.webp","hp":"120","name":"Volcarona","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Volcanic","damage":"Ash","effect":"Discard 2 [R] Energy from this Pokmon. This attack does 80 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Mythical Island #14","rarity":""},{"version":"Promo-A #28","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":"Unknown"},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_029_EN.webp","hp":"150","name":"Blastoise","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless"],"name":"Hydro Pump","damage":"80+","effect":"If this Pokmon has at least 2 extra [W] Energy attached, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #55","rarity":""},{"version":"Promo-A #29","rarity":""}],"artist":"danciao","crafting_cost":"Unknown"},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_030_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Growl","effect":"During your opponent's next turn, attacks used by the Defending Pokmon do 20 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #30","rarity":""}],"artist":"En Morikura","crafting_cost":"Unknown"},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_031_EN.webp","hp":"90","name":"Cinccino","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Do the Wave","damage":"30x","effect":"This attack does 30 damage for each of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #213","rarity":""},{"version":"Promo-A #31","rarity":""}],"artist":"MAHOU","crafting_cost":"Unknown"},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_032_EN.webp","hp":"60","name":"Charmander","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Ember","damage":"30","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #33","rarity":""},{"version":"Genetic Apex #230","rarity":""},{"version":"Promo-A #32","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":"Unknown"},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_033_EN.webp","hp":"60","name":"Squirtle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #53","rarity":""},{"version":"Genetic Apex #232","rarity":""},{"version":"Promo-A #33","rarity":""}],"artist":"Kanako Eo","crafting_cost":"Unknown"},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_034_EN.webp","hp":"60","name":"Piplup","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Nap","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #35","rarity":""},{"version":"Promo-A #34","rarity":""}],"artist":"Kariya","crafting_cost":"Unknown"},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_035_EN.webp","hp":"80","name":"Turtwig","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #10","rarity":""},{"version":"Promo-A #35","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":"Unknown"},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_036_EN.webp","hp":"120","name":"Electivire","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Exciting Voltage","damage":"40+","effect":"If this Pokmon has at least 2 extra [L] Energy attached, this attack does 80 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #57","rarity":""},{"version":"Promo-A #36","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":"Unknown"},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_037_EN.webp","hp":"140","name":"Cresselia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Psychic Flash","damage":"80","effect":"No effect"}],"ability":{"name":"Lunar Plumage","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, heal 20 damage from this Pokmon."},"weakness":"Darkness","retreat":"2","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #37","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":"Unknown"},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_038_EN.webp","hp":"60","name":"Misdreavus","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Confuse","damage":"Ray","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #38","rarity":""}],"artist":"Miki Tanaka","crafting_cost":"Unknown"},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_039_EN.webp","hp":"80","name":"Skarmory","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Metal Arms","damage":"20+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #111","rarity":""},{"version":"Promo-A #39","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":"Unknown"},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_040_EN.webp","hp":"60","name":"Chimchar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Scratch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #27","rarity":""},{"version":"Promo-A #40","rarity":""}],"artist":"sui","crafting_cost":"Unknown"},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_041_EN.webp","hp":"50","name":"Togepi","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Pound","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #63","rarity":""},{"version":"Promo-A #41","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":"Unknown"},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_042_EN.webp","hp":"140","name":"Darkrai ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Prism","damage":"80","effect":"No effect"}],"ability":{"name":"Nightmare Aura","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, do 20 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"2","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #110","rarity":""},{"version":"Space-Time Smackdown #187","rarity":""},{"version":"Space-Time Smackdown #202","rarity":""},{"version":"Promo-A #42","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":"Unknown"},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_043_EN.webp","hp":"80","name":"Cherrim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Leech Seed","damage":"60","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Triumphant Light #8","rarity":""},{"version":"Promo-A #43","rarity":""}],"artist":"MAHOU","crafting_cost":"Unknown"},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_044_EN.webp","hp":"90","name":"Raichu","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Spark","damage":"40","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"Resilience Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon takes 30 damage from attacks."},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Triumphant Light #26","rarity":""},{"version":"Promo-A #44","rarity":""}],"artist":"Kazumasa Yasukuni","crafting_cost":"Unknown"},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_045_EN.webp","hp":"60","name":"Nosepass","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Iron","damage":"Defense","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage done to this Pokmon by attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #45","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":"Unknown"},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_046_EN.webp","hp":"60","name":"Gible","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Triumphant Light #45","rarity":""},{"version":"Promo-A #46","rarity":""}],"artist":"Uninori","crafting_cost":"Unknown"},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_047_EN.webp","hp":"140","name":"Staraptor","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Wing Attack","damage":"90","effect":"No effect"}],"ability":{"name":"Defensive Whirlwind","effect":"This Pokmon takes 30 damage from attacks from  Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #47","rarity":""}],"artist":"Hasuno","crafting_cost":"Unknown"},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_048_EN.webp","hp":"50","name":"Manaphy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Oceanic","damage":"Gift","effect":"Choose 2 of your Benched Pokmon. For each of those Pokmon, take a [W] Energy from your Energy Zone and attach it to that Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #50","rarity":""},{"version":"Space-Time Smackdown #162","rarity":""},{"version":"Promo-A #48","rarity":""}],"artist":"sui","crafting_cost":"Unknown"},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_049_EN.webp","hp":"140","name":"Snorlax","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Collapse","damage":"100","effect":"This Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Triumphant Light #63","rarity":""},{"version":"Promo-A #49","rarity":""}],"artist":"okayamatakatoshi","crafting_cost":"Unknown"}]`),Iy=(t,e)=>{for(const a of t)a.card_id=a.linkedCardID||`${e}-${a.id}`,a.expansion=e;return t},D8=Iy(dse,"A1"),P8=Iy(hse,"A1a"),F8=Iy(pse,"A2"),O8=Iy(mse,"A2a"),$8=Iy(gse,"P-A"),$p=[...D8,...P8,...F8,...O8,...$8],yse=t=>$p.find(e=>e.card_id===t),tqe=[{name:"Genetic Apex",id:"A1",cards:D8,packs:[{name:"Mewtwo pack",color:"#986C88"},{name:"Charizard pack",color:"#E2711B"},{name:"Pikachu pack",color:"#EDC12A"},{name:"Every pack",color:"#CCCCCC"}],tradeable:!0},{name:"Mythical Island",id:"A1a",cards:P8,packs:[{name:"Mew pack",color:"#FFC1EA"}],tradeable:!0},{name:"Space-Time Smackdown",id:"A2",cards:F8,packs:[{name:"Dialga pack",color:"#A0C5E8"},{name:"Palkia pack",color:"#D5A6BD"},{name:"Every pack",color:"#CCCCCC"}],tradeable:!0},{name:"Triumphant Light",id:"A2a",cards:O8,packs:[{name:"Arceus pack",color:"#E4D7CA"}],tradeable:!1},{name:"Promo-A",id:"P-A",cards:$8,packs:[{name:"Every pack",color:"#CCCCCC"}],tradeable:!1,promo:!0}],aqe={"":0,"":0,"":120,"":500,"":500},vse={"":25,"":125,"":100,"":300,"":300,"Crown Rare":1500},nqe=({ownedCards:t,rarityFilter:e,numberFilter:a,expansion:n,packName:r})=>{let s=t.filter(i=>i.amount_owned>a-1).map(i=>{var o;return{...i,rarity:((o=$p.find(c=>c.card_id===i.card_id))==null?void 0:o.rarity)||""}});return e.length>0&&(s=s.filter(i=>e.includes(i.rarity))),n?s.filter(i=>r?n.cards.find(o=>o.pack===r&&o.card_id===i.card_id):n.cards.find(o=>o.card_id===i.card_id)).length:s.length},rqe=({rarityFilter:t,expansion:e,packName:a})=>{let n=[...$p].filter(r=>!r.linkedCardID);return e&&(n=e.cards),a&&(n=n.filter(r=>r.pack===a)),t.length>0&&(n=n.filter(r=>t.includes(r.rarity))),n.length},xse={"":100,"":0,"":0,"":0,"":0,"":0,"":0,"Crown Rare":0},kse={"":0,"":90,"":5,"":1.666,"":2.572,"":.5,"":.222,"Crown Rare":.04},wse={"":0,"":60,"":20,"":6.664,"":10.288,"":2,"":.888,"Crown Rare":.16},sqe=({ownedCards:t,expansion:e,pack:a,rarityFilter:n=[],numberFilter:r=1})=>{if(t.length===0)return 1;const s=e.cards.filter(d=>d.pack===a.name||d.pack==="Every pack");let i=s.filter(d=>!t.find(p=>p.card_id===d.card_id&&p.amount_owned>r-1));n.length>0&&(i=i.filter(d=>n.includes(d.rarity)));let o=0,c=0,l=0;for(const d of i){const p=d.rarity,m=s.filter(k=>k.rarity===p).length,g=xse[p]/100/m,x=kse[p]/100/m,v=wse[p]/100/m;o+=g,c+=x,l+=v}return 1-(1-o)**3*(1-c)*(1-l)};function bse({cardId:t,onClose:e}){var n,r;const a=yse(t)||{};return L.jsx(E8,{open:!!t,onOpenChange:s=>{s||e()},children:L.jsxs(OC,{className:"transition-all duration-300 ease-in-out border-slate-600 overflow-y-auto",children:[L.jsx(I8,{children:L.jsxs(R8,{children:[a.name," ",a.rarity]})}),L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("div",{className:"px-10 py-4 w-full",children:L.jsx(Gne,{card:a,useMaxWidth:!0})}),L.jsxs("div",{className:"p-4 w-full",children:[L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Trade tokens:"})," ",vse[a.rarity]||"N/A"]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"HP:"})," ",a.hp]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Card Type:"})," ",a.card_type]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Evolution Type:"})," ",a.evolution_type]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"EX:"})," ",a.ex]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Crafting Cost:"})," ",a.crafting_cost]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Artist:"})," ",a.artist]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Set Details:"})," ",a.set_details]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Expansion:"})," ",a.expansion]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Pack:"})," ",a.pack]}),L.jsxs("div",{className:"mt-4",children:[L.jsx("h2",{className:"text-xl font-semibold",children:"Details"}),L.jsxs("p",{children:[L.jsx("strong",{children:"Weakness:"})," ",a.weakness||"N/A"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Retreat:"})," ",a.retreat||"N/A"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Ability:"})," ",((n=a.ability)==null?void 0:n.name)||"No ability"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Ability Effect:"})," ",((r=a.ability)==null?void 0:r.effect)||"N/A"]})]})]})]})]})})}function $$(t,e){if(t==null)return{};var a={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;a[n]=t[n]}return a}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},rg.apply(null,arguments)}function L$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NT(t,e){return NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},NT(t,e)}function _se(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,NT(t,e)}var nS={exports:{}},Va={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M$;function Ase(){if(M$)return Va;M$=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,l=t?Symbol.for("react.concurrent_mode"):60111,u=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,g=t?Symbol.for("react.lazy"):60116,x=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,k=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function _(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case e:switch(S=S.type,S){case c:case l:case n:case s:case r:case d:return S;default:switch(S=S&&S.$$typeof,S){case o:case u:case g:case m:case i:return S;default:return C}}case a:return C}}}function A(S){return _(S)===l}return Va.AsyncMode=c,Va.ConcurrentMode=l,Va.ContextConsumer=o,Va.ContextProvider=i,Va.Element=e,Va.ForwardRef=u,Va.Fragment=n,Va.Lazy=g,Va.Memo=m,Va.Portal=a,Va.Profiler=s,Va.StrictMode=r,Va.Suspense=d,Va.isAsyncMode=function(S){return A(S)||_(S)===c},Va.isConcurrentMode=A,Va.isContextConsumer=function(S){return _(S)===o},Va.isContextProvider=function(S){return _(S)===i},Va.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},Va.isForwardRef=function(S){return _(S)===u},Va.isFragment=function(S){return _(S)===n},Va.isLazy=function(S){return _(S)===g},Va.isMemo=function(S){return _(S)===m},Va.isPortal=function(S){return _(S)===a},Va.isProfiler=function(S){return _(S)===s},Va.isStrictMode=function(S){return _(S)===r},Va.isSuspense=function(S){return _(S)===d},Va.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===l||S===s||S===r||S===d||S===p||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===m||S.$$typeof===i||S.$$typeof===o||S.$$typeof===u||S.$$typeof===v||S.$$typeof===k||S.$$typeof===b||S.$$typeof===x)},Va.typeOf=_,Va}var B$;function Nse(){return B$||(B$=1,nS.exports=Ase()),nS.exports}var rS,z$;function Sse(){if(z$)return rS;z$=1;var t=Nse(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=n,s[t.Memo]=r;function i(g){return t.isMemo(g)?r:s[g.$$typeof]||e}var o=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;function m(g,x,v){if(typeof x!="string"){if(p){var k=d(x);k&&k!==p&&m(g,k,v)}var b=c(x);l&&(b=b.concat(l(x)));for(var _=i(g),A=i(x),S=0;S<b.length;++S){var C=b[S];if(!a[C]&&!(v&&v[C])&&!(A&&A[C])&&!(_&&_[C])){var E=u(x,C);try{o(g,C,E)}catch{}}}}return g}return rS=m,rS}var Tse=Sse();const Ese=Od(Tse);function Cse(t,e){if(!t){var a=new Error("loadable: "+e);throw a.framesToPop=1,a.name="Invariant Violation",a}}var Ise=rs.createContext(),Rse={initialChunks:{}},G$="PENDING",Dse="RESOLVED",sS="REJECTED";function Pse(t){return typeof t=="function"?{requireAsync:t,resolve:function(){},chunkName:function(){}}:t}var Fse=function(e){var a=function(r){return rs.createElement(Ise.Consumer,null,function(s){return rs.createElement(e,Object.assign({__chunkExtractor:s},r))})};return e.displayName&&(a.displayName=e.displayName+"WithChunkExtractor"),a},Ose=function(e){return e};function L8(t){var e=t.defaultResolveComponent,a=e===void 0?Ose:e,n=t.render,r=t.onLoad;function s(o,c){c===void 0&&(c={});var l=Pse(o),u={};function d(k){return c.cacheKey?c.cacheKey(k):l.resolve?l.resolve(k):"static"}function p(k,b,_){var A=c.resolveComponent?c.resolveComponent(k,b):a(k);return Ese(_,A,{preload:!0}),A}var m=function(b){var _=d(b),A=u[_];return(!A||A.status===sS)&&(A=l.requireAsync(b),A.status=G$,u[_]=A,A.then(function(){A.status=Dse},function(S){console.error("loadable-components: failed to asynchronously load component",{fileName:l.resolve(b),chunkName:l.chunkName(b),error:S&&S.message}),A.status=sS})),A},g=function(k){_se(b,k),b.getDerivedStateFromProps=function(S,C){var E=d(S);return rg({},C,{cacheKey:E,loading:C.loading||C.cacheKey!==E})};function b(A){var S;return S=k.call(this,A)||this,S.state={result:null,error:null,loading:!0,cacheKey:d(A)},Cse(!A.__chunkExtractor||l.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),A.__chunkExtractor?(c.ssr===!1||(l.requireAsync(A).catch(function(){return null}),S.loadSync(),A.__chunkExtractor.addChunk(l.chunkName(A))),L$(S)):(c.ssr!==!1&&(l.isReady&&l.isReady(A)||l.chunkName&&Rse.initialChunks[l.chunkName(A)])&&S.loadSync(),S)}var _=b.prototype;return _.componentDidMount=function(){this.mounted=!0;var S=this.getCache();S&&S.status===sS&&this.setCache(),this.state.loading&&this.loadAsync()},_.componentDidUpdate=function(S,C){C.cacheKey!==this.state.cacheKey&&this.loadAsync()},_.componentWillUnmount=function(){this.mounted=!1},_.safeSetState=function(S,C){this.mounted&&this.setState(S,C)},_.getCacheKey=function(){return d(this.props)},_.getCache=function(){return u[this.getCacheKey()]},_.setCache=function(S){S===void 0&&(S=void 0),u[this.getCacheKey()]=S},_.triggerOnLoad=function(){var S=this;r&&setTimeout(function(){r(S.state.result,S.props)})},_.loadSync=function(){if(this.state.loading)try{var S=l.requireSync(this.props),C=p(S,this.props,v);this.state.result=C,this.state.loading=!1}catch(E){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:l.resolve(this.props),chunkName:l.chunkName(this.props),error:E&&E.message}),this.state.error=E}},_.loadAsync=function(){var S=this,C=this.resolveAsync();return C.then(function(E){var R=p(E,S.props,v);S.safeSetState({result:R,loading:!1},function(){return S.triggerOnLoad()})}).catch(function(E){return S.safeSetState({error:E,loading:!1})}),C},_.resolveAsync=function(){var S=this.props;S.__chunkExtractor,S.forwardedRef;var C=$$(S,["__chunkExtractor","forwardedRef"]);return m(C)},_.render=function(){var S=this.props,C=S.forwardedRef,E=S.fallback;S.__chunkExtractor;var R=$$(S,["forwardedRef","fallback","__chunkExtractor"]),I=this.state,P=I.error,D=I.loading,B=I.result;if(c.suspense){var U=this.getCache()||this.loadAsync();if(U.status===G$)throw this.loadAsync()}if(P)throw P;var V=E||c.fallback||null;return D?V:n({fallback:V,result:B,options:c,props:rg({},R,{ref:C})})},b}(rs.Component),x=Fse(g),v=rs.forwardRef(function(k,b){return rs.createElement(x,Object.assign({forwardedRef:b},k))});return v.displayName="Loadable",v.preload=function(k){v.load(k)},v.load=function(k){return m(k)},v}function i(o,c){return s(o,rg({},c,{suspense:!0}))}return{loadable:s,lazy:i}}function $se(t){return t.__esModule?t.default:t.default||t}var M8=L8({defaultResolveComponent:$se,render:function(e){var a=e.result,n=e.props;return rs.createElement(a,n)}}),Lse=M8.loadable,Mse=M8.lazy,B8=L8({onLoad:function(e,a){e&&a.forwardedRef&&(typeof a.forwardedRef=="function"?a.forwardedRef(e):a.forwardedRef.current=e)},render:function(e){var a=e.result,n=e.props;return n.children?n.children(a):null}}),Bse=B8.loadable,zse=B8.lazy,Ry=Lse;Ry.lib=Bse;var Gse=Mse;Gse.lib=zse;const Use=F.createContext(null),iS={didCatch:!1,error:null};class Wse extends F.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=iS}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var a,n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];(a=(n=this.props).onReset)===null||a===void 0||a.call(n,{args:s,reason:"imperative-api"}),this.setState(iS)}}componentDidCatch(e,a){var n,r;(n=(r=this.props).onError)===null||n===void 0||n.call(r,e,a)}componentDidUpdate(e,a){const{didCatch:n}=this.state,{resetKeys:r}=this.props;if(n&&a.error!==null&&Vse(e.resetKeys,r)){var s,i;(s=(i=this.props).onReset)===null||s===void 0||s.call(i,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(iS)}}render(){const{children:e,fallbackRender:a,FallbackComponent:n,fallback:r}=this.props,{didCatch:s,error:i}=this.state;let o=e;if(s){const c={error:i,resetErrorBoundary:this.resetErrorBoundary};if(typeof a=="function")o=a(c);else if(n)o=F.createElement(n,c);else if(r!==void 0)o=r;else throw i}return F.createElement(Use.Provider,{value:{didCatch:s,error:i,resetErrorBoundary:this.resetErrorBoundary}},o)}}function Vse(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((a,n)=>!Object.is(a,e[n]))}const jse=[{title:"overview",href:"/"},{title:"collection",href:"/collection"},{title:"trade",href:"/trade"},{title:"community",href:"https://community.tcgpocketcollectiontracker.com"}],Hse=({item:t,setOpen:e})=>{const{t:a}=wy("hamburguer-menu");return L.jsx(Vf,{to:t.href,className:sa("block py-2 text-lg font-medium transition-colors hover:text-primary",t.href==="/"&&"text-primary"),onClick:()=>{e(!1)},children:a(t.title)})};function Kse(){const{t}=wy("hamburguer-menu"),[e,a]=F.useState(!1),{user:n,setUser:r,setIsLoginDialogOpen:s,setIsProfileDialogOpen:i}=F.use(Al);return L.jsxs(E8,{open:e,onOpenChange:a,children:[L.jsx(cse,{asChild:!0,children:L.jsxs(rn,{variant:"ghost",size:"icon",className:"sm:hidden",children:[L.jsx($ne,{className:"h-5 w-5"}),L.jsx("span",{className:"sr-only",children:t("toggle")})]})}),L.jsxs(OC,{side:"left",className:"flex flex-col w-[240px] sm:w-[300px]",children:[L.jsx("nav",{className:"flex flex-col space-y-4 grow-1",children:jse.map(o=>L.jsx(Hse,{item:o,setOpen:a},o.title))}),L.jsxs(rn,{variant:"secondary",onClick:()=>{i(!0),a(!1)},children:[t("editProfile"),L.jsx(H6,{})]}),n?L.jsxs(rn,{variant:"default",onClick:async()=>{await U6(),r(null),a(!1)},children:[t("logOut"),L.jsx(V6,{})]}):L.jsx(rn,{variant:"default",onClick:()=>{s(!0),a(!1)},children:t("login")})]})]})}var Fa;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function a(r){throw new Error}t.assertNever=a,t.arrayToEnum=r=>{const s={};for(const i of r)s[i]=i;return s},t.getValidEnumValues=r=>{const s=t.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),i={};for(const o of s)i[o]=r[o];return t.objectValues(i)},t.objectValues=r=>t.objectKeys(r).map(function(s){return r[s]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&s.push(i);return s},t.find=(r,s)=>{for(const i of r)if(s(i))return i},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function n(r,s=" | "){return r.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(Fa||(Fa={}));var ST;(function(t){t.mergeShapes=(e,a)=>({...e,...a})})(ST||(ST={}));const mt=Fa.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qc=t=>{switch(typeof t){case"undefined":return mt.undefined;case"string":return mt.string;case"number":return isNaN(t)?mt.nan:mt.number;case"boolean":return mt.boolean;case"function":return mt.function;case"bigint":return mt.bigint;case"symbol":return mt.symbol;case"object":return Array.isArray(t)?mt.array:t===null?mt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?mt.promise:typeof Map<"u"&&t instanceof Map?mt.map:typeof Set<"u"&&t instanceof Set?mt.set:typeof Date<"u"&&t instanceof Date?mt.date:mt.object;default:return mt.unknown}},at=Fa.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),qse=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class di extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}format(e){const a=e||function(s){return s.message},n={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(r);else if(i.code==="invalid_return_type")r(i.returnTypeError);else if(i.code==="invalid_arguments")r(i.argumentsError);else if(i.path.length===0)n._errors.push(a(i));else{let o=n,c=0;for(;c<i.path.length;){const l=i.path[c];c===i.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(a(i))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return r(this),n}static assert(e){if(!(e instanceof di))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fa.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){const a={},n=[];for(const r of this.issues)r.path.length>0?(a[r.path[0]]=a[r.path[0]]||[],a[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:a}}get formErrors(){return this.flatten()}}di.create=t=>new di(t);const Lp=(t,e)=>{let a;switch(t.code){case at.invalid_type:t.received===mt.undefined?a="Required":a=`Expected ${t.expected}, received ${t.received}`;break;case at.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(t.expected,Fa.jsonStringifyReplacer)}`;break;case at.unrecognized_keys:a=`Unrecognized key(s) in object: ${Fa.joinValues(t.keys,", ")}`;break;case at.invalid_union:a="Invalid input";break;case at.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${Fa.joinValues(t.options)}`;break;case at.invalid_enum_value:a=`Invalid enum value. Expected ${Fa.joinValues(t.options)}, received '${t.received}'`;break;case at.invalid_arguments:a="Invalid function arguments";break;case at.invalid_return_type:a="Invalid function return type";break;case at.invalid_date:a="Invalid date";break;case at.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(a=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?a=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?a=`Invalid input: must end with "${t.validation.endsWith}"`:Fa.assertNever(t.validation):t.validation!=="regex"?a=`Invalid ${t.validation}`:a="Invalid";break;case at.too_small:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:a="Invalid input";break;case at.too_big:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?a=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:a="Invalid input";break;case at.custom:a="Invalid input";break;case at.invalid_intersection_types:a="Intersection results could not be merged";break;case at.not_multiple_of:a=`Number must be a multiple of ${t.multipleOf}`;break;case at.not_finite:a="Number must be finite";break;default:a=e.defaultError,Fa.assertNever(t)}return{message:a}};let z8=Lp;function Xse(t){z8=t}function Wk(){return z8}const Vk=t=>{const{data:e,path:a,errorMaps:n,issueData:r}=t,s=[...a,...r.path||[]],i={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let o="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)o=l(i,{data:e,defaultError:o}).message;return{...r,path:s,message:o}},Yse=[];function ft(t,e){const a=Wk(),n=Vk({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,a,a===Lp?void 0:Lp].filter(r=>!!r)});t.common.issues.push(n)}class gs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){const n=[];for(const r of a){if(r.status==="aborted")return Ut;r.status==="dirty"&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,a){const n=[];for(const r of a){const s=await r.key,i=await r.value;n.push({key:s,value:i})}return gs.mergeObjectSync(e,n)}static mergeObjectSync(e,a){const n={};for(const r of a){const{key:s,value:i}=r;if(s.status==="aborted"||i.status==="aborted")return Ut;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||r.alwaysSet)&&(n[s.value]=i.value)}return{status:e.value,value:n}}}const Ut=Object.freeze({status:"aborted"}),gp=t=>({status:"dirty",value:t}),Ds=t=>({status:"valid",value:t}),TT=t=>t.status==="aborted",ET=t=>t.status==="dirty",id=t=>t.status==="valid",Sg=t=>typeof Promise<"u"&&t instanceof Promise;function jk(t,e,a,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function G8(t,e,a,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,a),a}var St;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(St||(St={}));var W0,V0;class xc{constructor(e,a,n,r){this._cachedPath=[],this.parent=e,this.data=a,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const U$=(t,e)=>{if(id(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new di(t.common.issues);return this._error=a,this._error}}};function na(t){if(!t)return{};const{errorMap:e,invalid_type_error:a,required_error:n,description:r}=t;if(e&&(a||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(i,o)=>{var c,l;const{message:u}=t;return i.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(l=u??a)!==null&&l!==void 0?l:o.defaultError}},description:r}}class ha{get description(){return this._def.description}_getType(e){return Qc(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:Qc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gs,ctx:{common:e.parent.common,data:e.data,parsedType:Qc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const a=this._parse(e);if(Sg(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){const a=this._parse(e);return Promise.resolve(a)}parse(e,a){const n=this.safeParse(e,a);if(n.success)return n.data;throw n.error}safeParse(e,a){var n;const r={common:{issues:[],async:(n=a==null?void 0:a.async)!==null&&n!==void 0?n:!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qc(e)},s=this._parseSync({data:e,path:r.path,parent:r});return U$(r,s)}"~validate"(e){var a,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qc(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return id(s)?{value:s.value}:{issues:r.common.issues}}catch(s){!((n=(a=s==null?void 0:s.message)===null||a===void 0?void 0:a.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>id(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,a){const n=await this.safeParseAsync(e,a);if(n.success)return n.data;throw n.error}async safeParseAsync(e,a){const n={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qc(e)},r=this._parse({data:e,path:n.path,parent:n}),s=await(Sg(r)?r:Promise.resolve(r));return U$(n,s)}refine(e,a){const n=r=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(r):a;return this._refinement((r,s)=>{const i=e(r),o=()=>s.addIssue({code:at.custom,...n(r)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,a){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof a=="function"?a(n,r):a),!1))}_refinement(e){return new Po({schema:this,typeName:Gt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return dc.create(this,this._def)}nullable(){return wu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return No.create(this)}promise(){return Bp.create(this,this._def)}or(e){return Ig.create([this,e],this._def)}and(e){return Rg.create(this,e,this._def)}transform(e){return new Po({...na(this._def),schema:this,typeName:Gt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const a=typeof e=="function"?e:()=>e;return new $g({...na(this._def),innerType:this,defaultValue:a,typeName:Gt.ZodDefault})}brand(){return new $C({typeName:Gt.ZodBranded,type:this,...na(this._def)})}catch(e){const a=typeof e=="function"?e:()=>e;return new Lg({...na(this._def),innerType:this,catchValue:a,typeName:Gt.ZodCatch})}describe(e){const a=this.constructor;return new a({...this._def,description:e})}pipe(e){return Dy.create(this,e)}readonly(){return Mg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Zse=/^c[^\s-]{8,}$/i,Jse=/^[0-9a-z]+$/,Qse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tie=/^[a-z0-9_-]{21}$/i,aie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let oS;const iie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,U8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",die=new RegExp(`^${U8}$`);function W8(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function hie(t){return new RegExp(`^${W8(t)}$`)}function V8(t){let e=`${U8}T${W8(t)}`;const a=[];return a.push(t.local?"Z?":"Z"),t.offset&&a.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${a.join("|")})`,new RegExp(`^${e}$`)}function pie(t,e){return!!((e==="v4"||!e)&&iie.test(t)||(e==="v6"||!e)&&cie.test(t))}function mie(t,e){if(!aie.test(t))return!1;try{const[a]=t.split("."),n=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),r=JSON.parse(atob(n));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function gie(t,e){return!!((e==="v4"||!e)&&oie.test(t)||(e==="v6"||!e)&&lie.test(t))}class _o extends ha{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==mt.string){const s=this._getOrReturnCtx(e);return ft(s,{code:at.invalid_type,expected:mt.string,received:s.parsedType}),Ut}const n=new gs;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),ft(r,{code:at.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),ft(r,{code:at.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const i=e.data.length>s.value,o=e.data.length<s.value;(i||o)&&(r=this._getOrReturnCtx(e,r),i?ft(r,{code:at.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&ft(r,{code:at.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")rie.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"email",code:at.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")oS||(oS=new RegExp(sie,"u")),oS.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"emoji",code:at.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")eie.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"uuid",code:at.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")tie.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"nanoid",code:at.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Zse.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"cuid",code:at.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Jse.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"cuid2",code:at.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Qse.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"ulid",code:at.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),ft(r,{validation:"url",code:at.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"regex",code:at.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),ft(r,{code:at.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),ft(r,{code:at.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),ft(r,{code:at.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?V8(s).test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{code:at.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?die.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{code:at.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?hie(s).test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{code:at.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?nie.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"duration",code:at.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?pie(e.data,s.version)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"ip",code:at.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?mie(e.data,s.alg)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"jwt",code:at.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?gie(e.data,s.version)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"cidr",code:at.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?uie.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"base64",code:at.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?fie.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"base64url",code:at.invalid_string,message:s.message}),n.dirty()):Fa.assertNever(s);return{status:n.value,value:e.data}}_regex(e,a,n){return this.refinement(r=>e.test(r),{validation:a,code:at.invalid_string,...St.errToObj(n)})}_addCheck(e){return new _o({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...St.errToObj(e)})}url(e){return this._addCheck({kind:"url",...St.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...St.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...St.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...St.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...St.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...St.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...St.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...St.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...St.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...St.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...St.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...St.errToObj(e)})}datetime(e){var a,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(a=e==null?void 0:e.offset)!==null&&a!==void 0?a:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...St.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...St.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...St.errToObj(e)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...St.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a==null?void 0:a.position,...St.errToObj(a==null?void 0:a.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...St.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...St.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...St.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...St.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...St.errToObj(a)})}nonempty(e){return this.min(1,St.errToObj(e))}trim(){return new _o({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _o({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _o({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}_o.create=t=>{var e;return new _o({checks:[],typeName:Gt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...na(t)})};function yie(t,e){const a=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=a>n?a:n,s=parseInt(t.toFixed(r).replace(".","")),i=parseInt(e.toFixed(r).replace(".",""));return s%i/Math.pow(10,r)}class vu extends ha{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==mt.number){const s=this._getOrReturnCtx(e);return ft(s,{code:at.invalid_type,expected:mt.number,received:s.parsedType}),Ut}let n;const r=new gs;for(const s of this._def.checks)s.kind==="int"?Fa.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{code:at.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ft(n,{code:at.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ft(n,{code:at.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?yie(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),ft(n,{code:at.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ft(n,{code:at.not_finite,message:s.message}),r.dirty()):Fa.assertNever(s);return{status:r.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,St.toString(a))}gt(e,a){return this.setLimit("min",e,!1,St.toString(a))}lte(e,a){return this.setLimit("max",e,!0,St.toString(a))}lt(e,a){return this.setLimit("max",e,!1,St.toString(a))}setLimit(e,a,n,r){return new vu({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:n,message:St.toString(r)}]})}_addCheck(e){return new vu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:St.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:St.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:St.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:St.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:St.toString(e)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fa.isInteger(e.value))}get isFinite(){let e=null,a=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(a===null||n.value>a)&&(a=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(a)&&Number.isFinite(e)}}vu.create=t=>new vu({checks:[],typeName:Gt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...na(t)});class xu extends ha{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==mt.bigint)return this._getInvalidInput(e);let n;const r=new gs;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ft(n,{code:at.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ft(n,{code:at.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ft(n,{code:at.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):Fa.assertNever(s);return{status:r.value,value:e.data}}_getInvalidInput(e){const a=this._getOrReturnCtx(e);return ft(a,{code:at.invalid_type,expected:mt.bigint,received:a.parsedType}),Ut}gte(e,a){return this.setLimit("min",e,!0,St.toString(a))}gt(e,a){return this.setLimit("min",e,!1,St.toString(a))}lte(e,a){return this.setLimit("max",e,!0,St.toString(a))}lt(e,a){return this.setLimit("max",e,!1,St.toString(a))}setLimit(e,a,n,r){return new xu({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:n,message:St.toString(r)}]})}_addCheck(e){return new xu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:St.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(a)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}xu.create=t=>{var e;return new xu({checks:[],typeName:Gt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...na(t)})};class Tg extends ha{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==mt.boolean){const n=this._getOrReturnCtx(e);return ft(n,{code:at.invalid_type,expected:mt.boolean,received:n.parsedType}),Ut}return Ds(e.data)}}Tg.create=t=>new Tg({typeName:Gt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...na(t)});class od extends ha{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==mt.date){const s=this._getOrReturnCtx(e);return ft(s,{code:at.invalid_type,expected:mt.date,received:s.parsedType}),Ut}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ft(s,{code:at.invalid_date}),Ut}const n=new gs;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),ft(r,{code:at.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),ft(r,{code:at.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Fa.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new od({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:St.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:St.toString(a)})}get minDate(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}}od.create=t=>new od({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Gt.ZodDate,...na(t)});class Hk extends ha{_parse(e){if(this._getType(e)!==mt.symbol){const n=this._getOrReturnCtx(e);return ft(n,{code:at.invalid_type,expected:mt.symbol,received:n.parsedType}),Ut}return Ds(e.data)}}Hk.create=t=>new Hk({typeName:Gt.ZodSymbol,...na(t)});class Eg extends ha{_parse(e){if(this._getType(e)!==mt.undefined){const n=this._getOrReturnCtx(e);return ft(n,{code:at.invalid_type,expected:mt.undefined,received:n.parsedType}),Ut}return Ds(e.data)}}Eg.create=t=>new Eg({typeName:Gt.ZodUndefined,...na(t)});class Cg extends ha{_parse(e){if(this._getType(e)!==mt.null){const n=this._getOrReturnCtx(e);return ft(n,{code:at.invalid_type,expected:mt.null,received:n.parsedType}),Ut}return Ds(e.data)}}Cg.create=t=>new Cg({typeName:Gt.ZodNull,...na(t)});class Mp extends ha{constructor(){super(...arguments),this._any=!0}_parse(e){return Ds(e.data)}}Mp.create=t=>new Mp({typeName:Gt.ZodAny,...na(t)});class qf extends ha{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ds(e.data)}}qf.create=t=>new qf({typeName:Gt.ZodUnknown,...na(t)});class pl extends ha{_parse(e){const a=this._getOrReturnCtx(e);return ft(a,{code:at.invalid_type,expected:mt.never,received:a.parsedType}),Ut}}pl.create=t=>new pl({typeName:Gt.ZodNever,...na(t)});class Kk extends ha{_parse(e){if(this._getType(e)!==mt.undefined){const n=this._getOrReturnCtx(e);return ft(n,{code:at.invalid_type,expected:mt.void,received:n.parsedType}),Ut}return Ds(e.data)}}Kk.create=t=>new Kk({typeName:Gt.ZodVoid,...na(t)});class No extends ha{_parse(e){const{ctx:a,status:n}=this._processInputParams(e),r=this._def;if(a.parsedType!==mt.array)return ft(a,{code:at.invalid_type,expected:mt.array,received:a.parsedType}),Ut;if(r.exactLength!==null){const i=a.data.length>r.exactLength.value,o=a.data.length<r.exactLength.value;(i||o)&&(ft(a,{code:i?at.too_big:at.too_small,minimum:o?r.exactLength.value:void 0,maximum:i?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(r.minLength!==null&&a.data.length<r.minLength.value&&(ft(a,{code:at.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),r.maxLength!==null&&a.data.length>r.maxLength.value&&(ft(a,{code:at.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),a.common.async)return Promise.all([...a.data].map((i,o)=>r.type._parseAsync(new xc(a,i,a.path,o)))).then(i=>gs.mergeArray(n,i));const s=[...a.data].map((i,o)=>r.type._parseSync(new xc(a,i,a.path,o)));return gs.mergeArray(n,s)}get element(){return this._def.type}min(e,a){return new No({...this._def,minLength:{value:e,message:St.toString(a)}})}max(e,a){return new No({...this._def,maxLength:{value:e,message:St.toString(a)}})}length(e,a){return new No({...this._def,exactLength:{value:e,message:St.toString(a)}})}nonempty(e){return this.min(1,e)}}No.create=(t,e)=>new No({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Gt.ZodArray,...na(e)});function up(t){if(t instanceof Nn){const e={};for(const a in t.shape){const n=t.shape[a];e[a]=dc.create(up(n))}return new Nn({...t._def,shape:()=>e})}else return t instanceof No?new No({...t._def,type:up(t.element)}):t instanceof dc?dc.create(up(t.unwrap())):t instanceof wu?wu.create(up(t.unwrap())):t instanceof kc?kc.create(t.items.map(e=>up(e))):t}class Nn extends ha{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),a=Fa.objectKeys(e);return this._cached={shape:e,keys:a}}_parse(e){if(this._getType(e)!==mt.object){const l=this._getOrReturnCtx(e);return ft(l,{code:at.invalid_type,expected:mt.object,received:l.parsedType}),Ut}const{status:n,ctx:r}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof pl&&this._def.unknownKeys==="strip"))for(const l in r.data)i.includes(l)||o.push(l);const c=[];for(const l of i){const u=s[l],d=r.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new xc(r,d,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof pl){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")o.length>0&&(ft(r,{code:at.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=r.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new xc(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,p=await u.value;l.push({key:d,value:p,alwaysSet:u.alwaysSet})}return l}).then(l=>gs.mergeObjectSync(n,l)):gs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return St.errToObj,new Nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(a,n)=>{var r,s,i,o;const c=(i=(s=(r=this._def).errorMap)===null||s===void 0?void 0:s.call(r,a,n).message)!==null&&i!==void 0?i:n.defaultError;return a.code==="unrecognized_keys"?{message:(o=St.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Nn({...this._def,unknownKeys:"strip"})}passthrough(){return new Nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Gt.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new Nn({...this._def,catchall:e})}pick(e){const a={};return Fa.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(a[n]=this.shape[n])}),new Nn({...this._def,shape:()=>a})}omit(e){const a={};return Fa.objectKeys(this.shape).forEach(n=>{e[n]||(a[n]=this.shape[n])}),new Nn({...this._def,shape:()=>a})}deepPartial(){return up(this)}partial(e){const a={};return Fa.objectKeys(this.shape).forEach(n=>{const r=this.shape[n];e&&!e[n]?a[n]=r:a[n]=r.optional()}),new Nn({...this._def,shape:()=>a})}required(e){const a={};return Fa.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])a[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof dc;)s=s._def.innerType;a[n]=s}}),new Nn({...this._def,shape:()=>a})}keyof(){return j8(Fa.objectKeys(this.shape))}}Nn.create=(t,e)=>new Nn({shape:()=>t,unknownKeys:"strip",catchall:pl.create(),typeName:Gt.ZodObject,...na(e)});Nn.strictCreate=(t,e)=>new Nn({shape:()=>t,unknownKeys:"strict",catchall:pl.create(),typeName:Gt.ZodObject,...na(e)});Nn.lazycreate=(t,e)=>new Nn({shape:t,unknownKeys:"strip",catchall:pl.create(),typeName:Gt.ZodObject,...na(e)});class Ig extends ha{_parse(e){const{ctx:a}=this._processInputParams(e),n=this._def.options;function r(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return a.common.issues.push(...o.ctx.common.issues),o.result;const i=s.map(o=>new di(o.ctx.common.issues));return ft(a,{code:at.invalid_union,unionErrors:i}),Ut}if(a.common.async)return Promise.all(n.map(async s=>{const i={...a,common:{...a.common,issues:[]},parent:null};return{result:await s._parseAsync({data:a.data,path:a.path,parent:i}),ctx:i}})).then(r);{let s;const i=[];for(const c of n){const l={...a,common:{...a.common,issues:[]},parent:null},u=c._parseSync({data:a.data,path:a.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(s)return a.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(c=>new di(c));return ft(a,{code:at.invalid_union,unionErrors:o}),Ut}}get options(){return this._def.options}}Ig.create=(t,e)=>new Ig({options:t,typeName:Gt.ZodUnion,...na(e)});const Xc=t=>t instanceof Pg?Xc(t.schema):t instanceof Po?Xc(t.innerType()):t instanceof Fg?[t.value]:t instanceof ku?t.options:t instanceof Og?Fa.objectValues(t.enum):t instanceof $g?Xc(t._def.innerType):t instanceof Eg?[void 0]:t instanceof Cg?[null]:t instanceof dc?[void 0,...Xc(t.unwrap())]:t instanceof wu?[null,...Xc(t.unwrap())]:t instanceof $C||t instanceof Mg?Xc(t.unwrap()):t instanceof Lg?Xc(t._def.innerType):[];class db extends ha{_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==mt.object)return ft(a,{code:at.invalid_type,expected:mt.object,received:a.parsedType}),Ut;const n=this.discriminator,r=a.data[n],s=this.optionsMap.get(r);return s?a.common.async?s._parseAsync({data:a.data,path:a.path,parent:a}):s._parseSync({data:a.data,path:a.path,parent:a}):(ft(a,{code:at.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ut)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,a,n){const r=new Map;for(const s of a){const i=Xc(s.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,s)}}return new db({typeName:Gt.ZodDiscriminatedUnion,discriminator:e,options:a,optionsMap:r,...na(n)})}}function CT(t,e){const a=Qc(t),n=Qc(e);if(t===e)return{valid:!0,data:t};if(a===mt.object&&n===mt.object){const r=Fa.objectKeys(e),s=Fa.objectKeys(t).filter(o=>r.indexOf(o)!==-1),i={...t,...e};for(const o of s){const c=CT(t[o],e[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(a===mt.array&&n===mt.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let s=0;s<t.length;s++){const i=t[s],o=e[s],c=CT(i,o);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return a===mt.date&&n===mt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Rg extends ha{_parse(e){const{status:a,ctx:n}=this._processInputParams(e),r=(s,i)=>{if(TT(s)||TT(i))return Ut;const o=CT(s.value,i.value);return o.valid?((ET(s)||ET(i))&&a.dirty(),{status:a.value,value:o.data}):(ft(n,{code:at.invalid_intersection_types}),Ut)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>r(s,i)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Rg.create=(t,e,a)=>new Rg({left:t,right:e,typeName:Gt.ZodIntersection,...na(a)});class kc extends ha{_parse(e){const{status:a,ctx:n}=this._processInputParams(e);if(n.parsedType!==mt.array)return ft(n,{code:at.invalid_type,expected:mt.array,received:n.parsedType}),Ut;if(n.data.length<this._def.items.length)return ft(n,{code:at.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ut;!this._def.rest&&n.data.length>this._def.items.length&&(ft(n,{code:at.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const s=[...n.data].map((i,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new xc(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>gs.mergeArray(a,i)):gs.mergeArray(a,s)}get items(){return this._def.items}rest(e){return new kc({...this._def,rest:e})}}kc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kc({items:t,typeName:Gt.ZodTuple,rest:null,...na(e)})};class Dg extends ha{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:n}=this._processInputParams(e);if(n.parsedType!==mt.object)return ft(n,{code:at.invalid_type,expected:mt.object,received:n.parsedType}),Ut;const r=[],s=this._def.keyType,i=this._def.valueType;for(const o in n.data)r.push({key:s._parse(new xc(n,o,n.path,o)),value:i._parse(new xc(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?gs.mergeObjectAsync(a,r):gs.mergeObjectSync(a,r)}get element(){return this._def.valueType}static create(e,a,n){return a instanceof ha?new Dg({keyType:e,valueType:a,typeName:Gt.ZodRecord,...na(n)}):new Dg({keyType:_o.create(),valueType:e,typeName:Gt.ZodRecord,...na(a)})}}class qk extends ha{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:n}=this._processInputParams(e);if(n.parsedType!==mt.map)return ft(n,{code:at.invalid_type,expected:mt.map,received:n.parsedType}),Ut;const r=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([o,c],l)=>({key:r._parse(new xc(n,o,n.path,[l,"key"])),value:s._parse(new xc(n,c,n.path,[l,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Ut;(l.status==="dirty"||u.status==="dirty")&&a.dirty(),o.set(l.value,u.value)}return{status:a.value,value:o}})}else{const o=new Map;for(const c of i){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Ut;(l.status==="dirty"||u.status==="dirty")&&a.dirty(),o.set(l.value,u.value)}return{status:a.value,value:o}}}}qk.create=(t,e,a)=>new qk({valueType:e,keyType:t,typeName:Gt.ZodMap,...na(a)});class cd extends ha{_parse(e){const{status:a,ctx:n}=this._processInputParams(e);if(n.parsedType!==mt.set)return ft(n,{code:at.invalid_type,expected:mt.set,received:n.parsedType}),Ut;const r=this._def;r.minSize!==null&&n.data.size<r.minSize.value&&(ft(n,{code:at.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),a.dirty()),r.maxSize!==null&&n.data.size>r.maxSize.value&&(ft(n,{code:at.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),a.dirty());const s=this._def.valueType;function i(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Ut;u.status==="dirty"&&a.dirty(),l.add(u.value)}return{status:a.value,value:l}}const o=[...n.data.values()].map((c,l)=>s._parse(new xc(n,c,n.path,l)));return n.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(e,a){return new cd({...this._def,minSize:{value:e,message:St.toString(a)}})}max(e,a){return new cd({...this._def,maxSize:{value:e,message:St.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}}cd.create=(t,e)=>new cd({valueType:t,minSize:null,maxSize:null,typeName:Gt.ZodSet,...na(e)});class wp extends ha{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==mt.function)return ft(a,{code:at.invalid_type,expected:mt.function,received:a.parsedType}),Ut;function n(o,c){return Vk({data:o,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Wk(),Lp].filter(l=>!!l),issueData:{code:at.invalid_arguments,argumentsError:c}})}function r(o,c){return Vk({data:o,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Wk(),Lp].filter(l=>!!l),issueData:{code:at.invalid_return_type,returnTypeError:c}})}const s={errorMap:a.common.contextualErrorMap},i=a.data;if(this._def.returns instanceof Bp){const o=this;return Ds(async function(...c){const l=new di([]),u=await o._def.args.parseAsync(c,s).catch(m=>{throw l.addIssue(n(c,m)),l}),d=await Reflect.apply(i,this,u);return await o._def.returns._def.type.parseAsync(d,s).catch(m=>{throw l.addIssue(r(d,m)),l})})}else{const o=this;return Ds(function(...c){const l=o._def.args.safeParse(c,s);if(!l.success)throw new di([n(c,l.error)]);const u=Reflect.apply(i,this,l.data),d=o._def.returns.safeParse(u,s);if(!d.success)throw new di([r(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new wp({...this._def,args:kc.create(e).rest(qf.create())})}returns(e){return new wp({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,a,n){return new wp({args:e||kc.create([]).rest(qf.create()),returns:a||qf.create(),typeName:Gt.ZodFunction,...na(n)})}}class Pg extends ha{get schema(){return this._def.getter()}_parse(e){const{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}Pg.create=(t,e)=>new Pg({getter:t,typeName:Gt.ZodLazy,...na(e)});class Fg extends ha{_parse(e){if(e.data!==this._def.value){const a=this._getOrReturnCtx(e);return ft(a,{received:a.data,code:at.invalid_literal,expected:this._def.value}),Ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fg.create=(t,e)=>new Fg({value:t,typeName:Gt.ZodLiteral,...na(e)});function j8(t,e){return new ku({values:t,typeName:Gt.ZodEnum,...na(e)})}class ku extends ha{constructor(){super(...arguments),W0.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const a=this._getOrReturnCtx(e),n=this._def.values;return ft(a,{expected:Fa.joinValues(n),received:a.parsedType,code:at.invalid_type}),Ut}if(jk(this,W0)||G8(this,W0,new Set(this._def.values)),!jk(this,W0).has(e.data)){const a=this._getOrReturnCtx(e),n=this._def.values;return ft(a,{received:a.data,code:at.invalid_enum_value,options:n}),Ut}return Ds(e.data)}get options(){return this._def.values}get enum(){const e={};for(const a of this._def.values)e[a]=a;return e}get Values(){const e={};for(const a of this._def.values)e[a]=a;return e}get Enum(){const e={};for(const a of this._def.values)e[a]=a;return e}extract(e,a=this._def){return ku.create(e,{...this._def,...a})}exclude(e,a=this._def){return ku.create(this.options.filter(n=>!e.includes(n)),{...this._def,...a})}}W0=new WeakMap;ku.create=j8;class Og extends ha{constructor(){super(...arguments),V0.set(this,void 0)}_parse(e){const a=Fa.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==mt.string&&n.parsedType!==mt.number){const r=Fa.objectValues(a);return ft(n,{expected:Fa.joinValues(r),received:n.parsedType,code:at.invalid_type}),Ut}if(jk(this,V0)||G8(this,V0,new Set(Fa.getValidEnumValues(this._def.values))),!jk(this,V0).has(e.data)){const r=Fa.objectValues(a);return ft(n,{received:n.data,code:at.invalid_enum_value,options:r}),Ut}return Ds(e.data)}get enum(){return this._def.values}}V0=new WeakMap;Og.create=(t,e)=>new Og({values:t,typeName:Gt.ZodNativeEnum,...na(e)});class Bp extends ha{unwrap(){return this._def.type}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==mt.promise&&a.common.async===!1)return ft(a,{code:at.invalid_type,expected:mt.promise,received:a.parsedType}),Ut;const n=a.parsedType===mt.promise?a.data:Promise.resolve(a.data);return Ds(n.then(r=>this._def.type.parseAsync(r,{path:a.path,errorMap:a.common.contextualErrorMap})))}}Bp.create=(t,e)=>new Bp({type:t,typeName:Gt.ZodPromise,...na(e)});class Po extends ha{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Gt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:a,ctx:n}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:i=>{ft(n,i),i.fatal?a.abort():a.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const i=r.transform(n.data,s);if(n.common.async)return Promise.resolve(i).then(async o=>{if(a.value==="aborted")return Ut;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Ut:c.status==="dirty"||a.value==="dirty"?gp(c.value):c});{if(a.value==="aborted")return Ut;const o=this._def.schema._parseSync({data:i,path:n.path,parent:n});return o.status==="aborted"?Ut:o.status==="dirty"||a.value==="dirty"?gp(o.value):o}}if(r.type==="refinement"){const i=o=>{const c=r.refinement(o,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ut:(o.status==="dirty"&&a.dirty(),i(o.value),{status:a.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ut:(o.status==="dirty"&&a.dirty(),i(o.value).then(()=>({status:a.value,value:o.value}))))}if(r.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!id(i))return i;const o=r.transform(i.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>id(i)?Promise.resolve(r.transform(i.value,s)).then(o=>({status:a.value,value:o})):i);Fa.assertNever(r)}}Po.create=(t,e,a)=>new Po({schema:t,typeName:Gt.ZodEffects,effect:e,...na(a)});Po.createWithPreprocess=(t,e,a)=>new Po({schema:e,effect:{type:"preprocess",transform:t},typeName:Gt.ZodEffects,...na(a)});class dc extends ha{_parse(e){return this._getType(e)===mt.undefined?Ds(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dc.create=(t,e)=>new dc({innerType:t,typeName:Gt.ZodOptional,...na(e)});class wu extends ha{_parse(e){return this._getType(e)===mt.null?Ds(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wu.create=(t,e)=>new wu({innerType:t,typeName:Gt.ZodNullable,...na(e)});class $g extends ha{_parse(e){const{ctx:a}=this._processInputParams(e);let n=a.data;return a.parsedType===mt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}$g.create=(t,e)=>new $g({innerType:t,typeName:Gt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...na(e)});class Lg extends ha{_parse(e){const{ctx:a}=this._processInputParams(e),n={...a,common:{...a.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Sg(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new di(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new di(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Lg.create=(t,e)=>new Lg({innerType:t,typeName:Gt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...na(e)});class Xk extends ha{_parse(e){if(this._getType(e)!==mt.nan){const n=this._getOrReturnCtx(e);return ft(n,{code:at.invalid_type,expected:mt.nan,received:n.parsedType}),Ut}return{status:"valid",value:e.data}}}Xk.create=t=>new Xk({typeName:Gt.ZodNaN,...na(t)});const vie=Symbol("zod_brand");class $C extends ha{_parse(e){const{ctx:a}=this._processInputParams(e),n=a.data;return this._def.type._parse({data:n,path:a.path,parent:a})}unwrap(){return this._def.type}}class Dy extends ha{_parse(e){const{status:a,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ut:s.status==="dirty"?(a.dirty(),gp(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const r=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return r.status==="aborted"?Ut:r.status==="dirty"?(a.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:n.path,parent:n})}}static create(e,a){return new Dy({in:e,out:a,typeName:Gt.ZodPipeline})}}class Mg extends ha{_parse(e){const a=this._def.innerType._parse(e),n=r=>(id(r)&&(r.value=Object.freeze(r.value)),r);return Sg(a)?a.then(r=>n(r)):n(a)}unwrap(){return this._def.innerType}}Mg.create=(t,e)=>new Mg({innerType:t,typeName:Gt.ZodReadonly,...na(e)});function W$(t,e){const a=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof a=="string"?{message:a}:a}function H8(t,e={},a){return t?Mp.create().superRefine((n,r)=>{var s,i;const o=t(n);if(o instanceof Promise)return o.then(c=>{var l,u;if(!c){const d=W$(e,n),p=(u=(l=d.fatal)!==null&&l!==void 0?l:a)!==null&&u!==void 0?u:!0;r.addIssue({code:"custom",...d,fatal:p})}});if(!o){const c=W$(e,n),l=(i=(s=c.fatal)!==null&&s!==void 0?s:a)!==null&&i!==void 0?i:!0;r.addIssue({code:"custom",...c,fatal:l})}}):Mp.create()}const xie={object:Nn.lazycreate};var Gt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Gt||(Gt={}));const kie=(t,e={message:`Input not instance of ${t.name}`})=>H8(a=>a instanceof t,e),K8=_o.create,q8=vu.create,wie=Xk.create,bie=xu.create,X8=Tg.create,_ie=od.create,Aie=Hk.create,Nie=Eg.create,Sie=Cg.create,Tie=Mp.create,Eie=qf.create,Cie=pl.create,Iie=Kk.create,Rie=No.create,Die=Nn.create,Pie=Nn.strictCreate,Fie=Ig.create,Oie=db.create,$ie=Rg.create,Lie=kc.create,Mie=Dg.create,Bie=qk.create,zie=cd.create,Gie=wp.create,Uie=Pg.create,Wie=Fg.create,Vie=ku.create,jie=Og.create,Hie=Bp.create,V$=Po.create,Kie=dc.create,qie=wu.create,Xie=Po.createWithPreprocess,Yie=Dy.create,Zie=()=>K8().optional(),Jie=()=>q8().optional(),Qie=()=>X8().optional(),eoe={string:t=>_o.create({...t,coerce:!0}),number:t=>vu.create({...t,coerce:!0}),boolean:t=>Tg.create({...t,coerce:!0}),bigint:t=>xu.create({...t,coerce:!0}),date:t=>od.create({...t,coerce:!0})},toe=Ut;var aoe=Object.freeze({__proto__:null,defaultErrorMap:Lp,setErrorMap:Xse,getErrorMap:Wk,makeIssue:Vk,EMPTY_PATH:Yse,addIssueToContext:ft,ParseStatus:gs,INVALID:Ut,DIRTY:gp,OK:Ds,isAborted:TT,isDirty:ET,isValid:id,isAsync:Sg,get util(){return Fa},get objectUtil(){return ST},ZodParsedType:mt,getParsedType:Qc,ZodType:ha,datetimeRegex:V8,ZodString:_o,ZodNumber:vu,ZodBigInt:xu,ZodBoolean:Tg,ZodDate:od,ZodSymbol:Hk,ZodUndefined:Eg,ZodNull:Cg,ZodAny:Mp,ZodUnknown:qf,ZodNever:pl,ZodVoid:Kk,ZodArray:No,ZodObject:Nn,ZodUnion:Ig,ZodDiscriminatedUnion:db,ZodIntersection:Rg,ZodTuple:kc,ZodRecord:Dg,ZodMap:qk,ZodSet:cd,ZodFunction:wp,ZodLazy:Pg,ZodLiteral:Fg,ZodEnum:ku,ZodNativeEnum:Og,ZodPromise:Bp,ZodEffects:Po,ZodTransformer:Po,ZodOptional:dc,ZodNullable:wu,ZodDefault:$g,ZodCatch:Lg,ZodNaN:Xk,BRAND:vie,ZodBranded:$C,ZodPipeline:Dy,ZodReadonly:Mg,custom:H8,Schema:ha,ZodSchema:ha,late:xie,get ZodFirstPartyTypeKind(){return Gt},coerce:eoe,any:Tie,array:Rie,bigint:bie,boolean:X8,date:_ie,discriminatedUnion:Oie,effect:V$,enum:Vie,function:Gie,instanceof:kie,intersection:$ie,lazy:Uie,literal:Wie,map:Bie,nan:wie,nativeEnum:jie,never:Cie,null:Sie,nullable:qie,number:q8,object:Die,oboolean:Qie,onumber:Jie,optional:Kie,ostring:Zie,pipeline:Yie,preprocess:Xie,promise:Hie,record:Mie,set:zie,strictObject:Pie,string:K8,symbol:Aie,transformer:V$,tuple:Lie,undefined:Nie,union:Fie,unknown:Eie,void:Iie,NEVER:toe,ZodIssueCode:at,quotelessJson:qse,ZodError:di}),noe=Object.defineProperty,roe=Object.defineProperties,soe=Object.getOwnPropertyDescriptors,Yk=Object.getOwnPropertySymbols,Y8=Object.prototype.hasOwnProperty,Z8=Object.prototype.propertyIsEnumerable,j$=(t,e,a)=>e in t?noe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,ioe=(t,e)=>{for(var a in e||(e={}))Y8.call(e,a)&&j$(t,a,e[a]);if(Yk)for(var a of Yk(e))Z8.call(e,a)&&j$(t,a,e[a]);return t},ooe=(t,e)=>roe(t,soe(e)),coe=(t,e)=>{var a={};for(var n in t)Y8.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&Yk)for(var n of Yk(t))e.indexOf(n)<0&&Z8.call(t,n)&&(a[n]=t[n]);return a};function loe(t){let e=setTimeout(t,0),a=setTimeout(t,10),n=setTimeout(t,50);return[e,a,n]}function uoe(t){let e=F.useRef();return F.useEffect(()=>{e.current=t}),e.current}var foe=18,J8=40,doe=`${J8}px`,hoe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function poe({containerRef:t,inputRef:e,pushPasswordManagerStrategy:a,isFocused:n}){let[r,s]=F.useState(!1),[i,o]=F.useState(!1),[c,l]=F.useState(!1),u=F.useMemo(()=>a==="none"?!1:(a==="increase-width"||a==="experimental-no-flickering")&&r&&i,[r,i,a]),d=F.useCallback(()=>{let p=t.current,m=e.current;if(!p||!m||c||a==="none")return;let g=p,x=g.getBoundingClientRect().left+g.offsetWidth,v=g.getBoundingClientRect().top+g.offsetHeight/2,k=x-foe,b=v;document.querySelectorAll(hoe).length===0&&document.elementFromPoint(k,b)===p||(s(!0),l(!0))},[t,e,c,a]);return F.useEffect(()=>{let p=t.current;if(!p||a==="none")return;function m(){let x=window.innerWidth-p.getBoundingClientRect().right;o(x>=J8)}m();let g=setInterval(m,1e3);return()=>{clearInterval(g)}},[t,a]),F.useEffect(()=>{let p=n||document.activeElement===e.current;if(a==="none"||!p)return;let m=setTimeout(d,0),g=setTimeout(d,2e3),x=setTimeout(d,5e3),v=setTimeout(()=>{l(!0)},6e3);return()=>{clearTimeout(m),clearTimeout(g),clearTimeout(x),clearTimeout(v)}},[e,n,a,d]),{hasPWMBadge:r,willPushPWMBadge:u,PWM_BADGE_SPACE_WIDTH:doe}}var Q8=F.createContext({}),ez=F.forwardRef((t,e)=>{var a=t,{value:n,onChange:r,maxLength:s,textAlign:i="left",pattern:o,placeholder:c,inputMode:l="numeric",onComplete:u,pushPasswordManagerStrategy:d="increase-width",pasteTransformer:p,containerClassName:m,noScriptCSSFallback:g=moe,render:x,children:v}=a,k=coe(a,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),b,_,A,S,C;let[E,R]=F.useState(typeof k.defaultValue=="string"?k.defaultValue:""),I=n??E,P=uoe(I),D=F.useCallback(Ae=>{r==null||r(Ae),R(Ae)},[r]),B=F.useMemo(()=>o?typeof o=="string"?new RegExp(o):o:null,[o]),U=F.useRef(null),V=F.useRef(null),j=F.useRef({value:I,onChange:D,isIOS:typeof window<"u"&&((_=(b=window==null?void 0:window.CSS)==null?void 0:b.supports)==null?void 0:_.call(b,"-webkit-touch-callout","none"))}),W=F.useRef({prev:[(A=U.current)==null?void 0:A.selectionStart,(S=U.current)==null?void 0:S.selectionEnd,(C=U.current)==null?void 0:C.selectionDirection]});F.useImperativeHandle(e,()=>U.current,[]),F.useEffect(()=>{let Ae=U.current,Oe=V.current;if(!Ae||!Oe)return;j.current.value!==Ae.value&&j.current.onChange(Ae.value),W.current.prev=[Ae.selectionStart,Ae.selectionEnd,Ae.selectionDirection];function $e(){if(document.activeElement!==Ae){ue(null),ie(null);return}let tt=Ae.selectionStart,lt=Ae.selectionEnd,Mt=Ae.selectionDirection,Ft=Ae.maxLength,st=Ae.value,Be=W.current.prev,Fe=-1,It=-1,Lt;if(st.length!==0&&tt!==null&&lt!==null){let it=tt===lt,jt=tt===st.length&&st.length<Ft;if(it&&!jt){let Ht=tt;if(Ht===0)Fe=0,It=1,Lt="forward";else if(Ht===Ft)Fe=Ht-1,It=Ht,Lt="backward";else if(Ft>1&&st.length>1){let Wt=0;if(Be[0]!==null&&Be[1]!==null){Lt=Ht<Be[1]?"backward":"forward";let ur=Be[0]===Be[1]&&Be[0]<Ft;Lt==="backward"&&!ur&&(Wt=-1)}Fe=Wt+Ht,It=Wt+Ht+1}}Fe!==-1&&It!==-1&&Fe!==It&&U.current.setSelectionRange(Fe,It,Lt)}let Rt=Fe!==-1?Fe:tt,$a=It!==-1?It:lt,La=Lt??Mt;ue(Rt),ie($a),W.current.prev=[Rt,$a,La]}if(document.addEventListener("selectionchange",$e,{capture:!0}),$e(),document.activeElement===Ae&&M(!0),!document.getElementById("input-otp-style")){let tt=document.createElement("style");if(tt.id="input-otp-style",document.head.appendChild(tt),tt.sheet){let lt="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";O0(tt.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),O0(tt.sheet,`[data-input-otp]:autofill { ${lt} }`),O0(tt.sheet,`[data-input-otp]:-webkit-autofill { ${lt} }`),O0(tt.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),O0(tt.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let He=()=>{Oe&&Oe.style.setProperty("--root-height",`${Ae.clientHeight}px`)};He();let Ve=new ResizeObserver(He);return Ve.observe(Ae),()=>{document.removeEventListener("selectionchange",$e,{capture:!0}),Ve.disconnect()}},[]);let[Q,q]=F.useState(!1),[Z,M]=F.useState(!1),[se,ue]=F.useState(null),[le,ie]=F.useState(null);F.useEffect(()=>{loe(()=>{var Ae,Oe,$e,He;(Ae=U.current)==null||Ae.dispatchEvent(new Event("input"));let Ve=(Oe=U.current)==null?void 0:Oe.selectionStart,tt=($e=U.current)==null?void 0:$e.selectionEnd,lt=(He=U.current)==null?void 0:He.selectionDirection;Ve!==null&&tt!==null&&(ue(Ve),ie(tt),W.current.prev=[Ve,tt,lt])})},[I,Z]),F.useEffect(()=>{P!==void 0&&I!==P&&P.length<s&&I.length===s&&(u==null||u(I))},[s,u,P,I]);let ye=poe({containerRef:V,inputRef:U,pushPasswordManagerStrategy:d,isFocused:Z}),ke=F.useCallback(Ae=>{let Oe=Ae.currentTarget.value.slice(0,s);if(Oe.length>0&&B&&!B.test(Oe)){Ae.preventDefault();return}typeof P=="string"&&Oe.length<P.length&&document.dispatchEvent(new Event("selectionchange")),D(Oe)},[s,D,P,B]),ge=F.useCallback(()=>{var Ae;if(U.current){let Oe=Math.min(U.current.value.length,s-1),$e=U.current.value.length;(Ae=U.current)==null||Ae.setSelectionRange(Oe,$e),ue(Oe),ie($e)}M(!0)},[s]),G=F.useCallback(Ae=>{var Oe,$e;let He=U.current;if(!p&&(!j.current.isIOS||!Ae.clipboardData||!He))return;let Ve=Ae.clipboardData.getData("text/plain"),tt=p?p(Ve):Ve;Ae.preventDefault();let lt=(Oe=U.current)==null?void 0:Oe.selectionStart,Mt=($e=U.current)==null?void 0:$e.selectionEnd,Ft=(lt!==Mt?I.slice(0,lt)+tt+I.slice(Mt):I.slice(0,lt)+tt+I.slice(lt)).slice(0,s);if(Ft.length>0&&B&&!B.test(Ft))return;He.value=Ft,D(Ft);let st=Math.min(Ft.length,s-1),Be=Ft.length;He.setSelectionRange(st,Be),ue(st),ie(Be)},[s,D,B,I]),te=F.useMemo(()=>({position:"relative",cursor:k.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[k.disabled]),ee=F.useMemo(()=>({position:"absolute",inset:0,width:ye.willPushPWMBadge?`calc(100% + ${ye.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ye.willPushPWMBadge?`inset(0 ${ye.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ye.PWM_BADGE_SPACE_WIDTH,ye.willPushPWMBadge,i]),ne=F.useMemo(()=>F.createElement("input",ooe(ioe({autoComplete:k.autoComplete||"one-time-code"},k),{"data-input-otp":!0,"data-input-otp-placeholder-shown":I.length===0||void 0,"data-input-otp-mss":se,"data-input-otp-mse":le,inputMode:l,pattern:B==null?void 0:B.source,"aria-placeholder":c,style:ee,maxLength:s,value:I,ref:U,onPaste:Ae=>{var Oe;G(Ae),(Oe=k.onPaste)==null||Oe.call(k,Ae)},onChange:ke,onMouseOver:Ae=>{var Oe;q(!0),(Oe=k.onMouseOver)==null||Oe.call(k,Ae)},onMouseLeave:Ae=>{var Oe;q(!1),(Oe=k.onMouseLeave)==null||Oe.call(k,Ae)},onFocus:Ae=>{var Oe;ge(),(Oe=k.onFocus)==null||Oe.call(k,Ae)},onBlur:Ae=>{var Oe;M(!1),(Oe=k.onBlur)==null||Oe.call(k,Ae)}})),[ke,ge,G,l,ee,s,le,se,k,B==null?void 0:B.source,I]),be=F.useMemo(()=>({slots:Array.from({length:s}).map((Ae,Oe)=>{var $e;let He=Z&&se!==null&&le!==null&&(se===le&&Oe===se||Oe>=se&&Oe<le),Ve=I[Oe]!==void 0?I[Oe]:null,tt=I[0]!==void 0?null:($e=c==null?void 0:c[Oe])!=null?$e:null;return{char:Ve,placeholderChar:tt,isActive:He,hasFakeCaret:He&&Ve===null}}),isFocused:Z,isHovering:!k.disabled&&Q}),[Z,Q,s,le,se,k.disabled,I]),Y=F.useMemo(()=>x?x(be):F.createElement(Q8.Provider,{value:be},v),[v,be,x]);return F.createElement(F.Fragment,null,g!==null&&F.createElement("noscript",null,F.createElement("style",null,g)),F.createElement("div",{ref:V,"data-input-otp-container":!0,style:te,className:m},Y,F.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ne)))});ez.displayName="Input";function O0(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var moe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const tz=F.forwardRef(({className:t,containerClassName:e,...a},n)=>L.jsx(ez,{ref:n,containerClassName:sa("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:sa("disabled:cursor-not-allowed",t),...a}));tz.displayName="InputOTP";const IT=F.forwardRef(({className:t,...e},a)=>L.jsx("div",{ref:a,className:sa("flex items-center",t),...e}));IT.displayName="InputOTPGroup";const Df=F.forwardRef(({index:t,className:e,...a},n)=>{const r=F.useContext(Q8),{char:s,hasFakeCaret:i,isActive:o}=r.slots[t];return L.jsxs("div",{ref:n,className:sa("relative flex h-9 w-9 items-center justify-center border-y border-r border-neutral-200 text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md dark:border-neutral-800",o&&"z-10 ring-1 ring-neutral-950 dark:ring-neutral-300",e),...a,children:[s,i&&L.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:L.jsx("div",{className:"h-4 w-px animate-caret-blink bg-neutral-950 duration-1000 dark:bg-neutral-50"})})]})});Df.displayName="InputOTPSlot";const az=F.forwardRef(({...t},e)=>L.jsx("div",{ref:e,...t,children:L.jsx(TC,{})}));az.displayName="InputOTPSeparator";const nz=F.forwardRef(({className:t,type:e,...a},n)=>L.jsx("input",{type:e,className:sa("flex h-9 w-full rounded-md border border-neutral-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:font-medium file:text-neutral-950 file:text-sm placeholder:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-neutral-800 dark:focus-visible:ring-neutral-300 dark:placeholder:text-neutral-400 dark:file:text-neutral-50",t),ref:n,...a}));nz.displayName="Input";const goe=aoe.string().nonempty("Email is required").email("Email must be valid").max(255,"Email must be less than 255 characters"),yoe=()=>{const{setIsLoginDialogOpen:t}=F.use(Al),{toast:e}=wC(),{t:a}=wy("login"),[n,r]=F.useState(""),[s,i]=F.useState(!1),o=async l=>{try{const{data:{session:u},error:d}=await eo.auth.verifyOtp({email:n,token:l,type:"email"});d?(console.log("supa OTP error",d),e({title:"There was an error verifying your OTP. Please try again.",variant:"destructive"})):(console.log("supa session",u),t(!1))}catch{e({title:a("invalidCode"),variant:"destructive"})}},c=async()=>{if(!goe.safeParse(n).success){e({title:a("validEmail"),variant:"destructive"});return}const{error:u}=await eo.auth.signInWithOtp({email:n});u?(console.log("supa OTP error",u),e({title:"There was an error sending your OTP email. Please try again.",variant:"destructive"})):i(!0)};return s?L.jsxs(L.Fragment,{children:[L.jsx("p",{className:"pt-4",children:a("fill6Digit")}),L.jsx("div",{children:L.jsxs(tz,{maxLength:6,autoFocus:!0,onComplete:o,children:[L.jsxs(IT,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(Df,{index:0}),L.jsx(Df,{index:1}),L.jsx(Df,{index:2})]}),L.jsx(az,{}),L.jsxs(IT,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(Df,{index:3}),L.jsx(Df,{index:4}),L.jsx(Df,{index:5})]})]})})]}):L.jsxs("div",{className:"pt-4",children:[L.jsx("p",{children:a("fillEmail")}),L.jsxs("div",{className:"flex justify-center gap-2 pt-4 align-center",children:[L.jsx(nz,{type:"email",placeholder:"Email",onChange:l=>r(l.target.value),onKeyDown:async l=>{l.key==="Enter"&&await c()}}),L.jsx(rn,{onClick:c,children:a("button")})]})]})},voe=Sy("relative w-full rounded-lg border border-neutral-200 px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-neutral-950 [&>svg~*]:pl-7 dark:border-neutral-800 dark:[&>svg]:text-neutral-50",{variants:{variant:{default:"bg-white text-neutral-950 dark:bg-neutral-950 dark:text-neutral-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),rz=F.forwardRef(({className:t,variant:e,...a},n)=>L.jsx("div",{ref:n,role:"alert",className:sa(voe({variant:e}),t),...a}));rz.displayName="Alert";const xoe=F.forwardRef(({className:t,...e},a)=>L.jsx("h5",{ref:a,className:sa("mb-1 font-medium leading-none tracking-tight",t),...e}));xoe.displayName="AlertTitle";const RT=F.forwardRef(({className:t,...e},a)=>L.jsx("div",{ref:a,className:sa("text-sm [&_p]:leading-relaxed",t),...e}));RT.displayName="AlertDescription";const Sk=A8,koe=N8,woe=S8,LC=F.forwardRef(({className:t,...e},a)=>L.jsx(cb,{ref:a,className:sa("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80 data-[state=closed]:animate-out data-[state=open]:animate-in",t),...e}));LC.displayName=cb.displayName;const sg=F.forwardRef(({className:t,children:e,...a},n)=>L.jsxs(woe,{children:[L.jsx(LC,{}),L.jsxs(lb,{ref:n,className:sa("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%] fixed top-[50%] left-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-200 bg-white p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:rounded-lg dark:border-neutral-800 dark:bg-neutral-950",t),...a,children:[e,L.jsxs(T8,{className:"absolute top-4 right-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-neutral-100 data-[state=open]:text-neutral-500 dark:ring-offset-neutral-950 dark:data-[state=open]:bg-neutral-800 dark:data-[state=open]:text-neutral-400 dark:focus:ring-neutral-300",children:[L.jsx(EC,{className:"h-4 w-4"}),L.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sg.displayName=lb.displayName;const ig=({className:t,...e})=>L.jsx("div",{className:sa("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ig.displayName="DialogHeader";const sz=({className:t,...e})=>L.jsx("div",{className:sa("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});sz.displayName="DialogFooter";const og=F.forwardRef(({className:t,...e},a)=>L.jsx(ub,{ref:a,className:sa("font-semibold text-lg leading-none tracking-tight",t),...e}));og.displayName=ub.displayName;const boe=F.forwardRef(({className:t,...e},a)=>L.jsx(fb,{ref:a,className:sa("text-neutral-500 text-sm dark:text-neutral-400",t),...e}));boe.displayName=fb.displayName;const Gf=class Gf{constructor(){mo(this,"db",null);mo(this,"DB_NAME","PokemonCardHashes");mo(this,"STORE_NAME","cardHashes")}static getInstance(){return Gf.instance||(Gf.instance=new Gf),Gf.instance}async initDB(){return new Promise((e,a)=>{const n=indexedDB.open(this.DB_NAME,1);n.onerror=()=>a(n.error),n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=r=>{const s=r.target.result;s.objectStoreNames.contains(this.STORE_NAME)||s.createObjectStore(this.STORE_NAME,{keyPath:"id"})}})}async storeHashes(e){if(!this.db)throw new Error("Database not initialized");const a=this.db.transaction(this.STORE_NAME,"readwrite"),n=a.objectStore(this.STORE_NAME);return new Promise((r,s)=>{for(const i of e)n.put(i);a.oncomplete=()=>r(),a.onerror=()=>s(a.error)})}async getAllHashes(){if(!this.db)throw new Error("Database not initialized");const n=this.db.transaction(this.STORE_NAME,"readonly").objectStore(this.STORE_NAME).getAll();return new Promise((r,s)=>{n.onsuccess=()=>r(n.result),n.onerror=()=>s(n.error)})}async getHashCount(){if(!this.db)throw new Error("Database not initialized");const n=this.db.transaction(this.STORE_NAME,"readonly").objectStore(this.STORE_NAME).count();return new Promise((r,s)=>{n.onsuccess=()=>r(n.result),n.onerror=()=>s(n.error)})}};mo(Gf,"instance");let DT=Gf;const Uf=class Uf{constructor(){mo(this,"hashSize",24)}static getInstance(){return Uf.instance||(Uf.instance=new Uf),Uf.instance}async calculatePerceptualHash(e){const a=await this.ensureImage(e),n=document.createElement("canvas"),r=n.getContext("2d");if(n.width=this.hashSize,n.height=this.hashSize,r){r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high",r.drawImage(a,0,0,this.hashSize,this.hashSize);const i=r.getImageData(0,0,this.hashSize,this.hashSize).data,o={r:new Array(this.hashSize*this.hashSize),g:new Array(this.hashSize*this.hashSize),b:new Array(this.hashSize*this.hashSize)};for(let g=0;g<i.length;g+=4){const x=g/4;o.r[x]=i[g],o.g[x]=i[g+1],o.b[x]=i[g+2]}const c=this.computeDCT(o.r),l=this.computeDCT(o.g),u=this.computeDCT(o.b),d=Math.floor(this.hashSize/4),p=this.calculateChannelAverages(c,l,u,d);let m="";for(let g=0;g<d;g++)for(let x=0;x<d;x++)if(!(x===0&&g===0)){const v=g*this.hashSize+x;m+=c[v]>p.r?"1":"0",m+=l[v]>p.g?"1":"0",m+=u[v]>p.b?"1":"0"}return m}throw new Error("Failed to process image")}calculateChannelAverages(e,a,n,r){let s=0,i=0,o=0,c=0;for(let l=0;l<r;l++)for(let u=0;u<r;u++)if(!(u===0&&l===0)){const d=l*this.hashSize+u;s+=e[d],i+=a[d],o+=n[d],c++}return{r:s/c,g:i/c,b:o/c}}computeDCT(e){const a=this.hashSize,n=new Array(a*a);for(let r=0;r<a;r++)for(let s=0;s<a;s++){let i=0;for(let l=0;l<a;l++)for(let u=0;u<a;u++)i+=e[l*a+u]*Math.cos((2*u+1)*r*Math.PI/(2*a))*Math.cos((2*l+1)*s*Math.PI/(2*a));const o=r===0?1/Math.sqrt(2):1,c=s===0?1/Math.sqrt(2):1;n[r*a+s]=2*o*c/a*i}return n}calculateHammingDistance(e,a){let n=0;const r=Math.min(e.length,a.length);for(let s=0;s<r;s++)e[s]!==a[s]&&n++;return n+=Math.abs(e.length-a.length),n}ensureImage(e){return new Promise((a,n)=>{if(e instanceof HTMLImageElement)e.complete?a(e):(e.onload=()=>a(e),e.onerror=()=>n(new Error("Failed to load image")));else{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>a(r),r.onerror=()=>n(new Error("Failed to load image from URL")),r.src=e}})}};mo(Uf,"instance");let Zk=Uf;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _oe=1e-7,Aoe=1e-4;class iz{constructor(e,a){this.backend=e,this.dataMover=a,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,a){this.dataIdsCount++,this.data.set(e,a)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class MC{refCount(e){return zs("refCount")}incRef(e){return zs("incRef")}timerAvailable(){return!0}time(e){return zs("time")}read(e){return zs("read")}readSync(e){return zs("readSync")}readToGPU(e,a){return zs("readToGPU")}numDataIds(){return zs("numDataIds")}disposeData(e,a){return zs("disposeData")}write(e,a,n){return zs("write")}move(e,a,n,r,s){return zs("move")}createTensorFromGPUData(e,a,n){return zs("createTensorFromGPUData")}memory(){return zs("memory")}floatPrecision(){return zs("floatPrecision")}epsilon(){return this.floatPrecision()===32?_oe:Aoe}dispose(){return zs("dispose")}}function zs(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Noe(t){let e=t.length,a=0;for(;e>0;)a=Math.random()*e|0,e--,fp(t,e,a)}function ld(t,e,a){return Math.max(t,Math.min(e,a))}function BC(t){return t%2===0?t:t+1}function fp(t,e,a){const n=t[e];t[e]=t[a],t[a]=n}function Soe(t){let e=0;for(let a=0;a<t.length;a++)e+=t[a];return e}function K(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function ti(t,e,a=""){K(_a(t,e),()=>a+` Shapes ${t} and ${e} must match`)}function fm(t){K(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Me(t){if(t.length===0)return 1;let e=t[0];for(let a=1;a<t.length;a++)e*=t[a];return e}function Toe(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!==null&&e[a]!==null&&t[a]!==e[a])return!1;return!0}function _a(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0}function zp(t){return t%1===0}function PT(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function bp(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function H$(t,e=r=>0,a,n){return new Promise((r,s)=>{let i=0;const o=()=>{if(t()){r();return}i++;const c=e(i);if(a!=null&&i>=a){s();return}n!=null?n(o,c):setTimeout(o,c)};o()})}function oz(t,e){let a=1,n=-1;for(let s=0;s<t.length;++s)if(t[s]>=0)a*=t[s];else if(t[s]===-1){if(n!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${n} and dim ${s}`);n=s}else if(t[s]<0)throw Error(`Shapes can not be < 0. Found ${t[s]} at dim ${s}`);if(n===-1){if(e>0&&e!==a)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(a===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%a!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${a}`);const r=t.slice();return r[n]=e/a,r}function pa(t,e){const a=e.length;return t=t==null?e.map((n,r)=>r):[].concat(t),K(t.every(n=>n>=-a&&n<a),()=>`All values in axis param must be in range [-${a}, ${a}) but got axis ${t}`),K(t.every(n=>zp(n)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(n=>n<0?a+n:n)}function Gu(t,e){const a=[],n=[],r=e!=null&&Array.isArray(e)&&e.length===0,s=e==null||r?null:pa(e,t).sort();let i=0;for(let o=0;o<t.length;++o){if(s!=null){if(s[i]===o&&t[o]!==1)throw new Error(`Can't squeeze axis ${o} since its dim '${t[o]}' is not 1`);(s[i]==null||s[i]>o)&&t[o]===1&&(a.push(t[o]),n.push(o)),s[i]<=o&&i++}t[o]!==1&&(a.push(t[o]),n.push(o))}return{newShape:a,keptDims:n}}function $r(t,e){return Ln(t,e)}function Ln(t,e){let a=null;if(t==null||t==="float32")a=new Float32Array(e);else if(t==="int32")a=new Int32Array(e);else if(t==="bool")a=new Uint8Array(e);else if(t==="string")a=new Array(e);else throw new Error(`Unknown data type ${t}`);return a}function Eoe(t,e){for(let a=0;a<t.length;a++){const n=t[a];if(isNaN(n)||!isFinite(n))throw Error(`A tensor of type ${e} being uploaded contains ${n}.`)}}function Coe(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function cz(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Jk(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function Ioe(t){if(t==null)return 0;let e=0;return t.forEach(a=>e+=a.length),e}function Py(t){return typeof t=="string"||t instanceof String}function Roe(t){return typeof t=="boolean"}function FT(t){return typeof t=="number"}function dm(t){return Array.isArray(t)?dm(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":FT(t)?"float32":Py(t)?"string":Roe(t)?"bool":"float32"}function OT(t){return!!(t&&t.constructor&&t.call&&t.apply)}function $T(t,e){for(let a=e;a<t;++a)if(t%a===0)return a;return t}function Dt(t){const e=t.length;if(e<2)return[];const a=new Array(e-1);a[e-2]=t[e-1];for(let n=e-3;n>=0;--n)a[n]=a[n+1]*t[n+1];return a}function lz(t,e,a,n=!1){const r=new Array;if(e.length===1){const s=e[0]*(n?2:1);for(let i=0;i<s;i++)r[i]=a[t+i]}else{const s=e[0],i=e.slice(1),o=i.reduce((c,l)=>c*l)*(n?2:1);for(let c=0;c<s;c++)r[c]=lz(t+c*o,i,a,n)}return r}function Zi(t,e,a=!1){if(t.length===0)return e[0];const n=t.reduce((r,s)=>r*s)*(a?2:1);if(n===0)return[];if(n!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${a?" for a complex tensor":""}.`);return lz(0,t,e,a)}function Doe(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function zC(t,e){const a=Kr(t,e);for(let n=0;n<a.length;n++)a[n]=1;return a}function Kr(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function uz(t,e){const a=t.reduce((n,r)=>n*r,1);if(e==null||e==="float32")return Zi(t,new Float32Array(a));if(e==="int32")return Zi(t,new Int32Array(a));if(e==="bool")return Zi(t,new Uint8Array(a));throw new Error(`Unknown data type ${e}`)}function ki(t){t.forEach(e=>{K(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function hc(t,e,a){if(e===0)return 0;if(e===1)return t[0];let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=a[r]*t[r];return n}function hm(t,e,a){if(e===0)return[];if(e===1)return[t];const n=new Array(e);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(t/a[r]),t-=n[r]*a[r];return n[n.length-1]=t,n}function ud(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K$="tfjsflags";class Poe{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Foe,this.populateURLFlags()}setPlatform(e,a){this.platform!=null&&(Ce().getBool("IS_TEST")||Ce().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=a}registerFlag(e,a,n){if(this.flagRegistry[e]={evaluationFn:a,setHook:n},this.urlFlags[e]!=null){const r=this.urlFlags[e];Ce().getBool("IS_TEST")||Ce().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${r}.`),this.set(e,r)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const a=this.evaluateFlag(e);if(ud(a))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=a,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,a){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=a,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(a)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);K$ in e&&e[K$].split(",").forEach(n=>{const[r,s]=n.split(":");this.urlFlags[r]=$oe(r,s)})}}function Foe(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(a,...n)=>(Ooe(e,n[0],n[1]),n.join("="))),e}function Ooe(t,e,a){t[decodeURIComponent(e)]=decodeURIComponent(a||"")}function $oe(t,e){const a=e.toLowerCase();return a==="true"||a==="false"?a==="true":`${+a}`===a?+a:e}function Ce(){return fz}let fz=null;function Loe(t){fz=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let cS;function dz(){if(cS==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");cS=t}return cS}function Moe(){const t=dz();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function GC(t,e){const a=Moe();if(a.has(t))return a.get(t);{const n=e();return a.set(t,n),a.get(t)}}const hb="Abs",Fy="Acos",Oy="Acosh",pm="Add",pb="AddN",UC="All",WC="Any",mb="ArgMax",gb="ArgMin",$y="Asin",Ly="Asinh",My="Atan",By="Atanh",zy="Atan2",yb="AvgPool",VC="AvgPoolGrad",vb="AvgPool3D",jC="AvgPool3DGrad",xb="BatchMatMul",kb="BatchToSpaceND",HC="Bincount",wb="BitwiseAnd",Boe="BroadcastTo",KC="BroadcastArgs",Gy="Cast",Uy="Ceil",Wy="ClipByValue",qC="Complex",bb="ComplexAbs",_b="Concat",Ab="Conv2D",XC="Conv2DBackpropFilter",Nb="Conv2DBackpropInput",Sb="Conv3D",YC="Conv3DBackpropFilterV2",ZC="Conv3DBackpropInputV2",Vy="Cos",jy="Cosh",JC="Cumprod",Tb="Cumsum",QC="CropAndResize",eI="DenseBincount",tI="DepthToSpace",Eb="DepthwiseConv2dNative",aI="DepthwiseConv2dNativeBackpropFilter",nI="DepthwiseConv2dNativeBackpropInput",rI="Diag",Cb="Dilation2D",LT="Dilation2DBackpropInput",MT="Dilation2DBackpropFilter",zoe="Draw",Hy="RealDiv",sI="Einsum",Ky="Elu",iI="EluGrad",qy="Erf",Ib="Equal",Xy="Exp",Rb="ExpandDims",Yy="Expm1",oI="FFT",cI="Fill",lI="FlipLeftRight",Zy="Floor",Jy="FloorDiv",Db="FusedBatchNorm",Pb="GatherV2",uI="GatherNd",Fb="Greater",Qy="GreaterEqual",e1="Identity",fI="IFFT",dI="Imag",t1="IsFinite",a1="IsInf",n1="IsNan",Ob="LeakyRelu",$b="Less",Lb="LessEqual",hI="LinSpace",r1="Log",s1="Log1p",Mb="LogicalAnd",Bb="LogicalNot",zb="LogicalOr",Goe="LogSoftmax",Gb="LRN",pI="LRNGrad",Ub="Max",i1="Maximum",Wb="MaxPool",mI="MaxPoolGrad",Vb="MaxPool3D",gI="MaxPool3DGrad",yI="MaxPoolWithArgmax",jb="Mean",Hb="Min",o1="Minimum",Kb="MirrorPad",c1="Mod",vI="Multinomial",l1="Multiply",qb="Neg",Xb="NotEqual",xI="NonMaxSuppressionV3",kI="NonMaxSuppressionV4",wI="NonMaxSuppressionV5",Yb="OnesLike",Zb="OneHot",Jb="Pack",Qb="PadV2",u1="Pow",e_="Prelu",t_="Prod",bI="RaggedGather",_I="RaggedRange",AI="RaggedTensorToTensor",NI="Range",SI="Real",f1="Reciprocal",d1="Relu",a_="Reshape",n_="ResizeNearestNeighbor",TI="ResizeNearestNeighborGrad",r_="ResizeBilinear",EI="ResizeBilinearGrad",h1="Relu6",s_="Reverse",p1="Round",m1="Rsqrt",CI="ScatterNd",II="TensorScatterUpdate",RI="SearchSorted",i_="Select",g1="Selu",o_="Slice",y1="Sin",v1="Sinh",x1="Sign",k1="Sigmoid",w1="Softplus",b1="Sqrt",c_="Sum",l_="SpaceToBatchND",u_="SplitV",f_="Softmax",DI="SparseFillEmptyRows",PI="SparseReshape",FI="SparseSegmentMean",OI="SparseSegmentSum",$I="SparseToDense",_1="SquaredDifference",LI="Square",d_="StaticRegexReplace",MI="StridedSlice",BI="StringNGrams",zI="StringSplit",GI="StringToHashBucketFast",A1="Sub",N1="Tan",S1="Tanh",T1="Tile",UI="TopK",WI="Transform",_p="Transpose",VI="Unique",h_="Unpack",p_="UnsortedSegmentSum",m_="ZerosLike",E1="Step",BT="FromPixels",jI="RotateWithOffset",Qk="_FusedMatMul",ew="FusedConv2D",tw="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ui(...t){Ce().getBool("IS_TEST")||Ce().getBool("PROD")||console.warn(...t)}function Uoe(...t){Ce().getBool("IS_TEST")||Ce().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aw=GC("kernelRegistry",()=>new Map),zT=GC("gradRegistry",()=>new Map);function GT(t,e){const a=pz(t,e);return aw.get(a)}function q$(t){return zT.get(t)}function X$(t){const e=aw.entries(),a=[];for(;;){const{done:n,value:r}=e.next();if(n)break;const[s,i]=r,[o]=s.split("_");o===t&&a.push(i)}return a}function hz(t){const{kernelName:e,backendName:a}=t,n=pz(e,a);aw.has(n)&&ui(`The kernel '${e}' for backend '${a}' is already registered`),aw.set(n,t)}function Woe(t){const{kernelName:e}=t;zT.has(e)&&Ce().getBool("DEBUG")&&ui(`Overriding the gradient for '${e}'`),zT.set(e,t)}function pz(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mz(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var lS,Y$;function Voe(){if(Y$)return lS;Y$=1,lS=e;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(P,D,B){this.low=P|0,this.high=D|0,this.unsigned=!!B}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0});function a(P){return(P&&P.__isLong__)===!0}e.isLong=a;var n={},r={};function s(P,D){var B,U,V;return D?(P>>>=0,(V=0<=P&&P<256)&&(U=r[P],U)?U:(B=o(P,(P|0)<0?-1:0,!0),V&&(r[P]=B),B)):(P|=0,(V=-128<=P&&P<128)&&(U=n[P],U)?U:(B=o(P,P<0?-1:0,!1),V&&(n[P]=B),B))}e.fromInt=s;function i(P,D){if(isNaN(P))return D?b:k;if(D){if(P<0)return b;if(P>=g)return E}else{if(P<=-9223372036854776e3)return R;if(P+1>=x)return C}return P<0?i(-P,D).neg():o(P%m|0,P/m|0,D)}e.fromNumber=i;function o(P,D,B){return new e(P,D,B)}e.fromBits=o;var c=Math.pow;function l(P,D,B){if(P.length===0)throw Error("empty string");if(P==="NaN"||P==="Infinity"||P==="+Infinity"||P==="-Infinity")return k;if(typeof D=="number"?(B=D,D=!1):D=!!D,B=B||10,B<2||36<B)throw RangeError("radix");var U;if((U=P.indexOf("-"))>0)throw Error("interior hyphen");if(U===0)return l(P.substring(1),D,B).neg();for(var V=i(c(B,8)),j=k,W=0;W<P.length;W+=8){var Q=Math.min(8,P.length-W),q=parseInt(P.substring(W,W+Q),B);if(Q<8){var Z=i(c(B,Q));j=j.mul(Z).add(i(q))}else j=j.mul(V),j=j.add(i(q))}return j.unsigned=D,j}e.fromString=l;function u(P,D){return typeof P=="number"?i(P,D):typeof P=="string"?l(P,D):o(P.low,P.high,typeof D=="boolean"?D:P.unsigned)}e.fromValue=u;var d=65536,p=1<<24,m=d*d,g=m*m,x=g/2,v=s(p),k=s(0);e.ZERO=k;var b=s(0,!0);e.UZERO=b;var _=s(1);e.ONE=_;var A=s(1,!0);e.UONE=A;var S=s(-1);e.NEG_ONE=S;var C=o(-1,2147483647,!1);e.MAX_VALUE=C;var E=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=E;var R=o(0,-2147483648,!1);e.MIN_VALUE=R;var I=e.prototype;return I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},I.toString=function(D){if(D=D||10,D<2||36<D)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(R)){var B=i(D),U=this.div(B),V=U.mul(B).sub(this);return U.toString(D)+V.toInt().toString(D)}else return"-"+this.neg().toString(D);for(var j=i(c(D,6),this.unsigned),W=this,Q="";;){var q=W.div(j),Z=W.sub(q.mul(j)).toInt()>>>0,M=Z.toString(D);if(W=q,W.isZero())return M+Q;for(;M.length<6;)M="0"+M;Q=""+M+Q}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(R)?64:this.neg().getNumBitsAbs();for(var D=this.high!=0?this.high:this.low,B=31;B>0&&(D&1<<B)==0;B--);return this.high!=0?B+33:B+1},I.isZero=function(){return this.high===0&&this.low===0},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return(this.low&1)===1},I.isEven=function(){return(this.low&1)===0},I.equals=function(D){return a(D)||(D=u(D)),this.unsigned!==D.unsigned&&this.high>>>31===1&&D.high>>>31===1?!1:this.high===D.high&&this.low===D.low},I.eq=I.equals,I.notEquals=function(D){return!this.eq(D)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(D){return this.comp(D)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(D){return this.comp(D)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(D){return this.comp(D)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(D){return this.comp(D)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(D){if(a(D)||(D=u(D)),this.eq(D))return 0;var B=this.isNegative(),U=D.isNegative();return B&&!U?-1:!B&&U?1:this.unsigned?D.high>>>0>this.high>>>0||D.high===this.high&&D.low>>>0>this.low>>>0?-1:1:this.sub(D).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(R)?R:this.not().add(_)},I.neg=I.negate,I.add=function(D){a(D)||(D=u(D));var B=this.high>>>16,U=this.high&65535,V=this.low>>>16,j=this.low&65535,W=D.high>>>16,Q=D.high&65535,q=D.low>>>16,Z=D.low&65535,M=0,se=0,ue=0,le=0;return le+=j+Z,ue+=le>>>16,le&=65535,ue+=V+q,se+=ue>>>16,ue&=65535,se+=U+Q,M+=se>>>16,se&=65535,M+=B+W,M&=65535,o(ue<<16|le,M<<16|se,this.unsigned)},I.subtract=function(D){return a(D)||(D=u(D)),this.add(D.neg())},I.sub=I.subtract,I.multiply=function(D){if(this.isZero())return k;if(a(D)||(D=u(D)),t){var B=t.mul(this.low,this.high,D.low,D.high);return o(B,t.get_high(),this.unsigned)}if(D.isZero())return k;if(this.eq(R))return D.isOdd()?R:k;if(D.eq(R))return this.isOdd()?R:k;if(this.isNegative())return D.isNegative()?this.neg().mul(D.neg()):this.neg().mul(D).neg();if(D.isNegative())return this.mul(D.neg()).neg();if(this.lt(v)&&D.lt(v))return i(this.toNumber()*D.toNumber(),this.unsigned);var U=this.high>>>16,V=this.high&65535,j=this.low>>>16,W=this.low&65535,Q=D.high>>>16,q=D.high&65535,Z=D.low>>>16,M=D.low&65535,se=0,ue=0,le=0,ie=0;return ie+=W*M,le+=ie>>>16,ie&=65535,le+=j*M,ue+=le>>>16,le&=65535,le+=W*Z,ue+=le>>>16,le&=65535,ue+=V*M,se+=ue>>>16,ue&=65535,ue+=j*Z,se+=ue>>>16,ue&=65535,ue+=W*q,se+=ue>>>16,ue&=65535,se+=U*M+V*Z+j*q+W*Q,se&=65535,o(le<<16|ie,se<<16|ue,this.unsigned)},I.mul=I.multiply,I.divide=function(D){if(a(D)||(D=u(D)),D.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-2147483648&&D.low===-1&&D.high===-1)return this;var B=(this.unsigned?t.div_u:t.div_s)(this.low,this.high,D.low,D.high);return o(B,t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?b:k;var U,V,j;if(this.unsigned){if(D.unsigned||(D=D.toUnsigned()),D.gt(this))return b;if(D.gt(this.shru(1)))return A;j=b}else{if(this.eq(R)){if(D.eq(_)||D.eq(S))return R;if(D.eq(R))return _;var W=this.shr(1);return U=W.div(D).shl(1),U.eq(k)?D.isNegative()?_:S:(V=this.sub(D.mul(U)),j=U.add(V.div(D)),j)}else if(D.eq(R))return this.unsigned?b:k;if(this.isNegative())return D.isNegative()?this.neg().div(D.neg()):this.neg().div(D).neg();if(D.isNegative())return this.div(D.neg()).neg();j=k}for(V=this;V.gte(D);){U=Math.max(1,Math.floor(V.toNumber()/D.toNumber()));for(var Q=Math.ceil(Math.log(U)/Math.LN2),q=Q<=48?1:c(2,Q-48),Z=i(U),M=Z.mul(D);M.isNegative()||M.gt(V);)U-=q,Z=i(U,this.unsigned),M=Z.mul(D);Z.isZero()&&(Z=_),j=j.add(Z),V=V.sub(M)}return j},I.div=I.divide,I.modulo=function(D){if(a(D)||(D=u(D)),t){var B=(this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,D.low,D.high);return o(B,t.get_high(),this.unsigned)}return this.sub(this.div(D).mul(D))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return o(~this.low,~this.high,this.unsigned)},I.and=function(D){return a(D)||(D=u(D)),o(this.low&D.low,this.high&D.high,this.unsigned)},I.or=function(D){return a(D)||(D=u(D)),o(this.low|D.low,this.high|D.high,this.unsigned)},I.xor=function(D){return a(D)||(D=u(D)),o(this.low^D.low,this.high^D.high,this.unsigned)},I.shiftLeft=function(D){return a(D)&&(D=D.toInt()),(D&=63)===0?this:D<32?o(this.low<<D,this.high<<D|this.low>>>32-D,this.unsigned):o(0,this.low<<D-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(D){return a(D)&&(D=D.toInt()),(D&=63)===0?this:D<32?o(this.low>>>D|this.high<<32-D,this.high>>D,this.unsigned):o(this.high>>D-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(D){if(a(D)&&(D=D.toInt()),D&=63,D===0)return this;var B=this.high;if(D<32){var U=this.low;return o(U>>>D|B<<32-D,B>>>D,this.unsigned)}else return D===32?o(B,0,this.unsigned):o(B>>>D-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},I.toBytes=function(D){return D?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var D=this.high,B=this.low;return[B&255,B>>>8&255,B>>>16&255,B>>>24,D&255,D>>>8&255,D>>>16&255,D>>>24]},I.toBytesBE=function(){var D=this.high,B=this.low;return[D>>>24,D>>>16&255,D>>>8&255,D&255,B>>>24,B>>>16&255,B>>>8&255,B&255]},e.fromBytes=function(D,B,U){return U?e.fromBytesLE(D,B):e.fromBytesBE(D,B)},e.fromBytesLE=function(D,B){return new e(D[0]|D[1]<<8|D[2]<<16|D[3]<<24,D[4]|D[5]<<8|D[6]<<16|D[7]<<24,B)},e.fromBytesBE=function(D,B){return new e(D[4]<<24|D[5]<<16|D[6]<<8|D[7],D[0]<<24|D[1]<<16|D[2]<<8|D[3],B)},lS}var gz=Voe();const yz=Od(gz),joe=HB({__proto__:null,default:yz},[gz]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Of=yz||joe;function g_(t){return Of.fromString(t,!0,16)}const vz=g_("c3a5c85c97cb3127"),Pf=g_("b492b66fbe98f273"),os=g_("9ae16a3b2f90404f");function UT(t){return t.xor(t.shru(47))}function xz(t,e,a){const n=t.slice(e,e+a);return Of.fromBytes(Array.from(n),!0,!0)}function sn(t,e){return xz(t,e,8)}function Z$(t,e){return xz(t,e,4)}function pr(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function du(t,e,a=g_("9ddfea08eb382d69")){let n=t.xor(e).mul(a);n=n.xor(n.shru(47));let r=e.xor(n).mul(a);return r=r.xor(r.shru(47)),r=r.mul(a),r}function Hoe(t,e,a,n,r,s){r=r.add(t),s=pr(s.add(r).add(n),21);const i=r;return r=r.add(e),r=r.add(a),s=s.add(pr(r,44)),[r.add(n),s.add(i)]}function Gx(t,e,a,n){return Hoe(sn(t,e),sn(t,e+8),sn(t,e+16),sn(t,e+24),a,n)}function Koe(t,e=t.length){if(e>=8){const a=os.add(e*2),n=sn(t,0).add(os),r=sn(t,e-8),s=pr(r,37).mul(a).add(n),i=pr(n,25).add(r).mul(a);return du(s,i,a)}if(e>=4){const a=os.add(e*2),n=Z$(t,0);return du(n.shl(3).add(e),Z$(t,e-4),a)}if(e>0){const a=t[0],n=t[e>>1],r=t[e-1],s=a+(n<<8),i=e+(r<<2);return UT(os.mul(s).xor(vz.mul(i))).mul(os)}return os}function qoe(t,e=t.length){const a=os.add(e*2),n=sn(t,0).mul(Pf),r=sn(t,8),s=sn(t,e-8).mul(a),i=sn(t,e-16).mul(os);return du(pr(n.add(r),43).add(pr(s,30)).add(i),n.add(pr(r.add(os),18)).add(s),a)}function Xoe(t,e=t.length){const a=os.add(e*2),n=sn(t,0).mul(os),r=sn(t,8),s=sn(t,e-8).mul(a),i=sn(t,e-16).mul(os),o=pr(n.add(r),43).add(pr(s,30)).add(i),c=du(o,n.add(pr(r.add(os),18)).add(s),a),l=sn(t,16).mul(a),u=sn(t,24),d=o.add(sn(t,e-32)).mul(a),p=c.add(sn(t,e-24)).mul(a);return du(pr(l.add(u),43).add(pr(d,30)).add(p),l.add(pr(u.add(n),18)).add(d),a)}function Yoe(t,e=t.length){const a=Of.fromNumber(81,!0);if(e<=32)return e<=16?Koe(t,e):qoe(t,e);if(e<=64)return Xoe(t,e);let n=a,r=a.mul(Pf).add(113),s=UT(r.mul(os).add(113)).mul(os),i=[Of.UZERO,Of.UZERO],o=[Of.UZERO,Of.UZERO];n=n.mul(os).add(sn(t,0));let c=0;const l=(e-1>>6)*64,u=l+(e-1&63)-63;do n=pr(n.add(r).add(i[0]).add(sn(t,c+8)),37).mul(Pf),r=pr(r.add(i[1]).add(sn(t,c+48)),42).mul(Pf),n=n.xor(o[1]),r=r.add(i[0]).add(sn(t,c+40)),s=pr(s.add(o[0]),33).mul(Pf),i=Gx(t,c,i[1].mul(Pf),n.add(o[0])),o=Gx(t,c+32,s.add(o[1]),r.add(sn(t,c+16))),[s,n]=[n,s],c+=64;while(c!==l);const d=Pf.add(s.and(255).shl(1));return c=u,o[0]=o[0].add(e-1&63),i[0]=i[0].add(o[0]),o[0]=o[0].add(i[0]),n=pr(n.add(r).add(i[0]).add(sn(t,c+8)),37).mul(d),r=pr(r.add(i[1]).add(sn(t,c+48)),42).mul(d),n=n.xor(o[1].mul(9)),r=r.add(i[0].mul(9).add(sn(t,c+40))),s=pr(s.add(o[0]),33).mul(d),i=Gx(t,c,i[1].mul(d),n.add(o[0])),o=Gx(t,c+32,s.add(o[1]),r.add(sn(t,c+16))),[s,n]=[n,s],du(du(i[0],o[0],d).add(UT(r).mul(vz)).add(s),du(i[1],o[1],d).add(n),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uu(t,e){return e==="string"?hu(t):Gd([t],e)}function Zoe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Gd(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=fd(t)),Ce().getBool("DEBUG")&&Eoe(t,e),Zoe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const a=new Uint8Array(t.length);for(let n=0;n<a.length;++n)Math.round(t[n])!==0&&(a[n]=1);return a}else throw new Error(`Unknown data type ${e}`)}function Ss(){return Ce().platform.now()}function hu(t,e="utf-8"){return e=e||"utf-8",Ce().platform.encode(t,e)}function bu(t,e="utf-8"){return e=e||"utf-8",Ce().platform.decode(t,e)}function to(t){return Ce().platform.isTypedArray!=null?Ce().platform.isTypedArray(t):mz(t)}function fd(t,e=[],a=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||ud(t)||t==null||to(t)&&a)e.push(t);else if(Array.isArray(t)||to(t))for(let n=0;n<t.length;++n)fd(t[n],e,a);else{let n=-1;for(const r of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(r)&&(n=Math.max(n,Number(r)));for(let r=0;r<=n;r++)fd(t[r],e,a)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Joe{constructor(e,a){this.backendTimer=e,this.logger=a,a==null&&(this.logger=new ece)}profileKernel(e,a,n){let r;const s=()=>{r=n()};let i;const o=Ss();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(s);else{s();for(const l of r)l.dataSync();i=Promise.resolve({kernelMs:Ss()-o})}if(Ce().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let l=0;l<r.length;l++){const u=r[l];u.data().then(d=>{Qoe(d,u.dtype,e)})}return{kernelName:e,outputs:r,inputs:a,timeMs:i.then(l=>l.kernelMs),extraInfo:i.then(l=>l.getExtraProfileInfo!=null?l.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:a,outputs:n,timeMs:r,inputs:s,extraInfo:i}=e;n.forEach(o=>{Promise.all([o.data(),r,i]).then(c=>{this.logger.logKernelProfile(a,o,c[0],c[1],s,c[2])})})}}function Qoe(t,e,a){if(e!=="float32")return!1;for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${a}'`),!0}return!1}let ece=class{logKernelProfile(e,a,n,r,s,i){const o=typeof r=="number"?bp(`${r}ms`,9):r.error,c=bp(e,25),l=a.rank,u=a.size,d=bp(a.shape.toString(),14);let p="";for(const m in s){const g=s[m];if(g!=null){const x=g.shape||a.shape,v=x.length;p+=`${m}: ${v}D ${v>0?x:""} `}}console.log(`%c${c}	%c${o}	%c${l}D ${d}	%c${u}	%c${p}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tce(t,e,a){const n={},r={};for(let c=0;c<e.length;c++)n[e[c].id]=!0;for(let c=0;c<t.length;c++){const l=t[c],u=l.inputs;for(const d in u){const p=u[d];let m=!1;for(let g=0;g<e.length;g++)if(n[p.id]){l.outputs.forEach(x=>n[x.id]=!0),m=!0,r[l.id]=!0;break}if(m)break}}const s={};s[a.id]=!0;const i={};for(let c=t.length-1;c>=0;c--){const l=t[c],u=l.inputs;for(let d=0;d<l.outputs.length;d++)if(s[l.outputs[d].id]){for(const p in u)s[u[p].id]=!0,i[l.id]=!0;break}}const o=[];for(let c=0;c<t.length;c++){const l=t[c];if(r[l.id]&&i[l.id]){const u={};for(const p in l.inputs){const m=l.inputs[p];n[m.id]&&(u[p]=m)}const d=Object.assign({},l);d.inputs=u,d.outputs=l.outputs,o.push(d)}}return o}function ace(t,e,a,n){for(let r=e.length-1;r>=0;r--){const s=e[r],i=[];if(s.outputs.forEach(c=>{const l=t[c.id];l!=null?i.push(l):i.push(null)}),s.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const o=s.gradient(i);for(const c in s.inputs){if(!(c in o))throw new Error(`Cannot backprop through input ${c}. Available gradients found: ${Object.keys(o)}.`);const l=a(()=>o[c]());if(l.dtype!=="float32")throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${c} must have 'float32' dtype, but has '${l.dtype}'`);const u=s.inputs[c];if(!_a(l.shape,u.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${c}' has shape '${l.shape}', which does not match the shape of the input '${u.shape}'`);if(t[u.id]==null)t[u.id]=l;else{const d=t[u.id];t[u.id]=n(d,l),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J$=20,$0=3,uS=7;function nce(t,e,a,n){const r=Dt(e),s=rce(t,e,a,r),i=e.length,o=Tk(t,e,a,r,s),c=["Tensor"];return n&&(c.push(`  dtype: ${a}`),c.push(`  rank: ${i}`),c.push(`  shape: [${e}]`),c.push("  values:")),c.push(o.map(l=>"    "+l).join(`
`)),c.join(`
`)}function rce(t,e,a,n){const r=Me(e),s=n[n.length-1],i=new Array(s).fill(0),o=e.length,c=a==="complex64"?H0(t):t;if(o>1)for(let l=0;l<r/s;l++){const u=l*s;for(let d=0;d<s;d++)i[d]=Math.max(i[d],j0(c[u+d],0,a).length)}return i}function j0(t,e,a){let n;return Array.isArray(t)?n=`${parseFloat(t[0].toFixed(uS))} + ${parseFloat(t[1].toFixed(uS))}j`:Py(t)?n=`'${t}'`:a==="bool"?n=kz(t):n=parseFloat(t.toFixed(uS)).toString(),bp(n,e)}function kz(t){return t===0?"false":"true"}function Tk(t,e,a,n,r,s=!0){const i=a==="complex64"?2:1,o=e[0],c=e.length;if(c===0){if(a==="complex64"){const x=H0(t);return[j0(x[0],0,a)]}return a==="bool"?[kz(t[0])]:[t[0].toString()]}if(c===1){if(o>J$){const v=$0*i;let k=Array.from(t.slice(0,v)),b=Array.from(t.slice((o-$0)*i,o*i));return a==="complex64"&&(k=H0(k),b=H0(b)),["["+k.map((_,A)=>j0(_,r[A],a)).join(", ")+", ..., "+b.map((_,A)=>j0(_,r[o-$0+A],a)).join(", ")+"]"]}return["["+(a==="complex64"?H0(t):Array.from(t)).map((v,k)=>j0(v,r[k],a)).join(", ")+"]"]}const l=e.slice(1),u=n.slice(1),d=n[0]*i,p=[];if(o>J$){for(let x=0;x<$0;x++){const v=x*d,k=v+d;p.push(...Tk(t.slice(v,k),l,a,u,r,!1))}p.push("...");for(let x=o-$0;x<o;x++){const v=x*d,k=v+d;p.push(...Tk(t.slice(v,k),l,a,u,r,x===o-1))}}else for(let x=0;x<o;x++){const v=x*d,k=v+d;p.push(...Tk(t.slice(v,k),l,a,u,r,x===o-1))}const m=c===2?",":"";p[0]="["+(o>0?p[0]+m:"");for(let x=1;x<p.length-1;x++)p[x]=" "+p[x]+m;let g=`,
`;for(let x=2;x<c;x++)g+=`
`;return p[p.length-1]=" "+p[p.length-1]+"]"+(s?"":g),p}function H0(t){const e=[];for(let a=0;a<t.length;a+=2)e.push([t[a],t[a+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rr{constructor(e,a,n){if(this.dtype=a,this.shape=e.slice(),this.size=Me(e),n!=null){const r=n.length;K(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if(a==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Ln(a,this.size),this.strides=Dt(e)}set(e,...a){a.length===0&&(a=[0]),K(a.length===this.rank,()=>`The number of provided coordinates (${a.length}) must match the rank (${this.rank})`);const n=this.locToIndex(a);this.values[n]=e}get(...e){e.length===0&&(e=[0]);let a=0;for(const r of e){if(r<0||r>=this.shape[a]){const s=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(s)}a++}let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.values[n]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let a=e[e.length-1];for(let n=0;n<e.length-1;++n)a+=this.strides[n]*e[n];return a}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const a=new Array(this.shape.length);for(let n=0;n<a.length-1;++n)a[n]=Math.floor(e/this.strides[n]),e-=a[n]*this.strides[n];return a[a.length-1]=e,a}get rank(){return this.shape.length}toTensor(){return wo().makeTensor(this.values,this.shape,this.dtype)}}let wo=null,dp=null;function sce(t){wo=t}function ice(t){dp=t}class gn{constructor(e,a,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=a||"float32",this.size=Me(e),this.strides=Dt(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return dp.buffer(this.shape,this.dtype,e)}bufferSync(){return dp.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Zi(this.shape,e,this.dtype==="complex64")}arraySync(){return Zi(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=wo().read(this.dataId);if(this.dtype==="string"){const a=await e;try{return a.map(n=>bu(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),wo().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=wo().readSync(this.dataId);if(this.dtype==="string")try{return e.map(a=>bu(a))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await wo().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),wo().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return dp.print(this,e)}clone(){return this.throwIfDisposed(),dp.clone(this)}toString(e=!1){const a=this.dataSync();return nce(a,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),dp.cast(this,e)}variable(e=!0,a,n){return this.throwIfDisposed(),wo().makeVariable(this,e,a,n)}}Object.defineProperty(gn,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function ze(){return GC("Tensor",()=>gn)}ze();class nw extends gn{constructor(e,a,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=a,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!_a(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);wo().disposeTensor(this),this.dataId=e.dataId,wo().incRef(this,null)}dispose(){wo().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(nw,Symbol.hasInstance,{value:t=>t instanceof gn&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Q$;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(Q$||(Q$={}));var WT;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(WT||(WT={}));var VT;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(VT||(VT={}));var jT;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(jT||(jT={}));var HT;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(HT||(HT={}));const oce={float32:jT,int32:WT,bool:VT,complex64:HT};function qs(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return oce[t][e]}function HI(t){return qs(t,"int32")}function wz(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function bz(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cn(t,e){if(t.dtype===e.dtype)return[t,e];const a=qs(t.dtype,e.dtype);return[t.cast(a),e.cast(a)]}function cce(t,e){K(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function _z(t){const e=[];return Az(t,e,new Set),e}function Az(t,e,a){if(t==null)return;if(t instanceof gn){e.push(t);return}if(!lce(t))return;const n=t;for(const r in n){const s=n[r];a.has(s)||(a.add(s),Az(s,e,a))}}function lce(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fS(t){return t.kernelName!=null}class eL{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Gp{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new eL}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let a=0;a<e.length;a++){const n=e[a];if(await this.initializeBackend(n).success){await this.setBackend(n);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:a}=this.initializeBackendsAndReturnBest();if(a)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:a}=this.initializeBackend(e);if(a)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,a,n=1){return e in this.registryFactory?(ui(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:a,priority:n},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:a,asyncInit:n}=this.initializeBackend(e);if(!(n?await a:a))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Joe(this.backendInstance),!0}setupRegisteredKernels(){X$(this.backendName).forEach(a=>{a.setupFunc!=null&&a.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){X$(e).forEach(n=>{n.disposeFunc!=null&&n.disposeFunc(this.registry[e])})}initializeBackend(e){const a=this.registryFactory[e];if(a==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=a.factory();if(n&&!(n instanceof MC)&&typeof n.then=="function"){const r=++this.pendingBackendInitId,s=n.then(i=>r<this.pendingBackendInitId?!1:(this.registry[e]=i,this.pendingBackendInit=null,!0)).catch(i=>(r<this.pendingBackendInitId||(this.pendingBackendInit=null,ui(`Initialization of backend ${e} failed`),ui(i.stack||i.message)),!1));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[e]=n,{success:!0,asyncInit:!1}}catch(n){return ui(`Initialization of backend ${e} failed`),ui(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,a)=>this.registryFactory[a].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let a=0;a<e.length;a++){const n=e[a],{success:r,asyncInit:s}=this.initializeBackend(n);if(s||r)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,a){const n=this.state.tensorInfo.get(a),r=n.backend,s=this.readSync(a),i=r.refCount(a);r.disposeData(a,!0),n.backend=e,e.move(a,s,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,a){let n=null;if(a==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");a=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof a!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");n=e}let r;return this.scopedRun(()=>this.startScope(n),()=>this.endScope(r),()=>(r=a(),r instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r))}scopedRun(e,a,n){e();try{const r=n();return a(),r}catch(r){throw a(),r}}nextTensorId(){return Gp.nextTensorId++}nextVariableId(){return Gp.nextVariableId++}clone(e){const a=pe.runKernel(e1,{x:e}),n={x:e},r=i=>({x:()=>{const o="float32",c={x:i},l={dtype:o};return pe.runKernel(Gy,c,l)}}),s=[];return this.addTapeNode(this.state.activeScope.name,n,[a],r,s,{}),a}runKernel(e,a,n){if(this.backendName==null&&this.backend,!(GT(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:a,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,a,n){const r=this.backend.numDataIds();let s=0;n.forEach(c=>{s+=c.dtype==="complex64"?3:1});const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-a-s-i;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let a,n=[];const r=this.isTapeOn(),s=this.state.numBytes,i=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let o;this.backendName==null&&this.backend;let c;const l=fS(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(fS(e)){const{kernelName:g,inputs:x,attrs:v}=e;this.backendName==null&&this.backend;const k=GT(g,this.backendName);K(k!=null,()=>`Cannot find registered kernel '${g}' for backend '${this.backendName}'`),o=()=>{const b=this.backend.numDataIds();c=k.kernelFunc({inputs:x,attrs:v,backend:this.backend});const _=Array.isArray(c)?c:[c];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(g,b,_);const A=_.map(S=>S.rank!=null?S:this.makeTensorFromTensorInfo(S));if(r){const S=this.getTensorsForGradient(g,x,A);n=this.saveTensorsForBackwardMode(S)}return A}}else{const{forwardFunc:g}=e,x=v=>{r&&(n=v.map(k=>this.keep(this.clone(k))))};o=()=>{const v=this.backend.numDataIds();c=this.tidy(()=>g(this.backend,x));const k=Array.isArray(c)?c:[c];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,v,k),k}}const{inputs:u,attrs:d}=e,p=fS(e)?null:e.backwardsFunc;let m;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?a=o():(m=this.profiler.profileKernel(l,u,()=>o()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),a=m.outputs)}),r&&this.addTapeNode(l,u,a,p,n,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(g=>u[g]!=null?u[g].shape:null),outputShapes:a.map(g=>g.shape),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(c)?a:a[0]}saveTensorsForBackwardMode(e){return e.map(n=>this.keep(this.clone(n)))}getTensorsForGradient(e,a,n){const r=q$(e);if(r!=null){const s=r.inputsToSave||[],i=r.outputsToSave||[];let o;r.saveAllInputs?(K(Array.isArray(a),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(a).map(l=>a[l])):o=s.map(l=>a[l]);const c=n.filter((l,u)=>i[u]);return o.concat(c)}return[]}makeTensor(e,a,n,r){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let s=e;n==="string"&&Py(e[0])&&(s=e.map(c=>hu(c)));const i=r.write(s,a,n),o=new gn(a,n,i,this.nextTensorId());if(this.trackTensor(o,r),n==="string"){const c=this.state.tensorInfo.get(i),l=Ioe(s);this.state.numBytes+=l-c.bytes,c.bytes=l}return o}makeTensorFromDataId(e,a,n,r){n=n||"float32";const s={dataId:e,shape:a,dtype:n};return this.makeTensorFromTensorInfo(s,r)}makeTensorFromTensorInfo(e,a){const{dataId:n,shape:r,dtype:s}=e,i=new gn(r,s,n,this.nextTensorId());return this.trackTensor(i,a),i}makeVariable(e,a=!0,n,r){n=n||this.nextVariableId().toString(),r!=null&&r!==e.dtype&&(e=e.cast(r));const s=new nw(e,a,n,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,a){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let n=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(n=e.size*Jk(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:a||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof nw||this.track(e)}incRef(e,a){this.trackTensor(e,a),this.backend.incRef(e.dataId)}removeDataId(e,a){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===a&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const a=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=a.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const n=e.size*Jk(e.dtype);this.state.numBytes-=n}a.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,a.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const a=this.state.registeredVariables[e];this.disposeVariable(a)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const a=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(r=>r.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-a,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,a,n,r,s,i){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:a,outputs:n,saved:s},c=q$(e);c!=null&&(r=c.gradFunc),r!=null&&(o.gradient=l=>(l=l.map((u,d)=>{if(u==null){const p=n[d],m=Kr(p.size,p.dtype);return this.makeTensor(m,p.shape,p.dtype)}return u}),r(l.length>1?l:l[0],s,i))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const a={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(a.name=e),this.state.scopeStack.push(a),this.state.activeScope=a}endScope(e){const a=_z(e),n=new Set(a.map(s=>s.id));for(let s=0;s<this.state.activeScope.track.length;s++){const i=this.state.activeScope.track[s];!i.kept&&!n.has(i.id)&&i.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],a.forEach(s=>{!s.kept&&s.scopeId===r.id&&this.track(s)})}gradients(e,a,n,r=!1){if(K(a.length>0,()=>"gradients() received an empty list of xs."),n!=null&&n.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const s=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));K(s instanceof gn,()=>"The result y returned by f() must be a tensor.");const i=tce(this.state.activeTape,a,s);if(!r&&i.length===0&&a.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const o={};o[s.id]=n??uce(s.shape),ace(o,i,l=>this.tidy(l),fce);const c=a.map(l=>o[l.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(l=>{for(const u of l.saved)u.dispose()}),this.state.activeTape=null),{value:s,grads:c}})}customGrad(e){return K(OT(e),()=>"The f passed in customGrad(f) must be a function."),(...a)=>{K(a.every(o=>o instanceof gn),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let n;const r={};a.forEach((o,c)=>{r[c]=o});const s=(o,c)=>(n=e(...a,c),K(n.value instanceof gn,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),K(OT(n.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),n.value),i=(o,c)=>{const l=n.gradFunc(o,c),u=Array.isArray(l)?l:[l];K(u.length===a.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),K(u.every(p=>p instanceof gn),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return u.forEach((p,m)=>{d[m]=()=>p}),d};return this.runKernelFunc({forwardFunc:s,backwardsFunc:i,inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,a){return this.state.tensorInfo.get(e).backend.readToGPU(e,a)}async time(e){const a=Ss(),n=await this.backend.time(e);return n.wallMs=Ss()-a,n}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new eL;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Gp.nextTensorId=0;Gp.nextVariableId=0;function uce(t){const e=zC(Me(t),"float32");return pe.makeTensor(e,t,"float32")}function Nz(){const t=dz();if(t._tfengine==null){const e=new Poe(t);t._tfengine=new Gp(e)}return Loe(t._tfengine.ENV),sce(()=>t._tfengine),t._tfengine}const pe=Nz();function fce(t,e){const a={a:t,b:e};return pe.runKernel(pm,a)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dce(){return typeof navigator<"u"&&navigator!=null}function Sz(t){if(t||dce()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const a=t;return a.userAgentData&&a.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function Tz(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ps=Ce();Ps.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Ps.registerFlag("IS_BROWSER",()=>Tz());Ps.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Ps.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Ps.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Ps.registerFlag("PROD",()=>!1);Ps.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ps.getBool("DEBUG"));Ps.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Ps.registerFlag("IS_TEST",()=>!1);Ps.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Ps.getBool("DEBUG"));Ps.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Ps.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Ps.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wu(t,e){let a=t;if(to(t))return e==="string"?[]:[t.length];if(wz(t)){const r=t.channels||"RGBA";return[t.height,t.width*r.length]}else if(bz(t))return[t.buffer.size/(e==null?4:Jk(e))];if(!Array.isArray(t))return[];const n=[];for(;Array.isArray(a)||to(a)&&e!=="string";)n.push(a.length),a=a[0];return Array.isArray(t)&&Ce().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Ez(t,n,[]),n}function Ez(t,e,a){if(a=a||[],!Array.isArray(t)&&!to(t)){K(e.length===0,()=>`Element arr[${a.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}K(e.length>0,()=>`Element arr[${a.join("][")}] should be a primitive, but is an array of ${t.length} elements`),K(t.length===e[0],()=>`Element arr[${a.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const n=e.slice(1);for(let r=0;r<t.length;++r)Ez(t[r],n,a.concat(r))}function tL(t,e,a,n){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${a}' passed to '${n}' must be ${t} tensor, but got ${e} tensor`)}}function X(t,e,a,n="numeric"){if(t instanceof ze())return tL(n,t.dtype,e,a),t;let r=dm(t);if(r!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(r=n),tL(n,r,e,a),t==null||!to(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const c=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${a}' must be a Tensor or TensorLike, but got '${c}'`)}const s=Wu(t,r);!to(t)&&!Array.isArray(t)&&(t=[t]);const o=r!=="string"?Gd(t,r):fd(t,[],!0);return pe.makeTensor(o,s,r)}function rw(t,e,a,n="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${a} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((s,i)=>X(s,`${e}[${i}]`,a,n))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cz="__op";function he(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let a=e[0];const n=t[a];a.endsWith("_")&&(a=a.substring(0,a.length-1)),a=a+Cz;const r=(...s)=>{pe.startScope(a);try{const i=n(...s);return ud(i)&&console.error("Cannot return a Promise inside of tidy."),pe.endScope(i),i}catch(i){throw pe.endScope(null),i}};return Object.defineProperty(r,"name",{value:a,configurable:!0}),r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hce(t,e){const a=X(t,"real","complex"),n=X(e,"imag","complex");ti(a.shape,n.shape,`real and imag shapes, ${a.shape} and ${n.shape}, must match in call to tf.complex().`);const r={real:a,imag:n};return pe.runKernel(qC,r)}const _u=he({complex_:hce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vu(t,e,a,n){if(n==null)n=dm(t);else if(n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(bz(t)||wz(t)){if(n!=="float32"&&n!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${n}.`);return pe.backend.createTensorFromGPUData(t,e||a,n)}if(!to(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){ki(e);const r=Me(e),s=Me(a);K(r===s,()=>`Based on the provided shape, [${e}], the tensor should have ${r} values but has ${s}`);for(let i=0;i<a.length;++i){const o=a[i],c=i===a.length-1?o!==Me(e.slice(i)):!0;K(a[i]===e[i]||!c,()=>`Error creating a new Tensor. Inferred shape (${a}) does not match the provided shape (${e}). `)}}return!to(t)&&!Array.isArray(t)&&(t=[t]),e=e||a,t=n!=="string"?Gd(t,n):fd(t,[],!0),pe.makeTensor(t,e,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function So(t,e,a){const n=Wu(t,a);return Vu(t,e,n,a)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dd={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Uo{static join(e){return new Uo(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(n=>to(n)?n.buffer:n),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let a=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const s=a+r.byteLength;this.shards.push({buffer:r,start:a,end:s}),a=s}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,a=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,a=isNaN(Number(a))?0:a,e=Math.max(0,e),a=Math.min(this.byteLength,a),a<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(n===-1)throw new Error(`Could not find start shard for byte ${e}`);const r=a-e,s=new ArrayBuffer(r),i=new Uint8Array(s);let o=0;for(let c=n;c<this.shards.length;c++){const l=this.shards[c],d=e+o-l.start,p=o,g=Math.min(a,l.end)-l.start,x=new Uint8Array(l.buffer,d,g-d);if(i.set(x,p),o+=x.length,a<l.end)break}return s}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function a(r){return e<r.start?-1:e>=r.end?1:0}if(a(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const n=pce(this.shards,a);return n===-1?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function pce(t,e){let a=0,n=t.length;for(;a<=n;){const r=Math.floor((n-a)/2)+a,s=e(t[r]);if(s===0)return r;s<0?n=r:a=r+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ui(){return pe}function aL(){return pe.memory()}function Ne(t,e){return pe.tidy(t,e)}function da(t){_z(t).forEach(a=>a.dispose())}function vr(t){return pe.keep(t)}function mce(){return pe.backendName}function Iz(t,e,a=1){return pe.registerBackend(t,e,a)}function Rz(){return pe.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Au=4;async function KT(t,e){const a=[],n=[],r=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);for(let i=0;i<r.length;++i){const o=r[i],c=Array.isArray(t)?t[i].tensor:t[o];if(c.dtype!=="float32"&&c.dtype!=="int32"&&c.dtype!=="bool"&&c.dtype!=="string"&&c.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${o}': ${c.dtype}`);const l={name:o,shape:c.shape,dtype:c.dtype};if(c.dtype==="string"){const u=new Promise(async d=>{const p=await c.bytes(),m=p.reduce((v,k)=>v+k.length,0)+Au*p.length,g=new Uint8Array(m);let x=0;for(let v=0;v<p.length;v++){const k=p[v],b=new Uint8Array(new Uint32Array([k.length]).buffer);g.set(b,x),x+=Au,g.set(k,x),x+=k.length}d(g)});n.push(u)}else n.push(c.data());e!=null&&(l.group=e),a.push(l)}const s=await Promise.all(n);return{data:vce(s),specs:a}}function Dz(t,e){const a=new Uo(t),n={};let r=0;for(const s of e){const i=gce(s,(o,c)=>a.slice(r+o,r+c));n[s.name]=Pz(s,a.slice(r,r+i)),r+=i}return n}function gce(t,e){const a=Me(t.shape);let n;if("quantization"in t){const r=t.quantization;n=dd[r.dtype]}else if(t.dtype==="string"){let r=0;for(let s=0;s<a;s++)r+=Au+new Uint32Array(e(r,r+Au))[0];return r}else n=dd[t.dtype];return a*n}async function yce(t,e){const a=Me(t.shape);let n;if("quantization"in t){const r=t.quantization;n=dd[r.dtype]}else if(t.dtype==="string"){let r=0;for(let s=0;s<a;s++)r+=Au+new Uint32Array(await e(r,r+Au))[0];return r}else n=dd[t.dtype];return a*n}function Pz(t,e){const a=t.name,n=t.dtype,r=t.shape,s=Me(r);let i,o=0;if("quantization"in t){const c=t.quantization;if(c.dtype==="uint8"||c.dtype==="uint16"){if(!("min"in c&&"scale"in c))throw new Error(`Weight ${t.name} with quantization ${c.dtype} doesn't have corresponding metadata min and scale.`)}else if(c.dtype==="float16"){if(n!=="float32")throw new Error(`Weight ${t.name} is quantized with ${c.dtype} which only supports weights of type float32 not ${n}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${c.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const l=dd[c.dtype],u=c.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(n==="float32")if(c.dtype==="uint8"||c.dtype==="uint16"){i=new Float32Array(u.length);for(let d=0;d<u.length;d++){const p=u[d];i[d]=p*c.scale+c.min}}else if(c.dtype==="float16")i=Ace()(u);else throw new Error(`Unsupported quantization type ${c.dtype} for weight type float32.`);else if(n==="int32"){if(c.dtype!=="uint8"&&c.dtype!=="uint16")throw new Error(`Unsupported quantization type ${c.dtype} for weight type int32.`);i=new Int32Array(u.length);for(let d=0;d<u.length;d++){const p=u[d];i[d]=Math.round(p*c.scale+c.min)}}else throw new Error(`Unsupported dtype in weight '${a}': ${n}`);o+=s*l}else if(n==="string"){const c=Me(t.shape);i=[];for(let l=0;l<c;l++){const u=new Uint32Array(e.slice(o,o+Au))[0];o+=Au;const d=new Uint8Array(e.slice(o,o+u));i.push(d),o+=u}}else{const c=dd[n];if(n==="float32")i=new Float32Array(e);else if(n==="int32")i=new Int32Array(e);else if(n==="bool")i=new Uint8Array(e);else if(n==="complex64"){i=new Float32Array(e);const l=new Float32Array(i.length/2),u=new Float32Array(i.length/2);for(let g=0;g<l.length;g++)l[g]=i[g*2],u[g]=i[g*2+1];const d=So(l,r,"float32"),p=So(u,r,"float32"),m=_u(d,p);return d.dispose(),p.dispose(),m}else throw new Error(`Unsupported dtype in weight '${a}': ${n}`);o+=s*c}return So(i,r,n)}async function nL(t,e,a){let n=new Uint8Array(e);for(;n.byteLength<a;){const{done:r,value:s}=await t.read();if(r&&s==null){const o=a-n.byteLength;throw new Error(`Reader is done but ${o} bytes are still expected`)}const i=new Uint8Array(n.length+s.byteLength);i.set(n,0),i.set(new Uint8Array(s),n.length),n=i}return n.buffer}async function Fz(t,e){const a={},n=t.getReader();let r=new ArrayBuffer(0);for(const s of e){const i=await yce(s,async(l,u)=>(r=await nL(n,r,u),r.slice(l,u)));r=await nL(n,r,i);const o=r.slice(0,i);r=r.slice(i);const c=Pz(s,o);if(a[s.name]=c,mce()==="webgpu"){const l=Rz();"uploadToGPU"in l&&Me(c.shape)>=Ce().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&l.uploadToGPU(c.dataId)}}return a}function vce(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const a=[];t.forEach(s=>{if(e+=s.byteLength,a.push(s.byteLength===s.buffer.byteLength?s:new s.constructor(s)),!(s instanceof Float32Array||s instanceof Int32Array||s instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${s.constructor.name}`)});const n=new Uint8Array(e);let r=0;return a.forEach(s=>{n.set(new Uint8Array(s.buffer),r),r+=s.byteLength}),n.buffer}const KI=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function rL(t){return KI?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function xce(t){if(KI)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let a="";for(let n=0,r=e.length;n<r;n++)a+=String.fromCharCode(e[n]);return btoa(a)}function kce(t){if(KI){const n=Buffer.from(t,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}const e=atob(t),a=new Uint8Array(e.length);for(let n=0;n<e.length;++n)a.set([e.charCodeAt(n)],n);return a.buffer}function Oz(t){return Uo.join(t)}function sL(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const a=t.split(e);return a[a.length-1]}function $z(t,e){const a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(a.signature=t.signature),t.userDefinedMetadata!=null&&(a.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(a.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(a.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(a.trainingConfig=t.trainingConfig),a}function Lz(t,e,a){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!a)throw new Error("modelJSON has weightsManifest but weightData is null");n.weightSpecs=e,n.weightData=a}return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),n}async function qI(t,e){let a,n;return t.weightsManifest!=null&&([a,n]=await e(t.weightsManifest)),Lz(t,a,n)}function C1(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:rL(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:rL(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new Uo(t.weightData).byteLength}}function qT(t){const e=[];for(const a of t)e.push(...a.weights);return e}function wce(){const t=a=>{let n=a<<13,r=0;for(;(n&8388608)===0;)r-=8388608,n<<=1;return n&=-8388609,r+=947912704,n|r},e=new Uint32Array(2048);e[0]=0;for(let a=1;a<1024;a++)e[a]=t(a);for(let a=1024;a<2048;a++)e[a]=939524096+(a-1024<<13);return e}function bce(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function _ce(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Ace(){const t=wce(),e=bce(),a=_ce();return n=>{const r=new ArrayBuffer(4*n.length),s=new Uint32Array(r);for(let i=0;i<n.length;i++){const o=n[i],c=t[a[o>>10]+(o&1023)]+e[o>>10];s[i]=c}return new Float32Array(r)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mn{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return mn.instance==null&&(mn.instance=new mn),mn.instance}static registerSaveRouter(e){mn.getInstance().saveRouters.push(e)}static registerLoadRouter(e){mn.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return mn.getHandlers(e,"save")}static getLoadHandlers(e,a){return mn.getHandlers(e,"load",a)}static getHandlers(e,a,n){const r=[];return(a==="load"?mn.getInstance().loadRouters:mn.getInstance().saveRouters).forEach(i=>{const o=i(e,n);o!==null&&r.push(o)}),r}}const Nce=t=>mn.registerSaveRouter(t),Sce=t=>mn.registerLoadRouter(t),Mz=t=>mn.getSaveHandlers(t),Tce=(t,e)=>mn.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XT="tensorflowjs",YT=1,jf="models_store",cu="model_info_store";function Bz(){if(!Ce().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function ZT(t){const e=t.result;e.createObjectStore(jf,{keyPath:"modelPath"}),e.createObjectStore(cu,{keyPath:"modelPath"})}class hd{constructor(e){if(this.indexedDB=Bz(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,a){return new Promise((n,r)=>{const s=this.indexedDB.open(XT,YT);s.onupgradeneeded=()=>ZT(s),s.onsuccess=()=>{const i=s.result;if(a==null){const o=i.transaction(jf,"readonly"),l=o.objectStore(jf).get(this.modelPath);l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));n(l.result.modelArtifacts)},l.onerror=u=>(i.close(),r(l.error)),o.oncomplete=()=>i.close()}else{a.weightData=Uo.join(a.weightData);const o=C1(a),c=i.transaction(cu,"readwrite");let l=c.objectStore(cu),u;try{u=l.put({modelPath:this.modelPath,modelArtifactsInfo:o})}catch(p){return r(p)}let d;u.onsuccess=()=>{d=i.transaction(jf,"readwrite");const p=d.objectStore(jf);let m;try{m=p.put({modelPath:this.modelPath,modelArtifacts:a,modelArtifactsInfo:o})}catch(g){return r(g)}m.onsuccess=()=>n({modelArtifactsInfo:o}),m.onerror=g=>{l=c.objectStore(cu);const x=l.delete(this.modelPath);x.onsuccess=()=>(i.close(),r(m.error)),x.onerror=v=>(i.close(),r(m.error))}},u.onerror=p=>(i.close(),r(u.error)),c.oncomplete=()=>{d==null?i.close():d.oncomplete=()=>i.close()}}},s.onerror=i=>r(s.error)})}}hd.URL_SCHEME="indexeddb://";const zz=t=>Ce().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(hd.URL_SCHEME)?Ece(t.slice(hd.URL_SCHEME.length)):null;mn.registerSaveRouter(zz);mn.registerLoadRouter(zz);function Ece(t){return new hd(t)}function Cce(t){return t.startsWith(hd.URL_SCHEME)?t.slice(hd.URL_SCHEME.length):t}class Ice{constructor(){this.indexedDB=Bz()}async listModels(){return new Promise((e,a)=>{const n=this.indexedDB.open(XT,YT);n.onupgradeneeded=()=>ZT(n),n.onsuccess=()=>{const r=n.result,s=r.transaction(cu,"readonly"),o=s.objectStore(cu).getAll();o.onsuccess=()=>{const c={};for(const l of o.result)c[l.modelPath]=l.modelArtifactsInfo;e(c)},o.onerror=c=>(r.close(),a(o.error)),s.oncomplete=()=>r.close()},n.onerror=r=>a(n.error)})}async removeModel(e){return e=Cce(e),new Promise((a,n)=>{const r=this.indexedDB.open(XT,YT);r.onupgradeneeded=()=>ZT(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(cu,"readwrite"),o=i.objectStore(cu),c=o.get(e);let l;c.onsuccess=()=>{if(c.result==null)return s.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const u=o.delete(e),d=()=>{l=s.transaction(jf,"readwrite");const m=l.objectStore(jf).delete(e);m.onsuccess=()=>a(c.result.modelArtifactsInfo),m.onerror=g=>n(c.error)};u.onsuccess=d,u.onerror=p=>(d(),s.close(),n(c.error))}},c.onerror=u=>(s.close(),n(c.error)),i.oncomplete=()=>{l==null?s.close():l.oncomplete=()=>s.close()}},r.onerror=s=>n(r.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nl="/",hp="tensorflowjs_models",Gz="info",Rce="model_topology",Dce="weight_specs",Pce="weight_data",Fce="model_metadata";function Uz(t){return{info:[hp,t,Gz].join(nl),topology:[hp,t,Rce].join(nl),weightSpecs:[hp,t,Dce].join(nl),weightData:[hp,t,Pce].join(nl),modelMetadata:[hp,t,Fce].join(nl)}}function Wz(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function Oce(t){const e=t.split(nl);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(nl)}function $ce(t){return t.startsWith(pd.URL_SCHEME)?t.slice(pd.URL_SCHEME.length):t}class pd{constructor(e){if(!Ce().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Uz(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const a=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=C1(e),s=Uo.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,a),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,xce(s));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:r}}catch{throw Wz(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const a={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(n==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);a.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(r==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);a.weightSpecs=r;const s=this.LS.getItem(this.keys.modelMetadata);if(s!=null){const o=JSON.parse(s);a.format=o.format,a.generatedBy=o.generatedBy,a.convertedBy=o.convertedBy,o.signature!=null&&(a.signature=o.signature),o.userDefinedMetadata!=null&&(a.userDefinedMetadata=o.userDefinedMetadata),o.modelInitializer!=null&&(a.modelInitializer=o.modelInitializer),o.initializerSignature!=null&&(a.initializerSignature=o.initializerSignature),o.trainingConfig!=null&&(a.trainingConfig=o.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(i==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return a.weightData=kce(i),a}}pd.URL_SCHEME="localstorage://";const Vz=t=>Ce().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(pd.URL_SCHEME)?Lce(t.slice(pd.URL_SCHEME.length)):null;mn.registerSaveRouter(Vz);mn.registerLoadRouter(Vz);function Lce(t){return new pd(t)}class Mce{constructor(){K(Ce().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),K(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},a=hp+nl,n=nl+Gz;for(let r=0;r<this.LS.length;++r){const s=this.LS.key(r);if(s.startsWith(a)&&s.endsWith(n)){const i=Oce(s);e[i]=JSON.parse(this.LS.getItem(s))}}return e}async removeModel(e){e=$ce(e);const a=Uz(e);if(this.LS.getItem(a.info)==null)throw new Error(`Cannot find model at path '${e}'`);const n=JSON.parse(this.LS.getItem(a.info));return Wz(a),n}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ap="://";class ss{constructor(){this.managers={}}static getInstance(){return ss.instance==null&&(ss.instance=new ss),ss.instance}static registerManager(e,a){K(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Ap)&&(e=e.slice(0,e.indexOf(Ap))),K(e.length>0,()=>"scheme must not be an empty string.");const n=ss.getInstance();K(n.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),n.managers[e]=a}static getManager(e){const a=ss.getInstance().managers[e];if(a==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return a}static getSchemes(){return Object.keys(ss.getInstance().managers)}}function Ek(t){if(t.indexOf(Ap)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${ss.getSchemes().join(",")}`);return{scheme:t.split(Ap)[0],path:t.split(Ap)[1]}}async function jz(t,e,a=!1){K(t!==e,()=>`Old path and new path are the same: '${t}'`);const n=mn.getLoadHandlers(t);K(n.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),K(n.length<2,()=>`Copying failed because more than one (${n.length}) load handlers for source URL ${t}.`);const r=n[0],s=mn.getSaveHandlers(e);K(s.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),K(s.length<2,()=>`Copying failed because more than one (${n.length}) save handlers for destination URL ${e}.`);const i=s[0],o=Ek(t).scheme,c=Ek(t).path,l=o===Ek(t).scheme,u=await r.load();a&&l&&await ss.getManager(o).removeModel(c);const d=await i.save(u);return a&&!l&&await ss.getManager(o).removeModel(c),d.modelArtifactsInfo}async function Bce(){const t=ss.getSchemes(),e={};for(const a of t){const n=await ss.getManager(a).listModels();for(const r in n){const s=a+Ap+r;e[s]=n[r]}}return e}async function zce(t){const e=Ek(t);return ss.getManager(e.scheme).removeModel(e.path)}async function Gce(t,e){return jz(t,e,!1)}async function Uce(t,e){return jz(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wce{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,a){return fetch(e,a)}now(){return performance.now()}encode(e,a){if(a!=="utf-8"&&a!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${a}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,a){return new TextDecoder(a).decode(e)}setTimeoutCustom(e,a){if(typeof window>"u"||!Ce().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,a);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},a),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",n=>{if(n.source===window&&n.data.name===this.messageName){n.stopPropagation();const r=this.functionRefs[n.data.index];r(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return mz(e)}}if(Ce().get("IS_BROWSER")){Ce().setPlatform("browser",new Wce);try{ss.registerManager(pd.URL_SCHEME,new Mce)}catch{}try{ss.registerManager(hd.URL_SCHEME,new Ice)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vce={importFetch:()=>require("node-fetch")};let dS;class jce{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,a){return Ce().global.fetch!=null?Ce().global.fetch(e,a):(dS==null&&(dS=Vce.importFetch()),dS(e,a))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,a){if(a!=="utf-8"&&a!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${a}`);return this.textEncoder.encode(e)}decode(e,a){return e.length===0?"":new this.util.TextDecoder(a).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}Ce().get("IS_NODE")&&!Ce().get("IS_BROWSER")&&Ce().setPlatform("node",new jce);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ra(t,e="float32",a){return e=e||"float32",ki(t),new rr(t,e,a)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hce(t,e){const a=X(t,"x","cast");if(!Coe(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&a.dtype!=="string"||e!=="string"&&a.dtype==="string")throw new Error("Only strings can be casted to strings");const n={x:a},r={dtype:e};return pe.runKernel(Gy,n,r)}const ut=he({cast_:Hce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kce(t){const a={x:X(t,"x","clone","string_or_numeric")};return pe.runKernel(e1,a)}const cl=he({clone_:Kce});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hz(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Nz();const qce={buffer:ra,cast:ut,clone:cl,print:Hz};ice(qce);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xce(t,e){let a=X(t,"a","add"),n=X(e,"b","add");[a,n]=Cn(a,n);const r={a,b:n};return pe.runKernel(pm,r)}const qe=he({add_:Xce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yce(t,e){let a=X(t,"a","floorDiv"),n=X(e,"b","floorDiv");[a,n]=Cn(a,n);const r={a,b:n};return pe.runKernel(Jy,r)}const XI=he({floorDiv_:Yce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zce(t,e){let a=X(t,"a","div"),n=X(e,"b","div");if([a,n]=Cn(a,n),a.dtype==="int32"&&n.dtype==="int32")return XI(a,n);const r={a,b:n},s={};return pe.runKernel(Hy,r,s)}const wt=he({div_:Zce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jce(t,e){let a=X(t,"a","mul"),n=X(e,"b","mul");[a,n]=Cn(a,n);const r={a,b:n};return pe.runKernel(l1,r)}const me=he({mul_:Jce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qce(t){const e=X(t,"x","abs");if(e.dtype==="complex64"){const a={x:e};return pe.runKernel(bb,a)}else{const a={x:e};return pe.runKernel(hb,a)}}const er=he({abs_:Qce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ele(t){const a={x:X(t,"x","acos")};return pe.runKernel(Fy,a)}const Kz=he({acos_:ele});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tle(t){const a={x:X(t,"x","acosh")};return pe.runKernel(Oy,a)}const qz=he({acosh_:tle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ale(t){K(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),K(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((r,s)=>X(r,`tensors${s}`,"addN")),a=e[0];e.forEach(r=>{if(r.dtype!==a.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(r=>{if(!_a(r.shape,a.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const n=e;return pe.runKernel(pb,n)}const nle=he({addN_:ale});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rle(t,e=null,a=!1){const r={x:X(t,"x","all","bool")},s={axis:e,keepDims:a};return pe.runKernel(UC,r,s)}const YI=he({all_:rle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sle(t,e=null,a=!1){const r={x:X(t,"x","any","bool")},s={axis:e,keepDims:a};return pe.runKernel(WC,r,s)}const sw=he({any_:sle});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ile(t,e=0){const n={x:X(t,"x","argMax")},r={axis:e};return pe.runKernel(mb,n,r)}const md=he({argMax_:ile});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ole(t,e=0){const n={x:X(t,"x","argMin")},r={axis:e};return pe.runKernel(gb,n,r)}const Xz=he({argMin_:ole});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cle(t){const a={x:X(t,"x","asin")};return pe.runKernel($y,a)}const Yz=he({asin_:cle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lle(t){const a={x:X(t,"x","asinh")};return pe.runKernel(Ly,a)}const Zz=he({asinh_:lle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ule(t){const a={x:X(t,"x","atan")};return pe.runKernel(My,a)}const Jz=he({atan_:ule});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fle(t,e){let a=X(t,"a","atan2"),n=X(e,"b","atan2");[a,n]=Cn(a,n);const r={a,b:n};return pe.runKernel(zy,r)}const Qz=he({atan2_:fle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dle(t){const a={x:X(t,"x","atanh")};return pe.runKernel(By,a)}const eG=he({atanh_:dle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I1(t,e,a,n,r="NHWC",s){const i=t[3],o=[...e,i],c=Sl(r);return br(t,o,a,s,n,null,null,c)}function ro(t,e,a,n,r,s,i="channelsLast"){const[o,c]=Bg(e);let l;if(i==="channelsLast")l=[o,c,t[3],t[3]];else if(i==="channelsFirst")l=[o,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${i}`);return br(t,l,a,n,r,s,!1,i)}function Nl(t,e,a,n,r,s,i="NDHWC"){const[o,c,l]=JT(e);let u,d;if(i==="NDHWC")d="channelsLast",u=[o,c,l,t[4],t[4]];else if(i==="NCDHW")d="channelsFirst",u=[o,c,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${i}`);return ju(t,u,a,n,r,!1,d,s)}function br(t,e,a,n,r,s,i=!1,o="channelsLast"){let[c,l,u,d]=[-1,-1,-1,-1];if(o==="channelsLast")[c,l,u,d]=t;else if(o==="channelsFirst")[c,d,l,u]=t;else throw new Error(`Unknown dataFormat ${o}`);const[p,m,,g]=e,[x,v]=Bg(a),[k,b]=Bg(n),_=Np(p,k),A=Np(m,b),{padInfo:S,outHeight:C,outWidth:E}=mle(r,l,u,x,v,_,A,s,o),R=i?g*d:g;let I;return o==="channelsFirst"?I=[c,R,C,E]:o==="channelsLast"&&(I=[c,C,E,R]),{batchSize:c,dataFormat:o,inHeight:l,inWidth:u,inChannels:d,outHeight:C,outWidth:E,outChannels:R,padInfo:S,strideHeight:x,strideWidth:v,filterHeight:p,filterWidth:m,effectiveFilterHeight:_,effectiveFilterWidth:A,dilationHeight:k,dilationWidth:b,inShape:t,outShape:I,filterShape:e}}function ju(t,e,a,n,r,s=!1,i="channelsLast",o){let[c,l,u,d,p]=[-1,-1,-1,-1,-1];if(i==="channelsLast")[c,l,u,d,p]=t;else if(i==="channelsFirst")[c,p,l,u,d]=t;else throw new Error(`Unknown dataFormat ${i}`);const[m,g,x,,v]=e,[k,b,_]=JT(a),[A,S,C]=JT(n),E=Np(m,A),R=Np(g,S),I=Np(x,C),{padInfo:P,outDepth:D,outHeight:B,outWidth:U}=gle(r,l,u,d,k,b,_,E,R,I,o),V=s?v*p:v;let j;return i==="channelsFirst"?j=[c,V,D,B,U]:i==="channelsLast"&&(j=[c,D,B,U,V]),{batchSize:c,dataFormat:i,inDepth:l,inHeight:u,inWidth:d,inChannels:p,outDepth:D,outHeight:B,outWidth:U,outChannels:V,padInfo:P,strideDepth:k,strideHeight:b,strideWidth:_,filterDepth:m,filterHeight:g,filterWidth:x,effectiveFilterDepth:E,effectiveFilterHeight:R,effectiveFilterWidth:I,dilationDepth:A,dilationHeight:S,dilationWidth:C,inShape:t,outShape:j,filterShape:e}}function hle(t,e,a,n,r){n==null&&(n=ZI(t,e,a));const s=t[0],i=t[1],o=zg((s-e+2*n)/a+1,r),c=zg((i-e+2*n)/a+1,r);return[o,c]}function ple(t,e,a,n,r,s){r==null&&(r=ZI(t,e[0],n[0]));const i=[0,0,0,a];for(let o=0;o<3;o++)t[o]+2*r>=e[o]&&(i[o]=zg((t[o]-e[o]+2*r)/n[o]+1,s));return i}function ZI(t,e,a,n=1){const r=Np(e,n);return Math.floor((t[0]*(a-1)-a+r)/2)}function Bg(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function JT(t){return typeof t=="number"?[t,t,t]:t}function Np(t,e){return e<=1?t:t+(t-1)*(e-1)}function mle(t,e,a,n,r,s,i,o,c){let l,u,d;if(typeof t=="number"){l={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const m=hle([e,a],s,n,t,o);u=m[0],d=m[1]}else if(t==="same"){u=Math.ceil(e/n),d=Math.ceil(a/r);const p=Math.max(0,(u-1)*n+s-e),m=Math.max(0,(d-1)*r+i-a),g=Math.floor(p/2),x=p-g,v=Math.floor(m/2),k=m-v;l={top:g,bottom:x,left:v,right:k,type:"SAME"}}else if(t==="valid")l={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-s+1)/n),d=Math.ceil((a-i+1)/r);else if(typeof t=="object"){const p=c==="channelsLast"?t[1][0]:t[2][0],m=c==="channelsLast"?t[1][1]:t[2][1],g=c==="channelsLast"?t[2][0]:t[3][0],x=c==="channelsLast"?t[2][1]:t[3][1];l={top:p,bottom:m,left:g,right:x,type:p===0&&m===0&&g===0&&x===0?"VALID":"EXPLICIT"},u=zg((e-s+p+m)/n+1,o),d=zg((a-i+g+x)/r+1,o)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:l,outHeight:u,outWidth:d}}function gle(t,e,a,n,r,s,i,o,c,l,u){let d,p,m,g;if(t==="valid"&&(t=0),typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const v=ple([e,a,n,1],[o,c,l],1,[r,s,i],t,u);p=v[0],m=v[1],g=v[2]}else if(t==="same"){p=Math.ceil(e/r),m=Math.ceil(a/s),g=Math.ceil(n/i);const x=(p-1)*r+o-e,v=(m-1)*s+c-a,k=(g-1)*i+l-n,b=Math.floor(x/2),_=x-b,A=Math.floor(v/2),S=v-A,C=Math.floor(k/2),E=k-C;d={top:A,bottom:S,left:C,right:E,front:b,back:_,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outDepth:p,outHeight:m,outWidth:g}}function zg(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function Nu(t){const[e,a,n]=Bg(t);return e===1&&a===1&&n===1}function Mr(t,e){return Nu(t)||Nu(e)}function gd(t){return Bg(t).every(e=>e>0)}function Sl(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function xs(t,e,a){if(a!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${a} but got pad ${e}.`);if(typeof e=="number")K(zp(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${a} but got pad ${e}.`);else if(typeof e=="object")e.forEach(n=>{n.forEach(r=>{K(zp(r),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${a} but got pad ${r}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yle(t,e){const n={x:X(t,"x","reshape","string_or_numeric")},r={shape:e};return pe.runKernel(a_,n,r)}const ve=he({reshape_:yle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vle(t,e,a,n,r){const s=X(t,"x","avgPool","float32"),i=1;K(Mr(a,i),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${i}'`);let o=s,c=!1;s.rank===3&&(c=!0,o=ve(s,[1,s.shape[0],s.shape[1],s.shape[2]])),K(o.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`),xs("avgPool",n,r);const l={x:o},u={filterSize:e,strides:a,pad:n,dimRoundingMode:r};let d=pe.runKernel(yb,l,u);return d=ut(d,s.dtype),c?ve(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const y_=he({avgPool_:vle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xle(t,e,a,n,r,s="NDHWC"){const i=X(t,"x","avgPool3d","float32");let o=i,c=!1;i.rank===4&&(c=!0,o=ve(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),K(o.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),K(s==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),K(typeof a=="number"&&a>0||Array.isArray(a)&&a[0]>0&&a[1]>0&&a[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${a}'`),xs("avgPool3d",n,r);const l={x:o},u={filterSize:e,strides:a,pad:n,dimRoundingMode:r,dataFormat:s};let d=pe.runKernel(vb,l,u);return d=ut(d,o.dtype),c?ve(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const tG=he({avgPool3d_:xle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kle(t,e=0){K(t.length>=1,()=>"Pass at least one tensor to concat");const a=rw(t,"tensors","concat","string_or_numeric");if(a[0].dtype==="complex64"&&a.forEach(s=>{if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${s.dtype}. `)}),a.length===1)return cl(a[0]);const n=a,r={axis:e};return pe.runKernel(_b,n,r)}const En=he({concat_:kle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wle(t,e,a=!1,n=!1){let r=X(t,"a","matMul"),s=X(e,"b","matMul");[r,s]=Cn(r,s);const i={a:r,b:s},o={transposeA:a,transposeB:n};return pe.runKernel(xb,i,o)}const ya=he({matMul_:wle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ble(t){const a={x:X(t,"x","sigmoid","float32")};return pe.runKernel(k1,a)}const pc=he({sigmoid_:ble});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _le(t,e,a){const n=X(t,"x","slice","string_or_numeric");if(n.rank===0)throw new Error("Slicing scalar is not possible");const r={x:n},s={begin:e,size:a};return pe.runKernel(o_,r,s)}const Na=he({slice_:_le});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ale(t){const a={x:X(t,"x","tanh","float32")};return pe.runKernel(S1,a)}const yd=he({tanh_:Ale});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nle(t,e,a,n,r,s){const i=X(t,"forgetBias","basicLSTMCell"),o=X(e,"lstmKernel","basicLSTMCell"),c=X(a,"lstmBias","basicLSTMCell"),l=X(n,"data","basicLSTMCell"),u=X(r,"c","basicLSTMCell"),d=X(s,"h","basicLSTMCell"),p=En([l,d],1),m=ya(p,o),g=qe(m,c),x=g.shape[0],v=g.shape[1]/4,k=[x,v],b=Na(g,[0,0],k),_=Na(g,[0,v],k),A=Na(g,[0,v*2],k),S=Na(g,[0,v*3],k),C=qe(me(pc(b),yd(_)),me(u,pc(qe(i,A)))),E=me(yd(C),pc(S));return[C,E]}const Sle=he({basicLSTMCell_:Nle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tle(t,e,a){const n=X(t,"x","batchToSpaceND"),r=e.reduce((o,c)=>o*c);K(n.rank>=1+e.length,()=>`input rank is ${n.rank} but should be > than blockShape.length ${e.length}`),K(a.length===e.length,()=>`crops.length is ${a.length} but should be equal to blockShape.length  ${e.length}`),K(n.shape[0]%r===0,()=>`input tensor batch is ${n.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${r}`);const s={x:n},i={blockShape:e,crops:a};return pe.runKernel(kb,s,i)}const v_=he({batchToSpaceND_:Tle});function Ele(t){let e;return t.rank===0||t.rank===1?e=ve(t,[1,1,1,t.size]):t.rank===2?e=ve(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=ve(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cle(t,e,a,n,r,s){s==null&&(s=.001);const i=X(t,"x","batchNorm"),o=X(e,"mean","batchNorm"),c=X(a,"variance","batchNorm");let l;r!=null&&(l=X(r,"scale","batchNorm"));let u;n!=null&&(u=X(n,"offset","batchNorm")),K(o.rank===c.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),K(u==null||o.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),K(l==null||o.rank===l.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const p={x:Ele(i),scale:l,offset:u,mean:o,variance:c},m={varianceEpsilon:s},g=pe.runKernel(Db,p,m);return ve(g,i.shape)}const R1=he({batchNorm_:Cle});function Ile(t,e,a,n,r,s){const i=X(t,"x","batchNorm"),o=X(e,"mean","batchNorm"),c=X(a,"variance","batchNorm");let l;r!=null&&(l=X(r,"scale","batchNorm"));let u;return n!=null&&(u=X(n,"offset","batchNorm")),K(i.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),K(o.rank===2||o.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`),K(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${c.rank}.`),l!=null&&K(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&K(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`),R1(i,o,c,u,l,s)}const aG=he({batchNorm2d_:Ile});function Rle(t,e,a,n,r,s){const i=X(t,"x","batchNorm"),o=X(e,"mean","batchNorm"),c=X(a,"variance","batchNorm");let l;r!=null&&(l=X(r,"scale","batchNorm"));let u;return n!=null&&(u=X(n,"offset","batchNorm")),K(i.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),K(o.rank===3||o.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`),K(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${c.rank}.`),l!=null&&K(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&K(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`),R1(i,o,c,u,l,s)}const nG=he({batchNorm3d_:Rle});function Dle(t,e,a,n,r,s){const i=X(t,"x","batchNorm"),o=X(e,"mean","batchNorm"),c=X(a,"variance","batchNorm");let l;r!=null&&(l=X(r,"scale","batchNorm"));let u;return n!=null&&(u=X(n,"offset","batchNorm")),K(i.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),K(o.rank===4||o.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`),K(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${c.rank}.`),l!=null&&K(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&K(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`),R1(i,o,c,u,l,s)}const rG=he({batchNorm4d_:Dle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ple(t,e,a){const n=X(t,"x","bincount"),r=X(e,"weights","bincount");K(n.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${n.dtype}`),K(a>=0,()=>`size must be non-negative, but got ${a}.`),K(r.size===n.size||r.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${n.shape}, weights shape: ${r.shape}.`);const s={x:n,weights:r},i={size:a};return pe.runKernel(HC,s,i)}const sG=he({bincount_:Ple});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fle(t,e){const a=X(t,"x","bitwiseAnd"),n=X(e,"y","bitwiseAnd");if(!_a(a.shape,n.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${a.shape}, y: ${n.shape}`);if(a.dtype!=="int32"||n.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${a.dtype} and type of y: ${n.dtype}`);const r={a,b:n};return pe.runKernel(wb,r)}const Ole=he({bitwiseAnd_:Fle});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $le(t,e){const a=X(t,"s0","broadcastArgs","int32"),n=X(e,"s1","broadcastArgs","int32");if(a.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${a.rank}`);if(n.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${n.rank}`);const r={s0:a,s1:n};return pe.runKernel(KC,r)}const Lle=he({broadcastArgs_:$le});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mle(t,e){let a=X(t,"broadcastTo","x");const n=a.shape;if(ki(e),e.length<a.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${a.rank}.`);if(e.length>a.rank){const l=a.shape.slice();for(;l.length<e.length;)l.unshift(1);a=ve(a,l)}const r=a.shape,s=Array.from(e);for(let l=e.length-1;l>=0;l--)if(r[l]===e[l])s[l]=1;else if(a.shape[l]!==1)throw new Error(`broadcastTo(): [${n}] cannot be broadcast to [${e}].`);if(s.map((l,u)=>l>1?u:-1).filter(l=>l>=0).length===0)return cl(a);const o={x:a},c={reps:s};return pe.runKernel(T1,o,c)}const Sp=he({broadcastTo_:Mle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ble(t){const a={x:X(t,"x","ceil","float32")};return pe.runKernel(Uy,a)}const iG=he({ceil_:Ble});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mm(t,e,a){ki(t),a=a||dm(e);const n={shape:t,value:e,dtype:a};return pe.runKernel(cI,{},n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zle(t,e,a){const n=X(t,"x","clipByValue");if(K(e<=a,()=>`Error in clip: min (${e}) must be less than or equal to max (${a}).`),e===a)return mm(n.shape,e,n.dtype);const r={x:n},s={clipValueMin:e,clipValueMax:a};return pe.runKernel(Wy,r,s)}const Xs=he({clipByValue_:zle});function Gle(t){return En(t,0)}const oG=he({concat1d_:Gle});function Ule(t,e){return En(t,e)}const cG=he({concat2d_:Ule});function Wle(t,e){return En(t,e)}const lG=he({concat3d_:Wle});function Vle(t,e){return En(t,e)}const uG=he({concat4d_:Vle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jle(t,e,a,n,r="NHWC",s=[1,1],i){const o=X(t,"x","conv2d","float32"),c=X(e,"filter","conv2d","float32");let l=o,u=!1;o.rank===3&&(u=!0,l=ve(o,[1,o.shape[0],o.shape[1],o.shape[2]])),K(l.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${l.rank}.`),K(c.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${c.rank}.`),xs("conv2d",n,i);const d=r==="NHWC"?l.shape[3]:l.shape[1];K(d===c.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${c.shape[2]}.`),K(Mr(a,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${a} and dilations '${s}'`),K(gd(s),()=>"Error in conv2D: Dilated rates should be larger than 0."),K(gd(a),()=>"Error in conv2D: Strides should be larger than 0.");const p={x:l,filter:c},m={strides:a,pad:n,dataFormat:r,dilations:s,dimRoundingMode:i},g=pe.runKernel(Ab,p,m);return u?ve(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const Su=he({conv2d_:jle});function Hle(t,e,a,n,r="NWC",s=1,i){const o=X(t,"x","conv1d"),c=X(e,"filter","conv1d");let l=o,u=!1;o.rank===2&&(u=!0,l=ve(o,[1,o.shape[0],o.shape[1]])),K(l.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${l.rank}.`),K(c.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${c.rank}.`),xs("conv1d",n,i),K(l.shape[2]===c.shape[1],()=>`Error in conv1d: depth of input (${l.shape[2]}) must match input depth for filter ${c.shape[1]}.`),K(Mr(a,s),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${a} and dilation '${s}'`),K(gd(s),()=>"Error in conv1D: Dilated rates should be larger than 0."),K(gd(a),()=>"Error in conv1D: Stride should be larger than 0."),K(r==="NWC",()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`);const d=ve(c,[1,c.shape[0],c.shape[1],c.shape[2]]),p=ve(l,[l.shape[0],1,l.shape[1],l.shape[2]]),v=Su(p,d,[1,a],n,"NHWC",[1,s],i);return u?ve(v,[v.shape[2],v.shape[3]]):ve(v,[v.shape[0],v.shape[2],v.shape[3]])}const JI=he({conv1d_:Hle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kle(t,e,a,n,r,s="NHWC",i){K(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,c=e,l=!1;e.rank===3&&(l=!0,c=ve(e,[1,e.shape[0],e.shape[1],e.shape[2]]),o=[1,t[0],t[1],t[2]]),K(o.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),K(c.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${c.rank}`),K(a.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${a.rank}`);const u=s==="NHWC"?o[3]:o[1],d=s==="NHWC"?c.shape[3]:c.shape[1];K(u===a.shape[2],()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${a.shape[2]}.`),K(d===a.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${a.shape[3]}.`),xs("conv2dDerInput",r,i);const p={dy:c,filter:a},m={strides:n,pad:r,dataFormat:s,dimRoundingMode:i,inputShape:o},g=pe.runKernel(Nb,p,m);return l?ve(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const QI=he({conv2DBackpropInput_:Kle});function qle(t,e,a,n,r,s){const i=X(t,"x","conv2dTranspose"),o=X(e,"filter","conv2dTranspose");return QI(a,i,o,n,r,"NHWC",s)}const e3=he({conv2dTranspose_:qle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xle(t,e,a,n,r="NDHWC",s=[1,1,1]){const i=X(t,"x","conv3d"),o=X(e,"filter","conv3d");let c=i,l=!1;i.rank===4&&(l=!0,c=ve(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),K(c.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${c.rank}.`),K(o.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),K(c.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${c.shape[4]}) must match input depth for filter ${o.shape[3]}.`),K(Mr(a,s),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${a} and dilations '${s}'`),K(r==="NDHWC",()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`),K(gd(s),()=>"Error in conv3D: Dilated rates should be larger than 0."),K(gd(a),()=>"Error in conv3D: Strides should be larger than 0.");const u={x:c,filter:o},d={strides:a,pad:n,dataFormat:r,dilations:s},p=pe.runKernel(Sb,u,d);return l?ve(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const fG=he({conv3d_:Xle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yle(t,e,a,n,r){K(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let s=t,i=e,o=!1;e.rank===4&&(o=!0,i=ve(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),s=[1,t[0],t[1],t[2],t[3]]);const c=s[4],l=i.shape[4];K(s.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`),K(i.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`),K(a.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${a.rank}`),K(c===a.shape[3],()=>`Error in conv3dDerInput: depth of input (${c}) must match input depth for filter ${a.shape[3]}.`),K(l===a.shape[4],()=>`Error in conv3dDerInput: depth of output (${l}) must match output depth for filter ${a.shape[4]}.`);const u={dy:i,filter:a},d={pad:r,strides:n,inputShape:s},p=pe.runKernel(ZC,u,d);return o?ve(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const dG=he({conv3DBackpropInput_:Yle});function Zle(t,e,a,n,r){const s=X(t,"x","conv3dTranspose"),i=X(e,"filter","conv3dTranspose");return dG(a,s,i,n,r)}const hG=he({conv3dTranspose_:Zle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jle(t){const a={x:X(t,"x","cos","float32")};return pe.runKernel(Vy,a)}const x_=he({cos_:Jle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qle(t){const a={x:X(t,"x","cosh","float32")};return pe.runKernel(jy,a)}const t3=he({cosh_:Qle});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eue(t,e=0,a=!1,n=!1){const s={x:X(t,"x","cumprod")},i={axis:e,exclusive:a,reverse:n};return pe.runKernel(JC,s,i)}const iw=he({cumprod_:eue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tue(t,e=0,a=!1,n=!1){const s={x:X(t,"x","cumsum")},i={axis:e,exclusive:a,reverse:n};return pe.runKernel(Tb,s,i)}const a3=he({cumsum_:tue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aue(t,e,a,n=!1){const r=X(t,"x","denseBincount"),s=X(e,"weights","denseBincount");K(r.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`),K(r.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`),K(a>=0,()=>`size must be non-negative, but got ${a}.`),K(s.size===r.size||s.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${s.shape}.`);const i={x:r,weights:s},o={size:a,binaryOutput:n};return pe.runKernel(eI,i,o)}const QT=he({denseBincount_:aue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nue(t,e,a="NHWC"){const n=X(t,"x","depthToSpace","float32"),r=a==="NHWC"?n.shape[1]:n.shape[2],s=a==="NHWC"?n.shape[2]:n.shape[3],i=a==="NHWC"?n.shape[3]:n.shape[1];K(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),K(r*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${r} and ${e}  for depthToSpace with input shape
    ${n.shape}`),K(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e} for depthToSpace with input shape
        ${n.shape}`),K(i%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${i} for depthToSpace with input shape ${n.shape}`);const o={x:n},c={blockSize:e,dataFormat:a};return pe.runKernel(tI,o,c)}const pG=he({depthToSpace_:nue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rue(t,e,a,n,r="NHWC",s=[1,1],i){const o=X(t,"x","depthwiseConv2d","float32"),c=X(e,"filter","depthwiseConv2d","float32");let l=o,u=!1;o.rank===3&&(u=!0,l=ve(o,[1,o.shape[0],o.shape[1],o.shape[2]])),K(l.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${l.rank}.`),K(c.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${c.rank}.`);const d=r==="NHWC"?l.shape[3]:l.shape[1];K(d===c.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${c.shape[2]}.`),xs("depthwiseConv2d",n,i);const p={x:l,filter:c},m={strides:a,pad:n,dataFormat:r,dilations:s,dimRoundingMode:i},g=pe.runKernel(Eb,p,m);return u?ve(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const D1=he({depthwiseConv2d_:rue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sue(t){const a={x:X(t,"x","diag")};return pe.runKernel(rI,a)}const iue=he({diag_:sue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oue(t,e,a,n,r=[1,1],s="NHWC"){const i=X(t,"x","dilation2d"),o=X(e,"filter","dilation2d");K(i.rank===3||i.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`),K(o.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),K(s==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`);let c=i,l=!1;i.rank===3&&(c=ve(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=!0),K(c.shape[3]===o.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${c.shape[3]} vs ${o.shape[2]}`);const u={x:c,filter:o},d={strides:a,pad:n,dilations:r},p=pe.runKernel(Cb,u,d);return l?ve(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const mG=he({dilation2d_:oue});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Up(t,e){const a=t.length,n=[];for(let r=0;r<a;r++){const s=a-1-r,i=t[s]||1;(e[e.length-1-r]||1)>1&&i===1&&n.unshift(s)}return n}function cr(t,e){const a=[];for(let n=0;n<e.length;n++){const r=t[t.length-n-1],s=e.length-n-1,i=e[s];(r==null||r===1&&i>1)&&a.unshift(s)}return a}function Xt(t,e){const a=Math.max(t.length,e.length),n=new Array(a);for(let r=0;r<a;r++){let s=t[t.length-r-1];s==null&&(s=1);let i=e[e.length-r-1];if(i==null&&(i=1),s===1)n[a-r-1]=i;else if(i===1)n[a-r-1]=s;else if(s!==i){const o=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(o)}else n[a-r-1]=s}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cue(t,e){let a=X(t,"a","equal","string_or_numeric"),n=X(e,"b","equal","string_or_numeric");[a,n]=Cn(a,n),Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel(Ib,r)}const Fo=he({equal_:cue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lue(t,e,a){const n=X(e,"a","where"),r=X(a,"b","where"),s=X(t,"condition","where","bool"),i=Xt(Xt(s.shape,n.shape),r.shape),o=Sp(s,i),c=Sp(n,i),l=Sp(r,i),u={condition:o,t:c,e:l};return pe.runKernel(i_,u)}const Hr=he({where_:lue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uue(t){const a={x:X(t,"x","zerosLike")};return pe.runKernel(m_,a)}const Ea=he({zerosLike_:uue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fue(t,e){let a=X(t,"a","div"),n=X(e,"b","div");[a,n]=Cn(a,n);const r=wt(a,n),s=Ea(r),i=Fo(n,s);return Hr(i,s,r)}const gG=he({divNoNan_:fue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function due(t,e){const a=X(t,"t1","dot"),n=X(e,"t2","dot");K((a.rank===1||a.rank===2)&&(n.rank===1||n.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${a.rank} and ${n.rank}.`);const r=a.rank===1?a.size:a.shape[1],s=n.rank===1?n.size:n.shape[0];if(K(r===s,()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${s}.`),a.rank===1&&n.rank===1){const i=ve(a,[1,-1]),o=ve(n,[-1,1]),c=ya(i,o);return ve(c,[])}else if(a.rank===1&&n.rank===2){const i=ve(a,[1,-1]),o=ve(n,[n.shape[0],n.shape[1]]),c=ya(i,o);return ve(c,[c.size])}else if(a.rank===2&&n.rank===1){const i=ve(n,[-1,1]),o=ya(a,i);return ve(o,[o.size])}else{const i=ve(n,[n.shape[0],n.shape[1]]);return ya(a,i)}}const yG=he({dot_:due});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hue(t,...e){const a=e.map((r,s)=>X(r,`tensors${s}`,"einsum")),n={equation:t};return pe.runKernel(sI,a,n)}const pp=he({einsum_:hue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pue(t){const a={x:X(t,"x","elu","float32")};return pe.runKernel(Ky,a)}const P1=he({elu_:pue});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mue(t,e){const a=X(t,"x","ensureShape","string_or_numeric");if(!Toe(a.shape,e))throw new Error(`EnsureShape: Shape of tensor ${a.shape} is not compatible with expected shape ${e}`);return t}const gue=he({ensureShape_:mue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yue(t){let e=X(t,"x","erf");K(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=ut(e,"float32"));const a={x:e};return pe.runKernel(qy,a)}const n3=he({erf_:yue});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r3(t,e){for(let a=0;a<t.length;++a)if(t[t.length-a-1]!==e-1-a)return!1;return!0}function vG(t,e,a){const n=t.length+e.length,r=[];let s=0,i=0;for(let o=0;o<n;o++)a.indexOf(o)===-1?r.push(t[s++]):r.push(e[i++]);return r}function _r(t,e){const a=[],n=t.length;for(let s=0;s<n;s++)e.indexOf(s)===-1&&a.push(t[s]);const r=e.map(s=>t[s]);return[a,r]}function Mn(t,e){const a=e.map(n=>1);return vG(t,a,e)}function Br(t,e,a){K(r3(e,a),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${a} input.`)}function kn(t,e){if(r3(t,e))return null;const a=[];for(let n=0;n<e;++n)t.indexOf(n)===-1&&a.push(n);return t.forEach(n=>a.push(n)),a}function Hu(t){return t.map((e,a)=>[a,e]).sort((e,a)=>e[1]-a[1]).map(e=>e[0])}function Bn(t,e){const a=[];for(let n=e-t;n<e;++n)a.push(n);return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vue(t,e=null,a=!1){const r={x:X(t,"x","max")},s={reductionIndices:e,keepDims:a};return pe.runKernel(Ub,r,s)}const Ji=he({max_:vue});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xue(t,e=null,a=!1){const r={x:X(t,"x","min")},s={axis:e,keepDims:a};return pe.runKernel(Hb,r,s)}const Gg=he({min_:xue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kue(t,e){let a=X(t,"base","pow"),n=X(e,"exp","pow");[a,n]=Cn(a,n);const r={a,b:n};return pe.runKernel(u1,r)}const ml=he({pow_:kue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pt(t,e){if((to(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&to(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Vu(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wue(t){const a={x:X(t,"x","sqrt","float32")};return pe.runKernel(b1,a)}const Lr=he({sqrt_:wue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bue(t){const e=X(t,"x","square"),a={};return pe.runKernel("Square",{x:e},a)}const Qa=he({square_:bue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ue(t,e=null,a=!1){let n=X(t,"x","sum");n.dtype==="bool"&&(n=ut(n,"int32"));const r={x:n},s={axis:e,keepDims:a};return pe.runKernel(c_,r,s)}const yt=he({sum_:_ue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aue(t,e="euclidean",a=null,n=!1){t=X(t,"x","norm");const r=xG(t,e,a);let s=r.shape;if(n){const i=pa(a,t.shape);s=Mn(r.shape,i)}return ve(r,s)}function xG(t,e,a=null){if(t.rank===0)return er(t);if(t.rank!==1&&a===null)return xG(ve(t,[-1]),e,a);if(t.rank===1||typeof a=="number"||Array.isArray(a)&&a.length===1){if(e===1)return yt(er(t),a);if(e===1/0)return Ji(er(t),a);if(e===-1/0)return Gg(er(t),a);if(e==="euclidean"||e===2)return Lr(yt(ml(er(t),Pt(2,"int32")),a));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(a)&&a.length===2){if(e===1)return Ji(yt(er(t),a[0]),a[1]-1);if(e===1/0)return Ji(yt(er(t),a[1]),a[0]);if(e===-1/0)return Gg(yt(er(t),a[1]),a[0]);if(e==="fro"||e==="euclidean")return Lr(yt(Qa(t),a));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${a}`)}const F1=he({norm_:Aue});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nue(t,e=null,a=!1){return F1(t,"euclidean",e,a)}const kG=he({euclideanNorm_:Nue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sue(t){const a={x:X(t,"x","exp")};return pe.runKernel(Xy,a)}const Ys=he({exp_:Sue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tue(t,e=0){const a=X(t,"x","expandDims","string_or_numeric");K(e<=a.rank,()=>"Axis must be <= rank of the tensor");const n={input:a},r={dim:e};return pe.runKernel(Rb,n,r)}const cs=he({expandDims_:Tue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eue(t){const a={x:X(t,"x","expm1")};return pe.runKernel(Yy,a)}const wG=he({expm1_:Eue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cue(t,e){const a=X(t,"x","tile","string_or_numeric");K(a.rank===e.length,()=>`Error in transpose: rank of input ${a.rank} must match length of reps ${e}.`);const n={x:a},r={reps:e};return pe.runKernel(T1,n,r)}const Hi=he({tile_:Cue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iue(t,e,a,n="float32"){e==null&&(e=t);const r=ra([t,e],n),s=t<=e?t:e;for(let o=0;o<s;++o)r.set(1,o,o);const i=ve(r.toTensor(),[t,e]);if(a==null)return i;if(a.length===1)return Hi(cs(i,0),[a[0],1,1]);if(a.length===2)return Hi(cs(cs(i,0),0),[a[0],a[1],1,1]);if(a.length===3)return Hi(cs(cs(cs(i,0),0),0),[a[0],a[1],a[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${a.length}D.`)}const s3=he({eye_:Iue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rue(t){const a={x:X(t,"x","floor","float32")};return pe.runKernel(Zy,a)}const O1=he({floor_:Rue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Due(t,e,a=0,n=0){const r=X(t,"x","gather"),s=X(e,"indices","gather","int32"),i={x:r,indices:s},o={axis:a,batchDims:n};return pe.runKernel(Pb,i,o)}const $1=he({gather_:Due});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pue(t,e){let a=X(t,"a","greater","string_or_numeric"),n=X(e,"b","greater","string_or_numeric");[a,n]=Cn(a,n),Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel(Fb,r)}const ai=he({greater_:Pue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fue(t,e){let a=X(t,"a","greaterEqual","string_or_numeric"),n=X(e,"b","greaterEqual","string_or_numeric");[a,n]=Cn(a,n),Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel(Qy,r)}const Ku=he({greaterEqual_:Fue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oue(t){const a={input:X(t,"input","imag")};return pe.runKernel(dI,a)}const k_=he({imag_:Oue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ue(t){const a={x:X(t,"x","isFinite")};return pe.runKernel(t1,a)}const bG=he({isFinite_:$ue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lue(t){const a={x:X(t,"x","isInf")};return pe.runKernel(a1,a)}const _G=he({isInf_:Lue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mue(t){const a={x:X(t,"x","isNaN")};return pe.runKernel(n1,a)}const AG=he({isNaN_:Mue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bue(t,e=.2){const n={x:X(t,"x","leakyRelu")},r={alpha:e};return pe.runKernel(Ob,n,r)}const w_=he({leakyRelu_:Bue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zue(t,e){let a=X(t,"a","less","string_or_numeric"),n=X(e,"b","less","string_or_numeric");[a,n]=Cn(a,n),Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel($b,r)}const Ug=he({less_:zue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gue(t,e){let a=X(t,"a","lessEqual","string_or_numeric"),n=X(e,"b","lessEqual","string_or_numeric");[a,n]=Cn(a,n),Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel(Lb,r)}const Ud=he({lessEqual_:Gue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uue(t,e,a){if(a<=0)throw new Error("The number of values should be positive.");const n={start:t,stop:e,num:a};return pe.runKernel(hI,{},n)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wue(t,e=5,a=1,n=1,r=.5){const s=X(t,"x","localResponseNormalization");K(s.rank===4||s.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${s.rank}.`),K(zp(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let i=s,o=!1;s.rank===3&&(o=!0,i=ve(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const c={x:i},l={depthRadius:e,bias:a,alpha:n,beta:r},u=pe.runKernel(Gb,c,l);return o?ve(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const NG=he({localResponseNormalization_:Wue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vue(t){const a={x:X(t,"x","log","float32")};return pe.runKernel(r1,a)}const mi=he({log_:Vue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jue(t){const a={x:X(t,"x","log1p")};return pe.runKernel(s1,a)}const b_=he({log1p_:jue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hue(t,e){K(OT(t),()=>"The f passed in variableGrads(f) must be a function"),K(e==null||Array.isArray(e)&&e.every(l=>l instanceof nw),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const a=e!=null;if(!a){e=[];for(const l in pe.registeredVariables)e.push(pe.registeredVariables[l])}const n=a?e.filter(l=>!l.trainable):null,r=e.length;e=e.filter(l=>l.trainable),K(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`);const s=!0,{value:i,grads:o}=pe.gradients(t,e,null,s);K(o.some(l=>l!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),K(i.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);const c={};return e.forEach((l,u)=>{o[u]!=null&&(c[l.name]=o[u])}),n!=null&&n.forEach(l=>c[l.name]=null),{value:i,grads:c}}function gl(t){return pe.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kue(t){const a={x:X(t,"x","neg")};return pe.runKernel(qb,a)}const fn=he({neg_:Kue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function que(t){const a={x:X(t,"x","softplus")};return pe.runKernel(w1,a)}const gm=he({softplus_:que});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xue(t){const e=X(t,"x","logSigmoid");return gl(n=>({value:fn(gm(fn(n))),gradFunc:i=>me(i,pc(fn(n)))}))(e)}const SG=he({logSigmoid_:Xue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yue(t,e){let a=X(t,"a","sub"),n=X(e,"b","sub");[a,n]=Cn(a,n);const r={a,b:n};return pe.runKernel(A1,r)}const pt=he({sub_:Yue});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zue(t,e=-1){const a=X(t,"logits","logSoftmax");if(e===-1&&(e=a.rank-1),e!==a.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${a.rank} and axis was ${e}`);return gl((r,s)=>{const o=Ji(r,e,!0),c=pt(r,o),l=pt(ut(c,"float32"),mi(yt(Ys(c),e,!0)));return s([l]),{value:l,gradFunc:(d,p)=>{const[m]=p,g=!0,x=Ys(m);return pt(d,me(yt(d,e,g),x))}}})(a)}const i3=he({logSoftmax_:Zue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jue(t,e=null,a=!1){const n=X(t,"x","logSumExp"),r=pa(e,n.shape),s=Ji(n,r,!0),i=pt(n,s),o=Ys(i),c=yt(o,r),l=mi(c),u=qe(ve(s,l.shape),l);if(a){const d=Mn(u.shape,r);return ve(u,d)}return u}const __=he({logSumExp_:Jue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Que(t,e){const a=X(t,"a","logicalAnd","bool"),n=X(e,"b","logicalAnd","bool");Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel(Mb,r)}const wc=he({logicalAnd_:Que});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function efe(t){const a={x:X(t,"x","logicalNot","bool")};return pe.runKernel(Bb,a)}const A_=he({logicalNot_:efe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tfe(t,e){const a=X(t,"a","logicalOr","bool"),n=X(e,"b","logicalOr","bool");Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel(zb,r)}const o3=he({logicalOr_:tfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function afe(t,e){const a=X(t,"a","logicalXor","bool"),n=X(e,"b","logicalXor","bool");return Xt(a.shape,n.shape),wc(o3(t,e),A_(wc(t,e)))}const TG=he({logicalXor_:afe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ux=2147483648;function nfe(t,e,a="left"){const n=X(t,"sortedSequence","searchSorted"),r=X(e,"values","searchSorted"),s=n.shape[n.shape.length-1],i=r.shape[r.shape.length-1],o=ve(n,[-1,s]),c=ve(r,[-1,i]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==c.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Me(c.shape)>=Ux)throw new Error(`values tensor size must less than ${Ux}`);if(o.shape[1]>=Ux)throw new Error(`trailing dim_size must less than ${Ux} for int32 output type, was ${o.shape[1]}`);const l={sortedSequence:o,values:c},u={side:a};return pe.runKernel(RI,l,u)}const c3=he({searchSorted_:nfe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rfe(t,e){return c3(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sfe(t,e,a,n,r){const s=X(t,"x","maxPool"),i=1;let o=s,c=!1;s.rank===3&&(c=!0,o=ve(s,[1,s.shape[0],s.shape[1],s.shape[2]])),K(o.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`),K(Mr(a,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${i}'`),xs("maxPool",n,r);const l={x:o},u={filterSize:e,strides:a,pad:n,dimRoundingMode:r},d=pe.runKernel(Wb,l,u);return c?ve(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const N_=he({maxPool_:sfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ife(t,e=[1,1,1],a,n,r,s="NDHWC"){const i=X(t,"x","maxPool3d");let o=i,c=!1;i.rank===4&&(c=!0,o=ve(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),K(o.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),K(s==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),xs("maxPool3d",n,r);const l={x:o},u={filterSize:e,strides:a,pad:n,dimRoundingMode:r,dataFormat:s},d=pe.runKernel(Vb,l,u);return c?ve(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const EG=he({maxPool3d_:ife});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ofe(t,e,a,n,r=!1){const i={x:X(t,"x","maxPoolWithArgmax")},o={filterSize:e,strides:a,pad:n,includeBatchInIndex:r},c=pe.runKernel(yI,i,o);return{result:c[0],indexes:c[1]}}const cfe=he({maxPoolWithArgmax_:ofe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lfe(t,e){let a=X(t,"a","maximum"),n=X(e,"b","maximum");[a,n]=Cn(a,n),a.dtype==="bool"&&(a=ut(a,"int32"),n=ut(n,"int32")),Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel(i1,r)}const Tl=he({maximum_:lfe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ufe(t,e=null,a=!1){const r={x:X(t,"x","mean")},s={axis:e,keepDims:a};return pe.runKernel(jb,r,s)}const Sn=he({mean_:ufe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tr(t,e="float32"){if(ki(t),e==="complex64"){const n=tr(t,"float32"),r=tr(t,"float32");return _u(n,r)}const a=Kr(Me(t),e);return pe.makeTensor(a,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hs(t,e="float32"){if(ki(t),e==="complex64"){const n=Hs(t,"float32"),r=tr(t,"float32");return _u(n,r)}const a=zC(Me(t),e);return pe.makeTensor(a,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ffe(t,e,{indexing:a="xy"}={}){if(a!=="xy"&&a!=="ij")throw new TypeError(`${a} is not a valid third argument to meshgrid`);if(t===void 0)return[];let n=X(t,"x","meshgrid",t instanceof gn?t.dtype:"float32");if(e===void 0)return[n];let r=X(e,"y","meshgrid",e instanceof gn?e.dtype:"float32");const s=Me(n.shape),i=Me(r.shape);return a==="xy"?(n=ve(n,[1,-1]),r=ve(r,[-1,1]),[ya(Hs([i,1],n.dtype),n),ya(r,Hs([1,s],r.dtype))]):(n=ve(n,[-1,1]),r=ve(r,[1,-1]),[ya(n,Hs([1,i],n.dtype)),ya(Hs([s,1],r.dtype),r)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dfe(t,e){let a=X(t,"a","minimum"),n=X(e,"b","minimum");[a,n]=Cn(a,n),a.dtype==="bool"&&(a=ut(a,"int32"),n=ut(n,"int32")),Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel(o1,r)}const vd=he({minimum_:dfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hfe(t,e,a){K(a==="reflect"||a==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${a}.`);const n=X(t,"x","mirrorPad");if(n.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");K(e.length===n.rank,()=>`Padding doesn't match input. Must be ${n.rank}. Got ${e.length}.`);const r=a==="reflect"?1:0;for(let o=0;o<n.rank;o++)K(e[o].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),K(e[o][0]>=0&&e[o][0]<=n.shape[o]-r&&e[o][1]>=0&&e[o][1]<=n.shape[o]-r,()=>`Padding in dimension ${o} cannot be greater than or equal to ${n.shape[o]-r} or less than 0 for input of shape ${n.shape}`);const s={paddings:e,mode:a},i={x:n};return pe.runKernel(Kb,i,s)}const CG=he({mirrorPad_:hfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pfe(t,e){let a=X(t,"a","mod"),n=X(e,"b","mod");[a,n]=Cn(a,n);const r={a,b:n};return pe.runKernel(c1,r)}const IG=he({mod_:pfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mfe(t,e=null,a=!1){t=X(t,"x","moments");const n=pa(e,t.shape),r=Sn(t,n,a);let s=r.shape;a||(s=Mn(r.shape,n));const i=Qa(pt(ut(t,"float32"),ve(r,s))),o=Sn(i,n,a);return{mean:r,variance:o}}const S_=he({moments_:mfe});function gfe(t,e,a,n){const r=X(e,"data","multiRNNCell"),s=rw(a,"c","multiRNNCell"),i=rw(n,"h","multiRNNCell");let o=r;const c=[];for(let d=0;d<t.length;d++){const p=t[d](o,s[d],i[d]);c.push(p[0]),c.push(p[1]),o=p[1]}const l=[],u=[];for(let d=0;d<c.length;d+=2)l.push(c[d]),u.push(c[d+1]);return[l,u]}const yfe=he({multiRNNCell_:gfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vfe(t,e,a,n=!1){const r=X(t,"logits","multinomial"),s=r.size,i=r.rank;if(s<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${s}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);a=a||Math.random();const c={logits:i===1?ve(r,[1,-1]):r},l={numSamples:e,seed:a,normalized:n},u=pe.runKernel(vI,c,l);return i===1?ve(u,[u.size]):u}const xfe=he({multinomial_:vfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kfe(t,e){let a=X(t,"a","notEqual","string_or_numeric"),n=X(e,"b","notEqual","string_or_numeric");[a,n]=Cn(a,n),Xt(a.shape,n.shape);const r={a,b:n};return pe.runKernel(Xb,r)}const Wp=he({notEqual_:kfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wfe(t,e,a=1,n=0,r="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const i={indices:X(t,"indices","oneHot","int32")},o={dtype:r,depth:e,onValue:a,offValue:n};return pe.runKernel(Zb,i,o)}const l3=he({oneHot_:wfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bfe(t){const a={x:X(t,"x","onesLike")};return pe.runKernel(Yb,a)}const gi=he({onesLike_:bfe});function _fe(t,e){const a=X(t,"v1","outerProduct"),n=X(e,"v2","outerProduct");K(a.rank===1&&n.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${a.rank} and ${n.rank}.`);const r=ve(a,[-1,1]),s=ve(n,[1,-1]);return ya(r,s)}const Afe=he({outerProduct_:_fe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nfe(t,e,a=0){const n=X(t,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:e,constantValue:a},s={x:n};return pe.runKernel(Qb,s,r)}const qu=he({pad_:Nfe});function Sfe(t,e,a=0){return K(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),qu(t,[e],a)}const Tfe=he({pad1d_:Sfe});function Efe(t,e,a=0){return K(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),qu(t,e,a)}const Cfe=he({pad2d_:Efe});function Ife(t,e,a=0){return K(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),qu(t,e,a)}const Rfe=he({pad3d_:Ife});function Dfe(t,e,a=0){return K(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),qu(t,e,a)}const Pfe=he({pad4d_:Dfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ffe(t,e,a){const n=X(t,"x","spaceToBatchND");K(n.rank>=1+e.length,()=>`input rank ${n.rank} should be > than [blockShape] ${e.length}`),K(a.length===e.length,()=>`paddings.shape[0] ${a.length} must be equal to [blockShape] ${e.length}`),K(n.shape.reduce((i,o,c)=>c>0&&c<=e.length?i&&(o+a[c-1][0]+a[c-1][1])%e[c-1]===0:i,!0),()=>`input spatial dimensions ${n.shape.slice(1)} with paddings ${a.toString()} must be divisible by blockShapes ${e.toString()}`);const r={x:n},s={blockShape:e,paddings:a};return pe.runKernel(l_,r,s)}const T_=he({spaceToBatchND_:Ffe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ofe(t,e,a,n,r,s,i){r==null&&(r=[1,1]),s==null&&(s=1),n===0&&(n="valid");const o=X(t,"x","maxPool");let c=o,l=!1;o.rank===3&&(l=!0,c=ve(o,[1,o.shape[0],o.shape[1],o.shape[2]])),K(Mr(s,r),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${s} and dilations '${r}'`);const u=ro(c.shape,e,s,r,n),d=[u.dilationHeight,u.dilationWidth];let p;n==="same"?p=Lfe([u.filterHeight,u.filterWidth],d):p=[[0,0],[0,0]];const m=d[0]===1&&d[1]===1,[g,x]=$fe([u.inHeight,u.inWidth],d,p),v=m?n:"valid",k=m?c:T_(c,d,g),_=(a==="avg"?()=>y_(k,e,s,v,i):()=>N_(k,e,s,v,i))(),A=m?_:v_(_,d,x);return l?ve(A,[A.shape[1],A.shape[2],A.shape[3]]):A}function $fe(t,e,a){const n=a.map(u=>u[0]),r=a.map(u=>u[1]),s=t.concat(n,r),i=e.map((u,d)=>(u-s[d]%u)%u),o=r.map((u,d)=>u+i[d]),c=e.map((u,d)=>[n[d],o[d]]),l=e.map((u,d)=>[0,i[d]]);return[c,l]}function Lfe(t,e){const n=t.map((i,o)=>i+(i-1)*(e[o]-1)).map(i=>i-1),r=n.map(i=>Math.floor(i/2)),s=n.map((i,o)=>i-r[o]);return n.map((i,o)=>[r[o],s[o]])}const RG=he({pool_:Ofe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mfe(t,e){const a=X(t,"x","prelu"),n=X(e,"alpha","prelu"),r={x:a,alpha:n};return pe.runKernel(e_,r)}const E_=he({prelu_:Mfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bfe(t,e=null,a=!1){let n=X(t,"x","prod");n.dtype==="bool"&&(n=ut(n,"int32"));const r={x:n},s={axis:e,keepDims:a};return pe.runKernel(t_,r,s)}const DG=he({prod_:Bfe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zfe(t,e,a,n){const r=t.map((u,d)=>X(u,`tensors${d}`,"raggedGather","int32")),s=X(e,"paramsDenseValues","raggedGather"),i=X(a,"indices","raggedGather","int32"),o={paramsNestedSplits:r,paramsDenseValues:s,indices:i},c={outputRaggedRank:n},l=pe.runKernel(bI,o,c);return{outputNestedSplits:l.slice(0,l.length-1),outputDenseValues:l[l.length-1]}}const Gfe=he({raggedGather_:zfe});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ufe(t,e,a){const n=X(t,"starts","raggedRange"),r=X(e,"limits","raggedRange",n.dtype),s=X(a,"deltas","raggedRange",n.dtype),i={starts:n,limits:r,deltas:s},o=pe.runKernel(_I,i);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}const Wfe=he({raggedRange_:Ufe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vfe(t,e,a,n,r){const s=X(t,"shape","raggedTensorToTensor","int32"),i=X(e,"values","raggedTensorToTensor"),o=X(a,"defaultValue","raggedTensorToTensor",i.dtype),c=n.map((d,p)=>X(d,`tensors${p}`,"raggedTensorToTensor","int32")),l={shape:s,values:i,defaultValue:o,rowPartitionTensors:c},u={rowPartitionTypes:r};return pe.runKernel(AI,l,u)}const jfe=he({raggedTensorToTensor_:Vfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hfe(t,e,a){ki(t);const n=Me(t);let r=null;if(a==null||a==="float32")r=new Float32Array(n);else if(a==="int32")r=new Int32Array(n);else if(a==="bool")r=new Uint8Array(n);else throw new Error(`Unknown data type ${a}`);for(let s=0;s<n;s++)r[s]=e();return pe.makeTensor(r,t,a)}const Kfe=he({rand_:Hfe});var Ck={exports:{}},qfe=Ck.exports,iL;function Xfe(){return iL||(iL=1,function(t){(function(e,a,n){function r(c){var l=this,u=o();l.next=function(){var d=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=d|0)},l.c=1,l.s0=u(" "),l.s1=u(" "),l.s2=u(" "),l.s0-=u(c),l.s0<0&&(l.s0+=1),l.s1-=u(c),l.s1<0&&(l.s1+=1),l.s2-=u(c),l.s2<0&&(l.s2+=1),u=null}function s(c,l){return l.c=c.c,l.s0=c.s0,l.s1=c.s1,l.s2=c.s2,l}function i(c,l){var u=new r(c),d=l&&l.state,p=u.next;return p.int32=function(){return u.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,d&&(typeof d=="object"&&s(d,u),p.state=function(){return s(u,{})}),p}function o(){var c=4022871197,l=function(u){u=String(u);for(var d=0;d<u.length;d++){c+=u.charCodeAt(d);var p=.02519603282416938*c;c=p>>>0,p-=c,p*=c,c=p>>>0,p-=c,c+=p*4294967296}return(c>>>0)*23283064365386963e-26};return l}a&&a.exports?a.exports=i:this.alea=i})(qfe,t)}(Ck)),Ck.exports}var Ik={exports:{}},Yfe=Ik.exports,oL;function Zfe(){return oL||(oL=1,function(t){(function(e,a,n){function r(o){var c=this,l="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var d=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^d^d>>>8},o===(o|0)?c.x=o:l+=o;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,c.next()}function s(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c}function i(o,c){var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=l.next()>>>11,m=(l.next()>>>0)/4294967296,g=(p+m)/(1<<21);while(g===0);return g},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}a&&a.exports?a.exports=i:this.xor128=i})(Yfe,t)}(Ik)),Ik.exports}var Rk={exports:{}},Jfe=Rk.exports,cL;function Qfe(){return cL||(cL=1,function(t){(function(e,a,n){function r(o){var c=this,l="";c.next=function(){var d=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(d^d<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,o===(o|0)?c.x=o:l+=o;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,u==l.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function s(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c.v=o.v,c.d=o.d,c}function i(o,c){var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=l.next()>>>11,m=(l.next()>>>0)/4294967296,g=(p+m)/(1<<21);while(g===0);return g},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}a&&a.exports?a.exports=i:this.xorwow=i})(Jfe,t)}(Rk)),Rk.exports}var Dk={exports:{}},ede=Dk.exports,lL;function tde(){return lL||(lL=1,function(t){(function(e,a,n){function r(o){var c=this;c.next=function(){var u=c.x,d=c.i,p,m;return p=u[d],p^=p>>>7,m=p^p<<24,p=u[d+1&7],m^=p^p>>>10,p=u[d+3&7],m^=p^p>>>3,p=u[d+4&7],m^=p^p<<7,p=u[d+7&7],p=p^p<<13,m^=p^p<<9,u[d]=m,c.i=d+1&7,m};function l(u,d){var p,m=[];if(d===(d|0))m[0]=d;else for(d=""+d,p=0;p<d.length;++p)m[p&7]=m[p&7]<<15^d.charCodeAt(p)+m[p+1&7]<<13;for(;m.length<8;)m.push(0);for(p=0;p<8&&m[p]===0;++p);for(p==8?m[7]=-1:m[p],u.x=m,u.i=0,p=256;p>0;--p)u.next()}l(c,o)}function s(o,c){return c.x=o.x.slice(),c.i=o.i,c}function i(o,c){o==null&&(o=+new Date);var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=l.next()>>>11,m=(l.next()>>>0)/4294967296,g=(p+m)/(1<<21);while(g===0);return g},d.int32=l.next,d.quick=d,u&&(u.x&&s(u,l),d.state=function(){return s(l,{})}),d}a&&a.exports?a.exports=i:this.xorshift7=i})(ede,t)}(Dk)),Dk.exports}var Pk={exports:{}},ade=Pk.exports,uL;function nde(){return uL||(uL=1,function(t){(function(e,a,n){function r(o){var c=this;c.next=function(){var u=c.w,d=c.X,p=c.i,m,g;return c.w=u=u+1640531527|0,g=d[p+34&127],m=d[p=p+1&127],g^=g<<13,m^=m<<17,g^=g>>>15,m^=m>>>12,g=d[p]=g^m,c.i=p,g+(u^u>>>16)|0};function l(u,d){var p,m,g,x,v,k=[],b=128;for(d===(d|0)?(m=d,d=null):(d=d+"\0",m=0,b=Math.max(b,d.length)),g=0,x=-32;x<b;++x)d&&(m^=d.charCodeAt((x+32)%d.length)),x===0&&(v=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,x>=0&&(v=v+1640531527|0,p=k[x&127]^=m+v,g=p==0?g+1:0);for(g>=128&&(k[(d&&d.length||0)&127]=-1),g=127,x=4*128;x>0;--x)m=k[g+34&127],p=k[g=g+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,k[g]=m^p;u.w=v,u.X=k,u.i=g}l(c,o)}function s(o,c){return c.i=o.i,c.w=o.w,c.X=o.X.slice(),c}function i(o,c){o==null&&(o=+new Date);var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=l.next()>>>11,m=(l.next()>>>0)/4294967296,g=(p+m)/(1<<21);while(g===0);return g},d.int32=l.next,d.quick=d,u&&(u.X&&s(u,l),d.state=function(){return s(l,{})}),d}a&&a.exports?a.exports=i:this.xor4096=i})(ade,t)}(Pk)),Pk.exports}var Fk={exports:{}},rde=Fk.exports,fL;function sde(){return fL||(fL=1,function(t){(function(e,a,n){function r(o){var c=this,l="";c.next=function(){var d=c.b,p=c.c,m=c.d,g=c.a;return d=d<<25^d>>>7^p,p=p-m|0,m=m<<24^m>>>8^g,g=g-d|0,c.b=d=d<<20^d>>>12^p,c.c=p=p-m|0,c.d=m<<16^p>>>16^g,c.a=g-d|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,o===Math.floor(o)?(c.a=o/4294967296|0,c.b=o|0):l+=o;for(var u=0;u<l.length+20;u++)c.b^=l.charCodeAt(u)|0,c.next()}function s(o,c){return c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c}function i(o,c){var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var p=l.next()>>>11,m=(l.next()>>>0)/4294967296,g=(p+m)/(1<<21);while(g===0);return g},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}a&&a.exports?a.exports=i:this.tychei=i})(rde,t)}(Fk)),Fk.exports}var Ok={exports:{}};const ide={},ode=Object.freeze(Object.defineProperty({__proto__:null,default:ide},Symbol.toStringTag,{value:"Module"})),cde=KB(ode);var lde=Ok.exports,dL;function ude(){return dL||(dL=1,function(t){(function(e,a,n){var r=256,s=6,i=52,o="random",c=n.pow(r,s),l=n.pow(2,i),u=l*2,d=r-1,p;function m(A,S,C){var E=[];S=S==!0?{entropy:!0}:S||{};var R=k(v(S.entropy?[A,_(a)]:A??b(),3),E),I=new g(E),P=function(){for(var D=I.g(s),B=c,U=0;D<l;)D=(D+U)*r,B*=r,U=I.g(1);for(;D>=u;)D/=2,B/=2,U>>>=1;return(D+U)/B};return P.int32=function(){return I.g(4)|0},P.quick=function(){return I.g(4)/4294967296},P.double=P,k(_(I.S),a),(S.pass||C||function(D,B,U,V){return V&&(V.S&&x(V,I),D.state=function(){return x(I,{})}),U?(n[o]=D,B):D})(P,R,"global"in S?S.global:this==n,S.state)}function g(A){var S,C=A.length,E=this,R=0,I=E.i=E.j=0,P=E.S=[];for(C||(A=[C++]);R<r;)P[R]=R++;for(R=0;R<r;R++)P[R]=P[I=d&I+A[R%C]+(S=P[R])],P[I]=S;(E.g=function(D){for(var B,U=0,V=E.i,j=E.j,W=E.S;D--;)B=W[V=d&V+1],U=U*r+W[d&(W[V]=W[j=d&j+B])+(W[j]=B)];return E.i=V,E.j=j,U})(r)}function x(A,S){return S.i=A.i,S.j=A.j,S.S=A.S.slice(),S}function v(A,S){var C=[],E=typeof A,R;if(S&&E=="object")for(R in A)try{C.push(v(A[R],S-1))}catch{}return C.length?C:E=="string"?A:A+"\0"}function k(A,S){for(var C=A+"",E,R=0;R<C.length;)S[d&R]=d&(E^=S[d&R]*19)+C.charCodeAt(R++);return _(S)}function b(){try{var A;return p&&(A=p.randomBytes)?A=A(r):(A=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(A)),_(A)}catch{var S=e.navigator,C=S&&S.plugins;return[+new Date,e,C,e.screen,_(a)]}}function _(A){return String.fromCharCode.apply(0,A)}if(k(n.random(),a),t.exports){t.exports=m;try{p=cde}catch{}}else n["seed"+o]=m})(typeof self<"u"?self:lde,[],Math)}(Ok)),Ok.exports}var hS,hL;function fde(){if(hL)return hS;hL=1;var t=Xfe(),e=Zfe(),a=Qfe(),n=tde(),r=nde(),s=sde(),i=ude();return i.alea=t,i.xor128=e,i.xorwow=a,i.xorshift7=n,i.xor4096=r,i.tychei=s,hS=i,hS}var C_=fde();/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u3{constructor(e,a,n,r,s){this.mean=e,this.stdDev=a,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const i=s||Math.random();this.random=C_.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const r=this.nextVal;return this.nextVal=NaN,r}let e,a,n=!1;for(;!n;){let r,s,i;do r=2*this.random()-1,s=2*this.random()-1,i=r*r+s*s;while(i>=1||i===0);const o=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*o,a=this.mean+this.stdDev*s*o,(!this.truncated||this.isValidTruncated(e))&&(n=!0)}return(!this.truncated||this.isValidTruncated(a))&&(this.nextVal=this.convertValue(a)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class dde{constructor(e,a,n,r){this.alpha=e,this.beta=1/a,this.dtype=n;const s=r||Math.random();this.randu=C_.alea(s.toString()),this.randn=new u3(0,1,n,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,a,n,r,s,i;for(;;){do r=this.randn.nextValue(),i=1+this.c*r;while(i<=0);if(i*=i*i,e=r*r,a=1-.331*e*e,n=.5*e+this.d*(1-i+Math.log(i)),s=this.randu(),s<a||Math.log(s)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class hde{constructor(e=0,a=1,n,r){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=a-e,this.dtype=n,r==null&&(r=Math.random()),typeof r=="number"&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${a} <= 1 and dtype is not float`);this.random=C_.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pde(t,e,a=1,n="float32",r){if(ki(t),a==null&&(a=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error(`Unsupported data type ${n}`);const s=new dde(e,a,n,r),i=ra(t,n);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}const mde=he({randomGamma_:pde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gde(t,e=0,a=1,n,r){if(ki(t),n!=null&&n==="bool")throw new Error(`Unsupported data type ${n}`);const s=new u3(e,a,n,!1,r),i=ra(t,n);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}const f3=he({randomNormal_:gde});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yde(t,e,a){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return f3(t,0,1,e,a)}const vde=he({randomStandardNormal_:yde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xde(t,e=0,a=1,n="float32",r){ki(t);const s=ra(t,n),i=new hde(e,a,null,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}const Wd=he({randomUniform_:xde});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kde(t,e,a,n){return Wd(t,e,a,"int32",n)}const wde=he({randomUniformInt_:kde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vp(t,e,a=1,n="float32"){if(a===0)throw new Error("Cannot have a step of zero");const r={start:t,stop:e,step:a,dtype:n};return pe.runKernel(NI,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bde(t){const a={input:X(t,"input","real")};return pe.runKernel(SI,a)}const Wg=he({real_:bde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _de(t){const a={x:X(t,"x","reciprocal")};return pe.runKernel(f1,a)}const PG=he({reciprocal_:_de});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ade(t){const a={x:X(t,"x","relu")};return pe.runKernel(d1,a)}const Cc=he({relu_:Ade});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nde(t){const a={x:X(t,"x","relu6")};return pe.runKernel(h1,a)}const d3=he({relu6_:Nde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sde(t,e){const n={x:X(t,"x","reverse")},r={dims:e};return pe.runKernel(s_,n,r)}const ao=he({reverse_:Sde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tde(t){const e=X(t,"x","reverse");return K(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),ao(e,0)}const Ede=he({reverse1d_:Tde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cde(t,e){const a=X(t,"x","reverse");return K(a.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${a.rank}.`),ao(a,e)}const Ide=he({reverse2d_:Cde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rde(t,e){const a=X(t,"x","reverse");return K(a.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${a.rank}.`),ao(a,e)}const Dde=he({reverse3d_:Rde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pde(t,e){const a=X(t,"x","reverse");return K(a.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${a.rank}.`),ao(a,e)}const Fde=he({reverse4d_:Pde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ode(t){const a={x:X(t,"x","round")};return pe.runKernel(p1,a)}const h3=he({round_:Ode});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $de(t){const a={x:X(t,"x","rsqrt","float32")};return pe.runKernel(m1,a)}const p3=he({rsqrt_:$de});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lde(t){const a={x:X(t,"x","selu")};return pe.runKernel(g1,a)}const m3=he({selu_:Lde});function Mde(t,e,a,n,r,s=[1,1],i="NHWC"){const o=X(t,"x","separableConv2d"),c=X(e,"depthwiseFilter","separableConv2d"),l=X(a,"pointwiseFilter","separableConv2d");let u=o,d=!1;if(o.rank===3&&(d=!0,u=ve(o,[1,o.shape[0],o.shape[1],o.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");K(u.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`),K(c.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${c.rank}.`),K(l.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${c.rank}.`),K(l.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${l.shape[0]}.`),K(l.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${l.shape[1]}.`);const p=c.shape[2],m=c.shape[3];K(l.shape[2]===p*m,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${p*m}, but got ${l.shape[2]}.`);const g=D1(u,c,n,r,i,s),v=Su(g,l,1,"valid",i);return d?ve(v,[v.shape[1],v.shape[2],v.shape[3]]):v}const g3=he({separableConv2d_:Mde});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Bde(t,e){const a=X(t,"x","setdiff1d"),n=X(e,"y","setdiff1d");K(a.dtype===n.dtype,()=>`x and y should have the same dtype, but got x (${a.dtype}) and y (${n.dtype}).`),K(a.rank===1,()=>`x should be 1D tensor, but got x (${a.shape}).`),K(n.rank===1,()=>`y should be 1D tensor, but got y (${n.shape}).`);const r=await a.data(),s=await n.data(),i=new Set(s);let o=0;for(let u=0;u<r.length;u++)i.has(r[u])||o++;const c=new rr([o],a.dtype),l=new rr([o],"int32");for(let u=0,d=0;u<r.length;u++)i.has(r[u])||(c.values[d]=r[u],l.values[d]=u,d++);return[c.toTensor(),l.toTensor()]}const zde=Bde;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gde(t){const a={x:X(t,"x","sign")};return pe.runKernel(x1,a)}const FG=he({sign_:Gde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ude(t){const a={x:X(t,"x","sin","float32")};return pe.runKernel(y1,a)}const y3=he({sin_:Ude});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wde(t){const a={x:X(t,"x","sinh")};return pe.runKernel(v1,a)}const v3=he({sinh_:Wde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vde(t,e,a){const n=X(t,"x","slice1d");return K(n.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${n.rank} tensor`),Na(n,[e],[a])}const I_=he({slice1d_:Vde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jde(t,e,a){const n=X(t,"x","slice2d");return K(n.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${n.rank} tensor`),Na(n,e,a)}const x3=he({slice2d_:jde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hde(t,e,a){const n=X(t,"x","slice3d");return K(n.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${n.rank} tensor`),Na(n,e,a)}const R_=he({slice3d_:Hde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kde(t,e,a){const n=X(t,"x","slice4d");return K(n.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${n.rank} tensor`),Na(n,e,a)}const Vg=he({slice4d_:Kde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qde(t,e=-1){const a=X(t,"logits","softmax","float32");if(e===-1&&(e=a.rank-1),e!==a.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a.rank} and dim was ${e}`);const n={logits:a},r={dim:e};return pe.runKernel(f_,n,r)}const D_=he({softmax_:qde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xde(t){K(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return pe.runKernel(oI,e)}const P_=he({fft_:Xde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yde(t){K(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return pe.runKernel(fI,e)}const jg=he({ifft_:Yde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zde(t){const e=t.shape[t.shape.length-1],a=t.size/e;let n;if(e<=2){const r=ve(t,[a,e]);n=jg(r)}else{const r=[a,2*(e-1)],s=ve(Wg(t),[a,e]),i=ve(k_(t),[a,e]),o=ao(Na(s,[0,1],[a,e-2]),1),c=me(ao(Na(i,[0,1],[a,e-2]),1),Pt(-1)),l=En([s,o],1),u=En([i,c],1),d=ve(_u(l,u),[r[0],r[1]]);n=jg(d)}if(n=Wg(n),t.rank===3&&t.shape[0]!==0){const r=n,s=t.shape[0];n=ve(n,[s,n.shape[0]/s,n.shape[1]]),r.dispose()}return n}const k3=he({irfft_:Zde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jde(t,e,a=0){const r={x:X(t,"x","split")},s={numOrSizeSplits:e,axis:a};return pe.runKernel(u_,r,s)}const Ks=he({split_:Jde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qde(t,e){K(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let a=t.shape[t.shape.length-1];const n=t.size/a;let r;if(e!=null&&e<a){const g=t.shape.map(v=>0),x=t.shape.map(v=>v);x[t.shape.length-1]=e,r=Na(t,g,x),a=e}else if(e!=null&&e>a){const g=t.shape.map(x=>x);g[t.shape.length-1]=e-a,r=En([t,tr(g)],t.shape.length-1),a=e}else r=t;const s=Ea(r),i=ve(_u(r,s),[n,a]),o=P_(i),c=Math.floor(a/2)+1,l=Wg(o),u=k_(o),d=Ks(l,[c,a-c],l.shape.length-1),p=Ks(u,[c,a-c],u.shape.length-1),m=r.shape.slice();return m[r.shape.length-1]=c,ve(_u(d[0],p[0]),m)}const F_=he({rfft_:Qde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ehe(t,e){let a=X(t,"a","squaredDifference"),n=X(e,"b","squaredDifference");[a,n]=Cn(a,n),Xt(a.shape,n.shape);const r={a,b:n},s={};return pe.runKernel(_1,r,s)}const w3=he({squaredDifference_:ehe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function the(t,e){const a=X(t,"x","squeeze","string_or_numeric");return ve(a,Gu(a.shape,e).newShape)}const Vd=he({squeeze_:the});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ahe(t,e=0){const a=rw(t,"tensors","stack","string_or_numeric");K(a.length>=1,()=>"Pass at least one tensor to tf.stack"),a.length>0&&K(e<=a[0].rank,()=>"Axis must be <= rank of the tensor");const n=a,r={axis:e};return pe.runKernel(Jb,n,r)}const Zs=he({stack_:ahe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nhe(t,e=0){const n={x:X(t,"x","step")},r={alpha:e};return pe.runKernel(E1,n,r)}const ym=he({step_:nhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rhe(t,e,a,n,r=0,s=0,i=0,o=0,c=0){const u={x:X(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:a,strides:n,beginMask:r,endMask:s,ellipsisMask:i,newAxisMask:o,shrinkAxisMask:c};return pe.runKernel(MI,u,d)}const OG=he({stridedSlice_:rhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function she(t){const a={x:X(t,"x","tan","float32")};return pe.runKernel(N1,a)}const $G=he({tan_:she});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ds(t,e){fm(t);const a=Wu(t,e);if(a.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Vu(t,null,a,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cg(t,e,a){if(fm(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const n=Wu(t,a);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Vu(t,e,n,a)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LG(t,e,a){if(fm(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const n=Wu(t,a);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Vu(t,e,n,a)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ihe(t,e,a){if(fm(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const n=Wu(t,a);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Vu(t,e,n,a)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ohe(t,e,a){if(fm(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const n=Wu(t,a);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Vu(t,e,n,a)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function che(t,e,a){if(fm(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const n=Wu(t,a);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||n,Vu(t,e,n,a)}function MG(t,e,a){const n=e.rank>1?e.shape[e.rank-1]:1,r=e.rank>1?e.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${a.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${n}, and batchDim: ${r}.`;if(a.rank<r)throw new Error(s+` update.rank < ${r}. `);if(t.length<n+(a.rank-r))throw new Error(s+` Output shape length < ${n+(a.rank-r)}`);if(a.rank!==r+t.length-n)throw new Error(s+` update.rank != ${r+t.length-n}`);for(let i=0;i<r;++i)if(a.shape[i]!==e.shape[i])throw new Error(s+` updates.shape[${i}] (${a.shape[i]}) != indices.shape[${i}] (${e.shape[i]}).`);for(let i=0;i<a.rank-r;++i)if(a.shape[i+r]!==t[i+n])throw new Error(s+` updates.shape[${i+r}] (${a.shape[i+r]}) != shape[${i+r}] (${t[i+r]})`)}function b3(t,e,a){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(a.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${a}`);if(a.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}MG(a,e,t)}function jd(t,e,a){const n=e.shape.length,r=n>1?e.shape[n-1]:1,s=a.length;let i=1;for(let d=r;d<s;++d)i*=a[d];const o=r<1?1:r,c=Me(e.shape)/o,l=[...Dt(a.slice(0,r)),1],u=Me(a);return{sliceRank:r,numUpdates:c,sliceSize:i,strides:l,outputSize:u}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lhe(t,e,a){const n=X(t,"tensor","tensorScatterupdate"),r=X(e,"indices","tensorScatterupdate","int32"),s=X(a,"updates","tensorScatterupdate");if(b3(s,r,n.shape),n.dtype!==s.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${n.dtype} and ${s.dtype}.`);const i={tensor:n,indices:r,updates:s},o={};return pe.runKernel(II,i,o)}const uhe=he({tensorScatterUpdate_:lhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fhe(t,e=1,a=!0){const n=X(t,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const r=n.shape[n.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${e}`);const s={x:n},i={k:e,sorted:a},[o,c]=pe.runKernel(UI,s,i);return{values:o,indices:c}}const BG=he({topk_:fhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dhe(t,e=0,a=1,n,r){if(ki(t),n!=null&&n==="bool")throw new Error("Unsupported data type $ { dtype }");const s=new u3(e,a,n,!0,r),i=ra(t,n);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}const _3=he({truncatedNormal_:dhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hhe(t,e=0){const a=X(t,"x","unique","string_or_numeric");K(a.rank>0,()=>"The input tensor must be at least 1D");const n={x:a},r={axis:e},[s,i]=pe.runKernel(VI,n,r);return{values:s,indices:i}}const zG=he({unique_:hhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function phe(t,e,a){const n=X(t,"x","unsortedSegmentSum"),r=X(e,"segmentIds","unsortedSegmentSum","int32");K(zp(a),()=>"numSegments must be of dtype int");const s={x:n,segmentIds:r},i={numSegments:a};return pe.runKernel(p_,s,i)}const A3=he({unsortedSegmentSum_:phe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mhe(t,e=0){const a=X(t,"x","unstack","string_or_numeric");K(e>=-a.shape.length&&e<a.shape.length,()=>`Axis = ${e} is not in [-${a.shape.length}, ${a.shape.length})`);const n={value:a},r={axis:e};return pe.runKernel(h_,n,r)}const no=he({unstack_:mhe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ghe(t,e){return c3(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GG(t,e=!0,a,n){return pe.makeVariable(t,e,a,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N3(t,e){const a=[];for(let s=0;s<e.length;s++)e[s]&&a.push(s);const n=ra(t,"int32"),r=ra([a.length,t.length],"int32");for(let s=0;s<a.length;s++){const i=n.indexToLoc(a[s]),o=s*t.length;r.values.set(i,o)}return r.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function yhe(t){const e=X(t,"condition","whereAsync","bool"),a=await e.data(),n=N3(e.shape,a);return t!==e&&e.dispose(),n}const UG=yhe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function vhe(t,e,a){const n=X(t,"tensor","boolMask"),r=X(e,"mask","boolMask","bool"),s=a??0,i=r.rank,o=n.shape;K(i>0,()=>"mask cannot be scalar"),ti(o.slice(s,s+i),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let c=1;for(let x=s;x<s+i;x++)c*=o[x];const l=o.slice(0,s).concat([c],o.slice(s+i)),u=ve(n,l),d=ve(r,[-1]),p=await UG(d),m=Vd(p,[1]),g=$1(u,m,s);return t!==n&&n.dispose(),e!==r&&r.dispose(),m.dispose(),u.dispose(),d.dispose(),p.dispose(),g}const xhe=vhe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function khe(t,e,a){const n=X(t,"x","transpose");if(e==null&&(e=n.shape.map((i,o)=>o).reverse()),K(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${e}.`),e.forEach(i=>{K(i>=0&&i<n.rank,()=>`All entries in 'perm' must be between 0 and ${n.rank-1} but got ${e}`)}),n.rank<=1)return n.clone();const r={x:n},s={perm:e};return n.dtype==="complex64"?Ne(()=>{let i=Wg(n),o=k_(n);return i=pe.runKernel(_p,{x:i},s),o=pe.runKernel(_p,{x:o},s),a&&(o=fn(o)),_u(i,o)}):pe.runKernel(_p,r,s)}const Ta=he({transpose_:khe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function whe(t,e,a,n,r=!0){const s=X(t,"v","movingAverage"),i=X(e,"x","movingAverage"),o=X(a,"decay","movingAverage");cce(s,i),K(_a(s.shape,i.shape),()=>"Shape mismatch in v and x");const c=Pt(1),l=pt(c,o);let u=me(pt(i,s),l);if(r){K(n!=null,()=>"When using zeroDebias: true, step is required.");const d=X(n,"step","movingAverage");u=wt(u,pt(c,ml(o,d)))}return qe(s,u)}const bhe=he({movingAverage_:whe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _he(t,e,a){ki(a);const n=X(t,"indices","scatterND","int32"),r=X(e,"updates","scatterND");b3(r,n,a);const s={indices:n,updates:r},i={shape:a};return pe.runKernel(CI,s,i)}const Ahe=he({scatterND_:_he});function Nhe(t,e,a,n){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const r=t.rank>0?t.shape[0]:1,s=t.rank>1?t.shape[1]:1;if(a.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${a.length}, should be: ${s}.`);const i=e.size;if(!(e.rank===0||e.rank===1&&i===r))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${r}]`);if(e.dtype!==n.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function She(t,e,a,n=0){ki(a);const r=X(t,"sparseIndices","sparseToDense","int32"),s=X(e,"sparseValues","sparseToDense","string_or_numeric"),i=X(n,"defaultValue","sparseToDense",s.dtype);Nhe(r,s,a,i);const o={sparseIndices:r,sparseValues:s,defaultValue:i},c={outputShape:a};return pe.runKernel($I,o,c)}const The=he({sparseToDense_:She});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ehe(t,e){const a=X(e,"indices","gatherND","int32"),r={params:X(t,"x","gatherND","string_or_numeric"),indices:a};return pe.runKernel(uI,r)}const Che=he({gatherND_:Ehe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ihe(t,e){if(e==null)return t.shape.slice();if(_a(t.shape,e))return e;if(t.shape.length===e.length){const a=[];for(let n=0;n<t.shape.length;n++)e[n]==null&&t.shape[n]!=null?a.push(t.shape[n]):a.push(e[n]);return a}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rhe(t,e,a,n){const r=X(t,"x","dropout");if(K(r.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`),K(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof gn?r.clone():r;const s=Ihe(r,a),i=1-e,o=wt(O1(qe(Wd(s,0,1,"float32",n),i)),i);return me(r,o)}const WG=he({dropout_:Rhe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VG(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function S3(t,e,a){const n=1-t%2,r=new Float32Array(t);for(let s=0;s<t;++s){const i=2*Math.PI*s/(t+n-1);r[s]=e-a*Math.cos(i)}return ds(r,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Dhe(t,e,a=1){const n=X(t,"predictions","inTopK"),r=X(e,"targets","inTopK");K(n.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${n.rank}`),K(n.rank-1===r.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${n.rank} and targets rank ${r.rank}`),ti(n.shape.slice(0,n.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const s=n.shape[n.shape.length-1];K(a>0&&a<=s,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${s}), but got ${a}`);const i=await n.data(),o=await r.data(),[c,l]=[i.length/s,s],u=$r("bool",c);for(let d=0;d<c;d++){const p=d*l,m=i.subarray(p,p+l),g=[];for(let x=0;x<m.length;x++)g.push({value:m[x],index:x});g.sort((x,v)=>v.value-x.value),u[d]=0;for(let x=0;x<a;x++)if(g[x].index===o[d]){u[d]=1;break}}return t!==n&&n.dispose(),e!==r&&r.dispose(),So(u,r.shape,"bool")}const Phe=Dhe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fhe(t,e,a,n,r,s="NHWC",i){let o=t;t.rank===3&&(o=ve(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let c=e;c.rank===3&&(c=ve(e,[1,e.shape[0],e.shape[1],e.shape[2]])),K(o.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),K(c.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${c.shape}.`),K(a.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${a}.`);const l=s==="NHWC"?o.shape[3]:o.shape[1],u=s==="NHWC"?c.shape[3]:c.shape[1];K(l===a[2],()=>`Error in conv2dDerFilter: depth of input ${l}) must match input depth in filter (${a[2]}.`),K(u===a[3],()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${a[3]}).`),xs("conv2dDerFilter",r,i);const d={x:o,dy:c},p={strides:n,pad:r,dataFormat:s,dimRoundingMode:i,filterShape:a};return pe.runKernel(XC,d,p)}const T3=he({conv2DBackpropFilter_:Fhe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O_(t,e,a){if(a==null||a==="linear")return t;if(a==="relu")return me(t,ym(e));throw new Error(`Cannot compute gradient for fused activation ${a}.`)}function $_(t,e){let a=e;const n=cr(t.shape,e.shape);return n.length>0&&(a=yt(a,n)),ve(a,t.shape)}function L_(t,e,a,n){if(e==="linear")return t;if(e==="relu")return Cc(t);if(e==="elu")return P1(t);if(e==="relu6")return d3(t);if(e==="prelu")return E_(t,a);if(e==="leakyrelu")return w_(t,n);if(e==="sigmoid")return pc(t);throw new Error(`Unknown fused activation ${e}.`)}const M_=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ohe({x:t,filter:e,strides:a,pad:n,dataFormat:r="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:o,activation:c="linear",preluActivationWeights:l,leakyreluAlpha:u}){if(c=c||"linear",M_(pe.state.gradientDepth,c)===!1){K(r==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let C=Su(t,e,a,n,r,s,i);return o!=null&&(C=qe(C,o)),L_(C,c,l,u)}const d=X(t,"x","conv2d","float32"),p=X(e,"filter","conv2d","float32");let m=d,g=!1;d.rank===3&&(g=!0,m=ve(d,[1,d.shape[0],d.shape[1],d.shape[2]])),K(m.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${m.rank}.`),K(p.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${p.rank}.`),xs("fused conv2d",n,i);const x=r==="NHWC"?m.shape[3]:m.shape[1];K(p.shape[2]===x,()=>`Error in conv2d: depth of input (${x}) must match input depth for filter ${p.shape[2]}.`),K(Mr(a,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${a} and dilations '${s}'`);const v=br(m.shape,p.shape,a,s,n,i);let k;o!=null&&(k=X(o,"bias","fused conv2d"),[k]=Cn(k,d),r==="NHWC"?Xt(v.outShape,k.shape):(K(k.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${k.shape.length}.`),K(k.shape.length===0||k.shape[0]===v.outChannels||k.shape[0]===1,()=>`Error in fused conv2d: bias shape (${k.shape}) is not compatible with the number of output channels (${v.outChannels})`)));let b;if(l!=null){const C=l.shape;if(K(C.length<=1||C.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${C.length}.`),C.length===1)K(C[0]===1||C[0]===v.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${C}) is not compatible with the number of output channels (${v.outChannels}).`);else if(C.length===3)try{Xt(C,v.outShape)}catch{const R=`Error in fused conv2d: PReLU activation weights (${C}) is not compatible with the output shape of the conv2d (${v.outShape}).`;throw Error(R)}b=X(l,"prelu weights","fused conv2d")}const _=(C,E)=>{K(r==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`);const[R,I,P,D]=E,B=O_(C,P,c);K(Nu(s),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);const U=QI(I.shape,B,R,a,n),V=T3(I,B,R.shape,a,n),j=[U,V];if(D!=null){const W=$_(D,B);j.push(W)}return j},A={x:m,filter:p,bias:k,preluActivationWeights:b},S={strides:a,pad:n,dataFormat:r,dilations:s,dimRoundingMode:i,activation:c,leakyreluAlpha:u};return o==null?gl((E,R,I)=>{let P=pe.runKernel(ew,A,S);return I([R,E,P]),g&&(P=ve(P,[P.shape[1],P.shape[2],P.shape[3]])),{value:P,gradFunc:_}})(m,p):gl((E,R,I,P)=>{let D=pe.runKernel(ew,A,S);return P([R,E,D,I]),g&&(D=ve(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:_}})(m,p,k)}const jG=he({fusedConv2d_:Ohe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $he(t,e,a,n,r,s=[1,1],i){let o=t;t.rank===3&&(o=ve(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let c=e;c.rank===3&&(c=ve(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const l={x:o,dy:c},u={strides:n,pad:r,dimRoundingMode:i,dilations:s,filterShape:a};return pe.runKernel(aI,l,u)}const HG=he({depthwiseConv2dNativeBackpropFilter_:$he});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lhe(t,e,a,n,r,s=[1,1],i){let o=e,c=!1;e.rank===3&&(c=!0,o=ve(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const l={dy:o,filter:a},u={strides:n,pad:r,dimRoundingMode:i,dilations:s,inputShape:t},d=pe.runKernel(nI,l,u);return c?ve(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const KG=he({depthwiseConv2dNativeBackpropInput_:Lhe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mhe({x:t,filter:e,strides:a,pad:n,dataFormat:r="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:o,activation:c="linear",preluActivationWeights:l,leakyreluAlpha:u}){if(M_(pe.state.gradientDepth,c)===!1){let S=D1(t,e,a,n,r,s,i);return o!=null&&(S=qe(S,o)),L_(S,c,l,u)}const d=X(t,"x","depthwiseConv2d","float32"),p=X(e,"filter","depthwiseConv2d","float32");let m=d,g=!1;d.rank===3&&(g=!0,m=ve(d,[1,d.shape[0],d.shape[1],d.shape[2]])),K(m.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`),K(p.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${p.rank}.`),K(m.shape[3]===p.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`),s==null&&(s=[1,1]),K(Mr(a,s),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${s}'`),xs("fused depthwiseConv2d",n,i);const x=br(m.shape,p.shape,a,s,n,i,!0);let v;o!=null&&(v=X(o,"bias","fused conv2d"),[v]=Cn(v,d),Xt(x.outShape,v.shape));let k;l!=null&&(k=X(l,"prelu weights","fused depthwiseConv2d"));const b=(S,C)=>{K(Nu(s),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);const[E,R,I,P]=C,D=O_(S,I,c),B=KG(R.shape,D,E,a,n,s,i),U=HG(R,D,E.shape,a,n,s,i);if(P!=null){const V=$_(v,D);return[B,U,V]}return[B,U]},_={x:m,filter:p,bias:v,preluActivationWeights:k},A={strides:a,pad:n,dataFormat:r,dilations:s,dimRoundingMode:i,activation:c,leakyreluAlpha:u};return o==null?gl((C,E,R)=>{let I=pe.runKernel(tw,_,A);return R([E,C,I]),g&&(I=ve(I,[I.shape[1],I.shape[2],I.shape[3]])),{value:I,gradFunc:b}})(m,p):gl((C,E,R,I)=>{let P=pe.runKernel(tw,_,A);return I([E,C,P,R]),g&&(P=ve(P,[P.shape[1],P.shape[2],P.shape[3]])),{value:P,gradFunc:b}})(m,p,v)}const Bhe=he({fusedDepthwiseConv2d_:Mhe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zhe({a:t,b:e,transposeA:a=!1,transposeB:n=!1,bias:r,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:o=.2}){if(M_(pe.state.gradientDepth,s)===!1){let D=ya(t,e,a,n);return r!=null&&(D=qe(D,r)),L_(D,s,i,o)}let c=X(t,"a","fused matMul"),l=X(e,"b","fused matMul");[c,l]=Cn(c,l);const u=a?c.shape[c.rank-2]:c.shape[c.rank-1],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=a?c.shape[c.rank-1]:c.shape[c.rank-2],m=n?l.shape[l.rank-2]:l.shape[l.rank-1],g=c.shape.slice(0,-2),x=l.shape.slice(0,-2),v=Me(g),k=Me(x);K(u===d,()=>`Error in fused matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${c.shape} and ${l.shape} and transposeA=${a} and transposeB=${n} must match.`);const _=Xt(c.shape.slice(0,-2),l.shape.slice(0,-2)).concat([p,m]),A=a?ve(c,[v,u,p]):ve(c,[v,p,u]),S=n?ve(l,[k,m,d]):ve(l,[k,d,m]);let C;r!=null&&(C=X(r,"bias","fused matMul"),[C]=Cn(C,c),Xt(_,C.shape));let E;i!=null&&(E=X(i,"prelu weights","fused matMul"));const R=(D,B)=>{const[U,V,j,W]=B,Q=O_(ve(D,j.shape),j,s);let q,Z;if(!a&&!n?(q=ya(Q,V,!1,!0),Z=ya(U,Q,!0,!1)):!a&&n?(q=ya(Q,V,!1,!1),Z=ya(Q,U,!0,!1)):a&&!n?(q=ya(V,Q,!1,!0),Z=ya(U,Q,!1,!1)):(q=ya(V,Q,!0,!0),Z=ya(Q,U,!0,!0)),r!=null){const M=$_(W,Q);return[q,Z,M]}else return[q,Z]},I={a:A,b:S,bias:C,preluActivationWeights:E},P={transposeA:a,transposeB:n,activation:s,leakyreluAlpha:o};return r==null?gl((B,U,V)=>{const j=pe.runKernel(Qk,I,P);return V([B,U,j]),{value:ve(j,_),gradFunc:R}})(A,S):gl((B,U,V,j)=>{const W=pe.runKernel(Qk,I,P);return j([B,U,W,V]),{value:ve(W,_),gradFunc:R}})(A,S,C)}const eE=he({fusedMatMul_:zhe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ghe=Object.freeze(Object.defineProperty({__proto__:null,conv2d:jG,depthwiseConv2d:Bhe,matMul:eE},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uhe(t){return S3(t,.54,.46)}const Whe=he({hammingWindow_:Uhe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vhe(t){return S3(t,.5,.5)}const qG=he({hannWindow_:Vhe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jhe(t,e,a,n=!1,r=0){let s=0;const i=[];for(;s+e<=t.size;)i.push(Na(t,s,e)),s+=a;if(n)for(;s<t.size;){const o=s+e-t.size,c=En([Na(t,s,e-o),mm([o],r)]);i.push(c),s+=a}return i.length===0?cg([],[0,e]):ve(En(i),[i.length,e])}const XG=he({frame_:jhe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hhe(t,e,a,n,r=qG){n==null&&(n=VG(e));const s=XG(t,e,a),i=me(s,r(e));return F_(i,n)}const Khe=he({stft_:Hhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qhe(t,e,a,n,r="bilinear",s=0){const i=X(t,"image","cropAndResize"),o=X(e,"boxes","cropAndResize","float32"),c=X(a,"boxInd","cropAndResize","int32"),l=o.shape[0];K(i.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`),K(o.rank===2&&o.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${l},4] but had shape ${o.shape}.`),K(c.rank===1&&c.shape[0]===l,()=>`Error in cropAndResize: boxInd must be have size [${l}] but had shape ${o.shape}.`),K(n.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${n.length}.`),K(n[0]>=1&&n[1]>=1,()=>`cropSize must be atleast [1,1], but was ${n}`),K(r==="bilinear"||r==="nearest",()=>`method must be bilinear or nearest, but was ${r}`);const u={image:i,boxes:o,boxInd:c},d={method:r,extrapolationValue:s,cropSize:n};return pe.runKernel(QC,u,d)}const Xhe=he({cropAndResize_:qhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yhe(t){const e=X(t,"image","flipLeftRight","float32");K(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const a={image:e};return pe.runKernel(lI,a,{})}const Zhe=he({flipLeftRight_:Yhe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jhe(t){const e=X(t,"image","grayscaleToRGB"),a=e.rank-1,n=e.shape[a];K(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),K(n===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${n}.`);const r=new Array(e.rank);return r.fill(1,0,a),r[a]=3,Hi(e,r)}const Qhe=he({grayscaleToRGB_:Jhe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function epe(t){const e=X(t,"image","RGBToGrayscale"),a=e.rank-1,n=e.shape[a];K(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),K(n===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${n}.`);const r=e.dtype,s=ut(e,"float32"),i=ds([.2989,.587,.114]);let o;switch(e.rank){case 2:o=pp("ij,j->i",s,i);break;case 3:o=pp("ijk,k->ij",s,i);break;case 4:o=pp("ijkl,l->ijk",s,i);break;case 5:o=pp("ijklm,m->ijkl",s,i);break;case 6:o=pp("ijklmn,n->ijklm",s,i);break;default:throw new Error("Not a valid tensor rank.")}return o=cs(o,-1),ut(o,r)}const tpe=he({rgbToGrayscale_:epe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ape(t,e,a=0,n=.5){const r=X(t,"image","rotateWithOffset","float32");K(r.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`);const s={image:r},i={radians:e,fillValue:a,center:n};return pe.runKernel(jI,s,i)}const npe=he({rotateWithOffset_:ape});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vm(t,e,a,n,r,s){n==null&&(n=.5),r==null&&(r=Number.NEGATIVE_INFINITY),s==null&&(s=0);const i=t.shape[0];return a=Math.min(a,i),K(0<=n&&n<=1,()=>`iouThreshold must be in [0, 1], but was '${n}'`),K(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),K(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),K(e.rank===1,()=>"scores must be a 1D tensor"),K(e.shape[0]===i,()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${e.shape[0]}`),K(0<=s&&s<=1,()=>`softNmsSigma must be in [0, 1], but was '${s}'`),{maxOutputSize:a,iouThreshold:n,scoreThreshold:r,softNmsSigma:s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rpe(t,e,a,n=.5,r=Number.NEGATIVE_INFINITY){const s=X(t,"boxes","nonMaxSuppression","float32"),i=X(e,"scores","nonMaxSuppression","float32"),o=vm(s,i,a,n,r);a=o.maxOutputSize,n=o.iouThreshold,r=o.scoreThreshold;const c={maxOutputSize:a,iouThreshold:n,scoreThreshold:r};return pe.runKernel(xI,{boxes:s,scores:i},c)}const spe=he({nonMaxSuppression_:rpe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ipe(t,e,a){const n=ope(t,e,a),r=n<0?-(n+1):n;t.splice(r,0,e)}function ope(t,e,a){return lpe(t,e,a||cpe)}function cpe(t,e){return t>e?1:t<e?-1:0}function lpe(t,e,a){let n=0,r=t.length,s=0,i=!1;for(;n<r;){s=n+(r-n>>>1);const o=a(e,t[s]);o>0?n=s+1:(r=s,i=!o)}return i?n:-n-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E3(t,e,a,n,r){return R3(t,e,a,n,r,0)}function C3(t,e,a,n,r,s){return R3(t,e,a,n,r,0,!1,s,!0)}function I3(t,e,a,n,r,s){return R3(t,e,a,n,r,s,!0)}function R3(t,e,a,n,r,s,i=!1,o=!1,c=!1){const l=[];for(let v=0;v<e.length;v++)e[v]>r&&l.push({score:e[v],boxIndex:v,suppressBeginIndex:0});l.sort(pL);const u=s>0?-.5/s:0,d=[],p=[];for(;d.length<a&&l.length>0;){const v=l.pop(),{score:k,boxIndex:b,suppressBeginIndex:_}=v;if(k<r)break;let A=!1;for(let S=d.length-1;S>=_;--S){const C=upe(t,b,d[S]);if(C>=n){A=!0;break}if(v.score=v.score*fpe(n,u,C),v.score<=r)break}v.suppressBeginIndex=d.length,A||(v.score===k?(d.push(b),p.push(v.score)):v.score>r&&ipe(l,v,pL))}const m=d.length,g=a-m;o&&g>0&&(d.push(...new Array(g).fill(0)),p.push(...new Array(g).fill(0)));const x={selectedIndices:d};return i&&(x.selectedScores=p),c&&(x.validOutputs=m),x}function upe(t,e,a){const n=t.subarray(e*4,e*4+4),r=t.subarray(a*4,a*4+4),s=Math.min(n[0],n[2]),i=Math.min(n[1],n[3]),o=Math.max(n[0],n[2]),c=Math.max(n[1],n[3]),l=Math.min(r[0],r[2]),u=Math.min(r[1],r[3]),d=Math.max(r[0],r[2]),p=Math.max(r[1],r[3]),m=(o-s)*(c-i),g=(d-l)*(p-u);if(m<=0||g<=0)return 0;const x=Math.max(s,l),v=Math.max(i,u),k=Math.min(o,d),b=Math.min(c,p),_=Math.max(k-x,0)*Math.max(b-v,0);return _/(m+g-_)}function fpe(t,e,a){const n=Math.exp(e*a*a);return a<=t?n:0}function pL(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function dpe(t,e,a,n=.5,r=Number.NEGATIVE_INFINITY){const s=X(t,"boxes","nonMaxSuppressionAsync"),i=X(e,"scores","nonMaxSuppressionAsync"),o=vm(s,i,a,n,r);a=o.maxOutputSize,n=o.iouThreshold,r=o.scoreThreshold;const c=await Promise.all([s.data(),i.data()]),l=c[0],u=c[1],{selectedIndices:d}=E3(l,u,a,n,r);return s!==t&&s.dispose(),i!==e&&i.dispose(),ds(d,"int32")}const hpe=dpe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ppe(t,e,a,n=.5,r=Number.NEGATIVE_INFINITY,s=0){const i=X(t,"boxes","nonMaxSuppression"),o=X(e,"scores","nonMaxSuppression"),c=vm(i,o,a,n,r,s);a=c.maxOutputSize,n=c.iouThreshold,r=c.scoreThreshold,s=c.softNmsSigma;const l={boxes:i,scores:o},u={maxOutputSize:a,iouThreshold:n,scoreThreshold:r,softNmsSigma:s},d=pe.runKernel(wI,l,u);return{selectedIndices:d[0],selectedScores:d[1]}}const mpe=he({nonMaxSuppressionWithScore_:ppe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function gpe(t,e,a,n=.5,r=Number.NEGATIVE_INFINITY,s=0){const i=X(t,"boxes","nonMaxSuppressionAsync"),o=X(e,"scores","nonMaxSuppressionAsync"),c=vm(i,o,a,n,r,s);a=c.maxOutputSize,n=c.iouThreshold,r=c.scoreThreshold,s=c.softNmsSigma;const l=await Promise.all([i.data(),o.data()]),u=l[0],d=l[1],{selectedIndices:p,selectedScores:m}=I3(u,d,a,n,r,s);return i!==t&&i.dispose(),o!==e&&o.dispose(),{selectedIndices:ds(p,"int32"),selectedScores:ds(m)}}const ype=gpe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vpe(t,e,a,n=.5,r=Number.NEGATIVE_INFINITY,s=!1){const i=X(t,"boxes","nonMaxSuppression"),o=X(e,"scores","nonMaxSuppression"),c=vm(i,o,a,n,r,null),l=c.maxOutputSize,u=c.iouThreshold,d=c.scoreThreshold,p={boxes:i,scores:o},m={maxOutputSize:l,iouThreshold:u,scoreThreshold:d,padToMaxOutputSize:s},g=pe.runKernel(kI,p,m);return{selectedIndices:g[0],validOutputs:g[1]}}const xpe=he({nonMaxSuppressionPadded_:vpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function kpe(t,e,a,n=.5,r=Number.NEGATIVE_INFINITY,s=!1){const i=X(t,"boxes","nonMaxSuppressionAsync"),o=X(e,"scores","nonMaxSuppressionAsync"),c=vm(i,o,a,n,r,null),l=c.maxOutputSize,u=c.iouThreshold,d=c.scoreThreshold,[p,m]=await Promise.all([i.data(),o.data()]),{selectedIndices:g,validOutputs:x}=C3(p,m,l,u,d,s);return i!==t&&i.dispose(),o!==e&&o.dispose(),{selectedIndices:ds(g,"int32"),validOutputs:Pt(x,"int32")}}const wpe=kpe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bpe(t,e,a=!1,n=!1){const r=X(t,"images","resizeBilinear");K(r.rank===3||r.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`),K(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),K(n===!1||a===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let s=r,i=!1;r.rank===3&&(i=!0,s=ve(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const o={images:s},c={alignCorners:a,halfPixelCenters:n,size:e},l=pe.runKernel(r_,o,c);return i?ve(l,[l.shape[1],l.shape[2],l.shape[3]]):l}const YG=he({resizeBilinear_:bpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _pe(t,e,a=!1,n=!1){const r=X(t,"images","resizeNearestNeighbor");K(r.rank===3||r.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`),K(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),K(r.dtype==="float32"||r.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),K(n===!1||a===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let s=r,i=!1;r.rank===3&&(i=!0,s=ve(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const o={images:s},c={alignCorners:a,halfPixelCenters:n,size:e},l=pe.runKernel(n_,o,c);return i?ve(l,[l.shape[1],l.shape[2],l.shape[3]]):l}const ZG=he({resizeNearestNeighbor_:_pe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ape(t,e="binary",a=!1,n=.5){const r=X(t,"image","threshold"),s=.2989,i=.587,o=.114,c=r.shape[0]*r.shape[1];let l=me(ds([n]),255),u,d,p,m;if(K(r.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`),K(r.shape[2]===3||r.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`),K(r.dtype==="int32"||r.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`),K(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),r.shape[2]===3){[u,d,p]=Ks(r,[1,1,1],-1);const v=me(u,s),k=me(d,i),b=me(p,o);m=qe(qe(v,k),b)}else m=t;if(e==="otsu"){const v=sG(ut(h3(m),"int32"),So([]),256);l=Npe(v,c)}const g=a?Ud(m,l):ai(m,l);return ut(me(g,255),"int32")}function Npe(t,e){let a=ds([-1]),n=ds([0]),r=ds([0]),s,i,o,c,l,u;for(let d=0;d<t.size-1;d++){s=Na(t,0,d+1),i=Na(t,d+1),l=wt(yt(s),e),u=wt(yt(i),e);const p=yt(me(s,Vp(0,s.size)));o=wt(p,yt(s));const m=mm(i.shape,s.size),g=qe(Vp(0,i.size),m),x=me(i,g);c=wt(yt(x),yt(i));const v=pt(o,c),k=pt(o,c),b=me(l,u);r=me(me(b,v),k);const _=ai(r,n);n=Hr(_,r,n),a=Hr(_,ds([d]),a)}return a}const Spe=he({threshold_:Ape});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tpe(t,e,a="nearest",n="constant",r=0,s){const i=X(t,"image","transform","float32"),o=X(e,"transforms","transform","float32");K(i.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`),K(o.rank===2&&(o.shape[0]===i.shape[0]||o.shape[0]===1)&&o.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),K(s==null||s.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${s}.`);const c={image:i,transforms:o},l={interpolation:a,fillMode:n,fillValue:r,outputShape:s};return pe.runKernel(WI,c,l)}const Epe=he({transform_:Tpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cpe(t,e,a){const n=X(t,"a","bandPart");K(n.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${n.rank}.`);const r=n.shape,[s,i]=n.shape.slice(-2);let o,c;typeof e=="number"?(K(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),K(e<=s,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${s}).`),o=X(e<0?s:e,"numLower","bandPart")):(K(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),o=Hr(Ug(e,0),s,vd(e,s))),typeof a=="number"?(K(a%1===0,()=>`bandPart(): numUpper must be an integer, got ${a}.`),K(a<=i,()=>`bandPart(): numUpper (${a}) must not be greater than the number of columns (${i}).`),c=X(a<0?i:a,"numUpper","bandPart")):(K(a.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),c=Hr(Ug(a,0),i,vd(a,i)));const l=ve(Vp(0,s,1,"int32"),[-1,1]),u=Vp(0,i,1,"int32"),d=pt(l,u),p=wc(Ud(d,o),Ku(d,fn(c))),m=tr([s,i],n.dtype);return ve(Zs(no(ve(n,[-1,s,i])).map(g=>Hr(p,g,m))),r)}const Ipe=he({bandPart_:Cpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rpe(t){let e;if(Array.isArray(t)){e=!1,K(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const r=t[0].shape[0];for(let s=1;s<t.length;++s)K(t[s].shape[0]===r,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[s].shape[0]} vs. ${r})`)}else e=!0,t=Ks(t,t.shape[0],0).map(r=>Vd(r,[0]));K(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const a=[],n=t;for(let r=0;r<t.length;++r)a.push(pe.tidy(()=>{let s=n[r];if(r>0)for(let i=0;i<r;++i){const o=me(yt(me(a[i],s)),a[i]);s=pt(s,o)}return wt(s,F1(s,"euclidean"))}));return e?Zs(a,0):a}const Dpe=he({gramSchmidt_:Rpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ppe(t,e=!1){if(K(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return mL(t,e);{const a=t.shape.slice(0,t.shape.length-2).reduce((c,l)=>c*l),n=no(ve(t,[a,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),r=[],s=[];n.forEach(c=>{const[l,u]=mL(c,e);r.push(l),s.push(u)});const i=ve(Zs(r,0),t.shape),o=ve(Zs(s,0),t.shape);return[i,o]}}function mL(t,e=!1){return pe.tidy(()=>{K(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const a=t.shape[0],n=t.shape[1];let r=s3(a),s=cl(t);const i=cg([[1]],[1,1]);let o=cl(i);const c=a>=n?n:a;for(let l=0;l<c;++l){const u=s,d=o,p=r;[o,s,r]=pe.tidy(()=>{const m=Na(s,[l,l],[a-l,1]),g=F1(m),x=Na(s,[l,l],[1,1]),v=Hr(ai(x,0),cg([[-1]]),cg([[1]])),k=pt(x,me(v,g)),b=wt(m,k);b.shape[0]===1?o=cl(i):o=En([i,Na(b,[1,0],[b.shape[0]-1,b.shape[1]])],0);const _=fn(wt(ya(v,k),g)),A=Na(s,[l,0],[a-l,n]),S=me(_,o),C=Ta(o);if(l===0)s=pt(A,ya(S,ya(C,A)));else{const I=pt(A,ya(S,ya(C,A)));s=En([Na(s,[0,0],[l,n]),I],0)}const E=Ta(S),R=Na(r,[0,l],[a,r.shape[1]-l]);if(l===0)r=pt(R,ya(ya(R,o),E));else{const I=pt(R,ya(ya(R,o),E));r=En([Na(r,[0,0],[a,l]),I],1)}return[o,s,r]}),da([u,d,p])}return!e&&a>n&&(r=Na(r,[0,0],[a,n]),s=Na(s,[0,0],[n,n])),[r,s]})}const Fpe=he({qr_:Ppe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Cs;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Cs||(Cs={}));function Ope(t,e,a=Cs.SUM_BY_NONZERO_WEIGHTS){const n=X(t,"losses","computeWeightedLoss");let r=null;e!=null&&(r=X(e,"weights","computeWeightedLoss"));const s=r==null?n:me(n,r);if(a===Cs.NONE)return s;if(a===Cs.SUM)return yt(s);if(a===Cs.MEAN){if(r==null)return Sn(s);{const i=n.size/r.size,o=wt(yt(s),yt(r));return i>1?wt(o,Pt(i)):o}}if(a===Cs.SUM_BY_NONZERO_WEIGHTS){if(r==null)return wt(yt(s),Pt(n.size));{const i=me(r,Hs(n.shape)),o=ut(yt(Wp(i,Pt(0))),"float32");return wt(yt(s),o)}}throw Error(`Unknown reduction: ${a}`)}const El=he({computeWeightedLoss_:Ope});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pe(t,e,a,n=Cs.SUM_BY_NONZERO_WEIGHTS){const r=X(t,"labels","absoluteDifference"),s=X(e,"predictions","absoluteDifference");let i=null;a!=null&&(i=X(a,"weights","absoluteDifference")),ti(r.shape,s.shape,"Error in absoluteDifference: ");const o=er(pt(r,s));return El(o,i,n)}const Lpe=he({absoluteDifference_:$pe});function Mpe(t,e,a,n,r=Cs.SUM_BY_NONZERO_WEIGHTS){const s=X(t,"labels","cosineDistance"),i=X(e,"predictions","cosineDistance");let o=null;n!=null&&(o=X(n,"weights","cosineDistance")),ti(s.shape,i.shape,"Error in cosineDistance: ");const c=Pt(1),l=pt(c,yt(me(s,i),a,!0));return El(l,o,r)}const Bpe=he({cosineDistance_:Mpe});function zpe(t,e,a,n=Cs.SUM_BY_NONZERO_WEIGHTS){let r=X(t,"labels","hingeLoss");const s=X(e,"predictions","hingeLoss");let i=null;a!=null&&(i=X(a,"weights","hingeLoss")),ti(r.shape,s.shape,"Error in hingeLoss: ");const o=Pt(1);r=pt(me(Pt(2),r),o);const c=Cc(pt(o,me(r,s)));return El(c,i,n)}const Gpe=he({hingeLoss_:zpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Upe(t,e,a,n=1,r=Cs.SUM_BY_NONZERO_WEIGHTS){const s=X(t,"labels","huberLoss"),i=X(e,"predictions","huberLoss");let o=null;a!=null&&(o=X(a,"weights","huberLoss")),ti(s.shape,i.shape,"Error in huberLoss: ");const c=Pt(n),l=er(pt(i,s)),u=vd(l,c),d=pt(l,u),p=qe(me(Pt(.5),Qa(u)),me(c,d));return El(p,o,r)}const Wpe=he({huberLoss_:Upe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vpe(t,e,a,n=1e-7,r=Cs.SUM_BY_NONZERO_WEIGHTS){const s=X(t,"labels","logLoss"),i=X(e,"predictions","logLoss");let o=null;a!=null&&(o=X(a,"weights","logLoss")),ti(s.shape,i.shape,"Error in logLoss: ");const c=Pt(1),l=Pt(n),u=fn(me(s,mi(qe(i,l)))),d=me(pt(c,s),mi(qe(pt(c,i),l))),p=pt(u,d);return El(p,o,r)}const jpe=he({logLoss_:Vpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hpe(t,e,a,n=Cs.SUM_BY_NONZERO_WEIGHTS){const r=X(t,"labels","meanSquaredError"),s=X(e,"predictions","meanSquaredError");let i=null;a!=null&&(i=X(a,"weights","meanSquaredError")),ti(r.shape,s.shape,"Error in meanSquaredError: ");const o=w3(r,s);return El(o,i,n)}const Kpe=he({meanSquaredError_:Hpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qpe(t,e){const a=X(t,"labels","sigmoidCrossEntropyWithLogits"),n=X(e,"logits","sigmoidCrossEntropyWithLogits");ti(a.shape,n.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=Cc(n),s=me(n,a),i=b_(Ys(fn(er(n))));return qe(pt(r,s),i)}function Xpe(t,e,a,n=0,r=Cs.SUM_BY_NONZERO_WEIGHTS){let s=X(t,"multiClassLabels","sigmoidCrossEntropy");const i=X(e,"logits","sigmoidCrossEntropy");let o=null;if(a!=null&&(o=X(a,"weights","sigmoidCrossEntropy")),ti(s.shape,i.shape,"Error in sigmoidCrossEntropy: "),n>0){const l=Pt(n),u=Pt(1),d=Pt(.5);s=qe(me(s,pt(u,l)),me(d,l))}const c=qpe(s,i);return El(c,o,r)}const Ype=he({sigmoidCrossEntropy_:Xpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zpe(t,e,a=-1){if(a===-1&&(a=e.rank-1),a!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${a}`);return gl((r,s,i)=>{const c=__(s,[a],!0),l=pt(ut(s,"float32"),c);i([r,l]);const u=fn(me(l,r));return{value:yt(u,[a]),gradFunc:(m,g)=>{const[x,v]=g,k=Mn(m.shape,[a]);return[me(ve(m,k),pt(ut(x,"float32"),Ys(v))),me(ve(m,k),pt(Ys(v),ut(x,"float32")))]}}})(t,e)}function Jpe(t,e,a,n=0,r=Cs.SUM_BY_NONZERO_WEIGHTS){let s=X(t,"onehotLabels","softmaxCrossEntropy");const i=X(e,"logits","softmaxCrossEntropy");let o=null;if(a!=null&&(o=X(a,"weights","softmaxCrossEntropy")),ti(s.shape,i.shape,"Error in softmaxCrossEntropy: "),n>0){const l=Pt(n),u=Pt(1),d=Pt(s.shape[1]);s=qe(me(s,pt(u,l)),wt(l,d))}const c=Zpe(s,i);return El(c,o,r)}const Qpe=he({softmaxCrossEntropy_:Jpe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eme(t,e,a,n){const r=X(t,"indices","sparseFillEmptyRows","int32"),s=X(e,"values","sparseFillEmptyRows"),i=X(a,"denseShape","sparseFillEmptyRows","int32"),o=X(n,"defaultValue","sparseFillEmptyRows",s.dtype);if(r.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(o.rank!==0)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const c={indices:r,values:s,denseShape:i,defaultValue:o},l=pe.runKernel(DI,c);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}const tme=he({sparseFillEmptyRows_:eme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ame(t,e,a){const n=X(t,"inputIndices","sparseReshape","int32"),r=X(e,"inputShape","sparseReshape","int32"),s=X(a,"newShape","sparseReshape","int32");if(n.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${n.shape}`);if(r.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(s.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${s.shape}`);const i={inputIndices:n,inputShape:r,newShape:s},o=pe.runKernel(PI,i);return{outputIndices:o[0],outputShape:o[1]}}const nme=he({sparseReshape_:ame});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rme(t,e,a){const n=X(t,"data","sparseSegmentMean"),r=X(e,"indices","sparseSegmentMean","int32"),s=X(a,"segmentIds","sparseSegmentMean","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${r.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${s.shape}`);const i={data:n,indices:r,segmentIds:s};return pe.runKernel(FI,i)}const sme=he({sparseSegmentMean_:rme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ime(t,e,a){const n=X(t,"data","sparseSegmentSum"),r=X(e,"indices","sparseSegmentSum","int32"),s=X(a,"segmentIds","sparseSegmentSum","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${r.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${s.shape}`);const i={data:n,indices:r,segmentIds:s};return pe.runKernel(OI,i)}const ome=he({sparseSegmentSum_:ime});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cme(t,e,a,n,r,s,i,o){const c=X(t,"data","stringNGrams","string");if(c.dtype!=="string")throw new Error("Data must be of datatype string");if(c.shape.length!==1)throw new Error(`Data must be a vector, saw: ${c.shape}`);const l=X(e,"dataSplits","stringNGrams");if(l.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const u={separator:a,nGramWidths:n,leftPad:r,rightPad:s,padWidth:i,preserveShortSequences:o},d={data:c,dataSplits:l},p=pe.runKernel(BI,d,u);return{nGrams:p[0],nGramsSplits:p[1]}}const lme=he({stringNGrams_:cme});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ume(t,e,a=!0){const n=X(t,"input","stringSplit","string"),r=X(e,"delimiter","stringSplit","string");if(n.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${n.shape}`);if(r.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const s={skipEmpty:a},i={input:n,delimiter:r},o=pe.runKernel(zI,i,s);return{indices:o[0],values:o[1],shape:o[2]}}const fme=he({stringSplit_:ume});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dme(t,e){const a=X(t,"input","stringToHashBucketFast","string"),n={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const r={input:a};return pe.runKernel(GI,r,n)}const hme=he({stringToHashBucketFast_:dme});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pme(t,e,a,n=!0){const r=X(t,"input","staticRegexReplace","string"),s={pattern:e,rewrite:a,replaceGlobal:n};return pe.runKernel(d_,{x:r},s)}const mme=he({staticRegexReplace_:pme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gme={fft:P_,ifft:jg,rfft:F_,irfft:k3},yme={hammingWindow:Whe,hannWindow:qG,frame:XG,stft:Khe},Ki={flipLeftRight:Zhe,grayscaleToRGB:Qhe,resizeNearestNeighbor:ZG,resizeBilinear:YG,rgbToGrayscale:tpe,rotateWithOffset:npe,cropAndResize:Xhe,nonMaxSuppression:spe,nonMaxSuppressionAsync:hpe,nonMaxSuppressionWithScore:mpe,nonMaxSuppressionWithScoreAsync:ype,nonMaxSuppressionPadded:xpe,nonMaxSuppressionPaddedAsync:wpe,threshold:Spe,transform:Epe},JG={bandPart:Ipe,gramSchmidt:Dpe,qr:Fpe},vme={absoluteDifference:Lpe,computeWeightedLoss:El,cosineDistance:Bpe,hingeLoss:Gpe,huberLoss:Wpe,logLoss:jpe,meanSquaredError:Kpe,sigmoidCrossEntropy:Ype,softmaxCrossEntropy:Qpe},xme={sparseFillEmptyRows:tme,sparseReshape:nme,sparseSegmentMean:sme,sparseSegmentSum:ome},kme={stringNGrams:lme,stringSplit:fme,stringToHashBucketFast:hme,staticRegexReplace:mme};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wme=new Map,bme=new Map;class xm{getClassName(){return this.constructor.className}static fromConfig(e,a){return new e(a)}}class ji{constructor(){this.classNameMap={}}static getMap(){return ji.instance==null&&(ji.instance=new ji),ji.instance}static register(e){ji.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Ye(t,e,a){K(t.className!=null,()=>"Class being registered does not have the static className property defined."),K(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),K(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof a>"u"&&(a=t.className);const n=a,r=e+">"+n;return ji.register(t),wme.set(r,t),bme.set(t,r),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xu extends xm{minimize(e,a=!1,n){const{value:r,grads:s}=this.computeGradients(e,n);if(n!=null){const i=n.map(o=>({name:o.name,tensor:s[o.name]}));this.applyGradients(i)}else this.applyGradients(s);return da(s),a?r:(r.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,a){return Hue(e,a)}dispose(){this.iterations_!=null&&da(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Pt(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Xu,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QG extends Xu{static get className(){return"Adadelta"}constructor(e,a,n=null){super(),this.learningRate=e,this.rho=a,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],n==null&&(this.epsilon=pe.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(n=>n.name):Object.keys(e)).forEach((n,r)=>{const s=pe.registeredVariables[n],i=!1;this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${n}/accum_grad`,variable:Ne(()=>Ea(s).variable(i))}),this.accumulatedUpdates[r]==null&&(this.accumulatedUpdates[r]={originalName:`${n}/accum_var`,variable:Ne(()=>Ea(s).variable(i))});const o=Array.isArray(e)?e[r].tensor:e[n];if(o==null)return;const c=this.accumulatedGrads[r].variable,l=this.accumulatedUpdates[r].variable;Ne(()=>{const u=qe(me(c,this.rho),me(Qa(o),1-this.rho)),d=me(wt(Lr(qe(l,this.epsilon)),Lr(qe(c,this.epsilon))),o),p=qe(me(l,this.rho),me(Qa(d),1-this.rho));c.assign(u),l.assign(p);const m=qe(me(d,-this.learningRate),s);s.assign(m)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(da(this.accumulatedGrads.map(e=>e.variable)),da(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=e.length/2,n=!1;this.accumulatedGrads=e.slice(0,a).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.accumulatedUpdates=e.slice(a,a*2).map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,a){return new e(a.learningRate,a.rho,a.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eU extends Xu{static get className(){return"Adagrad"}constructor(e,a=.1){super(),this.learningRate=e,this.initialAccumulatorValue=a,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(n=>n.name):Object.keys(e)).forEach((n,r)=>{const s=pe.registeredVariables[n];this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${n}/accumulator`,variable:Ne(()=>mm(s.shape,this.initialAccumulatorValue).variable(!1))});const i=Array.isArray(e)?e[r].tensor:e[n];if(i==null)return;const o=this.accumulatedGrads[r].variable;Ne(()=>{const c=qe(o,Qa(i));o.assign(c);const l=qe(me(wt(i,Lr(qe(c,pe.backend.epsilon()))),-this.learningRate),s);s.assign(l)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&da(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=!1;this.accumulatedGrads=e.map(n=>({originalName:n.name,variable:n.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,a){return new e(a.learningRate,a.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tU extends Xu{static get className(){return"Adam"}constructor(e,a,n,r=null){super(),this.learningRate=e,this.beta1=a,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Ne(()=>{this.accBeta1=Pt(a).variable(),this.accBeta2=Pt(n).variable()}),r==null&&(this.epsilon=pe.backend.epsilon())}applyGradients(e){const a=Array.isArray(e)?e.map(n=>n.name):Object.keys(e);Ne(()=>{const n=pt(1,this.accBeta1),r=pt(1,this.accBeta2);a.forEach((s,i)=>{const o=pe.registeredVariables[s],c=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${s}/m`,variable:Ne(()=>Ea(o).variable(c))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${s}/v`,variable:Ne(()=>Ea(o).variable(c))});const l=Array.isArray(e)?e[i].tensor:e[s];if(l==null)return;const u=this.accumulatedFirstMoment[i].variable,d=this.accumulatedSecondMoment[i].variable,p=qe(me(u,this.beta1),me(l,1-this.beta1)),m=qe(me(d,this.beta2),me(Qa(l),1-this.beta2)),g=wt(p,n),x=wt(m,r);u.assign(p),d.assign(m);const v=qe(me(wt(g,qe(Lr(x),this.epsilon)),-this.learningRate),o);o.assign(v)}),this.accBeta1.assign(me(this.accBeta1,this.beta1)),this.accBeta2.assign(me(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&da(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&da(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e),Ne(()=>{this.accBeta1.assign(ml(this.beta1,this.iterations_+1)),this.accBeta2.assign(ml(this.beta2,this.iterations_+1))});const a=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,a).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.accumulatedSecondMoment=e.slice(a,a*2).map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,a){return new e(a.learningRate,a.beta1,a.beta2,a.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aU extends Xu{static get className(){return"Adamax"}constructor(e,a,n,r=null,s=0){super(),this.learningRate=e,this.beta1=a,this.beta2=n,this.epsilon=r,this.decay=s,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Ne(()=>{this.iteration=Pt(0).variable(),this.accBeta1=Pt(a).variable()}),r==null&&(this.epsilon=pe.backend.epsilon())}applyGradients(e){const a=Array.isArray(e)?e.map(n=>n.name):Object.keys(e);Ne(()=>{const n=pt(1,this.accBeta1),r=wt(-this.learningRate,qe(me(this.iteration,this.decay),1));a.forEach((s,i)=>{const o=pe.registeredVariables[s],c=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${s}/m`,variable:Ea(o).variable(c)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${s}/v`,variable:Ea(o).variable(c)});const l=Array.isArray(e)?e[i].tensor:e[s];if(l==null)return;const u=this.accumulatedFirstMoment[i].variable,d=this.accumulatedWeightedInfNorm[i].variable,p=qe(me(u,this.beta1),me(l,1-this.beta1)),m=me(d,this.beta2),g=er(l),x=Tl(m,g);u.assign(p),d.assign(x);const v=qe(me(wt(r,n),wt(p,qe(x,this.epsilon))),o);o.assign(v)}),this.iteration.assign(qe(this.iteration,1)),this.accBeta1.assign(me(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&da(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&da(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,a){return new e(a.learningRate,a.beta1,a.beta2,a.epsilon,a.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D3 extends Xu{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(n=>n.name):Object.keys(e)).forEach((n,r)=>{const s=Array.isArray(e)?e[r].tensor:e[n];if(s==null)return;const i=pe.registeredVariables[n];Ne(()=>{const o=qe(me(this.c,s),i);i.assign(o)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=vr(Pt(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,a){return new e(a.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nU extends D3{static get className(){return"Momentum"}constructor(e,a,n=!1){super(e),this.learningRate=e,this.momentum=a,this.useNesterov=n,this.accumulations=[],this.m=Pt(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(n=>n.name):Object.keys(e)).forEach((n,r)=>{const s=pe.registeredVariables[n];this.accumulations[r]==null&&(this.accumulations[r]={originalName:`${n}/momentum`,variable:Ne(()=>Ea(s).variable(!1))});const i=this.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];o!=null&&Ne(()=>{let c;const l=qe(me(this.m,i),o);this.useNesterov?c=qe(me(this.c,qe(o,me(l,this.m))),s):c=qe(me(this.c,l),s),i.assign(l),s.assign(c)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&da(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=!1;this.accumulations=e.map(n=>({originalName:n.name,variable:n.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,a){return new e(a.learningRate,a.momentum,a.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rU extends Xu{static get className(){return"RMSProp"}constructor(e,a=.9,n=0,r=null,s=!1){if(super(),this.learningRate=e,this.decay=a,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=s,r==null&&(this.epsilon=pe.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(n=>n.name):Object.keys(e)).forEach((n,r)=>{const s=pe.registeredVariables[n],i=!1;this.accumulatedMeanSquares[r]==null&&(this.accumulatedMeanSquares[r]={originalName:`${n}/rms`,variable:Ne(()=>Ea(s).variable(i))}),this.accumulatedMoments[r]==null&&(this.accumulatedMoments[r]={originalName:`${n}/momentum`,variable:Ne(()=>Ea(s).variable(i))}),this.accumulatedMeanGrads[r]==null&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${n}/mg`,variable:Ne(()=>Ea(s).variable(i))});const o=Array.isArray(e)?e[r].tensor:e[n];if(o==null)return;const c=this.accumulatedMeanSquares[r].variable,l=this.accumulatedMoments[r].variable;Ne(()=>{const u=qe(me(c,this.decay),me(Qa(o),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[r].variable,p=qe(me(d,this.decay),me(o,1-this.decay)),m=wt(me(o,this.learningRate),Lr(pt(u,qe(Qa(p),this.epsilon)))),g=qe(me(l,this.momentum),m);c.assign(u),d.assign(p),l.assign(g);const x=pt(s,g);s.assign(x)}else{const d=qe(me(c,this.decay),me(Qa(o),1-this.decay)),p=qe(me(l,this.momentum),wt(me(o,this.learningRate),Lr(qe(d,this.epsilon))));c.assign(d),l.assign(p);const m=pt(s,p);s.assign(m)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&da(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&da(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&da(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,a).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.accumulatedMoments=e.slice(a,a*2).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.centered&&(this.accumulatedMeanGrads=e.slice(a*2,a*3).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,a){return new e(a.learningRate,a.decay,a.momentum,a.epsilon,a.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _me=[QG,eU,tU,aU,nU,rU,D3];function Ame(){for(const t of _me)Ye(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nme="model",Sme=".json",Tme=".weights.bin";function gL(t){return new Promise(e=>setTimeout(e)).then(t)}class xd{constructor(e){if(!Ce().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(xd.URL_SCHEME)&&(e=e.slice(xd.URL_SCHEME.length)),(e==null||e.length===0)&&(e=Nme),this.modelJsonFileName=e+Sme,this.weightDataFileName=e+Tme}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const a=Uo.join(e.weightData),n=window.URL.createObjectURL(new Blob([a],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],s=$z(e,r),i=window.URL.createObjectURL(new Blob([JSON.stringify(s)],{type:"application/json"})),o=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=i,await gL(()=>o.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const c=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;c.download=this.weightDataFileName,c.href=n,await gL(()=>c.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:C1(e)}}}}xd.URL_SCHEME="downloads://";class Eme{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,a)=>{const n=new FileReader;n.onload=r=>{const s=JSON.parse(r.target.result),i=s.modelTopology;if(i==null){a(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(s.weightsManifest==null){a(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:i});return}const c=qI(s,l=>this.loadWeights(l));e(c)},n.onerror=r=>a(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)})}loadWeights(e){const a=[],n=[];for(const i of e)a.push(...i.weights),n.push(...i.paths);const r=this.checkManifestAndWeightFiles(e),s=n.map(i=>this.loadWeightsFile(i,r[i]));return Promise.all(s).then(i=>[a,i])}loadWeightsFile(e,a){return new Promise((n,r)=>{const s=new FileReader;s.onload=i=>{const o=i.target.result;n(o)},s.onerror=i=>r(`Failed to weights data from file of path '${e}'.`),s.readAsArrayBuffer(a)})}checkManifestAndWeightFiles(e){const a=[],n=this.weightsFiles.map(s=>sL(s.name)),r={};for(const s of e)s.paths.forEach(i=>{const o=sL(i);if(a.indexOf(o)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${o}'`);if(a.push(o),n.indexOf(o)===-1)throw new Error(`Weight file with basename '${o}' is not provided.`);r[i]=this.weightsFiles[n.indexOf(o)]});if(a.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${a.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}const Cme=t=>Ce().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(xd.URL_SCHEME)?Ime(t.slice(xd.URL_SCHEME.length)):null;mn.registerSaveRouter(Cme);function Ime(t="model"){return new xd(t)}function Rme(t){return new Eme(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yL(t,e,a,n){i(t),a=a??0,n=n??1,o(a,n);let r=0;const s=c=>(c.then(l=>{const u=a+ ++r/t.length*(n-a);return e(u),l}),c);function i(c){K(c!=null&&Array.isArray(c)&&c.length>0,()=>"promises must be a none empty array")}function o(c,l){K(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${c}`),K(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${l}`),K(l>=c,()=>`startFraction must be no more than endFraction, but got startFraction ${c} and endFraction ${l}`)}return Promise.all(t.map(s))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function sU(t,e){e==null&&(e={});const a=e.fetchFunc==null?Ce().platform.fetch:e.fetchFunc,n=t.map(d=>a(d,e.requestInit,{isBinary:!0})),o=(e.onProgress==null?await Promise.all(n):await yL(n,e.onProgress,0,.5)).map(d=>d.arrayBuffer());return e.onProgress==null?await Promise.all(o):await yL(o,e.onProgress,.5,1)}function Dme(t,e){var a;const n=e.fetchFunc==null?Ce().platform.fetch:e.fetchFunc;let r=0,s;return(a=e.onProgress)===null||a===void 0||a.call(e,0),new ReadableStream({pull:async i=>{for(var o;r<t.length;){s||(s=(await n(t[r],e.requestInit,{isBinary:!0})).body.getReader());const{done:c,value:l}=await s.read();if(c){r++,s=void 0,(o=e.onProgress)===null||o===void 0||o.call(e,r/t.length);continue}i.enqueue(l);return}i.close()}})}async function Pme(t,e="",a,n){return iU(i=>sU(i,{requestInit:n}))(t,e,a)}function iU(t){return async(e,a="",n)=>{const r=e.map(()=>!1),s={},i=n!=null?n.map(()=>!1):[],o=[];if(e.forEach((m,g)=>{let x=0;m.weights.forEach(v=>{const k="quantization"in v?v.quantization.dtype:v.dtype,b=dd[k]*Me(v.shape),_=()=>{r[g]=!0,s[g]==null&&(s[g]=[]),s[g].push({manifestEntry:v,groupOffset:x,sizeBytes:b})};n!=null?n.forEach((A,S)=>{A===v.name&&(_(),i[S]=!0)}):_(),o.push(v.name),x+=b})}),!i.every(m=>m)){const m=n.filter((g,x)=>!i[x]);throw new Error(`Could not find weights in manifest with names: ${m.join(", ")}. 
Manifest JSON has weights with names: ${o.join(", ")}.`)}const c=r.reduce((m,g,x)=>(g&&m.push(x),m),[]),l=[];c.forEach(m=>{e[m].paths.forEach(g=>{const x=a+(a.endsWith("/")?"":"/")+g;l.push(x)})});const u=await t(l),d={};let p=0;return c.forEach(m=>{const g=e[m].paths.length,x=new Uo(u.slice(p,p+g));s[m].forEach(k=>{const b=x.slice(k.groupOffset,k.groupOffset+k.sizeBytes),_=Dz(b,[k.manifestEntry]);for(const A in _)d[A]=_[A]}),p+=g}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fme="application/octet-stream",Ome="application/json";class P3{constructor(e,a){if(this.DEFAULT_METHOD="POST",a==null&&(a={}),this.weightPathPrefix=a.weightPathPrefix,this.weightUrlConverter=a.weightUrlConverter,a.fetchFunc!=null?(K(typeof a.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=a.fetchFunc):this.fetch=Ce().platform.fetch,K(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&K(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,a.requestInit!=null&&a.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=a.requestInit||{},this.loadOptions=a}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const a=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);a.body=new FormData;const n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=$z(e,n);if(a.body.append("model.json",new Blob([JSON.stringify(r)],{type:Ome}),"model.json"),e.weightData!=null){const i=Uo.join(e.weightData);a.body.append("model.weights.bin",new Blob([i],{type:Fme}),"model.weights.bin")}const s=await this.fetch(this.path,a);if(s.ok)return{modelArtifactsInfo:C1(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let a;try{a=await e.json()}catch{let i=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?i+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":i+=" Please make sure the server is serving valid JSON for this request.",new Error(i)}const n=a.modelTopology,r=a.weightsManifest;if(n==null&&r==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return a}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return qI(e,a=>this.loadWeights(a))}async loadStream(){const e=await this.loadModelJSON(),a=await this.getWeightUrls(e.weightsManifest),n=qT(e.weightsManifest),r=()=>Dme(a,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:r})}async getWeightUrls(e){const a=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=$me(a),s=this.weightPathPrefix||n,i=[],o=[];for(const c of e)for(const l of c.paths)this.weightUrlConverter!=null?o.push(this.weightUrlConverter(l)):i.push(s+l+r);return this.weightUrlConverter&&i.push(...await Promise.all(o)),i}async loadWeights(e){const a=await this.getWeightUrls(e),n=qT(e),r=await sU(a,this.loadOptions);return[n,r]}}P3.URL_SCHEME_REGEX=/^https?:\/\//;function $me(t){const e=t.lastIndexOf("/"),a=t.lastIndexOf("?"),n=t.substring(0,e),r=a>e?t.substring(a):"";return[n+"/",r]}function tE(t){return t.match(P3.URL_SCHEME_REGEX)!=null}const oU=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let a=!0;if(Array.isArray(t)?a=t.every(n=>tE(n)):a=tE(t),a)return F3(t,e)}return null};mn.registerSaveRouter(oU);mn.registerLoadRouter(oU);function F3(t,e){return new P3(t,e)}function Lme(t,e){return F3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pS{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class cU{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Mme{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=a=>Promise.resolve(e.save(a)))}}function Bme(t,e,a,n){const r=arguments;return new Mme(lU(...r))}function lU(t,e,a,n){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new pS(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new pS({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new pS({modelTopology:t,weightSpecs:e,weightData:a,trainingConfig:n}))}function zme(t){return new cU(t)}function Gme(t){return new cU(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uU=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Uo,browserFiles:Rme,browserHTTPRequest:Lme,concatenateArrayBuffers:Oz,copyModel:Gce,decodeWeights:Dz,decodeWeightsStream:Fz,encodeWeights:KT,fromMemory:Bme,fromMemorySync:lU,getLoadHandlers:Tce,getModelArtifactsForJSON:qI,getModelArtifactsForJSONSync:Lz,getModelArtifactsInfoForJSON:C1,getSaveHandlers:Mz,getWeightSpecs:qT,http:F3,isHTTPScheme:tE,listModels:Bce,loadWeights:Pme,moveModel:Uce,registerLoadRouter:Sce,registerSaveRouter:Nce,removeModel:zce,weightsLoaderFactory:iU,withSaveHandler:zme,withSaveHandlerSync:Gme},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Sf;function Ume(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let a=!1,n=!1,r=!1,s=!1,i=!1,o=!1;if(t.data instanceof Uint8Array)a=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)n=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)s=!0;else if(t.getContext!=null)i=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)o=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(GT(BT,pe.backendName)!=null){const g={pixels:t},x={numChannels:e};return pe.runKernel(BT,g,x)}const[l,u]=r?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(i)d=t.getContext("2d").getImageData(0,0,l,u).data;else if(n||a)d=t.data;else if(s||r||o){if(Sf==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Sf=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Sf=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Sf.canvas.width=l,Sf.canvas.height=u,Sf.drawImage(t,0,0,l,u),d=Sf.getImageData(0,0,l,u).data}let p;if(e===4)p=new Int32Array(d);else{const g=l*u;p=new Int32Array(g*e);for(let x=0;x<g;x++)for(let v=0;v<e;++v)p[x*e+v]=d[x*4+v]}return LG(p,[u,l,e],"int32")}const Wme=he({fromPixels_:Ume});function O3(t,e){const a=t.shape.length,n=e.shape.length;if(a<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${a}.`);if(n<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${n}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[n-1]>a)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[n-1]} vs. ${a}`);if(Me(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const r=e.shape,s=r[r.length-1];let i=1;for(let d=0;d<r.length-1;++d)i*=r[d];const o=t.shape,c=r.slice();c.pop();let l=1;for(let d=s;d<a;++d)l*=o[d],c.push(o[d]);const u=[...Dt(t.shape).map(d=>d/l),1].slice(0,s);return[c,i,l,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aE=-2,Vme=-1;function $3(t,e,a){const n=t.shape.length;K(n===e.length,()=>`Error in slice${n}D: Length of begin ${e} must match the rank of the array (${n}).`),K(n===a.length,()=>`Error in slice${n}D: Length of size ${a} must match the rank of the array (${n}).`);for(let r=0;r<n;++r)K(e[r]+a[r]<=t.shape[r],()=>`Error in slice${n}D: begin[${r}] + size[${r}] (${e[r]+a[r]}) would overflow input.shape[${r}] (${t.shape[r]})`)}function jme(t){const e=[];let a=0;for(;t>0;)t&1&&e.push(a),t/=2,a++;return e}function L3(t,e,a){const n=[];for(let r=0;r<t.length;r++)n[r]=Math.ceil((e[r]-t[r])/a[r]);return n}function fU(t,e,a,n){const r=[...t];for(let s=r.length;s<n.length;s++)r.push(1);for(let s=0;s<a;s++)s===0?r[e]=1:(r.splice(e,0,1),r.pop());return r}function dU(t,e,a){return a<=t?a:a-(e-1)}function hU(t,e){const a=[];for(let n=0;n<t;n++)a.push(e+n);return a}function Hme(t,e,a,n,r,s,i,o,c){const l=t.length;let u=new Array(l),d=new Array(l),p=new Array(l);if(e.length&&a>0){const m=e[0],g=a+1;u=pU(i,m,g,n,t),d=mU(o,m,g,r,t),p=fU(s,m,g,t)}else for(let m=0;m<l;m++)u[m]=yU(i,n,s,t,m,c),d[m]=vU(o,r,s,t,m,c),p[m]=gU(s,m,c);return{begin:u,end:d,strides:p}}function pU(t,e,a,n,r){const s=[...r],i=hU(a,e);for(let o=0;o<s.length;o++)if(i.indexOf(o)>-1)s[o]=0;else{const c=dU(e,a,o);let l=n[c];t&1<<c&&(l=0),s[o]=l}return s}function mU(t,e,a,n,r){const s=[...r],i=hU(a,e);for(let o=0;o<s.length;o++)if(i.indexOf(o)>-1)s[o]=Number.MAX_SAFE_INTEGER;else{const c=dU(e,a,o);let l=n[c];t&1<<c&&(l=Number.MAX_SAFE_INTEGER),s[o]=l}for(let o=0;o<s.length;o++){const c=r[o];s[o]<0&&(s[o]+=c),s[o]=ld(0,s[o],r[o])}return s}function gU(t,e,a){let n=t[e];return(a&1<<e||n==null)&&(n=1),n}function yU(t,e,a,n,r,s){let i=e[r];const o=a[r]||1;(t&1<<r||s&1<<r||i==null)&&(o>0?i=Number.MIN_SAFE_INTEGER:i=Number.MAX_SAFE_INTEGER);const c=n[r];return i<0&&(i+=c),i=ld(0,i,c-1),i}function vU(t,e,a,n,r,s){let i=e[r];const o=a[r]||1;(t&1<<r||s&1<<r||i==null)&&(o>0?i=Number.MAX_SAFE_INTEGER:i=Number.MIN_SAFE_INTEGER);const c=n[r];return i<0&&(i+=c),o>0?i=ld(0,i,c):i=ld(-1,i,c-1),i}function M3(t,e,a){let n=a.length;for(let r=0;r<a.length;r++)if(a[r]>1){n=r;break}for(let r=n+1;r<a.length;r++)if(e[r]>0||a[r]!==t[r])return!1;return!0}function B3(t,e){let a=t.length>0?t[t.length-1]:1;for(let n=0;n<t.length-1;n++)a+=t[n]*e[n];return a}function B_(t,e,a){let n;const r=t.shape.length;typeof e=="number"?n=[e,...new Array(r-1).fill(0)]:e.length<r?n=e.concat(new Array(r-e.length).fill(0)):n=e.slice(),n.forEach(i=>{K(i!==-1,()=>"slice() does not support negative begin indexing.")});let s;return a==null?s=new Array(r).fill(-1):typeof a=="number"?s=[a,...new Array(r-1).fill(-1)]:a.length<r?s=a.concat(new Array(r-a.length).fill(-1)):s=a,s=s.map((i,o)=>i>=0?i:(K(i===-1,()=>`Negative size values should be exactly -1 but got ${i} for the slice() size at index ${o}.`),t.shape[o]-n[o])),[n,s]}function z3(t,e,a,n,r,s,i,o,c){let l;if(n==null?(l=new Array(e.length),l.fill(1)):l=n,i!=null&&(i&i-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:l.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:a.slice(),strides:l.slice(),beginMask:r,endMask:s,ellipsisMask:i,newAxisMask:o,shrinkAxisMask:c};for(let _=0;_<d.dims;_++)u&&(1<<_&o)!==0&&d.numAddAxisAfterEllipsis++,1<<_&i&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Kme(d,p);let m=!0,g=!0,x=!0;const v=[],k=[];for(let _=0;_<t.length;++_){if(p.strides[_]===0)throw Error(`strides[${_}] must be non-zero`);const A=!!(p.shrinkAxisMask&1<<_),S=t[_];if(S===-1){v.push(A?1:-1);continue}const C=[p.beginMask&1<<_,p.endMask&1<<_],E=[p.strides[_]>0?0:-1,p.strides[_]>0?S:S-1];if(A&&p.strides[_]<=0)throw Error("only stride 1 allowed on non-range indexing.");x=x&&p.strides[_]===1;const R=!!(p.beginMask&1<<_&&p.endMask&1<<_);if(p.beginValid&&p.endValid){if(A){const B=p.begin[_]<0?S+p.begin[_]:p.begin[_];if(p.begin[_]=B,p.end[_]=p.begin[_]+1,B<0||B>=S)throw Error(`slice index ${p.begin[_]} of dimension ${_} out of bounds.`)}else p.begin[_]=vL(p.begin[_],0,p.strides[_],S,C,E),p.end[_]=vL(p.end[_],1,p.strides[_],S,C,E);const D=p.strides[_]===1&&p.begin[_]===0&&p.end[_]===S;m=m&&D,g=g&&(_===0&&p.strides[_]===1||D)}else m=m&&p.strides[_]===1&&R,g=g&&(_===0&&p.strides[_]===1||R);let I,P=!1;if(p.beginValid&&p.endValid?(I=p.end[_]-p.begin[_],P=!0):A?(I=1,P=!0):R&&S>=0&&(p.strides[_]<0?I=-S:I=S,P=!0),P){let D;I===0||I<0!=p.strides[_]<0?D=0:D=Math.trunc(I/p.strides[_])+(I%p.strides[_]!==0?1:0),v.push(D)}else v.push(-1)}for(let _=0;_<p.finalShapeGatherIndices.length;++_){const A=p.finalShapeGatherIndices[_];A>=0?k.push(v[A]):A===aE&&k.push(1)}return{finalShapeSparse:k.filter((_,A)=>p.finalShapeGatherIndices[A]!==aE),finalShape:k,isIdentity:m,sliceDim0:g,isSimpleSlice:x,begin:p.begin,end:p.end,strides:p.strides}}function Kme(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let a=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let n=0;n<t.dims;n++)if(1<<n&t.ellipsisMask){const r=Math.min(e.dims-(t.dims-n)+1+t.numAddAxisAfterEllipsis,e.dims);for(;a<r;a++)e.begin[a]=0,e.end[a]=0,e.strides[a]=1,e.beginMask|=1<<a,e.endMask|=1<<a,e.finalShapeGatherIndices.push(a),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[a]=n}else if(1<<n&t.newAxisMask)e.finalShapeGatherIndices.push(aE),e.finalShapeGatherIndicesSparse.push(-1);else{if(a===e.begin.length)throw Error(`Index out of range using input dim ${a}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[a]=t.begin[n]),t.end!=null&&(e.end[a]=t.end[n]),e.strides[a]=t.strides[n],t.beginMask&1<<n&&(e.beginMask|=1<<a),t.endMask&1<<n&&(e.endMask|=1<<a),t.shrinkAxisMask&1<<n?(e.finalShapeGatherIndices.push(Vme),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<a):(e.finalShapeGatherIndices.push(a),e.finalShapeGatherIndicesSparse.push(n)),e.inputShapeGatherIndicesSparse[a]=n,a++}}function vL(t,e,a,n,r,s){if(r[e])return a>0?s[e]:s[e+1&1];{const i=t<0?n+t:t;return i<s[0]?s[0]:i>s[1]?s[1]:i}}const qme=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:$3,computeFlatOffset:B3,computeOutShape:L3,getNormalizedAxes:Hme,isSliceContinous:M3,maskToAxes:jme,parseSliceParams:B_,sliceInfo:z3,startForAxis:yU,startIndicesWithElidedDims:pU,stopForAxis:vU,stopIndicesWithElidedDims:mU,stridesForAxis:gU,stridesWithElidedDims:fU},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xme{static sgd(e){return new D3(e)}static momentum(e,a,n=!1){return new nU(e,a,n)}static rmsprop(e,a=.9,n=0,r=null,s=!1){return new rU(e,a,n,r,s)}static adam(e=.001,a=.9,n=.999,r=null){return new tU(e,a,n,r)}static adadelta(e=.001,a=.95,n=null){return new QG(e,a,n)}static adamax(e=.002,a=.9,n=.999,r=null,s=0){return new aU(e,a,n,r,s)}static adagrad(e,a=.1){return new eU(e,a)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tp=Xme;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yme=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function xU(){return new Promise(t=>Yme(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G3(t,e){const a=t[0].length;t.forEach((r,s)=>{K(r.length===a,()=>`Error in concat${a}D: rank of tensors[${s}] must be the same as the rank of the rest (${a})`)}),K(e>=0&&e<a,()=>`Error in concat${a}D: axis must be between 0 and ${a-1}.`);const n=t[0];t.forEach((r,s)=>{for(let i=0;i<a;i++)K(i===e||r[i]===n[i],()=>`Error in concat${a}D: Shape of tensors[${s}] (${r}) does not match the shape of the rest (${n}) along the non-concatenated axis ${s}.`)})}function mc(t,e){const a=t[0].slice();for(let n=1;n<t.length;n++)a[e]+=t[n][e];return a}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var bo;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(bo||(bo={}));function kU(t,e,a){let n=new Array;if(a==null&&e==null)return n;if(e==null)for(;n.length<t+a.length;)n.push(-1);else n=e.slice();if(a==null)return n;if(t+a.length!==n.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+a.length}, but shape.rank = ${n.length}`);for(let r=1;r<a.length;++r){const s=a[r],i=n[n.length-a.length+r],o=n[i];if(s>=0)if(o>=0){if(o!==s)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${r+t}] = ${s} but shape[${r+t}] = ${o}`)}else n[i]=s}return n}function wU(t){const e={FIRST_DIM_SIZE:bo.FIRST_DIM_SIZE,VALUE_ROWIDS:bo.VALUE_ROWIDS,ROW_LENGTHS:bo.ROW_LENGTHS,ROW_SPLITS:bo.ROW_SPLITS,ROW_LIMITS:bo.ROW_LIMITS,ROW_STARTS:bo.ROW_STARTS},a=[];for(const n of t)if(n in e)a.push(e[n]);else break;return a}function bU(t){return t.length===0?0:t[0]===bo.FIRST_DIM_SIZE?t.length-1:t.length}function _U(t,e){if(t==null||e==null)return;const a=t.length,n=e.length;if(a>=n)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${a} must be less than ragged tensor input flatValues.rank = ${n})`);for(let r=0;r<Math.min(a,n-1);++r){const s=t[r],i=e[r+1];if(s>=0&&i>=0&&s!==1&&s!==i)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${r-t.length}] = ${s} but ragged tensor input.flatValues.shape[${r-t.length}] = ${i}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U3=30;function z_(t){return t<=U3?t:$T(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W3(t,e,a){const n=a*(typeof t=="number"?t:t[0]),r=e*(typeof t=="number"?t:t[1]);return[n,r]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L1(t,e,a,n=!0){let r=[];if(n)r=r.concat(e.slice(0)),r.push(t[0]/a),r=r.concat(t.slice(1));else{r=r.concat(t[0]);const s=e.length;for(let i=0;i<s;++i)r=r.concat([t[i+1]/e[i],e[i]]);r=r.concat(t.slice(s+1))}return r}function M1(t,e,a=!0){const n=[];if(a){n.push(e);for(let r=e+1;r<t;++r)r<=2*e?(n.push(r),n.push(r-(e+1))):n.push(r)}else{const r=[],s=[];for(let i=1;i<t;++i)i>=e*2+1||i%2===1?s.push(i):r.push(i);n.push(...r),n.push(0),n.push(...s)}return n}function B1(t,e,a,n=!0){const r=[];n?r.push(t[0]/a):r.push(t[0]*a);for(let s=1;s<t.length;++s)s<=e.length?n?r.push(e[s-1]*t[s]):r.push(t[s]/e[s-1]):r.push(t[s]);return r}function V3(t,e){const a=[0];for(let n=0;n<e;++n)a.push(t[n][0]);return a}function j3(t,e,a){const n=t.slice(0,1);for(let r=0;r<a;++r)n.push(t[r+1]-e[r][0]-e[r][1]);return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G_=1.7580993408473768,U_=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H3=.3275911,K3=.254829592,q3=-.284496736,X3=1.421413741,Y3=-1.453152027,Z3=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yl(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const a=new Float32Array(t.length*2);for(let n=0;n<a.length;n+=2)a[n]=t[n/2],a[n+1]=e[n/2];return a}function AU(t){const e=new Float32Array(t.length/2),a=new Float32Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=t[n],a[n/2]=t[n+1];return{real:e,imag:a}}function NU(t){const e=Math.ceil(t.length/4),a=new Float32Array(e),n=new Float32Array(e);for(let r=0;r<t.length;r+=4)a[Math.floor(r/4)]=t[r],n[Math.floor(r/4)]=t[r+1];return{real:a,imag:n}}function SU(t){const e=Math.floor(t.length/4),a=new Float32Array(e),n=new Float32Array(e);for(let r=2;r<t.length;r+=4)a[Math.floor(r/4)]=t[r],n[Math.floor(r/4)]=t[r+1];return{real:a,imag:n}}function J3(t,e){const a=t[e*2],n=t[e*2+1];return{real:a,imag:n}}function TU(t,e,a,n){t[n*2]=e,t[n*2+1]=a}function EU(t,e){const a=new Float32Array(t/2),n=new Float32Array(t/2);for(let r=0;r<Math.ceil(t/2);r++){const s=(e?2:-2)*Math.PI*(r/t);a[r]=Math.cos(s),n[r]=Math.sin(s)}return{real:a,imag:n}}function CU(t,e,a){const n=(a?2:-2)*Math.PI*(t/e),r=Math.cos(n),s=Math.sin(n);return{real:r,imag:s}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mS="->",Zme=/->/g,xL=",",kL="...";function Q3(t,e){t=t.replace(/\s/g,"");const a=(t.length-t.replace(Zme,"").length)/mS.length;if(a<1)throw new Error("Equations without an arrow are not supported.");if(a>1)throw new Error(`Equation must contain exactly one arrow ("${mS}").`);const[n,r]=t.split(mS);K(n.indexOf(kL)===-1,()=>`The ellipsis notation ("${kL}") is not supported yet.`);const s=n.split(xL),i=s.length;if(e!==i)throw new Error(`Expected ${i} input tensors, received ${e}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let p=0;p<r.length;++p){const m=r[p];if(!s.some(g=>g.indexOf(m)!==-1))throw new Error(`Output subscripts contain the label ${m} not present in the input subscripts.`);o.indexOf(m)===-1&&o.push(m)}for(let p=0;p<n.length;++p){const m=n[p];o.indexOf(m)===-1&&m!==xL&&o.push(m)}const c=new Array(s.length);for(let p=0;p<i;++p){if(new Set(s[p].split("")).size!==s[p].length)throw new Error(`Found duplicate axes in input component ${s[p]}. Support for duplicate axes in input is not implemented yet.`);c[p]=[];for(let m=0;m<s[p].length;++m)c[p].push(o.indexOf(s[p][m]))}const l=o.length,u=r.length,d=[];for(let p=u;p<l;++p)d.push(p);return{allDims:o,summedDims:d,idDims:c}}function eR(t,e){let a=new Array(t);a.fill(-1);for(let r=0;r<e.length;++r)a[e[r]]=r;const n=[];for(let r=0;r<t;++r)a[r]===-1&&n.push(r);return a=a.filter(r=>r!==-1),{permutationIndices:a,expandDims:n}}function tR(t,e,a){const n=new Array(t);for(let r=0;r<a.length;++r){const s=a[r].shape;for(let i=0;i<e[r].length;++i)n[e[r][i]]===void 0?n[e[r][i]]=s[i]:K(n[e[r][i]]===s[i],()=>`Expected dimension ${n[e[r][i]]} at axis ${i} of input shaped ${JSON.stringify(s)}, but got dimension ${s[i]}`)}}function aR(t,e){const a=t,n=[];let r=0;t.length===0&&a.push(-1),r=t.length+1;for(let i=0;i<r;++i)n.push([]);const s=[];for(let i=0;i<a.length;++i){const o=a[i],c=Jme(e,o);for(const l of c)s.indexOf(l)===-1&&(n[i].push(l),s.push(l))}return{path:a,steps:n}}function nR(t){return t.every((e,a)=>e===a)}function Jme(t,e){const a=[];for(let n=0;n<t.length;++n)(t[n].length===0||t[n].indexOf(e)!==-1||e===-1)&&a.push(n);return a}function rR(t,e,a=0){let n=[];if(typeof e=="number")K(t.shape[a]%e===0,()=>"Number of splits must evenly divide the axis."),n=new Array(e).fill(t.shape[a]/e);else{const r=e.reduce((i,o)=>(o===-1&&(i+=1),i),0);K(r<=1,()=>"There should be only one negative value in split array.");const s=e.indexOf(-1);if(s!==-1){const i=e.reduce((o,c)=>c>0?o+c:o);e[s]=t.shape[a]-i}K(t.shape[a]===e.reduce((i,o)=>i+o),()=>"The sum of sizes must match the size of the axis dimension."),n=e}return n}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IU(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function RU(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function DU(t,e,a){return`indices(${t}, 0) is invalid: ${e} >= ${a}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PU(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function FU(t,e){return`size ${t} must be non-negative, not ${e}`}function OU(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function $U(t,e){const a=Me(t),n=Me(e);return`Input to reshape is a SparseTensor with ${a}
  dense values, but the requested shape requires a multiple of ${n}. inputShape=${t} outputShape= ${e}`}function LU(t,e){const a=Me(t),n=Me(e);return`Input to reshape is a tensor with ${a} dense values, but the requested shape has ${n}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nE(){return"segment ids must be >= 0"}function MU(){return"segment ids are not increasing"}function BU(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function zU(t,e,a){return`Bad: indices[${t}] == ${e} out of range [0, ${a})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GU(t,e){let a=!1,n;for(t<=U3?(n=t,a=!0):n=$T(t,Math.floor(Math.sqrt(t)));!a;)n>e||n===t?a=!0:n=$T(t,n+1);return n}function UU(t,e,a){const n=[],r=t.length;for(let s=0;s<r;s++)s!==e?n.push(t[s]):n.push(a);return n}function sR(t,e,a,n){const r=e.shape.length,s=t.shape.length;if(n!==0&&(n<-r||n>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${n}`);if(n<0&&(n+=r),n>s)throw new Error(`batchDims (${n}) must be less than rank(x) (
    ${s}).`);if(a<n)throw new Error(`batchDims (${n}) must be less than or equal to axis (${a}).`);for(let d=0;d<n;++d)if(t.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${t.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const i=t.shape[a],o=[];let c=1,l=1,u=1;for(let d=0;d<n;++d)o.push(t.shape[d]),c*=t.shape[d];for(let d=n;d<a;d++)o.push(t.shape[d]),l*=t.shape[d];for(let d=n;d<r;d++)o.push(e.shape[d]);for(let d=a+1;d<s;d++)o.push(t.shape[d]),u*=t.shape[d];return{batchSize:c,sliceSize:u,outerSize:l,dimSize:i,outputShape:o}}const Qme=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:sR,computeOutShape:UU,segOpComputeOptimalWindowSize:GU},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vl(t){try{return t.map(e=>bu(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function WU(t){return t.map(e=>hu(e))}const e0e=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:K3,ERF_A2:q3,ERF_A3:X3,ERF_A4:Y3,ERF_A5:Z3,ERF_P:H3,PARALLELIZE_THRESHOLD:U3,get RowPartitionType(){return bo},SELU_SCALE:U_,SELU_SCALEALPHA:G_,applyActivation:L_,assertAndGetBroadcastShape:Xt,assertAxesAreInnerMostDims:Br,assertParamsConsistent:G3,assignToTypedArray:TU,axesAreInnerMostDims:r3,calculateShapes:jd,checkEinsumDimSizes:tR,checkPadOnDimRoundingMode:xs,combineLocations:vG,combineRaggedTensorToTensorShapes:kU,complexWithEvenIndex:NU,complexWithOddIndex:SU,computeConv2DInfo:br,computeConv3DInfo:ju,computeDefaultPad:ZI,computeDilation2DInfo:I1,computeOptimalWindowSize:z_,computeOutAndReduceShapes:_r,computeOutShape:mc,computePool2DInfo:ro,computePool3DInfo:Nl,convertConv2DDataFormat:Sl,decodeEinsumEquation:Q3,eitherStridesOrDilationsAreOne:Mr,expandShapeToKeepDim:Mn,exponent:CU,exponents:EU,fromStringArrayToUint8:WU,fromUint8ToStringArray:vl,getAxesPermutation:kn,getBroadcastDims:Up,getComplexWithIndex:J3,getEinsumComputePath:aR,getEinsumPermutation:eR,getFusedBiasGradient:$_,getFusedDyActivation:O_,getImageCenter:W3,getInnerMostAxes:Bn,getPermuted:M1,getRaggedRank:bU,getReductionAxes:cr,getReshaped:L1,getReshapedPermuted:B1,getRowPartitionTypesHelper:wU,getSliceBeginCoords:V3,getSliceSize:j3,getSparseFillEmptyRowsIndicesDenseShapeMismatch:IU,getSparseFillEmptyRowsNegativeIndexErrorMessage:RU,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:DU,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:OU,getSparseReshapeInputOutputMismatchErrorMessage:LU,getSparseReshapeInputOutputMultipleErrorMessage:$U,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:PU,getSparseReshapeNegativeOutputDimErrorMessage:FU,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:zU,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:nE,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:MU,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:BU,getUndoAxesPermutation:Hu,isIdentityPermutation:nR,log:Uoe,mergeRealAndImagArrays:yl,prepareAndValidate:O3,prepareSplitSize:rR,segment_util:Qme,shouldFuse:M_,slice_util:qme,splitRealAndImagArrays:AU,stridesOrDilationsArePositive:gd,tupleValuesAreOne:Nu,upcastType:qs,validateDefaultValueShape:_U,validateInput:b3,validateUpdateShape:MG,warn:ui},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ame();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VU={kernelName:hb,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(t,ym(ut(a,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t0e={kernelName:Fy,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>{const n=Qa(ut(a,"float32")),r=Lr(pt(Pt(1),n));return fn(wt(t,r))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a0e={kernelName:Oy,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>{const n=Lr(pt(Qa(ut(a,"float32")),1));return wt(t,n)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n0e={kernelName:pm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e,r=Xt(a.shape,n.shape);return{a:()=>{let o=t;const c=cr(a.shape,r);return c.length>0&&(o=yt(o,c)),ve(o,a.shape)},b:()=>{let o=t;const c=cr(n.shape,r);return c.length>0&&(o=yt(o,c)),ve(o,n.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r0e={kernelName:pb,saveAllInputs:!0,gradFunc:(t,e)=>{const a={};return e.forEach((n,r)=>{a[r]=()=>t.clone()}),a}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s0e={kernelName:mb,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>Ea(a)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i0e={kernelName:gb,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>Ea(a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o0e={kernelName:$y,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>wt(t,Lr(pt(Pt(1),Qa(ut(a,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c0e={kernelName:Ly,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>{const n=Lr(qe(Pt(1),Qa(ut(a,"float32"))));return wt(t,n)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l0e={kernelName:zy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e,r=Xt(a.shape,n.shape);return{a:()=>{const o=qe(Qa(a),Qa(n));let c=me(t,wt(n,o));const l=cr(a.shape,r);return l.length>0&&(c=yt(c,l)),ve(c,a.shape)},b:()=>{const o=qe(Qa(a),Qa(n));let c=fn(me(t,wt(a,o)));const l=cr(n.shape,r);return l.length>0&&(c=yt(c,l)),ve(c,n.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u0e={kernelName:My,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>wt(t,qe(Qa(ut(a,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f0e={kernelName:By,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>wt(t,pt(Pt(1),Qa(ut(a,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d0e(t,e,a,n,r,s){const i=X(t,"dy","avgPool3dGrad"),o=X(e,"input","avgPool3dGrad");let c=i,l=o,u=!1;o.rank===4&&(u=!0,c=ve(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),l=ve(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),K(c.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),K(l.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${l.rank}.`),xs("avgPool3dGrad",r,s);const d={dy:c,input:l},p={filterSize:a,strides:n,pad:r,dimRoundingMode:s},m=pe.runKernel(jC,d,p);return u?ve(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const h0e=he({avgPool3dGrad_:d0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p0e={kernelName:vb,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,{filterSize:r,strides:s,pad:i,dimRoundingMode:o}=a;return{x:()=>h0e(t,n,r,s,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m0e(t,e,a,n,r){const s=X(t,"dy","avgPoolGrad"),i=X(e,"input","avgPoolGrad");K(i.rank===s.rank,()=>`Rank of input (${i.rank}) does not match rank of dy (${s.rank})`);let o=i,c=s,l=!1;i.rank===3&&(l=!0,o=ve(i,[1,i.shape[0],i.shape[1],i.shape[2]]),c=ve(s,[1,s.shape[0],s.shape[1],s.shape[2]])),K(c.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${c.rank}.`),K(o.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);const u={dy:c,input:o},d={filterSize:a,strides:n,pad:r},p=pe.runKernel(VC,u,d);return l?ve(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const g0e=he({avgPoolGrad_:m0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y0e={kernelName:yb,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,{filterSize:r,strides:s,pad:i}=a;return{x:()=>g0e(t,n,r,s,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v0e={kernelName:xb,inputsToSave:["a","b"],gradFunc:(t,e,a)=>{const[n,r]=e,{transposeA:s,transposeB:i}=a;return!s&&!i?{a:()=>ya(t,r,!1,!0),b:()=>ya(n,t,!0,!1)}:!s&&i?{a:()=>ya(t,r,!1,!1),b:()=>ya(t,n,!0,!1)}:s&&!i?{a:()=>ya(r,t,!1,!0),b:()=>ya(n,t,!1,!1)}:{a:()=>ya(r,t,!0,!0),b:()=>ya(t,n,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x0e={kernelName:kb,gradFunc:(t,e,a)=>{const{blockShape:n,crops:r}=a;return{x:()=>T_(t,n,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k0e={kernelName:Boe,gradFunc:(t,e,a)=>{const n=a,r=n.inputShape,s=n.shape,i=Array.from(s);for(let c=r.length-1;c>=0;c--)if(r[c]===s[c])i[c]=1;else if(r[c]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${s}].`);const o=[];for(let c=0;c<i.length;c++)i[c]>1&&o.push(c);return{x:()=>yt(t,o,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w0e={kernelName:Gy,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b0e={kernelName:Uy,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _0e={kernelName:Wy,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,{clipValueMin:r,clipValueMax:s}=a;return{x:()=>Hr(wc(Ku(n,r),Ud(n,s)),t,Ea(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A0e={kernelName:bb,inputsToSave:["x"],gradFunc:VU.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N0e={kernelName:_b,saveAllInputs:!0,gradFunc:(t,e,a)=>{const n=e.map(c=>c.shape),{axis:r}=a,s=pa(r,e[0].shape)[0],i=n.map(c=>c[s]);return Ks(t,i,s).map(c=>()=>c)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S0e={kernelName:Ab,inputsToSave:["x","filter"],gradFunc:(t,e,a)=>{const[n,r]=e,{dilations:s,strides:i,pad:o,dataFormat:c}=a;return K(Nu(s),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`),{x:()=>QI(n.shape,t,r,i,o,c),filter:()=>T3(n,t,r.shape,i,o,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T0e={kernelName:Nb,inputsToSave:["dy","filter"],gradFunc:(t,e,a)=>{const[n,r]=e,{strides:s,pad:i,dataFormat:o,dimRoundingMode:c}=a;return{dy:()=>Su(t,r,s,i,o,1,c),filter:()=>T3(t,n,r.shape,s,i,o,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E0e(t,e,a,n,r){let s=t;t.rank===4&&(s=ve(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let i=e;i.rank===4&&(i=ve(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),K(s.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${s.shape}.`),K(i.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${i.shape}.`),K(a.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${a}.`),K(s.shape[4]===a[3],()=>`Error in conv3dDerFilter: depth of input ${s.shape[4]}) must match input depth in filter (${a[3]}.`),K(i.shape[4]===a[4],()=>`Error in conv3dDerFilter: depth of dy (${i.shape[4]}) must match output depth for filter (${a[4]}).`);const o={x:s,dy:i},c={strides:n,pad:r,filterShape:a};return pe.runKernel(YC,o,c)}const C0e=he({conv3DBackpropFilter_:E0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I0e={kernelName:Sb,inputsToSave:["x","filter"],gradFunc:(t,e,a)=>{const{dilations:n,strides:r,pad:s}=a;K(Nu(n),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${n}'`);const[i,o]=e;return{x:()=>dG(i.shape,t,o,r,s),filter:()=>C0e(i,t,o.shape,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R0e={kernelName:Vy,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(fn(y3(ut(a,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D0e={kernelName:jy,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(v3(ut(a,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P0e={kernelName:Tb,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,{axis:r,exclusive:s,reverse:i}=a;return{x:()=>{const o=kn([r],n.rank);let c=a3(t,r,s,!i);return o!=null&&(c=Ta(c,o)),c}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F0e={kernelName:Eb,inputsToSave:["x","filter"],gradFunc:(t,e,a)=>{const{dilations:n,strides:r,pad:s,dimRoundingMode:i}=a,o=n??[1,1];K(Nu(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[c,l]=e;return K(c.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${c.rank}.`),K(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${l.rank}.`),K(c.shape[3]===l.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${c.shape[3]}) must match the inChannels dimension in filter ${l.shape[2]}.`),K(Mr(r,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${r} and dilations '${o}'.`),xs("depthwiseConv2d",s,i),{x:()=>KG(c.shape,t,l,r,s,o,i),filter:()=>HG(c,t,l.shape,r,s,o,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O0e={kernelName:Cb,inputsToSave:["x","filter"],gradFunc:(t,e,a)=>{const[n,r]=e,s={x:n,filter:r,dy:t},i={x:n,filter:r,dy:t};return{x:()=>pe.runKernel(LT,s,a),filter:()=>pe.runKernel(MT,i,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $0e={kernelName:Ky,outputsToSave:[!0],gradFunc:(t,e)=>{const[a]=e,n={dy:t,y:a};return{x:()=>pe.runKernel(iI,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L0e={kernelName:qy,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e,n=me(Ys(fn(Qa(a))),2/Math.sqrt(Math.PI));return{x:()=>me(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M0e={kernelName:Xy,outputsToSave:[!0],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(t,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B0e={kernelName:Rb,inputsToSave:["input"],gradFunc:(t,e)=>{const[a]=e;return{input:()=>ve(t,a.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z0e={kernelName:Yy,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(t,Ys(a))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G0e={kernelName:Zy,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U0e={kernelName:Jy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e,r=Xt(a.shape,n.shape);return{a:()=>{const o=wt(t,ut(n,"float32")),c=cr(a.shape,r);return c.length>0?ve(yt(o,c),a.shape):o},b:()=>{let o=me(t,ut(a,"float32"));const c=cr(n.shape,r);c.length>0&&(o=ve(yt(o,c),n.shape));const l=Qa(n);return fn(wt(o,ut(l,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W0e={kernelName:Db,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,a)=>{const{varianceEpsilon:n}=a,[r,s,i,o]=e,c=o??Pt(1),l=cr(s.shape,r.shape),u=[];if(s.rank===1){for(let A=0;A<r.shape.length-1;++A)u.push(r.shape[A]);u.push(1)}const d=pt(r,s),p=me(t,c),m=p3(qe(i,Pt(n))),g=me(me(me(m,m),m),Pt(-.5));return{x:()=>s.rank===1?ve(me(me(t,Hi(ve(m,[1,1,1,s.shape[0]]),u)),c),r.shape):ve(me(me(t,m),c),r.shape),mean:()=>{let A=me(me(m,Pt(-1)),p);return s.rank===1&&(A=yt(A,l)),ve(A,s.shape)},variance:()=>{let A=me(me(g,d),p);return s.rank===1&&(A=yt(A,l)),ve(A,s.shape)},scale:()=>{const A=me(d,m);let S=me(t,A);return s.rank===1&&(S=yt(S,l)),ve(S,s.shape)},offset:()=>{let A=t;return s.rank===1&&(A=yt(A,l)),ve(A,s.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V0e={kernelName:Pb,inputsToSave:["x","indices"],gradFunc:(t,e,a)=>{const[n,r]=e,{axis:s,batchDims:i}=a,o=pa(s,n.shape)[0],c=(l,u,d)=>()=>{const p=l.shape,m=u.size,g=p.slice(0,o),x=g.length,v=p.slice(s,p.length).slice(1),k=v.length,b=wL(0,x),_=wL(x+1,x+1+k),A=bL([g,[m],v]),S=ve(d,A),C=ve(u,[m]),E=bL([[x],b,_]),R=Ta(S,E);let I=A3(R,C,l.shape[o]);const P=Hu(E);return I=Ta(I,P),I};if(i===1){const l=n.shape[0],u=n.split(l,0);return{x:()=>Zs(u.map((m,g)=>c(m,r.slice(g,1),t.slice(g,1))())).reshape(n.shape),indices:()=>r}}else return{x:c(n,r,t),indices:()=>r}}};function wL(t,e){const a=[];for(let n=t;n<e;++n)a.push(n);return a}function bL(t){const e=[];for(let a=0;a<t.length;++a)for(let n=0;n<t[a].length;++n)e.push(t[a][n]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j0e={kernelName:Qy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e;return{a:()=>Ea(a),b:()=>Ea(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H0e={kernelName:e1,gradFunc:t=>({x:()=>ut(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K0e={kernelName:t1,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q0e={kernelName:a1,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X0e={kernelName:n1,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y0e={kernelName:Ob,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,{alpha:r}=a,s=ai(n,0);return{x:()=>Hr(s,t,me(t,r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z0e={kernelName:s1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>wt(t,qe(a,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J0e={kernelName:r1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>wt(t,ut(a,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q0e={kernelName:Goe,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,a)=>{const[n]=e,{axis:r}=a;return{logits:()=>{const i=Ys(n);return pt(t,me(yt(t,r,!0),i))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ege(t,e,a,n=5,r=1,s=1,i=.5){const o={x:t,y:e,dy:a},c={depthRadius:n,bias:r,alpha:s,beta:i};return pe.runKernel(pI,o,c)}const tge=he({localResponseNormalizationBackprop_:ege});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const age={kernelName:Gb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,a)=>{const[n,r]=e,{depthRadius:s,bias:i,alpha:o,beta:c}=a;return{x:()=>tge(n,r,t,s,i,o,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jU(t,e,a,n){return e.rank<a.rank&&(e=ve(e,Mn(e.shape,n))),t.rank<a.rank&&(t=ve(t,Mn(t.shape,n))),{x:()=>me(t,ut(Fo(a,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _L={kernelName:Ub,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,a)=>{const n=a,{reductionIndices:r}=n,s=e[0],i=e[1],o=pa(r,s.shape),c=jU(t,i,s,o);return{x:()=>c.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nge={kernelName:i1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e;return{a:()=>me(t,ut(Ku(a,n),"float32")),b:()=>me(t,ut(Ug(a,n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rge(t,e,a,n,r,s,i){const o=X(t,"dy","maxPool3dGrad"),c=X(e,"input","maxPool3dGrad"),l=X(a,"output","maxPool3dGrad");let u=o,d=c,p=l,m=!1;c.rank===4&&(m=!0,u=ve(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),d=ve(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),p=ve(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),K(u.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`),K(d.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`),K(p.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${p.rank}.`),xs("maxPool3dGrad",s,i);const g={dy:u,input:d,output:p},x={filterSize:n,strides:r,pad:s,dimRoundingMode:i},v=pe.runKernel(gI,g,x);return m?ve(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}const sge=he({maxPool3dGrad_:rge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ige={kernelName:Vb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,a)=>{const[n,r]=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=a;return{x:()=>sge(t,n,r,s,i,o,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oge(t,e,a,n,r,s,i){const o=X(t,"dy","maxPoolGrad"),c=X(e,"input","maxPoolGrad"),l=X(a,"output","maxPoolGrad");K(c.rank===o.rank,()=>`Rank of input (${c.rank}) does not match rank of dy (${o.rank})`),K(o.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),K(c.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${c.rank}.`),xs("maxPoolGrad",s,i);const u={dy:o,input:c,output:l},d={filterSize:n,strides:r,pad:s,dimRoundingMode:i};return pe.runKernel(mI,u,d)}const cge=he({maxPoolGrad_:oge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lge={kernelName:Wb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,a)=>{const[n,r]=e,{filterSize:s,strides:i,pad:o}=a;return{x:()=>cge(t,n,r,s,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uge={kernelName:jb,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,{axis:r}=a,s=pa(r,n.shape),o=_r(n.shape,s)[1],c=Me(o);return{x:()=>{const u=n.shape.slice();s.forEach(m=>{u[m]=1});const d=ve(t,u);return wt(me(d,Hs(n.shape,"float32")),c)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fge={kernelName:Hb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,a)=>{const n=a,{axis:r}=n,[s,i]=e,o=pa(r,s.shape),c=jU(t,i,s,o);return{x:()=>c.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dge={kernelName:o1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e;return{a:()=>me(t,ut(Ud(a,n),"float32")),b:()=>me(t,ut(ai(a,n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hge={kernelName:Kb,inputsToSave:["x"],gradFunc:(t,e,a)=>{const n=e[0],{paddings:r}=a,s=r.map(i=>i[0]);return{x:()=>Na(t,s,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pge={kernelName:c1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e,r=Xt(a.shape,n.shape);return{a:()=>{const o=cr(a.shape,r);return o.length>0?ve(yt(t,o),a.shape):t},b:()=>{const o=me(t,fn(O1(wt(a,n)))),c=cr(n.shape,r);return c.length>0?ve(yt(o,c),n.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mge={kernelName:l1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e,r=Xt(a.shape,n.shape);return{a:()=>{const o=me(t,ut(n,"float32")),c=cr(a.shape,r);return c.length>0?ve(yt(o,c),a.shape):o},b:()=>{const o=me(t,ut(a,"float32")),c=cr(n.shape,r);return c.length>0?ve(yt(o,c),n.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gge={kernelName:qb,gradFunc:t=>({x:()=>fn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yge={kernelName:Zb,inputsToSave:["indices"],gradFunc:(t,e)=>{const a=e[0];return{indices:()=>tr(a.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vge={kernelName:Yb,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xge={kernelName:Jb,saveAllInputs:!0,gradFunc:(t,e,a)=>{const{axis:n}=a;return no(t,n).map(s=>()=>s)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AL={kernelName:Qb,inputsToSave:["x"],gradFunc:(t,e,a)=>{const n=e[0],{paddings:r}=a,s=r.map(i=>i[0]);return{x:()=>Na(t,s,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kge={kernelName:u1,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[a,n,r]=e,s=a,i=n,o=Xt(s.shape,i.shape);return{a:()=>{const u=ut(i,"float32");let d=me(t,me(u,ml(s,pt(u,Pt(1)))));const p=cr(s.shape,o);return p.length>0&&(d=yt(d,p)),ve(d,s.shape)},b:()=>{const u=ai(s,0),d=Hr(u,mi(s),Ea(s));let p=me(t,me(r,d));const m=cr(i.shape,o);return m.length>0&&(p=yt(p,m)),ve(p,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wge={kernelName:e_,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[a,n]=e,r=ai(a,0);return{x:()=>Hr(r,t,me(t,n)),alpha:()=>{let s=Hr(r,Ea(t),me(t,a));const i=cr(n.shape,t.shape);return i.length>0&&(s=yt(s,i)),ve(s,n.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bge(t,e,a){const n=t.shape.slice();n[a]=1;const r=ve(e,n),s=iw(t,a,!0,!1),i=iw(t,a,!0,!0),o=me(s,i);return me(r,o)}function _ge(t,e,a){const n=t.shape.length,r=n-a.length,s=kn(a,n);let i=t;s!=null&&(i=Ta(t,s));const o=i.shape.slice(),l=o.splice(n-a.length,a.length).reduce((p,m)=>p*m,1);o.push(l);const u=i.reshape(o);let d=bge(u,e,r);if(d=d.reshape(i.shape),s!=null){const p=Hu(s);d=Ta(d,p)}return d}const Age={kernelName:t_,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,{axis:r}=a;let s=[];return r==null?s=n.shape.map((i,o)=>o):typeof r=="number"?s=[r]:s=r,{x:()=>_ge(n,t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nge={kernelName:Hy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e,r=Xt(a.shape,n.shape);return{a:()=>{const o=wt(t,ut(n,"float32")),c=cr(a.shape,r);return c.length>0?ve(yt(o,c),a.shape):o},b:()=>{let o=me(t,ut(a,"float32"));const c=cr(n.shape,r);c.length>0&&(o=ve(yt(o,c),n.shape));const l=Qa(n);return fn(wt(o,ut(l,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sge={kernelName:f1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>wt(t,fn(Qa(a)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tge={kernelName:h1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e,n=me(Ud(a,6),ym(a));return{x:()=>me(t,ut(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ege={kernelName:d1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(t,ut(ym(a),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cge={kernelName:a_,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>ve(t,a.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ige={kernelName:r_,inputsToSave:["images"],gradFunc:(t,e,a)=>{const[n]=e,r={dy:t,images:n};return{images:()=>pe.runKernel(EI,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rge={kernelName:n_,inputsToSave:["images"],gradFunc:(t,e,a)=>{const[n]=e,r={dy:t,images:n};return{images:()=>pe.runKernel(TI,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dge={kernelName:s_,gradFunc:(t,e,a)=>{const{dims:n}=a,r=pa(n,t.shape);return{x:()=>ao(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pge={kernelName:p1,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fge={kernelName:m1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>fn(wt(t,me(ml(a,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oge={kernelName:i_,inputsToSave:["condition"],gradFunc:(t,e)=>{const[a]=e;return{condition:()=>ut(Ea(a),"float32"),t:()=>me(t,ut(a,t.dtype)),e:()=>me(t,ut(A_(a),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ge={kernelName:g1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>{const n=ai(a,Pt(0)),r=Pt(G_),s=Pt(U_),i=me(t,s),o=me(me(t,r),Ys(ut(a,"float32")));return Hr(n,i,o)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lge={kernelName:k1,outputsToSave:[!0],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(t,me(a,pt(Pt(1),a)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mge={kernelName:x1,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bge={kernelName:y1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(x_(ut(a,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zge={kernelName:v1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(t3(ut(a,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gge={kernelName:o_,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,{begin:r,size:s}=a,i=n.shape,[o,c]=B_(n,r,s),l=[];for(let u=0;u<t.rank;u++)l.push([o[u],i[u]-o[u]-c[u]]);return{x:()=>qu(t,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uge={kernelName:f_,outputsToSave:[!0],gradFunc:(t,e,a)=>{const[n]=e,{dim:r}=a,s=!0,i=me(t,n);return{logits:()=>pt(i,me(yt(i,[r],s),n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wge={kernelName:w1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(t,pc(a))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NL={kernelName:l_,gradFunc:(t,e,a)=>{const{blockShape:n,paddings:r}=a;return{x:()=>v_(t,n,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SL={kernelName:u_,gradFunc:(t,e,a)=>{const{axis:n}=a;return{x:()=>En(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vge={kernelName:b1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>wt(t,me(Lr(ut(a,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jge={kernelName:LI,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(t,me(ut(a,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hge={kernelName:_1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e,r=Pt(2);return{a:()=>me(t,me(r,pt(a,n))),b:()=>me(t,me(r,pt(n,a)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kge={kernelName:E1,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qge={kernelName:A1,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[a,n]=e,r=Xt(a.shape,n.shape);return{a:()=>{let o=t;const c=cr(a.shape,r);return c.length>0&&(o=yt(o,c)),ve(o,a.shape)},b:()=>{let o=t;const c=cr(n.shape,r);return c.length>0&&(o=yt(o,c)),ve(fn(o),n.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xge={kernelName:c_,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,r=n.shape.slice(),{axis:s}=a;pa(s,n.shape).forEach(l=>{r[l]=1});const o=ve(t,r),c=me(o,Hs(n.shape,"float32"));return{x:()=>c}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yge={kernelName:N1,inputsToSave:["x"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>wt(t,Qa(x_(a)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zge={kernelName:S1,outputsToSave:[!0],gradFunc:(t,e)=>{const[a]=e;return{x:()=>me(pt(Pt(1),Qa(a)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jge={kernelName:T1,inputsToSave:["x"],gradFunc:(t,e,a)=>{const[n]=e,{reps:r}=a;return{x:()=>{let i=Ea(n);if(n.rank===1)for(let o=0;o<r[0];++o)i=qe(i,Na(t,[o*n.shape[0]],[n.shape[0]]));else if(n.rank===2)for(let o=0;o<r[0];++o)for(let c=0;c<r[1];++c)i=qe(i,Na(t,[o*n.shape[0],c*n.shape[1]],[n.shape[0],n.shape[1]]));else if(n.rank===3)for(let o=0;o<r[0];++o)for(let c=0;c<r[1];++c)for(let l=0;l<r[2];++l)i=qe(i,Na(t,[o*n.shape[0],c*n.shape[1],l*n.shape[2]],[n.shape[0],n.shape[1],n.shape[2]]));else if(n.rank===4)for(let o=0;o<r[0];++o)for(let c=0;c<r[1];++c)for(let l=0;l<r[2];++l)for(let u=0;u<r[3];++u)i=qe(i,Na(t,[o*n.shape[0],c*n.shape[1],l*n.shape[2],u*n.shape[3]],[n.shape[0],n.shape[1],n.shape[2],n.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${n.rank} tensors yet.`);return i}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qge={kernelName:_p,gradFunc:(t,e,a)=>{const n=a,{perm:r}=n,s=Hu(r);return{x:()=>Ta(t,s)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eye={kernelName:h_,gradFunc:(t,e,a)=>{const n=a,{axis:r}=n;return{value:()=>Zs(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tye={kernelName:p_,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[a]=e;return{x:()=>aye(t,a)}}};function aye(t,e){const a=Tl(e,Ea(e)),n=$1(t,a);let r=Ku(e,Pt(0,"int32"));const s=n.rank-r.rank;for(let o=0;o<s;++o)r=cs(r,o+1);r=wc(r,Hs(n.shape,"bool"));const i=Ea(n);return Hr(r,n,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nye={kernelName:m_,gradFunc:t=>({x:()=>Ea(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rye=[VU,t0e,a0e,n0e,r0e,s0e,i0e,o0e,c0e,l0e,u0e,f0e,p0e,y0e,v0e,x0e,k0e,w0e,b0e,_0e,A0e,N0e,T0e,S0e,I0e,R0e,D0e,P0e,F0e,O0e,Nge,$0e,L0e,M0e,B0e,z0e,U0e,G0e,W0e,V0e,j0e,H0e,K0e,q0e,X0e,Y0e,Z0e,J0e,Q0e,age,_L,_L,nge,ige,lge,uge,fge,dge,hge,pge,mge,gge,yge,vge,xge,AL,AL,kge,wge,Age,Sge,Tge,Ege,Cge,Ige,Rge,Dge,Pge,Fge,Oge,$ge,Lge,Mge,Bge,zge,Gge,Uge,Wge,NL,NL,SL,SL,Vge,Hge,jge,Kge,qge,Xge,Yge,Zge,Jge,Qge,eye,tye,nye];for(const t of rye)Woe(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.abs=function(){return this.throwIfDisposed(),er(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.acos=function(){return this.throwIfDisposed(),Kz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.acosh=function(){return this.throwIfDisposed(),qz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.add=function(t){return this.throwIfDisposed(),qe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.all=function(t,e){return this.throwIfDisposed(),YI(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.any=function(t,e){return this.throwIfDisposed(),sw(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.argMax=function(t){return this.throwIfDisposed(),md(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.argMin=function(t){return this.throwIfDisposed(),Xz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.asScalar=function(){return this.throwIfDisposed(),K(this.size===1,()=>"The array must have only 1 element."),ve(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.asType=function(t){return this.throwIfDisposed(),ut(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as1D=function(){return this.throwIfDisposed(),ve(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as2D=function(t,e){return this.throwIfDisposed(),ve(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as3D=function(t,e,a){return this.throwIfDisposed(),ve(this,[t,e,a])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as4D=function(t,e,a,n){return this.throwIfDisposed(),ve(this,[t,e,a,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as5D=function(t,e,a,n,r){return this.throwIfDisposed(),ve(this,[t,e,a,n,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.asin=function(){return this.throwIfDisposed(),Yz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.asinh=function(){return this.throwIfDisposed(),Zz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.atan=function(){return this.throwIfDisposed(),Jz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.atan2=function(t){return this.throwIfDisposed(),Qz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.atanh=function(){return this.throwIfDisposed(),eG(this)};ze().prototype.avgPool=function(t,e,a,n){return this.throwIfDisposed(),y_(this,t,e,a,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),v_(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.batchNorm=function(t,e,a,n,r){return this.throwIfDisposed(),R1(this,t,e,a,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.broadcastTo=function(t){return this.throwIfDisposed(),Sp(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cast=function(t){return this.throwIfDisposed(),ut(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.ceil=function(){return this.throwIfDisposed(),iG(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Xs(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof gn&&(t=[t]),En([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.conv1d=function(t,e,a,n,r,s){return this.throwIfDisposed(),JI(this,t,e,a,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.conv2dTranspose=function(t,e,a,n,r){return this.throwIfDisposed(),e3(this,t,e,a,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.conv2d=function(t,e,a,n,r,s){return this.throwIfDisposed(),Su(this,t,e,a,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cos=function(){return this.throwIfDisposed(),x_(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cosh=function(){return this.throwIfDisposed(),t3(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cumprod=function(t,e,a){return this.throwIfDisposed(),iw(this,t,e,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cumsum=function(t,e,a){return this.throwIfDisposed(),a3(this,t,e,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),pG(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.depthwiseConv2d=function(t,e,a,n,r,s){return this.throwIfDisposed(),D1(this,t,e,a,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.dilation2d=function(t,e,a,n,r){return this.throwIfDisposed(),mG(this,t,e,a,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.divNoNan=function(t){return this.throwIfDisposed(),gG(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.div=function(t){return this.throwIfDisposed(),wt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.dot=function(t){return this.throwIfDisposed(),yG(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.elu=function(){return this.throwIfDisposed(),P1(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.equal=function(t){return this.throwIfDisposed(),Fo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.erf=function(){return this.throwIfDisposed(),n3(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),kG(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.exp=function(){return this.throwIfDisposed(),Ys(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.expandDims=function(t){return this.throwIfDisposed(),cs(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.expm1=function(){return this.throwIfDisposed(),wG(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.fft=function(){return this.throwIfDisposed(),P_(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.flatten=function(){return this.throwIfDisposed(),ve(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.floor=function(){return this.throwIfDisposed(),O1(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.floorDiv=function(t){return this.throwIfDisposed(),XI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.gather=function(t,e,a){return this.throwIfDisposed(),$1(this,t,e,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.greaterEqual=function(t){return this.throwIfDisposed(),Ku(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.greater=function(t){return this.throwIfDisposed(),ai(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.ifft=function(){return this.throwIfDisposed(),jg(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.irfft=function(){return this.throwIfDisposed(),k3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.isFinite=function(){return this.throwIfDisposed(),bG(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.isInf=function(){return this.throwIfDisposed(),_G(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.isNaN=function(){return this.throwIfDisposed(),AG(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.leakyRelu=function(t){return this.throwIfDisposed(),w_(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.lessEqual=function(t){return this.throwIfDisposed(),Ud(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.less=function(t){return this.throwIfDisposed(),Ug(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.localResponseNormalization=function(t,e,a,n){return this.throwIfDisposed(),NG(this,t,e,a,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logSigmoid=function(){return this.throwIfDisposed(),SG(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logSoftmax=function(t){return this.throwIfDisposed(),i3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),__(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.log=function(){return this.throwIfDisposed(),mi(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.log1p=function(){return this.throwIfDisposed(),b_(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logicalAnd=function(t){return this.throwIfDisposed(),wc(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logicalNot=function(){return this.throwIfDisposed(),A_(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logicalOr=function(t){return this.throwIfDisposed(),o3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logicalXor=function(t){return this.throwIfDisposed(),TG(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.matMul=function(t,e,a){return this.throwIfDisposed(),ya(this,t,e,a)};ze().prototype.maxPool=function(t,e,a,n){return this.throwIfDisposed(),N_(this,t,e,a,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.max=function(t,e){return this.throwIfDisposed(),Ji(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.maximum=function(t){return this.throwIfDisposed(),Tl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.mean=function(t,e){return this.throwIfDisposed(),Sn(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.min=function(t,e){return this.throwIfDisposed(),Gg(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.minimum=function(t){return this.throwIfDisposed(),vd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),CG(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.mod=function(t){return this.throwIfDisposed(),IG(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.mul=function(t){return this.throwIfDisposed(),me(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.neg=function(){return this.throwIfDisposed(),fn(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.norm=function(t,e,a){return this.throwIfDisposed(),F1(this,t,e,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.notEqual=function(t){return this.throwIfDisposed(),Wp(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.oneHot=function(t,e=1,a=0){return this.throwIfDisposed(),l3(this,t,e,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.onesLike=function(){return this.throwIfDisposed(),gi(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.pad=function(t,e){return this.throwIfDisposed(),qu(this,t,e)};ze().prototype.pool=function(t,e,a,n,r,s){return this.throwIfDisposed(),RG(this,t,e,a,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.pow=function(t){return this.throwIfDisposed(),ml(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.prelu=function(t){return this.throwIfDisposed(),E_(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.prod=function(t,e){return this.throwIfDisposed(),DG(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.reciprocal=function(){return this.throwIfDisposed(),PG(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.relu=function(){return this.throwIfDisposed(),Cc(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.relu6=function(){return this.throwIfDisposed(),d3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.reshapeAs=function(t){return this.throwIfDisposed(),ve(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.reshape=function(t){return this.throwIfDisposed(),ve(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.resizeBilinear=function(t,e,a){return this.throwIfDisposed(),YG(this,t,e,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.resizeNearestNeighbor=function(t,e,a){return this.throwIfDisposed(),ZG(this,t,e,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.reverse=function(t){return this.throwIfDisposed(),ao(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.rfft=function(){return this.throwIfDisposed(),F_(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.round=function(){return this.throwIfDisposed(),h3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.rsqrt=function(){return this.throwIfDisposed(),p3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.selu=function(){return this.throwIfDisposed(),m3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.separableConv2d=function(t,e,a,n,r,s){return this.throwIfDisposed(),g3(this,t,e,a,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sigmoid=function(){return this.throwIfDisposed(),pc(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sign=function(){return this.throwIfDisposed(),FG(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sin=function(){return this.throwIfDisposed(),y3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sinh=function(){return this.throwIfDisposed(),v3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.slice=function(t,e){return this.throwIfDisposed(),Na(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.softmax=function(t){return this.throwIfDisposed(),D_(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.softplus=function(){return this.throwIfDisposed(),gm(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),T_(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.split=function(t,e){return this.throwIfDisposed(),Ks(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sqrt=function(){return this.throwIfDisposed(),Lr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.square=function(){return this.throwIfDisposed(),Qa(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.squaredDifference=function(t){return this.throwIfDisposed(),w3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.squeeze=function(t){return this.throwIfDisposed(),Vd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.stack=function(t,e){this.throwIfDisposed();const a=t instanceof gn?[this,t]:[this,...t];return Zs(a,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.step=function(t){return this.throwIfDisposed(),ym(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.stridedSlice=function(t,e,a,n,r,s,i,o){return this.throwIfDisposed(),OG(this,t,e,a,n,r,s,i,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sub=function(t){return this.throwIfDisposed(),pt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sum=function(t,e){return this.throwIfDisposed(),yt(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.tan=function(){return this.throwIfDisposed(),$G(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.tanh=function(){return this.throwIfDisposed(),yd(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.tile=function(t){return this.throwIfDisposed(),Hi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.toBool=function(){return this.throwIfDisposed(),ut(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.toFloat=function(){return this.throwIfDisposed(),ut(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.toInt=function(){return this.throwIfDisposed(),ut(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.topk=function(t,e){return this.throwIfDisposed(),BG(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.transpose=function(t){return this.throwIfDisposed(),Ta(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.unique=function(t){return this.throwIfDisposed(),zG(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),A3(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.unstack=function(t){return this.throwIfDisposed(),no(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.where=function(t,e){return this.throwIfDisposed(),Hr(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.zerosLike=function(){return this.throwIfDisposed(),Ea(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ac extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ac.prototype)}}class qi extends Error{constructor(e){super(e),Object.setPrototypeOf(this,qi.prototype)}}class xe extends Error{constructor(e){super(e),Object.setPrototypeOf(this,xe.prototype)}}class aa extends Error{constructor(e){super(e),Object.setPrototypeOf(this,aa.prototype)}}class iR extends Error{constructor(e){super(e),Object.setPrototypeOf(this,iR.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class HU{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let a;return this.cache.has(e)&&(a=this.cache.get(e),this.cache.delete(e),this.cache.set(e,a)),a}put(e,a){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,a)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let a=0;a<this.maxEntries-e;a++){const n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function kd(t,e){if(Array.isArray(t)){let a=[];for(let n=0;n<e;n++)a=a.concat(t);return a}else{const a=new Array(e);return a.fill(t),a}}function nc(t,e){if(!t)throw new iR(e)}function TL(t,e){let a=0;for(const n of t)n===e&&a++;return a}function Ts(t){return t.length===1?t[0]:t}function ja(t){return Array.isArray(t)?t:[t]}function el(t){const a=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return a[0]!=="_"?a:"private"+a}function $f(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,a)=>a.toUpperCase())}let Oi={};function oR(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function rE(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>rE(e));else{const e=Object.keys(t);for(const a of e){const n=t[a];n!=null&&typeof n=="object"&&(!Array.isArray(n)&&n.type==="ndarray"&&typeof n.value=="number"?t[a]=n.value:rE(n))}}}function z1(t,e={},a={},n="object",r=!1){if(typeof t=="string"){const s=t;let i;if(s in a)i=a[s];else if(s in Oi)i=Oi[s];else if(i=e[s],i==null)throw new xe(`Unknown ${n}: ${t}. This may be due to one of the following reasons:
1. The ${n} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${n} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}else{const s=t;if(s.className==null||s.config==null)throw new xe(`${n}: Improper config format: ${JSON.stringify(s)}.
'className' and 'config' must set.`);const i=s.className;let o,c;if(i in a?[o,c]=a[i]:i in Oi?[o,c]=Oi.className:i in e&&([o,c]=e[i]),o==null)throw new xe(`Unknown ${n}: ${i}. This may be due to one of the following reasons:
1. The ${n} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${n} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(c!=null){const l={};for(const m of Object.keys(Oi))l[m]=Oi[m];for(const m of Object.keys(a))l[m]=a[m];const u=s.config;u.customObjects=l;const d=Object.assign({},Oi);for(const m of Object.keys(a))Oi[m]=a[m];rE(s.config);const p=c(o,s.config,a,r);return Oi=Object.assign({},d),p}else{const l=Object.assign({},Oi);for(const d of Object.keys(a))Oi[d]=a[d];const u=new o(s.config);return Oi=Object.assign({},l),u}}}function sye(t,e){return t<e?-1:t>e?1:0}function Wx(t,e){return-1*sye(t,e)}function pu(t){if(t==null)return t;const e=[];for(const a of t)e.indexOf(a)===-1&&e.push(a);return e}function iye(t){if(t==null)throw new xe(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function Hd(t,e,a){if(a!=null&&t.indexOf(a)<0)throw new xe(`${a} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function cR(t,e,a=0,n=1/0){return nc(a>=0),nc(n>=a),Array.isArray(t)&&t.length>=a&&t.length<=n&&t.every(r=>typeof r===e)}function xr(t,e){Array.isArray(t)?(K(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((a,n)=>xr(a,`element ${n+1} of ${e}`))):K(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${KU(t)}.`)}function KU(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>KU(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function oye(t,e,a){let n=a!=null?a():Ss(),r;return(...i)=>{const o=a!=null?a():Ss();return o-n<e||(n=o,r=t(...i)),r}}function qU(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let cye=0;function XU(){return cye++}const Vx={};function W_(t=""){return t in Vx||(Vx[t]=0),Vx[t]+=1,t+Vx[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const lye=["channelsFirst","channelsLast"],uye=["nearest","bilinear"],fye=["valid","same","causal"],dye=["max","avg"],hye=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const ap=new Map;function zn(t){Hd(lye,"DataFormat",t)}function pye(t){Hd(uye,"InterpolationFormat",t)}function wi(t){Hd(fye,"PaddingMode",t)}function YU(t){Hd(dye,"PoolMode",t)}const lg=[],EL="/";function Xf(t,e){lg.push(t);try{const a=e();return lg.pop(),a}catch(a){throw lg.pop(),a}}function mye(){return lg.length===0?"":lg.join(EL)+EL}function ZU(t){if(!QU(t))throw new Error("Not a valid tensor name: '"+t+"'");return mye()+t}function JU(t){if(!QU(t))throw new Error("Not a valid tensor name: '"+t+"'");ap.has(t)||ap.set(t,0);const e=ap.get(t);if(ap.set(t,ap.get(t)+1),e>0){const a=`${t}_${e}`;return ap.set(a,1),a}else return t}const gye=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function QU(t){return!!t.match(gye)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function yye(t){return t===parseInt(t.toString(),10)}function mu(t,e,a){e==null&&(e=0),a==null&&(a=t.length);let n=1;for(let r=e;r<a;++r)n*=t[r];return n}function jp(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let a=0;a<t.length;a++){const n=t[a];n<e&&(e=n)}return e}function Tu(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let a=0;a<t.length;a++){const n=t[a];n>e&&(e=n)}return e}function Oo(t,e){if(e<t)throw new xe(`end (${e}) < begin (${t}) is forbidden.`);const a=[];for(let n=t;n<e;++n)a.push(n);return a}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let gS;function ar(){return gS==null&&(gS=Rz().epsilon()),gS}function $o(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function gc(t,e){return ut(t,e)}function G1(t,e=-1){const a=t.shape.slice();return e<0&&(e=a.length+e+1),a.splice(e,0,1),ve(t,a)}function vye(t,e){return Ne(()=>{if(t.shape.length!==2)throw new xe(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const a=G1(t,1);return sE(a,[1,e,1])})}function xye(t){const e=[mu(t.shape)];return ve(t,e)}function kye(t){if(t.rank<=1)throw new xe(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],mu(t.shape,1)];return ve(t,e)}function Yf(t,e,a){return Ne(()=>{switch(t.rank){case 1:return I_(t,e,a);case 2:return x3(t,[e,0],[a,t.shape[1]]);case 3:return R_(t,[e,0,0],[a,t.shape[1],t.shape[2]]);case 4:return Vg(t,[e,0,0,0],[a,t.shape[1],t.shape[2],t.shape[3]]);case 5:return Na(t,[e,0,0,0,0],[a,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return Na(t,[e,0,0,0,0,0],[a,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new xe(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function yS(t,e,a){return Ne(()=>{switch(t.rank){case 1:return I_(t,e,a);case 2:return x3(t,[0,e],[t.shape[0],a]);case 3:return R_(t,[0,0,e],[t.shape[0],t.shape[1],a]);case 4:return Vg(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],a]);default:throw new xe(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function jx(t,e,a,n){return Ne(()=>{switch(t.rank){case 1:return I_(t,e,a);case 2:switch(n){case 1:return Yf(t,e,a);case 2:return yS(t,e,a);default:throw new xe(`The axis is not within the rank of the tensor ${n}`)}case 3:switch(n){case 1:return Yf(t,e,a);case 2:return R_(t,[0,e,0],[t.shape[0],a,t.shape[2]]);case 3:return yS(t,e,a);default:throw new xe(`The axis is not within the rank of the tensor ${n}`)}case 4:switch(n){case 1:return Yf(t,e,a);case 2:return Vg(t,[0,e,0,0],[t.shape[0],a,t.shape[2],t.shape[3]]);case 3:return Vg(t,[0,0,e,0],[t.shape[0],t.shape[1],a,t.shape[3]]);case 4:return yS(t,e,a);default:throw new xe(`The axis is not within the rank of the tensor ${n}`)}default:throw new xe(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function lR(t,e=-1){let a;return e<0&&(a=t[0].rank,a!==0?e=a:e=0),e===t[0].rank&&(e=-1),En(t,e)}function CL(t,e){switch(t.rank){case 1:return oG([t,e]);case 2:return cG([t,e],0);case 3:return lG([t,e],0);case 4:return uG([t,e],0);default:throw new xe(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function sE(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new xe(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return Hi(t,e)}function V_(t,e=0,a=1,n,r){return f3(t,e,a,n,r)}function yc(t,e,a,n){if(t.rank<2||e.rank<2)throw new aa(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const r=t.shape.slice(-1)[0],s=e.shape.slice(-2)[0];if(r!==s)throw new aa(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return eE({a:t,b:e,transposeA:!1,transposeB:!1,bias:n?iE(t.rank,n,$o()):null,activation:a});{const r=t.shape.slice(),s=r.pop();t=ve(t,[-1,s]);const i=e.shape.slice(),o=i.pop(),c=i.pop(),l=[...i,o],u=Array.from({length:e.rank},(g,x)=>x===0?e.rank-2:x<=e.rank-2?x-1:x);e=ve(Ta(e,u),[c,-1]);const d=[...r,...l];return ve(eE({a:t,b:e,transposeA:!1,transposeB:!1,bias:n?iE(t.rank,n,$o()):null,activation:a}),d)}}function e7(t,e,a){return Ne(()=>(Array.isArray(e)?e=ds(e,"int32"):e=ut(e,"int32"),$1(t,e,a)))}function U1(t){return me(t,t)}function iE(t,e,a){const n=e.shape;if(e.rank!==1&&e.rank!==t)throw new xe(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(a==="channelsFirst")return n.length===1?ve(e,[1,n[0],1,1,1]):ve(e,[1,n[3],n[0],n[1],n[2]]);if(a==="channelsLast")return n.length===1?ve(e,[1,1,1,1,n[0]]):ve(e,[1].concat(n))}else if(t===4){if(a==="channelsFirst")return n.length===1?ve(e,[1,n[0],1,1]):ve(e,[1,n[2],n[0],n[1]]);if(a==="channelsLast")return n.length===1?ve(e,[1,1,1,n[0]]):ve(e,[1].concat(n))}else if(t===3){if(a==="channelsFirst")return n.length===1?ve(e,[1,n[0],1]):ve(e,[1,n[1],n[0]]);if(a==="channelsLast")return n.length===1?ve(e,[1,1,n[0]]):ve(e,[1].concat(n))}else if(t<3)return e;throw new xe(`Unsupported input rank by biasAdd: ${e.rank}`)}function Wo(t,e,a){return Ne(()=>(a==null&&(a=$o()),zn(a),qe(t,iE(t.rank,e,a))))}function wye(t,e=1){if(e!==1)throw new aa(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return P1(t)}function bye(t){return Ne(()=>wt(t,qe(er(t),1)))}function t7(t,e,a,n){return Ne(()=>WG(t,e,a,n))}function _ye(t){return Ne(()=>{const e=qe(.5,me(.2,t));return Xs(e,0,1)})}function W1(t,e,a=!1){return a?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Aye=["fanIn","fanOut","fanAvg"],Nye=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Sye(t){Hd(Aye,"FanMode",t)}function Tye(t){Hd(Nye,"Distribution",t)}class so extends xm{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class a7 extends so{apply(e,a){return tr(e,a)}}a7.className="Zeros";Ye(a7);class uR extends so{apply(e,a){return Hs(e,a)}}uR.className="Ones";Ye(uR);class n7 extends so{constructor(e){if(super(),typeof e!="object")throw new xe(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new xe(`config must have value set but got ${e}`);this.value=e.value}apply(e,a){return Ne(()=>me(Pt(this.value),Hs(e,a)))}getConfig(){return{value:this.value}}}n7.className="Constant";Ye(n7);class r7 extends so{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,a){return Wd(e,this.minval,this.maxval,a,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}r7.className="RandomUniform";Ye(r7);class s7 extends so{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,a){if(a=a||"float32",a!=="float32"&&a!=="int32")throw new aa(`randomNormal does not support dType ${a}.`);return V_(e,this.mean,this.stddev,a,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}s7.className="RandomNormal";Ye(s7);class i7 extends so{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,a){if(a=a||"float32",a!=="float32"&&a!=="int32")throw new aa(`truncatedNormal does not support dType ${a}.`);return _3(e,this.mean,this.stddev,a,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}i7.className="TruncatedNormal";Ye(i7);class o7 extends so{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,a){return Ne(()=>{if(e.length!==2||e[0]!==e[1])throw new xe("Identity matrix initializer can only be used for 2D square matrices.");return me(this.gain,s3(e[0]))})}getConfig(){return{gain:this.gain}}}o7.className="Identity";Ye(o7);function Eye(t,e="channelsLast"){let a,n;if(zn(e),t.length===2)a=t[0],n=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const r=mu(t,2);a=t[1]*r,n=t[0]*r}else if(e==="channelsLast"){const r=mu(t,0,t.length-2);a=t[t.length-2]*r,n=t[t.length-1]*r}}else{const r=mu(t);a=Math.sqrt(r),n=Math.sqrt(r)}return[a,n]}class Js extends so{constructor(e){if(super(),e.scale<0)throw new xe(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,Sye(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,Tye(this.distribution),this.seed=e.seed}apply(e,a){const n=Eye(e),r=n[0],s=n[1];let i=this.scale;if(this.mode==="fanIn"?i/=Math.max(1,r):this.mode==="fanOut"?i/=Math.max(1,s):i/=Math.max(1,(r+s)/2),this.distribution==="normal"){const o=Math.sqrt(i);if(a=a||"float32",a!=="float32"&&a!=="int32")throw new aa(`${this.getClassName()} does not support dType ${a}.`);return _3(e,0,o,a,this.seed)}else{const o=Math.sqrt(3*i);return Wd(e,-o,o,a,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Js.className="VarianceScaling";Ye(Js);class fR extends Js{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Js.className}}fR.className="GlorotUniform";Ye(fR);class dR extends Js{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Js.className}}dR.className="GlorotNormal";Ye(dR);class hR extends Js{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Js.className}}hR.className="HeNormal";Ye(hR);class pR extends Js{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Js.className}}pR.className="HeUniform";Ye(pR);class mR extends Js{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Js.className}}mR.className="LeCunNormal";Ye(mR);class gR extends Js{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Js.className}}gR.className="LeCunUniform";Ye(gR);class c7 extends so{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,a){return Ne(()=>{if(e.length<2)throw new aa("Shape must be at least 2D.");if(a!=="int32"&&a!=="float32"&&a!==void 0)throw new TypeError(`Unsupported data type ${a}.`);a=a;const n=Me(e.slice(0,-1)),r=e[e.length-1],s=n*r;s>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${s}) elements: Slowness may result.`);const i=[Math.max(r,n),Math.min(r,n)],o=V_(i,0,1,a,this.seed),c=JG.qr(o,!1);let l=c[0];const d=c[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return l=me(l,d.sign()),n<r&&(l=l.transpose()),me(Pt(this.gain),l.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}c7.className="Orthogonal";Ye(c7);const IL={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function RL(t,e={}){return z1(t,ji.getMap().classNameMap,e,"initializer")}function yn(t){return oR(t)}function dn(t){if(typeof t=="string"){const e=t in IL?IL[t]:t;if(e==="GlorotNormal")return new dR;if(e==="GlorotUniform")return new fR;if(e==="HeNormal")return new hR;if(e==="HeUniform")return new pR;if(e==="LeCunNormal")return new mR;if(e==="LeCunUniform")return new gR;{const a={};return a.className=e,a.config={},RL(a)}}else return t instanceof so?t:RL(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function oE(t){return Array.isArray(t)&&Array.isArray(t[0])}function ow(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function zt(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new xe(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function Oa(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new xe(`Expected exactly 1 Shape; got ${t.length}`)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function cw(t){let e=0;for(const a of t)a.shape.length===0?e+=1:e+=a.shape.reduce((n,r)=>n*r);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const DL="Variable";class Cye{constructor(e,a="float32",n=DL,r=!0,s=null){this.dtype=a??"float32",this.shape=e.shape,this.id=XU(),n=n??DL,this.originalName=ZU(n),this.name=JU(this.originalName),this.trainable_=r,this.constraint=s,this.val=GG(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),Iye(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function Iye(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function cE(t){return t.map(e=>e.read())}function yR(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class nr{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class bc{constructor(e,a,n,r,s,i,o){this.dtype=e,this.shape=a,this.sourceLayer=n,this.inputs=r,this.callArgs=s,this.outputTensorIndex=o,this.id=XU(),i!=null&&(this.originalName=ZU(i),this.name=JU(this.originalName)),this.rank=a.length}}let Rye=0,j_=class{constructor(e,a){this.callArgs=a,this.id=Rye++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const n of e.inboundLayers)n!=null&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const a of this.inboundLayers)a!=null?e.push(a.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},Dye=0;class ma extends xm{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Dye++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let a=e.name;if(!a){const n=this.getClassName();a=el(n)+"_"+W_(n)}if(this.name=a,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let n;if(e.batchInputShape!=null)n=e.batchInputShape;else if(e.inputShape!=null){let s=null;e.batchSize!=null&&(s=e.batchSize),n=[s].concat(e.inputShape)}this.batchInputShape=n;let r=e.dtype;r==null&&(r=e.inputDType),r==null&&(r="float32"),this.dtype=r}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,a){return e.name+"_ib-"+a.toString()}getNodeAtIndex(e,a){if(this.inboundNodes.length===0)throw new qi(`The layer has never been called and thus has no defined ${a}.`);if(this.inboundNodes.length<=e)throw new xe(`Asked to get ${a} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Ts(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Ts(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new ac(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new ac(`Layer ${this.name} is not connected, no input to return.`);return Ts(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new ac(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new ac(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Ts(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(a=>a.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const a=ja(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const n=ja(this.inputSpec);if(a.length!==n.length)throw new xe(`Layer ${this.name} expects ${n.length} inputs, but it received ${a.length} input tensors. Input received: ${e}`);for(let r=0;r<a.length;r++){const s=a[r],i=n[r];if(i==null)continue;const o=s.rank;if(i.ndim!=null&&o!==i.ndim)throw new xe(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${o}`);if(i.maxNDim!=null&&o>i.maxNDim)throw new xe(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${o}`);if(i.minNDim!=null&&o<i.minNDim)throw new xe(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${o}.`);if(i.dtype!=null&&s.dtype!==i.dtype)throw new xe(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${s.dtype}.`);if(i.axes){const c=s.shape;for(const l in i.axes){const u=Number(l),d=i.axes[l],p=u>=0?c[u]:c[c.length+u];if(d!=null&&[d,null].indexOf(p)===-1)throw new xe(`Input ${r} is incompatible with layer ${this.name}: expected axis ${u} of input shape to have value ${d} but got shape ${c}.`)}}if(i.shape!=null)for(let c=0;c<i.shape.length;++c){const l=i.shape[c],u=s.shape[c];if(l!=null&&u!=null&&l!==u)throw new xe(`Input ${r} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${s.shape}.`)}}}call(e,a){return e}invokeCallHook(e,a){this._callHook!=null&&this._callHook(e,a)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,a){a=a||{},this.assertNotDisposed();const n=ja(e),r=Oye(e),s=$ye(e);if(r===s)throw new xe("Arguments to apply() must be all SymbolicTensors or all Tensors");return Xf(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const i=[];for(const o of ja(e))i.push(o.shape);this.build(Ts(i)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&s&&(this._refCount=1)}if(this.assertInputCompatibility(e),s){let i=this.call(e,a);this.supportsMasking&&this.setMaskMetadata(e,i);const o=ja(i),c=[];for(let l of o)n.indexOf(l)!==-1&&(l=l.clone()),c.push(l);if(i=Ts(c),this.activityRegularizer!=null)throw new aa("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return i}else{const i=Pye(e),o=this.computeOutputShape(i);let c;const l=Fye(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?i[0]:i),o!=null&&o.length>0&&Array.isArray(o[0])?c=o.map((u,d)=>new bc(l,u,this,ja(e),a,this.name,d)):c=new bc(l,o,this,ja(e),a,this.name),this.addInboundNode(e,c,null,null,i,o,a),this._refCount++,this.activityRegularizer!=null)throw new aa("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return c}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let a=!1;this.batchInputShape.forEach((n,r)=>{n!=null&&e[r]!=null&&e[r]!==n&&(a=!0)}),a&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new ac(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const a of this.inboundNodes){const n=JSON.stringify(a.outputShapes);e.indexOf(n)===-1&&e.push(n)}if(e.length===1){const a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&a.length===1?a[0]:a}else throw new ac(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new qi(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return cw(this.weights)}build(e){this.built=!0}getWeights(e=!1){return cE(e?this.trainableWeights:this.weights)}setWeights(e){Ne(()=>{const a=this.weights;if(a.length!==e.length)throw new xe(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${a.length} weights. Provided weights: ${e}...`);if(a.length===0)return;const n=[],r=cE(a);for(let s=0;s<r.length;++s){const i=r[s],o=a[s],c=e[s];if(!_a(i.shape,c.shape))throw new xe(`Layer weight shape ${i.shape} not compatible with provided weight shape ${c.shape}`);n.push([o,c])}yR(n)})}addWeight(e,a,n,r,s,i,o,c){if(this._addedWeightNames.indexOf(e)!==-1)throw new xe(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),n==null&&(n="float32"),this.fastWeightInitDuringBuild&&(r=c!=null?c():dn("zeros"));const l=r.apply(a,n),u=new Cye(l,n,e,i,o);return l.dispose(),s!=null&&this.addLoss(()=>s.apply(u.read())),i==null&&(i=!0),i?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=ja(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,a){if(!this.supportsMasking){if(a!=null)if(Array.isArray(a))a.forEach(n=>{if(n!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return a}setMaskMetadata(e,a,n){if(!this.supportsMasking)return;const r=this.computeMask(e,n),s=ja(a),i=ja(r);if(s.length!==i.length)throw new Error(`${this.name} outputs ${s.length} tensors but ${s.length} masks for those tensors`);for(let o=0;o<s.length;o++)s[o].kerasMask=i[o]}addInboundNode(e,a,n,r,s,i,o=null){const c=ja(e);a=ja(a),n=ja(n),r=ja(r),s=ow(s),i=ow(i);const l=[],u=[],d=[];for(const p of c)l.push(p.sourceLayer),u.push(p.nodeIndex),d.push(p.tensorIndex);new j_({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:d,inputTensors:c,outputTensors:a,inputMasks:n,outputMasks:r,inputShapes:s,outputShapes:i},o);for(let p=0;p<a.length;p++)a[p].sourceLayer=this,a[p].nodeIndex=this.inboundNodes.length-1,a[p].tensorIndex=p}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function Pye(t){t=ja(t);const e=[];for(const a of t)e.push(a.shape);return Ts(e)}function Fye(t){return"float32"}function l7(t,e,a){if((e==null||a!=null&&a>0)&&(e=t.sourceLayer,a=t.nodeIndex),e.inboundNodes.length===0)return[t];{const n=e.inboundNodes[a];if(n.inboundLayers.length===0)return n.inputTensors;{const r=[];for(let s=0;s<n.inboundLayers.length;s++){const i=n.inputTensors[s],o=n.inboundLayers[s],c=n.nodeIndices[s],l=l7(i,o,c);for(const u of l)r.indexOf(u)===-1&&r.push(u)}return r}}}function Oye(t){let e=!0;for(const a of ja(t))if(!(a instanceof bc)){e=!1;break}return e}function $ye(t){let e=!0;for(const a of ja(t))if(a instanceof bc){e=!1;break}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class V1 extends ma{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:W_("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new xe("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let a=e.batchInputShape;if(a==null){if(e.inputShape==null)throw new xe("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");a=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new xe("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=a,this.dtype=n,this.inputSpec=[{shape:a}];const r=new bc(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new j_({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[a],outputShapes:[a]})}apply(e,a){throw new xe(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}V1.className="InputLayer";Ye(V1);function Lye(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new xe("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let a=t.dtype;return a==null&&(a="float32"),new V1({batchInputShape:e,name:t.name,dtype:a,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Mye(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return ut(e,t.dtype)}catch{throw new xe(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class lu{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof lu)for(const a in e.id2Value)this.id2Value[a]=e.id2Value[a],a in e.id2Mask&&(this.id2Mask[a]=e.id2Mask[a]);else{if(e==null)return;for(const a of e)this.add(a.key,a.value)}}add(e,a,n){if(this.id2Value[e.id]==null)this.id2Value[e.id]=Mye(e,a),this.name2Id[e.name]=e.id,n!=null&&(this.id2Mask[e.id]=n);else throw new xe(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof bc){if(this.id2Value[e.id]==null)throw new xe(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const a=this.name2Id[e];if(a==null)throw new xe(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[a]}}getMask(e){if(e instanceof bc){if(this.id2Value[e.id]==null)throw new xe(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const a=this.name2Id[e];if(a==null)throw new xe(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[a]}}disposeMasks(){this.id2Mask!=null&&da(this.id2Mask)}}const lw=new HU,uw=new HU;function Bye(t){lw!=null&&lw.setMaxEntries(t),uw!=null&&uw.setMaxEntries(t)}function K0(t,e,a,n){const r=a==null?!1:a.training,s=Array.isArray(t),i=s?t:[t],o=i.map(g=>g.name),c=[],l=e.names();for(const g of o)l.indexOf(g)!==-1?c.push(e.getValue(g)):c.push(null);const u=o.join(",")+"|"+e.names().sort().join(",");let d=lw.get(u),p;if(d==null){const g=zye(i,e);d=g.sorted,p=g.recipientCounts,lw.put(u,d),uw.put(u,p)}p={},r||Object.assign(p,uw.get(u));const m=new lu(e);for(let g=0;g<d.length;++g){const x=d[g],v=x.sourceLayer;if(v instanceof V1)continue;const k=[],b=[],_=[];let A=!1;for(const I of x.inputs){const P=m.getValue(I),D=m.getMask(I);k.push(P),b.push(D),D!=null&&(A=!0),r||(p[I.name]--,p[I.name]===0&&!e.hasKey(I)&&o.indexOf(I.name)===-1&&!P.isDisposed&&I.sourceLayer.stateful!==!0&&_.push(P))}A&&(a=a||{},a.mask=b[0]);const S=ja(v.apply(k,a));let C=null;v.supportsMasking&&(C=v.computeMask(k,b));const E=Uye(x),R=Array.isArray(E)?E:[E];for(let I=0;I<R.length;++I){m.hasKey(R[I])||m.add(R[I],S[I],Array.isArray(C)?C[0]:C);const P=o.indexOf(R[I].name);P!==-1&&(c[P]=S[I])}r||da(_)}return m.disposeMasks(),s?c:c[0]}function zye(t,e){K(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let a=[],n={};if(t.length===1){const r=PL(t[0],e);a=r.sorted,n=r.recipientMap}else{const r=new Set;for(const s of t){const{sorted:i,recipientMap:o}=PL(s,e);for(const c of i)r.has(c.name)||(a.push(c),r.add(c.name));for(const c in o)n[c]==null&&(n[c]=new Set),o[c].forEach(l=>n[c].add(l))}}return{sorted:a,recipientCounts:Gye(n)}}function Gye(t){const e={};for(const a in t)e[a]=t[a].size;return e}function PL(t,e){const a=new Set,n=[],r={};for(const o of e.names())a.add(o);const s=[],i=[];for(s.push(t);s.length>0;){const o=s[s.length-1];if(a.has(o.name)){s.pop();continue}const c=i[i.length-1]===s.length-1;if(o.inputs.length===0||c)s.pop(),n.push(o),a.add(o.name),c&&i.pop();else{i.push(s.length-1);for(const l of o.inputs)r[l.name]==null&&(r[l.name]=new Set),r[l.name].add(o.name),!a.has(l.name)&&s.push(l)}}return{sorted:n,recipientMap:r}}function Uye(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let a=null;for(let n=0;n<t.sourceLayer.inboundNodes.length;++n)for(const r of t.sourceLayer.inboundNodes[n].outputTensors)if(r.id===t.id){a=n;break}e=t.sourceLayer.getOutputAt(a)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wye=Ce();Wye.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,Bye);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function vR(t,e){return Ne(()=>Lr(yt(me(t,t),e,!0)))}class j1 extends xm{getConfig(){return{}}}class u7 extends j1{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ne(()=>{const a=vR(e,this.axis),n=Xs(a,0,this.maxValue);return me(e,wt(n,qe(ar(),a)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}u7.className="MaxNorm";Ye(u7);class f7 extends j1{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ne(()=>wt(e,qe(ar(),vR(e,this.axis))))}getConfig(){return{axis:this.axis}}}f7.className="UnitNorm";Ye(f7);class d7 extends j1{apply(e){return Cc(e)}}d7.className="NonNeg";Ye(d7);class h7 extends j1{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ne(()=>{const a=vR(e,this.axis),n=qe(me(this.rate,Xs(a,this.minValue,this.maxValue)),me(1-this.rate,a));return me(e,wt(n,qe(ar(),a)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}h7.className="MinMaxNorm";Ye(h7);const FL={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function sr(t){return oR(t)}function OL(t,e={}){return z1(t,ji.getMap().classNameMap,e,"constraint")}function ir(t){if(t==null)return null;if(typeof t=="string"){const a={className:t in FL?FL[t]:t,config:{}};return OL(a)}else return t instanceof j1?t:OL(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Tf(t){if(t==null)return;const e=[],a=[],n=[];for(const r in t){const s=t[r];if(typeof s!="number"){const i=s;e.push(i.data()),a.push(r),n.push(i)}}if(e.length>0){const r=await Promise.all(e);for(let s=0;s<r.length;++s)t[a[s]]=r[s][0];da(n)}}function p7(t){if(t!=null)for(const e in t){const a=t[e];typeof a!="number"&&a.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var $L;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})($L||($L={}));const Vye=125;class Hg{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,a){}async onEpochEnd(e,a){}async onBatchBegin(e,a){}async onBatchEnd(e,a){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class jye{constructor(e,a=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=a}append(e){this.callbacks.push(e)}setParams(e){for(const a of this.callbacks)a.setParams(e)}setModel(e){for(const a of this.callbacks)a.setModel(e)}async onEpochBegin(e,a){a==null&&(a={});for(const n of this.callbacks)await n.onEpochBegin(e,a)}async onEpochEnd(e,a){a==null&&(a={});for(const n of this.callbacks)await n.onEpochEnd(e,a)}async onBatchBegin(e,a){a==null&&(a={});for(const n of this.callbacks)await n.onBatchBegin(e,a)}async onBatchEnd(e,a){a==null&&(a={});for(const n of this.callbacks)await n.onBatchEnd(e,a)}async onTrainBegin(e){e==null&&(e={});for(const a of this.callbacks)await a.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const a of this.callbacks)await a.onTrainEnd(e)}}class Hye extends Hg{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,a){a==null&&(a={});const n=a.size==null?0:a.size;this.seen+=n;for(const r in a){const s=a[r];if(typeof s=="number")this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+s*n;else{let i;r in this.totals?i=this.totals[r]:this.totals[r]=0;const o=Ne(()=>qe(this.totals[r],me(s,n)));this.totals[r]=o,i!=null&&i.dispose()}}}async onEpochEnd(e,a){if(a!=null)for(const n of this.params.metrics)this.totals[n]!=null&&(typeof this.totals[n]=="number"?a[n]=this.totals[n]/this.seen:Ne(()=>{const r=me(wt(1,this.seen),this.totals[n]);a[n]=r,this.totals[n].dispose(),vr(a[n])}))}}class Kye extends Hg{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,a){a==null&&(a={}),this.epoch.push(e);for(const n in a)this.history[n]==null&&(this.history[n]=[]),this.history[n].push(a[n])}async syncData(){const e=[],a=[],n=[];for(const s in this.history){const i=this.history[s];for(let o=0;o<i.length;++o)if(typeof i[o]!="number"){const c=i[o];e.push(c.data()),a.push(s),n.push(o)}}const r=await Promise.all(e);for(let s=0;s<r.length;++s)this.history[a[s]][n[s]].dispose(),this.history[a[s]][n[s]]=r[s][0]}}class qye extends Hg{constructor(e,a){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||xU,this.yieldEvery=a||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=Vye),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");FT(this.yieldEvery)&&(this.maybeWait=oye(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,a,n){const r=[];this.yield!=null&&(await Tf(n),r.push(this.yield(e,a,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,a){this.currentEpoch=e,this.epochBegin!=null&&(await Tf(a),await this.epochBegin(e,a))}async onEpochEnd(e,a){const n=[];this.epochEnd!=null&&(await Tf(a),n.push(this.epochEnd(e,a))),this.yieldEvery==="epoch"&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,a){this.batchBegin!=null&&(await Tf(a),await this.batchBegin(e,a))}async onBatchEnd(e,a){const n=[];this.batchEnd!=null&&(await Tf(a),n.push(this.batchEnd(e,a))),this.yieldEvery==="batch"?n.push(this.nextFrameFunc()):FT(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,a)),await Promise.all(n)}async onTrainBegin(e){this.trainBegin!=null&&(await Tf(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await Tf(e),await this.trainEnd(e))}}function m7(t,e){return t==null&&(t={}),t instanceof Hg?[t]:Array.isArray(t)&&t[0]instanceof Hg?t:ja(t).map(n=>new qye(n,e))}class Bi{constructor(){}static registerCallbackConstructor(e,a){K(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),Bi.checkForDuplicate(a),Bi.constructors[e]==null&&(Bi.constructors[e]=[]),Bi.constructors[e].push(a)}static checkForDuplicate(e){for(const a in Bi.constructors)Bi.constructors[+a].forEach(r=>{if(r===e)throw new xe("Duplicate callback constructor.")})}static clear(){Bi.constructors={}}static createCallbacks(e){const a=[];for(const n in Bi.constructors){const r=+n;e>=r&&a.push(...Bi.constructors[r])}return a.map(n=>new n)}}Bi.constructors={};function g7(t,e,a,n,r,s,i,o,c){const l=new Kye,u=[new Hye,...Bi.createCallbacks(e)];t!=null&&u.push(...t),u.push(l);const d=new jye(u);return d.setParams({epochs:a,initialEpoch:n,samples:r,steps:s,batchSize:i,verbose:e,doValidation:o,metrics:c}),{callbackList:d,history:l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ll(t,e={},a=!1){return z1(t,ji.getMap().classNameMap,e,"layer",a)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function fw(t,e){return Ne(()=>{t.dtype!=="float32"&&(t=ut(t,"float32"));const a=yt(U1(t),e,!0),n=mm(a.shape,ar()),r=Lr(Tl(a,n));return wt(t,r)})}function H_(t,e){return Ne(()=>Sn(U1(pt(e,t)),-1))}function xR(t,e){return Ne(()=>Sn(er(pt(e,t)),-1))}function kR(t,e){return Ne(()=>{const a=pt(t,e),n=Xs(er(t),ar(),Number.MAX_VALUE),r=er(wt(a,n));return me(100,Sn(r,-1))})}function Xye(t,e){return Ne(()=>{const a=Xs(e,ar(),Number.MAX_VALUE),n=mi(qe(1,a)),r=Xs(t,ar(),Number.MAX_VALUE),s=mi(qe(1,r));return Sn(U1(pt(n,s)),-1)})}function Yye(t,e){return Ne(()=>{const a=Tl(0,pt(1,me(t,e)));return Sn(U1(a),-1)})}function Zye(t,e){return Ne(()=>{const a=Tl(0,pt(1,me(t,e)));return Sn(a,-1)})}function Jye(t,e){return Ne(()=>{const a=yt(me(t,e),-1),n=Ji(me(pt(1,t),e),-1);return Tl(0,qe(1,pt(n,a)))})}function Qye(t,e){return Ne(()=>{const a=Math.log(2),n=pt(e,t),r=pt(qe(n,gm(me(-2,n))),a);return Sn(r,-1)})}function Kg(t,e,a=!1){return Ne(()=>{if(a)e=D_(e);else{const n=yt(e,e.shape.length-1,!0);e=wt(e,n)}return e=Xs(e,ar(),1-ar()),fn(yt(me(ut(t,"float32"),mi(e)),e.shape.length-1))})}function dw(t,e,a=!1){return Ne(()=>{const n=ut(O1(xye(t)),"int32");e=Xs(e,ar(),1-ar());const r=e.shape,s=ve(l3(n,r[r.length-1]),r);return Kg(s,e,a)})}function e1e(t,e){if(!_a(t.shape,e.shape))throw new xe(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return Ne(()=>{const a=Cc(e),n=fn(er(e));return qe(pt(a,me(e,t)),b_(Ys(n)))})}function K_(t,e){return Ne(()=>{let a;return a=Xs(e,ar(),1-ar()),a=mi(wt(a,pt(1,a))),Sn(e1e(t,a),-1)})}function t1e(t,e){return Ne(()=>{const a=Xs(t,ar(),1),n=Xs(e,ar(),1);return yt(me(t,mi(wt(a,n))),-1)})}function a1e(t,e){return Ne(()=>{const a=mi(qe(ar(),e));return Sn(pt(e,me(t,a)),-1)})}function y7(t,e){return Ne(()=>{const a=fw(t,-1),n=fw(e,-1),r=me(a,n);return fn(yt(r,-1))})}const hw={meanSquaredError:H_,meanAbsoluteError:xR,meanAbsolutePercentageError:kR,meanSquaredLogarithmicError:Xye,squaredHinge:Yye,hinge:Zye,categoricalHinge:Jye,logcosh:Qye,categoricalCrossentropy:Kg,sparseCategoricalCrossentropy:dw,binaryCrossentropy:K_,kullbackLeiblerDivergence:t1e,poisson:a1e,cosineProximity:y7};function vS(t){if(typeof t=="string"){if(t in hw)return hw[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new xe(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function v7(t,e){return Ne(()=>{const a=me(.5,gi(e)),n=gc(ai(e,a),t.dtype);return Sn(Fo(t,n),-1)})}function x7(t,e){return Ne(()=>gc(Fo(md(t,-1),md(e,-1)),"float32"))}function n1e(t,e){return Ne(()=>ut(yt(wc(Fo(t,1),Fo(e,1))),"float32"))}function r1e(t,e){return Ne(()=>ut(yt(wc(Fo(t,0),Fo(e,1))),"float32"))}function s1e(t,e){return Ne(()=>{const a=n1e(t,e),n=r1e(t,e),r=qe(a,n);return ut(Hr(ai(r,0),wt(a,r),0),"float32")})}function i1e(t,e){return K_(t,e)}function o1e(t,e){return t.rank===e.rank&&(t=Vd(t,[t.rank-1])),e=md(e,-1),e.dtype!==t.dtype&&(e=ut(e,t.dtype)),ut(Fo(t,e),"float32")}const c1e=H_,l1e=H_,u1e=xR,f1e=xR,d1e=kR,h1e=kR,k7=Kg,p1e=y7,w7=dw,pw={binaryAccuracy:v7,categoricalAccuracy:x7,precision:s1e,categoricalCrossentropy:k7,sparseCategoricalCrossentropy:w7,mse:c1e,MSE:l1e,mae:u1e,MAE:f1e,mape:d1e,MAPE:h1e,cosine:p1e};function m1e(t){if(typeof t=="string"&&t in pw)return pw[t];if(typeof t!="string"&&t!=null)return t;throw new xe(`Unknown metric ${t}`)}function Hx(t){if(nc(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const a of Object.keys(hw))if(hw[a]===t){e=a;break}if(e!==void 0)return e;for(const a of Object.keys(pw))if(pw[a]===t){e=a;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function g1e(t){const e={Adagrad:()=>tp.adagrad(.01),Adadelta:()=>tp.adadelta(1,.95,ar()),Adam:()=>tp.adam(.001,.9,.999,ar()),Adamax:()=>tp.adamax(.002,.9,.999,ar(),0),RMSProp:()=>tp.rmsprop(.001,.9,0,ar()),SGD:()=>tp.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new xe(`Unknown Optimizer ${t}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const LL=1*1024*1024;function ML(t,e,a=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!lE(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(a){const n=JSON.stringify(t);n.length>LL&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${n.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${LL}.`)}}function lE(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const a of e)if(typeof a!="string"||!lE(t[a]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!lE(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function y1e(t,e,a,n=console.log){const r=x1e(t),s=["Layer (type)","Input Shape","Output shape","Param #"];r?(e=e||90,a=a||[.32,.61,.89,1]):(e=e||115,a=a||[.24,.48,.7,.8,1]),a[a.length-1]<=1&&(a=a.map(u=>Math.floor(e*u)));let i;if(!r){s.push("Receives inputs"),i=[];for(const u in t.nodesByDepth)i.push(...t.nodesByDepth[u])}n("_".repeat(e)),mw(s,a,n),n("=".repeat(e));const o=t.layers;for(let u=0;u<o.length;++u)r?k1e(o[u],a,n):w1e(o[u],a,i,n),n((u===o.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const c=v1e(t),l=cw(t.nonTrainableWeights);n(`Total params: ${c+l}`),n(`Trainable params: ${c}`),n(`Non-trainable params: ${l}`),n("_".repeat(e))}function v1e(t){let e;return t.collectedTrainableWeights!=null?e=cw(t.collectedTrainableWeights):e=cw(t.trainableWeights),e}function x1e(t){let e=!0;const a=[],n=[];for(const r in t.nodesByDepth)a.push(t.nodesByDepth[r]);for(const r of a){if(r.length>1||r.length===1&&r[0].inboundLayers.length>1){e=!1;break}n.push(...r)}if(e)for(const r of t.layers){let s=!1;for(const i of r.inboundNodes)if(n.indexOf(i)!==-1)if(s){e=!1;break}else s=!0;if(!e)break}return e}function mw(t,e,a=console.log){let n="";for(let r=0;r<t.length;++r)r>0&&(n=n.slice(0,n.length-1)+" "),n+=t[r],n=n.slice(0,e[r]),n+=" ".repeat(e[r]-n.length);a(n)}function k1e(t,e,a){let n,r;try{r=t.inboundNodes.map(c=>JSON.stringify(c.inputShapes)).join(",")}catch{r="multiple"}try{n=JSON.stringify(t.outputShape)}catch{n="multiple"}const s=t.name,i=t.getClassName(),o=[`${s} (${i})`,r,n,t.countParams().toString()];mw(o,e,a)}function w1e(t,e,a,n){let r,s;try{s=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const i=[];for(const d of t.inboundNodes)if(!(a!=null&&a.length>0&&a.indexOf(d)===-1))for(let p=0;p<d.inboundLayers.length;++p){const m=d.inboundLayers[p].name,g=d.nodeIndices[p],x=d.tensorIndices[p];i.push(`${m}[${g}][${x}]`)}const o=t.name,c=t.getClassName(),l=i.length===0?"":i[0],u=[`${o} (${c})`,s,r,t.countParams().toString(),l];mw(u,e,n);for(let d=1;d<i.length;++d)mw(["","","","",i[d]],e,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function b7(t,e,a){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof a=="string"}function uE(t,e){if(t===null)return null;if(typeof t=="string")return $f(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const a=[],n=t.length;for(let r=0;r<n;++r){const s=t[r];b7(e,r,s)?a.push(s):a.push(uE(s,e))}return a}else{const a={};for(const n of Object.keys(t)){const r=t[n];if(n==="name"&&typeof r=="string")a[n]=r;else{const s=$f(n);a[s]=uE(r,s)}}return a}}function fE(t,e){if(t==null)return null;if(typeof t=="string")return el(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const a=[],n=t.length;for(let r=0;r<n;++r){const s=t[r];b7(e,r,s)?a.push(s):a.push(fE(s,e))}return a}else{const a={};for(const n of Object.keys(t)){const r=t[n],s=el(n);(n==="name"||n==="className")&&typeof r=="string"?a[s]=r:a[s]=fE(r,n)}return a}}/** @license See the LICENSE file. */const _7="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const b1e=t=>{const e=Object.keys(t);if(e.length===0)return!1;const a=e[0].split("/");return!isNaN(parseInt(a[a.length-1],10))};class vo extends ma{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const b=this.getClassName().toLowerCase();this.name=W_(b)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],pu(this.inputs).length!==this.inputs.length)throw new xe(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(b=>b.name)}`);pu(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(b=>b.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const b of this.outputs){const _=b.sourceLayer,A=b.nodeIndex,S=b.tensorIndex;this.outputLayers.push(_),this.outputLayersNodeIndices.push(A),this.outputLayersTensorIndices.push(S)}for(const b of this.inputs){const _=b.sourceLayer,A=b.nodeIndex,S=b.tensorIndex;nc(A===0,"input layer has >1 nodes"),nc(S===0,"input layer has >1 tensors"),this.inputLayers.push(_),this.inputLayersNodeIndices.push(A),this.inputLayersTensorIndices.push(S)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let b=0;b<this.inputLayers.length;b++){const _=this.inputLayers[b];if(!(_ instanceof V1))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${b} (0-based) originates from layer type ${_.getClassName()}.`);this.inputNames.push(_.name),this.feedInputShapes.push(_.batchInputShape),this.feedInputNames.push(_.name)}for(const b of this.outputLayers)this.outputNames.push(b.name);this.internalInputShapes=this.inputs.map(b=>b.shape),this.internalOutputShapes=this.outputs.map(b=>b.shape);const a={},n={},r={},s={},i={},o=[],c=(b,_,A,S,C,E)=>{(S==null||C==null||E==null)&&(S=b.sourceLayer,C=b.nodeIndex,E=b.tensorIndex);const R=S.inboundNodes[C];if(A.indexOf(R)!==-1)throw new qi(`The tensor ${b.name} at layer "${S.name}" is part of a cycle.`);if(_.indexOf(R)!==-1)return;this.containerNodes.add(vo.nodeKey(S,C)),S.id in i||(i[S.id]=Object.keys(i).length),A.indexOf(R)===-1&&A.push(R);const I=R.inboundLayers.length;for(let P=0;P<I;P++){const D=R.inputTensors[P],B=R.inboundLayers[P],U=R.nodeIndices[P],V=R.tensorIndices[P];c(D,_,A,B,U,V)}for(_.push(R);A.indexOf(R)>=0;)A.splice(A.indexOf(R),1);o.push(R)},l=[],u=[];for(const b of this.outputs)c(b,l,u);const d=o.slice().reverse();for(const b of d){n[b.id]=b,b.id in a||(a[b.id]=0);let _=a[b.id];const A=r[b.outboundLayer.id]==null?0:r[b.outboundLayer.id];_=Math.max(_,A),r[b.outboundLayer.id]=_,s[b.outboundLayer.id]=b.outboundLayer,a[b.id]=_;for(let S=0;S<b.inboundLayers.length;S++){const C=b.inboundLayers[S],E=b.nodeIndices[S],R=C.inboundNodes[E],I=a[R.id]==null?0:a[R.id];a[R.id]=Math.max(_+1,I),n[R.id]=R}}const p={};for(const b in a){const _=a[b];_ in p||(p[_]=[]),p[_].push(n[b])}const m={};for(const b in r){const _=r[b];_ in m||(m[_]=[]),m[_].push(s[b])}let g=Object.keys(m).map(b=>parseInt(b,10)).sort(Wx);this.layers=[];for(const b of g){const _=m[b];_.sort((A,S)=>{const C=i[A.id],E=i[S.id];return C<E?-1:C>E?1:0});for(const A of _)A instanceof vo&&this.internalContainerRefs.push(A),this.layers.push(A)}this.layersByDepth=m,g=Object.keys(p).map(b=>parseInt(b,10)).sort(Wx);const x=this.inputs.slice(),v=[];for(const b of g)for(const _ of p[b]){const A=_.outboundLayer;if(A!=null){for(const S of _.inputTensors)if(x.indexOf(S)===-1)throw new qi(`Graph disconnected: cannot obtain value for tensor ${S} at layer "${A.name}". The following previous layers were accessed without issue: ${v}`);for(const S of _.outputTensors)x.push(S);v.push(A.name)}}this.nodesByDepth=p;const k=this.layers.map(b=>b.name);for(const b of k){const _=k.filter(A=>A===b).length;if(_!==1)throw new qi(`The name "${b}" is used ${_} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(k))}this.outboundNodes=[],this.inboundNodes=[],new j_({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(b=>null),outputMasks:this.outputs.map(b=>null),inputShapes:this.inputs.map(b=>b.shape),outputShapes:this.outputs.map(b=>b.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const a of this.layers)e.numDisposedVariables+=a.dispose().numDisposedVariables;for(const a of this.internalContainerRefs)e.numDisposedVariables+=a.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(a=>{a._trainableWeights.forEach(n=>n.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new xe("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const a of this.layers)e=e.concat(a.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const a of this.layers)e.push(...a.nonTrainableWeights);if(!this.trainable){const a=[];for(const n of this.layers)a.push(...n.trainableWeights);return a.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,a=!0){const n={};let r=0;const s=b1e(e);s&&this.parseWeights(e);for(const o of this.layers)for(const[c,l]of o.weights.entries()){const u=s?`${l.name.split("/").slice(0,-1).join("/")+"/"}${c}`:l.originalName;if(n[u]!=null)throw new xe(`Duplicate weight name: ${u}`);n[u]=l,r++}const i=[];for(const o in e){let c=o;if(n[o]==null){const l=o.split("/");c=l.slice(0,-2).concat([l[l.length-1]]).join("/")}if(n[c]!=null)i.push([n[c],e[o]]);else if(a)throw new xe(`Provided weight data has no target variable: ${o}`);delete n[c]}if(a){const o=[];for(const c in n)o.push(c);if(o.length>0)throw new xe(`${o.length} of ${r} weights are not set: ${o}`)}yR(i)}parseWeights(e){for(const a in Object.keys(e)){const n=a.split("/"),r=["vars","layer_checkpoint_dependencies"],s=n.map(i=>i.startsWith("_")?i.slice(1):i).filter(i=>!r.includes(i)).join("/");s!==a&&(e[s]=e[a],delete e[a])}}updatedConfig(){const e=this.getConfig(),a={};return a.className=this.getClassName(),a.config=e,a.kerasVersion=`tfjs-layers ${_7}`,a.backend="TensorFlow.js",a}toJSON(e,a=!0){const n=fE(this.updatedConfig());return a?JSON.stringify(n):n}call(e,a){return Ne(()=>{e=ja(e);const n=new lu;for(let r=0;r<this.inputs.length;++r)n.add(this.inputs[r],e[r]);return K0(this.outputs,n,a)})}computeMask(e,a){return Ne(()=>{e=ja(e);let n;return a==null?n=kd(null,e.length):n=ja(a),this.runInternalGraph(e,n)[1]})}computeOutputShape(e){const a=ow(e);if(a.length!==this.inputLayers.length)throw new xe(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let o=0;o<a.length;o++){const c=this.inputLayers[o],l=a[o],u=c.name+"_0_0";n[u]=l}const r=Object.keys(this.nodesByDepth).map(o=>parseInt(o,10)).sort(Wx);if(r.length>1)for(const o of r){const c=this.nodesByDepth[o];for(const l of c){const u=l.outboundLayer;if(this.inputLayers.map(x=>x.id).indexOf(u.id)!==-1)continue;const d=[];for(let x=0;x<l.inboundLayers.length;x++){const v=l.inboundLayers[x],k=l.nodeIndices[x],b=l.tensorIndices[x],_=`${v.name}_${k}_${b}`,A=n[_];d.push(A)}const p=u.computeOutputShape(Ts(d)),m=ow(p),g=u.inboundNodes.indexOf(l);for(let x=0;x<m.length;x++){const v=`${u.name}_${g}_${x}`;n[v]=m[x]}}}const s=[],i=[];for(let o=0;o<this.outputLayers.length;o++){const c=this.outputLayers[o],l=this.outputLayersNodeIndices[o],u=this.outputLayersTensorIndices[o],d=`${c.name}_${l}_${u}`;i.push(d)}for(let o=0;o<i.length;o++){const c=i[o];nc(c in n),s.push(n[c])}return Ts(s)}runInternalGraph(e,a){a==null&&(a=kd(null,e.length));const n={};for(let c=0;c<this.inputs.length;++c){const l=this.inputs[c],u=e[c],d=a[c];n[l.id]=[u,d]}const r=Object.keys(this.nodesByDepth).map(c=>parseInt(c,10)).sort(Wx);for(const c of r){const l=this.nodesByDepth[c];for(const u of l){const d=u.outboundLayer,p=u.inputTensors,m=u.outputTensors,g=new Array;for(const x of p)x.id in n&&g.push(n[x.id]);if(g.length===p.length){let x={},v,k,b,_;if(u.callArgs!=null&&(x=u.callArgs),g.length===1){const[A,S]=g[0];x.mask==null&&(x.mask=S),b=ja(d.call(A,x)),_=ja(d.computeMask(A,S)),v=[A],k=[S]}else v=g.map(A=>A[0]),k=g.map(A=>A[1]),x.mask==null&&(x.mask=k),b=ja(d.call(v,x)),_=ja(d.computeMask(v,k));if(d.activityRegularizer)throw new aa("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let A=0;A<m.length;++A){const S=m[A],C=b[A],E=_[A];n[S.id]=[C,E]}}}}const s=[],i=[],o=[];for(const c of this.outputs){nc(c.id in n,`Could not compute output ${c.name} : ${c.id}`);const[l,u]=n[c.id];o.push(l.shape),s.push(l),i.push(u)}return[s,i,o]}buildNodeConversionMap(e){const a={};let n;for(const r of this.layers){n=r instanceof vo?1:0;for(let s=0;s<r.inboundNodes.length;s++){const i=vo.nodeKey(r,s);this.containerNodes.has(i)&&(a[i]=n,n+=1)}}return a}getLayer(e,a){if(a!=null)return this.findLayer(a);if(e==null)throw new xe("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const n of this.layers)if(n.name===e)return n;throw new xe(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new xe(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return Ne(()=>{const e=[];for(const a of this.layers)for(let n=0;n<a.inboundNodes.length;++n){const r=vo.nodeKey(a,n);this.containerNodes.has(r)&&e.push(...a.calculateLosses())}return e})}getConfig(){const e={name:this.name},a=this.buildNodeConversionMap(this.layers),n=[];for(const i of this.layers){const o=i.getClassName(),c=i.getConfig(),l=[];for(let d=0;d<i.inboundNodes.length;d++){const p=i.inboundNodes[d],m=vo.nodeKey(i,d);let g={};if(this.containerNodes.has(m)){if(p.callArgs)try{JSON.stringify(p.callArgs),g=p.callArgs}catch{console.warn(`Layer ${i.name} was passed non-serializable keyword arguments: ${p.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),g={}}if(p.inboundLayers.length>0){const x=[];for(let v=0;v<p.inboundLayers.length;v++){const k=p.inboundLayers[v],b=p.nodeIndices[v],_=p.tensorIndices[v],A=vo.nodeKey(k,b);let S=a[A];S==null&&(S=0),x.push([k.name,S,_,g])}l.push(x)}}}const u={};u.name=i.name,u.className=o,u.config=c,u.inboundNodes=l,n.push(u)}e.layers=n;const r=[];for(let i=0;i<this.inputLayers.length;i++){const o=this.inputLayers[i],c=this.inputLayersNodeIndices[i],l=vo.nodeKey(o,c);if(!this.containerNodes.has(l))continue;let u=a[l];u==null&&(u=0);const d=this.inputLayersTensorIndices[i];r.push([o.name,u,d])}e.inputLayers=r;const s=[];for(let i=0;i<this.outputLayers.length;i++){const o=this.outputLayers[i],c=this.outputLayersNodeIndices[i],l=vo.nodeKey(o,c);if(!this.containerNodes.has(l))continue;let u=a[l];u==null&&(u=0);const d=this.outputLayersTensorIndices[i];s.push([o.name,u,d])}return e.outputLayers=s,e}static fromConfig(e,a,n={},r=!1){const s={},i={};function o(v,k){v.name in i?i[v.name].push(k):i[v.name]=[k]}function c(v,k){const b=[];let _;for(const A of k){const S=A[0],C=A[1],E=A[2];if(_=A[3]==null?{}:A[3],!(S in s)){o(v,k);return}const R=s[S];if(R.inboundNodes.length<=C){o(v,k);return}const I=R.inboundNodes[C];b.push(I.outputTensors[E])}b.length>0&&v.apply(Ts(b),_)}function l(v){const k=v.name,b=ll(v,a.customObjects!=null?a.customObjects:{});b.setFastWeightInitDuringBuild(r),s[k]=b,v.inboundNodes.forEach(A=>{if(!(A instanceof Array))throw new xe(`Corrupted configuration, expected array for nodeData: ${A}`);o(b,A)})}const u=a.name,d=a.layers;for(const v of d)l(v);for(;!iye(i);)for(const v of d){const k=s[v.name];if(k.name in i){const b=i[k.name];delete i[k.name];for(const _ of b)c(k,_)}}const p=[],m=[],g=a.inputLayers;for(const v of g){const k=v[0],b=v[1],_=v[2];nc(k in s);const S=s[k].inboundNodes[b].outputTensors;p.push(S[_])}const x=a.outputLayers;for(const v of x){const k=v[0],b=v[1],_=v[2];nc(k in s);const S=s[k].inboundNodes[b].outputTensors;m.push(S[_])}return new e({inputs:p,outputs:m,name:u})}get stateful(){if(this._stateful)throw new xe("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){Ne(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function _1e(t,e,a){const n=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>null);if(n===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==n)throw new Error(`Provided ${a} is an array of ${t.length} element(s), but the model has ${n} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const r=[];return e.forEach(s=>{s in t?r.push(t[s]):r.push(null)}),r}else throw new Error(`The model has multiple (${n}) outputs, so ${a} must be either an array with ${n} elements or an object with ${e} keys. Provided ${a} not understood: ${JSON.stringify(t)}`)}function A7(t,e){return _1e(t,e,"classWeight")}async function N7(t,e,a,n){if(a!=null){const r=Ne(()=>{if(t.shape.length===1)return cl(t);if(t.shape.length===2){if(t.shape[1]>1)return md(t,1);if(t.shape[1]===1)return ve(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),s=Array.from(await r.data());da(r);const i=[];return s.forEach(o=>{if(a[o]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${o} exists in the data but not in classWeight`);i.push(a[o])}),ds(i,"float32")}else return null}function A1e(t,e){return me(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const N1e=32;function S7(t,e){let a,n;const r=e;a=r.xs,n=r.ys,K(a!=null&&n!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const s=BL("input",t.inputNames,a),i=BL("output",t.outputNames,n),o=s[0].shape[0];K(s.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${s.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),K(i.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${i.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let c=0;c<s.length;c++)K(s[c].shape[0]===o,()=>`Batch size mismatch: input ${t.inputNames[c]} has ${s[c].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);for(let c=0;c<i.length;c++)K(i[c].shape[0]===o,()=>`Batch size mismatch: output ${t.outputNames[c]} has ${i[c].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);return{xs:s,ys:i}}function BL(t,e,a){if(a instanceof gn)return[a];if(Array.isArray(a))return K(a.length===e.length,()=>`Received an array of ${a.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),a;{const n=[];for(const r of e){if(a[r]==null)throw new xe(`The feature data generated by the dataset lacks the required ${t} key '${r}'.`);n.push(a[r])}return n}}function S1e(t){if(t.length===3)throw new aa("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function T1e(t,e,a){const n=a.batchesPerEpoch!=null;if(K(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),K(a!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),K(a.epochs!=null&&a.epochs>0&&Number.isInteger(a.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${a.epochs}`),K(!n||a.batchesPerEpoch>0&&Number.isInteger(a.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${a.batchesPerEpoch}`),K(a.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const r=a.validationData!=null;let s,i;if(r)if(zL(a.validationData))K(a.validationBatches==null||a.validationBatches>0&&Number.isInteger(a.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${a.validationBatches}`);else{const v=S1e(a.validationData);s=v.xs,i=v.ys}const o=t.makeTrainFunction(),c=t.getDedupedMetricsNames();let l;r?l=c.slice().concat(c.map(v=>"val_"+v)):l=c.slice();const u=m7(a.callbacks,a.yieldEvery),d=a.verbose==null?1:a.verbose,{callbackList:p,history:m}=g7(u,d,a.epochs,null,null,E1e(e,a),null,r,l);p.setModel(t),t.history=m,await p.onTrainBegin(),t.stopTraining_=!1;let g=a.initialEpoch==null?0:a.initialEpoch,x=await e.iterator();for(;g<a.epochs;){const v={};await p.onEpochBegin(g);let k=0,b=0;for(n||(x=await e.iterator());!n||k<a.batchesPerEpoch;){const _=await x.next();if(n&&_.done){console.warn(`You provided \`batchesPerEpoch\` as ${a.batchesPerEpoch}, but your dataset iterator ran out of data after ${k} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${a.batchesPerEpoch*a.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(_.value!=null){const{xs:A,ys:S}=S7(t,_.value),C={};C.batch=b,C.size=A[0].shape[0],await p.onBatchBegin(b,C);const E=[];if(a.classWeight!=null){const P=A7(a.classWeight,t.outputNames);for(let D=0;D<P.length;++D)E.push(await N7(S[D],null,P[D]))}const R=A.concat(S).concat(E),I=o(R);da(R);for(let P=0;P<c.length;++P){const D=c[P],B=I[P];C[D]=B,vr(B)}await p.onBatchEnd(b,C),p7(C),b++,k++}if(n?k>=a.batchesPerEpoch:_.done){if(r){let A;zL(a.validationData)?A=ja(await t.evaluateDataset(a.validationData,{batches:a.validationBatches})):A=ja(t.evaluate(s,i,{batchSize:a.validationBatchSize==null?N1e:a.validationBatchSize,verbose:0}));for(let S=0;S<t.metricsNames.length;++S)v[`val_${t.metricsNames[S]}`]=A[S]}break}if(t.stopTraining_)break}if(await p.onEpochEnd(g,v),g++,t.stopTraining_)break}return await p.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function E1e(t,e){let a=null;return e.batchesPerEpoch!=null?a=e.batchesPerEpoch:Number.isFinite(t.size)&&(a=t.size),a}function zL(t){return typeof t.iterator=="function"}function C1e(t){return typeof t.next=="function"}async function I1e(t,e,a){a=a||{};const n=a.batches!=null,r=t.testFunction;let s=[];if(a.verbose>0)throw new aa("Verbose mode is not implemented yet.");K(!n||a.batches>0&&Number.isInteger(a.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(a.batches)}`);const i=C1e(e)?e:await e.iterator();let o=0,c=0;for(;!n||c<a.batches;){const l=await i.next();if(s=Ne(()=>{if(l.value){const{xs:u,ys:d}=S7(t,l.value),p=u.concat(d),m=Ne(()=>r(p));if(da(p),c===0)for(let x=0;x<m.length;++x)s.push(Pt(0));const g=p[0].shape[0];for(let x=0;x<m.length;++x){const v=m[x],k=s[x];s[x]=Ne(()=>qe(s[x],me(g,v))),c>0&&da(k)}da(m),o+=g,++c}return s}),l.done){n&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${a.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let l=0;l<s.length;++l){const u=s[l];s[l]=wt(s[l],o),da(u)}return Ts(s)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function xS(t){K(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function L0(t,e,a){return t==null?[null]:Array.isArray(t)?t.map(n=>Yf(n,e,a-e)):Yf(t,e,a-e)}function dE(t,e){return Ne(()=>t==null?null:Array.isArray(t)?t.map(a=>dE(a,e)):e7(t,e.dtype==="int32"?e:ut(e,"int32")))}function kS(t,e){const a=[];let n=0,r=null;for(;n<t;)r=n+e,r>=t&&(r=t),a.push([n,r]),n=r;return a}function T7(t){const e=[];t instanceof gn&&(t=[t]);for(let a=0;a<t.length;++a){const n=t[a];if(n.rank===1)e.push(G1(n,1));else{if(n.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(n)}}return e}function go(t,e){if(t==null)return;const a=[];if(e instanceof gn)a.push(e.id);else if(Array.isArray(e))e.forEach(r=>a.push(r.id));else if(e!=null)for(const r in e){const s=e[r];a.push(s.id)}const n=[];if(t instanceof gn)a.indexOf(t.id)===-1&&n.push(t);else if(Array.isArray(t))t.forEach(r=>{a.indexOf(r.id)===-1&&n.push(r)});else if(t!=null)for(const r in t){const s=t[r];a.indexOf(s.id)===-1&&n.push(s)}n.forEach(r=>{r.isDisposed||r.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function R1e(t){return t instanceof gn}function hE(t){return Array.isArray(t)}function GL(t){return!R1e(t)&&!hE(t)}function UL(t,e,a,n=!0,r=""){if(e==null||e.length===0){if(t!=null){let i=!1;if(hE(t)&&t.length>0)i=!0;else if(GL(t)){for(const o in t)if(t.hasOwnProperty(o)){i=!0;break}}else i=!0;if(i)throw new xe(`Error when checking model ${r} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(i=>null);let s;if(GL(t)){t=t,s=[];for(const i of e){if(t[i]==null)throw new xe(`No data provided for "${i}". Need data for each key in: ${e}`);s.push(t[i])}}else if(hE(t)){if(t=t,t.length!==e.length)throw new xe(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);s=t}else{if(t=t,e.length>1)throw new xe(`The model ${r} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);s=[t]}if(s=T7(s),a!=null)for(let i=0;i<e.length;++i){if(a[i]==null)continue;const o=s[i];if(o.shape.length!==a[i].length)throw new xe(`Error when checking ${r}: expected ${e[i]} to have ${a[i].length} dimension(s). but got array with shape ${o.shape}`);for(let c=0;c<a[i].length;++c){if(c===0&&!n)continue;const l=o.shape[c],u=a[i][c];if(u!=null&&u>=0&&l!==u)throw new xe(`${r} expected a batch of elements where each example has shape [${a[i].slice(1,a[i].length)}] (i.e.,tensor shape [*,${a[i].slice(1,a[i].length)}]) but the ${r} received an input with ${o.shape[0]} examples, each with shape [${o.shape.slice(1,o.shape.length)}] (tensor shape [${o.shape}])`)}}return s}function D1e(t,e,a){const n=pu(t.map(s=>s.shape[0]));n.sort();const r=pu(e.map(s=>s.shape[0]));if(r.sort(),n.length>1)throw new xe(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(s=>s.shape))}`);if(r.length>1)throw new xe(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(s=>s.shape))}`);if(n.length>0&&r.length>0&&!_a(n,r))throw new xe(`Input Tensors should have the same number of samples as target Tensors. Found ${n[0]} input sample(s) and ${r[0]} target sample(s).`)}function P1e(t,e,a){const n=[H_,K_,Kg];for(let r=0;r<t.length;++r){const s=t[r],i=e[r],o=a[r];if(i!=null){if(i===Kg&&s.shape[s.shape.length-1]===1)throw new xe(`You are passing a target array of shape ${s.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(n.indexOf(i)!==-1){const c=s.shape.slice(1),l=o.slice(1);for(let u=0;u<c.length;++u){const d=c[u],p=l[u];if(p!=null&&d!==p)throw new xe(`A target Tensor with shape ${s.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function WL(t,e,a,n=!0,r=""){let s;if(Array.isArray(t)){if(t.length!==e.length)throw new xe(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);s=t}else{if(e.length>1)throw new xe(`The model expects ${e.length} ${r} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);s=[t]}if(a!=null)for(let i=0;i<e.length;++i){if(a[i]==null)continue;const o=s[i];if(o.shape.length!==a[i].length)throw new xe(`Error when checking ${r}: expected ${e[i]} to have ${a[i].length} dimension(s), but got array with shape ${JSON.stringify(o.shape)}`);for(let c=0;c<a[i].length;++c){if(c===0&&!n)continue;const l=o.shape[c],u=a[i][c];if(u!=null&&u!==l)throw new xe(`Error when checking ${r}: expected ${e[i]} to have shape ${JSON.stringify(a[i])} but got array with shape ${JSON.stringify(o.shape)}.`)}}}function F1e(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(n=>[]);let a;if(typeof t=="string"||typeof t=="function")a=[t];else if(Array.isArray(t)||typeof t=="object")a=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(a))return e.map(n=>a);{const n=[];for(const r of e){let s=a.hasOwnProperty(r)?a[r]:[];Array.isArray(s)||(s=[s]),n.push(s)}return n}}const O1e="layers-model";class Tp extends vo{constructor(e){super(e),this.isTraining=!1}summary(e,a,n=console.log){if(!this.built)throw new xe("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");y1e(this,e,a,n)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=g1e(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Xu))throw new xe("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let a=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const i in e.loss)if(this.outputNames.indexOf(i)===-1)throw new xe(`Unknown entry in loss dictionary: "${i}". Only expected the following keys: ${this.outputNames}`);for(const i of this.outputNames)e.loss[i]==null&&console.warn(`Output "${i}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${i} during training`),a.push(vS(e.loss[i]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new xe(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);a=e.loss.map(o=>vS(o))}else{const i=vS(e.loss);this.outputs.forEach(o=>{a.push(i)})}this.lossFunctions=a,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let i=0;i<this.outputs.length;++i){const o=this.internalOutputShapes[i],c=this.outputNames[i];this.feedOutputNames.push(c),this.feedOutputShapes.push(o),this.feedLossFns.push(this.lossFunctions[i])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Xf("loss",()=>{for(let i=0;i<this.outputs.length;++i){if(n.indexOf(i)!==-1)continue;const o=this.lossFunctions[i];this.outputs.length>1&&(this.metricsTensors.push([o,i]),this.metricsNames.push(this.outputNames[i]+"_loss"))}});const r=F1e(e.metrics,this.outputNames),s=(i,o,c)=>{this.outputNames.length>1&&(o=this.outputNames[i]+"_"+o),this.metricsNames.push(o),this.metricsTensors.push([c,i])};Xf("metric",()=>{for(let i=0;i<this.outputs.length;++i){if(n.indexOf(i)!==-1)continue;const o=r[i];(l=>{const u="";let d,p,m;for(const g of l){if(typeof g=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(g)!==-1){const v=this.internalOutputShapes[i];v[v.length-1]===1||this.lossFunctions[i]===K_?["accuracy","acc"].indexOf(g)!==-1?p=v7:["crossentropy","ce"].indexOf(g)!==-1&&(p=i1e):this.lossFunctions[i]===dw?["accuracy","acc"].indexOf(g)!==-1?p=o1e:["crossentropy","ce"].indexOf(g)!==-1&&(p=w7):["accuracy","acc"].indexOf(g)!==-1?p=x7:["crossentropy","ce"].indexOf(g)!==-1&&(p=k7);let k;["accuracy","acc"].indexOf(g)!==-1?k="acc":["crossentropy","ce"].indexOf(g)!==-1&&(k="ce"),m=p,d=u+k}else m=m1e(g),d=u+Hx(g);let x;Xf(d,()=>{x=m}),s(i,d,x)}})(o)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,a,n={}){const r=n.batchSize==null?32:n.batchSize;xS(r);const i=this.standardizeUserDataXY(e,a,!0,r);try{const o=i[0].concat(i[1]);this.makeTestFunction();const c=this.testFunction,l=this.testLoop(c,o,r,n.verbose,n.steps);return Ts(l)}finally{go(i[0],e),go(i[1],a)}}async evaluateDataset(e,a){return this.makeTestFunction(),I1e(this,e,a)}checkNumSamples(e,a,n,r="steps"){let s;if(n!=null){if(s=null,a!=null)throw new xe(`If ${r} is set, batchSize must be null or undefined.Got batchSize = ${a}`)}else if(e!=null)Array.isArray(e)?s=e[0].shape[0]:s=e.shape[0];else throw new xe(`Either the input data should have a defined shape, or ${r} shoud be specified.`);return s}execute(e,a){if(Array.isArray(a)&&a.length===0)throw new xe("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(a),r=n?a:[a],s=this.retrieveSymbolicTensors(r),i=new lu;if(e instanceof gn&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new xe(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let c=0;c<this.inputs.length;++c)i.add(this.inputs[c],e[c])}else for(const c of this.inputs){const l=e[c.name];if(l==null)throw new xe(`No value is provided for the model's input ${c.name}`);i.add(c,l)}const o=K0(s,i);return n?o:o[0]}retrieveSymbolicTensors(e){const a=kd(null,e.length);let n=e.length;for(const r of this.layers){const s=Array.isArray(r.output)?r.output:[r.output],i=s.map(o=>o.name);for(let o=0;o<e.length;++o){const c=i.indexOf(e[o]);if(c!==-1&&(a[o]=s[c],n--),n===0)break}if(n===0)break}if(n>0){const r=[];throw a.forEach((s,i)=>{s==null&&r.push(e[i])}),new xe(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(r)}`)}return a}predictLoop(e,a=32,n=!1){return Ne(()=>{const r=this.checkNumSamples(e);if(n)throw new aa("Verbose predictLoop() is not implemented yet.");const s=kS(r,a),i=this.outputs.map(o=>[]);for(let o=0;o<s.length;++o)Ne(()=>{const l=s[o][0],u=s[o][1],d=L0(e,l,u),p=[];if(Array.isArray(d))for(let g=0;g<d.length;++g)p.push({key:this.inputs[g],value:d[g]});else p.push({key:this.inputs[0],value:d});const m=new lu(p);return K0(this.outputs,m)}).forEach((l,u)=>i[u].push(l));return Ts(i.map(o=>En(o,0)))})}predict(e,a={}){const n=T7(e);WL(n,this.inputNames,this.feedInputShapes,!1);try{const r=a.batchSize==null?32:a.batchSize;return xS(r),this.predictLoop(n,r)}finally{go(n,e)}}predictOnBatch(e){WL(e,this.inputNames,this.feedInputShapes,!0);const a=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,a)}standardizeUserDataXY(e,a,n=!0,r){if(this.optimizer_==null)throw new qi("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const s=[];for(let i=0;i<this.feedOutputShapes.length;++i){const o=this.feedOutputShapes[i];this.feedLossFns[i]===dw?s.push(o.slice(0,o.length-1).concat([1])):s.push(o)}if(e=UL(e,this.feedInputNames,this.feedInputShapes,!1,"input"),a=UL(a,this.feedOutputNames,s,!1,"target"),D1e(e,a),P1e(a,this.feedLossFns,this.feedOutputShapes),this.stateful&&r!=null&&r>0&&e[0].shape[0]%r!==0)throw new xe(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,a]}async standardizeUserData(e,a,n,r,s=!0,i){const[o,c]=this.standardizeUserDataXY(e,a,s,i);if(n!=null)throw new Error("sample weight is not supported yet.");let l=null;if(r!=null){const u=A7(r,this.outputNames);l=[];for(let d=0;d<u.length;++d)l.push(await N7(c[d],null,u[d]))}return[o,c,l]}testLoop(e,a,n,r=0,s){return Ne(()=>{const i=this.checkNumSamples(a,n,s,"steps"),o=[];if(r>0)throw new aa("Verbose mode is not implemented yet.");if(s!=null)throw new aa("steps mode in testLoop() is not implemented yet");{const c=kS(i,n),l=ds(Oo(0,i));for(let u=0;u<c.length;++u){const d=c[u][0],p=c[u][1],m=Yf(l,d,p-d),g=dE(a,m),x=e(g);if(u===0)for(let v=0;v<x.length;++v)o.push(Pt(0));for(let v=0;v<x.length;++v){const k=x[v];o[v]=qe(o[v],me(p-d,k))}}for(let u=0;u<o.length;++u)o[u]=wt(o[u],i)}return o})}getDedupedMetricsNames(){const e=this.metricsNames,a=[];for(let n=0;n<e.length;++n){const r=e[n];let s=r;if(TL(e,r)>1){const i=TL(e.slice(0,n),r);s+=`_${i}`}a.push(s)}return a}makeTrainFunction(){return e=>{const a=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),i=[],o=()=>{const d=[];for(let x=0;x<this.inputs.length;++x)d.push({key:this.inputs[x],value:n[x]});const p=new lu(d),m=K0(this.outputs,p,{training:!0});let g;for(let x=0;x<this.lossFunctions.length;++x){const v=this.lossFunctions[x];let k=v(r[x],m[x]);s[x]!=null&&(k=A1e(k,s[x]));const b=Sn(k);a.push(b),x===0?g=k:g=qe(g,k)}for(let x=0;x<this.metricsTensors.length;++x){let v;if(this.outputs.length>1&&x<this.outputs.length)v=a[x];else{const k=this.metricsTensors[x][0],b=this.metricsTensors[x][1];v=Sn(k(r[b],m[b]))}vr(v),i.push(v)}return g=Sn(g),this.calculateLosses().forEach(x=>{g=qe(g,x)}),g},c=this.collectedTrainableWeights.map(d=>d.read());return[this.optimizer_.minimize(o,!0,c)].concat(i)}}makeTestFunction(){this.testFunction=e=>Ne(()=>{const a=[];let n;const r=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let l=0;l<this.inputs.length;++l)i.push({key:this.inputs[l],value:r[l]});const o=new lu(i),c=K0(this.outputs,o);for(let l=0;l<this.lossFunctions.length;++l){const u=this.lossFunctions[l],d=Sn(u(s[l],c[l]));l===0?n=d:n=qe(n,d),a.push(n)}for(let l=0;l<this.metricsTensors.length;++l){const u=this.metricsTensors[l][0],d=this.metricsTensors[l][1],p=Sn(u(s[d],c[d]));a.push(p)}return a})}async fit(e,a,n={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let r,s,i,o,c,l,u,d,p;try{const m=n.batchSize==null?32:n.batchSize;xS(m);const x=await this.standardizeUserData(e,a,n.sampleWeight,n.classWeight,!1,m);r=x[0],s=x[1],p=x[2];let v=!1,k;if(n.validationData!=null&&n.validationData.length>0){if(v=!0,n.validationData.length===2)c=n.validationData[0],l=n.validationData[1];else throw n.validationData.length===3?new aa("validationData including sample weights is not supported yet."):new xe(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${n.validationData} is invalid.`);const P=await this.standardizeUserData(c,l,null,null,!0,m);u=P[0],d=P[1],k=u.concat(d)}else if(n.validationSplit!=null&&n.validationSplit>0&&n.validationSplit<1){v=!0;const I=Math.floor(r[0].shape[0]*(1-n.validationSplit)),P=r[0].shape[0];u=L0(r,I,P),i=r,r=L0(r,0,I),d=L0(s,I,P),o=s,s=L0(s,0,I),k=u.concat(d)}else n.validationSteps!=null&&(v=!0);const b=r.concat(s).concat(p);this.checkTrainableWeightsConsistency();const _=this.makeTrainFunction(),A=this.getDedupedMetricsNames();let S,C;v?(this.makeTestFunction(),S=this.testFunction,C=A.slice().concat(A.map(I=>"val_"+I))):(S=null,k=[],C=A.slice());const E=m7(n.callbacks,n.yieldEvery);return await this.fitLoop(_,b,A,m,n.epochs,n.verbose,E,S,k,n.shuffle,C,n.initialEpoch,null,null)}finally{this.isTraining=!1,go(r,e),go(s,a),go(i,e),go(o,a),go(u,c),go(d,l),p!=null&&da(p)}}async fitLoop(e,a,n,r,s,i,o,c,l,u,d,p,m,g){r==null&&(r=32),s==null&&(s=1),u==null&&(u=!0),p==null&&(p=0);let x=!1;if(c!=null&&l!=null&&(x=!0),g!=null&&(x=!0,m==null))throw new xe("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const v=this.checkNumSamples(a,r,m,"steps_per_epoch");let k;v!=null&&(k=Oo(0,v)),i==null&&(i=1);const{callbackList:b,history:_}=g7(o,i,s,p,v,m,r,x,d);b.setModel(this),this.history=_,await b.onTrainBegin(),this.stopTraining_=!1;for(let A=p;A<s;++A){await b.onEpochBegin(A);const S={};if(m!=null)throw new aa("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new aa("batch shuffling is not implemneted yet");u&&Noe(k);const C=ds(k),E=kS(v,r);for(let R=0;R<E.length;++R){const I={};if(await b.onBatchBegin(R,I),Ne(()=>{const P=E[R][0],D=E[R][1],B=Yf(C,P,D-P);I.batch=R,I.size=D-P;const U=dE(a,B),V=e(U);for(let j=0;j<n.length;++j){const W=n[j],Q=V[j];I[W]=Q,vr(Q)}if(R===E.length-1&&x){const j=this.testLoop(c,l,r);for(let W=0;W<n.length;++W){const Q=n[W],q=j[W];vr(q),S["val_"+Q]=q}}}),await b.onBatchEnd(R,I),p7(I),this.stopTraining_)break}C.dispose()}if(await b.onEpochEnd(A,S),this.stopTraining_)break}return await b.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,a){return T1e(this,e,a)}async trainOnBatch(e,a){const n=await this.standardizeUserData(e,a),r=n[0],s=n[1],o=this.makeTrainFunction()(r.concat(s)),c=[];for(const l of o){const u=await l.data();c.push(u[0])}return da(o),go(n[0],e),go(n[1],a),Ts(c)}getNamedWeights(e){const a=[],n=e!=null&&e.trainableOnly,r=n?this.trainableWeights:this.weights,s=this.getWeights(n);for(let i=0;i<r.length;++i)n&&!r[i].trainable||a.push({name:r[i].originalName,tensor:s[i]});return a}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const a=aL().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=a-aL().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=el(this.loss);else if(Array.isArray(this.loss)){for(const a of this.loss)if(typeof a!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(a=>el(a))}else{const a=Object.keys(this.loss);e={};const n=this.loss;for(const r of a)if(typeof n[r]=="string")e[r]=el(n[r]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[el(Hx(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>el(Hx(e)));{const e={};for(const a in this.metrics)e[a]=el(Hx(this.metrics[a]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const a=uE(e.optimizer_config),n=ll(a);let r;if(typeof e.loss=="string")r=$f(e.loss);else if(Array.isArray(e.loss))r=e.loss.map(i=>$f(i));else if(e.loss!=null){r={};for(const i in e.loss)r[i]=$f(e.loss[i])}let s;if(Array.isArray(e.metrics))s=e.metrics.map(i=>$f(i));else if(e.metrics!=null){s={};for(const i in e.metrics)s[i]=$f(e.metrics[i])}this.compile({loss:r,metrics:s,optimizer:n})}async save(e,a){if(typeof e=="string"){const l=Mz(e);if(l.length===0)throw new xe(`Cannot find any save handlers for URL '${e}'`);if(l.length>1)throw new xe(`Found more than one (${l.length}) save handlers for URL '${e}'`);e=l[0]}if(e.save==null)throw new xe("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await KT(this.getNamedWeights(a)),o={modelTopology:this.toJSON(null,!1),format:O1e,generatedBy:`TensorFlow.js tfjs-layers v${_7}`,convertedBy:null};if((a==null?!1:a.includeOptimizer)&&this.optimizer!=null){o.trainingConfig=this.getTrainingConfig();const l="optimizer",{data:u,specs:d}=await KT(await this.optimizer.getWeights(),l);n.specs.push(...d),n.data=Oz([n.data,u])}return this.userDefinedMetadata!=null&&(ML(this.userDefinedMetadata,this.name,!0),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=n.data,o.weightSpecs=n.specs,e.save(o)}setUserDefinedMetadata(e){ML(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}Tp.className="Model";Ye(Tp);class E7 extends Tp{}E7.className="Functional";Ye(E7);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class qg extends Tp{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:W_("sequential_"),e.layers!=null)for(const a of e.layers)this.add(a)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(n=>n<0))throw new xe(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const a=e instanceof qg||e instanceof Tp;let n;if(a){if(n=e,n.outputs.length!==1)throw new xe("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(n.inputs.length!==1)throw new xe("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new xe("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const r=Lye({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(r)}if(a)this.outputs=n.outputs,this.inputs=n.inputs;else{if(e.inboundNodes.length!==1)throw new xe(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new xe("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=l7(this.outputs[0])}this.inboundNodes=[],new j_({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:kd(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(r=>r.shape),outputShapes:this.outputs[0].shape})}else{const r=e.apply(this.outputs[0]);if(Array.isArray(r))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[r],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,a){return this.model==null&&this.build(),this.model.call(e,a)}build(e){if(Oa(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Tp({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,a,n=console.log){this.built||this.build(),super.summary(e,a,n)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,a,n={}){if(!this.built)throw new qi("The model needs to be compiled before being used.");return this.model.evaluate(e,a,n)}async evaluateDataset(e,a){if(!this.built)throw new qi("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,a)}predict(e,a={}){return this.model==null&&this.build(),this.model.predict(e,a)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,a,n={}){if(!this.built)throw new qi("The model needs to be compiled before being used.");return this.model.fit(e,a,n)}async fitDataset(e,a){if(!this.built)throw new qi("The model needs to be compiled before being used.");return this.model.fitDataset(e,a)}async trainOnBatch(e,a){return this.model.trainOnBatch(e,a)}static fromConfig(e,a,n={},r=!1){let s,i={};if(a instanceof Array){if(a[0].className==null||a[0].className==="Merge")throw new xe("Legacy serialization format not supported yet.");s=a}else K(a.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),s=a.layers,delete a.layers,i=a;const o=new e(i);if(!(o instanceof qg))throw new aa(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(const c of s){const u=ll(c,void 0,r);r&&u.setFastWeightInitDuringBuild(!0),o.add(u)}return o}set stopTraining(e){if(this.model==null)throw new xe("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new xe("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const a of this.layers){const n={};n.className=a.getClassName(),n.config=a.getConfig(),e.push(n)}return{name:this.name,layers:e}}}qg.className="Sequential";Ye(qg);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let qr=class extends xm{getConfig(){return{}}};class C7 extends qr{apply(e,a=1){return wye(e,a)}}C7.className="elu";Ye(C7);class I7 extends qr{apply(e){return m3(e)}}I7.className="selu";Ye(I7);class R7 extends qr{apply(e){return Cc(e)}}R7.className="relu";Ye(R7);class D7 extends qr{apply(e){return Ne(()=>vd(6,Cc(e)))}}D7.className="relu6";Ye(D7);class P7 extends qr{apply(e){return e}}P7.className="linear";Ye(P7);class F7 extends qr{apply(e){return pc(e)}}F7.className="sigmoid";Ye(F7);class O7 extends qr{apply(e){return _ye(e)}}O7.className="hardSigmoid";Ye(O7);class $7 extends qr{apply(e){return gm(e)}}$7.className="softplus";Ye($7);class L7 extends qr{apply(e){return bye(e)}}L7.className="softsign";Ye(L7);class M7 extends qr{apply(e){return yd(e)}}M7.className="tanh";Ye(M7);let wR=class extends qr{apply(e,a=-1){return D_(e,a)}};wR.className="softmax";Ye(wR);class B7 extends qr{apply(e,a=-1){return i3(e,a)}}B7.className="logSoftmax";Ye(B7);class z7 extends qr{apply(e){return Ne(()=>Ne(()=>{const a=Math.sqrt(2),n=me(.5,qe(1,n3(wt(e,a))));return me(e,n)}))}}z7.className="gelu";Ye(z7);class G7 extends qr{apply(e){return Ne(()=>me(.5,me(e,qe(1,yd(me(Lr(wt(2,Math.PI)),qe(e,me(.044715,ml(e,3)))))))))}}G7.className="gelu_new";Ye(G7);class U7 extends qr{apply(e){return Ne(()=>me(e,yd(gm(e))))}}U7.className="mish";Ye(U7);class W7 extends qr{apply(e,a=1){return Ne(()=>me(pc(me(e,a)),e))}}W7.className="swish";Ye(W7);function Eu(t){return t.getClassName()}function wS(t,e={}){return z1(t,ji.getMap().classNameMap,e,"activation")}function Cu(t){if(t==null){const e={};return e.className="linear",e.config={},wS(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},wS(e)}else return t instanceof qr?t:wS(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $1e(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class V7 extends xm{}class j7 extends V7{constructor(e){super(),$1e(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return Ne(()=>{let a=tr([1]);return this.hasL1&&(a=qe(a,yt(me(this.l1,er(e))))),this.hasL2&&(a=qe(a,yt(me(this.l2,U1(e))))),ve(a,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,a){return new e({l1:a.l1,l2:a.l2})}}j7.className="L1L2";Ye(j7);const VL={l1l2:"L1L2"};function en(t){return oR(t)}function jL(t,e={}){return z1(t,ji.getMap().classNameMap,e,"regularizer")}function pn(t){if(t==null)return null;if(typeof t=="string"){const a={className:t in VL?VL[t]:t,config:{}};return jL(a)}else return t instanceof V7?t:jL(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class H7 extends ma{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,a){e=zt(e);let n=Cc(e);return this.maxValue!=null&&(n=Xs(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},a=super.getConfig();return Object.assign(e,a),e}}H7.className="ReLU";Ye(H7);class K7 extends ma{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,a){const n=zt(e);return w_(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},a=super.getConfig();return Object.assign(e,a),e}}K7.className="LeakyReLU";Ye(K7);class q7 extends ma{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=dn(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=pn(e.alphaRegularizer),this.alphaConstraint=ir(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new xe(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=Oa(e);const a=e.slice(1);if(this.sharedAxes!=null)for(const r of this.sharedAxes)a[r-1]=1;this.alpha=this.addWeight("alpha",a,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(this.sharedAxes!=null)for(let r=1;r<e.length;++r)n[r]=e[r];this.inputSpec=[new nr({ndim:e.length,axes:n})],this.built=!0}call(e,a){return e=zt(e),E_(e,this.alpha.read())}getConfig(){const e={alphaInitializer:yn(this.alphaInitializer),alphaRegularizer:en(this.alphaRegularizer),alphaConstraint:sr(this.alphaConstraint),sharedAxes:this.sharedAxes},a=super.getConfig();return Object.assign(e,a),e}}q7.className="PReLU";Ye(q7);let X7=class extends ma{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new aa(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,a){const n=zt(e);return P1(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},a=super.getConfig();return Object.assign(e,a),e}};X7.className="ELU";Ye(X7);class Y7 extends ma{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,a){const n=zt(e);return me(n,ut(ai(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},a=super.getConfig();return Object.assign(e,a),e}}Y7.className="ThresholdedReLU";Ye(Y7);class Z7 extends ma{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new wR().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,a){return Ne(()=>{let n=zt(e);const r=a.mask;if(r!=null){const s=me(pt(Hs(n.shape),ut(r,n.dtype)),Pt(-1e9));n=qe(n,s)}return this.axis instanceof Array?this.axis.length>1?Ys(pt(n,__(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},a=super.getConfig();return Object.assign(e,a),e}}Z7.className="Softmax";Ye(Z7);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ep(t,e,a){if(typeof t=="number")return kd(t,e);if(t.length!==e)throw new xe(`The ${a} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let n=0;n<e;++n){const r=t[n];if(!yye(r))throw new xe(`The ${a} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${r}`)}return t}function To(t,e,a,n,r=1){if(t==null)return t;const s=e+(e-1)*(r-1);let i;return a==="same"?i=t:i=t-s+1,Math.floor((i+n-1)/n)}function rc(t,e,a,n){if(t==null)return null;if(n==="valid")t=t*e+Tu([a-e,0]);else if(n==="same")t=t*e;else throw new xe(`Unsupport padding mode: ${n}.`);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function bR(t,e){return Ne(()=>(zn(e),e==="channelsFirst"?Ta(t,[0,2,3,1]):t))}function J7(t,e){return Ne(()=>(zn(e),e==="channelsFirst"?Ta(t,[0,2,3,4,1]):t))}function L1e(t,e,a,n=1,r="valid",s,i=1){return Ne(()=>{if(s==null&&(s=$o()),zn(s),t.shape.length!==3)throw new xe(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new xe(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(a!=null&&a.shape.length!==1)throw new xe(`The bias for a conv1dWithBias operation should be 1, but is ${a.shape.length} instead`);if(s==="channelsFirst"&&(t=Ta(t,[0,2,1])),r==="causal")throw new aa("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=JI(t,e,n,r==="same"?"same":"valid","NWC",i);return a!=null&&(o=Wo(o,a)),o})}function HL(t,e,a,n=[1,1],r="valid",s,i,o=null){return Ne(()=>{if(s==null&&(s=$o()),zn(s),t.rank!==3&&t.rank!==4)throw new xe(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new xe(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let c=bR(t,s);if(r==="causal")throw new aa("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=jG({x:c,filter:e,strides:n,pad:r==="same"?"same":"valid",dilations:i,dataFormat:"NHWC",bias:a,activation:o}),s==="channelsFirst"&&(c=Ta(c,[0,3,1,2])),c})}function M1e(t,e,a,n=[1,1,1],r="valid",s,i){return Ne(()=>{if(s==null&&(s=$o()),zn(s),t.rank!==4&&t.rank!==5)throw new xe(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new xe(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let o=J7(t,s);if(r==="causal")throw new aa("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=fG(o,e,n,r==="same"?"same":"valid","NDHWC",i),a!=null&&(o=Wo(o,a)),s==="channelsFirst"&&(o=Ta(o,[0,4,1,2,3])),o})}class q_ extends ma{constructor(e,a){if(super(a),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",q_.verifyArgs(a),this.rank=e,xr(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new aa(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Ep(a.kernelSize,e,"kernelSize"),this.strides=Ep(a.strides==null?1:a.strides,e,"strides"),this.padding=a.padding==null?"valid":a.padding,wi(this.padding),this.dataFormat=a.dataFormat==null?"channelsLast":a.dataFormat,zn(this.dataFormat),this.activation=Cu(a.activation),this.useBias=a.useBias==null?!0:a.useBias,this.biasInitializer=dn(a.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=ir(a.biasConstraint),this.biasRegularizer=pn(a.biasRegularizer),this.activityRegularizer=pn(a.activityRegularizer),this.dilationRate=Ep(a.dilationRate==null?1:a.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new xe(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new xe(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new xe(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(nc("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!cR(e.kernelSize,"number",1,3))throw new xe(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Eu(this.activation),useBias:this.useBias,biasInitializer:yn(this.biasInitializer),biasRegularizer:en(this.biasRegularizer),activityRegularizer:en(this.activityRegularizer),biasConstraint:sr(this.biasConstraint)},a=super.getConfig();return Object.assign(e,a),e}}class km extends q_{constructor(e,a){super(e,a),this.kernel=null,km.verifyArgs(a),this.filters=a.filters,xr(this.filters,"filters"),this.kernelInitializer=dn(a.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=ir(a.kernelConstraint),this.kernelRegularizer=pn(a.kernelRegularizer)}build(e){e=Oa(e);const a=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[a]==null)throw new xe(`The channel dimension of the input should be defined. Found ${e[a]}`);const n=e[a],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[a]:n}}],this.built=!0}call(e,a){return Ne(()=>{e=zt(e);let n;const r=this.bias==null?null:this.bias.read(),s=qU(this.activation.getClassName());if(s!=null&&this.rank===2)n=HL(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate,s);else{if(this.rank===1)n=L1e(e,this.kernel.read(),r,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)n=HL(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)n=M1e(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new aa("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(n=this.activation.apply(n))}return n})}computeOutputShape(e){e=Oa(e);const a=[],n=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let s=0;s<n.length;++s){const i=To(n[s],this.kernelSize[s],this.padding,this.strides[s],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[s]);a.push(i)}let r=[e[0]];return this.dataFormat==="channelsLast"?(r=r.concat(a),r.push(this.filters)):(r.push(this.filters),r=r.concat(a)),r}getConfig(){const e={filters:this.filters,kernelInitializer:yn(this.kernelInitializer),kernelRegularizer:en(this.kernelRegularizer),kernelConstraint:sr(this.kernelConstraint)},a=super.getConfig();return Object.assign(e,a),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new xe(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class H1 extends km{constructor(e){super(2,e),H1.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!cR(e.kernelSize,"number",1,2))throw new xe(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}H1.className="Conv2D";Ye(H1);class K1 extends km{constructor(e){super(3,e),K1.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new xe(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}K1.className="Conv3D";Ye(K1);class Q7 extends H1{constructor(e){if(super(e),this.inputSpec=[new nr({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new xe(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Oa(e),e.length!==4)throw new xe("Input should have rank 4; Received input shape: "+JSON.stringify(e));const a=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[a]==null)throw new xe("The channel dimension of the inputs should be defined. Found `None`.");const n=e[a],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new nr({ndim:4,axes:{[a]:n}})],this.built=!0}call(e,a){return Ne(()=>{let n=zt(e);if(n.shape.length!==4)throw new xe(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);const r=n.shape,s=r[0];let i,o;this.dataFormat==="channelsFirst"?(i=2,o=3):(i=1,o=2);const c=r[i],l=r[o],u=this.kernelSize[0],d=this.kernelSize[1],p=this.strides[0],m=this.strides[1],g=rc(c,p,u,this.padding),x=rc(l,m,d,this.padding),v=[s,g,x,this.filters];this.dataFormat!=="channelsLast"&&(n=Ta(n,[0,2,3,1]));let k=e3(n,this.kernel.read(),v,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(k=Ta(k,[0,3,1,2])),this.bias!=null&&(k=Wo(k,this.bias.read(),this.dataFormat)),this.activation!=null&&(k=this.activation.apply(k)),k})}computeOutputShape(e){e=Oa(e);const a=e.slice();let n,r,s;this.dataFormat==="channelsFirst"?(n=1,r=2,s=3):(n=3,r=1,s=2);const i=this.kernelSize[0],o=this.kernelSize[1],c=this.strides[0],l=this.strides[1];return a[n]=this.filters,a[r]=rc(a[r],c,i,this.padding),a[s]=rc(a[s],l,o,this.padding),a}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}Q7.className="Conv2DTranspose";Ye(Q7);class e9 extends K1{constructor(e){if(super(e),this.inputSpec=[new nr({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new xe(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Oa(e),e.length!==5)throw new xe("Input should have rank 5; Received input shape: "+JSON.stringify(e));const a=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[a]==null)throw new xe("The channel dimension of the inputs should be defined. Found `None`.");const n=e[a],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new nr({ndim:5,axes:{[a]:n}})],this.built=!0}call(e,a){return Ne(()=>{let n=zt(e);if(n.shape.length!==5)throw new xe(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);const r=n.shape,s=r[0];let i,o,c;this.dataFormat==="channelsFirst"?(c=2,i=3,o=4):(c=1,i=2,o=3);const l=r[c],u=r[i],d=r[o],p=this.kernelSize[0],m=this.kernelSize[1],g=this.kernelSize[2],x=this.strides[0],v=this.strides[1],k=this.strides[2],b=rc(l,x,p,this.padding),_=rc(u,v,m,this.padding),A=rc(d,k,g,this.padding),S=[s,b,_,A,this.filters];this.dataFormat!=="channelsLast"&&(n=Ta(n,[0,2,3,4,1]));let C=hG(n,this.kernel.read(),S,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(C=Ta(C,[0,4,1,2,3])),this.bias!==null&&(C=Wo(C,this.bias.read(),this.dataFormat)),this.activation!==null&&(C=this.activation.apply(C)),C})}computeOutputShape(e){e=Oa(e);const a=e.slice();let n,r,s,i;this.dataFormat==="channelsFirst"?(n=1,r=2,s=3,i=4):(n=4,r=1,s=2,i=3);const o=this.kernelSize[0],c=this.kernelSize[1],l=this.kernelSize[2],u=this.strides[0],d=this.strides[1],p=this.strides[2];return a[n]=this.filters,a[r]=rc(a[r],u,o,this.padding),a[s]=rc(a[s],d,c,this.padding),a[i]=rc(a[i],p,l,this.padding),a}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}e9.className="Conv3DTranspose";Ye(e9);class t9 extends km{constructor(e,a){if(super(e,a),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,a.filters==null)throw new xe("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(a.kernelInitializer!=null||a.kernelRegularizer!=null||a.kernelConstraint!=null)throw new xe("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(a.padding!=null&&a.padding!=="same"&&a.padding!=="valid")throw new xe(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(a.padding)}`);this.depthMultiplier=a.depthMultiplier==null?1:a.depthMultiplier,this.depthwiseInitializer=dn(a.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=pn(a.depthwiseRegularizer),this.depthwiseConstraint=ir(a.depthwiseConstraint),this.pointwiseInitializer=dn(a.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=pn(a.pointwiseRegularizer),this.pointwiseConstraint=ir(a.pointwiseConstraint)}build(e){if(e=Oa(e),e.length<this.rank+2)throw new xe(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const a=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[a]==null||e[a]<0)throw new xe(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[a])}`);const n=e[a],r=this.kernelSize.concat([n,this.depthMultiplier]),s=[];for(let o=0;o<this.rank;++o)s.push(1);s.push(n*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",s,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new nr({ndim:this.rank+2,axes:{[a]:n}})],this.built=!0}call(e,a){return Ne(()=>{e=zt(e);let n;if(this.rank===1)throw new aa("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=Ta(e,[0,2,3,1])),n=g3(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(n=Wo(n,this.bias.read(),this.dataFormat)),this.activation!=null&&(n=this.activation.apply(n)),this.dataFormat==="channelsFirst"&&(n=Ta(n,[0,3,1,2])),n})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=yn(this.depthwiseInitializer),e.pointwiseInitializer=yn(this.pointwiseInitializer),e.depthwiseRegularizer=en(this.depthwiseRegularizer),e.pointwiseRegularizer=en(this.pointwiseRegularizer),e.depthwiseConstraint=sr(this.depthwiseConstraint),e.pointwiseConstraint=sr(this.pointwiseConstraint),e}}t9.className="SeparableConv";class a9 extends t9{constructor(e){super(2,e)}}a9.className="SeparableConv2D";Ye(a9);class X_ extends km{constructor(e){super(1,e),X_.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!cR(e.kernelSize,"number",1,1))throw new xe(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}X_.className="Conv1D";Ye(X_);class n9 extends ma{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,a){return Ne(()=>{if(e=zt(e),this.dataFormat==="channelsLast"){const n=jx(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return jx(n,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const n=jx(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return jx(n,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},a=super.getConfig();return Object.assign(e,a),e}}n9.className="Cropping2D";Ye(n9);class r9 extends ma{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,zn(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,pye(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const a=e[2]==null?null:this.size[0]*e[2],n=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],a,n]}else{const a=e[1]==null?null:this.size[0]*e[1],n=e[2]==null?null:this.size[1]*e[2];return[e[0],a,n,e[3]]}}call(e,a){return Ne(()=>{let n=zt(e);const r=n.shape;if(this.dataFormat==="channelsFirst"){n=Ta(n,[0,2,3,1]);const s=this.size[0]*r[2],i=this.size[1]*r[3],o=this.interpolation==="nearest"?Ki.resizeNearestNeighbor(n,[s,i]):Ki.resizeBilinear(n,[s,i]);return Ta(o,[0,3,1,2])}else{const s=this.size[0]*r[1],i=this.size[1]*r[2];return this.interpolation==="nearest"?Ki.resizeNearestNeighbor(n,[s,i]):Ki.resizeBilinear(n,[s,i])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},a=super.getConfig();return Object.assign(e,a),e}}r9.className="UpSampling2D";Ye(r9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function B1e(t,e,a=[1,1],n="valid",r,s){return Ne(()=>{r==null&&(r=$o()),zn(r);let i=bR(t,r);if(t.rank!==4)throw new xe(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new xe(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return i=D1(i,e,a,n==="same"?"same":"valid","NHWC",s),r==="channelsFirst"&&(i=Ta(i,[0,3,1,2])),i})}class s9 extends q_{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=dn(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=ir(e.depthwiseConstraint),this.depthwiseRegularizer=pn(e.depthwiseRegularizer)}build(e){if(e=Oa(e),e.length<4)throw new xe(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const a=this.dataFormat==="channelsFirst"?1:3;if(e[a]==null||e[a]<0)throw new xe(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[a]}).`);const n=e[a],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,a){return Ne(()=>{e=zt(e);let n=B1e(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(n=Wo(n,this.bias.read(),this.dataFormat)),this.activation!=null&&(n=this.activation.apply(n)),n})}computeOutputShape(e){e=Oa(e);const a=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,s=To(a,this.kernelSize[0],this.padding,this.strides[0]),i=To(n,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],r,s,i]:[e[0],s,i,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=yn(this.depthwiseInitializer),e.depthwiseRegularizer=en(this.depthwiseRegularizer),e.depthwiseConstraint=sr(this.depthwiseRegularizer),e}}s9.className="DepthwiseConv2D";Ye(s9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function i9(t,e,a,n){if(Array.isArray(t)){if(e!=null||a!=null)throw new xe("When inputs is an array, neither initialState or constants should be provided");n!=null&&(a=t.slice(t.length-n,t.length),t=t.slice(0,t.length-n)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function r(s){return s==null||Array.isArray(s)?s:[s]}return e=r(e),a=r(a),{inputs:t,initialState:e,constants:a}}function o9(t,e,a,n=!1,r,s,i=!1,o=!1){return Ne(()=>{const c=e.shape.length;if(c<3)throw new xe(`Input should be at least 3D, but is ${c}D.`);const l=[1,0].concat(Oo(2,c));e=Ta(e,l),i&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),r!=null&&(r=ut(ut(r,"bool"),"float32"),r.rank===c-1&&(r=cs(r,-1)),r=Ta(r,l)),n&&(e=ao(e,0),r!=null&&(r=ao(r,0)));const u=[];let d,p=a;const m=e.shape[0],g=no(e);let x;r!=null&&(x=no(r));for(let k=0;k<m;++k){const b=g[k],_=Ne(()=>t(b,p));if(r==null)d=_[0],p=_[1];else{const A=Ne(()=>{const S=x[k],C=pt(gi(S),S),E=qe(me(_[0],S),me(p[0],C)),R=p.map((I,P)=>qe(me(_[1][P],S),me(I,C)));return{output:E,newStates:R}});d=A.output,p=A.newStates}o&&u.push(d)}let v;return o&&(v=Zs(u,1)),[d,v,p]})}class Yu extends ma{constructor(e){super(e);let a;if(e.cell==null)throw new xe("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?a=new NR({cells:e.cell}):a=e.cell,a.stateSize==null)throw new xe("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=a,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new nr({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Oo(0,e).map(a=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){oE(e)&&(e=e[0]),e=e;let a=this.cell.stateSize;Array.isArray(a)||(a=[a]);const n=a[0];let r;if(this.returnSequences?r=[e[0],e[1],n]:r=[e[0],n],this.returnState){const s=[];for(const i of a)s.push([e[0],i]);return[r].concat(s)}else return r}computeMask(e,a){return Ne(()=>{Array.isArray(a)&&(a=a[0]);const n=this.returnSequences?a:null;if(this.returnState){const r=this.states.map(s=>null);return[n].concat(r)}else return n})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,a=[];for(let n=0;n<e;++n)a.push(null);return a}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new aa("Constants support is not implemented in RNN yet.");oE(e)&&(e=e[0]),e=e;const a=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new nr({shape:[a,null,...n]});const r=[e[0]].concat(e.slice(2));this.cell.build(r);let s;if(Array.isArray(this.cell.stateSize)?s=this.cell.stateSize:s=[this.cell.stateSize],this.stateSpec!=null){if(!_a(this.stateSpec.map(i=>i.shape[i.shape.length-1]),s))throw new xe(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=s.map(i=>new nr({shape:[null,i]}));this.stateful&&this.resetStates()}resetStates(e,a=!1){Ne(()=>{if(!this.stateful)throw new ac("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(n==null)throw new xe("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>tr([n,r])):this.states_=[tr([n,this.cell.stateSize])];else if(e==null)da(this.states_),this.keptStates!=null&&(da(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>tr([n,r])):this.states_[0]=tr([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new xe(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);a===!0?this.keptStates.push(this.states_.slice()):da(this.states_);for(let r=0;r<this.states_.length;++r){const s=e[r],i=Array.isArray(this.cell.stateSize)?this.cell.stateSize[r]:this.cell.stateSize,o=[n,i];if(!_a(s.shape,o))throw new xe(`State ${r} is incompatible with layer ${this.name}: expected shape=${o}, received shape=${s.shape}`);this.states_[r]=s}}this.states_=this.states_.map(r=>vr(r.clone()))})}apply(e,a){let n=a==null?null:a.initialState,r=a==null?null:a.constants;a==null&&(a={});const s=i9(e,n,r,this.numConstants);e=s.inputs,n=s.initialState,r=s.constants;let i=[],o=[];if(n!=null){a.initialState=n,i=i.concat(n),this.stateSpec=[];for(const l of n)this.stateSpec.push(new nr({shape:l.shape}));o=o.concat(this.stateSpec)}if(r!=null&&(a.constants=r,i=i.concat(r),this.numConstants=r.length),i[0]instanceof bc){const l=[e].concat(i),u=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=u;const p=super.apply(l,a);return this.inputSpec=d,p}else return super.apply(e,a)}call(e,a){return Ne(()=>{const n=a==null?null:a.mask,r=a==null?null:a.training;let s=a==null?null:a.initialState;e=zt(e),s==null&&(this.stateful?s=this.states_:s=this.getInitialState(e));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(s.length!==i)throw new xe(`RNN Layer has ${i} state(s) but was passed ${s.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const o={training:r},l=o9((g,x)=>{const v=this.cell.call([g].concat(x),o);return[v[0],v.slice(1)]},e,s,this.goBackwards,n,null,this.unroll,this.returnSequences),u=l[0],d=l[1],p=l[2];this.stateful&&this.resetStates(p,r);const m=this.returnSequences?d:u;return this.returnState?[m].concat(p):m})}getInitialState(e){return Ne(()=>{let a=tr(e.shape);return a=yt(a,[1,2]),a=G1(a),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(n=>n>1?sE(a,[1,n]):a):this.cell.stateSize>1?[sE(a,[1,this.cell.stateSize])]:[a]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),a={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(a.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===Yu.className&&(a.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),a)}static fromConfig(e,a,n={}){const r=a.cell,s=ll(r,n);return new e(Object.assign(a,{cell:s}))}}Yu.className="RNN";Ye(Yu);class Y_ extends ma{}class _R extends Y_{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,xr(this.units,"units"),this.activation=Cu(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=dn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=dn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=dn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=pn(e.kernelRegularizer),this.recurrentRegularizer=pn(e.recurrentRegularizer),this.biasRegularizer=pn(e.biasRegularizer),this.kernelConstraint=ir(e.kernelConstraint),this.recurrentConstraint=ir(e.recurrentConstraint),this.biasConstraint=ir(e.biasConstraint),this.dropout=jp([1,Tu([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=jp([1,Tu([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Oa(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,a){return Ne(()=>{if(e=e,e.length!==2)throw new xe(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const r=a.training==null?!1:a.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Iu({ones:()=>gi(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Iu({ones:()=>gi(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));let s;const i=this.dropoutMask,o=this.recurrentDropoutMask;i!=null?s=yc(me(e,i),this.kernel.read()):s=yc(e,this.kernel.read()),this.bias!=null&&(s=Wo(s,this.bias.read())),o!=null&&(n=me(n,o));let c=qe(s,yc(n,this.recurrentKernel.read()));return this.activation!=null&&(c=this.activation.apply(c)),[c,c]})}getConfig(){const e=super.getConfig(),a={units:this.units,activation:Eu(this.activation),useBias:this.useBias,kernelInitializer:yn(this.kernelInitializer),recurrentInitializer:yn(this.recurrentInitializer),biasInitializer:yn(this.biasInitializer),kernelRegularizer:en(this.kernelRegularizer),recurrentRegularizer:en(this.recurrentRegularizer),biasRegularizer:en(this.biasRegularizer),activityRegularizer:en(this.activityRegularizer),kernelConstraint:sr(this.kernelConstraint),recurrentConstraint:sr(this.recurrentConstraint),biasConstraint:sr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),a)}}_R.className="SimpleRNNCell";Ye(_R);class c9 extends Yu{constructor(e){e.cell=new _R(e),super(e)}call(e,a){return Ne(()=>{this.cell.dropoutMask!=null&&(da(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(da(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=a==null?null:a.mask,r=a==null?null:a.training,s=a==null?null:a.initialState;return super.call(e,{mask:n,training:r,initialState:s})})}static fromConfig(e,a){return new e(a)}}c9.className="SimpleRNN";Ye(c9);class AR extends Y_{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new xe("GRUCell does not support reset_after parameter set to true.");this.units=e.units,xr(this.units,"units"),this.activation=Cu(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Cu(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=dn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=dn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=dn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=pn(e.kernelRegularizer),this.recurrentRegularizer=pn(e.recurrentRegularizer),this.biasRegularizer=pn(e.biasRegularizer),this.kernelConstraint=ir(e.kernelConstraint),this.recurrentConstraint=ir(e.recurrentConstraint),this.biasConstraint=ir(e.biasConstraint),this.dropout=jp([1,Tu([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=jp([1,Tu([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Oa(e);const a=e[e.length-1];this.kernel=this.addWeight("kernel",[a,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,a){return Ne(()=>{if(e=e,e.length!==2)throw new xe(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=a.training==null?!1:a.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Iu({ones:()=>gi(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Iu({ones:()=>gi(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,i=this.recurrentDropoutMask;let o,c,l;0<this.dropout&&this.dropout<1&&(e=me(e,s[0]));let u=yc(e,this.kernel.read());this.useBias&&(u=Wo(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=me(r,i[0]));const d=this.recurrentKernel.read(),[p,m]=Ks(d,[2*this.units,this.units],d.rank-1),g=yc(r,p),[x,v,k]=Ks(u,3,u.rank-1),[b,_]=Ks(g,2,g.rank-1);o=this.recurrentActivation.apply(qe(x,b)),c=this.recurrentActivation.apply(qe(v,_));const A=yc(me(c,r),m);l=this.activation.apply(qe(k,A));const S=qe(me(o,r),me(qe(1,fn(o)),l));return[S,S]})}getConfig(){const e=super.getConfig(),a={units:this.units,activation:Eu(this.activation),recurrentActivation:Eu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:yn(this.kernelInitializer),recurrentInitializer:yn(this.recurrentInitializer),biasInitializer:yn(this.biasInitializer),kernelRegularizer:en(this.kernelRegularizer),recurrentRegularizer:en(this.recurrentRegularizer),biasRegularizer:en(this.biasRegularizer),activityRegularizer:en(this.activityRegularizer),kernelConstraint:sr(this.kernelConstraint),recurrentConstraint:sr(this.recurrentConstraint),biasConstraint:sr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),a)}}AR.className="GRUCell";Ye(AR);class l9 extends Yu{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new AR(e),super(e)}call(e,a){return Ne(()=>{this.cell.dropoutMask!=null&&(da(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(da(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=a==null?null:a.mask,r=a==null?null:a.training,s=a==null?null:a.initialState;return super.call(e,{mask:n,training:r,initialState:s})})}static fromConfig(e,a){return a.implmentation===0&&(a.implementation=1),new e(a)}}l9.className="GRU";Ye(l9);class Z_ extends Y_{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,xr(this.units,"units"),this.activation=Cu(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Cu(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=dn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=dn(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=dn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=pn(e.kernelRegularizer),this.recurrentRegularizer=pn(e.recurrentRegularizer),this.biasRegularizer=pn(e.biasRegularizer),this.kernelConstraint=ir(e.kernelConstraint),this.recurrentConstraint=ir(e.recurrentConstraint),this.biasConstraint=ir(e.biasConstraint),this.dropout=jp([1,Tu([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=jp([1,Tu([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var a;e=Oa(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let r;if(this.useBias){if(this.unitForgetBias){const s=this.biasInitializer,i=this.units;r=new(a=class extends so{apply(c,l){const u=s.apply([i]),d=new uR().apply([i]),p=s.apply([i*2]);return CL(CL(u,d),p)}},a.className="CustomInit",a)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,a){return Ne(()=>{const n=a.training==null?!1:a.training;if(e=e,e.length!==3)throw new xe(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const s=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Iu({ones:()=>gi(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Iu({ones:()=>gi(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,o=this.recurrentDropoutMask;let c,l,u,d;0<this.dropout&&this.dropout<1&&(e=me(e,i[0]));let p=yc(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=me(r,o[0])),p=qe(p,yc(r,this.recurrentKernel.read())),this.useBias&&(p=Wo(p,this.bias.read()));const[m,g,x,v]=Ks(p,4,p.rank-1);c=this.recurrentActivation.apply(m),l=this.recurrentActivation.apply(g),u=qe(me(l,s),me(c,this.activation.apply(x))),d=this.recurrentActivation.apply(v);const k=me(d,this.activation.apply(u));return[k,k,u]})}getConfig(){const e=super.getConfig(),a={units:this.units,activation:Eu(this.activation),recurrentActivation:Eu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:yn(this.kernelInitializer),recurrentInitializer:yn(this.recurrentInitializer),biasInitializer:yn(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:en(this.kernelRegularizer),recurrentRegularizer:en(this.recurrentRegularizer),biasRegularizer:en(this.biasRegularizer),activityRegularizer:en(this.activityRegularizer),kernelConstraint:sr(this.kernelConstraint),recurrentConstraint:sr(this.recurrentConstraint),biasConstraint:sr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),a)}}Z_.className="LSTMCell";Ye(Z_);class u9 extends Yu{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Z_(e),super(e)}call(e,a){return Ne(()=>{this.cell.dropoutMask!=null&&(da(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(da(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=a==null?null:a.mask,r=a==null?null:a.training,s=a==null?null:a.initialState;return super.call(e,{mask:n,training:r,initialState:s})})}static fromConfig(e,a){return a.implmentation===0&&(a.implementation=1),new e(a)}}u9.className="LSTM";Ye(u9);class NR extends Y_{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const a of this.cells.slice().reverse())Array.isArray(a.stateSize)?e.push(...a.stateSize):e.push(a.stateSize);return e}call(e,a){return Ne(()=>{e=e;let n=e.slice(1);const r=[];for(const o of this.cells.slice().reverse())Array.isArray(o.stateSize)?r.push(n.splice(0,o.stateSize.length)):r.push(n.splice(0,1));r.reverse();const s=[];let i;for(let o=0;o<this.cells.length;++o){const c=this.cells[o];n=r[o],o===0?i=[e[0]].concat(n):i=[i[0]].concat(n),i=c.call(i,a),s.push(i.slice(1))}n=[];for(const o of s.slice().reverse())n.push(...o);return[i[0]].concat(n)})}build(e){oE(e)&&(e=e[0]),e=e;let a;this.cells.forEach((n,r)=>{Xf(`RNNCell_${r}`,()=>{n.build(e),Array.isArray(n.stateSize)?a=n.stateSize[0]:a=n.stateSize,e=[e[0],a]})}),this.built=!0}getConfig(){const e=super.getConfig(),a=s=>({className:s.getClassName(),config:s.getConfig()}),r={cells:this.cells.map(a)};return Object.assign(Object.assign({},e),r)}static fromConfig(e,a,n={}){const r=[];for(const s of a.cells)r.push(ll(s,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const a of this.cells)e.push(...a.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const a of this.cells)e.push(...a.nonTrainableWeights);if(!this.trainable){const a=[];for(const n of this.cells)a.push(...n.trainableWeights);return a.concat(e)}return e}getWeights(){const e=[];for(const a of this.cells)e.push(...a.weights);return cE(e)}setWeights(e){const a=[];for(const n of this.cells){const r=n.weights.length,s=e.splice(r);for(let i=0;i<n.weights.length;++i)a.push([n.weights[i],s[i]])}yR(a)}}NR.className="StackedRNNCells";Ye(NR);function Iu(t){const{ones:e,rate:a,training:n=!1,count:r=1,dropoutFunc:s}=t,i=()=>s!=null?s(e(),a):t7(e(),a),o=()=>W1(i,e,n);return!r||r<=1?vr(o().clone()):Array(r).fill(void 0).map(o).map(l=>vr(l.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var z1e=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(a[n[r]]=t[n[r]]);return a};class f9 extends Yu{constructor(e){if(e.unroll)throw new aa("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new aa("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new nr({ndim:5})]}call(e,a){return Ne(()=>{if(this.cell.dropoutMask!=null&&(da(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(da(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),a&&a.constants)throw new xe("ConvRNN2D cell does not support constants");const n=a==null?null:a.mask,r=a==null?null:a.training,s=a==null?null:a.initialState;return super.call(e,{mask:n,training:r,initialState:s})})}computeOutputShape(e){let a=this.computeSingleOutputShape(e);return this.returnSequences||(a=[a[0],...a.slice(2)]),this.returnState&&(a=[a,...Array(2).fill([e[0],...a.slice(-3)])]),a}getInitialState(e){return Ne(()=>{const{stateSize:a}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),s=[r[0],...r.slice(2)],i=tr(s);return Array.isArray(a)?Array(a.length).fill(i):[i]})}resetStates(e,a=!1){Ne(()=>{if(!this.stateful)throw new ac("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),s=[r[0],...r.slice(2)];if(n[0]==null)throw new xe("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>tr(s)):this.states_=[tr(s)];else if(e==null)da(this.states_),this.keptStates!=null&&(da(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>tr(s)):this.states_[0]=tr(s);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new xe(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);a?this.keptStates.push(this.states_.slice()):da(this.states_);for(let o=0;o<this.states_.length;++o){const c=e[o],l=s;if(!_a(c.shape,l))throw new xe(`State ${o} is incompatible with layer ${this.name}: expected shape=${l}, received shape=${c.shape}`);this.states_[o]=c}}this.states_=this.states_.map(o=>vr(o.clone()))})}computeSingleOutputShape(e){const{dataFormat:a,filters:n,kernelSize:r,padding:s,strides:i,dilationRate:o}=this.cell,c=a==="channelsFirst",l=e[c?3:2],u=e[c?4:3],d=To(l,r[0],s,i[0],o[0]),p=To(u,r[1],s,i[1],o[1]);return[...e.slice(0,2),...c?[n,d,p]:[d,p,n]]}}f9.className="ConvRNN2D";class SR extends Z_{constructor(e){const{filters:a,kernelSize:n,strides:r,padding:s,dataFormat:i,dilationRate:o}=e;super(Object.assign(Object.assign({},e),{units:a})),this.filters=a,xr(this.filters,"filters"),this.kernelSize=Ep(n,2,"kernelSize"),this.kernelSize.forEach(c=>xr(c,"kernelSize")),this.strides=Ep(r||1,2,"strides"),this.strides.forEach(c=>xr(c,"strides")),this.padding=s||"valid",wi(this.padding),this.dataFormat=i||"channelsLast",zn(this.dataFormat),this.dilationRate=Ep(o||1,2,"dilationRate"),this.dilationRate.forEach(c=>xr(c,"dilationRate"))}build(e){var a;e=Oa(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new xe(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],s=4,i=this.kernelSize.concat([r,this.filters*s]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const o=this.kernelSize.concat([this.filters,this.filters*s]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let c;if(this.unitForgetBias){const l=this.biasInitializer,u=this.filters;c=new(a=class extends so{apply(p,m){const g=l.apply([u]),x=Hs([u]),v=l.apply([u*2]);return lR([g,x,v])}},a.className="CustomInit",a)}else c=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*s],null,c,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,a){return Ne(()=>{if(e.length!==3)throw new xe(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=a.training||!1,r=e[0],s=e[1],i=e[2],o=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Iu({ones:()=>gi(r),rate:this.dropout,training:n,count:o,dropoutFunc:this.dropoutFunc}));const c=this.dropoutMask,l=(M,se,ue)=>!se||!se[ue]?M:me(se[ue],M);let u=l(r,c,0),d=l(r,c,1),p=l(r,c,2),m=l(r,c,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Iu({ones:()=>gi(s),rate:this.recurrentDropout,training:n,count:o,dropoutFunc:this.dropoutFunc}));const g=this.recurrentDropoutMask;let x=l(s,g,0),v=l(s,g,1),k=l(s,g,2),b=l(s,g,3);const _=3,[A,S,C,E]=Ks(this.kernel.read(),o,_),[R,I,P,D]=this.useBias?Ks(this.bias.read(),o):[null,null,null,null];u=this.inputConv(u,A,R,this.padding),d=this.inputConv(d,S,I,this.padding),p=this.inputConv(p,C,P,this.padding),m=this.inputConv(m,E,D,this.padding);const[B,U,V,j]=Ks(this.recurrentKernel.read(),o,_);x=this.recurrentConv(x,B),v=this.recurrentConv(v,U),k=this.recurrentConv(k,V),b=this.recurrentConv(b,j);const W=this.recurrentActivation.apply(qe(u,x)),Q=this.recurrentActivation.apply(qe(d,v)),q=qe(me(Q,i),me(W,this.activation.apply(qe(p,k)))),Z=me(this.recurrentActivation.apply(qe(m,b)),this.activation.apply(q));return[Z,Z,q]})}getConfig(){const e=super.getConfig(),{units:a}=e,n=z1e(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,a,n,r){const s=Su(e,a,this.strides,r||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return n?Wo(s,n,this.dataFormat):s}recurrentConv(e,a){return Su(e,a,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}SR.className="ConvLSTM2DCell";Ye(SR);class d9 extends f9{constructor(e){const a=new SR(e);super(Object.assign(Object.assign({},e),{cell:a}))}static fromConfig(e,a){return new e(a)}}d9.className="ConvLSTM2D";Ye(d9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class TR extends ma{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const a=e.shape,n=[];for(let r=0;r<this.noiseShape.length;++r)n.push(this.noiseShape[r]==null?a[r]:this.noiseShape[r]);return n}call(e,a){return Ne(()=>{this.invokeCallHook(e,a);const n=zt(e);if(0<this.rate&&this.rate<1){const r=a.training==null?!1:a.training,s=this.getNoiseShape(n);return W1(()=>t7(n,this.rate,s,this.seed),()=>n,r)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},a=super.getConfig();return Object.assign(e,a),e}dispose(){return super.dispose()}}TR.className="Dropout";Ye(TR);class h9 extends TR{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const a=e.shape;return[a[0],1,a[2]]}}h9.className="SpatialDropout1D";Ye(h9);class p9 extends ma{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let a=null;e.batchSize!=null&&(a=e.batchSize),this.batchInputShape=[a,e.inputDim]}this.units=e.units,xr(this.units,"units"),this.activation=Cu(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=dn(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=dn(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=ir(e.kernelConstraint),this.biasConstraint=ir(e.biasConstraint),this.kernelRegularizer=pn(e.kernelRegularizer),this.biasRegularizer=pn(e.biasRegularizer),this.activityRegularizer=pn(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Oa(e);const a=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[a,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:a}}],this.built=!0}computeOutputShape(e){e=Oa(e);const a=e.slice();return a[a.length-1]=this.units,a}call(e,a){return Ne(()=>{this.invokeCallHook(e,a);const n=zt(e),r=qU(this.activation.getClassName());let s;return r!=null?s=yc(n,this.kernel.read(),r,this.bias?this.bias.read():null):(s=yc(n,this.kernel.read()),this.bias!=null&&(s=Wo(s,this.bias.read())),this.activation!=null&&(s=this.activation.apply(s))),s})}getConfig(){const e={units:this.units,activation:Eu(this.activation),useBias:this.useBias,kernelInitializer:yn(this.kernelInitializer),biasInitializer:yn(this.biasInitializer),kernelRegularizer:en(this.kernelRegularizer),biasRegularizer:en(this.biasRegularizer),activityRegularizer:en(this.activityRegularizer),kernelConstraint:sr(this.kernelConstraint),biasConstraint:sr(this.biasConstraint)},a=super.getConfig();return Object.assign(e,a),e}}p9.className="Dense";Ye(p9);class m9 extends ma{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Oa(e);for(const a of e.slice(1))if(a==null)throw new xe(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],mu(e,1)]}call(e,a){return Ne(()=>{this.invokeCallHook(e,a);let n=zt(e);if(this.dataFormat==="channelsFirst"&&n.rank>1){const r=[0];for(let s=2;s<n.rank;++s)r.push(s);r.push(1),n=Ta(n,r)}return kye(n)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const a=super.getConfig();return Object.assign(e,a),e}}m9.className="Flatten";Ye(m9);class g9 extends ma{constructor(e){super(e),this.supportsMasking=!0,this.activation=Cu(e.activation)}call(e,a){return Ne(()=>{this.invokeCallHook(e,a);const n=zt(e);return this.activation.apply(n)})}getConfig(){const e={activation:Eu(this.activation)},a=super.getConfig();return Object.assign(e,a),e}}g9.className="Activation";Ye(g9);class y9 extends ma{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,a){return Ne(()=>(e=zt(e),vye(e,this.n)))}getConfig(){const e={n:this.n},a=super.getConfig();return Object.assign(e,a),e}}y9.className="RepeatVector";Ye(y9);class v9 extends ma{constructor(e){super(e),this.targetShape=e.targetShape;for(let a=0;a<this.targetShape.length;++a)this.isUnknown(this.targetShape[a])&&(this.targetShape[a]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,a){const n="Total size of new array must be unchanged.",r=a.slice();let s=1,i=null;for(let c=0;c<r.length;++c){const l=r[c];if(this.isUnknown(l))if(i===null)i=c;else throw new xe("Can only specifiy one unknown dimension.");else s*=l}const o=mu(e);if(i!==null){if(s===0||o%s!==0)throw new xe(n);r[i]=o/s}else if(o!==s)throw new xe(n);return r}computeOutputShape(e){let a=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){a=!0;break}return a?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,a){return Ne(()=>{this.invokeCallHook(e,a);const n=zt(e),r=n.shape,s=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return ve(n,s)})}getConfig(){const e={targetShape:this.targetShape},a=super.getConfig();return Object.assign(e,a),e}}v9.className="Reshape";Ye(v9);class x9 extends ma{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const a=Oo(1,e.dims.length+1);if(!_a(e.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new nr({ndim:this.dims.length+1})]}computeOutputShape(e){e=Oa(e);const a=e.slice();return this.dims.forEach((n,r)=>{a[r+1]=e[n]}),a}call(e,a){return Ta(zt(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},a=super.getConfig();return Object.assign(e,a),e}}x9.className="Permute";Ye(x9);class k9 extends ma{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),a={maskValue:this.maskValue};return Object.assign(a,e),a}computeMask(e,a){const n=zt(e);return sw(Wp(n,this.maskValue),-1)}call(e,a){return Ne(()=>{this.invokeCallHook(e,a);const n=zt(e),i=sw(Wp(n,this.maskValue),-1,!0);return me(n,ut(i,n.dtype))})}}k9.className="Masking";Ye(k9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class w9 extends ma{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let a=null;e.batchSize!=null&&(a=e.batchSize),e.inputLength==null?this.batchInputShape=[a,null]:this.batchInputShape=[a].concat(ja(e.inputLength))}this.inputDim=e.inputDim,xr(this.inputDim,"inputDim"),this.outputDim=e.outputDim,xr(this.outputDim,"outputDim"),this.embeddingsInitializer=dn(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=pn(e.embeddingsRegularizer),this.activityRegularizer=pn(e.activityRegularizer),this.embeddingsConstraint=ir(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,a){return Ne(()=>this.maskZero?(e=zt(e),Wp(e,Ea(e))):null)}computeOutputShape(e){if(e=Oa(e),this.inputLength==null)return[...e,this.outputDim];const a=ja(this.inputLength);if(a.length!==e.length-1)throw new xe(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let r=0;r<a.length;++r){const s=a[r],i=e[r+1];if(s!=null&&i!=null&&s!==i)throw new xe(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);s==null&&(a[n]=i),n++}}return[e[0],...a,this.outputDim]}call(e,a){return Ne(()=>{this.invokeCallHook(e,a);let n=zt(e);n.dtype!=="int32"&&(n=gc(n,"int32"));const r=e7(this.embeddings.read(),ve(n,[n.size]));return ve(r,Oa(this.computeOutputShape(n.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:yn(this.embeddingsInitializer),embeddingsRegularizer:en(this.embeddingsRegularizer),activityRegularizer:en(this.activityRegularizer),embeddingsConstraint:sr(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},a=super.getConfig();return Object.assign(e,a),e}}w9.className="Embedding";Ye(w9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Kd extends ma{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new aa}computeElementwiseOpOutputShape(e,a){if(e==null||a==null)return null;if(e.length<a.length)return this.computeElementwiseOpOutputShape(a,e);if(a.length===0)return e;const n=e.slice(0,e.length-a.length);for(let r=0;r<a.length;++r){const s=e[e.length-a.length+r],i=a[r];if(s==null||i==null||s<0||i<0)n.push(null);else if(s===1)n.push(i);else if(i===1)n.push(s);else{if(s!==i)throw new xe("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(a));n.push(s)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Oa(e)]),e=e,e.length<2)throw new xe(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let a=[];for(const s of e)s!=null&&s[0]!==null&&a.push(s[0]);if(a=pu(a),a.length>1)throw new xe(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=e[0]==null?null:e[0].slice(1);for(let s=1;s<e.length;++s){const i=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}const r=e.map(s=>s.length);e.indexOf(null)===-1&&pu(r).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,a){return Ne(()=>{if(e=e,this.reshapeRequired){const n=[],r=e.map(s=>s.rank);if(r.indexOf(null)===-1){const s=Tu(r);for(let i of e){const o=i.rank;for(let c=0;c<s-o;++c)i=G1(i,1);n.push(i)}return this.mergeFunction(n)}else{let s=!1;for(const c of e){const l=c.rank;if(l==null){const u=c.shape,d=u[0],p=u.slice(1).concat([d]);let m=ve(c,[d].concat(mu(u.slice(1))));m=Ta(m,[1,0]),m=ve(m,p),n.push(m),s=!0}else if(l>1){const u=Oo(1,l).concat([0]);n.push(Ta(c,u)),s=!0}else n.push(c)}let i=this.mergeFunction(n);const o=i.rank;if(s){if(o==null){const c=i.shape,l=c.length,u=c[l-1],d=[u].concat(c.slice(0,c.length-1));i=ve(Ta(ve(i,[-1,u]),[1,0]),d)}else if(o>1){const c=[o-1].concat(Oo(0,o-1));i=Ta(i,c)}}return i}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let a;e[0]==null?a=null:a=e[0].slice(1);for(let r=1;r<e.length;++r){const s=e[r]==null?null:e[r].slice(1);a=this.computeElementwiseOpOutputShape(a,s)}let n=[];for(const r of e)r!=null&&r[0]!==null&&n.push(r[0]);return n=pu(n),n.length===1?a=n.concat(a):a=[null].concat(a),a}computeMask(e,a){return Ne(()=>{if(a==null)return null;if(!Array.isArray(a))throw new xe("`mask` should be an Array");if(!Array.isArray(e))throw new xe("`inputs` should be an Array");if(a.length!==e.length)throw new xe(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${a.length})`);if(a.every(r=>r==null))return null;a=a.map(r=>r==null?r:cs(r,0));let n=a[0];for(let r=1;r<a.length-1;++r)n=wc(n,a[r]);return n})}}class b9 extends Kd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let a=e[0].clone();for(let n=1;n<e.length;++n)a=qe(a,e[n]);return a})}}b9.className="Add";Ye(b9);class _9 extends Kd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let a=e[0].clone();for(let n=1;n<e.length;++n)a=me(a,e[n]);return a})}}_9.className="Multiply";Ye(_9);class A9 extends Kd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let a=e[0].clone();for(let n=1;n<e.length;++n)a=qe(a,e[n]);return me(1/e.length,a)})}}A9.className="Average";Ye(A9);class N9 extends Kd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let a=e[0];for(let n=1;n<e.length;++n)a=Tl(a,e[n]);return a})}}N9.className="Maximum";Ye(N9);class S9 extends Kd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let a=e[0];for(let n=1;n<e.length;++n)a=vd(a,e[n]);return a})}}S9.className="Minimum";Ye(S9);class T9 extends Kd{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new xe("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let a=!0;for(const r of e)if(r!=null){a=!1;break}if(a)return;const n=[];for(let r=0;r<e.length;++r){const s=e[r].slice();s.splice(this.axis,1);let i=!1;for(const o of n)if(_a(o,s)){i=!0;break}i||n.push(s)}if(n.length>1)throw new xe("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Ne(()=>lR(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new xe("A `Concatenate` layer should be called on a list of inputs.");const a=e,n=a[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const s of a.slice(1)){if(n[r]==null||s[r]==null){n[r]=null;break}n[r]+=s[r]}return n}computeMask(e,a){if(a==null)return null;if(!Array.isArray(a))throw new xe("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new xe("`inputs` should be an array for Concatenate");if(a.length!==e.length)throw new xe(`Mismatch in the length of mask (${a.length}) and the legnth of inputs (${e.length})`);return Ne(()=>{let n=!0;if(a.forEach(i=>{if(i!=null){n=!1;return}}),n)return null;const r=[];for(let i=0;i<e.length;++i)a[i]==null?r.push(ut(gi(e[i]),"bool")):a[i].rank<e[i].rank?r.push(cs(a[i],-1)):r.push(a[i]);const s=En(r,this.axis);return YI(s,-1,!1)})}getConfig(){const e={axis:this.axis},a=super.getConfig();return Object.assign(e,a),e}}T9.className="Concatenate";Ye(T9);function M0(t,e){for(;t<0;)t+=e;return t}function G1e(t,e,a){if(t.shape.length>3||e.shape.length>3)throw new aa("batchDot is not implemented for tensors of 4D or higher rank yet");if(K(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),K(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof a=="number"&&(a=[a,a]),t.dtype==="complex64"||e.dtype==="complex64")throw new aa("batchDot is not implemented for complex64-type Tensors yet.");const n=t.shape.length,r=e.shape.length;a==null&&(a=[n-1,r-2]);const s=a;return Ne(()=>{let i;if(n>r){i=n-r;const c=[];for(let l=0;l<i;++l)c.push(1);e=ve(e,e.shape.concat(c))}else if(r>n){i=r-n;const c=[];for(let l=0;l<i;++l)c.push(1);t=ve(t,t.shape.concat(c))}else i=0;let o;if(t.shape.length===2&&e.shape.length===2)s[0]===s[1]?o=yt(me(t,e),s[0]):o=yt(me(Ta(t,[1,0]),e),s[1]);else{const c=s[0]!==t.shape.length-1,l=s[1]===e.shape.length-1;o=ya(t,e,c,l)}if(i>0){let c;n>r?c=n+r-3:c=n-1;const l=[];for(let u=c;u<c+i;++u)l.push(u);o=Vd(o,l)}return o.shape.length===1&&(o=cs(o,1)),o})}class E9 extends Kd{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){K(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const a=e[0],n=e[1];if(a.length>3||n.length>3)throw new aa("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(a,n);if(a[r[0]]!==n[r[1]])throw new xe(`Dimension incompatibility: ${a[r[0]]} !== ${n[r[1]]}`)}mergeFunction(e){if(e.length!==2)throw new xe(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let a=e[0],n=e[1],r;return Array.isArray(this.axes)?r=this.axes.map((s,i)=>M0(s,e[i].shape.length)):r=[M0(this.axes,a.shape.length),M0(this.axes,n.shape.length)],this.normalize&&(a=fw(a,r[0]),n=fw(n,r[1])),G1e(a,n,r)}interpretAxes(e,a){let n;return Array.isArray(this.axes)?n=this.axes:n=[M0(this.axes,e.length),M0(this.axes,a.length)],n}computeOutputShape(e){K(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const a=e[0].slice(),n=e[1].slice();if(a.length>3||n.length>3)throw new aa("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(a,n);a.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const s=a.concat(n);return s.length===1&&s.push(1),s}computeMask(e,a){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},a=super.getConfig();return Object.assign(e,a),e}}E9.className="Dot";Ye(E9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class C9 extends ma{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),a={stddev:this.stddev};return Object.assign(a,e),a}call(e,a){return Ne(()=>{this.invokeCallHook(e,a);const n=zt(e);return W1(()=>qe(V_(n.shape,0,this.stddev),n),()=>n,a.training||!1)})}}C9.className="GaussianNoise";Ye(C9);class I9 extends ma{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),a={rate:this.rate};return Object.assign(a,e),a}call(e,a){return Ne(()=>{this.invokeCallHook(e,a);const n=zt(e);return this.rate>0&&this.rate<1?W1(()=>{const s=Math.sqrt(this.rate/(1-this.rate));return me(n,V_(n.shape,1,s))},()=>n,a.training||!1):n})}}I9.className="GaussianDropout";Ye(I9);class R9 extends ma{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||zt(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),a={rate:this.rate};return Object.assign(a,e),a}call(e,a){return Ne(()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e);return W1(()=>{const s=zt(e),o=-1.6732632423543772*1.0507009873554805;let c=Ku(Wd(n),this.rate);c=gc(c,"float32");const l=((1-this.rate)*(1+this.rate*o**2))**-.5,u=-l*o*this.rate,d=qe(me(s,c),me(qe(c,-1),o));return qe(me(d,l),u)},()=>zt(e),a.training||!1)}return e})}}R9.className="AlphaDropout";Ye(R9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Xg(t,e,a,n,r,s=.001){let i;if(t.rank===2)i=aG(t,e,a,n,r,s);else if(t.rank===3)i=nG(t,e,a,n,r,s);else if(t.rank===4)i=rG(t,e,a,n,r,s);else throw new aa(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return i}function U1e(t,e,a,n,r=.001){return Ne(()=>{const s=S_(t,n),i=s.mean,o=s.variance;return[Xg(t,i,o,a,e,r),i,o]})}function W1e(t,e,a,n,r=.001){return Ne(()=>{const s=S_(t,n),i=s.mean,o=s.variance,c=[];for(const g of Oo(0,t.rank))n.indexOf(g)!==-1?c.push(1):c.push(t.shape[g]);const l=ve(i,c),u=ve(o,c),d=e==null?null:ve(e,c),p=a==null?null:ve(a,c);return[Xg(t,l,u,p,d,r),i,o]})}function V1e(t,e,a,n,r=.001){return _a(n.slice().sort(),Oo(0,t.rank-1))?U1e(t,e,a,n,r):W1e(t,e,a,n,r)}class D9 extends ma{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=dn(e.betaInitializer||"zeros"),this.gammaInitializer=dn(e.gammaInitializer||"ones"),this.movingMeanInitializer=dn(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=dn(e.movingVarianceInitializer||"ones"),this.betaConstraint=ir(e.betaConstraint),this.gammaConstraint=ir(e.gammaConstraint),this.betaRegularizer=pn(e.betaRegularizer),this.gammaRegularizer=pn(e.gammaRegularizer)}build(e){e=Oa(e);const a=this.axis>=0?this.axis:this.axis+e.length,n=e[a];if(n==null)throw new xe(`Axis ${a} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new nr({ndim:e.length,axes:{[a]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,a){return Ne(()=>{const n=a.training==null?!1:a.training,r=zt(e),s=r.shape,i=s.length,o=Oo(0,i),c=this.axis>=0?this.axis:this.axis+i;o.splice(c,1);const l=kd(1,i);l[c]=s[c];const u=o.slice();u.sort();const d=!_a(u,Oo(0,i).slice(0,i-1)),p=()=>{if(d){const b=ve(this.movingMean.read(),l),_=ve(this.movingVariance.read(),l),A=this.center?ve(this.beta.read(),l):null,S=this.scale?ve(this.gamma.read(),l):null;return Xg(r,b,_,A,S,this.epsilon)}else return Xg(r,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!n)return p();const[m,g,x]=V1e(r,this.gamma.read(),this.beta.read(),o,this.epsilon),v=(b,_,A)=>{Ne(()=>{const S=1-A,C=b.read(),E=me(pt(C,_),S);b.write(pt(C,E))})};return(()=>{v(this.movingMean,g,this.momentum),v(this.movingVariance,x,this.momentum)})(),m})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:yn(this.betaInitializer),gammaInitializer:yn(this.gammaInitializer),movingMeanInitializer:yn(this.movingMeanInitializer),movingVarianceInitializer:yn(this.movingVarianceInitializer),betaRegularizer:en(this.betaRegularizer),gammaRegularizer:en(this.gammaRegularizer),betaConstraint:sr(this.betaConstraint),gammaConstraint:sr(this.gammaConstraint)},a=super.getConfig();return Object.assign(e,a),e}}D9.className="BatchNormalization";Ye(D9);class P9 extends ma{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const a of this.axis)if(!Number.isInteger(a))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=dn(e.betaInitializer||"zeros"),this.gammaInitializer=dn(e.gammaInitializer||"ones"),this.betaRegularizer=pn(e.betaRegularizer),this.gammaRegularizer=pn(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Oa(e);const a=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let s=0;s<this.axis.length;++s)this.axis[s]<0&&(this.axis[s]+=a);for(const s of this.axis)if(s<0||s>=a)throw new Error(`Invalid axis: ${s}`);if(this.axis.length!==pu(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map(s=>e[s]),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,a){const n=zt(e),r=n.shape,s=r.length;return Ne(()=>{let{mean:o,variance:c}=S_(n,this.axis,!0);const l=kd(1,s);for(const x of this.axis)l[x]=r[x];const u=x=>x!=null&&x.shape.length!==s?ve(x,l):x;let d=this.scale?u(this.gamma.read()):null,p=this.center?u(this.beta.read()):null;const m=[],g=[];for(let x=0;x<s;++x)this.axis.indexOf(x)!==-1?(m.push(r[x]),g.push(1)):(m.push(1),g.push(r[x]));return o=Hi(o,m),c=Hi(c,m),d!=null&&(d=Hi(d,g)),p!=null&&(p=Hi(p,g)),Xg(n,o,c,p,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:yn(this.betaInitializer),gammaInitializer:yn(this.gammaInitializer),betaRegularizer:en(this.betaRegularizer),gammaRegularizer:en(this.gammaRegularizer)},a=super.getConfig();return Object.assign(e,a),e}}P9.className="LayerNormalization";Ye(P9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function j1e(t,e,a){return Ne(()=>{if(t.rank!==4)throw new xe(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new xe("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(a==null&&(a=$o()),a!=="channelsLast"&&a!=="channelsFirst")throw new xe(`Unknown data format: ${a}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let n;return a==="channelsFirst"?n=[[0,0],[0,0],e[0],e[1]]:n=[[0,0],e[0],e[1],[0,0]],qu(t,n)})}class F9 extends ma{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?$o():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new xe(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let a,n;if(typeof e.padding[0]=="number")a=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new xe(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(a=e.padding[0],e.padding[1].length!==2)throw new xe(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[a,n]}this.inputSpec=[new nr({ndim:4})]}computeOutputShape(e){e=Oa(e);let a,n;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?a=e[2]+this.padding[0][0]+this.padding[0][1]:a=null,e[3]!=null&&e[3]>=0?n=e[3]+this.padding[1][0]+this.padding[1][1]:n=null,[e[0],e[1],a,n]):(e[1]!=null&&e[1]>=0?a=e[1]+this.padding[0][0]+this.padding[0][1]:a=null,e[2]!=null&&e[2]>=0?n=e[2]+this.padding[1][0]+this.padding[1][1]:n=null,[e[0],a,n,e[3]])}call(e,a){return Ne(()=>j1e(zt(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},a=super.getConfig();return Object.assign(e,a),e}}F9.className="ZeroPadding2D";Ye(F9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function J_(t,e,a,n,r,s){return Ne(()=>{zn(r),YU(s),wi(n),a==null&&(a=[1,1]),n==null&&(n="valid"),r==null&&(r=$o()),s==null&&(s="max"),t=bR(t,r);let i;const o=n==="same"?"same":"valid";return s==="max"?i=N_(t,e,a,o):i=y_(t,e,a,o),r==="channelsFirst"&&(i=Ta(i,[0,3,1,2])),i})}function O9(t,e,a,n,r,s){return Ne(()=>{zn(r),YU(s),wi(n),a==null&&(a=[1,1,1]),n==null&&(n="valid"),r==null&&(r=$o()),s==null&&(s="max"),t=J7(t,r);let i;const o=n==="same"?"same":"valid";return s==="max"?i=EG(t,e,a,o):i=tG(t,e,a,o),r==="channelsFirst"&&(i=Ta(i,[0,4,1,2,3])),i})}class $9 extends ma{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new xe(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(xr(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new xe(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);xr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,wi(this.padding),this.inputSpec=[new nr({ndim:3})]}computeOutputShape(e){e=Oa(e);const a=To(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],a,e[2]]}call(e,a){return Ne(()=>{this.invokeCallHook(e,a),e=G1(zt(e),2);const n=this.poolingFunction(zt(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Vd(n,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},a=super.getConfig();return Object.assign(e,a),e}}class L9 extends $9{constructor(e){super(e)}poolingFunction(e,a,n,r,s){return zn(s),wi(r),J_(e,a,n,r,s,"max")}}L9.className="MaxPooling1D";Ye(L9);class M9 extends $9{constructor(e){super(e)}poolingFunction(e,a,n,r,s){return zn(s),wi(r),J_(e,a,n,r,s,"avg")}}M9.className="AveragePooling1D";Ye(M9);class B9 extends ma{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new xe(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];xr(this.poolSize,"poolSize"),xr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,zn(this.dataFormat),wi(this.padding),this.inputSpec=[new nr({ndim:4})]}computeOutputShape(e){e=Oa(e);let a=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2];return a=To(a,this.poolSize[0],this.padding,this.strides[0]),n=To(n,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],a,n]:[e[0],a,n,e[3]]}call(e,a){return Ne(()=>(this.invokeCallHook(e,a),this.poolingFunction(zt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},a=super.getConfig();return Object.assign(e,a),e}}class z9 extends B9{constructor(e){super(e)}poolingFunction(e,a,n,r,s){return zn(s),wi(r),J_(e,a,n,r,s,"max")}}z9.className="MaxPooling2D";Ye(z9);class G9 extends B9{constructor(e){super(e)}poolingFunction(e,a,n,r,s){return zn(s),wi(r),J_(e,a,n,r,s,"avg")}}G9.className="AveragePooling2D";Ye(G9);class U9 extends ma{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new xe(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];xr(this.poolSize,"poolSize"),xr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,zn(this.dataFormat),wi(this.padding),this.inputSpec=[new nr({ndim:5})]}computeOutputShape(e){e=Oa(e);let a=this.dataFormat==="channelsFirst"?e[2]:e[1],n=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[4]:e[3];return a=To(a,this.poolSize[0],this.padding,this.strides[0]),n=To(n,this.poolSize[1],this.padding,this.strides[1]),r=To(r,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],a,n,r]:[e[0],a,n,r,e[4]]}call(e,a){return Ne(()=>(this.invokeCallHook(e,a),this.poolingFunction(zt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},a=super.getConfig();return Object.assign(e,a),e}}class W9 extends U9{constructor(e){super(e)}poolingFunction(e,a,n,r,s){return zn(s),wi(r),O9(e,a,n,r,s,"max")}}W9.className="MaxPooling3D";Ye(W9);class V9 extends U9{constructor(e){super(e)}poolingFunction(e,a,n,r,s){return zn(s),wi(r),O9(e,a,n,r,s,"avg")}}V9.className="AveragePooling3D";Ye(V9);class j9 extends ma{constructor(e){super(e),this.inputSpec=[new nr({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,a){throw new aa}}class H9 extends j9{constructor(e){super(e||{})}call(e,a){return Ne(()=>{const n=zt(e);return Sn(n,1)})}}H9.className="GlobalAveragePooling1D";Ye(H9);class K9 extends j9{constructor(e){super(e||{})}call(e,a){return Ne(()=>{const n=zt(e);return Ji(n,1)})}}K9.className="GlobalMaxPooling1D";Ye(K9);class q9 extends ma{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,zn(this.dataFormat),this.inputSpec=[new nr({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,a){throw new aa}getConfig(){const e={dataFormat:this.dataFormat},a=super.getConfig();return Object.assign(e,a),e}}class X9 extends q9{call(e,a){return Ne(()=>{const n=zt(e);return this.dataFormat==="channelsLast"?Sn(n,[1,2]):Sn(n,[2,3])})}}X9.className="GlobalAveragePooling2D";Ye(X9);class Y9 extends q9{call(e,a){return Ne(()=>{const n=zt(e);return this.dataFormat==="channelsLast"?Ji(n,[1,2]):Ji(n,[2,3])})}}Y9.className="GlobalMaxPooling2D";Ye(Y9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Z9 extends ma{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},a=super.getConfig();return Object.assign(e,a),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,a,n={}){const r=a.layer,s=ll(r,n);delete a.layer;const i={layer:s};return Object.assign(i,a),new e(i)}}class J9 extends Z9{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Oa(e),e.length<3)throw new xe(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const a=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(a),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Oa(e);const a=[e[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(a),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,a){return Ne(()=>(e=zt(e),o9((i,o)=>[zt(this.layer.call(i,a)),[]],e,[],!1,null,null,!1,!0)[1]))}}J9.className="TimeDistributed";Ye(J9);function H1e(t){Hd(hye,"BidirectionalMergeMode",t)}const K1e="concat";class Q9 extends Z9{constructor(e){super(e);const a=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=a,this.forwardLayer=ll(n),a.goBackwards=a.goBackwards!==!0;const r={};if(r.className=e.layer.getClassName(),r.config=a,this.backwardLayer=ll(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?K1e:e.mergeMode,H1e(this.mergeMode),e.weights)throw new aa("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const a=e.length,n=Math.floor(a/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let a=this.forwardLayer.computeOutputShape(e);Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),a=a;let n,r,s;return this.returnState&&(s=a.slice(1)),n=a[0],n=n,this.mergeMode==="concat"?(n[n.length-1]*=2,r=[n]):this.mergeMode==null?r=[n,n.slice()]:r=[n],this.returnState?this.mergeMode==null?r.concat(s).concat(s.slice()):[n].concat(s).concat(s.slice()):Ts(r)}apply(e,a){let n=a==null?null:a.initialState,r=a==null?null:a.constants;a==null&&(a={});const s=i9(e,n,r,this.numConstants);if(e=s.inputs,n=s.initialState,r=s.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(n==null||n.length===0)&&r==null)return super.apply(e,a);const i=[],o=[];if(n!=null){const l=n.length;if(l%2>0)throw new xe("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");a.initialState=n,i.push(...n);const u=n.map(d=>new nr({shape:d.shape}));this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),o.push(...u)}if(r!=null)throw new aa("Support for constants in Bidirectional layers is not implemented yet.");const c=i[0]instanceof bc;for(const l of i)if(l instanceof bc!==c)throw new xe("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(c){const l=[e].concat(i),u=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=u;const p=super.apply(l,a);return this.inputSpec=d,p}else return super.apply(e,a)}call(e,a){return Ne(()=>{const n=a.initialState;let r,s;if(n==null)r=this.forwardLayer.call(e,a),s=this.backwardLayer.call(e,a);else{const c=n.slice(0,n.length/2),l=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(a,{initialState:c})),s=this.backwardLayer.call(e,Object.assign(a,{initialState:l}))}let i;this.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(s.slice(1))),r=r[0],s=s[0]),this.returnSequences&&(s=ao(s,1));let o;return this.mergeMode==="concat"?o=lR([r,s]):this.mergeMode==="sum"?o=qe(r,s):this.mergeMode==="ave"?o=me(.5,qe(r,s)):this.mergeMode==="mul"?o=me(r,s):this.mergeMode==null&&(o=[r,s]),this.returnState?this.mergeMode==null?o.concat(i):[o].concat(i):o})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Xf(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),Xf(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,a){Array.isArray(a)&&(a=a[0]);let n;if(this.returnSequences?this.mergeMode==null?n=[a,a]:n=a:this.mergeMode==null?n=[null,null]:n=null,this.returnState){const s=this.forwardLayer.states.map(i=>null);return Array.isArray(n)?n.concat(s).concat(s):[n].concat(s).concat(s)}else return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},a=super.getConfig();return Object.assign(e,a),e}static fromConfig(e,a){const n=ll(a.layer);if(delete a.layer,a.numConstants!=null)throw new aa("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=a;return r.layer=n,new e(r)}}Q9.className="Bidirectional";Ye(Q9);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class eW extends ma{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},a=super.getConfig();return Object.assign(e,a),e}call(e,a){return Ne(()=>(e=zt(e),e.dtype!=="float32"&&(e=gc(e,"float32")),qe(me(e,this.scale),this.offset)))}}eW.className="Rescaling";Ye(eW);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:q1e,cropAndResize:X1e}=Ki;class tW extends ma{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,a,n,r,s,i,o,c){return Ne(()=>{let l,u=!1;const d=a/i,p=n/o,m=(r+a)/i,g=(s+n)/o,x=[d,p,m,g],v=[];e.rank===3?(u=!0,l=Zs([e])):l=e;for(let S=0;S<l.shape[0];S++)v.push(x);const k=So(v,[v.length,4]),b=Vp(0,v.length,1,"int32"),A=X1e(l,k,b,[r,s],"nearest");return gc(u?zt(no(A)):A,c)})}upsize(e,a,n,r){return Ne(()=>{const s=q1e(e,[a,n]);return gc(s,r)})}call(e,a){return Ne(()=>{const n=zt(e),r=n.dtype,s=n.shape,i=s[s.length-3],o=s[s.length-2];let c=0;i!==this.height&&(c=Math.floor((i-this.height)/2));let l=0;return o!==this.width&&(l=Math.floor((o-this.width)/2),l===0&&(l=1)),c>=0&&l>=0?this.centerCrop(n,c,l,this.height,this.width,i,o,r):this.upsize(e,this.height,this.width,r)})}getConfig(){const e={height:this.height,width:this.width},a=super.getConfig();return Object.assign(e,a),e}computeOutputShape(e){e=Oa(e);const a=e.length-3,n=e.length-2;return e[a]=this.height,e[n]=this.width,e}}tW.className="CenterCrop";Ye(tW);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Y1e(t,e,a,n){let r=zt(t);if(r.dtype!=="int32"&&(r=gc(r,"int32")),e==="int")return r;const s=r.shape;if(r.rank===0&&(r=cs(r,-1)),e==="oneHot"&&r.shape[r.shape.length-1]!==1&&(r=cs(r,-1)),r.rank>2)throw new xe(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${s} which would result in output rank ${r.rank}.`);const i=["multiHot","oneHot"].includes(e),o=r;let c;if(typeof n<"u"&&e==="count"?c=QT(o,n,a,i):c=QT(o,[],a,i),e!=="tfIdf")return c;if(n)return me(c,n);throw new xe("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class aW extends ma{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},a=super.getConfig();return Object.assign(e,a),e}computeOutputShape(e){return e=Oa(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,a){return Ne(()=>{e=zt(e),e.dtype!=="int32"&&(e=gc(e,"int32"));let n;if(typeof a.countWeights<"u"){if(this.outputMode!=="count")throw new xe(`countWeights is not used when outputMode !== count.
              Received countWeights=${a.countWeights}`);n=zt(a.countWeights)}const r=Ji(e),s=Gg(e),i=ai(this.numTokens,r).bufferSync().get(0),o=Ku(s,0).bufferSync().get(0);if(!(i&&o))throw new xe(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return Y1e(e,this.outputMode,this.numTokens,n)})}}aW.className="CategoryEncoding";Ye(aW);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Z1e=["bilinear","nearest"],KL=new Set(Z1e);class nW extends ma{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(KL.has(e.interpolation))this.interpolation=e.interpolation;else throw new xe(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=Oa(e);const a=e[2];return[this.height,this.width,a]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},a=super.getConfig();return Object.assign(e,a),e}call(e,a){return Ne(()=>{const n=[this.height,this.width];if(this.interpolation==="bilinear")return Ki.resizeBilinear(e,n,!this.cropToAspectRatio);if(this.interpolation==="nearest")return Ki.resizeNearestNeighbor(e,n,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...KL]} are supported`)})}}nW.className="Resizing";Ye(nW);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class rW{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}rW.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class sW extends ma{constructor(e){super(e),this.randomGenerator=new rW(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},a=super.getConfig();return Object.assign(e,a),e}}sW.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const J1e=["bilinear","nearest"],qL=new Set(J1e);class iW extends sW{constructor(e){super(e);const{factor:a,interpolation:n="bilinear"}=e;if(this.factor=a,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new xe(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new xe(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new xe(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(n)if(qL.has(n))this.interpolation=n;else throw new xe(`Invalid interpolation parameter: ${n} is not implemented`)}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},a=super.getConfig();return Object.assign(e,a),e}computeOutputShape(e){e=Oa(e);const a=e[2];return[this.imgHeight,-1,a]}call(e,a){return Ne(()=>{const n=zt(e);this.imgHeight=n.shape[n.shape.length-3];const r=n.shape[n.shape.length-2];this.widthFactor=Wd([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let s=this.widthFactor.dataSync()[0]*r;s=Math.round(s);const i=[this.imgHeight,s];switch(this.interpolation){case"bilinear":return Ki.resizeBilinear(e,i);case"nearest":return Ki.resizeNearestNeighbor(e,i);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...qL]} are supported`)}})}}iW.className="RandomWidth";Ye(iW);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q1e=Ce();Q1e.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Gs;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Gs||(Gs={}));var XL;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(XL||(XL={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eve={};function oW(t){return eve[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O(t,e,a,n,r){const s=e.inputParams[t];if(s&&s.inputIndexStart!==void 0){const o=s.inputIndexStart,c=s.inputIndexEnd===0?void 0:s.inputIndexEnd===void 0?o+1:s.inputIndexEnd,l=o<0?e.inputNames.length+o:o;if(s.type==="tensor")return Dr(e.inputNames[l],a,n,r);if(s.type==="tensors"){const p=e.inputs.slice(o,c);return e.inputNames.slice(o,c).filter((g,x)=>{var v;return((v=p[x])===null||v===void 0?void 0:v.op)!=="NoOp"}).map(g=>Dr(g,a,n,r))}const u=Dr(e.inputNames[l],a,n,r),d=u.dataSync();return s.type==="number"?d[0]:Zi(u.shape,d)}const i=e.attrParams[t];return i&&i.value}function Dr(t,e,a,n){const[r,s]=Ws(t,a);if(n!=null){const o=n.getHashTableHandleByName(r);if(o!=null)return o}const i=a.currentContextIds.find(o=>!!e[gw(r,o)]);return i!==void 0?e[gw(r,i)][s]:void 0}function YL(t,e,a){return e[gw(t,a.currentContextId)]}function tl(t,e){const[a,n,r]=Ws(t,e);return[gw(a,e&&e.currentContextId),n,r]}function gw(t,e){return e?`${t}-${e}`:t}function Ws(t,e){if(t==="")return["",0,void 0];const a=e!=null&&e.parseNodeNameCache!=null;if(a){const s=e.parseNodeNameCache.get(t);if(s!=null)return s}const n=t.split(":");let r;if(n.length===1)r=[t,0,void 0];else{const s=n[0],i=n.length===3?n[1]:void 0,o=Number(n[n.length-1]);r=[s,o,i]}return a&&e.parseNodeNameCache.set(t,r),r}function $k(t,e,a){let n=O("pad",t,e,a);if(n==="explicit"){n=O("explicitPaddings",t,e,a);const r=[[0,0],[0,0],[0,0],[0,0]];for(let s=0;s<4;s++)r[s][0]=n[s*2],r[s][1]=n[s*2+1];return r}return n}function al(t){return t.kept?t:cl(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tve=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ave=Object.freeze(Object.defineProperty({__proto__:null,json:tve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nve=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],rve=Object.freeze(Object.defineProperty({__proto__:null,json:nve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sve=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],ive=Object.freeze(Object.defineProperty({__proto__:null,json:sve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ove=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],cve=Object.freeze(Object.defineProperty({__proto__:null,json:ove},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lve=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],uve=Object.freeze(Object.defineProperty({__proto__:null,json:lve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fve=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],dve=Object.freeze(Object.defineProperty({__proto__:null,json:fve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hve=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],pve=Object.freeze(Object.defineProperty({__proto__:null,json:hve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mve=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],gve=Object.freeze(Object.defineProperty({__proto__:null,json:mve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yve=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],vve=Object.freeze(Object.defineProperty({__proto__:null,json:yve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xve=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],kve=Object.freeze(Object.defineProperty({__proto__:null,json:xve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wve=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],bve=Object.freeze(Object.defineProperty({__proto__:null,json:wve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ve=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],Ave=Object.freeze(Object.defineProperty({__proto__:null,json:_ve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nve=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],Sve=Object.freeze(Object.defineProperty({__proto__:null,json:Nve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tve=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Eve=Object.freeze(Object.defineProperty({__proto__:null,json:Tve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cve=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Ive=Object.freeze(Object.defineProperty({__proto__:null,json:Cve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rve=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],Dve=Object.freeze(Object.defineProperty({__proto__:null,json:Rve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pve=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Fve=Object.freeze(Object.defineProperty({__proto__:null,json:Pve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ove=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],$ve=Object.freeze(Object.defineProperty({__proto__:null,json:Ove},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lve=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],Mve=Object.freeze(Object.defineProperty({__proto__:null,json:Lve},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZL{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[ave,rve,ive,cve,uve,dve,pve,gve,vve,kve,bve,Ave,Sve,Eve,Ive,Dve,Fve,$ve,Mve],a=[].concat(...e.map(n=>n.json));this.opMappers=a.reduce((n,r)=>(n[r.tfOpName]=r,n),{})}transformGraph(e,a={}){const n=e.node,r=[],s=[],i=[],o=n.reduce((x,v)=>(x[v.name]=this.mapNode(v),v.op.startsWith("Placeholder")?r.push(x[v.name]):v.op==="Const"?s.push(x[v.name]):(v.input==null||v.input.length===0)&&i.push(x[v.name]),x),{});let c=[];const l=[];let u={},d={};a!=null&&(u=this.mapSignatureEntries(a.inputs),d=this.mapSignatureEntries(a.outputs));const p=Object.keys(o);p.forEach(x=>{const v=o[x];v.inputNames.forEach((k,b)=>{const[_,,A]=tl(k),S=o[_];if(S.outputs!=null){const C=S.outputs.indexOf(A);if(C!==-1){const E=`${_}:${C}`;v.inputNames[b]=E}}v.inputs.push(S),S.children.push(v)})}),Object.keys(d).length===0?p.forEach(x=>{const v=o[x];v.children.length===0&&l.push(v)}):Object.keys(d).forEach(x=>{const[v]=tl(x),k=o[v];k!=null&&(k.signatureKey=d[x],l.push(k))}),Object.keys(u).length>0?Object.keys(u).forEach(x=>{const[v]=tl(x),k=o[v];k&&(k.signatureKey=u[x],c.push(k))}):c=r;let m={};e.library!=null&&e.library.function!=null&&(m=e.library.function.reduce((x,v)=>(x[v.signature.name]=this.mapFunction(v),x),{}));const g={nodes:o,inputs:c,outputs:l,weights:s,placeholders:r,signature:a,functions:m};return i.length>0&&(g.initNodes=i),g}mapSignatureEntries(e){return Object.keys(e||{}).reduce((a,n)=>(a[e[n].name]=n,a),{})}mapNode(e){const a=oW(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const n={name:e.name,op:e.op,category:a.category,inputNames:(e.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:a.outputs};return a.inputs!=null&&(n.inputParams=a.inputs.reduce((r,s)=>(r[s.name]={type:s.type,inputIndexStart:s.start,inputIndexEnd:s.end},r),{})),a.attrs!=null&&(n.attrParams=a.attrs.reduce((r,s)=>{const i=s.type;let o;switch(s.type){case"string":o=pE(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=pE(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"string[]":o=wE(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=wE(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number":o=gE(e.attr,s.tfName,s.defaultValue||0),o===void 0&&s.tfDeprecatedName&&(o=gE(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number[]":o=kE(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=kE(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool":o=mE(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=mE(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool[]":o=_E(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=_E(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape":o=xE(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=xE(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape[]":o=bE(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=bE(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype":o=yE(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=yE(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype[]":o=vE(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=vE(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"func":o=JL(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=JL(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${s.type} for op: ${e.op}`)}return r[s.name]={value:o,type:i},r},{})),n}mapFunction(e){const a=e.nodeDef,n=[],r=[];let s={};a!=null&&(s=a.reduce((d,p)=>(d[p.name]=this.mapNode(p),p.op==="Const"&&r.push(d[p.name]),d),{}));const i=[],o=[];e.signature.inputArg.forEach(d=>{const[p]=tl(d.name),m={name:p,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:ER(d.type),type:"dtype"}},children:[]};m.signatureKey=d.name,i.push(m),s[p]=m}),Object.keys(s).forEach(d=>{const p=s[d];p.inputNames.forEach((m,g)=>{const[x,,v]=tl(m),k=s[x];if(k.outputs!=null){const b=k.outputs.indexOf(v);if(b!==-1){const _=`${x}:${b}`;p.inputNames[g]=_}}p.inputs.push(k),k.children.push(p)})});const l=e.ret;e.signature.outputArg.forEach(d=>{const[p,m]=tl(l[d.name]),g=s[p];g!=null&&(g.defaultOutput=m,o.push(g))});const u=this.mapArgsToSignature(e);return{nodes:s,inputs:i,outputs:o,weights:r,placeholders:n,signature:u}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((a,n)=>(a[n.name]=this.mapArgToTensorInfo(n),a),{}),outputs:e.signature.outputArg.reduce((a,n)=>(a[n.name]=this.mapArgToTensorInfo(n,e.ret),a),{})}}mapArgToTensorInfo(e,a){let n=e.name;return a!=null&&(n=a[n]),{name:n,dtype:e.type}}}function Bve(t){const e=Ce().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function cW(t,e){const a=Array.isArray(t)?String.fromCharCode.apply(null,t):Bve(t);return e?a:a.toLowerCase()}function pE(t,e,a,n=!1){const r=t[e];return r!=null?cW(r.s,n):a}function mE(t,e,a){const n=t[e];return n?n.b:a}function gE(t,e,a){const n=t[e]||{},r=n.i!=null?n.i:n.f!=null?n.f:a;return typeof r=="number"?r:parseInt(r,10)}function ER(t){switch(typeof t=="string"&&(t=Gs[t]),t){case Gs.DT_FLOAT:case Gs.DT_HALF:return"float32";case Gs.DT_INT32:case Gs.DT_INT64:case Gs.DT_INT8:case Gs.DT_UINT8:return"int32";case Gs.DT_BOOL:return"bool";case Gs.DT_DOUBLE:return"float32";case Gs.DT_STRING:return"string";case Gs.DT_COMPLEX64:case Gs.DT_COMPLEX128:return"complex64";default:return null}}function JL(t,e,a){const n=t[e];return n&&n.func?n.func.name:a}function yE(t,e,a){const n=t[e];return n&&n.type?ER(n.type):a}function vE(t,e,a){const n=t[e];return n&&n.list&&n.list.type?n.list.type.map(r=>ER(r)):a}function lW(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function xE(t,e,a){const n=t[e];return n&&n.shape?lW(n.shape):a}function kE(t,e,a){const n=t[e];return n?((n.list.f&&n.list.f.length?n.list.f:n.list.i)||[]).map(r=>typeof r=="number"?r:parseInt(r,10)):a}function wE(t,e,a,n=!1){const r=t[e];return r&&r.list&&r.list.s?r.list.s.map(s=>cW(s,n)):a}function bE(t,e,a){const n=t[e];return n&&n.list&&n.list.shape?n.list.shape.map(r=>lW(r)):a}function _E(t,e,a){const n=t[e];return n&&n.list&&n.list.b?n.list.b:a}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zve{constructor(e,a,n){this.node=e,this.tensorMap=a,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(r=>this.getInput(r)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((r,s)=>(r[s]=this.getAttr(s),r),{}))}getInput(e){return Dr(e,this.tensorMap,this.context)}getAttr(e,a){const n=this.node.rawAttrs[e];if(n.tensor!=null)return Dr(e,this.tensorMap,this.context);if(n.i!=null||n.f!=null)return gE(this.node.rawAttrs,e,a);if(n.s!=null)return pE(this.node.rawAttrs,e,a);if(n.b!=null)return mE(this.node.rawAttrs,e,a);if(n.shape!=null)return xE(this.node.rawAttrs,e,a);if(n.type!=null)return yE(this.node.rawAttrs,e,a);if(n.list!=null){if(n.list.i!=null||n.list.f!=null)return kE(this.node.rawAttrs,e,a);if(n.list.s!=null)return wE(this.node.rawAttrs,e,a);if(n.list.shape!=null)return bE(this.node.rawAttrs,e,a);if(n.list.b!=null)return _E(this.node.rawAttrs,e,a);if(n.list.type!=null)return vE(this.node.rawAttrs,e,a)}return a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zr=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:Cz,abs:er,acos:Kz,acosh:qz,add:qe,addN:nle,all:YI,any:sw,argMax:md,argMin:Xz,asin:Yz,asinh:Zz,atan:Jz,atan2:Qz,atanh:eG,avgPool:y_,avgPool3d:tG,basicLSTMCell:Sle,batchNorm:R1,batchNorm2d:aG,batchNorm3d:nG,batchNorm4d:rG,batchToSpaceND:v_,bincount:sG,bitwiseAnd:Ole,booleanMaskAsync:xhe,broadcastArgs:Lle,broadcastTo:Sp,buffer:ra,cast:ut,ceil:iG,clipByValue:Xs,clone:cl,complex:_u,concat:En,concat1d:oG,concat2d:cG,concat3d:lG,concat4d:uG,conv1d:JI,conv2d:Su,conv2dTranspose:e3,conv3d:fG,conv3dTranspose:hG,cos:x_,cosh:t3,cosineWindow:S3,cumprod:iw,cumsum:a3,denseBincount:QT,depthToSpace:pG,depthwiseConv2d:D1,diag:iue,dilation2d:mG,div:wt,divNoNan:gG,dot:yG,dropout:WG,einsum:pp,elu:P1,enclosingPowerOfTwo:VG,ensureShape:gue,equal:Fo,erf:n3,euclideanNorm:kG,exp:Ys,expandDims:cs,expm1:wG,eye:s3,fft:P_,fill:mm,floor:O1,floorDiv:XI,fused:Ghe,gather:$1,gatherND:Che,greater:ai,greaterEqual:Ku,ifft:jg,imag:k_,image:Ki,inTopKAsync:Phe,irfft:k3,isFinite:bG,isInf:_G,isNaN:AG,leakyRelu:w_,less:Ug,lessEqual:Ud,linalg:JG,linspace:Uue,localResponseNormalization:NG,log:mi,log1p:b_,logSigmoid:SG,logSoftmax:i3,logSumExp:__,logicalAnd:wc,logicalNot:A_,logicalOr:o3,logicalXor:TG,losses:vme,lowerBound:rfe,matMul:ya,max:Ji,maxPool:N_,maxPool3d:EG,maxPoolWithArgmax:cfe,maximum:Tl,mean:Sn,meshgrid:ffe,min:Gg,minimum:vd,mirrorPad:CG,mod:IG,moments:S_,movingAverage:bhe,mul:me,multiRNNCell:yfe,multinomial:xfe,neg:fn,norm:F1,notEqual:Wp,oneHot:l3,ones:Hs,onesLike:gi,op:he,outerProduct:Afe,pad:qu,pad1d:Tfe,pad2d:Cfe,pad3d:Rfe,pad4d:Pfe,pool:RG,pow:ml,prelu:E_,print:Hz,prod:DG,raggedGather:Gfe,raggedRange:Wfe,raggedTensorToTensor:jfe,rand:Kfe,randomGamma:mde,randomNormal:f3,randomStandardNormal:vde,randomUniform:Wd,randomUniformInt:wde,range:Vp,real:Wg,reciprocal:PG,relu:Cc,relu6:d3,reshape:ve,reverse:ao,reverse1d:Ede,reverse2d:Ide,reverse3d:Dde,reverse4d:Fde,rfft:F_,round:h3,rsqrt:p3,scalar:Pt,scatterND:Ahe,searchSorted:c3,selu:m3,separableConv2d:g3,setdiff1dAsync:zde,sigmoid:pc,sign:FG,signal:yme,sin:y3,sinh:v3,slice:Na,slice1d:I_,slice2d:x3,slice3d:R_,slice4d:Vg,softmax:D_,softplus:gm,spaceToBatchND:T_,sparse:xme,sparseToDense:The,spectral:gme,split:Ks,sqrt:Lr,square:Qa,squaredDifference:w3,squeeze:Vd,stack:Zs,step:ym,stridedSlice:OG,string:kme,sub:pt,sum:yt,tan:$G,tanh:yd,tensor:So,tensor1d:ds,tensor2d:cg,tensor3d:LG,tensor4d:ihe,tensor5d:ohe,tensor6d:che,tensorScatterUpdate:uhe,tile:Hi,topk:BG,transpose:Ta,truncatedNormal:_3,unique:zG,unsortedSegmentSum:A3,unstack:no,upperBound:ghe,variable:GG,where:Hr,whereAsync:UG,zeros:tr,zerosLike:Ea},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gve=(t,e,a,n=zr)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[n.add(O("a",t,e,a),O("b",t,e,a))];case"AddN":return[n.addN(O("tensors",t,e,a))];case"FloorMod":case"Mod":return[n.mod(O("a",t,e,a),O("b",t,e,a))];case"Mul":return[n.mul(O("a",t,e,a),O("b",t,e,a))];case"RealDiv":case"Div":return[n.div(O("a",t,e,a),O("b",t,e,a))];case"DivNoNan":return[n.divNoNan(O("a",t,e,a),O("b",t,e,a))];case"FloorDiv":return[n.floorDiv(O("a",t,e,a),O("b",t,e,a))];case"Sub":return[n.sub(O("a",t,e,a),O("b",t,e,a))];case"Minimum":return[n.minimum(O("a",t,e,a),O("b",t,e,a))];case"Maximum":return[n.maximum(O("a",t,e,a),O("b",t,e,a))];case"Pow":return[n.pow(O("a",t,e,a),O("b",t,e,a))];case"SquaredDifference":return[n.squaredDifference(O("a",t,e,a),O("b",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uve=(t,e,a,n=zr)=>{switch(t.op){case"Abs":case"ComplexAbs":return[n.abs(O("x",t,e,a))];case"Acos":return[n.acos(O("x",t,e,a))];case"Acosh":return[n.acosh(O("x",t,e,a))];case"Asin":return[n.asin(O("x",t,e,a))];case"Asinh":return[n.asinh(O("x",t,e,a))];case"Atan":return[n.atan(O("x",t,e,a))];case"Atan2":return[n.atan2(O("x",t,e,a),O("y",t,e,a))];case"Atanh":return[n.atanh(O("x",t,e,a))];case"Ceil":return[n.ceil(O("x",t,e,a))];case"Complex":return[n.complex(O("real",t,e,a),O("imag",t,e,a))];case"Cos":return[n.cos(O("x",t,e,a))];case"Cosh":return[n.cosh(O("x",t,e,a))];case"Elu":return[n.elu(O("x",t,e,a))];case"Erf":return[n.erf(O("x",t,e,a))];case"Exp":return[n.exp(O("x",t,e,a))];case"Expm1":return[n.expm1(O("x",t,e,a))];case"Floor":return[n.floor(O("x",t,e,a))];case"Log":return[n.log(O("x",t,e,a))];case"Log1p":return[n.log1p(O("x",t,e,a))];case"Imag":return[n.imag(O("x",t,e,a))];case"Neg":return[n.neg(O("x",t,e,a))];case"Reciprocal":return[n.reciprocal(O("x",t,e,a))];case"Real":return[n.real(O("x",t,e,a))];case"Relu":return[n.relu(O("x",t,e,a))];case"Round":return[n.round(O("x",t,e,a))];case"Selu":return[n.selu(O("x",t,e,a))];case"Sigmoid":return[n.sigmoid(O("x",t,e,a))];case"Sin":return[n.sin(O("x",t,e,a))];case"Sign":return[n.sign(O("x",t,e,a))];case"Sinh":return[n.sinh(O("x",t,e,a))];case"Softplus":return[n.softplus(O("x",t,e,a))];case"Sqrt":return[n.sqrt(O("x",t,e,a))];case"Square":return[n.square(O("x",t,e,a))];case"Tanh":return[n.tanh(O("x",t,e,a))];case"Tan":return[n.tan(O("x",t,e,a))];case"ClipByValue":return[n.clipByValue(O("x",t,e,a),O("clipValueMin",t,e,a),O("clipValueMax",t,e,a))];case"Relu6":return[n.relu6(O("x",t,e,a))];case"Rsqrt":return[n.rsqrt(Dr(t.inputNames[0],e,a))];case"LeakyRelu":return[n.leakyRelu(O("x",t,e,a),O("alpha",t,e,a))];case"Prelu":return[n.prelu(O("x",t,e,a),O("alpha",t,e,a))];case"IsNan":return[n.isNaN(Dr(t.inputNames[0],e,a))];case"IsInf":return[n.isInf(Dr(t.inputNames[0],e,a))];case"IsFinite":return[n.isFinite(Dr(t.inputNames[0],e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wi(t,e,a=""){if(!(typeof t=="number"||typeof e=="number")){K(t.length===e.length,()=>a+` Shapes ${t} and ${e} must match`);for(let n=0;n<t.length;n++){const r=t[n],s=e[n];K(r<0||s<0||r===s,()=>a+` Shapes ${t} and ${e} must match`)}}}function QL(t){return!(typeof t=="number"||t.some(e=>e<0))}function B0(t,e,a){let n=AE(t,a);const r=!QL(n);if(r&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${n}`);if(r&&e.forEach(s=>{n=AE(s.shape,n)}),!QL(n))throw new Error(`Non-fully-defined elementShape: ${n}`);return n}function AE(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const a=[];for(let n=0;n<t.length;++n){const r=t[n],s=e[n];if(r>=0&&s>=0&&r!==s)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);a[n]=r>=0?r:s}return a}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wve{constructor(e,a,n,r,s,i,o){this.name=e,this.dtype=a,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=s,this.dynamicSize=i,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=Pt(0),vr(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(a=>{(e==null||!e.has(a.tensor.id))&&a.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const a=this.tensors[e];if(a.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(a.cleared=!0),a.read=!0,a.tensor}readMany(e){return e.map(a=>this.read(a))}write(e,a){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(a.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${a.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=a.shape),Wi(this.elementShape,a.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=a,vr(a),n.written=!0,this.tensors[e]=n}writeMany(e,a){if(e.length!==a.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${a.length}.`);e.forEach((n,r)=>this.write(n,a[r]))}gather(e,a){if(a&&a!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${a}`);if(e)e=e.slice(0,this.size());else{e=[];for(let r=0;r<this.size();r++)e.push(r)}if(e.length===0)return So([],[0].concat(this.elementShape));const n=this.readMany(e);return Wi(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Zs(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return So([],[0].concat(this.elementShape));const a=[];for(let r=0;r<this.size();r++)a.push(r);const n=this.readMany(a);return Wi(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),En(n,0)}scatter(e,a){if(a.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${a.dtype}`);if(e.length!==a.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${a.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,no(a,0))}split(e,a){if(a.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${a.dtype}`);let n=0;const r=e.map(c=>(n+=c,n));if(n!==a.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${n}, and tensor's shape is: ${a.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const s=n===0?0:a.size/n,i=[];Ne(()=>{a=ve(a,[1,n,s]);for(let c=0;c<e.length;++c){const u=[0,c===0?0:r[c-1],0],d=[1,e[c],s];i[c]=ve(Na(a,u,d),this.elementShape)}return i});const o=[];for(let c=0;c<e.length;c++)o[c]=c;this.writeMany(o,i)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wd{get id(){return this.idTensor.id}constructor(e,a,n,r=-1){this.tensors=e,this.elementShape=a,this.elementDtype=n,e!=null&&e.forEach(s=>{if(n!==s.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${s.dtype}`);Wi(a,s.shape,"TensorList shape mismatch: "),vr(s)}),this.idTensor=Pt(0),this.maxNumElements=r,vr(this.idTensor)}copy(){return new wd([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(a=>{(e==null||!e.has(a.id))&&a.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,a,n=-1){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(n!==-1&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);Wi(e,this.elementShape,"TensorList shape mismatch: ");const r=B0(this.elementShape,this.tensors,e);return Ne(()=>{const s=this.tensors.map(i=>ve(i,r));return Zs(s,0)})}popBack(e,a){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const n=B0(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Wi(r.shape,e,"TensorList shape mismatch: "),ve(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Wi(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");vr(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const a=new wd([],this.elementShape,this.elementDtype,this.maxNumElements);a.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)a.tensors[n]=this.tensors[n];return a}getItem(e,a,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Wi(this.tensors[e].shape,a,"TensorList shape mismatch: ");const r=B0(this.elementShape,this.tensors,a);return ve(this.tensors[e],r)}setItem(e,a){if(a.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Wi(this.elementShape,a.shape,"TensorList shape mismatch: "),vr(a),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=a}gather(e,a,n){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);Wi(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=B0(this.elementShape,this.tensors,n);return e.length===0?So([],[0].concat(r)):Ne(()=>{const s=e.map(i=>ve(this.tensors[i],r));return Zs(s,0)})}concat(e,a){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Wi(this.elementShape,a,"TensorList shape mismatch: ");const n=B0(this.elementShape,this.tensors,a);return this.size()===0?So([],[0].concat(n)):Ne(()=>{const r=this.tensors.map(s=>ve(s,n));return En(r,0)})}}function Vve(t,e,a){const n=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==a)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${a}`);const r=t.shape.slice(1);Wi(r,e,"TensorList shape mismatch: ");const s=no(t);return new wd(s,e,n)}function jve(t,e,a,n){return new wd([],t,e,n)}function Hve(t,e,a,n){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const r=Math.max(...e);if(n!=null&&n!==-1&&r>=n)throw new Error(`Max index must be < array size (${r}  vs. ${n})`);const s=new wd([],a,t.dtype,n),i=no(t,0);return e.forEach((o,c)=>{s.setItem(o,i[c])}),s}function Kve(t,e,a){let n=0;const r=e.map(u=>(n+=u,n));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${n}, and tensor's shape is: ${t.shape}`);const s=t.shape.slice(1),i=AE(s,a),o=n===0?0:t.size/n,c=Ne(()=>{const u=[];t=ve(t,[1,n,o]);for(let d=0;d<e.length;++d){const m=[0,d===0?0:r[d-1],0],g=[1,e[d],o];u[d]=ve(Na(t,m,g),i)}return t.dispose(),u}),l=new wd([],a,t.dtype,e.length);for(let u=0;u<c.length;u++)l.setItem(u,c[u]);return l}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qve=async(t,e,a)=>{switch(t.op){case"If":case"StatelessIf":{const n=O("thenBranch",t,e,a),r=O("elseBranch",t,e,a),s=O("cond",t,e,a),i=O("args",t,e,a);return(await s.data())[0]?a.functionMap[n].executeFunctionAsync(i,a.tensorArrayMap,a.tensorListMap):a.functionMap[r].executeFunctionAsync(i,a.tensorArrayMap,a.tensorListMap)}case"While":case"StatelessWhile":{const n=O("body",t,e,a),r=O("cond",t,e,a),s=O("args",t,e,a),i=await a.functionMap[r].executeFunctionAsync(s,a.tensorArrayMap,a.tensorListMap),o=s.map(u=>u.id);let c=await i[0].data();i.forEach(u=>{!u.kept&&o.indexOf(u.id)===-1&&u.dispose()});let l=s;for(;c[0];){const u=l;l=await a.functionMap[n].executeFunctionAsync(l,a.tensorArrayMap,a.tensorListMap);const d=l.map(m=>m.id);u.forEach(m=>{!m.kept&&o.indexOf(m.id)===-1&&d.indexOf(m.id)===-1&&m.dispose()});const p=await a.functionMap[r].executeFunctionAsync(l,a.tensorArrayMap,a.tensorListMap);c=await p[0].data(),p.forEach(m=>{!m.kept&&o.indexOf(m.id)===-1&&d.indexOf(m.id)===-1&&m.dispose()})}return l}case"LoopCond":{const n=O("pred",t,e,a);return[al(n)]}case"Switch":{const n=O("pred",t,e,a);let r=O("data",t,e,a);return r.kept||(r=al(r)),(await n.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const n=t.inputNames.find(r=>Dr(r,e,a)!==void 0);if(n){const r=Dr(n,e,a);return[al(r)]}return}case"Enter":{const n=O("frameName",t,e,a),r=O("tensor",t,e,a);return a.enterFrame(n),[al(r)]}case"Exit":{const n=O("tensor",t,e,a);return a.exitFrame(),[al(n)]}case"NextIteration":{const n=O("tensor",t,e,a);return a.nextIteration(),[al(n)]}case"TensorArrayV3":{const n=O("size",t,e,a),r=O("dtype",t,e,a),s=O("elementShape",t,e,a),i=O("dynamicSize",t,e,a),o=O("clearAfterRead",t,e,a),c=O("identicalElementShapes",t,e,a),l=O("name",t,e,a),u=new Wve(l,r,n,s,c,i,o);return a.addTensorArray(u),[u.idTensor,Pt(1)]}case"TensorArrayWriteV3":{const n=O("tensorArrayId",t,e,a),r=O("index",t,e,a),s=O("tensor",t,e,a),i=a.getTensorArray(n.id);return i.write(r,s),[i.idTensor]}case"TensorArrayReadV3":{const n=O("tensorArrayId",t,e,a),r=O("index",t,e,a);return[a.getTensorArray(n.id).read(r)]}case"TensorArrayGatherV3":{const n=O("tensorArrayId",t,e,a),r=O("indices",t,e,a),s=O("dtype",t,e,a);return[a.getTensorArray(n.id).gather(r,s)]}case"TensorArrayScatterV3":{const n=O("tensorArrayId",t,e,a),r=O("indices",t,e,a),s=O("tensor",t,e,a),i=a.getTensorArray(n.id);return i.scatter(r,s),[i.idTensor]}case"TensorArrayConcatV3":{const n=O("tensorArrayId",t,e,a),r=a.getTensorArray(n.id),s=O("dtype",t,e,a);return[r.concat(s)]}case"TensorArraySplitV3":{const n=O("tensorArrayId",t,e,a),r=O("tensor",t,e,a),s=O("lengths",t,e,a),i=a.getTensorArray(n.id);return i.split(s,r),[i.idTensor]}case"TensorArraySizeV3":{const n=O("tensorArrayId",t,e,a),r=a.getTensorArray(n.id);return[Pt(r.size(),"int32")]}case"TensorArrayCloseV3":{const n=O("tensorArrayId",t,e,a),r=a.getTensorArray(n.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const n=O("tensorListId",t,e,a),r=O("index",t,e,a),s=O("tensor",t,e,a),i=a.getTensorList(n.id);return i.setItem(r,s),[i.idTensor]}case"TensorListGetItem":{const n=O("tensorListId",t,e,a),r=O("index",t,e,a),s=O("elementShape",t,e,a),i=O("elementDType",t,e,a);return[a.getTensorList(n.id).getItem(r,s,i)]}case"TensorListScatterV2":case"TensorListScatter":{const n=O("indices",t,e,a),r=O("tensor",t,e,a),s=O("elementShape",t,e,a),i=O("numElements",t,e,a),o=Hve(r,n,s,i);return a.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const n=O("elementShape",t,e,a),r=O("elementDType",t,e,a);let s;t.op==="TensorListReserve"?s="numElements":s="maxNumElements";const i=O(s,t,e,a),o=t.op==="TensorListReserve"?-1:i,c=jve(n,r,i,o);return a.addTensorList(c),[c.idTensor]}case"TensorListGather":{const n=O("tensorListId",t,e,a),r=O("indices",t,e,a),s=O("elementShape",t,e,a),i=O("elementDType",t,e,a);return[a.getTensorList(n.id).gather(r,i,s)]}case"TensorListStack":{const n=O("tensorListId",t,e,a),r=O("elementShape",t,e,a),s=O("elementDType",t,e,a),i=O("numElements",t,e,a);return[a.getTensorList(n.id).stack(r,s,i)]}case"TensorListFromTensor":{const n=O("tensor",t,e,a),r=O("elementShape",t,e,a),s=O("elementDType",t,e,a),i=Vve(n,r,s);return a.addTensorList(i),[i.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const n=O("tensorListId",t,e,a),r=a.getTensorList(n.id),s=O("dtype",t,e,a),i=O("elementShape",t,e,a);return[r.concat(s,i)]}case"TensorListPushBack":{const n=O("tensorListId",t,e,a),r=O("tensor",t,e,a),s=a.getTensorList(n.id);return s.pushBack(r),[s.idTensor]}case"TensorListPopBack":{const n=O("tensorListId",t,e,a),r=O("elementShape",t,e,a),s=O("elementDType",t,e,a);return[a.getTensorList(n.id).popBack(r,s)]}case"TensorListSplit":{const n=O("tensor",t,e,a),r=O("elementShape",t,e,a),s=O("lengths",t,e,a),i=Kve(n,s,r);return a.addTensorList(i),[i.idTensor]}case"TensorListLength":{const n=O("tensorListId",t,e,a),r=a.getTensorList(n.id);return[Pt(r.size(),"int32")]}case"TensorListResize":{const n=O("tensorListId",t,e,a),r=O("size",t,e,a),i=a.getTensorList(n.id).resize(r);return a.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eM(t,e,a){const[n,r]=O("fusedOps",t,e,a),s=n==="biasadd",i=!s,o=r==="prelu",c=n==="fusedbatchnorm",l=O("numArgs",t,e,a);if(s){if(o&&l!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&s&&l!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=O("strides",t,e,a),d=$k(t,e,a),p=O("dataFormat",t,e,a).toUpperCase(),m=O("dilations",t,e,a);let[g,x]=O("args",t,e,a);i&&(x=g,g=void 0);const v=O("leakyreluAlpha",t,e,a);return{stride:u,pad:d,dataFormat:p,dilations:m,biasArg:g,preluArg:x,activationFunc:r,leakyreluAlpha:v}}const Xve=(t,e,a,n=zr)=>{switch(t.op){case"Conv1D":{const r=O("stride",t,e,a),s=O("pad",t,e,a),i=O("dataFormat",t,e,a).toUpperCase(),o=O("dilation",t,e,a);return[n.conv1d(O("x",t,e,a),O("filter",t,e,a),r,s,i,o)]}case"Conv2D":{const r=O("strides",t,e,a),s=$k(t,e,a),i=O("dataFormat",t,e,a).toUpperCase(),o=O("dilations",t,e,a);return[n.conv2d(O("x",t,e,a),O("filter",t,e,a),[r[1],r[2]],s,i,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:r,pad:s,dataFormat:i,dilations:o,biasArg:c,preluArg:l,activationFunc:u,leakyreluAlpha:d}=eM(t,e,a);return[n.fused.conv2d({x:O("x",t,e,a),filter:O("filter",t,e,a),strides:[r[1],r[2]],pad:s,dataFormat:i,dilations:[o[1],o[2]],bias:c,activation:u,preluActivationWeights:l,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:s,dataFormat:i,dilations:o,biasArg:c,preluArg:l,activationFunc:u,leakyreluAlpha:d}=eM(t,e,a);return[n.fused.depthwiseConv2d({x:O("x",t,e,a),filter:O("filter",t,e,a),strides:[r[1],r[2]],pad:s,dataFormat:i,dilations:[o[1],o[2]],bias:c,activation:u,preluActivationWeights:l,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=O("outputShape",t,e,a),s=O("strides",t,e,a),i=$k(t,e,a);return[n.conv2dTranspose(O("x",t,e,a),O("filter",t,e,a),r,[s[1],s[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=O("strides",t,e,a),s=$k(t,e,a),i=O("dilations",t,e,a),o=O("dataFormat",t,e,a).toUpperCase();return[n.depthwiseConv2d(O("input",t,e,a),O("filter",t,e,a),[r[1],r[2]],s,o,[i[1],i[2]])]}case"Conv3D":{const r=O("strides",t,e,a),s=O("pad",t,e,a),i=O("dataFormat",t,e,a).toUpperCase(),o=O("dilations",t,e,a);return[n.conv3d(O("x",t,e,a),O("filter",t,e,a),[r[1],r[2],r[3]],s,i,[o[1],o[2],o[3]])]}case"AvgPool":{const r=O("strides",t,e,a),s=O("pad",t,e,a),i=O("kernelSize",t,e,a);return[n.avgPool(O("x",t,e,a),[i[1],i[2]],[r[1],r[2]],s)]}case"MaxPool":{const r=O("strides",t,e,a),s=O("pad",t,e,a),i=O("kernelSize",t,e,a);return[n.maxPool(O("x",t,e,a),[i[1],i[2]],[r[1],r[2]],s)]}case"MaxPoolWithArgmax":{const r=O("strides",t,e,a),s=O("pad",t,e,a),i=O("kernelSize",t,e,a),o=O("includeBatchInIndex",t,e,a),{result:c,indexes:l}=n.maxPoolWithArgmax(O("x",t,e,a),[i[1],i[2]],[r[1],r[2]],s,o);return[c,l]}case"AvgPool3D":{const r=O("strides",t,e,a),s=O("pad",t,e,a),i=O("kernelSize",t,e,a);return[n.avgPool3d(O("x",t,e,a),[i[1],i[2],i[3]],[r[1],r[2],r[3]],s)]}case"MaxPool3D":{const r=O("strides",t,e,a),s=O("pad",t,e,a),i=O("kernelSize",t,e,a);return[n.maxPool3d(O("x",t,e,a),[i[1],i[2],i[3]],[r[1],r[2],r[3]],s)]}case"Dilation2D":{const r=O("strides",t,e,a),s=O("pad",t,e,a),i=O("dilations",t,e,a),o=r[1],c=r[2],l=i[1],u=i[2];return[n.dilation2d(O("x",t,e,a),O("filter",t,e,a),[o,c],s,[l,u],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yve=(t,e,a,n=zr)=>{switch(t.op){case"Fill":{const r=O("shape",t,e,a),s=O("dtype",t,e,a),i=O("value",t,e,a);return[n.fill(r,i,s)]}case"LinSpace":{const r=O("start",t,e,a),s=O("stop",t,e,a),i=O("num",t,e,a);return[n.linspace(r,s,i)]}case"Multinomial":{const r=O("logits",t,e,a),s=O("numSamples",t,e,a),i=O("seed",t,e,a);return[n.multinomial(r,s,i)]}case"OneHot":{const r=O("indices",t,e,a),s=O("depth",t,e,a),i=O("onValue",t,e,a),o=O("offValue",t,e,a),c=O("dtype",t,e,a);return[n.oneHot(r,s,i,o,c)]}case"Ones":return[n.ones(O("shape",t,e,a),O("dtype",t,e,a))];case"OnesLike":return[n.onesLike(O("x",t,e,a))];case"RandomStandardNormal":return[n.randomStandardNormal(O("shape",t,e,a),O("dtype",t,e,a),O("seed",t,e,a))];case"RandomUniform":return[n.randomUniform(O("shape",t,e,a),O("minval",t,e,a),O("maxval",t,e,a),O("dtype",t,e,a))];case"RandomUniformInt":return[n.randomUniformInt(O("shape",t,e,a),O("minval",t,e,a),O("maxval",t,e,a),O("seed",t,e,a))];case"Range":{const r=O("start",t,e,a),s=O("stop",t,e,a),i=O("step",t,e,a);return[n.range(r,s,i,O("dtype",t,e,a))]}case"TruncatedNormal":{const r=O("shape",t,e,a),s=O("mean",t,e,a),i=O("stdDev",t,e,a),o=O("seed",t,e,a);return[n.truncatedNormal(r,s,i,O("dtype",t,e,a),o)]}case"Zeros":return[n.zeros(O("shape",t,e,a),O("dtype",t,e,a))];case"ZerosLike":return[n.zerosLike(O("x",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bS(t,e,a){const n=O("boxes",t,e,a),r=O("scores",t,e,a),s=O("maxOutputSize",t,e,a),i=O("iouThreshold",t,e,a),o=O("scoreThreshold",t,e,a),c=O("softNmsSigma",t,e,a);return{boxes:n,scores:r,maxOutputSize:s,iouThreshold:i,scoreThreshold:o,softNmsSigma:c}}const Zve=async(t,e,a,n,r=zr)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:s,scores:i,maxOutputSize:o,iouThreshold:c,scoreThreshold:l,softNmsSigma:u}=bS(t,e,a),d=await r.image.nonMaxSuppressionWithScoreAsync(s,i,o,c,l,u);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:s,scores:i,maxOutputSize:o,iouThreshold:c,scoreThreshold:l}=bS(t,e,a),u=O("padToMaxOutputSize",t,e,a),d=await r.image.nonMaxSuppressionPaddedAsync(s,i,o,c,l,u);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:s,scores:i,maxOutputSize:o,iouThreshold:c,scoreThreshold:l}=bS(t,e,a);return[await r.image.nonMaxSuppressionAsync(s,i,o,c,l)]}case"Where":{const s=r.cast(O("condition",t,e,a),"bool"),i=[await r.whereAsync(s)];return s.dispose(),i}case"ListDiff":return r.setdiff1dAsync(O("x",t,e,a),O("y",t,e,a));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jve=(t,e,a,n=zr)=>{switch(t.op){case"LowerBound":{const r=O("sortedSequence",t,e,a),s=O("values",t,e,a);return[n.lowerBound(r,s)]}case"TopKV2":{const r=O("x",t,e,a),s=O("k",t,e,a),i=O("sorted",t,e,a),o=n.topk(r,s,i);return[o.values,o.indices]}case"UpperBound":{const r=O("sortedSequence",t,e,a),s=O("values",t,e,a);return[n.upperBound(r,s)]}case"Unique":{const r=O("x",t,e,a),s=n.unique(r);return[s.values,s.indices]}case"UniqueV2":{const r=O("x",t,e,a),s=O("axis",t,e,a),i=n.unique(r,s);return[i.values,i.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qve=(t,e,a,n=zr)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const r=O("default",t,e,a);return[Dr(t.name,e,a)||r];case"Placeholder":return[Dr(t.name,e,a)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const u=O("x",t,e,a);return[al(u)]}case"IdentityN":return O("x",t,e,a).map(u=>al(u));case"Snapshot":const s=O("x",t,e,a);return[al(s)];case"Shape":return[n.tensor1d(O("x",t,e,a).shape,"int32")];case"ShapeN":return O("x",t,e,a).map(u=>n.tensor1d(u.shape));case"Size":return[n.scalar(O("x",t,e,a).size,"int32")];case"Rank":return[n.scalar(O("x",t,e,a).rank,"int32")];case"NoOp":return[n.scalar(1)];case"Print":const i=O("x",t,e,a),o=O("data",t,e,a),c=O("message",t,e,a),l=O("summarize",t,e,a);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(c);for(let u=0;u<o.length;u++)console.log(Array.prototype.slice.call(o[u].dataSync()).slice(0,l));return[i];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class exe{get id(){return this.handle.id}constructor(e,a){this.keyDType=e,this.valueDType=a,this.handle=Pt(0),this.tensorMap=new Map,vr(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Pt(this.size(),"int32")}async import(e,a){this.checkKeyAndValueTensor(e,a);const n=await e.data();return this.tensorMap.forEach(r=>r.dispose()),this.tensorMap.clear(),Ne(()=>{const r=no(a),s=n.length,i=r.length;K(s===i,()=>`The number of elements doesn't match, keys has ${s} elements, the values has ${i} elements.`);for(let o=0;o<s;o++){const c=n[o],l=r[o];vr(l),this.tensorMap.set(c,l)}return this.handle})}async find(e,a){this.checkKeyAndValueTensor(e,a);const n=await e.data();return Ne(()=>{const r=[];for(let s=0;s<n.length;s++){const i=n[s],o=this.findWithDefault(i,a);r.push(o)}return Zs(r)})}findWithDefault(e,a){const n=this.tensorMap.get(e);return n??a}checkKeyAndValueTensor(e,a){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(a.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${a.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const txe=async(t,e,a,n)=>{switch(t.op){case"HashTable":case"HashTableV2":{const r=n.getHashTableHandleByName(t.name);if(r!=null)return[r];{const s=O("keyDType",t,e,a),i=O("valueDType",t,e,a),o=new exe(s,i);return n.addHashTable(t.name,o),[o.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const r=O("tableHandle",t,e,a,n),s=O("keys",t,e,a),i=O("values",t,e,a);return[await n.getHashTableById(r.id).import(s,i)]}case"LookupTableFind":case"LookupTableFindV2":{const r=O("tableHandle",t,e,a,n),s=O("keys",t,e,a),i=O("defaultValue",t,e,a);return[await n.getHashTableById(r.id).find(s,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=O("tableHandle",t,e,a,n);return[n.getHashTableById(r.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const axe=(t,e,a,n=zr)=>{switch(t.op){case"ResizeBilinear":{const r=O("images",t,e,a),s=O("size",t,e,a),i=O("alignCorners",t,e,a),o=O("halfPixelCenters",t,e,a);return[n.image.resizeBilinear(r,[s[0],s[1]],i,o)]}case"ResizeNearestNeighbor":{const r=O("images",t,e,a),s=O("size",t,e,a),i=O("alignCorners",t,e,a),o=O("halfPixelCenters",t,e,a);return[n.image.resizeNearestNeighbor(r,[s[0],s[1]],i,o)]}case"CropAndResize":{const r=O("image",t,e,a),s=O("boxes",t,e,a),i=O("boxInd",t,e,a),o=O("cropSize",t,e,a),c=O("method",t,e,a),l=O("extrapolationValue",t,e,a);return[n.image.cropAndResize(r,s,i,o,c,l)]}case"ImageProjectiveTransformV3":{const r=O("images",t,e,a),s=O("transforms",t,e,a),i=O("outputShape",t,e,a),o=O("fillValue",t,e,a),c=O("interpolation",t,e,a),l=O("fillMode",t,e,a);return[n.image.transform(r,s,c.toLowerCase(),l.toLowerCase(),o,i)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nxe=(t,e,a,n=zr)=>{switch(t.op){case"Equal":return[n.equal(O("a",t,e,a),O("b",t,e,a))];case"NotEqual":return[n.notEqual(O("a",t,e,a),O("b",t,e,a))];case"Greater":return[n.greater(O("a",t,e,a),O("b",t,e,a))];case"GreaterEqual":return[n.greaterEqual(O("a",t,e,a),O("b",t,e,a))];case"Less":return[n.less(O("a",t,e,a),O("b",t,e,a))];case"LessEqual":return[n.lessEqual(O("a",t,e,a),O("b",t,e,a))];case"LogicalAnd":return[n.logicalAnd(O("a",t,e,a),O("b",t,e,a))];case"LogicalNot":return[n.logicalNot(O("a",t,e,a))];case"LogicalOr":return[n.logicalOr(O("a",t,e,a),O("b",t,e,a))];case"Select":case"SelectV2":return[n.where(O("condition",t,e,a),O("a",t,e,a),O("b",t,e,a))];case"BitwiseAnd":return[n.bitwiseAnd(O("a",t,e,a),O("b",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rxe=(t,e,a,n=zr)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[n.matMul(O("a",t,e,a),O("b",t,e,a),O("transposeA",t,e,a),O("transposeB",t,e,a))];case"Einsum":return[n.einsum(O("equation",t,e,a),...O("tensors",t,e,a))];case"Transpose":return[n.transpose(O("x",t,e,a),O("perm",t,e,a))];case"_FusedMatMul":const[r,s]=O("fusedOps",t,e,a),i=r==="biasadd",o=s==="prelu",c=O("numArgs",t,e,a),l=O("leakyreluAlpha",t,e,a);if(i){if(o&&c!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&c!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=O("args",t,e,a);return[n.fused.matMul({a:O("a",t,e,a),b:O("b",t,e,a),transposeA:O("transposeA",t,e,a),transposeB:O("transposeB",t,e,a),bias:u,activation:s,preluActivationWeights:d,leakyreluAlpha:l})];case"MatrixBandPart":return[n.linalg.bandPart(O("a",t,e,a),O("numLower",t,e,a),O("numUpper",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sxe=(t,e,a,n=zr)=>{switch(t.op){case"EuclideanNorm":return[n.euclideanNorm(O("x",t,e,a),O("axis",t,e,a),O("keepDims",t,e,a))];case"FusedBatchNorm":case"FusedBatchNormV2":return[n.batchNorm(O("x",t,e,a),O("mean",t,e,a),O("variance",t,e,a),O("offset",t,e,a),O("scale",t,e,a),O("epsilon",t,e,a))];case"FusedBatchNormV3":return[n.batchNorm(O("x",t,e,a),O("mean",t,e,a),O("variance",t,e,a),O("offset",t,e,a),O("scale",t,e,a),O("epsilon",t,e,a))];case"LRN":return[n.localResponseNormalization(O("x",t,e,a),O("radius",t,e,a),O("bias",t,e,a),O("alpha",t,e,a),O("beta",t,e,a))];case"Softmax":return[n.softmax(O("x",t,e,a))];case"LogSoftmax":return[n.logSoftmax(O("x",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ixe=(t,e,a,n=zr)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:s}=n.raggedGather(O("paramsNestedSplits",t,e,a),O("paramsDenseValues",t,e,a),O("indices",t,e,a),O("outputRaggedRank",t,e,a));return r.concat(s)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:s}=n.raggedRange(O("starts",t,e,a),O("limits",t,e,a),O("splits",t,e,a));return[r,s]}case"RaggedTensorToTensor":return[n.raggedTensorToTensor(O("shape",t,e,a),O("values",t,e,a),O("defaultValue",t,e,a),O("rowPartitionTensors",t,e,a),O("rowPartitionTypes",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oxe=(t,e,a,n=zr)=>{switch(t.op){case"Max":{const o=O("axis",t,e,a),c=O("keepDims",t,e,a);return[n.max(O("x",t,e,a),o,c)]}case"Mean":{const o=O("axis",t,e,a),c=O("keepDims",t,e,a);return[n.mean(O("x",t,e,a),o,c)]}case"Min":{const o=O("axis",t,e,a),c=O("keepDims",t,e,a);return[n.min(O("x",t,e,a),o,c)]}case"Sum":{const o=O("axis",t,e,a),c=O("keepDims",t,e,a);return[n.sum(O("x",t,e,a),o,c)]}case"All":{const o=O("axis",t,e,a),c=O("keepDims",t,e,a);return[n.all(O("x",t,e,a),o,c)]}case"Any":{const o=O("axis",t,e,a),c=O("keepDims",t,e,a);return[n.any(O("x",t,e,a),o,c)]}case"ArgMax":{const o=O("axis",t,e,a);return[n.argMax(O("x",t,e,a),o)]}case"ArgMin":{const o=O("axis",t,e,a);return[n.argMin(O("x",t,e,a),o)]}case"Prod":{const o=O("axis",t,e,a),c=O("keepDims",t,e,a);return[n.prod(O("x",t,e,a),o,c)]}case"Cumprod":{const o=O("axis",t,e,a),c=O("exclusive",t,e,a),l=O("reverse",t,e,a);return[n.cumprod(O("x",t,e,a),o,c,l)]}case"Cumsum":{const o=O("axis",t,e,a),c=O("exclusive",t,e,a),l=O("reverse",t,e,a);return[n.cumsum(O("x",t,e,a),o,c,l)]}case"Bincount":const r=O("x",t,e,a),s=O("weights",t,e,a),i=O("size",t,e,a);return[n.bincount(r,s,i)];case"DenseBincount":{const o=O("x",t,e,a),c=O("weights",t,e,a),l=O("size",t,e,a),u=O("binaryOutput",t,e,a);return[n.denseBincount(o,c,l,u)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cxe=(t,e,a,n=zr)=>{switch(t.op){case"ConcatV2":case"Concat":{const r=O("n",t,e,a),s=O("axis",t,e,a);let i=O("tensors",t,e,a);return i=i.slice(0,r),[n.concat(i,s)]}case"Gather":{const r=O("x",t,e,a),s=O("indices",t,e,a);return[n.gather(r,n.cast(s,"int32"),0)]}case"GatherV2":{const r=O("axis",t,e,a),s=O("batchDims",t,e,a),i=O("x",t,e,a),o=O("indices",t,e,a);return[n.gather(i,n.cast(o,"int32"),r,s)]}case"Reverse":{const r=O("dims",t,e,a),s=[];for(let o=0;o<r.length;o++)r[o]&&s.push(o);const i=O("x",t,e,a);return[n.reverse(i,s)]}case"ReverseV2":{const r=O("axis",t,e,a),s=O("x",t,e,a);return[n.reverse(s,r)]}case"Slice":{const r=O("begin",t,e,a),s=O("size",t,e,a);return[n.slice(O("x",t,e,a),r,s)]}case"StridedSlice":{const r=O("begin",t,e,a),s=O("end",t,e,a),i=O("strides",t,e,a),o=O("beginMask",t,e,a),c=O("endMask",t,e,a),l=O("ellipsisMask",t,e,a),u=O("newAxisMask",t,e,a),d=O("shrinkAxisMask",t,e,a),p=O("x",t,e,a);return[n.stridedSlice(p,r,s,i,o,c,l,u,d)]}case"Pack":return Ne(()=>{const r=O("axis",t,e,a),s=O("tensors",t,e,a),i=s[0].shape,o=n.squeeze(s[0]).shape,c=s.map(l=>{const u=_a(l.shape,i);if(!u&&!_a(n.squeeze(l).shape,o))throw new Error("the input tensors shape does not match");return u?l:n.reshape(l,i)});return[n.stack(c,r)]});case"Unpack":{const r=O("axis",t,e,a),s=O("tensor",t,e,a);return n.unstack(s,r)}case"Tile":{const r=O("reps",t,e,a);return[n.tile(O("x",t,e,a),r)]}case"Split":case"SplitV":{const r=O("axis",t,e,a),s=O("numOrSizeSplits",t,e,a),i=O("x",t,e,a);return n.split(i,s,r)}case"ScatterNd":{const r=O("indices",t,e,a),s=O("values",t,e,a),i=O("shape",t,e,a);return[n.scatterND(r,s,i)]}case"GatherNd":{const r=O("x",t,e,a),s=O("indices",t,e,a);return[n.gatherND(r,s)]}case"SparseToDense":{const r=O("sparseIndices",t,e,a),s=O("outputShape",t,e,a),i=O("sparseValues",t,e,a),o=O("defaultValue",t,e,a);return[n.sparseToDense(r,i,s,i.dtype===o.dtype?o:n.cast(o,i.dtype))]}case"TensorScatterUpdate":{const r=O("indices",t,e,a),s=O("values",t,e,a),i=O("tensor",t,e,a);return[n.tensorScatterUpdate(i,r,s)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lxe=(t,e,a,n=zr)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:s,emptyRowIndicator:i,reverseIndexMap:o}=n.sparse.sparseFillEmptyRows(O("indices",t,e,a),O("values",t,e,a),O("denseShape",t,e,a),O("defaultValue",t,e,a));return[r,s,i,o]}case"SparseReshape":{const{outputIndices:r,outputShape:s}=n.sparse.sparseReshape(O("inputIndices",t,e,a),O("inputShape",t,e,a),O("newShape",t,e,a));return[r,s]}case"SparseSegmentMean":return[n.sparse.sparseSegmentMean(O("data",t,e,a),O("indices",t,e,a),O("segmentIds",t,e,a))];case"SparseSegmentSum":return[n.sparse.sparseSegmentSum(O("data",t,e,a),O("indices",t,e,a),O("segmentIds",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uxe=(t,e,a,n=zr)=>{switch(t.op){case"FFT":return[n.fft(O("x",t,e,a))];case"IFFT":return[n.ifft(O("x",t,e,a))];case"RFFT":return[n.rfft(O("x",t,e,a))];case"IRFFT":return[n.irfft(O("x",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fxe=(t,e,a,n=zr)=>{switch(t.op){case"StaticRegexReplace":return[n.string.staticRegexReplace(O("input",t,e,a),O("pattern",t,e,a),O("rewrite",t,e,a),O("replaceGlobal",t,e,a))];case"StringNGrams":{const{nGrams:r,nGramsSplits:s}=n.string.stringNGrams(O("data",t,e,a),O("dataSplits",t,e,a),O("separator",t,e,a),O("nGramWidths",t,e,a),O("leftPad",t,e,a),O("rightPad",t,e,a),O("padWidth",t,e,a),O("preserveShortSequences",t,e,a));return[r,s]}case"StringSplit":{const{indices:r,values:s,shape:i}=n.string.stringSplit(O("input",t,e,a),O("delimiter",t,e,a),O("skipEmpty",t,e,a));return[r,s,i]}case"StringToHashBucketFast":return[n.string.stringToHashBucketFast(O("input",t,e,a),O("numBuckets",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dxe=(t,e,a,n=zr)=>{switch(t.op){case"Cast":return[n.cast(O("x",t,e,a),O("dtype",t,e,a))];case"ExpandDims":{const r=O("axis",t,e,a);return[n.expandDims(O("x",t,e,a),r)]}case"Squeeze":{const r=O("axis",t,e,a);return[n.squeeze(O("x",t,e,a),r)]}case"Reshape":return[n.reshape(O("x",t,e,a),O("shape",t,e,a))];case"EnsureShape":return[n.ensureShape(O("x",t,e,a),O("shape",t,e,a))];case"MirrorPad":return[n.mirrorPad(O("x",t,e,a),O("padding",t,e,a),O("mode",t,e,a))];case"PadV2":case"Pad":return[n.pad(O("x",t,e,a),O("padding",t,e,a),O("constantValue",t,e,a))];case"SpaceToBatchND":{const r=O("blockShape",t,e,a),s=O("paddings",t,e,a);return[n.spaceToBatchND(O("x",t,e,a),r,s)]}case"BatchToSpaceND":{const r=O("blockShape",t,e,a),s=O("crops",t,e,a);return[n.batchToSpaceND(O("x",t,e,a),r,s)]}case"DepthToSpace":{const r=O("blockSize",t,e,a),s=O("dataFormat",t,e,a).toUpperCase();return[n.depthToSpace(O("x",t,e,a),r,s)]}case"BroadcastTo":return[n.broadcastTo(O("x",t,e,a),O("shape",t,e,a))];case"BroadcastArgs":return[n.broadcastArgs(O("s0",t,e,a),O("s1",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tM(t,e,a,n,r=Ne){const s=((i,o,c)=>{switch(i.category){case"arithmetic":return r(()=>Gve(i,o,c));case"basic_math":return r(()=>Uve(i,o,c));case"control":return qve(i,o,c);case"convolution":return r(()=>Xve(i,o,c));case"creation":return r(()=>Yve(i,o,c));case"dynamic":return Zve(i,o,c);case"evaluation":return r(()=>Jve(i,o,c));case"image":return r(()=>axe(i,o,c));case"graph":return r(()=>Qve(i,o,c));case"logical":return r(()=>nxe(i,o,c));case"matrices":return r(()=>rxe(i,o,c));case"normalization":return r(()=>sxe(i,o,c));case"ragged":return r(()=>ixe(i,o,c));case"reduction":return r(()=>oxe(i,o,c));case"slice_join":return r(()=>cxe(i,o,c));case"sparse":return r(()=>lxe(i,o,c));case"spectral":return r(()=>uxe(i,o,c));case"string":return r(()=>fxe(i,o,c));case"transformation":return r(()=>dxe(i,o,c));case"hash_table":return txe(i,o,c,n);case"custom":const l=oW(i.op);if(l&&l.customExecutor)return l.customExecutor(new zve(i,o,c));throw TypeError(`Custom op ${i.op} is not registered.`);default:throw TypeError(`Unknown op '${i.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,a);return ud(s)?s.then(i=>[].concat(i)):[].concat(s)}class aM{constructor(e={},a={},n={},r={},s){this.weightMap=e,this.tensorArrayMap=a,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=s,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,a){return{id:e,frameName:a,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let a=0;a<this.contexts.length-1;a++){const n=this.contexts.slice(0,this.contexts.length-a);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(a=>a.id===0&&a.iterationId===0?"":`${a.frameName}-${a.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const a in this.tensorArrayMap)this.tensorArrayMap[a].clearAndClose(e);for(const a in this.tensorListMap)this.tensorListMap[a].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nM(t,e,a,n){const r=new Set,s=[];let i=null,o=null;const c=new Set,l=new Set(Object.keys(t).map(p=>Ws(p)[0]));n=n||[];const u=new Set(n.map(p=>Ws(p.name)[0])),d=[...e];for(;d.length>0;){const p=d.pop();if((Lf(p)||kxe(p)||wxe(p))&&i==null&&(i=p,o=i.children.map(m=>m.name).filter(m=>r.has(m))),r.add(p.name),a[p.name]==null&&!l.has(p.name)&&!u.has(p.name)){if(p.inputs.length===0){s.push(p.name);continue}p.inputs.forEach(m=>{c.has(m.name)||(c.add(m.name),d.push(m))})}}return{inputs:t,outputs:e,usedNodes:r,missingInputs:s,dynamicNode:i,syncInputs:o}}function hxe(t,e){const{usedNodes:a,inputs:n}=e,r=Object.keys(n).map(v=>Ws(v)[0]).map(v=>t.nodes[v]),s=t.initNodes||[],i=v=>a.has(typeof v=="string"?v:v.name);function o(v){return[...new Map(v.map(k=>[k.name,k])).values()]}const c=o([...r,...t.weights,...s]).filter(i),l=o([...c,...Object.values(t.nodes)]).filter(i),u=new Map(l.map(v=>[v.name,v])),d={};for(const v of l){d[v.name]=d[v.name]||0;for(const k of v.children)i(k)||(d[k.name]=Number.POSITIVE_INFINITY),d[k.name]=(d[k.name]||0)+1}const p=Object.entries(d).filter(([,v])=>v===0).map(([v])=>v),m=[...p];for(;p.length>0;){const v=p.pop(),k=u.get(v);for(const b of k.children.filter(i))--d[b.name]===0&&(m.push(b.name),p.push(b.name))}const g=m.map(v=>u.get(v)),x=pxe(g,c);return mxe(x,c),x}function pxe(t,e){const a=new Map(t.map(i=>[i.name,i])),n=e.map(i=>i.name),r=new Set(n);for(;n.length>0;){const i=n.pop(),o=a.get(i);for(const c of o.children)!a.has(c.name)||r.has(c.name)||(r.add(c.name),n.push(c.name))}return t.filter(i=>r.has(i.name))}class Kx extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function mxe(t,e){const a=new Map(t.map((o,c)=>[o.name,c])),n=new Set(e.map(o=>o.name)),r=o=>n.has(typeof o=="string"?o:o.name),s=new Set(t.map(o=>o.name)),i=o=>s.has(typeof o=="string"?o:o.name);for(const o of t){for(const c of o.children.filter(i)){if(!a.has(c.name))throw new Kx(`Child ${c.name} of node ${o.name} is unreachable.`);if(a.get(o.name)>a.get(c.name))throw new Kx(`Node ${o.name} is scheduled to run after its child ${c.name}.`)}if(!r(o))for(const c of o.inputs){if(!a.has(c.name))throw new Kx(`Input ${c.name} of node ${o.name} is unreachable.`);if(a.get(c.name)>a.get(o.name))throw new Kx(`Node ${o.name} is scheduled to run before its input ${c.name}.`)}}}function gxe(t){const e=new Map(t.map((o,c)=>[o.name,c])),a=Number.MAX_SAFE_INTEGER,n=t.map((o,c)=>Lf(o)?a:c),r=o=>{const c=n[e.get(o.name)];return c??-1},s=t.map((o,c)=>o.children.map(r).reduce((l,u)=>Math.max(l,u),n[c])),i=new Map;for(let o=0;o<t.length;++o){const c=s[o];if(c===a)continue;const l=t[o],u=t[c];i.has(u.name)||i.set(u.name,[]),i.get(u.name).push(l)}return i}const yxe=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),vxe=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),xxe=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Lf(t){return yxe.has(t.op)}function kxe(t){return vxe.has(t.op)}function wxe(t){return xxe.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yw{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const a=Object.keys(e).map(n=>e[n].map(r=>r.id));this._weightIds=[].concat(...a),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const a=e.signatureKey||e.name;return e.defaultOutput?`${a}:${e.defaultOutput}`:a})}get functions(){return Object.keys(this._functions).reduce((e,a)=>(e[a]=this._functions[a].signature,e),{})}constructor(e,a){this.graph=e,this.parent=a,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(n=>{this._functionExecutorMap[n]=new yw(e.functions[n],this)})}getCompilationKey(e,a){const n=e.map(s=>s.name).sort(),r=a.map(s=>s.name).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,a){const n=nM(e,a,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:s,syncInputs:i}=n;if(s!=null)throw new Error(`This execution contains the node '${s.name}', which has the dynamic op '${s.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(r.length>0){const l=a.map(d=>d.name),u=Object.keys(e);throw new Error(`Cannot compute the outputs [${l}] from the provided inputs [${u}]. Missing the following inputs: [${r}]`)}const o=hxe(this.graph,n),c=gxe(o);return{orderedNodes:o,nodeLiveUntilMap:c}}cloneAndKeepTensor(e){if(e==null)return null;const a=e.clone();return vr(a),a}cloneTensorList(e){return e?e.map(n=>this.cloneAndKeepTensor(n)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([a,n])=>[a,this.cloneTensorList(n)]))}execute(e,a){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),a=this.mapOutputs(a),this.checkOutputs(a);const r=n.map(p=>this.graph.nodes[Ws(p)[0]]),s=a.map(p=>Ws(p)[0]),i=new Set(s);let o=s.map(p=>this.graph.nodes[p]);o.length===0&&(o=this._outputs);const c=this.getCompilationKey(r,o);let l=this.compiledMap.get(c);l==null&&(l=this.compile(e,o),this.compiledMap.set(c,l));try{this.keepIntermediateTensors=Ce().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(p){this.keepIntermediateTensors=!1,console.warn(p.message)}const u={},d={};return Ne(()=>{const p=new aM(this.weightMap,u,d,this.functionExecutorMap,this.parseNodeNameCache),m=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(k=>{const[b,_]=Ws(k,p),A=[];A[_]=e[k],m[b]=A,this.keepIntermediateTensors&&(this.clonedTensorsMap[b]=this.cloneTensorList(A))});const g=this.getFrozenTensorIds(m),{orderedNodes:x,nodeLiveUntilMap:v}=l;for(const k of x){if(m[k.name])continue;const b=tM(k,m,p,this._resourceManager);if(ud(b))throw new Error(`The execution of the op '${k.op}' returned a promise. Please use model.executeAsync() instead.`);m[k.name]=b,this.keepIntermediateTensors&&(this.clonedTensorsMap[k.name]=this.cloneTensorList(b)),this.checkTensorForDisposalWithNodeLiveUntilInfo(k,m,p,g,i,v.get(k.name))}return this.parent==null&&p.dispose(g),a.map(k=>Dr(k,m,p))})}getFrozenTensorIds(e){const a=[].concat.apply([],Object.keys(e).map(n=>e[n]).map(n=>n.map(r=>r.id)));return new Set(a)}checkTensorForDisposal(e,a,n,r,s,i,o){if(!(Lf(a)||i.has(e))){for(const c of n[e])c!=null&&(o[c.id]=(o[c.id]||0)+a.children.length);for(const c of a.inputs){if(Lf(c))continue;const l=YL(c.name,n,r);if(l!=null)for(const u of l){if(!u||u.kept||s.has(u.id))continue;const d=o[u.id];d===1?(u.dispose(),delete o[u.id]):d!=null&&o[u.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,a,n,r,s,i){function o(c){return Lf(c)||s.has(c.name)}if(!(Lf(e)||i==null))for(const c of i){if(o(c))continue;const l=YL(c.name,a,n);for(const u of l)!u||u.kept||r.has(u.id)||u.dispose()}}async executeAsync(e,a){return this._executeAsync(e,a)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const a of e)a&&!a.isDisposed&&a.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,a,n=!1,r={},s={}){this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),a=this.mapOutputs(a),this.checkOutputs(a));try{this.keepIntermediateTensors=Ce().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(p){this.keepIntermediateTensors=!1,console.warn(p.message)}const i=new aM(this.weightMap,r,s,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const o=await this.executeWithControlFlow(e,i,a,n),c=a.map(p=>Dr(p,o,i)),l=c.map(p=>p.id),u=Object.keys(e).map(p=>e[p].id),d=new Set([...l,...u,...this.weightIds]);return Object.values(o).forEach(p=>{p.forEach(m=>{m&&!m.isDisposed&&!d.has(m.id)&&m.dispose()})}),this.parent==null&&i.dispose(d),c}async executeFunctionAsync(e,a,n){const r=e.reduce((s,i,o)=>(s[this.inputs[o].name]=i,s),{});return this._executeAsync(r,this.outputNodes,!0,a,n)}async executeWithControlFlow(e,a,n,r){const s=Object.keys(e),i=s.map(A=>this.graph.nodes[Ws(A)[0]]),o=n.map(A=>Ws(A)[0]),c=new Set(o);let l=o.map(A=>this.graph.nodes[A]);l.length===0&&(l=this._outputs);const{usedNodes:u,missingInputs:d,dynamicNode:p,syncInputs:m}=nM(e,l,this.weightMap,this._initNodes),g=[...i,...this.graph.weights,...this._initNodes||[]].map(A=>({node:A,contexts:a.currentContext})),x=Object.assign({},this.weightMap);Object.keys(e).forEach(A=>{const[S,C]=Ws(A),E=[];E[C]=e[A],x[S]=E});const v={},k=this.getFrozenTensorIds(x),b={};for(;g.length>0;){const A=this.processStack(i,g,a,x,b,k,c,v,u);await Promise.all(A)}p==null&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const _=l.filter(A=>!Lf(A)&&!Dr(A.name,x,a)).map(A=>A.name);if(_.length>0){let A="";throw p!=null&&(A=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${m}]`),new Error(`Cannot compute the outputs [${_}] from the provided inputs [${s}]. Consider providing the following inputs: [${d}]. ${A}`)}return x}processStack(e,a,n,r,s,i,o,c,l){const u=[];for(;a.length>0;){const d=a.pop();n.currentContext=d.contexts;let p="";if(d.node.op==="Enter"&&O("isConstant",d.node,r,n)&&([p]=tl(d.node.name,n)),r[d.node.name]==null){const m=tM(d.node,r,n,this._resourceManager);p||([p]=tl(d.node.name,n));const g=n.currentContext;ud(m)?u.push(m.then(x=>(r[p]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[p]=this.cloneTensorList(x)),n.currentContext=g,this.checkTensorForDisposal(p,d.node,r,n,i,o,c),this.processChildNodes(d.node,a,n,r,s,l),x))):(r[p]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[p]=this.cloneTensorList(m)),this.checkTensorForDisposal(p,d.node,r,n,i,o,c),this.processChildNodes(d.node,a,n,r,s,l))}else this.processChildNodes(d.node,a,n,r,s,l)}return u}processChildNodes(e,a,n,r,s,i){e.children.forEach(o=>{const[c]=tl(o.name,n);s[c]||!i.has(o.name)||(o.op==="Merge"?o.inputNames.some(l=>!!Dr(l,r,n))&&(s[c]=!0,a.push({contexts:n.currentContext,node:o})):o.inputNames.every(l=>!!Dr(l,r,n))&&(s[c]=!0,a.push({contexts:n.currentContext,node:o})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(a=>a.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(a=>{const n=e[a],[r]=Ws(a),s=this.graph.nodes[r];if(s.attrParams.shape&&s.attrParams.shape.value){const i=s.attrParams.shape.value,o=i.length===n.shape.length&&n.shape.every((c,l)=>i[l]===-1||i[l]===c);K(o,()=>`The shape of dict['${s.name}'] provided in model.execute(dict) must be [${i}], but was [${n.shape}]`)}s.attrParams.dtype&&s.attrParams.dtype.value&&K(n.dtype===s.attrParams.dtype.value,()=>`The dtype of dict['${s.name}'] provided in model.execute(dict) must be ${s.attrParams.dtype.value}, but was ${n.dtype}`)})}mapInputs(e){var a,n;const r={};for(const s in e){const i=(n=(a=this._signature)===null||a===void 0?void 0:a.inputs)===null||n===void 0?void 0:n[s];i!=null?r[i.name]=e[s]:r[s]=e[s]}return r}checkInputs(e){const a=Object.keys(e).filter(n=>{const[r]=Ws(n);return this.graph.nodes[r]==null});if(a.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${a}] that are not part of graph`)}mapOutputs(e){return e.map(a=>{var n,r;const s=(r=(n=this._signature)===null||n===void 0?void 0:n.outputs)===null||r===void 0?void 0:r[a];return s!=null?s.name:a},{})}checkOutputs(e){e.forEach(a=>{const[n]=Ws(a);if(!this.graph.nodes[n])throw new Error(`The output '${a}' is not found in the graph`)})}}class bxe{constructor(e={},a={}){this.hashTableNameToHandle=e,this.hashTableMap=a}addHashTable(e,a){this.hashTableNameToHandle[e]=a.handle,this.hashTableMap[a.id]=a}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _xe="?tfjs-format=file",Axe="model.json";class Nxe{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,a={},n=uU){this.modelUrl=e,this.loadOptions=a,this.version="n/a",this.io=n,a==null&&(this.loadOptions={}),this.resourceManager=new bxe}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const a=this.io.getLoadHandlers(e,this.loadOptions);if(a.length===0)a.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(a.length>1)throw new Error(`Found more than one (${a.length}) load handlers for URL '${[e]}'`);this.handler=a[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return ud(e)?e.then(a=>a.getWeightStream==null?this.loadSync(a):this.loadStreaming(a)):this.loadSync(e)}loadSync(e){const a=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,a)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const a=await Fz(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,a)}loadWithWeightMap(e,a){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const s=this.artifacts.userDefinedMetadata;s.signature!=null&&(r=s.signature),s.structuredOutputKeys!=null&&(this.structuredOutputKeys=s.structuredOutputKeys)}if(this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`,this.executor=new yw(ZL.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const s=ZL.Instance.transformGraph(e.modelInitializer);this.initializer=new yw(s),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,a){if(typeof e=="string"){const n=this.io.getSaveHandlers(e);if(n.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(n.length>1)throw new Error(`Found more than one (${n.length}) save handlers for URL '${e}'`);e=n[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const a=e instanceof gn?[e]:e,n={};return a.forEach((r,s)=>n[this.structuredOutputKeys[s]]=r),n}return e}predict(e,a){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,a){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var a;if(!(e instanceof gn)&&!Array.isArray(e)){const s=(a=this.signature)===null||a===void 0?void 0:a.inputs;if(s!=null)for(const i in s){const o=s[i];o.resourceId!=null&&(e[i]=this.resourceIdToCapturedInput[o.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((s,i)=>{var o,c,l;const u=(l=(c=(o=this.signature)===null||o===void 0?void 0:o.inputs)===null||c===void 0?void 0:c[i])===null||l===void 0?void 0:l.resourceId;return u!=null?s[i]=this.resourceIdToCapturedInput[u]:s[i]=e[r++],s},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const a=this.initializerSignature.outputs,n=Object.keys(a);for(let r=0;r<n.length;r++){const s=n[r],i=a[s];this.resourceIdToCapturedInput[i.resourceId]=e[r]}}}execute(e,a){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),a=this.normalizeOutputs(a);const n=this.executor.execute(e,a);return n.length>1?n:n[0]}async executeAsync(e,a){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),a=this.normalizeOutputs(a);const n=await this.executor.executeAsync(e,a);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((a,n)=>(a[n]=[e[n]],a),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&da(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function Sxe(t,e={},a=uU){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=Txe(t));const n=new Nxe(t,e,a);return await n.load(),n}function Txe(t){return t.endsWith("/")||(t=t+"/"),`${t}${Axe}${_xe}`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var rM;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(rM||(rM={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vt(t,e){Array.isArray(t)||(t=[t]),t.forEach(a=>{a!=null&&K(a.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Exe=N3;class Q_ extends MC{nextDataId(){return Q_.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new iz(this,Ui())}write(e,a,n){this.firstUse&&(this.firstUse=!1,Ce().get("IS_NODE")&&ui(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,a,n){let r;if(a==="string"&&n!=null&&n.length>0&&Py(n[0])){const s=n.map(i=>hu(i));r=this.write(s,e,a)}else r=this.write(n,e,a);return{dataId:r,shape:e,dtype:a}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const a=this.data.get(e);a.refCount++}decRef(e){if(this.data.has(e)){const a=this.data.get(e);a.refCount--}}move(e,a,n,r,s){this.data.set(e,{values:a,dtype:r,refCount:s})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:a,complexTensorInfos:n}=this.data.get(e);if(a==="complex64"){const r=this.readSync(n.real.dataId),s=this.readSync(n.imag.dataId);return yl(r,s)}return Doe(this.data.get(e).values,a)}bufferSync(e){const a=this.readSync(e.dataId);if(e.dtype==="string")try{const n=a.map(r=>bu(r));return ra(e.shape,e.dtype,n)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return ra(e.shape,e.dtype,a)}makeOutput(e,a,n){return Ui().makeTensorFromTensorInfo(this.makeTensorInfo(a,n,e),this)}disposeData(e,a=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!a&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);n!=null&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const a=Ss();return e(),{kernelMs:Ss()-a}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){vt([e],"where");const a=this.readSync(e.dataId);return Exe(e.shape,a)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}Q_.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uW(t){const e=new Float32Array(t.length);for(let a=0;a<t.length;++a)e[a]=Math.abs(t[a]);return e}const Cxe=t=>{const{x:e}=t.inputs,a=t.backend;vt(e,"abs");let n=new Float32Array(Me(e.shape));const r=a.data.get(e.dataId).values;return n=uW(r),a.makeOutput(n,e.shape,e.dtype)},Ixe={kernelName:hb,backendName:"cpu",kernelFunc:Cxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gn(t){return(e,a,n,r,s)=>{const i=Xt(e,a),o=i.length,c=Dt(i),l=Me(i),u=$r(s,l),d=e.length,p=a.length,m=Dt(e),g=Dt(a),x=Up(e,i),v=Up(a,i);if(x.length+v.length===0)for(let k=0;k<u.length;++k)u[k]=t(n[k%n.length],r[k%r.length]);else for(let k=0;k<u.length;++k){const b=hm(k,o,c),_=b.slice(-d);x.forEach(E=>_[E]=0);const A=hc(_,d,m),S=b.slice(-p);v.forEach(E=>S[E]=0);const C=hc(S,p,g);u[k]=t(n[A],r[C])}return[u,i]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function js(t){const{inputs:e,backend:a}=t,{real:n,imag:r}=e,s=a.data.get(n.dataId).values,i=a.data.get(r.dataId).values,o=a.makeTensorInfo(n.shape,"complex64"),c=a.data.get(o.dataId);return c.complexTensorInfos={real:a.makeTensorInfo(n.shape,"float32",s),imag:a.makeTensorInfo(r.shape,"float32",i)},o}const Rxe={kernelName:qC,backendName:"cpu",kernelFunc:js};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vw(t,e,a="float32"){if(a==="complex64"){const r=vw(t,e,"float32"),s=vw(t,e,"float32");return js({inputs:{real:r,imag:s},backend:t})}const n=Kr(Me(e),a);return t.makeTensorInfo(e,a,n)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _c(t){const{inputs:e,backend:a}=t,{x:n}=e;return a.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}const Dxe={kernelName:e1,backendName:"cpu",kernelFunc:_c};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bd(t){const{inputs:e,backend:a}=t,{input:n}=e,r=a.data.get(n.dataId).complexTensorInfos.real,s=a.data.get(r.dataId).values;return a.makeTensorInfo(r.shape,r.dtype,s)}const Pxe={kernelName:SI,backendName:"cpu",kernelFunc:bd};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fW(t,e,a,n){if(n==="int32"){const r=Int32Array.from(t);return[e,"int32",r]}if(n==="bool"){const r=Gd([0],a),[s,i]=Gn((o,c)=>o!==c?1:0)(e,[],t,r,"bool");return[i,"bool",s]}throw new Error(`Error in Cast: failed to cast ${a} to ${n}`)}function Ru(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{dtype:s}=n;if(s==="complex64"){if(r.dtype==="complex64")return _c({inputs:{x:r},backend:a});const u=vw(a,r.shape,r.dtype),d=Ru({inputs:{x:r},backend:a,attrs:{dtype:"float32"}}),p=js({inputs:{real:d,imag:u},backend:a});return a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(d),p}if(r.dtype==="complex64"){const u=bd({inputs:{input:r},backend:a}),d=Ru({inputs:{x:u},backend:a,attrs:{dtype:s}});return a.disposeIntermediateTensorInfo(u),d}if(!cz(r.dtype,s)){const u=_c({inputs:{x:r},backend:a});return{dataId:u.dataId,shape:u.shape,dtype:s}}const i=a.data.get(r.dataId).values,[o,c,l]=fW(i,r.shape,r.dtype,s);return a.makeTensorInfo(o,c,l)}const Fxe={kernelName:Gy,backendName:"cpu",kernelFunc:Ru};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lr(t,e,a,n){return a==null?({inputs:r,backend:s})=>{const{a:i,b:o}=r,c=s;vt([i,o],t);const l=c.data.get(i.dataId).values,u=c.data.get(o.dataId).values,d=i.dtype==="string"?vl(l):l,p=i.dtype==="string"?vl(u):u,m=n||i.dtype,[g,x]=e(i.shape,o.shape,d,p,m);return c.makeTensorInfo(x,m,g)}:({inputs:r,backend:s})=>{const{a:i,b:o}=r,c=s;if(i.dtype==="complex64"||o.dtype==="complex64"){const l=Ru({inputs:{x:i},backend:c,attrs:{dtype:"complex64"}}),u=c.data.get(l.dataId),d=u.complexTensorInfos.real,p=u.complexTensorInfos.imag,m=c.data.get(d.dataId).values,g=c.data.get(p.dataId).values,x=Ru({inputs:{x:o},backend:c,attrs:{dtype:"complex64"}}),v=c.data.get(x.dataId),k=v.complexTensorInfos.real,b=v.complexTensorInfos.imag,_=c.data.get(k.dataId).values,A=c.data.get(b.dataId).values,[S,C,E]=a(i.shape,o.shape,m,g,_,A),R=c.makeTensorInfo(E,"float32",S),I=c.makeTensorInfo(E,"float32",C),P=js({inputs:{real:R,imag:I},backend:c});return c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(x),c.disposeIntermediateTensorInfo(R),c.disposeIntermediateTensorInfo(I),P}else{const l=c.data.get(i.dataId).values,u=c.data.get(o.dataId).values,d=n||i.dtype,[p,m]=e(i.shape,o.shape,l,u,d);return c.makeTensorInfo(m,d,p)}}}function CR(t){return(e,a,n,r,s,i)=>{const o=Xt(e,a),c=Me(o),l=o.length,u=Dt(o),d=$r("float32",c),p=$r("float32",c),m=Up(e,o),g=Up(a,o),x=yl(n,r),v=yl(s,i),k=e.length,b=Dt(e),_=a.length,A=Dt(a);if(m.length+g.length===0)for(let S=0;S<d.length;S++){const C=S%x.length,E=S%v.length,R=t(x[C*2],x[C*2+1],v[E*2],v[E*2+1]);d[S]=R.real,p[S]=R.imag}else for(let S=0;S<d.length;S++){const C=hm(S,l,u),E=C.slice(-k);m.forEach(B=>E[B]=0);const R=hc(E,k,b),I=C.slice(-_);g.forEach(B=>I[B]=0);const P=hc(I,_,A),D=t(x[R*2],x[R*2+1],v[P*2],v[P*2+1]);d[S]=D.real,p[S]=D.imag}return[d,p,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dW=Gn((t,e)=>t+e),Oxe=CR((t,e,a,n)=>({real:t+a,imag:e+n})),Hp=lr(pm,dW,Oxe),$xe={kernelName:pm,backendName:"cpu",kernelFunc:Hp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IR(t,e,a,n,r){const s=Me(n),i=Kr(r,a);for(let o=0;o<t.length;o++){const c=t[o];if(c<0)throw new Error("Input x must be non-negative!");c>=r||(s>0?i[c]+=e[o]:i[c]+=1)}return i}function hW(t,e,a,n=!1){const r=t.shape[0],s=t.shape[1],i=ra([r,a],e.dtype);for(let o=0;o<r;o++)for(let c=0;c<s;c++){const l=t.get(o,c);if(l<0)throw new Error("Input x must be non-negative!");l>=a||(n?i.set(1,o,l):e.size>0?i.set(i.get(o,l)+e.get(o,c),o,l):i.set(i.get(o,l)+1,o,l))}return i}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pW=Gn((t,e)=>t&e),Lxe=lr(wb,pW),Mxe={kernelName:wb,backendName:"cpu",kernelFunc:Lxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ic(t){return(e,a,n)=>{const r=Ln(a,e.length);for(let s=0;s<e.length;++s)r[s]=t(e[s],n);return r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qa(t,e,a){const n=Ic(e);return Zu(t,n,a)}function Zu(t,e,a){return({inputs:n,attrs:r,backend:s})=>{const{x:i}=n;vt(i,t);const o=s,c=o.data.get(i.dataId).values;let l;if(i.dtype==="string"){if(!Array.isArray(c))throw new Error("String tensor's value was not an instance of Array");l=vl(c)}else l=c;const u=a||i.dtype,d=e(l,u,r);return o.makeTensorInfo(i.shape,u,d)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mW=Ic(t=>Math.ceil(t)),Bxe=Zu(Uy,mW),zxe={kernelName:Uy,backendName:"cpu",kernelFunc:Bxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gW(t,e,a,n){const r=Ln(a,Me(e));if(n&&a!=="string"){let s=0;t.forEach(i=>{const o=Me(i.shape);r.set(i.vals,s),s+=o})}else{let s=0;t.forEach(i=>{const o=a==="string"?vl(i.vals):i.vals;let c=0;for(let l=0;l<i.shape[0];++l){const u=l*e[1]+s;for(let d=0;d<i.shape[1];++d)r[u+d]=o[c++]}s+=i.shape[1]})}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yW=Gn((t,e)=>t===e?1:0),vW=lr(Ib,yW,null,"bool"),Gxe={kernelName:Ib,backendName:"cpu",kernelFunc:vW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xW=Ic(t=>Math.exp(t)),kW=Zu(Xy,xW,"float32"),Uxe={kernelName:Xy,backendName:"cpu",kernelFunc:kW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wW=Ic(t=>Math.expm1(t)),Wxe=Zu(Yy,wW),Vxe={kernelName:Yy,backendName:"cpu",kernelFunc:Wxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bW=Ic(t=>Math.floor(t)),jxe=Zu(Zy,bW),Hxe={kernelName:Zy,backendName:"cpu",kernelFunc:jxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _W=Gn((t,e)=>Math.floor(t/e)),Kxe=lr(Jy,_W,null,"int32"),qxe={kernelName:Jy,backendName:"cpu",kernelFunc:Kxe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AW(t,e,a,n,r,s,i,o,c){const l=ra([n,s],a);for(let u=0;u<n;u++){const d=[];let p=0;for(let m=0;m<r;m++){const g=t[u*r+m];p+=g*i[m],d.push(g)}if(p<0||p>=c/s)throw new Error(`Invalid indices: ${d} does not index into ${o}`);for(let m=0;m<s;m++)l.values[u*s+m]=e.get(...e.indexToLoc(p*s+m))}return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NW(t,e,a){const n=ra(a,t.dtype);for(let r=0;r<n.size;++r){const i=n.indexToLoc(r).slice(),o=i[0],c=i[2],l=e.locToIndex([o,c]);i[2]=e.values[l];const u=t.locToIndex(i);0<=u&&u<t.values.length&&(n.values[r]=t.values[u])}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SW=Gn((t,e)=>t>e?1:0),Xxe=lr(Fb,SW,null,"bool"),Yxe={kernelName:Fb,backendName:"cpu",kernelFunc:Xxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TW=Gn((t,e)=>t>=e?1:0),Zxe=lr(Qy,TW,null,"bool"),Jxe={kernelName:Qy,backendName:"cpu",kernelFunc:Zxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EW=Gn((t,e)=>t<e?1:0),Qxe=lr($b,EW,null,"bool"),eke={kernelName:$b,backendName:"cpu",kernelFunc:Qxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CW=Gn((t,e)=>t<=e?1:0),tke=lr(Lb,CW,null,"bool"),ake={kernelName:Lb,backendName:"cpu",kernelFunc:tke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IW(t,e,a){const n=(e-t)/(a-1),r=Kr(a,"float32");r[0]=t;for(let s=1;s<r.length;s++)r[s]=r[s-1]+n;return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RW=Ic(t=>Math.log(t)),nke=Zu(r1,RW),rke={kernelName:r1,backendName:"cpu",kernelFunc:nke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DW(t,e,a,n){const r=$r(n,Me(a));for(let s=0;s<r.length;++s){const i=s*e;let o=t[i];for(let c=0;c<e;++c){const l=t[i+c];(Number.isNaN(l)||l>o)&&(o=l)}r[s]=o}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PW=Gn((t,e)=>Math.max(t,e)),ske=lr(i1,PW),ike={kernelName:i1,backendName:"cpu",kernelFunc:ske};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FW=Gn((t,e)=>Math.min(t,e)),oke=lr(o1,FW),cke={kernelName:o1,backendName:"cpu",kernelFunc:oke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RR=Gn((t,e)=>t*e),lke=CR((t,e,a,n)=>({real:t*a-e*n,imag:t*n+e*a})),e2=lr(l1,RR,lke),uke={kernelName:l1,backendName:"cpu",kernelFunc:e2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OW(t,e,a){const n=Uu(-1,a);return RR([],e,n,t,a)}function fke(t){const{inputs:e,backend:a}=t,{x:n}=e;vt(n,"neg");const r=a.data.get(n.dataId).values,[s,i]=OW(r,n.shape,n.dtype);return a.makeTensorInfo(i,n.dtype,s)}const dke={kernelName:qb,backendName:"cpu",kernelFunc:fke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $W=Gn((t,e)=>t!==e?1:0),hke=lr(Xb,$W,null,"bool"),pke={kernelName:Xb,backendName:"cpu",kernelFunc:hke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DR(t,e,a,n,r){const s=e.length,i=Me(e),o=Dt(e),c=Dt(r),l=$r(a,Me(r));for(let u=0;u<i;++u){const d=hm(u,s,o),p=new Array(d.length);for(let g=0;g<p.length;g++)p[g]=d[n[g]];const m=hc(p,s,c);l[m]=t[u]}return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fs(t){const{inputs:e,attrs:a,backend:n}=t,{x:r}=e,{perm:s}=a;vt(r,"transpose");const i=r.shape.length,o=new Array(i);for(let d=0;d<o.length;d++)o[d]=r.shape[s[d]];const c=n.data.get(r.dataId).values,l=DR(c,r.shape,r.dtype,s,o);return{dataId:n.write(l,o,r.dtype),shape:o,dtype:r.dtype}}const mke={kernelName:_p,backendName:"cpu",kernelFunc:Fs};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LW(t,e,a,n){const[r,s]=_r(t,n),i=qs(e,"int32"),o=Kr(Me(r),i),c=Me(s);for(let l=0;l<o.length;++l){const u=l*c;let d=1;for(let p=0;p<c;++p)d*=a[u+p];o[l]=d}return{outVals:o,outShape:r,outDtype:i}}function gke(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n;vt(r,"prod");const o=r.shape.length,c=pa(s,r.shape),l=kn(c,o);let u=c,d=r;const p=[];l!=null&&(d=Fs({inputs:{x:r},backend:a,attrs:{perm:l}}),p.push(d),u=Bn(u.length,o));const m=a.data.get(d.dataId).values,{outVals:g,outShape:x,outDtype:v}=LW(d.shape,d.dtype,m,u);let k=x;return i&&(k=Mn(x,c)),p.forEach(b=>a.disposeIntermediateTensorInfo(b)),a.makeTensorInfo(k,v,g)}const yke={kernelName:t_,backendName:"cpu",kernelFunc:gke};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vke(t,e,a){t.forEach((n,r)=>{if(n<0||n>=a){const s=hm(r,e.length,Dt(e)).join(",");throw new Error(`indices[${s}] = ${n} is not in [0, ${a})`)}})}function xke(t,e){for(let a=0;a<t.length;++a){const n=t[a],r=a===t.length-1?e:t[a+1].length;if(n.length===0)throw new Error("Ragged splits may not be empty");if(n[0]<0)throw new Error("Ragged splits must be non-negative");if(n[n.length-1]>r)throw new Error("Ragged splits must not point past values");for(let s=1;s<n.length;++s)if(n[s-1]>n[s])throw new Error("Ragged splits must be sorted in ascending order")}}function kke(t,e,a,n){const r=[];let s=0;const i=e.length-1+a.length,o=new Array(i).fill(null).map(()=>[0]);xke(a,n);let c=1;for(let l=0;l<e.length-1;++l){c*=e[l];const u=e[l+1];for(let d=1;d<c+1;++d)o[l].push(d*u)}for(let l=0;l<t.length;++l){let u=t[l],d=t[l]+1;for(let p=0;p<a.length;++p){const m=a[p],g=p+e.length-1;if(g>=0){const x=o[g],v=x[x.length-1]-m[u];for(let k=u;k<d;++k)o[g].push(m[k+1]+v)}u=m[u],d=m[d]}d!==u&&(r.push([u,d]),s+=d-u)}return{outSplits:o,valueSlices:r,numValues:s}}function wke(t){const e=[];for(let a=0;a<t.length;++a){const n=t[a].length,r=Ln("int32",n);e.push(r),t[a].forEach((s,i)=>r[i]=s)}return e}function sM(t,e){const a=t.slice(0,e);for(;a.length<e;)a.push(1);for(let n=e;n<t.length;n++)a[e-1]*=t[n];return a}function bke(t,e,a,n,r,s){const i=sM(e,2)[1],o=sM(s,2)[1];let c=0;for(const l of a)for(let u=l[0];u<l[1];++u){for(let d=0;d<n;++d)r[c*o+d]=t[u*i+d];++c}}function _ke(t,e,a,n,r){const s=e.slice();s[0]=r;const i=Ln(a,Me(s)),o=t.length,c=o===0?0:o/e[0];return bke(t,e,n,c,i,s),[i,s]}function MW(t,e,a,n,r,s,i,o){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const c=e[0][0]-1;if(vke(s,i,c),n.length===0)throw new Error("params.rank must be nonzero");const l=n[0],{outSplits:u,valueSlices:d,numValues:p}=kke(s,i,t,l),m=wke(u),g=_ke(a,n,r,d,p);return[m,g[0],g[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iM=2147483647;function BW(t,e,a,n,r,s,i){if(e.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");const o=e.length===0,c=r.length===0,l=i.length===0,u=[];o||u.push(e[0]),c||u.push(r[0]),l||u.push(i[0]);for(let v=1;v<u.length;++v)if(u[v]!==u[v-1])throw new Error("starts, limits, and deltas must have the same shape");const d=u.length===0?1:u[0],p=Ln("int32",d+1);p[0]=0;for(let v=0;v<d;++v){const k=o?t[0]:t[v],b=c?n[0]:n[v],_=l?s[0]:s[v];if(_===0)throw new Error("Requires delta != 0");let A;if(_>0&&b<k||_<0&&b>k)A=0;else if(A=Math.ceil(Math.abs((b-k)/_)),A>iM)throw new Error(`Requires ((limit - start) / delta) <= ${iM}`);p[v+1]=p[v]+A}const m=p[d],g=Ln(a,m);let x=0;for(let v=0;v<d;++v){const k=p[v+1]-p[v];let b=o?t[0]:t[v];const _=l?s[0]:s[v];for(let A=0;A<k;++A)g[x++]=b,b+=_}return[p,g]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var $i=bo;class xw{constructor(e,a,n,r,s,i,o,c,l,u){this.shape=e,this.shapeShape=a,this.values=n,this.valuesShape=r,this.valuesDType=s,this.defaultValue=i,this.defaultValueShape=o,this.rowPartitionValues=c,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=wU(u),this.raggedRank=bU(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===$i.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===$i.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const a=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case $i.VALUE_ROWIDS:return xw.getMaxWidthValueRowID(a);case $i.ROW_SPLITS:return xw.getMaxWidthRowSplit(a);default:throw new Error(`Cannot handle partition type ${$i[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const a=e.length;if(a===0||a===1)return 0;let n=0;for(let r=0;r<a-1;++r){const s=e[r+1]-e[r];s>n&&(n=s)}return n}static getMaxWidthValueRowID(e){const a=e.length;if(a===0)return 0;let n=0,r=e[0],s=0;for(let i=1;i<a;++i){const o=e[i];o!==r&&(r=o,s=Math.max(i-n,s),n=i)}return Math.max(a-n,s)}tensorShapeFromTensor(e,a,n=!0){if(a.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return cM(e,n)}calculateOutputSize(e){const a=this.valuesShape,n=this.defaultValueShape;_U(n,a);const r=this.tensorShapeFromTensor(this.shape,this.shapeShape),i=kU(this.raggedRank,r,a);i[0]<0&&(i[0]=e);for(let o=1;o<=this.raggedRank;++o)i[o]<0&&(i[o]=this.getMaxWidth(o));return i}calculateFirstParentOutputIndex(e,a,n){const r=Math.min(e,n),s=[];let i=0;for(let o=0;o<r;++o,i+=a)s.push(i);for(let o=r;o<e;++o)s.push(-1);return K(s.length===e,()=>"Final length of result must be equal to firstDimension."),s}calculateOutputIndexRowSplit(e,a,n,r){const s=e.length,i=[];for(let o=0;o<s-1;++o){const c=e[o+1]-e[o];let l=Math.min(r,c),u=a[o];u===-1&&(l=0);for(let d=0;d<l;++d)i.push(u),u+=n;for(let d=0;d<c-l;++d)i.push(-1)}if(s>0&&i.length!==e[s-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,a,n,r){const s=e.length,i=[];if(s===0)return[];let o=0,c=e[0];if(c>=a.length)throw new Error(`Got currentValueRowId=${c}, which is not less than ${a.length}`);let l=a[c];i.push(l);for(let u=1;u<s;++u){const d=e[u];if(d===c)l>=0&&(++o,o<r?l+=n:l=-1);else{if(o=0,c=d,d>=a.length)throw new Error(`Got nextValueRowId=${d} which is not less than ${a.length}`);l=a[d]}i.push(l)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,a,n,r){const s=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case $i.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(s,a,n,r);case $i.ROW_SPLITS:if(s.length-1>a.length)throw new Error(`Row partition size is greater than output size: ${s.length-1} > ${a.length}`);return this.calculateOutputIndexRowSplit(s,a,n,r);default:throw new Error(`Unsupported partition type: ${$i[i]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const a=this.rowPartitionTypes[0];switch(a){case $i.FIRST_DIM_SIZE:return e[0];case $i.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case $i.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${$i[a]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const a=this.getFirstDimensionSize(),n=this.calculateOutputSize(a),r=new Array(this.raggedRank+1);r[r.length-1]=1;for(let c=r.length-2;c>=0;--c)r[c]=r[c+1]*n[c+1];const s=cM(n,!1),i=Ln(this.valuesDType,Me(s));if(r[0]*n[0]>0){let c=this.calculateFirstParentOutputIndex(a,r[0],n[0]);for(let l=1;l<=this.raggedRank;++l)c=this.calculateOutputIndex(l-1,c,r[l],n[l]);this.setOutput(this.raggedRank,c,i,s)}return[s,i]}setOutput(e,a,n,r){if(n.length===0)return;const s=this.values,i=n;let o=r.slice();o=o.slice(e+1);const c=Me(o),l=a.length;let u=this.defaultValue;if(u.length!==c&&u.length!==1){const g=this.defaultValueShape;Ne(()=>{const x=ve(u,g);u=Sp(x,o).dataSync()})}let d=0,p=0,m=0;for(let g=0;g<=l;++g){let x=g<l?a[g]:-1;if(x===m){++m;continue}if(p<m){const v=s.subarray(d*c),k=i.subarray(p*c),b=(m-p)*c;oM(k,v,b)}if(g>=l){const v=n.length;x=Math.floor(v/c)}if(x>m)if(this.defaultValue.length===1)i.subarray(m*c,x*c).fill(this.defaultValue[0]),m=x;else for(;x>m;){const v=i.slice(m*c);oM(v,u,c),++m}x<0?(d=g+1,p=m):(d=g,p=m,m=p+1)}}}function oM(t,e,a){for(let n=0;n<a;n++)t[n]=e[n]}function cM(t,e){const a=[];for(let n of t){if(n<0){if(!e)throw new Error(`Dimension ${n} must be >= 0`);if(n<-1)throw new Error(`Dimension ${n} must be >= -1`);n=-1}a.push(n)}return a}function zW(t,e,a,n,r,s,i,o,c,l){return new xw(t,e,a,n,r,s,i,o,c,l).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GW(t,e,a,n){const r=t===e,s=t<e&&a<0,i=e<t&&a>1;if(r||s||i)return Kr(0,n);const o=Math.abs(Math.ceil((e-t)/a)),c=Kr(o,n);e<t&&a===1&&(a=-1),c[0]=t;for(let l=1;l<c.length;l++)c[l]=c[l-1]+a;return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UW=Ic(t=>1/Math.sqrt(t)),Ake=Zu(m1,UW),Nke={kernelName:m1,backendName:"cpu",kernelFunc:Ake};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hf(t,e,a,n,r,s,i,o,c,l){const u=[n/r,r],d=t.values,p=e.values;if(n===0)return ra(a,e.dtype);const m=c instanceof rr?c:ra(u,e.dtype);typeof c=="string"||typeof c=="number"?m.values.fill(c):typeof c=="boolean"&&m.values.fill(+c);for(let g=0;g<s;g++){const x=[];let v=0;for(let k=0;k<i;k++){const b=d[g*i+k];x.push(b),v+=b*o[k]}if(v<0||v>=n/r)throw new Error(`Invalid indices: ${x} does not index into ${a}`);for(let k=0;k<r;k++)l?m.values[v*r+k]+=p[g*r+k]:m.values[v*r+k]=e.rank===0?p[0]:p[g*r+k]}return m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ske=Ic(t=>1/(1+Math.exp(-t))),WW=qa(k1,t=>1/(1+Math.exp(-t))),Tke={kernelName:k1,backendName:"cpu",kernelFunc:WW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VW(t,e,a,n,r){const s=M3(n,e,a),i=Me(a),o=Dt(n);if(s){const d=B3(e,o);return r==="string"?t.slice(d,d+i):t.subarray(d,d+i)}const c=r==="string"?vl(t):t,l=ra(n,r,c),u=ra(a,r);for(let d=0;d<u.size;++d){const p=u.indexToLoc(d),m=p.map((g,x)=>g+e[x]);u.set(l.get(...m),...p)}return r==="string"?WU(u.values):u.values}function _d(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{begin:s,size:i}=n;vt(r,"slice");const[o,c]=B_(r,s,i);$3(r,o,c);const l=a.data.get(r.dataId).values,u=VW(l,o,c,r.shape,r.dtype);return a.makeTensorInfo(c,r.dtype,u)}const Eke={kernelName:o_,backendName:"cpu",kernelFunc:_d};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jW(t,e,a,n,r,s,i){const o=e[0],c=s[0],l=new Array(c),u=new Array(o),d=e[1];if(c===0){if(o!==0)throw new Error(IU(o));const v=Ln(a,0),k=Ln(r,0);return[v,[0,d],k,l,u]}let p=!0,m=0;const g=new Array(c).fill(0);for(let v=0;v<o;++v){const k=t[v*d];if(k<0)throw new Error(RU(v,k));if(k>=c)throw new Error(DU(v,k,c));++g[k],p=p&&k>=m,m=k}let x=!0;for(let v=0;v<c;++v){const k=g[v]===0;l[v]=k,x=x&&!k,g[v]=Math.max(g[v],1),v>0&&(g[v]+=g[v-1])}if(x&&p){const v=t,k=n;for(let b=0;b<o;++b)u[b]=b;return[v,[o,d],k,l,u]}else{const v=g[c-1],k=Ln(a,v*d),b=Ln(r,v),_=new Array(c).fill(0);for(let A=0;A<o;++A){const S=t[A*d],C=_[S],E=(S===0?0:g[S-1])+C;_[S]++;for(let R=0;R<d;++R)k[E*d+R]=t[A*d+R];b[E]=n[A],u[A]=E}for(let A=0;A<c;++A)if(_[A]===0){const C=A===0?0:g[A-1];k[C*d+0]=A;for(let E=1;E<d;++E)k[C*d+E]=0;b[C]=i}return[k,[v,d],b,l,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HW(t,e,a,n,r){const s=Me(n),i=e[0],o=r.length,c=[];let l=1,u=-1;for(let v=0;v<o;++v){const k=r[v];if(k===-1){if(u!==-1)throw new Error(PU(u,v));u=v,c.push(1)}else{if(k<0)throw new Error(FU(v,k));l*=k,c.push(k)}}if(u!==-1){if(l<=0)throw new Error(OU());const v=Math.trunc(s/l);if(l*v!==s)throw new Error($U(n,c));c[u]=v}if(Me(c)!==s)throw new Error(LU(n,c));const p=n.length,m=[];if(p>0){m[p-1]=1;for(let v=p-2;v>=0;--v)m[v]=m[v+1]*n[v+1]}const g=[];if(o>0){g[o-1]=1;for(let v=o-2;v>=0;--v)g[v]=g[v+1]*c[v+1]}const x=Ln(a,i*o);for(let v=0;v<i;++v){let k=0;for(let b=0;b<p;++b)k+=t[v*p+b]*m[b];for(let b=0;b<o;++b)x[v*o+b]=Math.trunc(k/g[b]),k%=g[b]}return[x,[i,o],c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PR(t,e,a,n,r,s=!1,i=0){const o=n.length,c=[e[0],t.length/e[0]],l=c[1],d=o>0?r[o-1]+1:0;if(d<0)throw new Error(nE());const p=e.slice();p[0]=d;const m=p.reduce((_,A)=>_*A,1),g=Ln(a,m);if(o===0)return d>0&&g.fill(i),[g,p];if(d<=0)throw new Error(nE());let x=0,v=1,k=0,b=r[x];for(;;){let _=0;if(v<o){if(_=r[v],b===_){++v;continue}if(b>=_)throw new Error(MU())}if(b<0||b>=d)throw new Error(BU(b,d));b>k&&g.fill(i,k*l,b*l);for(let A=x;A<v;++A){const S=n[A];if(S<0||S>=c[0])throw new Error(zU(A,n[A],c[0]));for(let C=0;C<l;C++)g[b*l+C]+=t[S*l+C]}if(s)for(let A=0;A<l;A++)g[b*l+A]/=v-x;if(x=v,++v,k=b+1,b=_,v>o)break}return k<d&&g.fill(i,k*l,d*l),[g,p]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cke=Ic(t=>Math.sqrt(t)),Ike=qa(b1,t=>Math.sqrt(t)),Rke={kernelName:b1,backendName:"cpu",kernelFunc:Ike};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KW=Gn((t,e)=>{const a=t-e;return a*a}),Dke=lr(_1,KW),Pke={kernelName:_1,backendName:"cpu",kernelFunc:Dke};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qW=Ic((t,e)=>{const{pattern:a,replaceGlobal:n,rewrite:r}=e;return t.replace(new RegExp(a,n?"g":""),r)}),Fke=Zu(d_,qW),Oke={kernelName:d_,backendName:"cpu",kernelFunc:Fke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XW(t,e,a,n){const r=ra(t,e.dtype);for(let s=0;s<r.size;s++){const i=r.indexToLoc(s),o=new Array(i.length);for(let c=0;c<o.length;c++)o[c]=i[c]*a[c]+n[c];r.set(e.get(...o),...i)}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $ke{constructor(e,a,n,r,s,i){this.separator=hu(e),this.nGramWidths=a,this.leftPad=hu(n),this.rightPad=hu(r),this.padWidth=s,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,a){const n=this.getPadWidth(a);return Math.max(0,e+2*n-a+1)}createNGrams(e,a,n,r,s,i){for(let o=0;o<s;++o){const c=this.getPadWidth(i),l=Math.max(0,c-o),u=Math.max(0,c-(s-(o+1))),d=i-(l+u),p=a+(l>0?0:o-c);let m=0;m+=l*this.leftPad.length;for(let b=0;b<d;++b)m+=e[p+b].length;m+=u*this.rightPad.length;const g=l+u+d-1;m+=g*this.separator.length,n[r+o]=new Uint8Array(m);const x=n[r+o];let v=0;const k=b=>b.forEach(_=>x[v++]=_);for(let b=0;b<l;++b)k(this.leftPad),k(this.separator);for(let b=0;b<d-1;++b)k(e[p+b]),k(this.separator);if(d>0){k(e[p+d-1]);for(let b=0;b<u;++b)k(this.separator),k(this.rightPad)}else{for(let b=0;b<u-1;++b)k(this.rightPad),k(this.separator);k(this.rightPad)}}}compute(e,a){const n=e.length,r=a.length;if(r>0){let c=a[0];if(c!==0)throw new Error(`First split value must be 0, got ${c}`);for(let l=1;l<r;++l){let u=a[l]>=c;if(u=u&&a[l]<=n,!u)throw new Error(`Invalid split value ${a[l]}, must be in [${c}, ${n}]`);c=a[l]}if(c!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${c}`)}const s=r-1,i=Ln("int32",r);if(n===0||r===0){const c=new Array(n);for(let l=0;l<=s;++l)i[l]=0;return[c,i]}i[0]=0;for(let c=1;c<=s;++c){const l=a[c]-a[c-1];let u=0;this.nGramWidths.forEach(d=>{u+=this.getNumNGrams(l,d)}),this.preserveShort&&l>0&&u===0&&(u=1),i[c]=i[c-1]+u}const o=new Array(i[s]);for(let c=0;c<s;++c){const l=a[c];let u=i[c];if(this.nGramWidths.forEach(d=>{const p=a[c+1]-a[c],m=this.getNumNGrams(p,d);this.createNGrams(e,l,o,u,m,d),u+=m}),this.preserveShort&&u===i[c]){const d=a[c+1]-a[c];if(d===0)continue;const p=d+2*this.padWidth;this.createNGrams(e,l,o,u,1,p)}}return[o,i]}}function YW(t,e,a,n,r,s,i,o){return new $ke(a,n,r,s,i,o).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lke(t,e,a,n){if(!t.length)return;if(e.length===0){for(let s=0;s<t.length;++s)n.push(t.subarray(s,s+1));return}if(e.length===1){const s=e[0];let i=t.indexOf(s);for(;i!==-1;){const o=t.subarray(0,i);(!a||o.length!==0)&&n.push(o),t=t.subarray(i+1),i=t.indexOf(s)}(!a||t.length!==0)&&n.push(t);return}let r=0;for(let s=0;s<t.length+1;s++)if(s===t.length||e.indexOf(t[s])!==-1){const i=t.subarray(r,s);(!a||i.length!==0)&&n.push(i),r=s+1}}function ZW(t,e,a){const n=t.length,r=[];let s=0,i=0;const o=new Array(n);for(let p=0;p<n;++p){const m=r.length;Lke(t[p],e,a,r);const g=r.length-m;o[p]=g,s+=g,i=Math.max(i,g)}const c=Ln("int32",s*2),l=new Array(s),u=[n,i];let d=0;for(let p=0;p<n;++p)for(let m=0;m<o[p];++m)c[d*2]=p,c[d*2+1]=m,l[d]=r[d],++d;return[c,l,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JW(t,e){const a=Ln("int32",t.length);for(let n=0;n<t.length;++n)a[n]=Yoe(t[n]).modulo(e).getLowBitsUnsigned();return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QW=Gn((t,e)=>t-e),Mke=CR((t,e,a,n)=>({real:t-a,imag:e-n})),FR=lr(A1,QW,Mke),Bke={kernelName:A1,backendName:"cpu",kernelFunc:FR};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eV(t,e){const a=new Array(t.rank);for(let r=0;r<a.length;r++)a[r]=t.shape[r]*e[r];const n=ra(a,t.dtype);for(let r=0;r<n.values.length;++r){const s=n.indexToLoc(r),i=new Array(t.rank);for(let c=0;c<i.length;c++)i[c]=s[c]%t.shape[c];const o=t.locToIndex(i);n.values[r]=t.values[o]}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q0=(t,e)=>{const a=e.value-t.value;return a===0?t.index-e.index:a};function tV(t,e,a=0,n=t.length-1){for(;n>a;){if(n-a>600){const o=n-a+1,c=e-a+1,l=Math.log(o),u=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*u*(o-u)/o)*Math.sign(c-o/2),p=Math.max(a,Math.floor(e-c*u/o+d)),m=Math.min(n,Math.floor(e+(o-c)*u/o+d));tV(t,e,p,m)}const r=t[e];let s=a,i=n;for(fp(t,a,e),q0(t[n],r)>0&&fp(t,a,n);s<i;){for(fp(t,s,i),s++,i--;q0(t[s],r)<0;)s=s+1;for(;q0(t[i],r)>0;)i=i-1}q0(t[a],r)===0?fp(t,a,i):(i=i+1,fp(t,i,n)),i<=e&&(a=i+1),e<=i&&(n=i-1)}}function aV(t,e,a,n,r){const s=e[e.length-1],[i,o]=[t.length/s,s],c=$r(a,i*n),l=$r("int32",i*n);for(let d=0;d<i;d++){const p=d*o,m=t.subarray(p,p+o);let g=new Array(m.length);m.forEach((b,_)=>g[_]={value:b,index:_}),n<g.length&&(tV(g,n),g=g.slice(0,n)),r&&g.sort(q0);const x=d*n,v=c.subarray(x,x+n),k=l.subarray(x,x+n);for(let b=0;b<n;b++)v[b]=g[b].value,k[b]=g[b].index}const u=e.slice();return u[u.length-1]=n,[ra(u,a,c),ra(u,"int32",l)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nV(t,e,a,n){const r=pa(e,a)[0],s=[1,a[0],1];for(let g=0;g<r;g++)s[0]*=a[g];s[1]=a[r];for(let g=r+1;g<a.length;g++)s[2]*=a[g];const i=new Map,o=new Int32Array(a[r]),c=new rr(s,n,t),l=[],u=s[0]===1&&s[2]===1;for(let g=0;g<a[r];g++){let x;if(u)x=t[g].toString();else{const k=[];for(let b=0;b<s[0];b++)for(let _=0;_<s[2];_++)k.push(c.get(b,g,_));x=k.join(",")}const v=i.get(x);if(v!=null)o[g]=v;else{const k=i.size;i.set(x,k),o[g]=k,l.push(g)}}const d=s.slice();d[1]=i.size;const p=new rr(d,n);l.forEach((g,x)=>{for(let v=0;v<s[0];v++)for(let k=0;k<s[2];k++)p.set(c.get(v,g,k),v,x,k)});const m=a.slice();return m[r]=d[1],{outputValues:p.values,outputShape:m,indices:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zke=Object.freeze(Object.defineProperty({__proto__:null,addImpl:dW,bincountImpl:IR,bincountReduceImpl:hW,bitwiseAndImpl:pW,castImpl:fW,ceilImpl:mW,concatImpl:gW,equalImpl:yW,expImpl:xW,expm1Impl:wW,floorDivImpl:_W,floorImpl:bW,gatherNdImpl:AW,gatherV2Impl:NW,greaterEqualImpl:TW,greaterImpl:SW,lessEqualImpl:CW,lessImpl:EW,linSpaceImpl:IW,logImpl:RW,maxImpl:DW,maximumImpl:PW,minimumImpl:FW,multiplyImpl:RR,negImpl:OW,notEqualImpl:$W,prodImpl:LW,raggedGatherImpl:MW,raggedRangeImpl:BW,raggedTensorToTensorImpl:zW,rangeImpl:GW,rsqrtImpl:UW,scatterImpl:Hf,sigmoidImpl:Ske,simpleAbsImpl:uW,sliceImpl:VW,sparseFillEmptyRowsImpl:jW,sparseReshapeImpl:HW,sparseSegmentReductionImpl:PR,sqrtImpl:Cke,squaredDifferenceImpl:KW,staticRegexReplaceImpl:qW,stridedSliceImpl:XW,stringNGramsImpl:YW,stringSplitImpl:ZW,stringToHashBucketFastImpl:JW,subImpl:QW,tileImpl:eV,topKImpl:aV,transposeImpl:DR,uniqueImpl:nV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Iz("cpu",()=>new Q_,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rV=qa(Ky,t=>t>=0?t:Math.exp(t)-1),Gke={kernelName:Ky,backendName:"cpu",kernelFunc:rV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sV(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{alpha:s}=n;vt([r],"leakyRelu");const i=Me(r.shape),o=a.data.get(r.dataId).values,c=$r("float32",i);for(let l=0;l<o.length;l++)c[l]=o[l]<0?s*o[l]:o[l];return a.makeTensorInfo(r.shape,"float32",c)}const Uke={kernelName:Ob,backendName:"cpu",kernelFunc:sV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wke=Gn((t,e)=>t<0?e*t:t);function iV(t){const{inputs:e,backend:a}=t,{x:n,alpha:r}=e;vt([n,r],"prelu");const s=a.data.get(n.dataId).values,i=a.data.get(r.dataId).values,[o,c]=Wke(n.shape,r.shape,s,i,"float32");return a.makeTensorInfo(c,"float32",o)}const Vke={kernelName:e_,backendName:"cpu",kernelFunc:iV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oV=qa(d1,t=>Math.max(0,t)),jke={kernelName:d1,backendName:"cpu",kernelFunc:oV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cV=qa(h1,t=>Math.min(Math.max(0,t),6)),Hke={kernelName:h1,backendName:"cpu",kernelFunc:cV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kw(t,e,a,n,r){if(a==="linear")return _c({inputs:{x:e},backend:t});if(a==="relu")return oV({inputs:{x:e},backend:t});if(a==="elu")return rV({inputs:{x:e},backend:t});if(a==="relu6")return cV({inputs:{x:e},backend:t});if(a==="prelu")return iV({inputs:{x:e,alpha:n},backend:t});if(a==="leakyrelu")return sV({inputs:{x:e},backend:t,attrs:{alpha:r}});if(a==="sigmoid")return WW({inputs:{x:e},backend:t});throw new Error(`Activation ${a} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function on(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{shape:s}=n,i=Me(r.shape),o=oz(s,i),c=Me(o);K(i===c,()=>`The new shape (${o}) has ${c} elements and the old shape (${r.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`),a.incRef(r.dataId);const l=a.data.get(r.dataId);if(l.complexTensorInfos!=null){const u=l.complexTensorInfos.real,d=l.complexTensorInfos.imag;u.shape=o,d.shape=o}return{dataId:r.dataId,shape:o,dtype:r.dtype}}const Kke={kernelName:a_,backendName:"cpu",kernelFunc:on};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lV(t){const{inputs:e,backend:a,attrs:n}=t,{a:r,b:s}=e,{transposeA:i,transposeB:o}=n;vt([r,s],"matMul");const c=r.shape.length,l=s.shape.length,u=i?r.shape[c-2]:r.shape[c-1],d=o?s.shape[l-1]:s.shape[l-2],p=i?r.shape[c-1]:r.shape[c-2],m=o?s.shape[l-2]:s.shape[l-1],g=r.shape.slice(0,-2),x=s.shape.slice(0,-2),v=Me(g),k=Me(x),_=Xt(r.shape.slice(0,-2),s.shape.slice(0,-2)).concat([p,m]);K(u===d,()=>`Error in matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${r.shape} and ${s.shape} and transposeA=${i} and transposeB=${o} must match.`);const A=i?[v,u,p]:[v,p,u],S=o?[k,m,d]:[k,d,m],C=on({inputs:{x:r},backend:a,attrs:{shape:A}}),E=on({inputs:{x:s},backend:a,attrs:{shape:S}}),R=i?C.shape[1]:C.shape[2],I=i?C.shape[2]:C.shape[1],P=o?E.shape[1]:E.shape[2],D=Math.max(v,k),B=a.data.get(C.dataId).values,U=a.data.get(E.dataId).values,V=Dt(C.shape),j=Dt(E.shape),[W,Q,q]=i?[V[0],1,V[1]]:[V[0],V[1],1],[Z,M,se]=o?[1,j[1],j[0]]:[j[1],1,j[0]],ue=I*P,le=ra([D,I,P],C.dtype),ie=le.values,ye=a.blockSize;for(let ke=0;ke<D;ke++){const ge=ke%v,G=ke%k;for(let te=0;te<I;te+=ye){const ee=Math.min(te+ye,I);for(let ne=0;ne<P;ne+=ye){const be=Math.min(ne+ye,P);for(let Y=0;Y<R;Y+=ye){const Ae=Math.min(Y+ye,R);for(let Oe=te;Oe<ee;Oe++)for(let $e=ne;$e<be;$e++){let He=0;for(let Ve=Y;Ve<Ae;Ve++){const tt=B[ge*W+Oe*Q+Ve*q],lt=U[Ve*Z+$e*M+G*se];He+=tt*lt}ie[ke*ue+(Oe*P+$e)]+=He}}}}}return a.disposeIntermediateTensorInfo(C),a.disposeIntermediateTensorInfo(E),a.makeTensorInfo(_,le.dtype,le.values)}const qke={kernelName:xb,backendName:"cpu",kernelFunc:lV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xke(t){const{inputs:e,backend:a,attrs:n}=t,{a:r,b:s,bias:i,preluActivationWeights:o}=e,{transposeA:c,transposeB:l,activation:u,leakyreluAlpha:d}=n;let p,m,g;const x=[];p=lV({inputs:{a:r,b:s},attrs:{transposeA:c,transposeB:l},backend:a}),i&&(m=Hp({inputs:{a:p,b:i},backend:a}),x.push(p),p=m),u&&(g=kw(a,p,u,o,d),x.push(p),p=g);for(const k of x)a.disposeIntermediateTensorInfo(k);return p}const Yke={kernelName:Qk,backendName:"cpu",kernelFunc:Xke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zke=qa(Fy,t=>Math.acos(t)),Jke={kernelName:Fy,backendName:"cpu",kernelFunc:Zke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qke=qa(Oy,t=>Math.acosh(t)),ewe={kernelName:Oy,backendName:"cpu",kernelFunc:Qke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function twe(t){const{inputs:e,backend:a}=t,n=e;vt(e,"addN");const r=n.map(o=>a.data.get(o.dataId).values),s=ra(n[0].shape,n[0].dtype),i=s.values;for(let o=0;o<n.length;o++){const c=r[o];for(let l=0;l<i.length;l++)i[l]+=c[l]}return a.makeTensorInfo(s.shape,s.dtype,s.values)}const awe={kernelName:pb,backendName:"cpu",kernelFunc:twe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nwe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n;vt(r,"all");const o=pa(s,r.shape);let c=o;const l=kn(c,r.shape.length);let u=r;l!=null&&(u=Fs({inputs:{x:r},backend:a,attrs:{perm:l}}),c=Bn(c.length,r.shape.length)),Br("all",c,u.shape.length);const[d,p]=_r(u.shape,c),m=Me(p),g=Kr(Me(d),u.dtype),x=a.data.get(u.dataId).values;for(let k=0;k<g.length;++k){const b=k*m;let _=x[b];for(let A=0;A<m;++A){const S=x[b+A];_=_&&S}g[k]=_}l!=null&&a.disposeIntermediateTensorInfo(u);const v=a.makeTensorInfo(d,u.dtype,g);if(i){const k=Mn(d,o),b=on({inputs:{x:v},backend:a,attrs:{shape:k}});return a.disposeIntermediateTensorInfo(v),b}return v}const rwe={kernelName:UC,backendName:"cpu",kernelFunc:nwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function swe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n;vt(r,"any");const o=pa(s,r.shape);let c=o;const l=kn(c,r.shape.length);let u=r;l!=null&&(u=Fs({inputs:{x:r},backend:a,attrs:{perm:l}}),c=Bn(c.length,r.shape.length)),Br("any",c,u.shape.length);const[d,p]=_r(u.shape,c),m=Me(p),g=Kr(Me(d),u.dtype),x=a.data.get(u.dataId).values;for(let k=0;k<g.length;++k){const b=k*m;let _=x[b];for(let A=0;A<m;++A){const S=x[b+A];_=_||S}g[k]=_}l!=null&&a.disposeIntermediateTensorInfo(u);const v=a.makeTensorInfo(d,u.dtype,g);if(i){const k=Mn(d,o),b=on({inputs:{x:v},backend:a,attrs:{shape:k}});return a.disposeIntermediateTensorInfo(v),b}return v}const iwe={kernelName:WC,backendName:"cpu",kernelFunc:swe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function owe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s}=n;vt(r,"argMax");let i=pa(s,r.shape);const o=kn(i,r.shape.length);let c=r;const l=[];o!=null&&(c=Fs({inputs:{x:r},backend:a,attrs:{perm:o}}),l.push(c),i=Bn(i.length,c.shape.length)),i=[i[0]],Br("argMax",i,c.shape.length);const[u,d]=_r(c.shape,i),p=Me(u),m=Kr(p,"int32"),g=Me(d),x=a.data.get(c.dataId).values;for(let v=0;v<m.length;++v){const k=v*g;let b=x[k],_=0;for(let A=0;A<g;++A){const S=x[k+A];S>b&&(b=S,_=A)}m[v]=_}return l.forEach(v=>a.disposeIntermediateTensorInfo(v)),a.makeTensorInfo(u,"int32",m)}const cwe={kernelName:mb,backendName:"cpu",kernelFunc:owe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lwe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s}=n;vt(r,"argMin");let i=pa(s,r.shape);const o=kn(i,r.shape.length);let c=r;const l=[];o!=null&&(c=Fs({inputs:{x:r},backend:a,attrs:{perm:o}}),l.push(c),i=Bn(i.length,c.shape.length)),i=[i[0]],Br("argMin",i,c.shape.length);const[u,d]=_r(c.shape,i),p=Me(u),m=Kr(p,"int32"),g=Me(d),x=a.data.get(c.dataId).values;for(let v=0;v<m.length;++v){const k=v*g;let b=x[k],_=0;for(let A=0;A<g;++A){const S=x[k+A];S<b&&(b=S,_=A)}m[v]=_}return l.forEach(v=>a.disposeIntermediateTensorInfo(v)),a.makeTensorInfo(u,"int32",m)}const uwe={kernelName:gb,backendName:"cpu",kernelFunc:lwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fwe=qa($y,t=>Math.asin(t)),dwe={kernelName:$y,backendName:"cpu",kernelFunc:fwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hwe=qa(Ly,t=>Math.asinh(t)),pwe={kernelName:Ly,backendName:"cpu",kernelFunc:hwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mwe=qa(My,t=>Math.atan(t)),gwe={kernelName:My,backendName:"cpu",kernelFunc:mwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ywe=Gn((t,e)=>Math.atan2(t,e)),vwe=lr(zy,ywe),xwe={kernelName:zy,backendName:"cpu",kernelFunc:vwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kwe=qa(By,t=>Math.atanh(t)),wwe={kernelName:By,backendName:"cpu",kernelFunc:kwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OR(t,e,a,n,r,s){const i=r.strideHeight,o=r.strideWidth,c=r.dilationHeight,l=r.dilationWidth,u=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=r.padInfo.top,m=r.padInfo.left,g=s==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,x=ra(r.outShape,a),v=x.values,k=r.outShape[1]*r.outShape[2]*r.outShape[3],b=r.outShape[2]*r.outShape[3],_=r.outShape[3];for(let A=0;A<r.batchSize;++A){const S=A*k,C=A*n[0];for(let E=0;E<r.inChannels;++E)for(let R=0;R<r.outHeight;++R){const I=R*i-p,P=Math.max(0,I),D=Math.min(r.inHeight,u+I),B=S+R*b;for(let U=0;U<r.outWidth;++U){const V=U*o-m,j=Math.max(0,V),W=Math.min(r.inWidth,d+V);let Q=g,q=0,Z=0;for(let se=P;se<D;se+=c){const ue=C+se*n[1];for(let le=j;le<W;le+=l){const ie=ue+le*n[2],ye=t[ie+E];s==="max"&&ye>Q?Q=ye:s==="avg"&&(q+=ye,Z++)}if(isNaN(Q))break}const M=B+U*_+E;v[M]=s==="avg"?q/Z:Q}}}return x}function uV(t,e,a,n,r=!1,s=!1){const i=ra(n.outShape,"int32"),o=n.strideHeight,c=n.strideWidth,l=n.dilationHeight,u=n.dilationWidth,d=n.effectiveFilterHeight,p=n.effectiveFilterWidth,m=n.padInfo.top,g=n.padInfo.left,x=ra(e,a,t);for(let v=0;v<n.batchSize;++v)for(let k=0;k<n.inChannels;++k)for(let b=0;b<n.outHeight;++b){const _=b*o-m;let A=_;for(;A<0;)A+=l;const S=Math.min(n.inHeight,d+_);for(let C=0;C<n.outWidth;++C){const E=C*c-g;let R=E;for(;R<0;)R+=u;const I=Math.min(n.inWidth,p+E);let P=Number.NEGATIVE_INFINITY,D=-1;for(let B=A;B<S;B+=l){const U=B-_;for(let V=R;V<I;V+=u){const j=V-E,W=x.get(v,B,V,k);W>P&&(P=W,r?D=s?((v*n.inHeight+B)*n.inWidth+V)*n.inChannels+k:(B*n.inWidth+V)*n.inChannels+k:D=U*p+j)}}i.set(D,v,b,C,k)}}return i}function fV(t,e,a,n,r,s){const i=r.strideDepth,o=r.strideHeight,c=r.strideWidth,l=r.dilationDepth,u=r.dilationHeight,d=r.dilationWidth,p=r.effectiveFilterDepth,m=r.effectiveFilterHeight,g=r.effectiveFilterWidth,x=r.padInfo.front,v=r.padInfo.top,k=r.padInfo.left,b=s==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,_=ra(r.outShape,a),A=_.values,S=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],C=r.outShape[2]*r.outShape[3]*r.outShape[4],E=r.outShape[3]*r.outShape[4],R=r.outShape[4];for(let I=0;I<r.batchSize;++I){const P=I*S,D=I*n[0];for(let B=0;B<r.inChannels;++B)for(let U=0;U<r.outDepth;++U){const V=U*i-x;let j=V;for(;j<0;)j+=l;const W=Math.min(r.inDepth,p+V),Q=P+U*C;for(let q=0;q<r.outHeight;++q){const Z=q*o-v;let M=Z;for(;M<0;)M+=u;const se=Math.min(r.inHeight,m+Z),ue=Q+q*E;for(let le=0;le<r.outWidth;++le){const ie=le*c-k;let ye=ie;for(;ye<0;)ye+=d;const ke=Math.min(r.inWidth,g+ie),ge=ue+le*R;let G=b,te=0,ee=0;for(let be=j;be<W;be+=l){const Y=D+be*n[1];for(let Ae=M;Ae<se;Ae+=u){const Oe=Y+Ae*n[2];for(let $e=ye;$e<ke;$e+=d){const He=Oe+$e*n[3],Ve=t[He+B];if(s==="max"&&Ve>G?G=Ve:s==="avg"&&(te+=Ve,ee++),isNaN(G))break}if(isNaN(G))break}if(isNaN(G))break}const ne=ge+B;A[ne]=s==="avg"?te/Math.max(ee,1):G}}}}return _}function bwe(t,e){const a=ra(e.outShape,"int32"),n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,o=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.front,m=e.padInfo.top,g=e.padInfo.left;for(let x=0;x<e.batchSize;++x)for(let v=0;v<e.inChannels;++v)for(let k=0;k<e.outDepth;++k){const b=k*n-p;let _=b;for(;_<0;)_+=i;const A=Math.min(e.inDepth,l+b);for(let S=0;S<e.outHeight;++S){const C=S*r-m;let E=C;for(;E<0;)E+=o;const R=Math.min(e.inHeight,u+C);for(let I=0;I<e.outWidth;++I){const P=I*s-g;let D=P;for(;D<0;)D+=c;const B=Math.min(e.inWidth,d+P);let U=Number.NEGATIVE_INFINITY,V=-1;for(let j=_;j<A;j+=i){const W=j-b;for(let Q=E;Q<R;Q+=o){const q=Q-C;for(let Z=D;Z<B;Z+=c){const M=Z-P,se=t.get(x,j,Q,Z,v);se>=U&&(U=se,V=W*u*d+q*u+M)}}}a.set(V,x,k,S,I,v)}}}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _we(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e;vt(r,"avgPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=n,l=1;K(Mr(i,l),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);const u=ro(r.shape,s,i,l,o,c);let d;if(u.filterWidth===1&&u.filterHeight===1&&_a(u.inShape,u.outShape))d=_c({inputs:{x:r},backend:a});else{const p=a.data.get(r.dataId).values,m=Dt(r.shape),g=OR(p,r.shape,r.dtype,m,u,"avg");d=a.makeTensorInfo(u.outShape,r.dtype,g.values)}return d}const Awe={kernelName:yb,backendName:"cpu",kernelFunc:_we};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nwe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:c,dataFormat:l}=n;vt(r,"avgPool3d");const u=Nl(r.shape,s,i,1,o,c,l),d=a.data.get(r.dataId).values,p=fV(d,r.shape,r.dtype,Dt(r.shape),u,"avg");return a.makeTensorInfo(p.shape,"float32",p.values)}const Swe={kernelName:vb,backendName:"cpu",kernelFunc:Nwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Twe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,input:s}=e,{filterSize:i,strides:o,pad:c,dimRoundingMode:l}=n;vt([r,s],"avgPool3DGrad");const u=Nl(s.shape,i,o,1,c,l),d=u.strideDepth,p=u.strideHeight,m=u.strideWidth,g=u.filterDepth,x=u.filterHeight,v=u.filterWidth,k=u.dilationDepth,b=u.dilationHeight,_=u.dilationWidth,A=u.effectiveFilterDepth,S=u.effectiveFilterHeight,C=u.effectiveFilterWidth,E=A-1-u.padInfo.front,R=C-1-u.padInfo.left,I=S-1-u.padInfo.top,P=ra(s.shape,"float32"),D=1/(g*x*v),B=a.bufferSync(r);for(let U=0;U<u.batchSize;++U)for(let V=0;V<u.inChannels;++V)for(let j=0;j<u.inDepth;++j)for(let W=0;W<u.inHeight;++W)for(let Q=0;Q<u.inWidth;++Q){const q=j-E,Z=W-I,M=Q-R;let se=0;for(let ue=0;ue<A;ue+=k){const le=(q+ue)/d;if(!(le<0||le>=u.outDepth||Math.floor(le)!==le))for(let ie=0;ie<S;ie+=b){const ye=(Z+ie)/p;if(!(ye<0||ye>=u.outHeight||Math.floor(ye)!==ye))for(let ke=0;ke<C;ke+=_){const ge=(M+ke)/m;if(ge<0||ge>=u.outWidth||Math.floor(ge)!==ge)continue;const G=B.get(U,le,ye,ge,V);se+=G}}}P.set(se*D,U,j,W,Q,V)}return a.makeTensorInfo(P.shape,P.dtype,P.values)}const Ewe={kernelName:jC,backendName:"cpu",kernelFunc:Twe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cwe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,input:s}=e,i=s;vt([r,s],"avgPoolGrad");const{filterSize:o,strides:c,pad:l}=n,u=ro(i.shape,o,c,1,l),d=u.strideHeight,p=u.strideWidth,m=u.filterHeight,g=u.filterWidth,x=u.dilationHeight,v=u.dilationWidth,k=u.effectiveFilterHeight,b=u.effectiveFilterWidth,_=b-1-u.padInfo.left,A=k-1-u.padInfo.top,S=ra(i.shape,"float32"),C=1/(m*g),E=a.data.get(r.dataId).values,R=ra(r.shape,"float32",E);for(let I=0;I<u.batchSize;++I)for(let P=0;P<u.inChannels;++P)for(let D=0;D<u.inHeight;++D)for(let B=0;B<u.inWidth;++B){const U=D-A,V=B-_;let j=0;for(let W=0;W<k;W+=x){const Q=(U+W)/d;if(!(Q<0||Q>=u.outHeight||Math.floor(Q)!==Q))for(let q=0;q<b;q+=v){const Z=(V+q)/p;if(Z<0||Z>=u.outWidth||Math.floor(Z)!==Z)continue;const M=R.get(I,Q,Z,P);j+=M}}S.set(j*C,I,D,B,P)}return a.makeTensorInfo(S.shape,S.dtype,S.values)}const Iwe={kernelName:VC,backendName:"cpu",kernelFunc:Cwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rwe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,scale:s,offset:i,mean:o,variance:c}=e;K(o.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),K(i==null||o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),K(s==null||o.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),vt([r,o,c,s,i],"batchNorm");let{varianceEpsilon:l}=n;l==null&&(l=.001);const u=a.data.get(r.dataId).values,d=a.data.get(o.dataId).values,p=a.data.get(c.dataId).values,m=s?a.data.get(s.dataId).values:new Float32Array([1]),g=i?a.data.get(i.dataId).values:new Float32Array([0]),x=new Float32Array(u.length),v=g.length,k=m.length,b=p.length,_=d.length;let A=0,S=0,C=0,E=0;for(let R=0;R<u.length;++R)x[R]=g[A++]+(u[R]-d[S++])*m[C++]/Math.sqrt(p[E++]+l),A>=v&&(A=0),S>=_&&(S=0),C>=k&&(C=0),E>=b&&(E=0);return a.makeTensorInfo(r.shape,r.dtype,x)}const Dwe={kernelName:Db,backendName:"cpu",kernelFunc:Rwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pwe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{blockShape:s,crops:i}=n;vt([r],"batchToSpaceND");const o=s.reduce((k,b)=>k*b),c=L1(r.shape,s,o),l=M1(c.length,s.length),u=B1(r.shape,s,o),d=V3(i,s.length),p=j3(u,i,s.length),m=on({inputs:{x:r},backend:a,attrs:{shape:c}}),g=Fs({inputs:{x:m},backend:a,attrs:{perm:l}}),x=on({inputs:{x:g},backend:a,attrs:{shape:u}}),v=_d({inputs:{x},backend:a,attrs:{begin:d,size:p}});return a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(x),v}const Fwe={kernelName:kb,backendName:"cpu",kernelFunc:Pwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Owe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,weights:s}=e,{size:i}=n,o=a.data.get(r.dataId).values,c=a.data.get(s.dataId).values,l=IR(o,c,s.dtype,s.shape,i);return a.makeTensorInfo([i],s.dtype,l)}const $we={kernelName:HC,backendName:"cpu",kernelFunc:Owe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lwe(t){const{inputs:e,backend:a}=t,{s0:n,s1:r}=e,s=a.data.get(n.dataId).values,i=a.data.get(r.dataId).values,o=Xt(Array.from(s),Array.from(i));return a.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const Mwe={kernelName:KC,backendName:"cpu",kernelFunc:Lwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bwe=qa(Wy,(t,e)=>{const a=e;return t>a.clipValueMax?a.clipValueMax:t<a.clipValueMin?a.clipValueMin:t}),zwe={kernelName:Wy,backendName:"cpu",kernelFunc:Bwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gwe=t=>{const{x:e}=t.inputs,a=t.backend,n=new Float32Array(Me(e.shape)),r=a.data.get(e.dataId),s=r.complexTensorInfos.real,i=r.complexTensorInfos.imag,o=a.data.get(s.dataId).values,c=a.data.get(i.dataId).values;for(let l=0;l<o.length;l++){const u=o[l],d=c[l];n[l]=Math.hypot(u,d)}return a.makeOutput(n,e.shape,"float32")},Uwe={kernelName:bb,backendName:"cpu",kernelFunc:Gwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kp(t){const{inputs:e,backend:a}=t,{input:n}=e,r=a.data.get(n.dataId).complexTensorInfos.imag,s=a.data.get(r.dataId).values;return a.makeTensorInfo(r.shape,r.dtype,s)}const Wwe={kernelName:dI,backendName:"cpu",kernelFunc:Kp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qp(t){const{inputs:e,backend:a,attrs:n}=t,{axis:r}=n,s=pa(r,e[0].shape)[0],i=e.map(x=>x.shape);G3(i,s);let o=mc(e.map(x=>x.shape),s);if(Me(o)===0)return a.makeTensorInfo(o,e[0].dtype,[]);const c=e.filter(x=>Me(x.shape)>0);if(c.length===1)return _c({inputs:{x:c[0]},backend:a});if(c[0].dtype==="complex64"){const x=c.map(A=>bd({inputs:{input:A},backend:a})),v=c.map(A=>Kp({inputs:{input:A},backend:a})),k=qp({inputs:x,backend:a,attrs:{axis:s}}),b=qp({inputs:v,backend:a,attrs:{axis:s}}),_=js({inputs:{real:k,imag:b},backend:a});return x.forEach(A=>a.disposeIntermediateTensorInfo(A)),v.forEach(A=>a.disposeIntermediateTensorInfo(A)),a.disposeIntermediateTensorInfo(k),a.disposeIntermediateTensorInfo(b),_}const l=c.map(x=>{const k=[-1,Me(x.shape.slice(s))];return on({inputs:{x},backend:a,attrs:{shape:k}})}),u=l.map(x=>({vals:a.data.get(x.dataId).values,shape:x.shape}));o=mc(l.map(x=>x.shape),1);const d=l[0].shape[0]===1,p=gW(u,o,e[0].dtype,d),m=mc(c.map(x=>x.shape),s),g=a.makeTensorInfo(m,e[0].dtype,p);return l.forEach(x=>a.disposeIntermediateTensorInfo(x)),g}const Vwe={kernelName:_b,backendName:"cpu",kernelFunc:qp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dV(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s}=e,{strides:i,pad:o,dataFormat:c,dilations:l,dimRoundingMode:u}=n;vt([r,s],"conv2d");const d=Sl(c),p=br(r.shape,s.shape,i,l,o,u,!1,d),m=p.filterHeight,g=p.filterWidth,x=p.dilationHeight,v=p.dilationWidth,k=p.padInfo.left,b=p.padInfo.top,_=p.dataFormat==="channelsLast",A=new rr(p.outShape,r.dtype),S=Dt(r.shape),C=Dt(s.shape),E=S[0],R=_?S[1]:S[2],I=_?S[2]:1,P=_?1:S[1],D=A.strides[0],B=_?A.strides[1]:A.strides[2],U=_?A.strides[2]:1,V=_?1:A.strides[1],j=a.data.get(r.dataId).values,W=a.data.get(s.dataId).values,Q=A.values;for(let q=0;q<p.batchSize;++q){const Z=q*E,M=q*D;for(let se=0;se<p.outHeight;++se){const ue=M+se*B,le=se*p.strideHeight-b;for(let ie=0;ie<m;++ie){const ye=le+ie*x;if(ye<0||ye>=p.inHeight)continue;const ke=ie*C[0],ge=Z+ye*R;for(let G=0;G<p.outWidth;++G){const te=ue+G*U,ee=G*p.strideWidth-k;for(let ne=0;ne<g;++ne){const be=ee+ne*v;if(be<0||be>=p.inWidth)continue;const Y=ke+ne*C[1],Ae=ge+be*I;let Oe=Y;for(let $e=0;$e<p.inChannels;++$e){const He=j[Ae+$e*P];for(let Ve=0;Ve<p.outChannels;++Ve)Q[te+Ve*V]+=He*W[Oe+Ve];Oe+=p.outChannels}}}}}}return a.makeTensorInfo(A.shape,A.dtype,Q)}const jwe={kernelName:Ab,backendName:"cpu",kernelFunc:dV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hwe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,dy:s}=e,{strides:i,pad:o,dataFormat:c,dimRoundingMode:l,filterShape:u}=n;vt([r,s],"conv2dBackpropFilter");const d=Sl(c),p=br(r.shape,u,i,1,o,l,!1,d),{strideHeight:m,strideWidth:g,filterHeight:x,filterWidth:v}=p,k=p.dataFormat==="channelsLast",b=new rr(p.filterShape,"float32"),_=p.padInfo.left,A=p.padInfo.top,S=a.data.get(r.dataId).values,C=a.data.get(s.dataId).values,E=new rr(r.shape,r.dtype,S),R=new rr(s.shape,s.dtype,C);for(let I=0;I<x;++I){const P=Math.max(0,Math.ceil((A-I)/m)),D=Math.min(p.outHeight,(p.inHeight+A-I)/m);for(let B=0;B<v;++B){const U=Math.max(0,Math.ceil((_-B)/g)),V=Math.min(p.outWidth,(p.inWidth+_-B)/g);for(let j=0;j<p.inChannels;++j)for(let W=0;W<p.outChannels;++W){let Q=0;for(let q=0;q<p.batchSize;++q)for(let Z=P;Z<D;++Z){const M=I+Z*m-A;for(let se=U;se<V;++se){const ue=B+se*g-_;k?Q+=E.get(q,M,ue,j)*R.get(q,Z,se,W):Q+=E.get(q,j,M,ue)*R.get(q,W,Z,se)}}b.set(Q,I,B,j,W)}}}return a.makeTensorInfo(b.shape,b.dtype,b.values)}const Kwe={kernelName:XC,backendName:"cpu",kernelFunc:Hwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qwe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,filter:s}=e,{inputShape:i,strides:o,pad:c,dataFormat:l,dimRoundingMode:u}=n;vt([r,s],"conv2dBackpropInput");const d=Dt(s.shape),p=Dt(r.shape);let m=Sl(l);const g=br(i,s.shape,o,1,c,u,!1,m),x=new rr(g.inShape,"float32"),v=x.values,k=a.data.get(r.dataId).values,b=a.data.get(s.dataId).values,[_,A,S]=d,{batchSize:C,filterHeight:E,filterWidth:R,inChannels:I,inHeight:P,inWidth:D,outChannels:B,outHeight:U,outWidth:V,strideHeight:j,strideWidth:W}=g;m=g.dataFormat;const Q=E-1-g.padInfo.top,q=R-1-g.padInfo.left,Z=m==="channelsLast",M=x.strides[0],se=Z?x.strides[1]:x.strides[2],ue=Z?x.strides[2]:1,le=Z?1:x.strides[1],ie=p[0],ye=Z?p[1]:p[2],ke=Z?p[2]:1,ge=Z?1:p[1];for(let G=0;G<C;++G)for(let te=0;te<I;++te)for(let ee=0;ee<P;++ee){const ne=ee-Q,be=Math.max(0,Math.ceil(ne/j)),Y=Math.min(U,(E+ne)/j);for(let Ae=0;Ae<D;++Ae){const Oe=Ae-q,$e=Math.max(0,Math.ceil(Oe/W)),He=Math.min(V,(R+Oe)/W);let Ve=0;for(let lt=be;lt<Y;++lt){const Mt=lt*j-ne;for(let Ft=$e;Ft<He;++Ft){const st=Ft*W-Oe,Be=ie*G+ye*lt+ke*Ft,Fe=_*(E-1-Mt)+A*(R-1-st)+S*te;for(let It=0;It<B;++It){const Lt=k[Be+ge*It],Rt=b[Fe+It];Ve+=Lt*Rt}}}const tt=M*G+se*ee+ue*Ae+le*te;v[tt]=Ve}}return a.makeTensorInfo(x.shape,x.dtype,x.values)}const Xwe={kernelName:Nb,backendName:"cpu",kernelFunc:qwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ywe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c}=n;vt([r,s],"conv3d");const l=ju(r.shape,s.shape,i,c,o),{filterDepth:u,filterHeight:d,filterWidth:p,dilationDepth:m,dilationHeight:g,dilationWidth:x,padInfo:v}=l,k=v.front,b=v.left,_=v.top,A=new rr(l.outShape,r.dtype),S=a.data.get(r.dataId).values,C=a.data.get(s.dataId).values,E=A.values,R=Dt(r.shape),I=Dt(s.shape);for(let P=0;P<l.batchSize;++P){const D=P*R[0],B=P*A.strides[0];for(let U=0;U<l.outDepth;++U){const V=B+U*A.strides[1],j=U*l.strideDepth-k;for(let W=0;W<u;++W){const Q=j+W*m;if(Q<0||Q>=l.inDepth)continue;const q=W*I[0],Z=D+Q*R[1];for(let M=0;M<l.outHeight;++M){const se=V+M*A.strides[2],ue=M*l.strideHeight-_;for(let le=0;le<d;++le){const ie=ue+le*g;if(ie<0||ie>=l.inHeight)continue;const ye=q+le*I[1],ke=Z+ie*R[2];for(let ge=0;ge<l.outWidth;++ge){const G=se+ge*l.outChannels,te=ge*l.strideWidth-b;for(let ee=0;ee<p;++ee){const ne=te+ee*x;if(ne<0||ne>=l.inWidth)continue;const be=ye+ee*I[2],Y=ke+ne*l.inChannels;let Ae=be;for(let Oe=0;Oe<l.inChannels;++Oe){const $e=S[Y+Oe];for(let He=0;He<l.outChannels;++He)E[G+He]+=$e*C[Ae+He];Ae+=l.outChannels}}}}}}}}return a.makeTensorInfo(A.shape,A.dtype,A.values)}const Zwe={kernelName:Sb,backendName:"cpu",kernelFunc:Ywe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jwe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,dy:s}=e,{strides:i,pad:o,filterShape:c}=n;vt([r,s],"conv3dBackpropFilterV2");const l=Dt(r.shape),u=Dt(s.shape),d=ju(r.shape,c,i,1,o),p=d.strideDepth,m=d.strideHeight,g=d.strideWidth,x=d.filterDepth,v=d.filterHeight,k=d.filterWidth,b=new rr(d.filterShape,"float32"),_=b.values,[A,S,C,E]=b.strides,R=a.data.get(s.dataId).values,[I,P,D,B]=u,U=a.data.get(r.dataId).values,[V,j,W,Q]=l,q=d.padInfo.front,Z=d.padInfo.left,M=d.padInfo.top;for(let se=0;se<x;++se){const ue=Math.max(0,Math.ceil((q-se)/p)),le=Math.min(d.outDepth,(d.inDepth+q-se)/p),ie=se*A;for(let ye=0;ye<v;++ye){const ke=Math.max(0,Math.ceil((M-ye)/m)),ge=Math.min(d.outHeight,(d.inHeight+M-ye)/m),G=ye*S+ie;for(let te=0;te<k;++te){const ee=Math.max(0,Math.ceil((Z-te)/g)),ne=Math.min(d.outWidth,(d.inWidth+Z-te)/g),be=te*C+G;for(let Y=0;Y<d.inChannels;++Y){const Ae=Y*E+be;for(let Oe=0;Oe<d.outChannels;++Oe){let $e=0;for(let He=0;He<d.batchSize;++He){const Ve=He*V,tt=He*I;for(let lt=ue;lt<le;++lt){const Ft=(se+lt*p-q)*j+Ve,st=lt*P+tt;for(let Be=ke;Be<ge;++Be){const It=(ye+Be*m-M)*W+Ft,Lt=Be*D+st;for(let Rt=ee;Rt<ne;++Rt){const La=(te+Rt*g-Z)*Q+It,it=Rt*B+Lt;$e+=U[La+Y]*R[it+Oe]}}}}_[Ae+Oe]=$e}}}}}return a.makeTensorInfo(b.shape,b.dtype,b.values)}const Qwe={kernelName:YC,backendName:"cpu",kernelFunc:Jwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ebe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,filter:s}=e,{pad:i,strides:o,inputShape:c}=n;vt([r],"conv3dBackpropInputV2");const l=Dt(r.shape),u=Dt(s.shape),d=ju(c,s.shape,o,1,i),p=new rr(d.inShape,"float32"),m=p.values,[g,x,v,k]=p.strides,b=a.data.get(r.dataId).values,[_,A,S,C]=l,E=a.data.get(s.dataId).values,[R,I,P,D]=u,{batchSize:B,filterDepth:U,filterHeight:V,filterWidth:j,inChannels:W,inDepth:Q,inHeight:q,inWidth:Z,outChannels:M,outDepth:se,outHeight:ue,outWidth:le,strideDepth:ie,strideHeight:ye,strideWidth:ke}=d,ge=U-1-d.padInfo.front,G=V-1-d.padInfo.top,te=j-1-d.padInfo.left;for(let ee=0;ee<B;++ee)for(let ne=0;ne<W;++ne)for(let be=0;be<Q;++be){const Y=be-ge,Ae=Math.max(0,Math.ceil(Y/ie)),Oe=Math.min(se,(U+Y)/ie);for(let $e=0;$e<q;++$e){const He=$e-G,Ve=Math.max(0,Math.ceil(He/ye)),tt=Math.min(ue,(V+He)/ye);for(let lt=0;lt<Z;++lt){const Mt=lt-te,Ft=Math.max(0,Math.ceil(Mt/ke)),st=Math.min(le,(j+Mt)/ke);let Be=0;for(let Fe=Ae;Fe<Oe;++Fe){const It=Fe*ie-Y;for(let Lt=Ve;Lt<tt;++Lt){const Rt=Lt*ye-He;for(let $a=Ft;$a<st;++$a){const La=$a*ke-Mt,it=_*ee+A*Fe+S*Lt+C*$a,jt=R*(U-1-It)+I*(V-1-Rt)+P*(j-1-La)+D*ne;for(let Ht=0;Ht<M;++Ht){const Wt=b[it+Ht],ur=E[jt+Ht];Be+=Wt*ur}}}}m[g*ee+x*be+v*$e+k*lt+ne]=Be}}}return a.makeTensorInfo(p.shape,p.dtype,p.values)}const tbe={kernelName:ZC,backendName:"cpu",kernelFunc:ebe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const abe=qa(Vy,t=>Math.cos(t)),nbe={kernelName:Vy,backendName:"cpu",kernelFunc:abe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rbe=qa(jy,t=>Math.cosh(t)),sbe={kernelName:jy,backendName:"cpu",kernelFunc:rbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ibe(t){const{inputs:e,backend:a,attrs:n}=t,{image:r,boxes:s,boxInd:i}=e,{cropSize:o,method:c,extrapolationValue:l}=n,[u,d,p,m]=r.shape,g=s.shape[0],[x,v]=o,k=ra([g,x,v,m],"float32"),b=a.data.get(s.dataId).values,_=a.data.get(i.dataId).values,A=a.data.get(r.dataId).values,S=Dt(r.shape),C=Dt(k.shape);for(let E=0;E<g;E++){const R=E*4,I=b[R],P=b[R+1],D=b[R+2],B=b[R+3],U=_[E];if(U>=u)continue;const V=x>1?(D-I)*(d-1)/(x-1):0,j=v>1?(B-P)*(p-1)/(v-1):0;for(let W=0;W<x;W++){const Q=x>1?I*(d-1)+W*V:.5*(I+D)*(d-1);if(Q<0||Q>d-1){for(let q=0;q<v;q++)for(let Z=0;Z<m;Z++){const M=Z+q*C[2]+W*C[1]+E*C[0];k.values[M]=l}continue}if(c==="bilinear"){const q=Math.floor(Q),Z=Math.ceil(Q),M=Q-q;for(let se=0;se<v;se++){const ue=v>1?P*(p-1)+se*j:.5*(P+B)*(p-1);if(ue<0||ue>p-1){for(let ke=0;ke<m;ke++){const ge=ke+se*C[2]+W*C[1]+E*C[0];k.values[ge]=l}continue}const le=Math.floor(ue),ie=Math.ceil(ue),ye=ue-le;for(let ke=0;ke<m;ke++){let ge=ke+le*S[2]+q*S[1]+U*S[0];const G=A[ge];ge=ke+ie*S[2]+q*S[1]+U*S[0];const te=A[ge];ge=ke+le*S[2]+Z*S[1]+U*S[0];const ee=A[ge];ge=ke+ie*S[2]+Z*S[1]+U*S[0];const ne=A[ge],be=G+(te-G)*ye,Y=ee+(ne-ee)*ye;ge=ke+se*C[2]+W*C[1]+E*C[0],k.values[ge]=be+(Y-be)*M}}}else for(let q=0;q<v;++q){const Z=v>1?P*(p-1)+q*j:.5*(P+B)*(p-1);if(Z<0||Z>p-1){for(let ue=0;ue<m;ue++){const le=ue+q*C[2]+W*C[1]+E*C[0];k.values[le]=l}continue}const M=Math.round(Z),se=Math.round(Q);for(let ue=0;ue<m;ue++){const le=ue+M*S[2]+se*S[1]+U*S[0],ie=ue+q*C[2]+W*C[1]+E*C[0];k.values[ie]=A[le]}}}}return a.makeTensorInfo(k.shape,k.dtype,k.values)}const obe={kernelName:QC,backendName:"cpu",kernelFunc:ibe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cbe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,exclusive:i,reverse:o}=n;vt(r,"cumprod");const c=kn([s],r.shape.length);let l=r;c!=null&&(l=Fs({inputs:{x:r},backend:a,attrs:{perm:c}}));const u=Bn(1,r.shape.length)[0];if(u!==l.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${l.shape.length-1} but got axis=${u}`);const d=qs(l.dtype,"int32"),p=zC(Me(l.shape),d),m=a.data.get(l.dataId).values,g=l.shape[l.shape.length-1],x=o?(k,b)=>k+g-b-1:(k,b)=>k+b;for(let k=0;k<m.length;k+=g)for(let b=0;b<g;b++){const _=x(k,b);if(b===0)p[_]=i?1:m[_];else{const A=x(k,b-1);p[_]=i?m[A]*p[A]:m[_]*p[A]}}const v=a.makeTensorInfo(l.shape,d,p);if(c!=null){const k=Hu(c),b=Fs({inputs:{x:v},backend:a,attrs:{perm:k}});return a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(l),b}return v}const lbe={kernelName:JC,backendName:"cpu",kernelFunc:cbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ube(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,exclusive:i,reverse:o}=n;vt(r,"cumsum");const c=kn([s],r.shape.length);let l=r;c!=null&&(l=Fs({inputs:{x:r},backend:a,attrs:{perm:c}}));const u=Bn(1,r.shape.length)[0];if(u!==l.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${l.shape.length-1} but got axis=${u}`);const d=qs(l.dtype,"int32"),p=Kr(Me(l.shape),d),m=a.data.get(l.dataId).values,g=l.shape[l.shape.length-1],x=o?(k,b)=>k+g-b-1:(k,b)=>k+b;for(let k=0;k<m.length;k+=g)for(let b=0;b<g;b++){const _=x(k,b);if(b===0)p[_]=i?0:m[_];else{const A=x(k,b-1);p[_]=i?m[A]+p[A]:m[_]+p[A]}}const v=a.makeTensorInfo(l.shape,d,p);if(c!=null){const k=Hu(c),b=Fs({inputs:{x:v},backend:a,attrs:{perm:k}});return a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(l),b}return v}const fbe={kernelName:Tb,backendName:"cpu",kernelFunc:ube};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dbe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,weights:s}=e,{size:i,binaryOutput:o}=n;if(r.shape.length===1){const c=a.data.get(r.dataId).values,l=a.data.get(s.dataId).values,u=IR(c,l,s.dtype,s.shape,i);return a.makeTensorInfo([i],s.dtype,u)}else if(r.shape.length===2){const c=a.bufferSync(r),l=a.bufferSync(s),u=hW(c,l,i,o);return a.makeTensorInfo(u.shape,s.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const hbe={kernelName:eI,backendName:"cpu",kernelFunc:dbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pbe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{blockSize:s,dataFormat:i}=n;K(i==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${i}`);const o=r.shape[0],c=r.shape[1],l=r.shape[2],u=r.shape[3],d=c*s,p=l*s,m=u/(s*s),g=a.data.get(r.dataId).values,x=new Float32Array(o*d*p*m);let v=0;for(let k=0;k<o;++k)for(let b=0;b<d;++b){const _=Math.floor(b/s),A=b%s;for(let S=0;S<p;++S){const C=Math.floor(S/s),E=S%s,R=(A*s+E)*m;for(let I=0;I<m;++I){const D=I+R+u*(C+l*(_+c*k));x[v++]=g[D]}}}return a.makeTensorInfo([o,d,p,m],r.dtype,x)}const mbe={kernelName:tI,backendName:"cpu",kernelFunc:pbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hV(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c,dimRoundingMode:l}=n;vt([r,s],"depthwiseConv2DNative");const u=Dt(r.shape),d=Dt(s.shape);let p=c;p==null&&(p=[1,1]),K(Mr(i,p),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${p}'`);const m=br(r.shape,s.shape,i,p,o,l,!0),{filterHeight:g,filterWidth:x,dilationHeight:v,dilationWidth:k,padInfo:b}=m,_=b.left,A=b.top,S=m.outChannels/m.inChannels,C=new rr(m.outShape,r.dtype),E=a.data.get(r.dataId).values,R=a.data.get(s.dataId).values,I=C.values;for(let P=0;P<m.batchSize;++P){const D=P*u[0],B=P*C.strides[0];for(let U=0;U<m.outHeight;++U){const V=B+U*C.strides[1],j=U*m.strideHeight-A;for(let W=0;W<g;++W){const Q=j+W*v;if(Q<0||Q>=m.inHeight)continue;const q=W*d[0],Z=D+Q*u[1];for(let M=0;M<m.outWidth;++M){const se=V+M*C.strides[2],ue=M*m.strideWidth-_;for(let le=0;le<x;++le){const ie=ue+le*k;if(ie<0||ie>=m.inWidth)continue;const ye=q+le*d[1],ke=Z+ie*m.inChannels;let ge=se,G=ye;for(let te=0;te<m.inChannels;++te){const ee=E[ke+te];for(let ne=0;ne<S;++ne)I[ge+ne]+=ee*R[G+ne];ge+=S,G+=S}}}}}}return a.makeTensorInfo(C.shape,C.dtype,C.values)}const gbe={kernelName:Eb,backendName:"cpu",kernelFunc:hV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ybe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,dy:s}=e,{strides:i,dilations:o,pad:c,dimRoundingMode:l,filterShape:u}=n;vt([r,s],"depthwiseConv2dNativeBackpropFilter");const d=br(r.shape,u,i,o,c,l,!0),{strideHeight:p,strideWidth:m,filterHeight:g,filterWidth:x}=d,v=new rr(d.filterShape,"float32"),k=d.padInfo.left,b=d.padInfo.top,_=d.outChannels/d.inChannels,A=a.data.get(r.dataId).values,S=new rr(r.shape,r.dtype,A),C=a.data.get(s.dataId).values,E=new rr(s.shape,s.dtype,C);for(let R=0;R<g;++R){const I=Math.max(0,Math.ceil((b-R)/p)),P=Math.min(d.outHeight,(d.inHeight+b-R)/p);for(let D=0;D<x;++D){const B=Math.max(0,Math.ceil((k-D)/m)),U=Math.min(d.outWidth,(d.inWidth+k-D)/m);for(let V=0;V<d.outChannels;++V){const j=Math.trunc(V/_),W=V%_;let Q=0;for(let q=0;q<d.batchSize;++q)for(let Z=I;Z<P;++Z){const M=R+Z*p-b;for(let se=B;se<U;++se){const ue=D+se*m-k;Q+=S.get(q,M,ue,j)*E.get(q,Z,se,V)}}v.set(Q,R,D,j,W)}}}return a.makeTensorInfo(v.shape,v.dtype,v.values)}const vbe={kernelName:aI,backendName:"cpu",kernelFunc:ybe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xbe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,filter:s}=e,{strides:i,dilations:o,pad:c,dimRoundingMode:l,inputShape:u}=n;vt([r,s],"depthwiseConv2DNativeBackpropInput");const d=Dt(r.shape),p=Dt(s.shape),m=br(u,s.shape,i,o,c,l,!0),g=new rr(m.inShape,"float32"),x=g.values,[v,k,b]=g.strides,_=a.data.get(r.dataId).values,[A,S,C]=d,E=a.data.get(s.dataId).values,[R,I,P]=p,{batchSize:D,filterHeight:B,filterWidth:U,inChannels:V,inHeight:j,inWidth:W,outChannels:Q,outHeight:q,outWidth:Z,strideHeight:M,strideWidth:se}=m,ue=B-1-m.padInfo.top,le=U-1-m.padInfo.left,ie=Q/V;for(let ye=0;ye<D;++ye)for(let ke=0;ke<V;++ke)for(let ge=0;ge<j;++ge){const G=ge-ue,te=Math.max(0,Math.ceil(G/M)),ee=Math.min(q,(B+G)/M);for(let ne=0;ne<W;++ne){const be=ne-le,Y=Math.max(0,Math.ceil(be/se)),Ae=Math.min(Z,(U+be)/se);let Oe=0;for(let $e=te;$e<ee;++$e){const He=$e*M-G;for(let Ve=Y;Ve<Ae;++Ve){const tt=Ve*se-be,lt=A*ye+S*$e+C*Ve,Mt=R*(B-1-He)+I*(U-1-tt)+P*ke;for(let Ft=0;Ft<ie;++Ft){const st=ke*ie+Ft,Be=_[lt+st],Fe=E[Mt+Ft];Oe+=Be*Fe}}}x[v*ye+k*ge+b*ne+ke]=Oe}}return a.makeTensorInfo(g.shape,g.dtype,g.values)}const kbe={kernelName:nI,backendName:"cpu",kernelFunc:xbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wbe(t){const{inputs:e,backend:a}=t,{x:n}=e,r=Me(n.shape),s=a.data.get(n.dataId).values,i=ra([r,r],n.dtype),o=i.values;for(let l=0;l<s.length;l++)o[l*r+l]=s[l];const c=[...n.shape,...n.shape];return a.makeTensorInfo(c,i.dtype,i.values)}const bbe={kernelName:rI,backendName:"cpu",kernelFunc:wbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _be={kernelName:Cb,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:a})=>{const{x:n,filter:r}=t,{strides:s,pad:i,dilations:o}=a,c=e,l=c.data.get(n.dataId).values,u=n.shape.length,d=c.data.get(r.dataId).values,p=r.shape.length,{batchSize:m,inHeight:g,inWidth:x,inChannels:v,outHeight:k,outWidth:b,padInfo:_,strideHeight:A,strideWidth:S,filterHeight:C,filterWidth:E,dilationHeight:R,dilationWidth:I,outShape:P}=I1(n.shape,r.shape,s,i,"NHWC",o),D=Me(P),B=P.length,U=Ln(n.dtype,D);for(let j=0;j<m;++j)for(let W=0;W<k;++W){const Q=W*A-_.top;for(let q=0;q<b;++q){const Z=q*S-_.left;for(let M=0;M<v;++M){let se=Number.MIN_SAFE_INTEGER;for(let le=0;le<C;++le){const ie=Q+le*R;if(ie>=0&&ie<g)for(let ye=0;ye<E;++ye){const ke=Z+ye*I;if(ke>=0&&ke<x){const ge=hc([j,ie,ke,M],u,Dt(n.shape)),G=hc([le,ye,M],p,Dt(r.shape)),te=l[ge]+d[G];te>se&&(se=te)}}}const ue=hc([j,W,q,M],B,Dt(P));U[ue]=se}}}return{dataId:c.write(Gd(U,n.dtype),P,n.dtype),shape:P,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Abe={kernelName:MT,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:a})=>{const{x:n,filter:r,dy:s}=t,{strides:i,pad:o,dilations:c}=a,l=e,u=Zi(n.shape,l.data.get(n.dataId).values),d=Zi(r.shape,l.data.get(r.dataId).values),{batchSize:p,inHeight:m,inWidth:g,inChannels:x,outHeight:v,outWidth:k,padInfo:b,strideHeight:_,strideWidth:A,filterHeight:S,filterWidth:C,dilationHeight:E,dilationWidth:R,outShape:I}=I1(n.shape,r.shape,i,o,"NHWC",c);K(s.rank===I.length,()=>`Error in ${MT}, dy must have the same rank as output ${I.length}, but got ${s.rank}`);const P=Zi(I,l.data.get(s.dataId).values),D=uz(r.shape,r.dtype);for(let U=0;U<p;++U)for(let V=0;V<v;++V){const j=V*_-b.top;for(let W=0;W<k;++W){const Q=W*A-b.left;for(let q=0;q<x;++q){let Z=Number.MIN_SAFE_INTEGER,M=0,se=0;for(let ue=0;ue<S;++ue){const le=j+ue*E;if(le>=0&&le<m)for(let ie=0;ie<C;++ie){const ye=Q+ie*R;if(ye>=0&&ye<g){const ke=u[U][le][ye][q]+d[ue][ie][q];ke>Z&&(Z=ke,M=ue,se=ie)}}}D[M][se][q]+=P[U][V][W][q]}}}return{dataId:l.write(Gd(D,n.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nbe={kernelName:LT,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:a})=>{const{x:n,filter:r,dy:s}=t,{strides:i,pad:o,dilations:c}=a,l=e,u=Zi(n.shape,l.data.get(n.dataId).values),d=Zi(r.shape,l.data.get(r.dataId).values),{batchSize:p,inHeight:m,inWidth:g,inChannels:x,outHeight:v,outWidth:k,padInfo:b,strideHeight:_,strideWidth:A,filterHeight:S,filterWidth:C,dilationHeight:E,dilationWidth:R,outShape:I}=I1(n.shape,r.shape,i,o,"NHWC",c);K(s.rank===I.length,()=>`Error in ${LT}, dy must have the same rank as output ${I.length}, but got ${s.rank}`);const P=Zi(I,l.data.get(s.dataId).values),D=uz(n.shape,n.dtype);for(let U=0;U<p;++U)for(let V=0;V<v;++V){const j=V*_-b.top;for(let W=0;W<k;++W){const Q=W*A-b.left;for(let q=0;q<x;++q){let Z=Number.MIN_SAFE_INTEGER,M=j<0?0:j,se=Q<0?0:Q;for(let ue=0;ue<S;++ue){const le=j+ue*E;if(le>=0&&le<m)for(let ie=0;ie<C;++ie){const ye=Q+ie*R;if(ye>=0&&ye<g){const ke=u[U][le][ye][q]+d[ue][ie][q];ke>Z&&(Z=ke,M=le,se=ye)}}}D[U][M][se][q]+=P[U][V][W][q]}}}return{dataId:l.write(Gd(D,n.dtype),n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sbe(t){const{inputs:e,backend:a,attrs:n}=t,{image:r}=e,{canvas:s,options:i}=n,{contextOptions:o,imageOptions:c}=i||{},l=(c==null?void 0:c.alpha)||1,u=(o==null?void 0:o.contextType)||"2d";if(u!=="2d")throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);const d=s.getContext(u,(o==null?void 0:o.contextAttributes)||{});if(d==null)throw new Error(`Could not get the context with ${u} type.`);const[p,m]=r.shape.slice(0,2),g=r.shape.length===2?1:r.shape[2],x=a.data.get(r.dataId).values,v=r.dtype==="float32"?255:1,k=new Uint8ClampedArray(m*p*4);for(let _=0;_<p*m;++_){const A=[0,0,0,255*l];for(let C=0;C<g;C++){const E=x[_*g+C];if(r.dtype==="float32"){if(E<0||E>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${E}.`)}else if(r.dtype==="int32"&&(E<0||E>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${E}.`);g===1?(A[0]=E*v,A[1]=E*v,A[2]=E*v):A[C]=E*v}const S=_*4;k[S+0]=Math.round(A[0]),k[S+1]=Math.round(A[1]),k[S+2]=Math.round(A[2]),k[S+3]=Math.round(A[3])}s.width=m,s.height=p;const b=new ImageData(k,m,p);return d.putImageData(b,0,0),r}const Tbe={kernelName:zoe,backendName:"cpu",kernelFunc:Sbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q1(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n;vt(r,"sum");let o;r.dtype==="bool"?o=Ru({inputs:{x:r},backend:a,attrs:{dtype:"int32"}}):o=_c({inputs:{x:r},backend:a});const c=o.shape.length,l=pa(s,o.shape),u=kn(l,c);let d=l,p=o;u!=null&&(p=Fs({inputs:{x:o},backend:a,attrs:{perm:u}}),d=Bn(d.length,c)),Br("sum",d,p.shape.length);const[m,g]=_r(p.shape,d),x=qs(p.dtype,"int32");let v=vw(a,m,x);const k=Me(g),b=a.data.get(v.dataId).values,_=a.data.get(p.dataId).values;for(let A=0;A<b.length;++A){const S=A*k;let C=0;for(let E=0;E<k;++E)C+=_[S+E];b[A]=C}if(i){const A=Mn(v.shape,l),S=v;v=on({inputs:{x:v},backend:a,attrs:{shape:A}}),a.disposeIntermediateTensorInfo(S)}return a.disposeIntermediateTensorInfo(o),u!=null&&a.disposeIntermediateTensorInfo(p),v}const Ebe={kernelName:c_,backendName:"cpu",kernelFunc:q1};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cbe(t){const{inputs:e,backend:a,attrs:n}=t,{equation:r}=n,s=e,{allDims:i,summedDims:o,idDims:c}=Q3(r,s.length);tR(i.length,c,s);const{path:l,steps:u}=aR(o,c),d=u.length;let p=null,m=i.length;const g=[];for(let x=0;x<d;++x){for(const v of u[x]){const{permutationIndices:k,expandDims:b}=eR(m,c[v]);let _;nR(k)?_=s[v]:(_=Fs({inputs:{x:s[v]},backend:a,attrs:{perm:k}}),g.push(_));const A=_.shape.slice();for(let S=0;S<b.length;++S)A.splice(b[S],0,1);_a(_.shape,A)||(_=on({inputs:{x:_},backend:a,attrs:{shape:A}}),g.push(_)),p===null?p=_:(p=e2({inputs:{a:_,b:p},backend:a}),g.push(p))}x<d-1&&(l[x]>=0&&(p=q1({inputs:{x:p},backend:a,attrs:{axis:l[x]-(i.length-m),keepDims:!1}}),g.push(p)),m--)}for(const x of g)x!==p&&a.disposeIntermediateTensorInfo(x);return p}const Ibe={kernelName:sI,backendName:"cpu",kernelFunc:Cbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rbe(t){const{inputs:e,backend:a}=t,{dy:n,y:r}=e;vt([n,r],"eluGrad");const s=new Float32Array(Me(r.shape)),i=a.data.get(r.dataId).values,o=a.data.get(n.dataId).values;for(let c=0;c<i.length;++c){const l=i[c];l>=0?s[c]=o[c]:s[c]=o[c]*(l+1)}return a.makeTensorInfo(r.shape,"float32",s)}const Dbe={kernelName:iI,backendName:"cpu",kernelFunc:Rbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pbe=H3,Fbe=K3,Obe=q3,$be=X3,Lbe=Y3,Mbe=Z3,Bbe=qa(qy,t=>{const e=Math.sign(t),a=Math.abs(t),n=1/(1+Pbe*a);return e*(1-((((Mbe*n+Lbe)*n+$be)*n+Obe)*n+Fbe)*n*Math.exp(-a*a))}),zbe={kernelName:qy,backendName:"cpu",kernelFunc:Bbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ww(t){const{inputs:e,backend:a,attrs:n}=t,{input:r}=e,{dim:s}=n,i=r.shape.length,o=r.shape.slice();let c=s;return s<0&&(K(-(i+1)<=s,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),c=i+s+1),o.splice(c,0,1),on({inputs:{x:r},backend:a,attrs:{shape:o}})}const Gbe={kernelName:Rb,backendName:"cpu",kernelFunc:ww};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ube=Gn((t,e)=>t/e),$R=lr(Hy,Ube),NE={kernelName:Hy,backendName:"cpu",kernelFunc:$R};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pV(t,e,a){const n=t.shape,r=n[0],s=n[1],i=a.data.get(t.dataId),o=i.complexTensorInfos.real,c=i.complexTensorInfos.imag,l=[r,s],u=Me(l),d=$r("float32",u),p=$r("float32",u);for(let v=0;v<r;v++){const k=_d({inputs:{x:o},backend:a,attrs:{begin:[v,0],size:[1,s]}}),b=_d({inputs:{x:c},backend:a,attrs:{begin:[v,0],size:[1,s]}}),_=js({inputs:{real:k,imag:b},backend:a}),{real:A,imag:S}=Wbe(_,e,a),C=yl(A,S);for(let E=0;E<s;E++){const R=J3(C,E);d[v*s+E]=R.real,p[v*s+E]=R.imag}a.disposeIntermediateTensorInfo(k),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(_)}const m=a.makeTensorInfo(l,"float32",d),g=a.makeTensorInfo(l,"float32",p),x=js({inputs:{real:m,imag:g},backend:a});return a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(g),x}function Wbe(t,e,a){const n=Me(t.shape),r=a.data.get(t.dataId),s=a.data.get(r.complexTensorInfos.real.dataId).values,i=a.data.get(r.complexTensorInfos.imag.dataId).values;if(Vbe(n)){const o=SE(s,i,n,e,a),c=[t.shape[0],t.shape[1]];if(e){const l=a.makeTensorInfo(c,"float32",o.real),u=a.makeTensorInfo(c,"float32",o.imag),d=a.makeTensorInfo([],"float32",Uu(n,"float32")),p=_c({inputs:{x:d},backend:a}),m=NE.kernelFunc({inputs:{a:l,b:d},backend:a}),g=NE.kernelFunc({inputs:{a:u,b:p},backend:a}),x=a.data.get(m.dataId).values,v=a.data.get(g.dataId).values;return a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(g),{real:x,imag:v}}return o}else{const o=yl(s,i),c=jbe(o,n,e);return AU(c)}}function Vbe(t){return(t&t-1)===0}function SE(t,e,a,n,r){if(a===1)return{real:t,imag:e};const s=yl(t,e),i=a/2,o=NU(s),c=o.real,l=o.imag,u=[c.length],d=r.makeTensorInfo(u,"float32",c),p=r.makeTensorInfo(u,"float32",l),m=js({inputs:{real:d,imag:p},backend:r}),g=SU(s),x=g.real,v=g.imag,k=[x.length],b=r.makeTensorInfo(k,"float32",x),_=r.makeTensorInfo(k,"float32",v),A=js({inputs:{real:b,imag:_},backend:r}),S=SE(c,l,i,n,r),C=S.real,E=S.imag,R=[C.length],I=r.makeTensorInfo(R,"float32",C),P=r.makeTensorInfo(R,"float32",E),D=js({inputs:{real:I,imag:P},backend:r}),B=SE(x,v,i,n,r),U=B.real,V=B.imag,j=[U.length],W=r.makeTensorInfo(j,"float32",U),Q=r.makeTensorInfo(j,"float32",V),q=js({inputs:{real:W,imag:Q},backend:r}),Z=EU(a,n),M=[Z.real.length],se=r.makeTensorInfo(M,"float32",Z.real),ue=r.makeTensorInfo(M,"float32",Z.imag),le=js({inputs:{real:se,imag:ue},backend:r}),ie=e2({inputs:{a:le,b:q},backend:r}),ye=Hp({inputs:{a:D,b:ie},backend:r}),ke=FR({inputs:{a:D,b:ie},backend:r}),ge=bd({inputs:{input:ye},backend:r}),G=bd({inputs:{input:ke},backend:r}),te=Kp({inputs:{input:ye},backend:r}),ee=Kp({inputs:{input:ke},backend:r}),ne=qp({inputs:[ge,G],backend:r,attrs:{axis:0}}),be=qp({inputs:[te,ee],backend:r,attrs:{axis:0}}),Y=r.data.get(ne.dataId).values,Ae=r.data.get(be.dataId).values;return r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(A),r.disposeIntermediateTensorInfo(I),r.disposeIntermediateTensorInfo(P),r.disposeIntermediateTensorInfo(D),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(Q),r.disposeIntermediateTensorInfo(q),r.disposeIntermediateTensorInfo(se),r.disposeIntermediateTensorInfo(ue),r.disposeIntermediateTensorInfo(le),r.disposeIntermediateTensorInfo(ie),r.disposeIntermediateTensorInfo(ye),r.disposeIntermediateTensorInfo(ke),r.disposeIntermediateTensorInfo(ge),r.disposeIntermediateTensorInfo(te),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(ee),r.disposeIntermediateTensorInfo(ne),r.disposeIntermediateTensorInfo(be),{real:Y,imag:Ae}}function jbe(t,e,a){const n=new Float32Array(e*2);for(let r=0;r<e;r++){let s=0,i=0;for(let o=0;o<e;o++){const c=CU(r*o,e,a),l=J3(t,o);s+=l.real*c.real-l.imag*c.imag,i+=l.real*c.imag+l.imag*c.real}a&&(s/=e,i/=e),TU(n,s,i,r)}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hbe(t){const{inputs:e,backend:a}=t,{input:n}=e,r=Me(n.shape),s=n.shape[n.shape.length-1],i=r/s,o=on({inputs:{x:n},backend:a,attrs:{shape:[i,s]}}),c=pV(o,!1,a),l=on({inputs:{x:c},backend:a,attrs:{shape:n.shape}});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(c),l}const Kbe={kernelName:oI,backendName:"cpu",kernelFunc:Hbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LR(t){const{backend:e,attrs:a}=t,{shape:n,value:r,dtype:s}=a,i=s||dm(r),o=Ln(i,Me(n));return Xbe(o,r,i),e.makeTensorInfo(n,i,o)}const qbe={kernelName:cI,backendName:"cpu",kernelFunc:LR};function Xbe(t,e,a){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ybe={kernelName:lI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:a})=>{const{image:n}=t,r=a,s=$r(n.dtype,Me(n.shape)),[i,o,c,l]=n.shape,u=r.data.get(n.dataId).values;for(let p=0;p<i;p++){const m=p*c*o*l;for(let g=0;g<o;g++){const x=g*(c*l);for(let v=0;v<c;v++){const k=v*l;for(let b=0;b<l;b++){const _=Math.round(c-v-1),A=m+x+k+b;let S=u[A];if(_>=0&&_<c){const C=_*l,E=m+x+C+b;S=u[E]}s[A]=S}}}}return{dataId:r.write(s,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zbe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s,bias:i,preluActivationWeights:o}=e,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p,activation:m,leakyreluAlpha:g}=n;let x=dV({inputs:{x:r,filter:s},backend:a,attrs:{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p}});if(i){const v=x;if(u==="NCHW"&&i.shape.length===1&&i.shape[0]!==1){const k=on({inputs:{x:i},backend:a,attrs:{shape:[i.shape[0],1,1]}});x=Hp({inputs:{a:x,b:k},backend:a}),a.disposeIntermediateTensorInfo(k)}else x=Hp({inputs:{a:x,b:i},backend:a});a.disposeIntermediateTensorInfo(v)}if(m){const v=x;if(u==="NCHW"&&m==="prelu"&&o.shape.length===1&&o.shape[0]!==1){const k=on({inputs:{x:o},backend:a,attrs:{shape:[o.shape[0],1,1]}});x=kw(a,x,m,k,g),a.disposeIntermediateTensorInfo(k)}else x=kw(a,x,m,o,g);a.disposeIntermediateTensorInfo(v)}return x}const Jbe={kernelName:ew,backendName:"cpu",kernelFunc:Zbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qbe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s,bias:i,preluActivationWeights:o}=e,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p,activation:m,leakyreluAlpha:g}=n;let x=hV({inputs:{x:r,filter:s},backend:a,attrs:{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p}});if(i){const v=x;x=Hp({inputs:{a:x,b:i},backend:a}),a.disposeIntermediateTensorInfo(v)}if(m){const v=x;x=kw(a,x,m,o,g),a.disposeIntermediateTensorInfo(v)}return x}const e_e={kernelName:tw,backendName:"cpu",kernelFunc:Qbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t_e(t){const{inputs:e,backend:a}=t,{params:n,indices:r}=e,s=Me(n.shape),i=r.shape,o=i[i.length-1],[c,l,u,d]=O3(n,r);if(l===0)return a.makeTensorInfo(c,n.dtype,[]);const p=a.data.get(r.dataId).values,m=a.bufferSync(n),g=AW(p,m,n.dtype,l,o,u,d,n.shape,s);return a.makeTensorInfo(c,n.dtype,g.values)}const a_e={kernelName:uI,backendName:"cpu",kernelFunc:t_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n_e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,indices:s}=e,{axis:i,batchDims:o}=n;vt([r,s],"gatherV2");const c=pa(i,r.shape)[0],l=a.data.get(s.dataId).values,u=r.shape[c];for(let A=0;A<l.length;++A){const S=l[A];K(S<=u-1&&S>=0,()=>`GatherV2: the index value ${S} is not in [0, ${u-1}]`)}let d=o;o==null&&(d=0);const p=Me(s.shape),m=sR(r,s,c,d),g=on({inputs:{x:r},backend:a,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),x=on({inputs:{x:s},backend:a,attrs:{shape:[m.batchSize,p/m.batchSize]}}),v=[m.batchSize,m.outerSize,p/m.batchSize,m.sliceSize],k=a.bufferSync(x),b=a.bufferSync(g),_=NW(b,k,v);return a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(x),a.makeTensorInfo(m.outputShape,_.dtype,_.values)}const r_e={kernelName:Pb,backendName:"cpu",kernelFunc:n_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s_e(t){const{inputs:e,backend:a}=t,{input:n}=e,r=Me(n.shape),s=n.shape[n.shape.length-1],i=r/s,o=on({inputs:{x:n},backend:a,attrs:{shape:[i,s]}}),c=pV(o,!0,a),l=on({inputs:{x:c},backend:a,attrs:{shape:n.shape}});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(c),l}const i_e={kernelName:fI,backendName:"cpu",kernelFunc:s_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o_e=qa(t1,t=>Number.isFinite(t)?1:0,"bool"),c_e={kernelName:t1,backendName:"cpu",kernelFunc:o_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l_e=qa(a1,t=>Math.abs(t)===1/0?1:0,"bool"),u_e={kernelName:a1,backendName:"cpu",kernelFunc:l_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f_e=qa(n1,t=>Number.isNaN(t)?1:0,"bool"),d_e={kernelName:n1,backendName:"cpu",kernelFunc:f_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h_e(t){const{backend:e,attrs:a}=t,{start:n,stop:r,num:s}=a,i=IW(n,r,s);return e.makeTensorInfo([i.length],"float32",i)}const p_e={kernelName:hI,backendName:"cpu",kernelFunc:h_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m_e=qa(s1,t=>Math.log1p(t)),g_e={kernelName:s1,backendName:"cpu",kernelFunc:m_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y_e=Gn((t,e)=>t&&e),v_e=lr(Mb,y_e,null,"bool"),x_e={kernelName:Mb,backendName:"cpu",kernelFunc:v_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k_e=qa(Bb,t=>t?0:1,"bool"),w_e={kernelName:Bb,backendName:"cpu",kernelFunc:k_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b_e=Gn((t,e)=>t||e),__e=lr(zb,b_e,null,"bool"),A_e={kernelName:zb,backendName:"cpu",kernelFunc:__e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N_e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{depthRadius:s,bias:i,alpha:o,beta:c}=n;vt(r,"LRN");const l=r.shape[3],u=l-1,d=a.data.get(r.dataId).values,p=Me(r.shape),m=new Float32Array(p);function g(x){const v=x%l;let k=x-v+Math.max(0,v-s);const b=x-v+Math.min(v+s,u);let _=0;for(;k<=b;k++){const A=d[k];_+=A*A}return _}for(let x=0;x<p;x++){const v=g(x),k=d[x]*Math.pow(i+o*v,-c);m[x]=k}return a.makeTensorInfo(r.shape,r.dtype,m)}const S_e={kernelName:Gb,backendName:"cpu",kernelFunc:N_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T_e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,y:s,dy:i}=e,{depthRadius:o,bias:c,alpha:l,beta:u}=n;vt(i,"LRNGrad");const d=Me(i.shape),p=i.shape[3],m=a.data.get(i.dataId).values,g=a.data.get(r.dataId).values,x=a.data.get(s.dataId).values,v=new Float32Array(d),k=d;for(let b=0;b<k;b++){const _=b%p,A=b-_+Math.max(0,_-o),S=b-_+Math.min(p,_+o+1);let C=0;for(let E=A;E<S;E++)C+=Math.pow(g[E],2);C=l*C+c;for(let E=A;E<S;E++){let R=-2*l*u*g[E]*x[b]/C;b===E&&(R+=Math.pow(C,-u)),R*=m[b],v[E]+=R}}return a.makeTensorInfo(i.shape,r.dtype,v)}const E_e={kernelName:pI,backendName:"cpu",kernelFunc:T_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mV(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{reductionIndices:s,keepDims:i}=n,o=a;let c=r.shape;const l=c.length,u=pa(s,c);let d=u;const p=kn(d,l);let m=o.data.get(r.dataId).values;if(p!=null){const A=new Array(l);for(let S=0;S<A.length;S++)A[S]=c[p[S]];m=DR(m,c,r.dtype,p,A),d=Bn(d.length,l),c=A}vt(r,"max"),Br("max",d,l);const[g,x]=_r(c,d),v=Me(x),k=DW(m,v,g,r.dtype),b=o.write(k,g,r.dtype);let _=g;return i&&(_=Mn(g,u)),{dataId:b,shape:_,dtype:r.dtype}}const C_e={kernelName:Ub,backendName:"cpu",kernelFunc:mV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I_e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e;vt(r,"maxPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=n,l=1;K(Mr(i,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);const u=ro(r.shape,s,i,l,o,c);let d;if(u.filterWidth===1&&u.filterHeight===1&&_a(u.inShape,u.outShape))d=_c({inputs:{x:r},backend:a});else{const p=a.data.get(r.dataId).values,m=Dt(r.shape),g=OR(p,r.shape,r.dtype,m,u,"max");d=a.makeTensorInfo(u.outShape,r.dtype,g.values)}return d}const R_e={kernelName:Wb,backendName:"cpu",kernelFunc:I_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D_e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:c,dataFormat:l}=n;vt(r,"maxPool3d");const u=Nl(r.shape,s,i,1,o,c,l),d=a.data.get(r.dataId).values,p=fV(d,r.shape,r.dtype,Dt(r.shape),u,"max");return a.makeTensorInfo(p.shape,"float32",p.values)}const P_e={kernelName:Vb,backendName:"cpu",kernelFunc:D_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F_e(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,input:s}=e,{filterSize:i,strides:o,pad:c,dimRoundingMode:l}=n;vt([r,s],"maxPool3DGrad");const u=Nl(s.shape,i,o,1,c,l),d=a.bufferSync(s),p=bwe(d,u),m=u.strideDepth,g=u.strideHeight,x=u.strideWidth,v=u.dilationDepth,k=u.dilationHeight,b=u.dilationWidth,_=u.effectiveFilterDepth,A=u.effectiveFilterHeight,S=u.effectiveFilterWidth,C=_-1-u.padInfo.front,E=S-1-u.padInfo.left,R=A-1-u.padInfo.top,I=ra(s.shape,"float32"),P=a.bufferSync(r);for(let D=0;D<u.batchSize;++D)for(let B=0;B<u.inChannels;++B)for(let U=0;U<u.inDepth;++U)for(let V=0;V<u.inHeight;++V)for(let j=0;j<u.inWidth;++j){const W=U-C,Q=V-R,q=j-E;let Z=0;for(let M=0;M<_;M+=v){const se=(W+M)/m;if(!(se<0||se>=u.outDepth||Math.floor(se)!==se))for(let ue=0;ue<A;ue+=k){const le=(Q+ue)/g;if(!(le<0||le>=u.outHeight||Math.floor(le)!==le))for(let ie=0;ie<S;ie+=b){const ye=(q+ie)/x;if(ye<0||ye>=u.outWidth||Math.floor(ye)!==ye)continue;const ke=_*A*S-1-p.get(D,se,le,ye,B),ge=M*A*S+ue*S+ie,G=ke===ge?1:0;if(G===0)continue;const te=P.get(D,se,le,ye,B);Z+=te*G}}}I.set(Z,D,U,V,j,B)}return a.makeTensorInfo(I.shape,I.dtype,I.values)}const O_e={kernelName:gI,backendName:"cpu",kernelFunc:F_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $_e(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,input:s,output:i}=e,o=s;vt([s,i],"maxPoolGrad");const{filterSize:c,strides:l,pad:u,dimRoundingMode:d}=n,p=ro(o.shape,c,l,1,u,d),m=a.data.get(o.dataId).values,g=ra(p.outShape,o.dtype,uV(m,o.shape,o.dtype,p).values),x=p.strideHeight,v=p.strideWidth,k=p.dilationHeight,b=p.dilationWidth,_=p.effectiveFilterHeight,A=p.effectiveFilterWidth,S=A-1-p.padInfo.left,C=_-1-p.padInfo.top,E=ra(o.shape,"float32"),R=a.data.get(r.dataId).values,I=ra(r.shape,"float32",R);for(let P=0;P<p.batchSize;++P)for(let D=0;D<p.inChannels;++D)for(let B=0;B<p.inHeight;++B)for(let U=0;U<p.inWidth;++U){const V=B-C,j=U-S;let W=0;for(let Q=0;Q<_;Q+=k){const q=(V+Q)/x;if(!(q<0||q>=p.outHeight||Math.floor(q)!==q))for(let Z=0;Z<A;Z+=b){const M=(j+Z)/v;if(M<0||M>=p.outWidth||Math.floor(M)!==M)continue;const se=_*A-1-g.get(P,q,M,D),ue=Q*A+Z,le=se===ue?1:0;if(le===0)continue;const ie=I.get(P,q,M,D);W+=ie*le}}E.set(W,P,B,U,D)}return a.makeTensorInfo(E.shape,E.dtype,E.values)}const L_e={kernelName:mI,backendName:"cpu",kernelFunc:$_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M_e(t,e,a,n,r){const s=Dt(e),i=OR(t,e,a,s,r,"max"),o=uV(t,e,a,r,!0,n);return[i.values,o.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B_e={kernelName:yI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:a})=>{const{x:n}=t,{filterSize:r,strides:s,pad:i,includeBatchInIndex:o}=e,c=a;vt(n,"MaxPoolWithArgmax");const l=c.data.get(n.dataId).values,u=ro(n.shape,r,s,[1,1],i),[d,p]=M_e(l,n.shape,n.dtype,o,u),m=c.write(d,u.outShape,n.dtype),g=c.write(p,u.outShape,n.dtype);return[{dataId:m,shape:u.outShape,dtype:n.dtype},{dataId:g,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z_e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n,o=pa(s,r.shape),l=_r(r.shape,o)[1],u=Me(l),d=[],p=a.makeTensorInfo([],"float32",new Float32Array([u]));d.push(p);const m=Ru({inputs:{x:r},backend:a,attrs:{dtype:"float32"}});d.push(m);const g=$R({inputs:{a:m,b:p},backend:a});d.push(g);const x=q1({inputs:{x:g},backend:a,attrs:{axis:s,keepDims:i}});return d.forEach(v=>a.disposeIntermediateTensorInfo(v)),x}const G_e={kernelName:jb,backendName:"cpu",kernelFunc:z_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U_e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n;vt(r,"min");const o=pa(s,r.shape);let c=o;const l=kn(c,r.shape.length);let u=r;l!=null&&(u=Fs({inputs:{x:r},backend:a,attrs:{perm:l}}),c=Bn(c.length,r.shape.length)),Br("min",c,u.shape.length);const[d,p]=_r(u.shape,c),m=Me(p),g=Kr(Me(d),u.dtype),x=a.data.get(u.dataId).values;for(let k=0;k<g.length;++k){const b=k*m;let _=x[b];for(let A=0;A<m;++A){const S=x[b+A];(Number.isNaN(S)||S<_)&&(_=S)}g[k]=_}l!=null&&a.disposeIntermediateTensorInfo(u);const v=a.makeTensorInfo(d,u.dtype,g);if(i){const k=Mn(d,o),b=on({inputs:{x:v},backend:a,attrs:{shape:k}});return a.disposeIntermediateTensorInfo(v),b}return v}const W_e={kernelName:Hb,backendName:"cpu",kernelFunc:U_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V_e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{paddings:s,mode:i}=n;vt(r,"mirrorPad");const o=s.map((_,A)=>_[0]+r.shape[A]+_[1]),c=s.map(_=>_[0]),l=s.map((_,A)=>_[0]+r.shape[A]),u=i==="reflect"?0:1,d=a.data.get(r.dataId).values,p=r.shape.length,m=Dt(r.shape),g=Me(o),x=o.length,v=Dt(o),k=$r(r.dtype,g);for(let _=0;_<g;_++){let A=hm(_,x,v);for(let C=0;C<x;C++)A[C]<c[C]?A[C]=c[C]*2-A[C]-u:A[C]>=l[C]&&(A[C]=(l[C]-1)*2-A[C]+u);A=A.map((C,E)=>C-c[E]);const S=hc(A,p,m);k[_]=d[S]}return{dataId:a.write(k,o,r.dtype),shape:o,dtype:r.dtype}}const j_e={kernelName:Kb,backendName:"cpu",kernelFunc:V_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H_e=Gn((t,e)=>{const a=t%e;return t<0&&e<0||t>=0&&e>=0?a:(a+e)%e}),K_e=lr(c1,H_e),q_e={kernelName:c1,backendName:"cpu",kernelFunc:K_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gV(t){const{inputs:e,backend:a,attrs:n}=t,{logits:r}=e,{dim:s}=n,i=r.shape.length;let o=s;if(o===-1&&(o=i-1),o!==i-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${i} and dim was ${o}`);const c=pa([o],r.shape),l=mV({inputs:{x:r},backend:a,attrs:{reductionIndices:c,keepDims:!1}}),u=Mn(l.shape,c),d=on({inputs:{x:l},backend:a,attrs:{shape:u}}),p=FR({inputs:{a:r,b:d},backend:a}),m=kW({inputs:{x:p},backend:a}),g=q1({inputs:{x:m},backend:a,attrs:{axis:c,keepDims:!1}}),x=on({inputs:{x:g},backend:a,attrs:{shape:u}}),v=$R({inputs:{a:m,b:x},backend:a});return a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(x),v}const X_e={kernelName:f_,backendName:"cpu",kernelFunc:gV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y_e(t){const{inputs:e,backend:a,attrs:n}=t,{logits:r}=e,{numSamples:s,seed:i,normalized:o}=n;vt(r,"multinomial");const c=o?r:gV({inputs:{logits:r},backend:a,attrs:{dim:-1}}),l=c.shape[0],u=c.shape[1],d=a.data.get(c.dataId).values,p=[l,s],m=Kr(Me(p),"int32");for(let g=0;g<l;++g){const x=g*u,v=new Float32Array(u-1);v[0]=d[x];for(let _=1;_<v.length;++_)v[_]=v[_-1]+d[x+_];const k=C_.alea(i.toString()),b=g*s;for(let _=0;_<s;++_){const A=k();m[b+_]=v.length;for(let S=0;S<v.length;S++)if(A<v[S]){m[b+_]=S;break}}}return o||a.disposeIntermediateTensorInfo(c),a.makeTensorInfo(p,"int32",m)}const Z_e={kernelName:vI,backendName:"cpu",kernelFunc:Y_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J_e=E3;function Q_e(t){const{inputs:e,backend:a,attrs:n}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c}=n;vt(r,"NonMaxSuppression");const l=a.data.get(r.dataId).values,u=a.data.get(s.dataId).values,{selectedIndices:d}=J_e(l,u,i,o,c);return a.makeTensorInfo([d.length],"int32",new Int32Array(d))}const e2e={kernelName:xI,backendName:"cpu",kernelFunc:Q_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t2e=C3;function a2e(t){const{inputs:e,backend:a,attrs:n}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c,padToMaxOutputSize:l}=n;vt(r,"NonMaxSuppressionPadded");const u=a.data.get(r.dataId).values,d=a.data.get(s.dataId).values,{selectedIndices:p,validOutputs:m}=t2e(u,d,i,o,c,l);return[a.makeTensorInfo([p.length],"int32",new Int32Array(p)),a.makeTensorInfo([],"int32",new Int32Array([m]))]}const n2e={kernelName:kI,backendName:"cpu",kernelFunc:a2e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r2e=I3;function s2e(t){const{inputs:e,backend:a,attrs:n}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c,softNmsSigma:l}=n;vt(r,"NonMaxSuppressionWithScore");const u=a.data.get(r.dataId).values,d=a.data.get(s.dataId).values,p=i,m=o,g=c,x=l,{selectedIndices:v,selectedScores:k}=r2e(u,d,p,m,g,x);return[a.makeTensorInfo([v.length],"int32",new Int32Array(v)),a.makeTensorInfo([k.length],"float32",new Float32Array(k))]}const i2e={kernelName:wI,backendName:"cpu",kernelFunc:s2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o2e(t){const{inputs:e,backend:a,attrs:n}=t,{indices:r}=e,{dtype:s,depth:i,onValue:o,offValue:c}=n;vt(r,"oneHot");const l=Me(r.shape),u=new Float32Array(l*i);u.fill(c);const d=a.data.get(r.dataId).values;for(let p=0;p<l;++p)d[p]>=0&&d[p]<i&&(u[p*i+d[p]]=o);return a.makeTensorInfo([...r.shape,i],s,u)}const c2e={kernelName:Zb,backendName:"cpu",kernelFunc:o2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bw(t){const{inputs:e,backend:a}=t,{x:n}=e;if(n.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(n.dtype==="complex64"){const r=bd({inputs:{input:n},backend:a}),s=bw({inputs:{x:r},backend:a}),i=Kp({inputs:{input:n},backend:a}),o=bw({inputs:{x:i},backend:a}),c=js({inputs:{real:s,imag:o},backend:a});return a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(i),a.disposeIntermediateTensorInfo(o),c}else return LR({backend:a,attrs:{shape:n.shape,value:0,dtype:n.dtype}})}const l2e={kernelName:m_,backendName:"cpu",kernelFunc:bw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yV(t){const{inputs:e,backend:a}=t,{x:n}=e;if(n.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(n.dtype==="complex64"){const r=bd({inputs:{input:n},backend:a}),s=yV({inputs:{x:r},backend:a}),i=Kp({inputs:{input:n},backend:a}),o=bw({inputs:{x:i},backend:a}),c=js({inputs:{real:s,imag:o},backend:a});return a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(i),a.disposeIntermediateTensorInfo(o),c}else return LR({backend:a,attrs:{shape:n.shape,value:1,dtype:n.dtype}})}const u2e={kernelName:Yb,backendName:"cpu",kernelFunc:yV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vV(t){const{inputs:e,backend:a,attrs:n}=t,{axis:r}=n;if(e.length===1)return ww({inputs:{input:e[0]},backend:a,attrs:{dim:r}});const s=e[0].shape,i=e[0].dtype;e.forEach(u=>{ti(s,u.shape,"All tensors passed to stack must have matching shapes"),K(i===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],c=e.map(u=>{const d=ww({inputs:{input:u},backend:a,attrs:{dim:r}});return o.push(d),d}),l=qp({inputs:c,backend:a,attrs:{axis:r}});return o.forEach(u=>a.disposeIntermediateTensorInfo(u)),l}const f2e={kernelName:Jb,backendName:"cpu",kernelFunc:vV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d2e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{paddings:s,constantValue:i}=n;vt(r,"pad");const o=s.map((b,_)=>b[0]+r.shape[_]+b[1]),c=s.map(b=>b[0]),l=a.data.get(r.dataId).values,u=Me(r.shape),d=r.shape.length,p=Dt(r.shape),m=Me(o),g=o.length,x=Dt(o),v=$r(r.dtype,m);i!==0&&v.fill(i);for(let b=0;b<u;b++){const A=hm(b,d,p).map((C,E)=>C+c[E]),S=hc(A,g,x);v[S]=l[b]}return{dataId:a.write(v,o,r.dtype),shape:o,dtype:r.dtype}}const xV={kernelName:Qb,backendName:"cpu",kernelFunc:d2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h2e=Gn((t,e)=>Math.pow(t,e)),p2e=lr(u1,h2e),m2e={kernelName:u1,backendName:"cpu",kernelFunc:p2e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g2e(t){const{inputs:e,backend:a,attrs:n}=t,{paramsNestedSplits:r,paramsDenseValues:s,indices:i}=e,{outputRaggedRank:o}=n,c=r.map(k=>a.data.get(k.dataId).values),l=r.map(k=>k.shape),u=a.data.get(s.dataId).values,d=a.data.get(i.dataId).values,[p,m,g]=MW(c,l,u,s.shape,s.dtype,d,i.shape),x=p.map(k=>a.makeTensorInfo([k.length],"int32",k)),v=a.makeTensorInfo(g,s.dtype,m);return x.concat([v])}const y2e={kernelName:bI,backendName:"cpu",kernelFunc:g2e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v2e(t){const{inputs:e,backend:a}=t,{starts:n,limits:r,deltas:s}=e,i=a.data.get(n.dataId).values,o=a.data.get(r.dataId).values,c=a.data.get(s.dataId).values,[l,u]=BW(i,n.shape,n.dtype,o,r.shape,c,s.shape),d=a.makeTensorInfo([l.length],"int32",l),p=a.makeTensorInfo([u.length],n.dtype,u);return[d,p]}const x2e={kernelName:_I,backendName:"cpu",kernelFunc:v2e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k2e(t){const{inputs:e,backend:a,attrs:n}=t,{shape:r,values:s,defaultValue:i,rowPartitionTensors:o}=e,{rowPartitionTypes:c}=n,l=a.data.get(r.dataId).values,u=a.data.get(s.dataId).values,d=a.data.get(i.dataId).values,p=o.map(v=>a.data.get(v.dataId).values),m=o.map(v=>v.shape),[g,x]=zW(l,r.shape,u,s.shape,s.dtype,d,i.shape,p,m,c);return a.makeTensorInfo(g,s.dtype,x)}const w2e={kernelName:AI,backendName:"cpu",kernelFunc:k2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b2e(t){const{backend:e,attrs:a}=t,{start:n,stop:r,dtype:s,step:i}=a,o=GW(n,r,i,s);return e.makeTensorInfo([o.length],s,o)}const _2e={kernelName:NI,backendName:"cpu",kernelFunc:b2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A2e=qa(f1,t=>1/t),N2e={kernelName:f1,backendName:"cpu",kernelFunc:A2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S2e(t){const{inputs:e,backend:a,attrs:n}=t,{images:r}=e,{alignCorners:s,halfPixelCenters:i,size:o}=n;vt(r,"resizeBilinear");const c=Dt(r.shape),[l,u]=o,[d,p,m,g]=r.shape,x=a.data.get(r.dataId).values,v=new Float32Array(Me([d,l,u,g])),k=[s&&l>1?p-1:p,s&&u>1?m-1:m],b=[s&&l>1?l-1:l,s&&u>1?u-1:u];let _=0;const A=k[0]/b[0],S=k[1]/b[1];for(let C=0;C<d;C++)for(let E=0;E<l;E++){let R;i?R=A*(E+.5)-.5:R=A*E;const I=Math.max(0,Math.floor(R)),P=R-I,D=Math.min(p-1,Math.ceil(R)),B=C*c[0]+I*c[1],U=C*c[0]+D*c[1];for(let V=0;V<u;V++){let j;i?j=S*(V+.5)-.5:j=S*V;const W=Math.max(0,Math.floor(j)),Q=j-W,q=Math.min(m-1,Math.ceil(j)),Z=B+W*c[2],M=U+W*c[2],se=B+q*c[2],ue=U+q*c[2];for(let le=0;le<g;le++){const ie=x[Z+le],ye=x[M+le],ke=x[se+le],ge=x[ue+le],G=ie+(ke-ie)*Q,te=ye+(ge-ye)*Q,ee=G+(te-G)*P;v[_++]=ee}}}return a.makeTensorInfo([d,l,u,g],"float32",v)}const T2e={kernelName:r_,backendName:"cpu",kernelFunc:S2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E2e(t){const{inputs:e,backend:a,attrs:n}=t,{images:r,dy:s}=e,{alignCorners:i}=n;vt([s,r],"resizeBilinearGrad");const o=Dt(r.shape),[c,l,u,d]=r.shape,[,p,m]=s.shape,g=new Float32Array(c*l*u*d),x=[i&&p>1?l-1:l,i&&m>1?u-1:u],v=[i&&p>1?p-1:p,i&&m>1?m-1:m],k=x[0]/v[0],b=x[1]/v[1],_=a.data.get(s.dataId).values;let A=0;for(let S=0;S<c;S++){const C=S*o[0];for(let E=0;E<p;E++){const R=E*k,I=Math.floor(R),P=Math.min(Math.ceil(R),l-1),D=C+I*o[1],B=C+P*o[1],U=R-I,V=1-U;for(let j=0;j<m;j++){const W=j*b,Q=Math.floor(W),q=Math.min(Math.ceil(W),u-1),Z=W-Q,M=1-Z,se=D+Q*o[2],ue=D+q*o[2],le=B+Q*o[2],ie=B+q*o[2],ye=V*M,ke=V*Z,ge=U*M,G=U*Z;for(let te=0;te<d;te++){const ee=_[A++];g[se+te]+=ee*ye,g[ue+te]+=ee*ke,g[le+te]+=ee*ge,g[ie+te]+=ee*G}}}}return a.makeTensorInfo([c,u,l,d],"float32",g)}const C2e={kernelName:EI,backendName:"cpu",kernelFunc:E2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I2e(t){const{inputs:e,backend:a,attrs:n}=t,{images:r}=e,{alignCorners:s,halfPixelCenters:i,size:o}=n;vt(r,"resizeNearestNeighbor");const c=Dt(r.shape),[l,u]=o,[d,p,m,g]=r.shape,x=a.data.get(r.dataId).values,v=new Float32Array(d*l*u*g),k=[s&&l>1?p-1:p,s&&u>1?m-1:m],b=[s&&l>1?l-1:l,s&&u>1?u-1:u],_=k[0]/b[0],A=k[1]/b[1];let S=0;for(let C=0;C<d;C++){const E=C*c[0];for(let R=0;R<l;R++){const I=i?_*(R+.5):_*R;let P=Math.min(p-1,s?Math.round(I):Math.floor(I));i&&(P=Math.max(0,P));const D=E+P*c[1];for(let B=0;B<u;B++){const U=i?A*(B+.5):A*B;let V=Math.min(m-1,s?Math.round(U):Math.floor(U));i&&(V=Math.max(0,V));const j=D+V*c[2];for(let W=0;W<g;W++){const Q=x[j+W];v[S++]=Q}}}}return a.makeTensorInfo([d,l,u,g],r.dtype,v)}const R2e={kernelName:n_,backendName:"cpu",kernelFunc:I2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D2e(t){const{inputs:e,backend:a,attrs:n}=t,{images:r,dy:s}=e,{alignCorners:i}=n;vt([s,r],"resizeNearestNeighborGrad");const o=Dt(r.shape),c=Dt(s.shape),[l,u,d,p]=r.shape,[,m,g]=s.shape,x=new Float32Array(l*u*d*p),v=a.data.get(s.dataId).values,k=[i&&m>1?u-1:u,i&&g>1?d-1:d],b=[i&&m>1?m-1:m,i&&g>1?g-1:g],_=k[0]/b[0],A=k[1]/b[1],S=1/_,C=1/A,E=Math.ceil(S)*2+2,R=Math.ceil(C)*2+2;for(let I=0;I<l;I++){const P=I*o[0];for(let D=0;D<u;D++){const B=P+D*o[1],U=Math.floor(D*S),V=Math.floor(U-E/2);for(let j=0;j<d;j++){const W=B+j*o[2],Q=Math.floor(j*C),q=Math.floor(Q-R/2);for(let Z=0;Z<p;Z++){let M=0;for(let se=0;se<E;se++){const ue=se+V;if(ue<0||ue>=m)continue;const le=P+ue*c[1],ie=ue*_,ye=Math.min(u-1,i?Math.round(ie):Math.floor(ie));if(D===ye)for(let ke=0;ke<R;ke++){const ge=ke+q;if(ge<0||ge>=g)continue;const G=le+ge*c[2],te=ge*A,ee=Math.min(d-1,i?Math.round(te):Math.floor(te));j===ee&&(M+=v[G+Z])}}x[W+Z]=M}}}}return a.makeTensorInfo(r.shape,r.dtype,x)}const P2e={kernelName:TI,backendName:"cpu",kernelFunc:D2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F2e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{dims:s}=n;vt(r,"reverse");const i=r.shape.length,o=pa(s,r.shape);if(i===0)return _c({inputs:{x:r},backend:a});const c=new rr(r.shape,r.dtype),l=a.bufferSync(r);for(let u=0;u<c.size;u++){const d=c.indexToLoc(u),p=d.slice();o.forEach(m=>p[m]=r.shape[m]-1-p[m]),c.set(l.get(...p),...d)}return a.makeTensorInfo(c.shape,c.dtype,c.values)}const O2e={kernelName:s_,backendName:"cpu",kernelFunc:F2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $2e={kernelName:jI,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:a})=>{const{image:n}=t,{radians:r,fillValue:s,center:i}=e,o=a,c=$r(n.dtype,Me(n.shape)),[l,u,d,p]=n.shape,[m,g]=W3(i,u,d),x=255,v=Math.sin(r),k=Math.cos(r),b=o.data.get(n.dataId).values;for(let A=0;A<l;A++){const S=A*d*u*p;for(let C=0;C<u;C++){const E=C*(d*p);for(let R=0;R<d;R++){const I=R*p;for(let P=0;P<p;P++){const D=[l,C,R,P],B=D[2],U=D[1];let V=(B-m)*k-(U-g)*v,j=(B-m)*v+(U-g)*k;V=Math.round(V+m),j=Math.round(j+g);let W=s;if(typeof s!="number"&&(P===3?W=x:W=s[P]),V>=0&&V<d&&j>=0&&j<u){const q=j*(d*p),Z=V*p,M=S+q+Z+P;W=b[M]}const Q=S+E+I+P;c[Q]=W}}}}return{dataId:o.write(c,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L2e=qa(p1,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),M2e={kernelName:p1,backendName:"cpu",kernelFunc:L2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B2e(t){const{inputs:e,backend:a,attrs:n}=t,{indices:r,updates:s}=e,{shape:i}=n,{sliceRank:o,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=jd(s,r,i),p=!0,m=a.bufferSync(r),g=a.bufferSync(s),x=Hf(m,g,i,d,l,c,o,u,0,p);return a.makeTensorInfo(i,x.dtype,x.values)}const z2e={kernelName:CI,backendName:"cpu",kernelFunc:B2e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G2e(t,e){let a=0,n=t.length,r=0;for(;a<n;)r=Math.floor((a+n)/2),t[r]<e?a=r+1:n=r;return n}function U2e(t,e){let a=0,n=t.length,r=0;for(;a<n;)r=Math.floor((a+n)/2),t[r]<=e?a=r+1:n=r;return n}function W2e(t,e,a,n,r,s){const i=Ln("int32",a*r);for(let o=0;o<a;++o){const c=t.slice(o*n,(o+1)*n),l=o*r;for(let u=0;u<r;++u)i[l+u]=s==="left"?G2e(c,e[u+l]):U2e(c,e[u+l])}return i}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V2e(t){const{inputs:e,backend:a,attrs:n}=t,{sortedSequence:r,values:s}=e,{side:i}=n,o=a.data.get(r.dataId).values,c=a.data.get(s.dataId).values,l=W2e(o,c,r.shape[0],r.shape[1],s.shape[1],i);return a.makeTensorInfo(s.shape,"int32",l)}const j2e={kernelName:RI,backendName:"cpu",kernelFunc:V2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H2e(t){const{inputs:e,backend:a}=t,{condition:n,t:r,e:s}=e;vt([n,r,s],"select");const i=n.shape.length,o=a.data.get(n.dataId).values,c=a.data.get(r.dataId).values,l=a.data.get(s.dataId).values,u=qs(r.dtype,s.dtype),d=Kr(Me(r.shape),u);let p=0;const m=i===0||i>1||r.shape.length===1?1:Me(r.shape.slice(1));for(let g=0;g<o.length;g++)for(let x=0;x<m;x++)o[g]===1?d[p++]=c[g]:d[p++]=l[g];return a.makeTensorInfo(r.shape,u,d)}const K2e={kernelName:i_,backendName:"cpu",kernelFunc:H2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q2e=G_,X2e=U_,Y2e=qa(g1,t=>t>=0?X2e*t:q2e*(Math.exp(t)-1)),Z2e={kernelName:g1,backendName:"cpu",kernelFunc:Y2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J2e=qa(x1,t=>t<0?-1:t>0?1:0),Q2e={kernelName:x1,backendName:"cpu",kernelFunc:J2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eAe=qa(y1,t=>Math.sin(t)),tAe={kernelName:y1,backendName:"cpu",kernelFunc:eAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aAe=qa(v1,t=>Math.sinh(t)),nAe={kernelName:v1,backendName:"cpu",kernelFunc:aAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rAe=11920928955078125e-23,lM=Math.log(rAe)+2,sAe=qa(w1,t=>{const e=t>-lM,a=t<lM,n=Math.exp(t);let r;return a?r=n:e?r=t:r=Math.log(1+n),r}),iAe={kernelName:w1,backendName:"cpu",kernelFunc:sAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oAe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{blockShape:s,paddings:i}=n;vt([r],"spaceToBatchND");const o=Me(s),c=[[0,0]];c.push(...i);for(let C=1+s.length;C<r.shape.length;++C)c.push([0,0]);const l=xV.kernelFunc({inputs:{x:r},backend:a,attrs:{paddings:c,constantValue:0}}),u=L1(l.shape,s,o,!1),d=M1(u.length,s.length,!1),p=B1(l.shape,s,o,!1),x=on({inputs:{x:l},backend:a,attrs:{shape:u}}),b=Fs({inputs:{x},backend:a,attrs:{perm:d}}),S=on({inputs:{x:b},backend:a,attrs:{shape:p}});return a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(b),S}const cAe={kernelName:l_,backendName:"cpu",kernelFunc:oAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lAe(t){const{inputs:e,backend:a}=t,{indices:n,values:r,denseShape:s,defaultValue:i}=e;if(s.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${s.shape}`);if(n.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${n.shape}`);if(r.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${r.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);const o=a.data.get(n.dataId).values,c=a.data.get(r.dataId).values,l=a.data.get(s.dataId).values,u=a.data.get(i.dataId).values[0],[d,p,m,g,x]=jW(o,n.shape,n.dtype,c,r.dtype,l,u);return[a.makeTensorInfo(p,n.dtype,d),a.makeTensorInfo([p[0]],r.dtype,m),a.makeTensorInfo([g.length],"bool",new Uint8Array(g.map(v=>Number(v)))),a.makeTensorInfo([x.length],n.dtype,new Int32Array(x))]}const uAe={kernelName:DI,backendName:"cpu",kernelFunc:lAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fAe(t){const{inputs:e,backend:a}=t,{inputIndices:n,inputShape:r,newShape:s}=e;if(n.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${n.shape}`);if(r.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const i=Array.from(a.data.get(r.dataId).values),o=a.data.get(n.dataId).values,c=Array.from(a.data.get(s.dataId).values),[l,u,d]=HW(o,n.shape,n.dtype,i,c);return[a.makeTensorInfo(u,n.dtype,l),a.makeTensorInfo([d.length],s.dtype,new Int32Array(d))]}const dAe={kernelName:PI,backendName:"cpu",kernelFunc:fAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hAe(t){const{inputs:e,backend:a}=t,{data:n,indices:r,segmentIds:s}=e;if(n.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${r.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${s.shape}`);if(r.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const i=a.data.get(n.dataId).values,o=a.data.get(r.dataId).values,c=a.data.get(s.dataId).values,[l,u]=PR(i,n.shape,n.dtype,o,c,!0);return a.makeTensorInfo(u,n.dtype,l)}const pAe={kernelName:FI,backendName:"cpu",kernelFunc:hAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mAe(t){const{inputs:e,backend:a}=t,{data:n,indices:r,segmentIds:s}=e;if(n.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${s.shape}`);if(r.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const i=a.data.get(n.dataId).values,o=a.data.get(r.dataId).values,c=a.data.get(s.dataId).values,[l,u]=PR(i,n.shape,n.dtype,o,c);return a.makeTensorInfo(u,n.dtype,l)}const gAe={kernelName:OI,backendName:"cpu",kernelFunc:mAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yAe(t){const{inputs:e,backend:a,attrs:n}=t,{sparseIndices:r,sparseValues:s,defaultValue:i}=e,{outputShape:o}=n,{sliceRank:c,numUpdates:l,sliceSize:u,strides:d,outputSize:p}=jd(s,r,o),m=!1,g=a.bufferSync(r);let x;switch(s.dtype){case"bool":{const v=a.bufferSync(s),k=!!a.data.get(i.dataId).values[0];x=Hf(g,v,o,p,u,l,c,d,k,m);break}case"float32":{const v=a.bufferSync(s),k=a.data.get(i.dataId).values[0];x=Hf(g,v,o,p,u,l,c,d,k,m);break}case"int32":{const v=a.bufferSync(s),k=a.data.get(i.dataId).values[0];x=Hf(g,v,o,p,u,l,c,d,k,m);break}case"string":{const v=a.bufferSync(s),k=bu(a.data.get(i.dataId).values[0]);x=Hf(g,v,o,p,u,l,c,d,k,m);break}default:throw new Error(`Unsupported type ${s.dtype}`)}return a.makeTensorInfo(o,x.dtype,x.values)}const vAe={kernelName:$I,backendName:"cpu",kernelFunc:yAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xAe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{numOrSizeSplits:s,axis:i}=n,o=pa(i,r.shape)[0],c=rR(r,s,o),l=new Array(r.shape.length).fill(0),u=r.shape.slice();return c.map(d=>{const p=[...u];p[o]=d;const m=_d({inputs:{x:r},backend:a,attrs:{begin:l,size:p}});return l[o]+=d,m})}const kAe={kernelName:u_,backendName:"cpu",kernelFunc:xAe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wAe={kernelName:LI,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:a}=t,n=e;vt(a,"square");const r=n.data.get(a.dataId).values,s=new Float32Array(r.length);for(let o=0;o<r.length;++o){const c=r[o];s[o]=c*c}return{dataId:n.write(s,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bAe=qa(E1,(t,e)=>{const a=e;return isNaN(t)?NaN:t>0?1:a.alpha}),_Ae={kernelName:E1,backendName:"cpu",kernelFunc:bAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AAe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{begin:s,end:i,strides:o,beginMask:c,endMask:l,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:p}=n;vt(r,"stridedSlice");const{finalShapeSparse:m,finalShape:g,isIdentity:x,sliceDim0:v,isSimpleSlice:k,begin:b,end:_,strides:A}=z3(r.shape,s,i,o,c,l,u,d,p);let S;if(x)S=on({inputs:{x:r},backend:a,attrs:{shape:g}});else if(v||k){K(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const C=L3(b,_,A),E=_d({inputs:{x:r},backend:a,attrs:{begin:b,size:C}});S=on({inputs:{x:E},backend:a,attrs:{shape:g}}),a.disposeIntermediateTensorInfo(E)}else{const C=a.bufferSync(r),E=XW(m,C,A,b);S=a.makeTensorInfo(g,E.dtype,E.values)}return S}const NAe={kernelName:MI,backendName:"cpu",kernelFunc:AAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SAe(t){const{inputs:e,backend:a,attrs:n}=t,{separator:r,nGramWidths:s,leftPad:i,rightPad:o,padWidth:c,preserveShortSequences:l}=n,{data:u,dataSplits:d}=e,p=a.data.get(u.dataId).values,m=a.data.get(d.dataId).values,[g,x]=YW(p,m,r,s,i,o,c,l);return[a.makeTensorInfo([g.length],"string",g),a.makeTensorInfo(d.shape,"int32",x)]}const TAe={kernelName:BI,backendName:"cpu",kernelFunc:SAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EAe(t){const{inputs:e,backend:a,attrs:n}=t,{skipEmpty:r}=n,{input:s,delimiter:i}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(s.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const o=a.data.get(s.dataId).values,c=a.data.get(i.dataId).values[0],[l,u,d]=ZW(o,c,r),p=u.length;return[a.makeTensorInfo([p,2],"int32",l),a.makeTensorInfo([p],"string",u),a.makeTensorInfo([2],"int32",new Int32Array(d))]}const CAe={kernelName:zI,backendName:"cpu",kernelFunc:EAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IAe(t){const{inputs:e,backend:a,attrs:n}=t,{numBuckets:r}=n,{input:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const i=a.data.get(s.dataId).values,o=JW(i,r);return a.makeTensorInfo(s.shape,"int32",o)}const RAe={kernelName:GI,backendName:"cpu",kernelFunc:IAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DAe=qa(N1,t=>Math.tan(t)),PAe={kernelName:N1,backendName:"cpu",kernelFunc:DAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FAe=qa(S1,t=>Math.tanh(t)),OAe={kernelName:S1,backendName:"cpu",kernelFunc:FAe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ae(t){const{inputs:e,backend:a}=t,{tensor:n,indices:r,updates:s}=e,{sliceRank:i,numUpdates:o,sliceSize:c,strides:l,outputSize:u}=jd(s,r,n.shape),d=!1,p=a.bufferSync(r),m=a.bufferSync(s),g=a.bufferSync(n),x=Hf(p,m,n.shape,u,c,o,i,l,g,d);return a.makeTensorInfo(n.shape,x.dtype,x.values)}const LAe={kernelName:II,backendName:"cpu",kernelFunc:$Ae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MAe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{reps:s}=n;vt(r,"tile");const i=eV(a.bufferSync(r),s);return a.makeTensorInfo(i.shape,i.dtype,i.values)}const BAe={kernelName:T1,backendName:"cpu",kernelFunc:MAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zAe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{k:s,sorted:i}=n;vt(r,"topk");const o=a.data.get(r.dataId).values,[c,l]=aV(o,r.shape,r.dtype,s,i);return[a.makeTensorInfo(c.shape,c.dtype,c.values),a.makeTensorInfo(l.shape,l.dtype,l.values)]}const GAe={kernelName:UI,backendName:"cpu",kernelFunc:zAe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UAe(t){const{inputs:e,attrs:a,backend:n}=t,{image:r,transforms:s}=e,{interpolation:i,fillMode:o,fillValue:c,outputShape:l}=a,[u,d,p,m]=r.shape,[g,x]=l??[d,p],v=[u,g,x,m],k=Dt(r.shape),b=k[0],_=k[1],A=k[2],S=Dt(v),C=S[0],E=S[1],R=S[2],I=$r(r.dtype,Me(v));I.fill(c);const P=n.data.get(r.dataId).values,D=n.data.get(s.dataId).values;for(let U=0;U<u;++U){const V=s.shape[0]===1?D:D.subarray(U*8,U*8+8);for(let j=0;j<g;++j)for(let W=0;W<x;++W)for(let Q=0;Q<m;++Q){let q;const Z=V[6]*W+V[7]*j+1;if(Z===0)continue;const M=(V[0]*W+V[1]*j+V[2])/Z,se=(V[3]*W+V[4]*j+V[5])/Z,ue=uM(M,p,o),le=uM(se,d,o);switch(i){case"nearest":q=qAe(P,d,p,b,_,A,U,le,ue,Q,c);break;case"bilinear":q=XAe(P,d,p,b,_,A,U,le,ue,Q,c);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${i}`)}const ie=U*C+j*E+W*R+Q;I[ie]=q}return n.makeTensorInfo(v,r.dtype,I)}return{dataId:n.write(I,v,r.dtype),shape:r.shape,dtype:r.dtype}}const WAe={kernelName:WI,backendName:"cpu",kernelFunc:UAe};function uM(t,e,a){switch(a){case"reflect":return VAe(t,e);case"wrap":return jAe(t,e);case"nearest":return KAe(t,e);case"constant":default:return HAe(t)}}function VAe(t,e){let a=t;if(a<0)if(e<=1)a=0;else{const n=2*e;a<n&&(a=n*Math.trunc(-a/n)+a),a=a<-e?a+n:-a-1}else if(a>e-1)if(e<=1)a=0;else{const n=2*e;a-=n*Math.trunc(a/n),a>=e&&(a=n-a-1)}return ld(0,a,e-1)}function jAe(t,e){let a=t;if(a<0)if(e<=1)a=0;else{const n=e-1;a+=e*(Math.trunc(-a/n)+1)}else if(a>e-1)if(e<=1)a=0;else{const n=e-1;a-=e*Math.trunc(a/n)}return ld(0,a,e-1)}function HAe(t,e){return t}function KAe(t,e){return ld(0,t,e-1)}function X0(t,e,a,n,r,s,i,o,c,l,u){const d=i*n+o*r+c*s+l;return 0<=o&&o<e&&0<=c&&c<a?t[d]:u}function qAe(t,e,a,n,r,s,i,o,c,l,u){const d=Math.round(o),p=Math.round(c);return X0(t,e,a,n,r,s,i,d,p,l,u)}function XAe(t,e,a,n,r,s,i,o,c,l,u){const d=Math.floor(o),p=Math.floor(c),m=d+1,g=p+1,x=(g-c)*X0(t,e,a,n,r,s,i,d,p,l,u)+(c-p)*X0(t,e,a,n,r,s,i,d,g,l,u),v=(g-c)*X0(t,e,a,n,r,s,i,m,p,l,u)+(c-p)*X0(t,e,a,n,r,s,i,m,g,l,u);return(m-o)*x+(o-d)*v}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YAe(t){const{inputs:e,attrs:a,backend:n}=t,{axis:r}=a,{x:s}=e;vt(s,"unique");const i=n.data.get(s.dataId).values,{outputValues:o,outputShape:c,indices:l}=nV(i,r,s.shape,s.dtype);return[n.makeTensorInfo(c,s.dtype,o),n.makeTensorInfo([l.length],"int32",l)]}const ZAe={kernelName:VI,backendName:"cpu",kernelFunc:YAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JAe(t){const{inputs:e,backend:a,attrs:n}=t,{value:r}=e;let{axis:s}=n;s<0&&(s+=r.shape.length);const i=r.shape.length,o=r.shape[s],c=new Array(i-1);let l=0;for(let m=0;m<i;m++)m!==s&&(c[l++]=r.shape[m]);const u=new Array(i).fill(0),d=r.shape.slice();d[s]=1;const p=new Array(o);for(let m=0;m<p.length;m++){u[s]=m;const g=_d({inputs:{x:r},backend:a,attrs:{begin:u,size:d}});p[m]=on({inputs:{x:g},backend:a,attrs:{shape:c}}),a.disposeIntermediateTensorInfo(g)}return p}const QAe={kernelName:h_,backendName:"cpu",kernelFunc:JAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eNe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,segmentIds:s}=e,{numSegments:i}=n;vt(r,"unsortedSegmentSum");const o=r.shape.length,c=s.shape.length,l=[],u=[],d=o-c;let p=s;for(let g=0;g<d;++g){const x=ww({inputs:{input:p},backend:a,attrs:{dim:g+1}});p=x,u.push(x)}for(let g=0;g<i;++g){const x=Uu(g,"int32"),v=a.makeTensorInfo([],"int32",x),k=vW({inputs:{a:v,b:p},backend:a}),b=Ru({inputs:{x:k},backend:a,attrs:{dtype:"float32"}}),_=e2({inputs:{a:b,b:r},backend:a}),A=q1({inputs:{x:_},backend:a,attrs:{axis:0,keepDims:!1}});l.push(A),u.push(v),u.push(k),u.push(b),u.push(_),u.push(A)}const m=vV({inputs:l,backend:a,attrs:{axis:0}});return u.forEach(g=>a.disposeIntermediateTensorInfo(g)),m}const tNe={kernelName:p_,backendName:"cpu",kernelFunc:eNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aNe=[Yke,Ixe,Jke,ewe,$xe,awe,rwe,iwe,cwe,uwe,dwe,pwe,gwe,xwe,wwe,Awe,Swe,Ewe,Iwe,qke,Dwe,Fwe,$we,Mxe,Mwe,Fxe,zxe,zwe,Rxe,Uwe,Vwe,jwe,Kwe,Xwe,Zwe,Qwe,tbe,nbe,sbe,obe,lbe,fbe,hbe,mbe,gbe,vbe,kbe,bbe,_be,Abe,Nbe,Tbe,Ibe,Gke,Dbe,Gxe,zbe,Uxe,Gbe,Vxe,Kbe,qbe,Ybe,Hxe,qxe,Jbe,e_e,a_e,r_e,Yxe,Jxe,Dxe,i_e,Wwe,c_e,u_e,d_e,Uke,eke,ake,p_e,rke,g_e,x_e,w_e,A_e,S_e,E_e,C_e,ike,R_e,P_e,O_e,L_e,B_e,G_e,W_e,cke,j_e,q_e,Z_e,uke,dke,e2e,n2e,i2e,pke,c2e,u2e,f2e,xV,m2e,Vke,yke,y2e,x2e,w2e,_2e,Pxe,NE,N2e,jke,Hke,Kke,T2e,C2e,R2e,P2e,O2e,$2e,M2e,Nke,z2e,j2e,K2e,Z2e,Tke,Q2e,tAe,nAe,Eke,X_e,iAe,cAe,uAe,dAe,pAe,gAe,vAe,kAe,Rke,wAe,Pke,Oke,_Ae,NAe,TAe,CAe,RAe,Bke,Ebe,PAe,OAe,LAe,BAe,GAe,WAe,mke,ZAe,QAe,tNe,l2e];for(const t of aNe)hz(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mf={},qx={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function nNe(t,e){Mf[t]=e}function Lo(t,e){if(!(t in Mf)||e!=null){const n=sNe(t,e);if(n!==null)Mf[t]=n;else return console.log("Could not get context for WebGL version",t),null}const a=Mf[t];return a==null||a.isContextLost()?(delete Mf[t],Lo(t)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),Mf[t])}function rNe(t){if(!Ce().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function sNe(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const a=e??rNe(t);return a.addEventListener("webglcontextlost",n=>{n.preventDefault(),delete Mf[t]},!1),Ce().getBool("SOFTWARE_WEBGL_ENABLED")&&(qx.failIfMajorPerformanceCaveat=!1),t===1?a.getContext("webgl",qx)||a.getContext("experimental-webgl",qx):a.getContext("webgl2",qx)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Yg;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(Yg||(Yg={}));var fi;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(fi||(fi={}));var Pr;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Pr||(Pr={}));function X1(t,e){return[e,t]}function iNe(t,e){return t*e}function Xx(t){const e=Me(t),a=Math.ceil(e/4);return PT(a)}function wm(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function oNe(t,e){const[a,n]=wm(t,e);return a*n*4}function MR(t,e){const a=t;let n,r,s,i,o,c,l,u,d,p;return Ce().getNumber("WEBGL_VERSION")===2?(n=a.R32F,r=a.R16F,s=a.RGBA16F,i=a.RGBA32F,o=a.RED,l=4,u=1,d=a.HALF_FLOAT,p=a.FLOAT,c=a.RGBA8):(n=t.RGBA,r=t.RGBA,s=t.RGBA,i=a.RGBA,o=t.RGBA,l=4,u=4,d=e!=null?e.HALF_FLOAT_OES:null,p=t.FLOAT,c=t.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:s,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:c,downloadUnpackNumChannels:l,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:p}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dt(t,e){const a=e();return Ce().getBool("DEBUG")&&cNe(t),a}function cNe(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+dNe(t,e))}const lNe=596e-10,uNe=65504;function fNe(t){return!!(Ce().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||lNe<Math.abs(t)&&Math.abs(t)<uNe)}function dNe(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function Yx(t,e){return Cl(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function hNe(t,e){const a=Cl(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(dt(t,()=>t.shaderSource(a,e)),dt(t,()=>t.compileShader(a)),t.getShaderParameter(a,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(a)),new Error("Failed to compile vertex shader.");return a}function pNe(t,e){const a=Cl(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(dt(t,()=>t.shaderSource(a,e)),dt(t,()=>t.compileShader(a)),Ce().get("ENGINE_COMPILE_ONLY"))return a;if(t.getShaderParameter(a,t.COMPILE_STATUS)===!1)throw kV(e,t.getShaderInfoLog(a)),new Error("Failed to compile fragment shader.");return a}const mNe=/ERROR: [0-9]+:([0-9]+):/g;function kV(t,e){const a=mNe.exec(e);if(a==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const n=+a[1],r=t.split(`
`),s=r.length.toString().length+2,i=r.map((d,p)=>bp((p+1).toString(),s)+d);let o=0;for(let d=0;d<i.length;d++)o=Math.max(i[d].length,o);const c=i.slice(0,n-1),l=i.slice(n-1,n),u=i.slice(n);console.log(c.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${bp(l[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join(`
`))}function gNe(t){return Cl(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function yNe(t,e){if(dt(t,()=>t.linkProgram(e)),!Ce().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function _S(t,e){if(dt(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function vNe(t,e){const a=Cl(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return dt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,a)),dt(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),a}function xNe(t,e){const a=Cl(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return dt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,a)),dt(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),a}function kNe(t){return Cl(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function wNe(t,e){const a=Ce().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const n=`[${t}x${e}]`;throw new Error("Requested texture size "+n+" is invalid.")}if(t>a||e>a){const n=`[${t}x${e}]`,r=`[${a}x${a}]`;throw new Error("Requested texture size "+n+" greater than WebGL maximum on this browser / GPU "+r+".")}}function bNe(t){return Cl(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function fM(t,e,a,n,r,s,i){const o=t.getAttribLocation(e,a);return o===-1?!1:(dt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),dt(t,()=>t.vertexAttribPointer(o,r,t.FLOAT,!1,s,i)),dt(t,()=>t.enableVertexAttribArray(o)),!0)}function _Ne(t,e,a){ENe(t,a),dt(t,()=>t.activeTexture(t.TEXTURE0+a)),dt(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function ANe(t,e,a){return Cl(t,()=>t.getUniformLocation(e,a),'uniform "'+a+'" not present in program.')}function NNe(t,e,a){return t.getUniformLocation(e,a)}function SNe(t,e,a,n){dt(t,()=>_Ne(t,e,n)),dt(t,()=>t.uniform1i(a,n))}function AS(t,e,a){dt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,a)),dt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function dM(t,e){dt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),dt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function Zx(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+TNe(t,e))}function TNe(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function Cl(t,e,a){const n=dt(t,()=>e());if(n==null)throw new Error(a);return n}function ENe(t,e){const a=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=e+t.TEXTURE0;if(n<t.TEXTURE0||n>a){const r=`[gl.TEXTURE0, gl.TEXTURE${a}]`;throw new Error(`textureUnit must be in ${r}.`)}}function Xp(t,e=2){return Me(t.slice(0,t.length-e))}function Yp(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function Jx(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[Xp(t),...Yp(t)]),e}function CNe(t,e=!1){let a=Ce().getNumber("WEBGL_MAX_TEXTURE_SIZE"),n=Ce().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");n===1/0&&Ce().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(n=a/2),e&&(a=a*2,n=n*2,t=t.map((o,c)=>c>=t.length-2?BC(t[c]):t[c]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=Gu(t).newShape);let r=Me(t),s=null;t.length<=1&&r<=a?s=[1,r]:t.length===2&&t[0]<=a&&t[1]<=a?s=t:t.length===3&&t[0]*t[1]<=a&&t[2]<=a?s=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=a&&t[1]*t[2]<=a?s=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=a&&t[3]<=a?s=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=a&&t[1]*t[2]*t[3]<=a&&(s=[t[0],t[1]*t[2]*t[3]]);const i=s!=null&&Math.max(...s)>n&&Math.min(...s)<=(e?2:1)&&Math.min(...s)>0;if(s==null||i)if(e){const o=Xp(t);let c=2,l=2;t.length&&([c,l]=Yp(t)),r=o*(c/2)*(l/2),s=PT(r).map(u=>u*2)}else s=PT(r);return s}function Qx(t){return t%2===0}function _w(t,e){if(t=t.slice(-2),e=e.slice(-2),_a(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const a=t[t.length-1],n=e[e.length-1];if(a===n||Qx(a)&&Qx(n)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&Qx(t[0])&&Qx(e[0])}let NS,SS;function INe(t){if(NS==null){const e=Lo(t);NS=e.getParameter(e.MAX_TEXTURE_SIZE)}return NS}function RNe(t){if(SS==null){const e=Lo(t);SS=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,SS)}function DNe(t){if(t===0)return 0;let e;const a=Lo(t);return Xi(a,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:Xi(a,"EXT_disjoint_timer_query")?e=1:e=0,e}function Xi(t,e){return t.getExtension(e)!=null}function hM(t){try{if(Lo(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function PNe(t){if(t===0)return!1;const e=Lo(t);if(t===1){if(!Xi(e,"OES_texture_float"))return!1}else if(!Xi(e,"EXT_color_buffer_float"))return!1;return TE(e)}function FNe(t){if(t===0)return!1;const e=Lo(t);if(t===1){if(!Xi(e,"OES_texture_float")||!Xi(e,"WEBGL_color_buffer_float"))return!1}else{if(Xi(e,"EXT_color_buffer_float"))return TE(e);const n="EXT_color_buffer_half_float";if(Xi(e,n)){const r=e.getExtension(n);return ONe(e,r)}return!1}return TE(e)}function TE(t){const e=MR(t),a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0);const i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(a),t.deleteFramebuffer(s),i}function ONe(t,e){const a=MR(t,e),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,a.internalFormatHalfFloat,1,1,0,a.textureFormatFloat,a.textureTypeHalfFloat,null);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(i),o}function $Ne(t){return t!==2?!1:Lo(t).fenceSync!=null}function Y1(t,e){Array.isArray(t)||(t=[t]),t.forEach(a=>{a!=null&&K(a.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bt=Ce();bt.registerFlag("HAS_WEBGL",()=>bt.getNumber("WEBGL_VERSION")>0);bt.registerFlag("WEBGL_VERSION",()=>hM(2)?2:hM(1)?1:0);bt.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);bt.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>bt.get("WEBGL_VERSION")===2);bt.registerFlag("WEBGL_CPU_FORWARD",()=>!0);bt.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);bt.registerFlag("WEBGL_PACK",()=>bt.getBool("HAS_WEBGL"));bt.registerFlag("WEBGL_PACK_NORMALIZATION",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_PACK_CLIP",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_PACK_REDUCE",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_LAZILY_UNPACK",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_CONV_IM2COL",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>bt.getBool("WEBGL_PACK"));bt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>INe(bt.getNumber("WEBGL_VERSION")));bt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>RNe(bt.getNumber("WEBGL_VERSION")));bt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=bt.getNumber("WEBGL_VERSION");return t===0?0:DNe(t)});bt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>bt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Sz());bt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>PNe(bt.getNumber("WEBGL_VERSION")));bt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>bt.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:bt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));bt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>FNe(bt.getNumber("WEBGL_VERSION")));bt.registerFlag("WEBGL_FENCE_API_ENABLED",()=>$Ne(bt.getNumber("WEBGL_VERSION")));bt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>bt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);bt.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});bt.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>Sz()?1:-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});bt.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);bt.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);bt.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);bt.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);bt.registerFlag("WEBGL_EXP_CONV",()=>!1);bt.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>bt.getBool("IS_TEST"));bt.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);bt.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);bt.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);bt.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ks(){let t,e,a,n,r,s,i,o,c,l;return Ce().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",a="out",n="in",r="texture",s="outputColor",i="out vec4 outputColor;",o=Ce().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",c="",l=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",a="varying",n="varying",r="texture2D",s="gl_FragColor",i="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,c=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,l=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:a,varyingFs:n,texture2D:r,output:s,defineOutput:i,defineSpecialNaN:o,defineSpecialInf:c,defineRound:l}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qd(t,e,a="index"){const n=Dt(e);return n.map((r,s)=>{const i=`int ${t[s]} = ${a} / ${r}`,o=s===n.length-1?`int ${t[s+1]} = ${a} - ${t[s]} * ${r}`:`index -= ${t[s]} * ${r}`;return`${i}; ${o};`}).join("")}function t2(t,e,a="index"){const n=Dt(e);return n.map((r,s)=>{const i=`int ${t[s]} = ${a} / outShapeStrides[${s}]`,o=s===n.length-1?`int ${t[s+1]} = ${a} - ${t[s]} * outShapeStrides[${s}]`:`index -= ${t[s]} * outShapeStrides[${s}]`;return`${i}; ${o};`}).join("")}function LNe(t,e){const a=t.length,n=t.map(s=>`${e}[${s}]`),r=new Array(a-1);r[a-2]=n[a-1];for(let s=a-3;s>=0;--s)r[s]=`(${r[s+1]} * ${n[s+1]})`;return r}function MNe(t,e,a="index"){const n=t.map((s,i)=>i),r=LNe(n,e);return r.map((s,i)=>{const o=`int ${t[i]} = ${a} / ${r[i]}`,c=i===r.length-1?`int ${t[i+1]} = ${a} - ${t[i]} * ${r[i]}`:`index -= ${t[i]} * ${r[i]}`;return`${o}; ${c};`}).join("")}function BR(t){const e=Dt(t).map(a=>a.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function zR(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const wV=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:bV}=e0e;function BNe(t,e,a){const n=[];if(t.forEach(m=>{const g=Me(m.shapeInfo.logicalShape);if(m.shapeInfo.isUniform?n.push(`uniform float ${m.name}${g>1?`[${g}]`:""};`):(n.push(`uniform sampler2D ${m.name};`),n.push(`uniform int offset${m.name};`)),a.enableShapeUniforms){const{uniformShape:x}=GR(a.packedInputs,m.shapeInfo.logicalShape,m.shapeInfo.texShape);switch(x.length){case 1:n.push(`uniform int ${m.name}Shape;`);break;case 2:n.push(`uniform ivec2 ${m.name}Shape;`);break;case 3:n.push(`uniform ivec3 ${m.name}Shape;`);break;case 4:n.push(`uniform ivec4 ${m.name}Shape;`);break}n.push(`uniform ivec2 ${m.name}TexShape;`)}}),a.enableShapeUniforms){switch(e.logicalShape.length){case 1:n.push("uniform int outShape;");break;case 2:n.push("uniform ivec2 outShape;"),n.push("uniform int outShapeStrides;");break;case 3:n.push("uniform ivec3 outShape;"),n.push("uniform ivec2 outShapeStrides;");break;case 4:n.push("uniform ivec4 outShape;"),n.push("uniform ivec3 outShapeStrides;");break}n.push("uniform ivec2 outTexShape;")}a.customUniforms&&a.customUniforms.forEach(m=>{n.push(`uniform ${m.type} ${m.name}${m.arrayIndex?`[${m.arrayIndex}]`:""};`)});const r=n.join(`
`),s=t.map(m=>zNe(m,e,a.packedInputs,a.enableShapeUniforms)).join(`
`),i=e.texShape,o=ks(),c=WNe(o);let l,u,d=HNe(o);return e.isPacked?(l=GNe(e.logicalShape,i,a.enableShapeUniforms),u=jNe(o)):(l=UNe(e.logicalShape,i,a.enableShapeUniforms),u=VNe(o)),a.packedInputs&&(d+=YNe),[d,c,u,r,l,s,a.userCode].join(`
`)}function bm(t,e=!1){const a=t.shapeInfo.logicalShape;switch(a.length){case 0:return cSe(t,e);case 1:return uSe(t,e);case 2:return dSe(t,e);case 3:return pSe(t,e);case 4:return gSe(t,e);case 5:return ySe(t);case 6:return vSe(t);default:throw new Error(`${a.length}-D input sampling is not yet supported`)}}function _V(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return oSe(t);case 1:return lSe(t,e);case 2:return fSe(t,e);case 3:return hSe(t,e);default:return mSe(t,e)}}function zNe(t,e,a=!1,n){let r="";a?r+=_V(t,n):r+=bm(t,n);const s=t.shapeInfo.logicalShape,i=e.logicalShape;return s.length<=i.length&&(a?r+=xSe(t,e):r+=kSe(t,e)),r}function GNe(t,e,a){switch(t.length){case 0:return AV();case 1:return ZNe(t,e,a);case 2:return sSe(t,e,a);case 3:return QNe(t,e,a);default:return tSe(t,e,a)}}function UNe(t,e,a){switch(t.length){case 0:return AV();case 1:return JNe(t,e,a);case 2:return iSe(t,e,a);case 3:return eSe(t,e,a);case 4:return aSe(t,e,a);case 5:return nSe(t,e);case 6:return rSe(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function WNe(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function VNe(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function jNe(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function HNe(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${KNe}
    ${qNe}
    ${XNe}
  `}const KNe=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,qNe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,XNe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,YNe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function AV(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function ZNe(t,e,a){const n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return n[0]===1?a?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${n[1]}.0);
      }
    `:n[1]===1?a?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${n[0]}.0);
      }
    `:a?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${n[0]}, ${n[1]}));
      return 2 * (resTexRC.x * ${n[1]} + resTexRC.y);
    }
  `}function JNe(t,e,a){return e[0]===1?a?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?a?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:a?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function QNe(t,e,a){if(a)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[2]/2),s=r*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${n[0]}, ${n[1]}));
      int index = resTexRC.x * ${n[1]} + resTexRC.y;

      int b = index / ${s};
      index -= b * ${s};

      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec3(b, r, c);
    }
  `}function eSe(t,e,a){if(a)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${t2(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const n=qd(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${n}
      return ivec3(r, c, d);
    }
  `}function tSe(t,e,a){if(a)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),s=r*Math.ceil(t[t.length-2]/2);let i=s,o="",c="b, r, c";for(let l=2;l<t.length-1;l++)i*=t[t.length-l-1],o=`
      int b${l} = index / ${i};
      index -= b${l} * ${i};
    `+o,c=`b${l}, `+c;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${n[0]}, ${n[1]}));
      int index = resTexRC.x * ${n[1]} + resTexRC.y;

      ${o}

      int b = index / ${s};
      index -= b * ${s};

      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec${t.length}(${c});
    }
  `}function aSe(t,e,a){if(a)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${t2(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const n=qd(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${n}
      return ivec4(r, c, d, d2);
    }
  `}function nSe(t,e){const a=qd(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${a}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function rSe(t,e){const a=qd(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${a}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function sSe(t,e,a){const n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(_a(t,e))return a?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${n[0]}, ${n[1]}));
      }
    `;const r=Math.ceil(t[1]/2);return a?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${n[0]}, ${n[1]}));

      int index = resTexRC.x * ${n[1]} + resTexRC.y;
      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec2(r, c);
    }
  `}function iSe(t,e,a){return _a(t,e)?a?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?a?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?a?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:a?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function Xd(t){return`offset${t}`}function oSe(t){const e=t.name,a="get"+e.charAt(0).toUpperCase()+e.slice(1),n=ks();return`
    vec4 ${a}() {
      return ${n.texture2D}(${e}, halfCR);
    }
  `}function cSe(t,e){const a=t.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1);if(t.shapeInfo.isUniform)return`float ${n}() {return ${a};}`;const[r,s]=t.shapeInfo.texShape;if(r===1&&s===1)return`
      float ${n}() {
        return sampleTexture(${a}, halfCR);
      }
    `;const i=Xd(a);if(e)return`
    float ${n}() {
      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], ${i});
      return sampleTexture(${a}, uv);
    }
  `;const[o,c]=t.shapeInfo.texShape;return`
    float ${n}() {
      vec2 uv = uvFromFlat(${o}, ${c}, ${i});
      return sampleTexture(${a}, uv);
    }
  `}function lSe(t,e){const a=t.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1),r=t.shapeInfo.texShape,s=ks();if(e)return`
    vec4 ${n}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${s.texture2D}(${a}, uv);
    }
  `;const i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`
    vec4 ${n}(int index) {
      vec2 uv = packedUVfrom1D(
        ${i[0]}, ${i[1]}, index);
      return ${s.texture2D}(${a}, uv);
    }
  `}function uSe(t,e){const a=t.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1);if(t.shapeInfo.isUniform)return`
      float ${n}(int index) {
        ${_m(t)}
      }
    `;const r=t.shapeInfo.texShape,s=r[0],i=r[1];if(i===1&&s===1)return`
      float ${n}(int index) {
        return sampleTexture(${a}, halfCR);
      }
    `;const o=Xd(a);return i===1?e?`
      float ${n}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${a}TexShape[0]));
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${n}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${s}.0);
        return sampleTexture(${a}, uv);
      }
    `:s===1?e?`
      float ${n}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${a}TexShape[1]), 0.5);
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${n}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${i}.0, 0.5);
        return sampleTexture(${a}, uv);
      }
    `:e?`
    float ${n}(int index) {
      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index + ${o});
      return sampleTexture(${a}, uv);
    }
  `:`
    float ${n}(int index) {
      vec2 uv = uvFromFlat(${s}, ${i}, index + ${o});
      return sampleTexture(${a}, uv);
    }
  `}function fSe(t,e){const a=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,i=s[0],o=s[1],c=ks();if(s!=null&&_a(a,s))return e?`
      vec4 ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${n}TexShape[1], ${n}TexShape[0]);

        return ${c.texture2D}(${n}, uv);
      }
    `:`
      vec4 ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${i}.0);

        return ${c.texture2D}(${n}, uv);
      }
    `;if(e)return`
    vec4 ${r}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${n}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${c.texture2D}(${n}, uv);
    }
  `;const l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=Math.ceil(a[1]/2);return`
    vec4 ${r}(int row, int col) {
      vec2 uv = packedUVfrom2D(${u}, ${l[0]}, ${l[1]}, row, col);
      return ${c.texture2D}(${n}, uv);
    }
  `}function dSe(t,e){const a=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape;if(s!=null&&_a(a,s)){if(e)return`
      float ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `;const p=s[0],m=s[1];return`
    float ${r}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${m}.0, ${p}.0);
      return sampleTexture(${n}, uv);
    }
  `}const{newShape:i,keptDims:o}=Gu(a),c=i;if(c.length<a.length){const p=Am(t,c),m=["row","col"];return`
      ${bm(p,e)}
      float ${r}(int row, int col) {
        return ${r}(${Nm(m,o)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${a[1]}, 1)));
        ${_m(t)}
      }
    `;const l=s[0],u=s[1],d=Xd(n);return u===1?e?`
      float ${r}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${n}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
    float ${r}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${a[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${l}.0);
      return sampleTexture(${n}, uv);
    }
  `:l===1?e?`
      float ${r}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${n}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
    float ${r}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${a[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);
      return sampleTexture(${n}, uv);
    }
  `:e?`
      float ${r}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${n}Shape[1] + col + ${d};
        vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index);
        return sampleTexture(${n}, uv);
      }
    `:`
  float ${r}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${a[1]} + col + ${d};
    vec2 uv = uvFromFlat(${l}, ${u}, index);
    return sampleTexture(${n}, uv);
  }
`}function hSe(t,e){const a=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,i=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];if(a[0]===1){const p=a.slice(1),m=[1,2],g=Am(t,p),x=["b","row","col"];return`
        ${_V(g,e)}
        vec4 ${r}(int b, int row, int col) {
          return ${r}(${Nm(x,m)});
        }
      `}const o=ks();if(e)return`
    vec4 ${r}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${n}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${o.texture2D}(${n}, uv);
    }
  `;const c=i[0],l=i[1],u=Math.ceil(a[2]/2),d=u*Math.ceil(a[1]/2);return`
    vec4 ${r}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${c}, ${l}, ${d}, ${u}, b, row, col);
      return ${o.texture2D}(${n}, uv);
    }
  `}function pSe(t,e){const a=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=a[1]*a[2],i=a[2],{newShape:o,keptDims:c}=Gu(a),l=o;if(l.length<a.length){const x=Am(t,l),v=["row","col","depth"];return`
        ${bm(x,e)}
        float ${r}(int row, int col, int depth) {
          return ${r}(${Nm(v,c)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${s}, ${i}, 1)));
        ${_m(t)}
      }
    `;const u=t.shapeInfo.texShape,d=u[0],p=u[1],m=t.shapeInfo.flatOffset;if(p===s&&m==null)return e?`
      float ${r}(int row, int col, int depth) {
        int stride1 = ${n}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `:`
        float ${r}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${i}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${p}.0, ${d}.0);
          return sampleTexture(${n}, uv);
        }
      `;if(p===i&&m==null)return e?`
      float ${r}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${n}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `:`
    float ${r}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${a[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${p}.0, ${d}.0);
      return sampleTexture(${n}, uv);
    }
  `;const g=Xd(n);return e?`
    float ${r}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${n}Shape[1] * ${n}Shape[2];
      int stride1 = ${n}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${g};
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index);
      return sampleTexture(${n}, uv);
    }
    `:`
      float ${r}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${s} + col * ${i} + depth + ${g};
        vec2 uv = uvFromFlat(${d}, ${p}, index);
        return sampleTexture(${n}, uv);
      }
  `}function mSe(t,e){const a=t.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1),r=ks();if(e)return`
    vec4 ${n}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${a}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${a}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${a}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${a}, uv);
    }
  `;const s=t.shapeInfo.logicalShape,i=s.length,o=t.shapeInfo.texShape,c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],l=c[0],u=c[1],d=Math.ceil(s[i-1]/2);let p=d*Math.ceil(s[i-2]/2),m="int b, int row, int col",g=`b * ${p} + (row / 2) * ${d} + (col / 2)`;for(let x=2;x<i-1;x++)m=`int b${x}, `+m,p*=s[i-x-1],g=`b${x} * ${p} + `+g;return`
    vec4 ${n}(${m}) {
      int index = ${g};
      int texR = index / ${u};
      int texC = index - texR * ${u};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${l});
      return ${r.texture2D}(${a}, uv);
    }
  `}function gSe(t,e){const a=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=a[3],i=a[2]*s,o=a[1]*i,{newShape:c,keptDims:l}=Gu(a);if(c.length<a.length){const b=Am(t,c),_=["row","col","depth","depth2"];return`
      ${bm(b,e)}
      float ${r}(int row, int col, int depth, int depth2) {
        return ${r}(${Nm(_,l)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${o}, ${i}, ${s}, 1)));
        ${_m(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,p=d[0],m=d[1],g=`int stride2 = ${n}Shape[3];`,x=`int stride1 = ${n}Shape[2] * stride2;`,v=`int stride0 = ${n}Shape[1] * stride1;`;if(m===o&&u==null)return e?`
      float ${r}(int row, int col, int depth, int depth2) {
        ${g}
        ${x}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${i}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(m===s&&u==null)return e?`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n}Shape[1] * ${n}Shape[2], ${n}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${n}TexShape[1], ${n}TexShape[0]);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${a[1]*a[2]}, ${a[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;const k=Xd(n);return e?`
    float ${r}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${g}
      ${x}
      ${v}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${k});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${i} +
          depth * ${s} + depth2;
      vec2 uv = uvFromFlat(${p}, ${m}, index + ${k});
      return sampleTexture(${n}, uv);
    }
  `}function ySe(t){const e=t.shapeInfo.logicalShape,a=t.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1),r=e[4],s=e[3]*r,i=e[2]*s,o=e[1]*i,{newShape:c,keptDims:l}=Gu(e);if(c.length<e.length){const x=Am(t,c),v=["row","col","depth","depth2","depth3"];return`
      ${bm(x)}
      float ${n}(int row, int col, int depth, int depth2, int depth3) {
        return ${n}(${Nm(v,l)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${n}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${o}, ${i}, ${s}, ${r})) +
          depth3;
        ${_m(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,p=d[0],m=d[1];if(m===o&&u==null)return`
      float ${n}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${i}, ${s}, ${r}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${p}.0);
        return sampleTexture(${a}, uv);
      }
    `;if(m===r&&u==null)return`
      float ${n}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${p}.0);
        return sampleTexture(${a}, uv);
      }
    `;const g=Xd(a);return`
    float ${n}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${i} + depth * ${s} +
          depth2 * ${r} + depth3 + ${g};
      vec2 uv = uvFromFlat(${p}, ${m}, index);
      return sampleTexture(${a}, uv);
    }
  `}function vSe(t){const e=t.shapeInfo.logicalShape,a=t.name,n="get"+a.charAt(0).toUpperCase()+a.slice(1),{newShape:r,keptDims:s}=Gu(e);if(r.length<e.length){const v=Am(t,r),k=["row","col","depth","depth2","depth3","depth4"];return`
      ${bm(v)}
      float ${n}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${n}(${Nm(k,s)});
      }
    `}const i=e[5],o=e[4]*i,c=e[3]*o,l=e[2]*c,u=e[1]*l;if(t.shapeInfo.isUniform)return`
      float ${n}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${u}, ${l}, ${c}, ${o})) +
          dot(
            vec2(depth3, depth4),
            vec2(${i}, 1)));
        ${_m(t)}
      }
    `;const d=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,m=p[0],g=p[1];if(g===u&&d==null)return`
      float ${n}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${l}, ${c}, ${o}, ${i})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${g}.0, ${m}.0);
        return sampleTexture(${a}, uv);
      }
    `;if(g===i&&d==null)return`
      float ${n}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${g}.0, ${m}.0);
        return sampleTexture(${a}, uv);
      }
    `;const x=Xd(a);return`
    float ${n}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${u} + col * ${l} + depth * ${c} +
          depth2 * ${o} + depth3 * ${i} + depth4 + ${x};
      vec2 uv = uvFromFlat(${m}, ${g}, index);
      return sampleTexture(${a}, uv);
    }
  `}function _m(t){const e=t.name,a=Me(t.shapeInfo.logicalShape);return a<2?`return ${e};`:`
    for (int i = 0; i < ${a}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function xSe(t,e){const a=t.name,n=a.charAt(0).toUpperCase()+a.slice(1),r="get"+n+"AtOutCoords",s=t.shapeInfo.logicalShape.length,i=e.logicalShape.length,o=bV(t.shapeInfo.logicalShape,e.logicalShape),c=Ya(i),l=i-s;let u;const d=["x","y","z","w","u","v"];s===0?u="":i<2&&o.length>=1?u="coords = 0;":u=o.map(b=>`coords.${d[b+l]} = 0;`).join(`
`);let p="";i<2&&s>0?p="coords":p=t.shapeInfo.logicalShape.map((b,_)=>`coords.${d[_+l]}`).join(", ");let m="return outputValue;";const x=Me(t.shapeInfo.logicalShape)===1,k=Me(e.logicalShape)===1;if(s===1&&!x&&!k)m=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(x&&!k)i===1?m=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:m=`
        return vec4(outputValue.x);
      `;else if(o.length){const b=s-2,_=s-1;o.indexOf(b)>-1&&o.indexOf(_)>-1?m="return vec4(outputValue.x);":o.indexOf(b)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(_)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${r}() {
      ${c} coords = getOutputCoords();
      ${u}
      vec4 outputValue = get${n}(${p});
      ${m}
    }
  `}function kSe(t,e){const a=t.name,n=a.charAt(0).toUpperCase()+a.slice(1),r="get"+n+"AtOutCoords",s=e.texShape,i=t.shapeInfo.texShape,o=t.shapeInfo.logicalShape.length,c=e.logicalShape.length;if(!t.shapeInfo.isUniform&&o===c&&t.shapeInfo.flatOffset==null&&_a(i,s))return`
      float ${r}() {
        return sampleTexture(${a}, resultUV);
      }
    `;const l=Ya(c),u=bV(t.shapeInfo.logicalShape,e.logicalShape),d=c-o;let p;const m=["x","y","z","w","u","v"];o===0?p="":c<2&&u.length>=1?p="coords = 0;":p=u.map(x=>`coords.${m[x+d]} = 0;`).join(`
`);let g="";return c<2&&o>0?g="coords":g=t.shapeInfo.logicalShape.map((x,v)=>`coords.${m[v+d]}`).join(", "),`
    float ${r}() {
      ${l} coords = getOutputCoords();
      ${p}
      return get${n}(${g});
    }
  `}function Ya(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function GR(t,e,a){const{newShape:n,keptDims:r}=Gu(e),s=e.length,i=t&&s===3&&e[0]===1,o=i?e.slice(1):n,c=!t&&s>1&&!_a(e,a)&&n.length<s||i;return{useSqueezeShape:c,uniformShape:c?o:e,keptDims:r}}function Am(t,e){const a=JSON.parse(JSON.stringify(t));return a.shapeInfo.logicalShape=e,a}function Nm(t,e){return e.map(a=>t[a]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wSe(t,e,a,n){const r=a.map((u,d)=>{const p={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(p.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:p}}),s=r.map(u=>u.shapeInfo),i={logicalShape:n.shape,texShape:n.texData.texShape,isUniform:!1,isPacked:n.texData.isPacked,flatOffset:null},o=BNe(r,i,e),c=pNe(t.gl,o),l=t.createProgram(c);return Ce().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:c,source:o,webGLProgram:l,inShapeInfos:s,outShapeInfo:i,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(l),Object.assign({program:e,fragmentShader:c,source:o,webGLProgram:l,inShapeInfos:s,outShapeInfo:i},NV(t,e,l)))}function NV(t,e,a){const n=[],r=[];let s,i,o,c=null,l=null;l=t.getUniformLocation(a,"NAN",!1),Ce().getNumber("WEBGL_VERSION")===1&&(c=t.getUniformLocation(a,"INFINITY",!1));const u=!1;for(const d of e.variableNames){const p={name:d,uniform:t.getUniformLocation(a,d,u),offset:t.getUniformLocation(a,`offset${d}`,u)};e.enableShapeUniforms&&(p.shape=t.getUniformLocation(a,`${d}Shape`,u),p.texShape=t.getUniformLocation(a,`${d}TexShape`,u)),n.push(p)}if(e.enableShapeUniforms&&(s=t.getUniformLocation(a,"outShape",u),o=t.getUniformLocation(a,"outShapeStrides",u),i=t.getUniformLocation(a,"outTexShape",u)),e.customUniforms)for(const d of e.customUniforms)r.push(t.getUniformLocation(a,d.name,u));return{variablesLocations:n,customUniformLocations:r,infLoc:c,nanLoc:l,outShapeLocation:s,outShapeStridesLocation:o,outTexShapeLocation:i}}function pM(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((a,n)=>{const r=a.logicalShape,s=e[n],i=s.shape;if(!_a(r,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${i} must match`);if(a.isUniform&&s.isUniform)return;const o=a.texShape,c=s.isUniform?null:s.texData.texShape;if(!_a(o,c))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${c} must match`)})}function bSe(t,e,a,n,r){e.program.enableShapeUniforms||(pM(e.inShapeInfos,a),pM([e.outShapeInfo],[n]));const s=n.texData.texture,i=n.texData.texShape;n.texData.isPacked?t.setOutputPackedMatrixTexture(s.texture,i[0],i[1]):t.setOutputMatrixTexture(s.texture,i[0],i[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),Ce().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let c=0;c<a.length;++c){const l=a[c],{uniform:u,offset:d,shape:p,texShape:m}=e.variablesLocations[c];if(p){const{uniformShape:g}=GR(e.program.packedInputs,l.shape,l.texData.texShape);switch(g.length){case 1:t.gl.uniform1iv(p,new Int32Array(g));break;case 2:t.gl.uniform2iv(p,new Int32Array(g));break;case 3:t.gl.uniform3iv(p,new Int32Array(g));break;case 4:t.gl.uniform4iv(p,new Int32Array(g));break}}if(m&&t.gl.uniform2i(m,l.texData.texShape[0],l.texData.texShape[1]),u!=null){if(l.isUniform){if(Me(l.shape)<2)t.gl.uniform1f(u,l.uniformValues[0]);else{let g=l.uniformValues;g instanceof Float32Array||(g=new Float32Array(g)),t.gl.uniform1fv(u,g)}continue}l.texData.slice!=null&&d!=null&&t.gl.uniform1i(d,l.texData.slice.flatOffset),t.setInputMatrixTexture(l.texData.texture.texture,u,c)}}const o=e.outShapeLocation;if(o)switch(n.shape.length){case 1:t.gl.uniform1iv(o,new Int32Array(n.shape));break;case 2:t.gl.uniform2iv(o,new Int32Array(n.shape));break;case 3:t.gl.uniform3iv(o,new Int32Array(n.shape));break;case 4:t.gl.uniform4iv(o,new Int32Array(n.shape));break}if(e.outShapeStridesLocation){const c=Dt(n.shape);switch(n.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(c));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(c));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(c));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,n.texData.texShape[0],n.texData.texShape[1]),e.program.customUniforms&&r)for(let c=0;c<e.program.customUniforms.length;++c){const l=e.program.customUniforms[c],u=e.customUniformLocations[c],d=r[c];if(l.type==="float")t.gl.uniform1fv(u,d);else if(l.type==="vec2")t.gl.uniform2fv(u,d);else if(l.type==="vec3")t.gl.uniform3fv(u,d);else if(l.type==="vec4")t.gl.uniform4fv(u,d);else if(l.type==="int")t.gl.uniform1iv(u,d);else if(l.type==="ivec2")t.gl.uniform2iv(u,d);else if(l.type==="ivec3")t.gl.uniform3iv(u,d);else if(l.type==="ivec4")t.gl.uniform4iv(u,d);else throw Error(`uniform type ${l.type} is not supported yet.`)}t.executeProgram()}function _Se(t,e,a){let n="";e.concat(a).forEach(i=>{const o=i.texData!=null&&i.texData.slice!=null&&i.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!i.isUniform){const c=i.texData.texShape,{useSqueezeShape:l,uniformShape:u,keptDims:d}=GR(t.packedInputs,i.shape,c);let p="",m="",g="";if(u.length===1&&t.packedInputs){const S=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];p=`${S[0]>1}_${S[1]>1}`}else if(u.length===2&&!t.packedInputs)m=`${u[0]>1}_${u[1]>1}`;else if(u.length>2&&!t.packedInputs){const S=Dt(u);g=`${S[0]===c[1]}_${S[S.length-1]===c[1]}`}const x=i.shape.length,v=u.length===2&&_a(i.shape,c),k=Me(i.shape)===1,b=Up(i.shape,a.shape),_=!t.packedInputs&&x===a.shape.length&&_a(c,a.texData.texShape),A=t.packedInputs||u.length>2?"":`${c[0]>1}_${c[1]>1}`;n+=`${x}_${_}_${l?d:""}_${u.length}_${k}_${b}_${v}_${p}_${m}_${g}_${A}_${o}`}else{const c=i.isUniform?"uniform":i.texData.texShape;n+=`${i.shape}_${c}_${o}`}});const r=t.userCode;let s=t.constructor.name;return s+="_"+n+"_"+r+`${Ce().getNumber("WEBGL_VERSION")}`,s}function Xr(t){return Ce().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ASe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Yg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=ks();this.outputShape=e,this.enableShapeUniforms=Xr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?t2(["r","c","d"],e):qd(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${a.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NSe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Yg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=ks();this.outputShape=e,this.enableShapeUniforms=Xr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?t2(["r","c","d"],e):qd(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${a.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SSe{constructor(e){this.variableNames=["A"],this.outTexUsage=fi.DOWNLOAD;const a=ks();this.outputShape=e,this.userCode=`
      ${wV}

      void main() {
        float x = getAAtOutCoords();
        ${a.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TSe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=fi.DOWNLOAD;const a=ks();this.outputShape=e,this.userCode=`
      ${wV}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${a.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ESe={R:0,G:1,B:2,A:3};class mM{constructor(e,a=!1,n="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=ks();this.outputShape=e,this.enableShapeUniforms=Xr(this.outputShape.length);let s="result";a&&(s="floor(result * 255. + 0.5)");let i="";for(let o=0;o<n.length;o++){const c=n[o];i+=`
          if(offset == ${o}) {
            result = values[${ESe[c]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?zR():BR(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${n.length});

        flatIndex = idiv(flatIndex, ${n.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${r.texture2D}(A, uv);
          ${i}
        }
        ${r.output} = vec4(${s}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CSe{constructor(e,a=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ks();this.outputShape=e,this.enableShapeUniforms=Xr(this.outputShape.length);let r="",s="result";a&&(s="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let o=0;o<=1;o++){const c=i*2+o;r+=`
          localCoords = coords;
          if(localCoords[2] + ${o} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${o};
          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${i};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${n.texture2D}(A, uv);

            if (offset == 0) {
              result[${c}] = values[0];
            } else if (offset == 1) {
              result[${c}] = values[1];
            } else if (offset == 2) {
              result[${c}] = values[2];
            } else {
              result[${c}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?zR():BR(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${r}

          ${n.output} = ${s};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ISe(t){const e=ks(),a=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return hNe(t,a)}function RSe(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return vNe(t,e)}function DSe(t){const e=new Uint16Array([0,1,2,2,1,3]);return xNe(t,e)}function Z1(t,e,a,n,r,s){wNe(e,a);const i=kNe(t),o=t.TEXTURE_2D;return dt(t,()=>t.bindTexture(o,i)),dt(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),dt(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),dt(t,()=>t.texParameteri(o,t.TEXTURE_MIN_FILTER,t.NEAREST)),dt(t,()=>t.texParameteri(o,t.TEXTURE_MAG_FILTER,t.NEAREST)),Ce().getNumber("WEBGL_VERSION")===1?dt(t,()=>t.texImage2D(o,0,n,e,a,0,r,s,null)):dt(t,()=>t.texStorage2D(o,1,n,e,a)),dt(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:i,texShape:[a,e]}}function SV(t){return t.internalFormatFloat}function PSe(t,e,a,n){const[r,s]=X1(e,a);return Z1(t,r,s,SV(n),n.textureFormatFloat,t.FLOAT)}function TV(t){return t.internalFormatHalfFloat}function FSe(t,e,a,n){const[r,s]=X1(e,a);return Z1(t,r,s,TV(n),n.textureFormatFloat,n.textureTypeHalfFloat)}function EV(t){return t.downloadTextureFormat}function OSe(t,e,a,n){const[r,s]=X1(e,a);return Z1(t,r,s,EV(n),t.RGBA,t.UNSIGNED_BYTE)}function CV(t){return t.internalFormatPackedFloat}function $Se(t,e,a,n){const[r,s]=wm(e,a);return Z1(t,r,s,CV(n),t.RGBA,t.FLOAT)}function IV(t){return t.internalFormatPackedHalfFloat}function LSe(t,e,a,n){const[r,s]=wm(e,a);return Z1(t,r,s,IV(n),t.RGBA,n.textureTypeHalfFloat)}function MSe(t,e,a){return dt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,a)),fM(t,e,"clipSpacePos",a,3,20,0)&&fM(t,e,"uv",a,2,20,12)}function BSe(t,e,a,n,r,s){dt(t,()=>t.bindTexture(t.TEXTURE_2D,e));let i,o,c;r instanceof Uint8Array?(i=new Uint8Array(a*n*4),o=t.UNSIGNED_BYTE,c=t.RGBA):(i=new Float32Array(a*n*4),o=t.FLOAT,c=s.internalFormatPackedFloat),i.set(r),Ce().getNumber("WEBGL_VERSION")===2?dt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,a,n,t.RGBA,o,i)):dt(t,()=>t.texImage2D(t.TEXTURE_2D,0,c,a,n,0,t.RGBA,o,i)),dt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function zSe(t,e,a){dt(t,()=>t.bindTexture(t.TEXTURE_2D,e)),a.data instanceof Uint8Array?Ce().getNumber("WEBGL_VERSION")===2?dt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,a.width,a.height,t.RGBA,t.UNSIGNED_BYTE,a.data)):dt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,a.width,a.height,0,t.RGBA,t.UNSIGNED_BYTE,a.data)):Ce().getNumber("WEBGL_VERSION")===2?dt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,a)):dt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,a)),dt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function GSe(t,e,a,n){const r=t.createBuffer();dt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,r));const o=4*4*e*a;return dt(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,o,t.STREAM_READ)),dt(t,()=>t.readPixels(0,0,a,e,t.RGBA,t.FLOAT,0)),dt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),r}function USe(t,e,a){const n=t,r=new Float32Array(a);return n.bindBuffer(n.PIXEL_PACK_BUFFER,e),n.getBufferSubData(n.PIXEL_PACK_BUFFER,0,r),n.bindBuffer(n.PIXEL_PACK_BUFFER,null),r}function WSe(t,e,a,n){const[r,s]=X1(e,a),i=4,o=new Uint8Array(iNe(e*a,i));return dt(t,()=>t.readPixels(0,0,r,s,n.downloadTextureFormat,t.UNSIGNED_BYTE,o)),new Float32Array(o.buffer)}function VSe(t,e,a,n,r,s,i,o){const c=t,l=new Float32Array(oNe(s,i));return c.bindBuffer(c.PIXEL_PACK_BUFFER,e),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,l),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),l}function jSe(t,e,a){const n=new Float32Array(e*a*4);return dt(t,()=>t.readPixels(0,0,a,e,t.RGBA,t.FLOAT,n)),n}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TS{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const a=Ce().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,nNe(a,e)):this.gl=Lo(a),e=this.gl,Ce().getNumber("WEBGL_VERSION")===2){const s=e;this.createVertexArray=()=>dt(s,()=>s.createVertexArray()),this.bindVertexArray=i=>dt(s,()=>s.bindVertexArray(i)),this.deleteVertexArray=i=>dt(s,()=>s.deleteVertexArray(i)),this.getVertexArray=()=>dt(s,()=>s.getParameter(s.VERTEX_ARRAY_BINDING))}else if(e!=null){const s=e.getExtension("OES_vertex_array_object");if(s==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>dt(e,()=>s.createVertexArrayOES()),this.bindVertexArray=i=>dt(e,()=>s.bindVertexArrayOES(i)),this.deleteVertexArray=i=>dt(e,()=>s.deleteVertexArrayOES(i)),this.getVertexArray=()=>dt(e,()=>e.getParameter(s.VERTEX_ARRAY_BINDING_OES))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Ce().getNumber("WEBGL_VERSION")===1){const s="OES_texture_float",i="OES_texture_half_float";if(this.textureFloatExtension=Yx(this.gl,s),Xi(this.gl,i))this.textureHalfFloatExtension=Yx(this.gl,i);else if(Ce().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Xi(this.gl,r))this.colorBufferHalfFloatExtension=Yx(this.gl,r);else if(Ce().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Xi(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else if(Xi(this.gl,r))this.colorBufferHalfFloatExtension=this.gl.getExtension(r);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=RSe(this.gl),this.indexBuffer=DSe(this.gl),this.framebuffer=bNe(this.gl),this.textureConfig=MR(this.gl,this.textureHalfFloatExtension)}get debug(){return Ce().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;dt(e,()=>e.finish()),dt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),dt(e,()=>e.deleteFramebuffer(this.framebuffer)),dt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),dt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),dt(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,a){return this.throwIfDisposed(),PSe(this.gl,e,a,this.textureConfig)}createFloat16MatrixTexture(e,a){return this.throwIfDisposed(),FSe(this.gl,e,a,this.textureConfig)}createUnsignedBytesMatrixTexture(e,a){return this.throwIfDisposed(),OSe(this.gl,e,a,this.textureConfig)}uploadPixelDataToTexture(e,a){this.throwIfDisposed(),zSe(this.gl,e,a)}uploadDenseMatrixToTexture(e,a,n,r){this.throwIfDisposed(),BSe(this.gl,e,a,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,a){return this.throwIfDisposed(),LSe(this.gl,e,a,this.textureConfig)}createPackedMatrixTexture(e,a){return this.throwIfDisposed(),$Se(this.gl,e,a,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(dM(this.gl,this.framebuffer),this.outputTexture=null),dt(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,a,n){return this.downloadMatrixDriver(e,()=>WSe(this.gl,a,n,this.textureConfig))}downloadPackedMatrixFromBuffer(e,a,n,r,s,i){return VSe(this.gl,e,a,n,r,s,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,a){return USe(this.gl,e,a)}createBufferFromTexture(e,a,n){this.bindTextureToFrameBuffer(e);const r=GSe(this.gl,a,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let a,n;if(Ce().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,s=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const i=r.clientWaitSync(s,0,0);return i===r.ALREADY_SIGNALED||i===r.CONDITION_SATISFIED},a=s}else Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(a=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(a,Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:a,isFencePassed:n}}downloadMatrixFromPackedTexture(e,a,n){return this.downloadMatrixDriver(e,()=>jSe(this.gl,a,n))}createProgram(e){this.throwIfDisposed();const a=this.gl;this.vertexShader==null&&(this.vertexShader=ISe(a));const n=gNe(a);dt(a,()=>a.attachShader(n,this.vertexShader)),dt(a,()=>a.attachShader(n,e)),yNe(a,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&_S(a,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const a=this.gl;dt(a,()=>a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),MSe(a,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(dt(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&_S(this.gl,this.program),dt(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,a,n=!0){return this.throwIfDisposed(),n?ANe(this.gl,e,a):NNe(this.gl,e,a)}getAttributeLocation(e,a){return this.throwIfDisposed(),dt(this.gl,()=>this.gl.getAttribLocation(e,a))}getUniformLocationNoThrow(e,a){return this.throwIfDisposed(),this.gl.getUniformLocation(e,a)}setInputMatrixTexture(e,a,n){this.throwIfDisposed(),this.throwIfNoProgram(),SNe(this.gl,e,a,n)}setOutputMatrixTexture(e,a,n){this.setOutputMatrixTextureDriver(e,n,a)}setOutputPackedMatrixTexture(e,a,n){this.throwIfDisposed();const[r,s]=wm(a,n);this.setOutputMatrixTextureDriver(e,r,s)}setOutputMatrixWriteRegion(e,a,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,a)}setOutputPackedMatrixWriteRegion(e,a,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&_S(this.gl,this.program),Zx(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const a=this.getVertexArray();console.assert(a===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}dt(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),dt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=Yx(this.gl,Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2(),s=n.createQuery();return n.beginQuery(r.TIME_ELAPSED_EXT,s),s}const e=this.getQueryTimerExtensionWebGL1(),a=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,a),a}endQuery(){if(Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const a=this.gl,n=this.getQueryTimerExtensionWebGL2();a.endQuery(n.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await H$(()=>this.disposed||this.isQueryAvailable(e,Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,a){if(a===0)return null;if(a===2){const n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}else{const n=this.getQueryTimerExtensionWebGL1();return n.getQueryObjectEXT(e,n.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,a){if(a===0)return!0;if(a===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2(),s=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}else{const n=this.getQueryTimerExtensionWebGL1(),r=n.getQueryObjectEXT(e,n.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(e){return new Promise(a=>{this.addItemToPoll(()=>e.isFencePassed(),()=>a())})}pollItems(){const e=HSe(this.itemsToPoll.map(a=>a.isDoneFn));for(let a=0;a<=e;++a){const{resolveFn:n}=this.itemsToPoll[a];n()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,a){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:a}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in Ce().platform&&(n=Ce().platform.setTimeoutCustom.bind(Ce().platform)),H$(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),AS(this.gl,e,this.framebuffer),this.debug&&Zx(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(AS(this.gl,this.outputTexture,this.framebuffer),this.debug&&Zx(this.gl)):dM(this.gl,this.framebuffer)}downloadMatrixDriver(e,a){this.bindTextureToFrameBuffer(e);const n=a();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,a,n){this.throwIfDisposed();const r=this.gl;AS(r,e,this.framebuffer),this.debug&&Zx(r),this.outputTexture=e,dt(r,()=>r.viewport(0,0,a,n)),dt(r,()=>r.scissor(0,0,a,n))}setOutputMatrixWriteRegionDriver(e,a,n,r){this.throwIfDisposed(),dt(this.gl,()=>this.gl.scissor(e,a,n,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function HSe(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:KSe,bincountImpl:RV,bincountReduceImpl:qSe,bitwiseAndImpl:XSe,castImpl:YSe,ceilImpl:ZSe,concatImpl:JSe,equalImpl:QSe,expImpl:eTe,expm1Impl:tTe,floorImpl:aTe,gatherNdImpl:nTe,gatherV2Impl:rTe,greaterImpl:sTe,greaterEqualImpl:iTe,lessImpl:oTe,lessEqualImpl:cTe,linSpaceImpl:lTe,logImpl:uTe,maxImpl:fTe,maximumImpl:dTe,minimumImpl:hTe,multiplyImpl:pTe,negImpl:mTe,notEqualImpl:gTe,prodImpl:yTe,raggedGatherImpl:vTe,raggedRangeImpl:xTe,raggedTensorToTensorImpl:kTe,rangeImpl:wTe,rsqrtImpl:bTe,scatterImpl:_Te,sigmoidImpl:ATe,simpleAbsImpl:DV,sliceImpl:NTe,sparseFillEmptyRowsImpl:STe,sparseReshapeImpl:TTe,sparseSegmentReductionImpl:PV,sqrtImpl:ETe,staticRegexReplaceImpl:CTe,stridedSliceImpl:ITe,stringNGramsImpl:RTe,stringSplitImpl:DTe,stringToHashBucketFastImpl:PTe,subImpl:FTe,tileImpl:OTe,topKImpl:$Te,transposeImpl:UR,uniqueImpl:LTe}=zke;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FV(t,e){return["x","y","z","w","u","v"].slice(0,e).map(a=>`${t}.${a}`)}function us(t,e){return e===1?[t]:FV(t,e)}function MTe(t,e){if(t===1)return"rc";let a="";for(let n=0;n<t;n++)a+=e[n],n<t-1&&(a+=",");return a}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BTe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Xr(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const a=us("rc",this.rank),n=Ya(this.rank),r=this.getOutOfBoundsCondition(a),s=this.getSetup(a),i=this.getOutput(a);this.userCode=`
        void main() {
          ${n} rc = getOutputCoords();

          if(${r}) {
            setOutput(vec4(0));
          } else {
            ${s}

            setOutput(vec4(${i}));
          }
        }
      `}}getSourceCoordsArr(e){const a=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let s=`${n===0?"r":"rp1"}, ${r===0?"c":"cp1"}`;for(let i=2;i<this.rank;i++)s=`${e[e.length-1-i]},`+s;a.push(s)}return a}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let a="";for(let n=this.rank-2;n<this.rank;n++)a+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(a+="||");return a}getSetup(e){if(this.rank===1)return"";const a=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${a[0]};
      int c = ${a[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${n};
      bool rEdge = rp1 >= ${r};
    `}getOutput(e){const a=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${a[0]}),
            cEdge ? 0. : getA(${a[1]}),
            rEdge ? 0. : getA(${a[2]}),
            rEdge || cEdge ? 0. : getA(${a[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OV{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Xr(this.outputShape.length);let n="";for(let r=0;r<4;r++){let s="thisRC = rc;";r%2===1&&(s+="thisRC.z += 1;"),r>1&&(s+="thisRC.y += 1;"),n+=`
        ${s}
        ${r>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${r}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${r>0?"}":""}
      `}this.userCode=`
      ${zTe(a,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?zR():BR(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${n}

        setOutput(result);
      }
    `}}function zTe(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?MNe(["r","c","d"],"inputShape"):qd(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GTe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,a,n){const r=yM(a,n),s=vM(e,r,n);s in this.freeTextures||(this.freeTextures[s]=[]),s in this.usedTextures||(this.usedTextures[s]=[]);const i=gM(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[s].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const c=this.freeTextures[s].pop();return this.usedTextures[s].push(c),c}let o;return r===Pr.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===Pr.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===Pr.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===Pr.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===Pr.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[s].push(o),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),o}releaseTexture(e,a,n,r){if(this.freeTextures==null)return;const s=yM(n,r),i=vM(a,s,r);i in this.freeTextures||(this.freeTextures[i]=[]);const o=gM(a,s,this.gpgpu.gl,this.gpgpu.textureConfig,r),c=Ce().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");c!==-1&&this._numBytesAllocated>c?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const l=this.usedTextures[i],u=l&&l.indexOf(e);if(u==null||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[u]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const a=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*a)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(a=>{this.gpgpu.deleteMatrixTexture(a.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(a=>{this.gpgpu.deleteMatrixTexture(a.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function UTe(t,e){const a=t;if(e===a.R32F)return 4;if(e===a.R16F)return 2;if(e===a.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===a.RGBA16F)return 8;if(e===a.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function gM(t,e,a,n,r){const s=WTe(e,n);let i;if(r){const[c,l]=wm(t[0],t[1]);i=c*l}else{const[c,l]=X1(t[0],t[1]);i=c*l}const o=UTe(a,s);return i*o}function WTe(t,e){switch(t){case Pr.PACKED_2X2_FLOAT32:return CV(e);case Pr.PACKED_2X2_FLOAT16:return IV(e);case Pr.UNPACKED_FLOAT32:return SV(e);case Pr.UNPACKED_FLOAT16:return TV(e);case Pr.PACKED_4X1_UNSIGNED_BYTE:return EV(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function VTe(t){return Ce().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Pr.PACKED_2X2_FLOAT32:Pr.UNPACKED_FLOAT32:t?Pr.PACKED_2X2_FLOAT16:Pr.UNPACKED_FLOAT16}function yM(t,e){if(t===fi.UPLOAD)return Pr.PACKED_2X2_FLOAT32;if(t===fi.RENDER||t==null)return VTe(e);if(t===fi.DOWNLOAD||t===fi.PIXELS)return Pr.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function vM(t,e,a){return`${t[0]}_${t[1]}_${e}_${a}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lc{constructor(e,a){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Xr(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${a}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const io="if (isnan(x)) return x;",jTe="return x;",xM="return abs(x);",HTe="return (x >= 0.0) ? x : (exp(x) - 1.0);",KTe=io+`
  return (x < 0.0) ? 0.0 : x;
`,qTe=io+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,iu="return x;",XTe="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YTe="return x;",ZTe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,JTe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,QTe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,eEe="return 1.0 / (1.0 + exp(-1.0 * x));";class uu{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Xr(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${a}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tEe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Xr(this.outputShape.length);const a=e.length,n=us("rc",a),r=Ya(a),s=MTe(a,n),i=n.slice(-2),o=a<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`
      void main() {
        ${r} rc = getOutputCoords();
        vec4 packedInput = getA(${s});

        setOutput(getChannel(packedInput, ${o}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aEe=N3,nEe=1e-7,rEe=1e-4,ek={};function sEe(t){return t in ek||(ek[t]={}),ek[t]}const iEe=Ce().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),oEe=600;function cEe(){return Ce().global.screen==null?1024:Ce().global.screen.height*Ce().global.screen.width*window.devicePixelRatio*oEe/1024/1024}class a2 extends MC{nextDataId(){return a2.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Ce().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let a;if(e!=null){if(e instanceof TS)a=e;else{const n=Lo(Ce().getNumber("WEBGL_VERSION"),e);a=new TS(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const n=Lo(Ce().getNumber("WEBGL_VERSION"));a=new TS(n),this.binaryCache=sEe(Ce().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=a,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new GTe(this.gpgpu),this.numMBBeforeWarning=cEe(),this.texData=new iz(this,Ui())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,a,n,r,s,i){const o=this.makeTensorInfo(a,n),c=this.texData.get(o.dataId);c.isPacked=!1,c.texture={texture:e,texShape:[r,s]},c.texShape=[r,s];const l=Jx(a),u=new mM(l,!1,i),d=this.runWebGLProgram(u,[o],n,[[r,s]]);return d.shape=a,c.texture=null,this.disposeIntermediateTensorInfo(o),d.dataId}write(e,a,n){if((Ce().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Ce().getBool("DEBUG"))&&this.checkNumericalProblems(e),n==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:a,dtype:n,values:e,usage:fi.UPLOAD,refCount:1}),r}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const a=this.texData.get(e);a.refCount++}decRef(e){if(this.texData.has(e)){const a=this.texData.get(e);a.refCount--}}move(e,a,n,r,s){if(Ce().getBool("DEBUG")&&this.checkNumericalProblems(a),r==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:a,usage:fi.UPLOAD,refCount:s})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const a=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:s,slice:i,shape:o,isPacked:c}=a;if(i!=null){let p;c?p=new uu(o,iu):p=new lc(o,iu);const m=this.runWebGLProgram(p,[{dataId:e,shape:o,dtype:r}],r),g=this.readSync(m.dataId);return this.disposeIntermediateTensorInfo(m),g}if(n!=null)return this.convertAndCacheOnCPU(e);if(r==="string")return n;const l=this.activeTimers!=null;let u;l&&(u=Ss());let d;if(r==="complex64"){const p=this.readSync(s.real.dataId),m=this.readSync(s.imag.dataId);d=yl(p,m)}else d=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=Ss()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const g=this.pendingRead.get(e);return new Promise(x=>g.push(x))}const a=this.texData.get(e),{values:n,shape:r,slice:s,dtype:i,complexTensorInfos:o,isPacked:c}=a;if(s!=null){let g;c?g=new uu(r,iu):g=new lc(r,iu);const x=this.runWebGLProgram(g,[{dataId:e,shape:r,dtype:i}],i),v=this.read(x.dataId);return this.disposeIntermediateTensorInfo(x),v}if(n!=null)return this.convertAndCacheOnCPU(e);if(Ce().getBool("DEBUG")&&!Ce().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Ce().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l=null,u;if(i!=="complex64"&&Ce().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const g=this.texData.get(u.dataId);l=this.gpgpu.createBufferFromTexture(g.texture.texture,...Xx(r))}this.pendingRead.set(e,[]),i!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(i==="complex64"){const g=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]),x=g[0],v=g[1];d=yl(x,v)}else if(l==null)d=this.getValuesFromTexture(e);else{const g=Me(r);d=this.gpgpu.downloadFloat32MatrixFromBuffer(l,g)}if(u!=null&&this.disposeIntermediateTensorInfo(u),l!=null){const g=this.gpgpu.gl;dt(g,()=>g.deleteBuffer(l))}const p=this.convertAndCacheOnCPU(e,d),m=this.pendingRead.get(e);return this.pendingRead.delete(e),m.forEach(g=>g(p)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Ui().removeDataId(e,this),this.pendingDeletes--),p}readToGPU(e,a={}){const n=this.texData.get(e),{values:r,shape:s,slice:i,dtype:o,isPacked:c,texture:l}=n;if(o==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(i!=null){let m;c?m=new uu(s,iu):m=new lc(s,iu);const g=this.runWebGLProgram(m,[{dataId:e,shape:s,dtype:o}],o),x=this.readToGPU(g,a);return this.disposeIntermediateTensorInfo(g),x}if(l==null)throw r!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,a.customTexShape),d=Ui().makeTensorFromTensorInfo(u),p=this.texData.get(u.dataId);return Object.assign({tensorRef:d},p.texture)}bufferSync(e){const a=this.readSync(e.dataId);if(e.dtype==="string")try{const n=a.map(r=>bu(r));return ra(e.shape,e.dtype,n)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return ra(e.shape,e.dtype,a)}checkNumericalProblems(e){if(e!=null)for(let a=0;a<e.length;a++){const n=e[a];if(!fNe(n))throw Ce().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${n} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:a,dtype:n,isPacked:r}=this.texData.get(e),s=Me(a);if(Ce().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const p=this.decode(e),m=this.texData.get(p.dataId),g=this.gpgpu.downloadMatrixFromPackedTexture(m.texture.texture,...Xx(a)).subarray(0,s);return this.disposeIntermediateTensorInfo(p),g}const i=Ce().getBool("WEBGL_PACK")&&r===!0,o=i?Jx(a):a,c=i?new TSe(o):new SSe(o),l=this.runWebGLProgram(c,[{shape:o,dtype:n,dataId:e}],"float32"),u=this.texData.get(l.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,s);return this.disposeIntermediateTensorInfo(l),d}timerAvailable(){return Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const a=this.activeTimers,n=[];let r=!1;this.programTimersStack==null?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const s=fd(this.activeTimers.map(c=>c.query)).filter(c=>c!=null),i=fd(this.activeTimers.map(c=>c.name)).filter(c=>c!=null);this.activeTimers=a,r&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const c=await Promise.all(s);o.kernelMs=Soe(c),o.getExtraProfileInfo=()=>c.map((l,u)=>({name:i[u],ms:l})).map(l=>`${l.name}: ${l.ms}`).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Ss(),endMs:null}}endTimer(e){return Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Ss(),e)}async getQueryTime(e){if(Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const a=e;return a.endMs-a.startMs}disposeData(e,a=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(a?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!a&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return n!=null&&(this.disposeData(n.real.dataId,a),this.disposeData(n.imag.dataId,a)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:a,dtype:n,texShape:r,usage:s,isPacked:i,slice:o}=this.texData.get(e),c=o&&o.origDataId||e,l=this.dataRefCount.get(c);l>1?this.dataRefCount.set(c,l-1):(this.dataRefCount.delete(c),a!=null&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(a,r,s,i)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,a=iEe){return Ce().getBool("WEBGL_CPU_FORWARD")&&e.every(n=>this.texData.get(n.dataId).texture==null&&Me(n.shape)<a)}getGPGPUContext(){return this.gpgpu}where(e){ui("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const a=e.dataSync();return aEe(e.shape,a)}packedUnaryOp(e,a,n){const r=new uu(e.shape,a),s=this.compileAndRun(r,[e],n);return Ui().makeTensorFromTensorInfo(s)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const r=DV(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,r)}if(Ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,xM,e.dtype);const a=new lc(e.shape,xM),n=this.compileAndRun(a,[e]);return Ui().makeTensorFromTensorInfo(n)}makeTensorInfo(e,a,n){let r;if(a==="string"&&n!=null&&n.length>0&&Py(n[0])){const s=n.map(i=>hu(i));r=this.write(s,e,a)}else r=this.write(n,e,a);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:a}}makeOutput(e,a,n){return Ui().makeTensorFromTensorInfo(this.makeTensorInfo(e,a,n),this)}unpackTensor(e){const a=new tEe(e.shape);return this.runWebGLProgram(a,[e],e.dtype)}packTensor(e){const a=new BTe(e.shape);return this.runWebGLProgram(a,[e],e.dtype,null,!0)}packedReshape(e,a){const n=[Xp(e.shape),...Yp(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},s=[Xp(a),...Yp(a)],i=new OV(s,n),o=!0,c=[n],l=this.runWebGLProgram(i,[r],e.dtype,c,o);return{dataId:l.dataId,shape:a,dtype:l.dtype}}decode(e,a){const n=this.texData.get(e),{isPacked:r,shape:s,dtype:i}=n;if(a!=null){const p=Me(s),m=a[0]*a[1]*4;K(p<=m,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const o=Jx(s);let c;r?c=new NSe(o):c=new ASe(o);const l=!0,u=[a??Xx(o)],d=this.runWebGLProgram(c,[{shape:o,dtype:i,dataId:e}],i,u,l,a);return{dtype:i,shape:s,dataId:d.dataId}}runWebGLProgram(e,a,n,r,s=!1,i){const o=this.makeTensorInfo(e.outputShape,n),c=this.texData.get(o.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===Yg.DENSE){const k=i??Xx(e.outputShape);c.texShape=k.map(b=>b*2)}if(e.outTexUsage!=null&&(c.usage=e.outTexUsage),Me(o.shape)===0)return c.values=$r(o.dtype,0),o;const l=[],u=a.map(k=>{if(k.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let b=this.texData.get(k.dataId);if(b.texture==null){if(!e.packedInputs&&Me(k.shape)<=Ce().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:k.shape,texData:null,isUniform:!0,uniformValues:b.values};e.packedInputs&&(b.isPacked=!0,b.shape=k.shape)}if(this.uploadToGPU(k.dataId),!!b.isPacked!=!!e.packedInputs)k=b.isPacked?this.unpackTensor(k):this.packTensor(k),l.push(k),b=this.texData.get(k.dataId);else if(b.isPacked&&!_w(b.shape,k.shape)){const _=k,A=k.shape;k.shape=b.shape,k=this.packedReshape(k,A),l.push(k),b=this.texData.get(k.dataId),_.shape=A}return{shape:k.shape,texData:b,isUniform:!1}});this.uploadToGPU(o.dataId);const d={shape:o.shape,texData:c,isUniform:!1},p=_Se(e,u,d),m=this.getAndSaveBinary(p,()=>wSe(this.gpgpu,e,u,d)),g=this.activeTimers!=null;let x;g&&(x=this.startTimer()),Ce().get("ENGINE_COMPILE_ONLY")||bSe(this.gpgpu,m,u,d,r),l.forEach(k=>this.disposeIntermediateTensorInfo(k)),g&&(x=this.endTimer(x),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(x)}));const v=Ce().getNumber("WEBGL_FLUSH_THRESHOLD");if(v>0){const k=Ss();k-this.lastGlFlushTime>v&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=k)}if(!Ce().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&s===!1){const k=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),k}return o}compileAndRun(e,a,n,r,s=!1){return n=n||a[0].dtype,this.runWebGLProgram(e,a,n,r,s)}getAndSaveBinary(e,a){return e in this.binaryCache||(this.binaryCache[e]=a()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Ce().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(a=>{this.gpgpu.deleteProgram(this.binaryCache[a].webGLProgram),delete this.binaryCache[a]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Ne(()=>{if(!Ce().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Ce().getBool("DEBUG");Ce().set("DEBUG",!1);const a=this.abs(Pt(1e-8)).dataSync()[0];if(Ce().set("DEBUG",e),a>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?nEe:rEe}uploadToGPU(e){const a=this.texData.get(e),{shape:n,dtype:r,values:s,texture:i,usage:o,isPacked:c}=a;if(i!=null)return;const l=this.activeTimers!=null;let u;l&&(u=Ss());let d=a.texShape;if(d==null&&(d=CNe(n,c),a.texShape=d),s!=null){const p=Jx(n);let m,g=d[1],x=d[0];const v=s instanceof Uint8Array||s instanceof Uint8ClampedArray;(c||!v)&&([g,x]=wm(d[0],d[1])),c?m=new CSe(p,v):m=new mM(p,v);const k=v?[x,g]:d,b=this.makeTensorInfo(k,r),_=this.texData.get(b.dataId);v?_.usage=fi.PIXELS:_.usage=fi.UPLOAD,_.texShape=k,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(b.dataId),g,x,s);const A=[[x,g]],C=this.runWebGLProgram(m,[b],r,A,!0),E=this.texData.get(C.dataId);a.texShape=E.texShape,a.isPacked=E.isPacked,a.usage=E.usage,Ce().get("ENGINE_COMPILE_ONLY")?this.disposeData(C.dataId):(a.texture=E.texture,a.values=null,this.texData.delete(C.dataId)),this.disposeIntermediateTensorInfo(b),l&&(this.uploadWaitMs+=Ss()-u)}else{const p=this.acquireTexture(d,o,r,c);a.texture=p}}convertAndCacheOnCPU(e,a){const n=this.texData.get(e),{dtype:r}=n;return a!=null&&(n.values=lEe(a,r)),n.values}acquireTexture(e,a,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const s=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${s} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,a,r)}computeBytes(e,a){return e[0]*e[1]*Jk(a)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,a]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(a));return Promise.all(e)}else{for(const[,a]of Object.entries(this.binaryCache)){const n=new Promise(r=>{try{this.checkCompletion_(a),r(!0)}catch(s){throw s}});e.push(n)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await xU(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(kV(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:a,customUniformLocations:n,infLoc:r,nanLoc:s,outShapeLocation:i,outShapeStridesLocation:o,outTexShapeLocation:c}=NV(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=a,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=s,e.outShapeLocation=i,e.outShapeStridesLocation=o,e.outTexShapeLocation=c}}createTensorFromGPUData(e,a,n){e.channels=e.channels||"RGBA";const{texture:r,height:s,width:i,channels:o}=e,c=Ui().backend;if(!c.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=c.writeTexture(r,a,n,s,i,o);return Ui().makeTensorFromDataId(l,a,n,c)}}a2.nextDataId=0;function lEe(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const a=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let n=0;n<a.length;++n)a[n]=Math.round(t[n]);return a}else throw new Error(`Unknown dtype ${e}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Tz()&&Iz("webgl",()=>new a2,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WR=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class Ad{constructor(e,a,n){this.variableNames=["A","B"],this.outputShape=Xt(a,n),this.enableShapeUniforms=Xr(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yd=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class Sm{constructor(e,a,n,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Xt(a,n);const s=this.outputShape.length;this.enableShapeUniforms=Xr(s);let i="";if(r)if(s===0||Me(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          ${Ya(s)} coords = getOutputCoords();
        `,s===1)this.enableShapeUniforms?i+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:i+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const c=us("coords",s);this.enableShapeUniforms?i+=`
            bool nextRowOutOfBounds =
              (${c[s-2]} + 1) >= outShape[${s} - 2];
            bool nextColOutOfBounds =
              (${c[s-1]} + 1) >= outShape[${s} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:i+=`
            bool nextRowOutOfBounds =
              (${c[s-2]} + 1) >= ${this.outputShape[s-2]};
            bool nextColOutOfBounds =
              (${c[s-1]} + 1) >= ${this.outputShape[s-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${i}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qs(t){const{inputs:e,backend:a}=t,{x:n}=e;return a.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}const uEe={kernelName:e1,backendName:"webgl",kernelFunc:Qs};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ju(t){const{inputs:e,backend:a}=t,{real:n,imag:r}=e,s=a.makeTensorInfo(n.shape,"complex64"),i=a.texData.get(s.dataId),o=Qs({inputs:{x:n},backend:a}),c=Qs({inputs:{x:r},backend:a});return i.complexTensorInfos={real:o,imag:c},s}const fEe={kernelName:qC,backendName:"webgl",kernelFunc:Ju};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $V="return (a < 0.) ? b * a : a;",LV=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function dEe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{alpha:s}=n,i=a.makeTensorInfo([],"float32",Uu(s,"float32")),o=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Sm(LV,r.shape,i.shape):new Ad($V,r.shape,i.shape),c=a.runWebGLProgram(o,[r,i],"float32");return a.disposeIntermediateTensorInfo(i),c}const hEe={kernelName:Ob,backendName:"webgl",kernelFunc:dEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MV="return (a < 0.) ? b * a : a;",BV=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function pEe(t){const{inputs:e,backend:a}=t,{x:n,alpha:r}=e,s=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Sm(BV,n.shape,r.shape):new Ad(MV,n.shape,r.shape);return a.runWebGLProgram(s,[n,r],"float32")}const mEe={kernelName:e_,backendName:"webgl",kernelFunc:pEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tm="if (isnan(x)) return x;";function Da({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:a,dtype:n}){return({inputs:r,backend:s})=>{const{x:i}=r,o=s,c=n||i.dtype;if(o.shouldExecuteOnCPU([i])&&a!=null){const d=o.texData.get(i.dataId),p=a(d.values,c);return o.makeTensorInfo(i.shape,c,p)}const l=Ce().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return l?u=new uu(i.shape,e):u=new lc(i.shape,t),o.runWebGLProgram(u,[i],c)}}function Gr({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:a=!1,supportsComplex:n=!1,cpuKernelImpl:r,dtype:s}){return({inputs:i,backend:o})=>{const{a:c,b:l}=i,u=o;if(n&&c.dtype==="complex64"){const g=u.texData.get(c.dataId),x=u.texData.get(l.dataId),[v,k]=[[g.complexTensorInfos.real,x.complexTensorInfos.real],[g.complexTensorInfos.imag,x.complexTensorInfos.imag]].map(_=>{const[A,S]=_,C={dataId:A.dataId,dtype:A.dtype,shape:c.shape},E={dataId:S.dataId,dtype:S.dtype,shape:l.shape},R=new Ad(t,c.shape,l.shape);return u.runWebGLProgram(R,[C,E],qs(A.dtype,S.dtype))}),b=Ju({inputs:{real:v,imag:k},backend:u});return u.disposeIntermediateTensorInfo(v),u.disposeIntermediateTensorInfo(k),b}const d=s||qs(c.dtype,l.dtype);if((c.dtype==="string"||l.dtype==="string"||u.shouldExecuteOnCPU([c,l]))&&r!=null){const g=u.texData.get(c.dataId).values,x=u.texData.get(l.dataId).values,v=c.dtype==="string"?vl(g):g,k=c.dtype==="string"?vl(x):x,[b,_]=r(c.shape,l.shape,v,k,d),A=u.makeTensorInfo(_,d),S=u.texData.get(A.dataId);return S.values=b,A}const p=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let m;return p?m=new Sm(e,c.shape,l.shape,a):m=new Ad(t,c.shape,l.shape),u.runWebGLProgram(m,[c,l],d)}}function Zg(t,e=!1){if(t==="linear")return e?YTe:jTe;if(t==="relu")return e?JTe:KTe;if(t==="elu")return e?ZTe:HTe;if(t==="relu6")return e?QTe:qTe;if(t==="prelu")return e?BV:MV;if(t==="leakyrelu")return e?LV:$V;if(t==="sigmoid")return e?eEe:XTe;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zV{constructor(e,a,n,r=!1,s=!1,i=!1,o=null,c=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=Xr(this.outputShape.length);const u=r?e[1]:e[2],d=Math.ceil(u/2),p=r?"i * 2, rc.y":"rc.y, i * 2",m=s?"rc.z, i * 2":"i * 2, rc.z",g=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],x=s?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let v="",k="";o&&(c?v=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:l?v=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:v=`vec4 activation(vec4 x) {
          ${o}
        }`,k="result = activation(result);");const b=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),c&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let _="rc.x",A="rc.x";e[0]<a[0]?_=`imod(rc.x, ${e[0]})`:a[0]<e[0]&&(A=`imod(rc.x, ${a[0]})`),this.userCode=`
      ${v}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${_};
        int batchB = ${A};
        for (int i = 0; i < ${d}; i++) {
          vec4 a = getMatrixA(batchA, ${p});
          vec4 b = getMatrixB(batchB, ${m});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${g[0]} * ${x[0]});
          result += (${g[1]} * ${x[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${b}

        ${k}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kM={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class wM{constructor(e,a,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Xt(a,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bM="return a * b;";function VR(t){const{inputs:e,backend:a}=t,{a:n,b:r}=e,s=qs(n.dtype,r.dtype);if(n.dtype==="complex64"){const o=a.texData.get(n.dataId),c=a.texData.get(r.dataId),l=new wM(kM.REAL,n.shape,r.shape),u=new wM(kM.IMAG,n.shape,r.shape),d=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:n.shape},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:n.shape},{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:r.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:r.shape}],p=a.runWebGLProgram(l,d,"float32"),m=a.runWebGLProgram(u,d,"float32"),g=Ju({inputs:{real:p,imag:m},backend:a});return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(m),g}if(a.shouldExecuteOnCPU([n,r])){const o=a.texData.get(n.dataId),c=a.texData.get(r.dataId),[l,u]=pTe(n.shape,r.shape,o.values,c.values,s),d=a.makeTensorInfo(u,s),p=a.texData.get(d.dataId);return p.values=l,d}let i;return Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?i=new Sm(bM,n.shape,r.shape):i=new Ad(bM,n.shape,r.shape),a.runWebGLProgram(i,[n,r],s)}const gEe={kernelName:l1,backendName:"webgl",kernelFunc:VR};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yEe(t,e,a){const n=[Xp(t.shape),...Yp(t.shape)],r={dtype:t.dtype,shape:n,dataId:t.dataId},s=[Xp(e),...Yp(e)],i=new OV(s,n),o=!0,c=[n],l=a.runWebGLProgram(i,[r],t.dtype,c,o);return{dataId:l.dataId,shape:e,dtype:l.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ct(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{shape:s}=n,i=a,o=Me(r.shape),c=oz(s,o),l=Me(c);K(o===l,()=>`The new shape (${c}) has ${l} elements and the old shape (${r.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`);const u=i.texData.get(r.dataId);return u.isPacked&&!_w(r.shape,c)&&!(u.texture!==null&&_w(u.shape,c))?yEe(r,c,i):(i.incRef(r.dataId),{dataId:r.dataId,shape:c,dtype:r.dtype})}const vEe={kernelName:a_,backendName:"webgl",kernelFunc:ct};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _M{constructor(e,a){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:s,outSize:i}=e;this.outputShape=[r,i];const o=Math.floor(n/4)*4,c=n%4;let l="sumValue += dot(values, ones);";if(a!=null){const d=1/a;l=`sumValue += dot(values * ${zp(d)?d.toPrecision(2):d}, ones);`}let u="";s%n>0&&(u=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${u}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${n};

        float sumValue = 0.0;

        for (int i = 0; i < ${o}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${l}
        }

        int inIdx = inOffset + ${o};
        if (${c===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${l}
        } else if (${c===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${l}
        } else if (${c===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${l}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xEe{constructor(e,a){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:s,outSize:i}=e;this.outputShape=[r,i];let o="0.0",c="";a==="prod"?o="1.0":a==="min"?(o="1.0 / 1e-20",c="min"):a==="max"&&(o="-1.0 / 1e-20",c="max");let l=`${a}(${a}(${a}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;a==="sum"?l="sumValue":a==="prod"?l="prodValue":a==="all"?l="allValue":a==="any"&&(l="anyValue");const u=Math.floor(n/4)*4,d=n%4;let p=`
      if (${a==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${a==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${c}(values, minMaxValue);
        if (${a==="min"} || ${a==="max"}) {
          minMaxValue = ${c}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,m="vec4";a==="all"?(o="1.0",p=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):a==="any"&&(o="0.0",p=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");let g="";s%n>0&&(g=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${o};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${g}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${n};

        vec4 minMaxValue = vec4(${o});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${p}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${p}
        } else if (${d===2}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${p}
        } else if (${d===3}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${p}
        }
        setOutput(${l});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kEe(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const a=e.length?e[e.length-1].outSize:t[1],n=z_(a);e.push({inSize:a,windowSize:n,outSize:Math.ceil(a/n)})}return e}function Zd(t,e,a,n){const r=kEe(t.shape);let s=t;for(let i=0;i<r.length;i++){const{inSize:o,windowSize:c,outSize:l}=r[i];let u,d;a==="mean"?u=i===0?new _M({windowSize:c,inSize:o,batchSize:t.shape[0],outSize:l},o):new _M({windowSize:c,inSize:o,batchSize:t.shape[0],outSize:l}):u=new xEe({windowSize:c,inSize:o,batchSize:t.shape[0],outSize:l},a),d=s,s=n.runWebGLProgram(u,[s],e),d.dataId!==t.dataId&&n.disposeIntermediateTensorInfo(d)}return s}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wEe{constructor(e,a){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[a[i]];this.outputShape=n,this.rank=n.length;const r=Ya(this.rank),s=bEe(a);this.userCode=`
    void main() {
      ${r} resRC = getOutputCoords();
      setOutput(getA(${s}));
    }
    `}}function bEe(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const a=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],n=new Array(e);for(let r=0;r<t.length;r++)n[t[r]]=a[r];return n.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Ee{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let u=0;u<n.length;u++)n[u]=e[a[u]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=Ya(this.rank),s=FV("rc",this.rank),i=new Array(this.rank);for(let u=0;u<a.length;u++)i[a[u]]=s[u];const o=`vec2(${i.slice(-2).join()})`,c=`++${s[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${i.join()}), ${o})`;this.userCode=`
    void main() {
      ${r} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${l};
      if(${c}) {
        result[1] = ${l};
      }
      --${s[this.rank-1]};
      if(++${s[this.rank-2]} < ${n[this.rank-2]}) {
        result[2] = ${l};
        if(${c}) {
          result[3] = ${l};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n2(t,e,a){const n=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _Ee(t.shape,e):new wEe(t.shape,e);return a.runWebGLProgram(n,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AEe(t,e,a,n){const r=e,s=t.shape.length,i=pa(r,t.shape);let o=i;const c=kn(o,s),l=c!=null;let u=t;l&&(u=n2(t,c,n),o=Bn(o.length,s)),Br("sum",o,s);const[d,p]=_r(u.shape,o);let m=d;a&&(m=Mn(d,i));const g=Me(p),v=Me(t.shape)/g,k=ct({inputs:{x:u},attrs:{shape:[v,g]},backend:n}),b=HI(t.dtype),_=Zd(k,b,"sum",n),A=ct({inputs:{x:_},attrs:{shape:m},backend:n});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(_),l&&n.disposeIntermediateTensorInfo(u),A}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r2(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n;return AEe(r,s,i,a)}const NEe={kernelName:c_,backendName:"webgl",kernelFunc:r2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ys(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{perm:s}=n,i=a,o=r.shape.length,c=new Array(o);for(let u=0;u<c.length;u++)c[u]=r.shape[s[u]];let l;if(i.shouldExecuteOnCPU([r])){const d=i.texData.get(r.dataId).values,p=UR(d,r.shape,r.dtype,s,c);l=i.makeTensorInfo(c,r.dtype);const m=i.texData.get(l.dataId);m.values=p}else l=n2(r,s,i);return l}const SEe={kernelName:_p,backendName:"webgl",kernelFunc:ys};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GV=1e3;function Aw({a:t,b:e,transposeA:a,transposeB:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:c=null}){const l=t.shape.length,u=e.shape.length,d=a?t.shape[l-2]:t.shape[l-1],p=n?e.shape[u-1]:e.shape[u-2],m=a?t.shape[l-1]:t.shape[l-2],g=n?e.shape[u-2]:e.shape[u-1],x=t.shape.slice(0,-2),v=e.shape.slice(0,-2),k=Me(x),b=Me(v),A=Xt(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([m,g]);K(d===p,()=>`Error in matMul: inner shapes (${d}) and (${p}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${a} and transposeB=${n} must match.`);const S=a?[k,d,m]:[k,m,d],C=n?[b,g,p]:[b,p,g],E=ct({inputs:{x:t},backend:r,attrs:{shape:S}}),R=ct({inputs:{x:e},backend:r,attrs:{shape:C}}),I=[E,R],P=Math.max(k,b),D=a?E.shape[1]:E.shape[2],B=s!=null,U=i!=null,V=c==="leakyrelu",j=c!=null?Zg(c,!0):null,W=B||U||V||j!=null;let Q;if((m===1||g===1)&&D>GV&&W===!1){let Z=E,M=R;a&&(Z=ys({inputs:{x:E},backend:r,attrs:{perm:[0,2,1]}}),I.push(Z)),n&&(M=ys({inputs:{x:R},backend:r,attrs:{perm:[0,2,1]}}),I.push(M));const se=g!==1,ue=g===1;let le=Z;se&&(le=ct({inputs:{x:Z},backend:r,attrs:{shape:[P,D,1]}}),I.push(le));const ie=g===1?2:1;let ye=M;ue&&(ye=ct({inputs:{x:M},backend:r,attrs:{shape:[P,1,D]}}),I.push(ye));const ke=VR({inputs:{a:le,b:ye},backend:r});Q=r2({inputs:{x:ke},backend:r,attrs:{axis:ie,keepDims:!0}}),I.push(ke)}else{const Z=qs(t.dtype,e.dtype),M=new zV(S,C,[P,m,g],a,n,B,j,U,V),se=[E,R];if(s!=null&&se.push(s),U&&se.push(i),V){const ue=r.makeTensorInfo([],"float32",Uu(o,"float32"));se.push(ue),I.push(ue)}Q=r.runWebGLProgram(M,se,Z)}const q=ct({inputs:{x:Q},backend:r,attrs:{shape:A}});I.push(Q);for(const Z of I)r.disposeIntermediateTensorInfo(Z);return q}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TEe(t){const{inputs:e,backend:a,attrs:n}=t,{a:r,b:s,bias:i,preluActivationWeights:o}=e,{transposeA:c,transposeB:l,activation:u,leakyreluAlpha:d}=n;return Aw({a:r,b:s,transposeA:c,transposeB:l,backend:a,bias:i,preluActivationWeights:o,leakyreluAlpha:d,activation:u})}const EEe={kernelName:Qk,backendName:"webgl",kernelFunc:TEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AM="return abs(x);";function CEe(t){const{inputs:e,backend:a}=t,{x:n}=e;if(a.shouldExecuteOnCPU([n])&&n.dtype!=="complex64"){const s=a.texData.get(n.dataId),i=DV(s.values);return a.makeTensorInfo(n.shape,n.dtype,i)}let r;return Ce().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new uu(n.shape,AM):r=new lc(n.shape,AM),a.runWebGLProgram(r,[n],n.dtype)}const IEe={kernelName:hb,backendName:"webgl",kernelFunc:CEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const REe=io+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,DEe=Da({opSnippet:REe}),PEe={kernelName:Fy,backendName:"webgl",kernelFunc:DEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FEe=io+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,OEe=Da({opSnippet:FEe}),$Ee={kernelName:Oy,backendName:"webgl",kernelFunc:OEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NM="return a + b;",LEe=Gr({opSnippet:NM,packedOpSnippet:NM,supportsComplex:!0,cpuKernelImpl:KSe}),MEe={kernelName:pm,backendName:"webgl",kernelFunc:LEe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BEe{constructor(e,a){this.outputShape=[],this.outputShape=e,this.variableNames=a.map((s,i)=>`T${i}`);const n=[];this.variableNames.forEach(s=>{n.push(`float v${s} = get${s}AtOutCoords();`)});const r=this.variableNames.map(s=>`v${s}`).join(" + ");this.userCode=`
      void main() {
        ${n.join(`
        `)}

        float result = ${r};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zEe{constructor(e,a){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=a.map((s,i)=>`T${i}`);const n=[];this.variableNames.forEach(s=>{n.push(`vec4 v${s} = get${s}AtOutCoords();`)});const r=this.variableNames.map(s=>`v${s}`).join(" + ");this.userCode=`
      void main() {
        ${n.join(`
        `)}

        vec4 result = ${r};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lk(t){const{inputs:e,backend:a}=t,n=e;if(n.length===1)return Qs({inputs:{x:n[0]},backend:a});if(n.length>Ce().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const c=Math.floor(n.length/2),l=Lk({inputs:n.slice(0,c),backend:a}),u=Lk({inputs:n.slice(c),backend:a});return Lk({inputs:[l,u],backend:a})}const r=n.map(c=>c.dtype).reduce((c,l)=>qs(c,l)),s=n.map(c=>c.shape),o=Ce().getBool("WEBGL_PACK")?new zEe(n[0].shape,s):new BEe(n[0].shape,s);return a.runWebGLProgram(o,n,r)}const GEe={kernelName:pb,backendName:"webgl",kernelFunc:Lk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UEe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n,o=r.shape.length,c=pa(s,r.shape);let l=c;const u=kn(l,o);let d=r;u!=null&&(d=ys({inputs:{x:r},backend:a,attrs:{perm:u}}),l=Bn(l.length,o)),Br("all",l,o);const[p,m]=_r(d.shape,l),g=Me(m),x=ct({inputs:{x:d},backend:a,attrs:{shape:[-1,g]}}),v=Zd(x,x.dtype,"all",a);let k;if(i){const b=Mn(p,c);k=ct({inputs:{x:v},backend:a,attrs:{shape:b}})}else k=ct({inputs:{x:v},backend:a,attrs:{shape:p}});return a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(v),u!=null&&a.disposeIntermediateTensorInfo(d),k}const WEe={kernelName:UC,backendName:"webgl",kernelFunc:UEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VEe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n,o=r.shape.length,c=pa(s,r.shape);let l=c;const u=kn(l,o);let d=r;u!=null&&(d=ys({inputs:{x:r},backend:a,attrs:{perm:u}}),l=Bn(l.length,o)),Br("any",l,o);const[p,m]=_r(d.shape,l),g=Me(m),x=ct({inputs:{x:d},backend:a,attrs:{shape:[-1,g]}}),v=Zd(x,x.dtype,"any",a);let k;if(i){const b=Mn(p,c);k=ct({inputs:{x:v},backend:a,attrs:{shape:b}})}else k=ct({inputs:{x:v},backend:a,attrs:{shape:p}});return a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(v),u!=null&&a.disposeIntermediateTensorInfo(d),k}const jEe={kernelName:WC,backendName:"webgl",kernelFunc:VEe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HEe{constructor(e,a,n){this.variableNames=["A"];const{windowSize:r,batchSize:s,outSize:i}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[s,i];const o=a==="max"?">":"<",c=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${r}; i++) {
          int inIdx = ${c};
          float candidate = getA(batch, inIdx);
          if (candidate ${o} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KEe{constructor(e,a,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,K(e.length>2,()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`);const s=e[e.length-1],i=Math.ceil(s/a);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");const o=this.outputShape,c=o.length,l=Ya(c),u=us("coords",c);let d,p;if(i===1){p=c+1;const R=Ya(p);d=`
        ${R} sourceLocR = ${R}(${u.join()}, 0);
        ++${u[c-1]};
        ${R} sourceLocG = ${R}(${u.join()}, 0);
        ++${u[c-2]};
        ${R} sourceLocA = ${R}(${u.join()}, 0);
        --${u[c-1]};
        ${R} sourceLocB = ${R}(${u.join()}, 0);
        --${u[c-2]};`}else p=c,d=`
        ${l} sourceLocR = coords;
        ++${u[c-1]};
        ${l} sourceLocG = coords;
        ++${u[c-2]};
        ${l} sourceLocA = coords;
        --${u[c-1]};
        ${l} sourceLocB = coords;
        --${u[c-2]};`;const m=["x","y","z","w","u","v"].slice(0,p),g="."+m[p-1],x=m.map(R=>"int "+R),v=us("sourceLocR",p-1).concat("inIdx.r"),k=us("sourceLocG",p-1).concat("inIdx.g"),b=us("sourceLocB",p-1).concat("inIdx.b"),_=us("sourceLocA",p-1).concat("inIdx.a"),A=n==="max"?"greaterThan":"lessThan",S=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${k.join()}),
                             getBestIndicesAChannel(${b.join()}),
                             getBestIndicesAChannel(${_.join()})));`,C=`vec4(
            getAChannel(${v.join()}),
            hasNextCol ? getAChannel(${k.join()}) : 0.,
            hasNextRow ? getAChannel(${b.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${_.join()}) : 0.)`,E=r?"":`
      float getBestIndicesAChannel(${x.join()}) {
        return getChannel(getBestIndicesA(${m.join()}),
                                          vec2(${m.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${x.join()}) {
        return getChannel(getA(${m.join()}),
                               vec2(${m.slice(-2).join()}));
      }
      ${E}
      void main() {
        ${l} coords = getOutputCoords();
        bool hasNextCol = ${u[c-1]} < ${o[c-1]-1};
        bool hasNextRow = ${u[c-2]} < ${o[c-2]-1};
        ${d}
        ivec4 srcIdx = ivec4(sourceLocR${g}, sourceLocG${g},
          sourceLocB${g}, sourceLocA${g}) * ${a};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${C};

        for (int i = 0; i < ${a}; i++) {
          inIdx = srcIdx;
          ${S}
          vec4 candidate = ${C};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${A}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UV(t,e,a,n=null){let r=e.shape[0],s=e.shape[1];n!=null&&(r=n.shape[0],s=n.shape[1]);const i=z_(s),o={windowSize:i,inSize:s,batchSize:r,outSize:Math.ceil(s/i)},c=new HEe(o,a,n==null),l=[e];n!=null&&l.push(n);const u=t.runWebGLProgram(c,l,"int32");if(u.shape[1]===1)return u;const d=UV(t,e,a,u);return t.disposeIntermediateTensorInfo(u),d}function WV(t,e,a,n=null){const r=n!=null?n.shape:e.shape,s=r[r.length-1],i=z_(s),o=new KEe(r,i,a,n==null),c=n==null?[e]:[e,n],l=t.runWebGLProgram(o,c,"int32");if(l.shape.length===e.shape.length){const u=WV(t,e,a,l);return t.disposeIntermediateTensorInfo(l),u}return l}function VV(t,e,a,n){const r=[a];if(Br("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.shape.length),!Ce().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const s=[],i=t.texData.get(e.dataId),o=i!==null&&i.isPacked;let c=e;o&&(c=t.unpackTensor(e),s.push(c));const[l,u]=_r(c.shape,r),d=Me(u),p=ct({inputs:{x:c},backend:t,attrs:{shape:[-1,d]}});s.push(p);const m=UV(t,p,n);s.push(m);const g=ct({inputs:{x:m},backend:t,attrs:{shape:l}});return s.forEach(x=>t.disposeIntermediateTensorInfo(x)),g}return WV(t,e,n)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qEe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s}=n;let i=pa(s,r.shape);const o=kn(i,r.shape.length);let c=r;const l=[];o!=null&&(c=ys({inputs:{x:r},backend:a,attrs:{perm:o}}),l.push(c),i=Bn(i.length,c.shape.length)),Br("argMax",[i[0]],c.shape.length);const u=VV(a,c,i[0],"max");return l.forEach(d=>a.disposeIntermediateTensorInfo(d)),u}const XEe={kernelName:mb,backendName:"webgl",kernelFunc:qEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YEe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s}=n;let i=pa(s,r.shape);const o=kn(i,r.shape.length);let c=r;const l=[];o!=null&&(c=ys({inputs:{x:r},backend:a,attrs:{perm:o}}),l.push(c),i=Bn(i.length,c.shape.length)),Br("argMin",[i[0]],c.shape.length);const u=VV(a,c,i[0],"min");return l.forEach(d=>a.disposeIntermediateTensorInfo(d)),u}const ZEe={kernelName:gb,backendName:"webgl",kernelFunc:YEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JEe=io+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,QEe=Da({opSnippet:JEe}),eCe={kernelName:$y,backendName:"webgl",kernelFunc:QEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tCe=io+"return log(x + sqrt(x * x + 1.0));",aCe=Da({opSnippet:tCe}),nCe={kernelName:Ly,backendName:"webgl",kernelFunc:aCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rCe=io+`
  return atan(x);
`,sCe=Da({opSnippet:rCe}),iCe={kernelName:My,backendName:"webgl",kernelFunc:sCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oCe=WR+`
  return atan(a, b);
`,cCe=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Yd+`
  return result;
`,lCe=Gr({opSnippet:oCe,packedOpSnippet:cCe}),uCe={kernelName:zy,backendName:"webgl",kernelFunc:lCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fCe=io+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,dCe=Da({opSnippet:fCe}),hCe={kernelName:By,backendName:"webgl",kernelFunc:dCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jg{constructor(e,a,n,r=!1,s=!1){if(this.variableNames=["x"],a==="avg"&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,o=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=e.padInfo.top,g=e.padInfo.left;this.outputShape=e.outShape;const x=a==="avg",v=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,k=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(x||(b="-1.0 / 1e-20"),n){const R=">=";this.userCode=`
        const ivec2 strides = ivec2(${o}, ${c});
        const ivec2 pads = ivec2(${m}, ${g});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${l}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${p};
                wC += ${u}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${R} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${r?s?v:k:`wR * ${p} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const _="max";let A=`${a}(${a}(${a}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;a==="avg"&&(A="avgValue / max(count, 1.0)");const S=Math.floor(i/4)*4,C=i%4,E=`
      if (${x}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${_}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${c});
      const ivec2 pads = ivec2(${m}, ${g});
      const float initializationValue = ${b};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${b});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${l}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${S}; wC += 4) {
            int xC = xCCorner + wC * ${u};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              getValue(batch, xR, xC + 3 * ${u}, d)
            );

            ${E}
          }

          int xC = xCCorner + ${S};
          if (${C===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${E}
          } else if (${C===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              initializationValue,
              initializationValue
            );

            ${E}
          } else if (${C===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              initializationValue
            );

            ${E}
          }
        }
        setOutput(${A});
      }
    `}}class jR{constructor(e,a,n,r=!1,s=!1){if(this.variableNames=["x"],a==="avg"&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,o=e.strideDepth,c=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,d=e.dilationHeight,p=e.dilationWidth,m=e.effectiveFilterDepth,g=e.effectiveFilterHeight,x=e.effectiveFilterWidth,v=e.padInfo.front,k=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const _=a==="avg";let A="0.0";if(_||(A="-1.0 / 1e-20"),n){const P=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${o}, ${c}, ${l});
        const ivec3 pads = ivec3(${v}, ${k}, ${b});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${m};
              wD += ${u}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${g};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${x};
                  wC += ${p}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${P} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${r?s?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${g} * ${x} +
                      wR * ${x} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const S="max";let C=`${a}(${a}(${a}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;a==="avg"&&(C="avgValue / max(count, 1.0)");const E=Math.floor(i/4)*4,R=i%4,I=`
      if (${_}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${S}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${o}, ${c}, ${l});
      const ivec3 pads = ivec3(${v}, ${k}, ${b});
      const float initializationValue = ${A};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${A});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${m};
            wD += ${u}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${g};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${E}; wC += 4) {
              int xC = xCCorner + wC * ${p};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${p}, ch),
                getValue(batch, xD, xR, xC + 2 * ${p}, ch),
                getValue(batch, xD, xR, xC + 3 * ${p}, ch)
              );

              ${I}
            }

            int xC = xCCorner + ${E};
            if (${R===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${I}
            } else if (${R===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${p}, ch),
                initializationValue,
                initializationValue
              );

              ${I}
            } else if (${R===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${p}, ch),
                getValue(batch, xD, xR, xC + 2 * ${p}, ch),
                initializationValue
              );

              ${I}
            }
          }
        }
        setOutput(${C});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pCe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e;Y1(r,"avgPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=n,l=1;K(Mr(i,l),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);const u=ro(r.shape,s,i,l,o,c);if(u.filterWidth===1&&u.filterHeight===1&&_a(u.inShape,u.outShape))return Qs({inputs:{x:r},backend:a});const d=new Jg(u,"avg",!1);return a.runWebGLProgram(d,[r],"float32")}const mCe={kernelName:yb,backendName:"webgl",kernelFunc:pCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gCe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:c,dataFormat:l}=n,u=[1,1,1],d=Nl(r.shape,s,i,u,o,c,l),p=new jR(d,"avg",!1);return a.runWebGLProgram(p,[r],"float32")}const yCe={kernelName:vb,backendName:"webgl",kernelFunc:gCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vCe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const a=e.filterHeight,n=e.filterWidth,r=e.strideHeight,s=e.strideWidth,i=e.dilationHeight,o=e.dilationWidth,c=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=c-1-e.padInfo.top,d=l-1-e.padInfo.left,p=1/(a*n);this.userCode=`
      const ivec2 pads = ivec2(${u}, ${d});
      const float avgMultiplier = float(${p});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${c};
            wR += ${i}) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${l};
            wC+= ${o}) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class xCe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const a=e.filterDepth,n=e.filterHeight,r=e.filterWidth,s=e.strideDepth,i=e.strideHeight,o=e.strideWidth,c=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,g=d-1-e.padInfo.front,x=p-1-e.padInfo.top,v=m-1-e.padInfo.left,k=1/(a*n*r);this.userCode=`
      const ivec3 pads = ivec3(${g}, ${x}, ${v});
      const float avgMultiplier = float(${k});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${c}) {
          float dyD = float(dyDCorner + wD) / ${s}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${p};
              wR += ${l}) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${m};
                wC += ${u}) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kCe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,input:s}=e,i=s,{filterSize:o,strides:c,pad:l,dimRoundingMode:u}=n,d=[1,1,1],p=Nl(i.shape,o,c,d,l,u),m=new xCe(p);return a.runWebGLProgram(m,[r],i.dtype)}const wCe={kernelName:jC,backendName:"webgl",kernelFunc:kCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bCe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,input:s}=e,i=s;Y1([r,s],"avgPoolGrad");const{filterSize:o,strides:c,pad:l}=n,u=ro(i.shape,o,c,1,l),d=new vCe(u);return a.runWebGLProgram(d,[r],i.dtype)}const _Ce={kernelName:VC,backendName:"webgl",kernelFunc:bCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ACe(t){const{inputs:e,backend:a,attrs:n}=t,{a:r,b:s}=e,{transposeA:i,transposeB:o}=n;return Aw({a:r,b:s,transposeA:i,transposeB:o,backend:a})}const NCe={kernelName:xb,backendName:"webgl",kernelFunc:ACe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SCe{constructor(e,a,n,r,s,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Xt(e,a),Xt(e,n);let o="0.0";r!=null&&(Xt(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let c="1.0";s!=null&&(Xt(e,s),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${o};
        float scale = ${c};
        float inv = scale * inversesqrt(variance + float(${i}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TCe{constructor(e,a,n,r,s,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Xt(e,a),Xt(e,n);let o="vec4(0.0)";r!=null&&(Xt(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let c="vec4(1.0)";s!=null&&(Xt(e,s),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${o};
        vec4 scale = ${c};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${i}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ECe=({inputs:t,backend:e,attrs:a})=>{const{x:n,mean:r,variance:s,offset:i,scale:o}=t;K(r.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),K(i==null||r.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),K(o==null||r.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:c}=a;c==null&&(c=.001);const l=[n,r,s];let u=null;i!=null&&(u=i.shape,l.push(i));let d=null;o!=null&&(d=o.shape,l.push(o));const p=Ce().getBool("WEBGL_PACK_NORMALIZATION")?new TCe(n.shape,r.shape,s.shape,u,d,c):new SCe(n.shape,r.shape,s.shape,u,d,c);return e.runWebGLProgram(p,l,l[0].dtype)},CCe={kernelName:Db,backendName:"webgl",kernelFunc:ECe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ICe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const a=Ya(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=RCe(this.rank);let r;const s=e.map((i,o)=>`sourceLoc.${EE[o]} = start[${o}] + coords.${EE[o]};`);r=`
        ${a} sourceLoc;
        ${a} coords = getOutputCoords();
        ${s.join(`
`)}
      `,this.userCode=`
      void main() {
        ${r}
        setOutput(getSource(${n}));
      }
    `}}const EE=["x","y","z","w","u","v"];function RCe(t){if(t===1)return"sourceLoc";if(t<=6)return EE.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DCe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const a=Ya(this.rank),n=us("coords",this.rank),r=us("sourceLoc",this.rank),s=this.rank===1?"sourceLoc":`vec2(${r.slice(-2).join()})`,i=`getChannel(getSource(${r.join()}), ${s})`,o=`
      result.x = ${i};
      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {
        ++${r[this.rank-1]};
        result.y = ${i};
        --${r[this.rank-1]};
      }
    `,c=this.rank===1?"":`
      --${n[this.rank-1]};
      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {
        ++${r[this.rank-2]};
        result.z = ${i};
        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {
          ++${r[this.rank-1]};
          result.w = ${i};
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            ${a}(${e.map((u,d)=>`start[${d}]`).join()});`:e.map((u,d)=>`${r[d]} = ${n[d]} + start[${d}];`).join(`
`);this.userCode=`
      void main() {
        ${a} coords = getOutputCoords();
        ${a} sourceLoc;
        ${l}
        vec4 result = vec4(0.);
        ${o}
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PCe(t,e,a,n){const r=n.texData.get(t.dataId),s=n.makeTensorInfo(a,t.dtype),i=n.texData.get(s.dataId);Object.assign(i,r),i.refCount=1,i.shape=a,i.dtype=t.dtype;let o=B3(e,Dt(t.shape));r.slice&&(o+=r.slice.flatOffset),i.slice={flatOffset:o,origDataId:r.slice&&r.slice.origDataId||t.dataId};const c=n.dataRefCount.get(i.slice.origDataId)||1;return n.dataRefCount.set(i.slice.origDataId,c+1),s}function Em(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{begin:s,size:i}=n,[o,c]=B_(r,s,i);if($3(r,o,c),Me(c)===0)return a.makeTensorInfo(c,r.dtype,[]);if(a.shouldExecuteOnCPU([r])||r.dtype==="string"){const d=a.texData.get(r.dataId),p=NTe(d.values,o,c,r.shape,r.dtype);return a.makeTensorInfo(c,r.dtype,p)}const{isPacked:l}=a.texData.get(r.dataId),u=M3(r.shape,o,c);if(l||!u){const d=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new DCe(c):new ICe(c),p=[o];return a.runWebGLProgram(d,[r],r.dtype,p)}return a.uploadToGPU(r.dataId),PCe(r,o,c,a)}const FCe={kernelName:o_,backendName:"webgl",kernelFunc:Em};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OCe=t=>{const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{blockShape:s,crops:i}=n;K(r.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const o=s.reduce((b,_)=>b*_),c=L1(r.shape,s,o),l=M1(c.length,s.length),u=B1(r.shape,s,o),d=V3(i,s.length),p=j3(u,i,s.length),m=[],g=ct({inputs:{x:r},backend:a,attrs:{shape:c}}),x=ys({inputs:{x:g},backend:a,attrs:{perm:l}}),v=ct({inputs:{x},backend:a,attrs:{shape:u}}),k=Em({inputs:{x:v},backend:a,attrs:{begin:d,size:p}});return m.push(g),m.push(x),m.push(v),m.forEach(b=>a.disposeIntermediateTensorInfo(b)),k},$Ce={kernelName:kb,backendName:"webgl",kernelFunc:OCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LCe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,weights:s}=e,{size:i}=n,o=a.readSync(r.dataId),c=a.readSync(s.dataId),l=RV(o,c,s.dtype,s.shape,i);return a.makeTensorInfo([i],s.dtype,l)}const MCe={kernelName:HC,backendName:"webgl",kernelFunc:LCe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BCe=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,zCe=`
  return float(int(a.r) & int(b.r));
`;function GCe(t){const{inputs:e,backend:a}=t,{a:n,b:r}=e,s=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"),i=Ce().getNumber("WEBGL_VERSION");if(a.shouldExecuteOnCPU([n,r])||i===1){const c=a.texData.get(n.dataId).values,l=a.texData.get(r.dataId).values,[u,d]=XSe(n.shape,r.shape,c,l,n.dtype),p=a.makeTensorInfo(d,n.dtype),m=a.texData.get(p.dataId);return m.values=u,p}let o;return s?o=new Sm(BCe,n.shape,r.shape,!1):o=new Ad(zCe,n.shape,r.shape),a.runWebGLProgram(o,[n,r],n.dtype)}const UCe={kernelName:wb,backendName:"webgl",kernelFunc:GCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WCe(t){const{inputs:e,backend:a}=t,{s0:n,s1:r}=e,s=a.readSync(n.dataId),i=a.readSync(r.dataId),o=Xt(Array.from(s),Array.from(i));return a.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const VCe={kernelName:KC,backendName:"webgl",kernelFunc:WCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jCe="return float(a != b);",jV=Gr({opSnippet:jCe,cpuKernelImpl:gTe,dtype:"bool"}),HCe={kernelName:Xb,backendName:"webgl",kernelFunc:jV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J1(t){const{inputs:e,backend:a}=t,{input:n}=e,r=a.texData.get(n.dataId);return Qs({inputs:{x:r.complexTensorInfos.real},backend:a})}const KCe={kernelName:SI,backendName:"webgl",kernelFunc:J1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qCe="return float(int(x));";function XCe(t,e){const a=new lc(t.shape,qCe),n=e.runWebGLProgram(a,[t],"int32");return{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CE(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{dtype:s}=n;if(s==="complex64"){if(r.dtype==="complex64")return Qs({inputs:{x:r},backend:a});const i=tr(r.shape),o=CE({inputs:{x:r},backend:a,attrs:{dtype:"float32"}}),c=Ju({inputs:{real:o,imag:i},backend:a});return i.dispose(),a.disposeIntermediateTensorInfo(o),c}if(r.dtype==="complex64"){const i=J1({inputs:{input:r},backend:a}),o=CE({inputs:{x:i},backend:a,attrs:{dtype:s}});return a.disposeIntermediateTensorInfo(i),o}if(!cz(r.dtype,s)){const i=Qs({inputs:{x:r},backend:a});return{dataId:i.dataId,shape:i.shape,dtype:s}}if(a.shouldExecuteOnCPU([r])){const i=a.texData.get(r.dataId).values,[o,c,l]=YSe(i,r.shape,r.dtype,s);return a.makeTensorInfo(o,c,l)}if(s==="int32")return XCe(r,a);if(s==="bool"){const i=a.makeTensorInfo([],"bool",$r("bool",1)),c=jV({inputs:{a:r,b:i},backend:a});return a.disposeIntermediateTensorInfo(i),c}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${s}`)}const YCe={kernelName:Gy,backendName:"webgl",kernelFunc:CE};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SM="return ceil(x);",ZCe=Da({opSnippet:SM,packedOpSnippet:SM,cpuKernelImpl:ZSe}),JCe={kernelName:Uy,backendName:"webgl",kernelFunc:ZCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QCe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eIe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{clipValueMin:s,clipValueMax:i}=n;let o;Ce().getBool("WEBGL_PACK_CLIP")?o=new eIe(r.shape):o=new QCe(r.shape);const c=[[s],[i]];return a.runWebGLProgram(o,[r],r.dtype,c)}const aIe={kernelName:Wy,backendName:"webgl",kernelFunc:tIe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nIe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TM(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function rIe(t){const{inputs:e,backend:a}=t,{x:n}=e,r=a.texData.get(n.dataId),s=new nIe(n.shape),i=[TM(n,r.complexTensorInfos.real),TM(n,r.complexTensorInfos.imag)];return a.runWebGLProgram(s,i,i[0].dtype)}const sIe={kernelName:bb,backendName:"webgl",kernelFunc:rIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iIe{constructor(e){this.outputShape=[],this.outputShape=mc(e,1),this.variableNames=e.map((i,o)=>`T${o}`);const a=new Array(e.length-1);a[0]=e[0][1];for(let i=1;i<a.length;i++)a[i]=a[i-1]+e[i][1];const n=[`if (yC < ${a[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<a.length;i++){const o=a[i-1];n.push(`else if (yC < ${a[i]}) setOutput(getT${i}(yR, yC-${o}));`)}const r=a.length,s=a[a.length-1];n.push(`else setOutput(getT${r}(yR, yC-${s}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${n.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oIe{constructor(e,a){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=mc(e,a);const n=this.outputShape,r=n.length,s=Ya(r),i=us("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((x,v)=>`T${v}`);const c=new Array(e.length-1);c[0]=e[0][a];for(let x=1;x<c.length;x++)c[x]=c[x-1]+e[x][a];const l=o[a],u=o.slice(-2),d=o.join();let p=`if (${l} < ${c[0]}) {
        return getChannel(
            getT0(${d}), vec2(${u.join()}));
        }`;for(let x=1;x<c.length;x++){const v=c[x-1];p+=`
        if (${l} < ${c[x]}  && ${l} >= ${c[x-1]}) {
          return getChannel(
            getT${x}(${tk(o,l,v)}),
            vec2(${tk(u,l,v)}));
        }`}const m=c.length,g=c[c.length-1];p+=`
        return getChannel(
          getT${m}(${tk(o,l,g)}),
          vec2(${tk(u,l,g)}));`,this.userCode=`
      float getValue(${o.map(x=>"int "+x)}) {
        ${p}
      }

      void main() {
        ${s} coords = getOutputCoords();
        vec4 result = vec4(getValue(${i}), 0., 0., 0.);

        ${i[r-1]} = ${i[r-1]} + 1;
        if (${i[r-1]} < ${n[r-1]}) {
          result.g = getValue(${i});
        }

        ${i[r-2]} = ${i[r-2]} + 1;
        if (${i[r-2]} < ${n[r-2]}) {
          result.a = getValue(${i});
        }

        ${i[r-1]} = ${i[r-1]} - 1;
        if (${i[r-2]} < ${n[r-2]} &&
            ${i[r-1]} < ${n[r-1]}) {
          result.b = getValue(${i});
        }
        setOutput(result);
      }
    `}}function tk(t,e,a){const n=t.indexOf(e);return t.map((s,i)=>i===n?`${s} - ${a}`:s).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s2(t){const{inputs:e,backend:a}=t,{input:n}=e,r=a.texData.get(n.dataId);return Qs({inputs:{x:r.complexTensorInfos.imag},backend:a})}const cIe={kernelName:dI,backendName:"webgl",kernelFunc:s2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y0(t,e,a){const n=t[0].dtype;if(n==="complex64"){const m=t.map(b=>J1({inputs:{input:b},backend:a})),g=t.map(b=>s2({inputs:{input:b},backend:a})),x=Y0(m,e,a),v=Y0(g,e,a),k=Ju({inputs:{real:x,imag:v},backend:a});return m.forEach(b=>a.disposeIntermediateTensorInfo(b)),g.forEach(b=>a.disposeIntermediateTensorInfo(b)),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(v),k}let r=a.shouldExecuteOnCPU(t);if(n==="string"&&(r=!0),r){const m=t.map(A=>{const C=[-1,Me(A.shape.slice(e))];return ct({inputs:{x:A},backend:a,attrs:{shape:C}})}),g=m.map(A=>({vals:a.readSync(A.dataId),shape:A.shape})),x=mc(m.map(A=>A.shape),1),v=m[0].shape[0]===1,k=JSe(g,x,n,v),b=mc(t.map(A=>A.shape),e),_=a.makeTensorInfo(b,n,k);return m.forEach(A=>a.disposeIntermediateTensorInfo(A)),_}const s=t.filter(m=>Me(m.shape)>0),i=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&s[0].shape.length>1;if(s.length===1){const m=i?new lc(t[0].shape,iu):new uu(t[0].shape,iu);return a.runWebGLProgram(m,t,n)}const o=Ce().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(s.length>o){const m=[];for(let x=0;x<s.length;x+=o){const v=s.slice(x,x+o);m.push(Y0(v,e,a))}const g=Y0(m,e,a);for(const x of m)a.disposeIntermediateTensorInfo(x);return g}if(i){const m=new oIe(s.map(g=>g.shape),e);return a.runWebGLProgram(m,s,n)}const{tensors2D:c,outShape:l}=lIe(s,e,a),u=new iIe(c.map(m=>m.shape)),d=a.runWebGLProgram(u,c,n);c.forEach(m=>a.disposeIntermediateTensorInfo(m));const p=ct({inputs:{x:d},attrs:{shape:l},backend:a});return a.disposeIntermediateTensorInfo(d),p}function lIe(t,e,a){const n=mc(t.map(s=>s.shape),e);return{tensors2D:t.map(s=>ct({inputs:{x:s},attrs:{shape:[-1,Me(s.shape.slice(e))]},backend:a})),outShape:n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HV(t){const{inputs:e,backend:a,attrs:n}=t,{axis:r}=n,s=pa(r,e[0].shape)[0],i=e.map(l=>l.shape);G3(i,s);const o=mc(e.map(l=>l.shape),s);if(Me(o)===0)return a.makeTensorInfo(o,e[0].dtype,[]);const c=e.filter(l=>Me(l.shape)>0);return c.length===1?Qs({inputs:{x:c[0]},backend:a}):Y0(c,s,a)}const uIe={kernelName:_b,backendName:"webgl",kernelFunc:HV};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KV{constructor(e,a=!1,n=null,r=!1,s=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,o=e.padInfo.left,c=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,p=e.filterHeight,m=e.filterWidth,g=Math.floor(e.inChannels/4)*4,x=e.inChannels%4,v=e.dataFormat==="channelsLast",k=v?1:2,b=v?2:3,_=v?3:1;let A="",S="";n&&(r?A=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${n}
        }`:s?A=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${n}
        }`:A=`
          float activation(float x) {
            ${n}
          }
        `,S="result = activation(result);");const C=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${A}

      const ivec2 strides = ivec2(${c}, ${l});
      const ivec2 pads = ivec2(${i}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${_}];

        ivec2 xRCCorner =
            ivec2(coords[${k}], coords[${b}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${p}; wR++) {
          int xR = xRCorner + wR * ${u};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${m}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${g}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${v}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${x===1}) {

              if (${v}) {
                dotProd +=
                    getX(batch, xR, xC, ${g}) *
                    getW(wR, wC, ${g}, d2);
              } else {
                dotProd +=
                    getX(batch, ${g}, xR, xC) *
                    getW(wR, wC, ${g}, d2);
              }

            } else if (${x===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${g}, d2),
                getW(wR, wC, ${g} + 1, d2)
              );

              if (${v}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${g}),
                  getX(batch, xR, xC, ${g} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${g}, xR, xC),
                  getX(batch, ${g} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${x===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${g}, d2),
                getW(wR, wC, ${g} + 1, d2),
                getW(wR, wC, ${g} + 2, d2)
              );

              if (${v}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${g}),
                  getX(batch, xR, xC, ${g} + 1),
                  getX(batch, xR, xC, ${g} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${g}, xR, xC),
                  getX(batch, ${g} + 1, xR, xC),
                  getX(batch, ${g} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${C}
        ${S}
        setOutput(result);
      }
    `}}class fIe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,s=e.strideDepth,i=e.strideHeight,o=e.strideWidth,c=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,p=e.filterHeight,m=e.filterWidth,g=Math.floor(e.inChannels/4)*4,x=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${s}, ${i}, ${o});
      const ivec3 pads = ivec3(${a}, ${n}, ${r});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${c};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p}; wR++) {
            int xR = xRCorner + wR * ${l};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${m}; wC++) {
              int xC = xCCorner + wC * ${u};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${g}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${x===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${g}) *
                  getW(wF, wR, wC, ${g}, d2);
              } else if (${x===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${g}),
                  getX(batch, xF, xR, xC, ${g} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${g}, d2),
                  getW(wF, wR, wC, ${g} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${x===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${g}),
                  getX(batch, xF, xR, xC, ${g} + 1),
                  getX(batch, xF, xR, xC, ${g} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${g}, d2),
                  getW(wF, wR, wC, ${g} + 1, d2),
                  getW(wF, wR, wC, ${g} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qV{constructor(e,a=!1,n=null,r=!1,s=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Xr(this.outputShape.length);const i=e.padInfo.left,o=e.strideWidth,c=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,d=u;let p=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let v=0;v<u;v++)p+=`
           vec4 xTexelC${v*2};
           int xTexelC${v*2}Ready;
           vec4 xTexelC${v*2+1};
           int xTexelC${v*2+1}Ready;
           vec4 xC${v};`;p+=`
     for (int r = 0; r < ${l}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let v=0;v<u;v++)p+=`
           xTexelC${v*2} = vec4(0.0);
           xTexelC${v*2}Ready = 0;
           xTexelC${v*2+1} = vec4(0.0);
           xTexelC${v*2+1}Ready = 0;
           xC${v} = vec4(0.0);`;p+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let v=0;v<(d+1)/2;v++){const k=v*2;if(p+=`
           xC = xCCorner + ${k*c};
           `,o===1){if(k<u&&(i%2===1?(p+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k}Ready == 0) {
                   xTexelC${k} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${k}.zw = vec2(0.0);
                   }
                   xTexelC${k}Ready = 1;
                 }
               `,c===1&&k>0?p+=`
                 xC${k} = vec4(xTexelC${k-2}.zw, xTexelC${k}.xy);
                 `:p+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${k} = vec4(previous.zw, xTexelC${k}.xy);
                   } else {
                     xC${k} = vec4(0.0, 0.0, xTexelC${k}.xy);
                   }
                   `):p+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${k}Ready == 0) {
                   xTexelC${k} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${k}.zw = vec2(0.0);
                   }
                   xTexelC${k}Ready = 1;
                 }

                 xC${k} = xTexelC${k};
                 `,k+1<u)){const b=i%2===0?BC(c):c;c%2===0&&i%2===1||c%2!==0&&i%2!==1?(p+=`
                   xCOffset = xC + imod(pads[1], 2) + ${b};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k+1}Ready == 0) {
                     xTexelC${k+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${k+1}.zw = vec2(0.0);
                     }
                     xTexelC${k+1}Ready = 1;
                   }
                   `,c>1?p+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${k+1} = vec4(previous.zw, xTexelC${k+1}.xy);
                     } else {
                      xC${k+1} = vec4(0.0, 0.0, xTexelC${k+1}.xy);
                     }
                     `:p+=`
                     xC${k+1} = vec4(xTexelC${k}.zw, xTexelC${k+1}.xy);
                     `):b===1?p+=`
                     xC${k+1} = xTexelC${k};
                     `:p+=`
                     xCOffset = xC + ${b};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k+1}Ready == 0) {
                       xTexelC${k+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${k+1}.zw = vec2(0.0);
                       }
                       xTexelC${k+1}Ready = 1;
                     }

                     xC${k+1} = xTexelC${k+1};
                     `}}else k<u&&(i%2===1?(p+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k}Ready == 0) {
                   xTexelC${k} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${k}.zw = vec2(0.0);
                   }
                   xTexelC${k}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${k+1}Ready == 0) {
                   xTexelC${k+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${k+1}.zw = vec2(0.0);
                   }
                   xTexelC${k+1}Ready = 1;
                 }

                 xC${k} = vec4(xTexelC${k}.zw, xTexelC${k+1}.zw);
               `,k+1<u&&(p+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${k+1} = vec4(xTexelC${k+1}.xy, final.xy);
                 `)):(p+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${k}Ready == 0) {
                   xTexelC${k} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${k}.zw = vec2(0.0);
                   }
                   xTexelC${k}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k+1}Ready == 0) {
                   xTexelC${k+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${k+1}.zw = vec2(0.);
                   }
                   xTexelC${k+1}Ready = 1;
                 }

                 xC${k} = vec4(
                   xTexelC${k}.xy, xTexelC${k+1}.xy);
               `,k+1<u&&(p+=`
                   xC${k+1} = vec4(xTexelC${k}.zw, xTexelC${k+1}.zw);
                 `)));k<u&&(p+=`
             wTexel = getW(r, ${k}, d1, d2);
             dotProd += xC${k}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${k}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,k+1<u&&(p+=`
               wTexel = getW(r, ${k+1}, d1, d2);
               dotProd += xC${k+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${k+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}p+=`
     }
   `,p+=`
     }
   `,p+=`
     }
   `;let m="",g="";n&&(r?m=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${n}
         }`:s?m=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${n}
         }`:m=`vec4 activation(vec4 x) {
           ${n}
         }`,g="result = activation(result);");const x=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${m}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${p}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${x}
         ${g}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dIe{constructor(e,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Xr(this.outputShape.length);const{dataFormat:n}=a,r=ks(),s=n==="channelsLast",i=s?1:2,o=s?2:3,c=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let u=0;u<=1;u++)for(let d=0;d<=1;d++)l+=`
          blockIndex = rc.z + ${d};
          pos = rc.y + ${u};

          ${c}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${i}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${o}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${s}) {
                  innerDims = vec2(d1, ch);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${l}

        ${r.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nw(t,e){const a=t.length;return a>=3?e?[...t.slice(0,-3),t[a-3]*t[a-2],t[a-1]]:[...t.slice(0,-3),t[a-3],t[a-2]*t[a-1]]:!e&&a===1&&t[0]>1?[t[0],1]:null}function XV({x:t,filter:e,convInfo:a,backend:n,bias:r=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:o=null}){const c=t.shape,l=n.texData.get(t.dataId),u=a.inChannels,d=c[0]*c[1]*c[2],p=a.outChannels,m=a.dataFormat==="channelsLast",g=!1,x=!1;let v;const k=[];if(s!=null){const A=Nw(s.shape,m);A!=null&&(s=ct({inputs:{x:s},backend:n,attrs:{shape:A}}),k.push(s))}if(r!=null){const A=Nw(r.shape,m);A!=null&&(r=ct({inputs:{x:r},backend:n,attrs:{shape:A}}),k.push(r))}if(!((d===1||p===1)&&u>GV)&&l.isPacked&&m&&l.texture!=null&&c[2]%2!==0&&_a(l.shape.slice(-3),c.slice(-3))){const A=c[0]*c[1]*(c[2]+1),S={dataId:t.dataId,shape:[1,A,a.inChannels],dtype:t.dtype},C=l.shape;l.shape=l.shape.slice(),l.shape[l.shape.length-2]++,K(_w(l.shape,S.shape),()=>`packed reshape ${l.shape} to ${S.shape} isn't free`);const E=ct({inputs:{x:e},backend:n,attrs:{shape:[1,a.inChannels,a.outChannels]}});k.push(E);const R=Aw({a:S,b:E,backend:n,transposeA:g,transposeB:x,bias:r,activation:o,preluActivationWeights:s,leakyreluAlpha:i}),I=n.texData.get(R.dataId);K(I.isPacked,()=>"batchMatMul result is expected to be packed"),l.shape=C,I.shape=a.outShape,v=Qs({inputs:{x:R},backend:n}),v.shape=a.outShape,k.push(R)}else{const A=a.outHeight*a.outWidth,S=ct({inputs:{x:t},backend:n,attrs:{shape:m?[a.batchSize,A,a.inChannels]:[a.batchSize,a.inChannels,A]}}),C=ct({inputs:{x:e},backend:n,attrs:{shape:[1,a.inChannels,a.outChannels]}}),E=Aw({a:m?S:C,b:m?C:S,transposeA:!m,transposeB:x,backend:n,bias:r,activation:o,preluActivationWeights:s,leakyreluAlpha:i});v=ct({inputs:{x:E},backend:n,attrs:{shape:a.outShape}}),k.push(S),k.push(C),k.push(E)}for(const A of k)n.disposeIntermediateTensorInfo(A);return v}function YV({x:t,filter:e,convInfo:a,backend:n,bias:r=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:o=null}){const{filterWidth:c,filterHeight:l,inChannels:u,outWidth:d,outHeight:p,dataFormat:m}=a,g=m==="channelsLast",x=c*l*u,v=p*d,k=[a.batchSize,x,v],b=!0,_=!1,A=[];if(s!=null){const q=Nw(s.shape,g);q!=null&&(s=ct({inputs:{x:s},backend:n,attrs:{shape:q}}),A.push(s))}if(r!=null){const q=Nw(r.shape,g);q!=null&&(r=ct({inputs:{x:r},backend:n,attrs:{shape:q}}),A.push(r))}const S=ct({inputs:{x:e},backend:n,attrs:{shape:[1,x,Me(e.shape)/x]}});A.push(S);const C=new dIe(k,a),E=[t.shape,[a.padInfo.top,a.padInfo.left],[a.strideHeight,a.strideWidth],[a.dilationHeight,a.dilationWidth],[a.inChannels],[a.filterWidth*a.inChannels],[a.outWidth]],R=n.runWebGLProgram(C,[t],"float32",E),I=ct({inputs:{x:R},backend:n,attrs:{shape:k}});A.push(R),A.push(I);const P=r!=null,D=s!=null,B=o==="leakyrelu",U=o?Zg(o,!0):null,V=new zV(g?I.shape:S.shape,g?S.shape:I.shape,g?[a.batchSize,v,a.outChannels]:[a.batchSize,a.outChannels,v],b,_,P,U,D,B),j=g?[I,S]:[S,I];if(r&&j.push(r),D&&j.push(s),B){const q=n.makeTensorInfo([],"float32",Uu(i,"float32"));j.push(q),A.push(q)}const W=n.runWebGLProgram(V,j,"float32"),Q=ct({inputs:{x:W},backend:n,attrs:{shape:a.outShape}});A.push(W);for(const q of A)n.disposeIntermediateTensorInfo(q);return Q}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s}=e,{strides:i,pad:o,dataFormat:c,dilations:l,dimRoundingMode:u}=n,d=Sl(c),p=br(r.shape,s.shape,i,l,o,u,!1,d);let m;if(p.filterHeight===1&&p.filterWidth===1&&p.dilationHeight===1&&p.dilationWidth===1&&p.strideHeight===1&&p.strideWidth===1&&(p.padInfo.type==="SAME"||p.padInfo.type==="VALID"))m=XV({x:r,filter:s,convInfo:p,backend:a});else if(p.strideWidth<=2&&d==="channelsLast"&&Ce().getBool("WEBGL_EXP_CONV")){const x=new qV(p),v=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];m=a.runWebGLProgram(x,[r,s],"float32",v)}else if(Ce().getBool("WEBGL_CONV_IM2COL"))m=YV({x:r,filter:s,convInfo:p,backend:a});else{const x=new KV(p);m=a.runWebGLProgram(x,[r,s],"float32")}const g=ct({inputs:{x:m},backend:a,attrs:{shape:p.outShape}});return a.disposeIntermediateTensorInfo(m),g}const pIe={kernelName:Ab,backendName:"webgl",kernelFunc:hIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mIe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const a=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,s=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${a} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${n} - ${s};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${i?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class gIe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const a=e.filterHeight,n=e.filterWidth,r=e.strideHeight,s=e.strideWidth,i=e.dataFormat==="channelsLast",o=a-1-e.padInfo.top,c=n-1-e.padInfo.left,l=i?1:2,u=i?2:3,d=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${c});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${d}];

        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${a}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${a} - 1 - wR;

          for (int wC = 0; wC < ${n}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${n} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${i}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class yIe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const a=e.strideDepth,n=e.strideHeight,r=e.strideWidth,s=e.padInfo.front,i=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${a} - ${s};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${n} - ${i};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${r} - ${o};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class vIe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const a=e.filterDepth,n=e.filterHeight,r=e.filterWidth,s=e.strideDepth,i=e.strideHeight,o=e.strideWidth,c=a-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${c}, ${l}, ${u});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${a}; wF++) {
          float dyF = float(dyFCorner + wF) / ${s}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${a} - 1 - wF;

          for (int wR = 0; wR < ${n}; wR++) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${n} - 1 - wR;

            for (int wC = 0; wC < ${r}; wC++) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${r} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,dy:s}=e,{strides:i,pad:o,dataFormat:c,dimRoundingMode:l,filterShape:u}=n,d=Sl(c),p=br(r.shape,u,i,1,o,l,!1,d),m=new mIe(p);return a.runWebGLProgram(m,[r,s],"float32")}const kIe={kernelName:XC,backendName:"webgl",kernelFunc:xIe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wIe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Xr(this.outputShape.length);const a=e.filterHeight,n=e.filterWidth,r=a-1-e.padInfo.top,s=n-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${r}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${a}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${a} - 1 - wR;

          for (int wC = 0; wC < ${n}; wC++) {
            int wCPerm = ${n} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bIe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,filter:s}=e,{inputShape:i,strides:o,pad:c,dataFormat:l,dimRoundingMode:u}=n,d=Sl(l),p=br(i,s.shape,o,1,c,u,!1,d);if(Ce().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&d==="channelsLast"){const m=[[p.strideHeight,p.strideWidth]],g=new wIe(p);return a.runWebGLProgram(g,[r,s],"float32",m)}else{const m=new gIe(p);return a.runWebGLProgram(m,[r,s],"float32")}}const _Ie={kernelName:Nb,backendName:"webgl",kernelFunc:bIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c}=n,l=ju(r.shape,s.shape,i,c,o),u=new fIe(l);return a.runWebGLProgram(u,[r,s],"float32")}const NIe={kernelName:Sb,backendName:"webgl",kernelFunc:AIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,dy:s}=e,{strides:i,pad:o,filterShape:c}=n,l=ju(r.shape,c,i,1,o),u=new yIe(l);return a.runWebGLProgram(u,[r,s],"float32")}const TIe={kernelName:YC,backendName:"webgl",kernelFunc:SIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EIe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,filter:s}=e,{pad:i,strides:o,inputShape:c}=n,l=ju(c,s.shape,o,1,i),u=new vIe(l);return a.runWebGLProgram(u,[r,s],"float32")}const CIe={kernelName:ZC,backendName:"webgl",kernelFunc:EIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IIe=Tm+`
  return cos(x);
`,RIe=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${Yd}
  return result;
`,DIe=Da({opSnippet:IIe,packedOpSnippet:RIe}),PIe={kernelName:Vy,backendName:"webgl",kernelFunc:DIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FIe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,OIe=Da({opSnippet:FIe}),$Ie={kernelName:jy,backendName:"webgl",kernelFunc:OIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LIe{constructor(e,a,n,r,s){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,o,c,l]=e,[u]=a,[d,p]=n;this.outputShape=[u,d,p,l];const m=r==="bilinear"?1:0,[g,x]=[`${o-1}.0`,`${c-1}.0`],[v,k,b]=d>1?[`${(o-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${g} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${g}`],[_,A,S]=p>1?[`${(c-1)/(p-1)}`,"(x2-x1) * width_ratio",`x1*${x} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${x}`];this.userCode=`
      const float height_ratio = float(${v});
      const float width_ratio = float(${_});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${i}) {
          return;
        }

        float height_scale = ${k};
        float width_scale = ${A};

        float in_y = ${b};
        if( in_y < 0.0 || in_y > ${g} ) {
          setOutput(float(${s}));
          return;
        }
        float in_x = ${S};
        if( in_x < 0.0 || in_x > ${x} ) {
          setOutput(float(${s}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${m} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MIe=t=>{const{inputs:e,backend:a,attrs:n}=t,{image:r,boxes:s,boxInd:i}=e,{cropSize:o,method:c,extrapolationValue:l}=n,u=new LIe(r.shape,s.shape,o,c,l);return a.runWebGLProgram(u,[r,s,i],"float32")},BIe={kernelName:QC,backendName:"webgl",kernelFunc:MIe};var Qg;(function(t){t.Prod="*",t.Sum="+"})(Qg||(Qg={}));class EM{constructor(e,a,n,r){this.op=e,this.outputShape=a,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const s=this.outputShape.length,i=this.op===Qg.Prod?"1.0":"0.0",o=n?i:`getX(${CM(s,"coords",this.op)})`,c=this.outputShape[this.outputShape.length-1];let l="",u="";n?(l=r?`end != ${c-1}`:"end != 0",u=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${c}`:"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Ya(s)} coords = getOutputCoords();
        int end = ${IM(s,"coords",this.op)};
        float val = ${o};
        int pow2 = int(pow(2.0, index));
        if (${l}) {
          int idx = ${u};
          ${IM(s,"coords",this.op)} = idx;
          val ${this.op}= getX(${CM(s,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function CM(t,e,a){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${a} for rank ${t} is not yet supported`)}function IM(t,e,a){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${a} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZV(t,e,a,n,r,s){const i=e.shape.length,o=kn([n],i);let c=e;o!=null&&(c=ys({inputs:{x:e},backend:a,attrs:{perm:o}}));const l=Bn(1,i)[0];if(l!==i-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${n}`);const u=c.shape[l];let d=Qs({inputs:{x:c},backend:a});for(let p=0;p<=Math.ceil(Math.log2(u))-1;p++){const m=new EM(t,c.shape,!1,s),g=[[p]],x=d;d=a.runWebGLProgram(m,[d],d.dtype,g),a.disposeIntermediateTensorInfo(x)}if(r){const p=new EM(t,c.shape,r,s),m=d;d=a.runWebGLProgram(p,[d],d.dtype),a.disposeIntermediateTensorInfo(m)}if(o!=null){const p=Hu(o),m=ys({inputs:{x:d},backend:a,attrs:{perm:p}});return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(c),m}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,exclusive:i,reverse:o}=n;return ZV(Qg.Prod,r,a,s,i,o)}const GIe={kernelName:JC,backendName:"webgl",kernelFunc:zIe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,exclusive:i,reverse:o}=n;return ZV(Qg.Sum,r,a,s,i,o)}const WIe={kernelName:Tb,backendName:"webgl",kernelFunc:UIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,weights:s}=e,{size:i,binaryOutput:o}=n;if(r.shape.length===1){const c=a.readSync(r.dataId),l=a.readSync(s.dataId),u=RV(c,l,s.dtype,s.shape,i);return a.makeTensorInfo([i],s.dtype,u)}else if(r.shape.length===2){const c=a.bufferSync(r),l=a.bufferSync(s),u=qSe(c,l,i,o);return a.makeTensorInfo(u.shape,s.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const jIe={kernelName:eI,backendName:"webgl",kernelFunc:VIe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HIe{constructor(e,a,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=a,this.dataFormat=n,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${a};
      int offset_h = imod(h, ${a});
      int in_w = w / ${a};
      int offset_w = imod(w, ${a});
      int offset_d = (offset_h * ${a} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{blockSize:s,dataFormat:i}=n,o=r.shape[0],c=i==="NHWC"?r.shape[1]:r.shape[2],l=i==="NHWC"?r.shape[2]:r.shape[3],u=i==="NHWC"?r.shape[3]:r.shape[1],d=c*s,p=l*s,m=u/(s*s),g=i==="NHWC"?[o,d,p,m]:[o,m,d,p],x=new HIe(g,s,i);return a.runWebGLProgram(x,[r],r.dtype)}const qIe={kernelName:tI,backendName:"webgl",kernelFunc:KIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JV{constructor(e,a=!1,n=null,r=!1,s=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Xr(this.outputShape.length);const i=e.filterHeight,o=e.filterWidth,c=e.outChannels/e.inChannels;let l="",u="";n&&(r?l=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${n}
        }`:s?l=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${n}
        }`:l=`
          float activation(float x) {
            ${n}
          }
        `,u="result = activation(result);");const d=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${l}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${c};
        int q = d2 - d1 * ${c};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${i}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${o}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${d}
        ${u}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QV{constructor(e,a=!1,n=null,r=!1,s=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Xr(this.outputShape.length);const i=e.outChannels/e.inChannels,o=e.padInfo.left,c=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,p=d;let m=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let k=0;k<d;k++)m+=`
          vec4 xTexelC${k*2};
          int xTexelC${k*2}Ready;
          vec4 xTexelC${k*2+1};
          int xTexelC${k*2+1}Ready;
          vec4 xC${k};`;m+=`
    for (int r = 0; r < ${u}; r++) {
      `;for(let k=0;k<d;k++)m+=`
          xTexelC${k*2} = vec4(0.0);
          xTexelC${k*2}Ready = 0;
          xTexelC${k*2+1} = vec4(0.0);
          xTexelC${k*2+1}Ready = 0;
          xC${k} = vec4(0.0);`;m+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let k=0;k<(p+1)/2;k++){const b=k*2;if(m+=`
          xC = xCCorner + ${b*l};
          `,c===1){if(b<d&&(o%2===1?(m+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }
              `,l===1&&b>0?m+=`
                xC${b} = vec4(xTexelC${b-2}.zw, xTexelC${b}.xy);
                `:m+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${b} = vec4(previous.zw, xTexelC${b}.xy);
                  } else {
                    xC${b} = vec4(0.0, 0.0, xTexelC${b}.xy);
                  }
                  `):m+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xC${b} = xTexelC${b};
                `,b+1<d)){const _=o%2===0?BC(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(m+=`
                  xCOffset = xC + imod(pads[1], 2) + ${_};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                    xTexelC${b+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${b+1}.zw = vec2(0.0);
                    }
                    xTexelC${b+1}Ready = 1;
                  }
                  `,l>1?m+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${b+1} = vec4(previous.zw, xTexelC${b+1}.xy);
                    } else {
                     xC${b+1} = vec4(0.0, 0.0, xTexelC${b+1}.xy);
                    }
                    `:m+=`
                    xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.xy);
                    `):_===1?m+=`
                    xC${b+1} = xTexelC${b};
                    `:m+=`
                    xCOffset = xC + ${_};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                      xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${b+1}.zw = vec2(0.0);
                      }
                      xTexelC${b+1}Ready = 1;
                    }

                    xC${b+1} = xTexelC${b+1};
                    `}}else b<d&&(o%2===1?(m+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.0);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
              `,b+1<d&&(m+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${b+1} = vec4(xTexelC${b+1}.xy, final.xy);
                `)):(m+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(
                  xTexelC${b}.xy, xTexelC${b+1}.xy);
              `,b+1<d&&(m+=`
                  xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
                `)));b<d&&(m+=`
            wTexel = getW(r, ${b}, d1, q);
            dotProd += xC${b} * vec4(wTexel.xz, wTexel.xz);
          `,b+1<d&&(m+=`
              wTexel = getW(r, ${b+1}, d1, q);
              dotProd += xC${b+1} * vec4(wTexel.xz, wTexel.xz);
            `))}m+=`
    }
  `,m+=`
      }
    `;let g="",x="";n&&(r?g=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${n}
        }`:s?g=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${n}
        }`:g=`vec4 activation(vec4 x) {
          ${n}
        }`,x="result = activation(result);");const v=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${g}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${i};
        int q = d2 - d1 * ${i};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${m}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${v}
        ${x}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c,dimRoundingMode:l}=n;let u=c;u==null&&(u=[1,1]),K(Mr(i,u),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const d=br(r.shape,s.shape,i,u,o,l,!0);let p;Ce().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?p=new QV(d):p=new JV(d);const m=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return a.runWebGLProgram(p,[r,s],"float32",m)}const YIe={kernelName:Eb,backendName:"webgl",kernelFunc:XIe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZIe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const a=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,s=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${i} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${a} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${n} - ${s};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class JIe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const a=e.filterHeight,n=e.filterWidth,r=e.strideHeight,s=e.strideWidth,i=a-1-e.padInfo.top,o=n-1-e.padInfo.left,c=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${a}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${a} - 1 - wR;

          for (int wC = 0; wC < ${n}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${n} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${c}; dm++) {
              int d2 = d1 * ${c} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QIe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,dy:s}=e,{strides:i,dilations:o,pad:c,dimRoundingMode:l,filterShape:u}=n,d=br(r.shape,u,i,o,c,l,!0),p=new ZIe(d);return a.runWebGLProgram(p,[r,s],"float32")}const e3e={kernelName:aI,backendName:"webgl",kernelFunc:QIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t3e(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,filter:s}=e,{strides:i,dilations:o,pad:c,dimRoundingMode:l,inputShape:u}=n,d=br(u,s.shape,i,o,c,l,!0),p=new JIe(d);return a.runWebGLProgram(p,[r,s],"float32")}const a3e={kernelName:nI,backendName:"webgl",kernelFunc:t3e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class n3e{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r3e(t){const{inputs:e,backend:a}=t,{x:n}=e,r=[...n.shape,...n.shape],s=Me(n.shape),i=ct({inputs:{x:n},backend:a,attrs:{shape:[s]}}),o=new n3e(s),c=a.runWebGLProgram(o,[i],i.dtype),l=ct({inputs:{x:c},backend:a,attrs:{shape:r}});return a.disposeIntermediateTensorInfo(i),a.disposeIntermediateTensorInfo(c),l}const s3e={kernelName:rI,backendName:"webgl",kernelFunc:r3e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i3e{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:a,inWidth:n,padInfo:r,strideHeight:s,strideWidth:i,filterHeight:o,filterWidth:c,dilationHeight:l,dilationWidth:u}=e,{top:d,left:p}=r;this.userCode=`
      const ivec2 strides = ivec2(${s}, ${i});
      const ivec2 pads = ivec2(${d}, ${p});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${o}; h++) {
          int hIn = hBeg + h * ${l};

          if (hIn >= 0 && hIn < ${a}) {
            for (int w = 0; w < ${c}; w++) {
              int wIn = wBeg + w * ${u};

              if (wIn >= 0 && wIn < ${n}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o3e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c}=n,l=I1(r.shape,s.shape,i,o,"NHWC",c);let u;const d=new i3e(l);u=a.runWebGLProgram(d,[r,s],"float32");const p=ct({inputs:{x:u},backend:a,attrs:{shape:l.outShape}});return a.disposeIntermediateTensorInfo(u),p}const c3e={kernelName:Cb,backendName:"webgl",kernelFunc:o3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l3e(t){const{inputs:e,backend:a,attrs:n}=t,{equation:r}=n,s=e,{allDims:i,summedDims:o,idDims:c}=Q3(r,s.length);tR(i.length,c,s);const{path:l,steps:u}=aR(o,c),d=u.length;let p=null,m=i.length;const g=[];for(let x=0;x<d;++x){for(const v of u[x]){const{permutationIndices:k,expandDims:b}=eR(m,c[v]);let _;nR(k)?_=s[v]:(_=ys({inputs:{x:s[v]},backend:a,attrs:{perm:k}}),g.push(_));const A=_.shape.slice();for(let S=0;S<b.length;++S)A.splice(b[S],0,1);_a(_.shape,A)||(_=ct({inputs:{x:_},backend:a,attrs:{shape:A}}),g.push(_)),p===null?p=_:(p=VR({inputs:{a:_,b:p},backend:a}),g.push(p))}x<d-1&&(l[x]>=0&&(p=r2({inputs:{x:p},backend:a,attrs:{axis:l[x]-(i.length-m),keepDims:!1}}),g.push(p)),m--)}for(const x of g)x!==p&&a.disposeIntermediateTensorInfo(x);return p}const u3e={kernelName:sI,backendName:"webgl",kernelFunc:l3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f3e="return (x >= 0.0) ? x : (exp(x) - 1.0);",d3e=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,h3e=Da({opSnippet:f3e,packedOpSnippet:d3e}),p3e={kernelName:Ky,backendName:"webgl",kernelFunc:h3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m3e="return (b >= 0.0) ? a : a * (b + 1.0);",g3e=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,y3e=t=>{const{inputs:e,backend:a}=t,{dy:n,y:r}=e,s=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Sm(g3e,n.shape,r.shape):new Ad(m3e,n.shape,r.shape);return a.runWebGLProgram(s,[n,r],n.dtype)},v3e={kernelName:iI,backendName:"webgl",kernelFunc:y3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x3e=`
  return vec4(equal(a, b));
`,k3e="return float(a == b);",w3e=Gr({opSnippet:k3e,packedOpSnippet:x3e,dtype:"bool",cpuKernelImpl:QSe}),b3e={kernelName:Ib,backendName:"webgl",kernelFunc:w3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _3e=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${H3};
  float a1 = ${K3};
  float a2 = ${q3};
  float a3 = ${X3};
  float a4 = ${Y3};
  float a5 = ${Z3};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,A3e=Da({opSnippet:_3e}),N3e={kernelName:qy,backendName:"webgl",kernelFunc:A3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S3e=Tm+`
  return exp(x);
`,T3e=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,ej=Da({opSnippet:S3e,packedOpSnippet:T3e,cpuKernelImpl:eTe,dtype:"float32"}),E3e={kernelName:Xy,backendName:"webgl",kernelFunc:ej};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IE(t){const{inputs:e,attrs:a,backend:n}=t,{dim:r}=a,{input:s}=e,i=s.shape.length,o=s.shape.slice();let c=r;return r<0&&(K(-(i+1)<=r,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),c=i+r+1),o.splice(c,0,1),ct({inputs:{x:s},backend:n,attrs:{shape:o}})}const C3e={kernelName:Rb,backendName:"webgl",kernelFunc:IE};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RM="return exp(x) - 1.0;",I3e=Da({opSnippet:RM,packedOpSnippet:RM,cpuKernelImpl:tTe}),R3e={kernelName:Yy,backendName:"webgl",kernelFunc:I3e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DM{constructor(e,a,n){this.variableNames=["real","imag"];const r=a[1];this.outputShape=a;const s=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=n?`${r}.0`:"1.0";let o;if(e==="real")o="return real * expR - imag * expI;";else if(e==="imag")o="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${s};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${o}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${r});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${r}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${i};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tj(t,e,a){const n=a.texData.get(t.dataId),r=Me(t.shape),s=t.shape[t.shape.length-1],i=r/s,o=ct({inputs:{x:t},backend:a,attrs:{shape:[i,s]}}),c=o.shape,l=new DM("real",c,e),u=new DM("imag",c,e),d=[{dataId:n.complexTensorInfos.real.dataId,dtype:n.complexTensorInfos.real.dtype,shape:c},{dataId:n.complexTensorInfos.imag.dataId,dtype:n.complexTensorInfos.imag.dtype,shape:c}],p=a.runWebGLProgram(l,d,"float32"),m=a.runWebGLProgram(u,d,"float32"),g=Ju({inputs:{real:p,imag:m},backend:a});a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(m);const x=ct({inputs:{x:g},backend:a,attrs:{shape:t.shape}});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(g),x}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D3e(t){const{inputs:e,backend:a}=t,{input:n}=e;return tj(n,!1,a)}const P3e={kernelName:oI,backendName:"webgl",kernelFunc:D3e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class F3e{constructor(e,a){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q1(t){const{backend:e,attrs:a}=t,{shape:n,value:r}=a;let{dtype:s}=a;if(s=s||dm(r),s==="string"){const i=Ln(s,Me(n));return i.fill(r),e.makeTensorInfo(n,s,i)}else{const i=new F3e(n,r),o=[[r]];return e.runWebGLProgram(i,[],s,o)}}const O3e={kernelName:cI,backendName:"webgl",kernelFunc:Q1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $3e{constructor(e){this.variableNames=["Image"],this.outputShape=[];const a=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${a} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${a}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L3e={kernelName:lI,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:a}=t,n=e,r=new $3e(a.shape);return n.runWebGLProgram(r,[a],a.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PM="return floor(x);",M3e=Da({opSnippet:PM,packedOpSnippet:PM,cpuKernelImpl:aTe}),B3e={kernelName:Zy,backendName:"webgl",kernelFunc:M3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z3e=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,G3e=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,U3e=Gr({opSnippet:z3e,packedOpSnippet:G3e,dtype:"int32"}),W3e={kernelName:Jy,backendName:"webgl",kernelFunc:U3e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class V3e{constructor(e){this.variableNames=["A"];const a=ks(),[n,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);

        vec4 values = ${a.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class j3e{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const a=ks(),[n,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${r}.0, ${n}.0);
            vec4 values = ${a.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${a.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H3e={kernelName:BT,backendName:"webgl",kernelFunc:K3e};let np,ES=Ce().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function K3e(t){const{inputs:e,backend:a,attrs:n}=t;let{pixels:r}=e;const{numChannels:s}=n,i=typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement,o=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,[c,l]=i?[r.videoWidth,r.videoHeight]:[r.width,r.height],u=[l,c],d=[l,c,s];if(o||i){const x=Ce().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(np==null||x!==ES)&&(ES=x,np=document.createElement("canvas").getContext("2d",{willReadFrequently:ES})),np.canvas.width=c,np.canvas.height=l,np.drawImage(r,0,0,c,l),r=np.canvas}const p=a.makeTensorInfo(u,"int32");a.texData.get(p.dataId).usage=fi.PIXELS,a.gpgpu.uploadPixelDataToTexture(a.getTexture(p.dataId),r);const m=Ce().getBool("WEBGL_PACK")?new j3e(d):new V3e(d),g=a.runWebGLProgram(m,[p],"int32");return a.disposeData(p.dataId),g}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q3e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s,bias:i,preluActivationWeights:o}=e,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p,activation:m,leakyreluAlpha:g}=n,x=Sl(u),v=br(r.shape,s.shape,c,d,l,p,!1,x);let k;const b=[],_=i!=null,A=o!=null,S=m==="leakyrelu",C=()=>{const R=[r,s],I=(P,D)=>{if(D==="NCHW"&&P.shape.length===1&&P.shape[0]!==1){const B=ct({inputs:{x:P},backend:a,attrs:{shape:[P.shape[0],1,1]}});return b.push(B),B}return P};if(_&&R.push(I(i,u)),A&&R.push(I(o,u)),S){const P=a.makeTensorInfo([],"float32",Uu(g,"float32"));R.push(P),b.push(P)}return R};if(v.filterHeight===1&&v.filterWidth===1&&v.dilationHeight===1&&v.dilationWidth===1&&v.strideHeight===1&&v.strideWidth===1&&(v.padInfo.type==="SAME"||v.padInfo.type==="VALID"))k=XV({x:r,filter:s,convInfo:v,backend:a,bias:i,activation:m,preluActivationWeights:o,leakyreluAlpha:g});else if(v.strideWidth<=2&&x==="channelsLast"&&Ce().getBool("WEBGL_EXP_CONV")){const R=m?Zg(m,!0):null,I=new qV(v,_,R,A,S),P=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],D=C();k=a.runWebGLProgram(I,D,"float32",P)}else if(Ce().getBool("WEBGL_CONV_IM2COL"))k=YV({x:r,filter:s,convInfo:v,backend:a,bias:i,activation:m,preluActivationWeights:o,leakyreluAlpha:g});else{const R=m?Zg(m,!1):null,I=new KV(v,_,R,A,S),P=C();k=a.runWebGLProgram(I,P,"float32")}const E=ct({inputs:{x:k},backend:a,attrs:{shape:v.outShape}});return b.push(k),b.forEach(R=>a.disposeIntermediateTensorInfo(R)),E}const X3e={kernelName:ew,backendName:"webgl",kernelFunc:q3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y3e(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,filter:s,bias:i,preluActivationWeights:o}=e,{strides:c,pad:l,dilations:u,dimRoundingMode:d,activation:p,leakyreluAlpha:m}=n,g=[];let x=u;x==null&&(x=[1,1]),K(Mr(c,x),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${x}'`);const v=br(r.shape,s.shape,c,x,l,d,!0),k=Ce().getBool("WEBGL_PACK_DEPTHWISECONV")&&v.strideWidth<=2&&v.outChannels/v.inChannels===1,b=p?Zg(p,k):null,_=[r,s],A=i!=null,S=o!=null,C=p==="leakyrelu";if(A&&_.push(i),S&&_.push(o),C){const P=a.makeTensorInfo([],"float32",Uu(m,"float32"));_.push(P),g.push(P)}let E;k?E=new QV(v,A,b,S,C):E=new JV(v,A,b,S,C);const R=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],I=a.runWebGLProgram(E,_,"float32",R);return g.forEach(P=>a.disposeIntermediateTensorInfo(P)),I}const Z3e={kernelName:tw,backendName:"webgl",kernelFunc:Y3e};class J3e{constructor(e,a,n,r){this.sliceDim=e,this.strides=a,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const s=Ya(n.length);let i=`
    int index;`;for(let o=0;o<this.sliceDim;o++)i+=`
          index = round(getIndices(coords[0], ${o}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[o]};
          flattenIndex += index * ${this.strides[o]};`;this.userCode=`
         void main() {
          ${s} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${i}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q3e(t){const{inputs:e,backend:a}=t,{params:n,indices:r}=e,s=r.shape,i=s[s.length-1],o=Me(n.shape),[c,l,u,d]=O3(n,r),p=ct({inputs:{x:r},backend:a,attrs:{shape:[l,i]}}),m=ct({inputs:{x:n},backend:a,attrs:{shape:[Me(n.shape)/u,u]}});if(a.shouldExecuteOnCPU([n,r])||n.dtype==="string"){const k=a.readSync(r.dataId),b=a.bufferSync(n),_=nTe(k,b,n.dtype,l,i,u,d,n.shape,o);return a.makeTensorInfo(c,n.dtype,_.values)}const g=new J3e(i,d,[l,u],n.shape),x=a.runWebGLProgram(g,[m,p],m.dtype),v=ct({inputs:{x},backend:a,attrs:{shape:c}});return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(x),v}const eRe={kernelName:uI,backendName:"webgl",kernelFunc:Q3e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tRe{constructor(e,a){this.variableNames=["A","indices"],this.outputShape=a,this.rank=a.length;const n=Ya(this.rank),r=aRe(e);this.userCode=`
      void main() {
        ${n} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${r}));
      }
    `}}function aRe(t,e){const a=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<t.length;r++)r===2?n.push("index"):n.push(`${a[r]}`);return n.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aj(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,indices:s}=e,{axis:i,batchDims:o}=n,c=pa(i,r.shape)[0];if(Ce().get("DEBUG")){const b=a.readSync(s.dataId),_=r.shape[c];for(let A=0;A<b.length;++A){const S=b[A];K(S<=_-1&&S>=0,()=>`GatherV2: the index value ${S} is not in [0, ${_-1}]`)}}const l=sR(r,s,c,o),u=Me(s.shape),d=[],p=ct({inputs:{x:r},backend:a,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),m=ct({inputs:{x:s},backend:a,attrs:{shape:[l.batchSize,u/l.batchSize]}});d.push(p),d.push(m);const g=[l.batchSize,l.outerSize,u/l.batchSize,l.sliceSize];if(a.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const b=a.bufferSync(m),_=a.bufferSync(p),A=rTe(_,b,g);return d.forEach(S=>a.disposeIntermediateTensorInfo(S)),a.makeTensorInfo(l.outputShape,A.dtype,A.values)}const x=new tRe(p.shape,g),v=a.runWebGLProgram(x,[p,m],p.dtype);d.push(v);const k=ct({inputs:{x:v},backend:a,attrs:{shape:l.outputShape}});return d.forEach(b=>a.disposeIntermediateTensorInfo(b)),k}const nRe={kernelName:Pb,backendName:"webgl",kernelFunc:aj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rRe="return float(a > b);",sRe=`
  return vec4(greaterThan(a, b));
`,iRe=Gr({opSnippet:rRe,packedOpSnippet:sRe,cpuKernelImpl:sTe,dtype:"bool"}),oRe={kernelName:Fb,backendName:"webgl",kernelFunc:iRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cRe="return float(a >= b);",lRe=`
  return vec4(greaterThanEqual(a, b));
`,uRe=Gr({opSnippet:cRe,packedOpSnippet:lRe,dtype:"bool",cpuKernelImpl:iTe}),fRe={kernelName:Qy,backendName:"webgl",kernelFunc:uRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dRe(t){const{inputs:e,backend:a}=t,{input:n}=e;return tj(n,!0,a)}const hRe={kernelName:fI,backendName:"webgl",kernelFunc:dRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pRe="return float(!isnan(x) && !isinf(x));",mRe=Da({opSnippet:pRe,dtype:"bool"}),gRe={kernelName:t1,backendName:"webgl",kernelFunc:mRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yRe="return float(isinf(x));",vRe=Da({opSnippet:yRe,dtype:"bool"}),xRe={kernelName:a1,backendName:"webgl",kernelFunc:vRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kRe="return float(isnan(x));",wRe=Da({opSnippet:kRe,dtype:"bool"}),bRe={kernelName:n1,backendName:"webgl",kernelFunc:wRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Re="return float(a < b);",ARe=`
  return vec4(lessThan(a, b));
`,NRe=Gr({opSnippet:_Re,packedOpSnippet:ARe,cpuKernelImpl:oTe,dtype:"bool"}),SRe={kernelName:$b,backendName:"webgl",kernelFunc:NRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TRe="return float(a <= b);",ERe=`
  return vec4(lessThanEqual(a, b));
`,CRe=Gr({opSnippet:TRe,packedOpSnippet:ERe,cpuKernelImpl:cTe,dtype:"bool"}),IRe={kernelName:Lb,backendName:"webgl",kernelFunc:CRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RRe(t){const{backend:e,attrs:a}=t,{start:n,stop:r,num:s}=a,i=lTe(n,r,s);return e.makeTensorInfo([i.length],"float32",i)}const DRe={kernelName:hI,backendName:"webgl",kernelFunc:RRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PRe=Tm+`
  return x < 0.0 ? 0./0. : log(x);
`,FRe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,ORe=Da({opSnippet:PRe,packedOpSnippet:FRe,cpuKernelImpl:uTe}),$Re={kernelName:r1,backendName:"webgl",kernelFunc:ORe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LRe=Tm+`
  return log(1.0 + x);
`,MRe=Da({opSnippet:LRe}),BRe={kernelName:s1,backendName:"webgl",kernelFunc:MRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zRe="return float(a >= 1.0 && b >= 1.0);",GRe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,URe=Gr({opSnippet:zRe,packedOpSnippet:GRe,dtype:"bool"}),WRe={kernelName:Mb,backendName:"webgl",kernelFunc:URe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VRe="return float(!(x >= 1.0));",jRe=Da({opSnippet:VRe}),HRe={kernelName:Bb,backendName:"webgl",kernelFunc:jRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KRe="return float(a >= 1.0 || b >= 1.0);",qRe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,XRe=Gr({opSnippet:KRe,packedOpSnippet:qRe,dtype:"bool"}),YRe={kernelName:zb,backendName:"webgl",kernelFunc:XRe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZRe{constructor(e,a,n,r,s){this.variableNames=["x"],this.outputShape=[];const i=a,o=e[3]-1;this.outputShape=e;let c;const l=`float(${n}) + float(${r}) * sum`;s===.5?c=`inversesqrt(${l})`:s===1?c=`1.0/(${l})`:c=`exp(log(${l}) * float(-${s}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${i}; j <= ${i}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${o}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${c};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JRe{constructor(e,a,n,r,s){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=a,o=e[3]-1;this.outputShape=e;let c;const l=`float(${n}) + float(${r}) * sum`;s===.5?c=`inversesqrt(${l})`:s===1?c=`1.0/(${l})`:c=`exp(log(${l}) * float(-${s}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${i};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${i}; j <= ${i}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${o}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${c};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QRe=t=>{const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{depthRadius:s,bias:i,alpha:o,beta:c}=n,l=Ce().getBool("WEBGL_PACK_NORMALIZATION")?new JRe(r.shape,s,i,o,c):new ZRe(r.shape,s,i,o,c);return a.runWebGLProgram(l,[r],r.dtype)},eDe={kernelName:Gb,backendName:"webgl",kernelFunc:QRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tDe{constructor(e,a,n,r,s){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=a,this.bias=n,this.alpha=r,this.beta=s,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${a})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${a} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${r}) * norm + float(${n});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${r})
                * float(${s})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${s});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aDe=t=>{const{inputs:e,backend:a,attrs:n}=t,{x:r,y:s,dy:i}=e,{depthRadius:o,bias:c,alpha:l,beta:u}=n,d=new tDe(r.shape,o,c,l,u);return a.runWebGLProgram(d,[r,s,i],r.dtype)},nDe={kernelName:pI,backendName:"webgl",kernelFunc:aDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rDe(t,e,a,n){const r=Me(e),i=Me(t.shape)/r,o=ct({inputs:{x:t},attrs:{shape:[i,r]},backend:n}),c=Zd(o,t.dtype,"max",n),l=ct({inputs:{x:c},attrs:{shape:a},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nj(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{reductionIndices:s,keepDims:i}=n,o=r.shape.length,c=pa(s,r.shape);let l=c;const u=kn(l,o),d=u!=null,p=a.shouldExecuteOnCPU([r]);let m=r;if(d){if(p){const _=a.texData.get(m.dataId).values,A=new Array(o);for(let E=0;E<A.length;E++)A[E]=r.shape[u[E]];const S=UR(_,r.shape,r.dtype,u,A);m=a.makeTensorInfo(A,r.dtype);const C=a.texData.get(m.dataId);C.values=S}else m=n2(r,u,a);l=Bn(l.length,o)}Br("max",l,o);const[g,x]=_r(m.shape,l);let v=g;i&&(v=Mn(g,c));let k;if(p){const _=a.texData.get(m.dataId).values,A=fTe(_,Me(x),v,r.dtype);k=a.makeTensorInfo(v,r.dtype);const S=a.texData.get(k.dataId);S.values=A}else k=rDe(m,x,v,a);return d&&a.disposeIntermediateTensorInfo(m),k}const sDe={kernelName:Ub,backendName:"webgl",kernelFunc:nj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iDe=WR+`
  return max(a, b);
`,oDe=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Yd+`
  return result;
`,cDe=Gr({opSnippet:iDe,packedOpSnippet:oDe,cpuKernelImpl:dTe}),lDe={kernelName:i1,backendName:"webgl",kernelFunc:cDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uDe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e;Y1(r,"maxPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=n,l=1;K(Mr(i,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);const u=ro(r.shape,s,i,l,o,c);if(u.filterWidth===1&&u.filterHeight===1&&_a(u.inShape,u.outShape))return Qs({inputs:{x:r},backend:a});const d=new Jg(u,"max",!1);return a.runWebGLProgram(d,[r],r.dtype)}const fDe={kernelName:Wb,backendName:"webgl",kernelFunc:uDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dDe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{filterSize:s,strides:i,pad:o,dataFormat:c,dimRoundingMode:l}=n,u=[1,1,1],d=Nl(r.shape,s,i,u,o,l,c),p=new jR(d,"max",!1);return a.runWebGLProgram(p,[r],r.dtype)}const hDe={kernelName:Vb,backendName:"webgl",kernelFunc:dDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pDe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const a=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,s=e.effectiveFilterHeight,i=e.effectiveFilterWidth,o=s-1-e.padInfo.top,c=i-1-e.padInfo.left,l=s*i-1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${c});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${s};
          wR += ${r}) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${i}; wC++) {
            float dyC = float(dyCCorner + wC) / ${n}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${i} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class mDe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const a=e.strideDepth,n=e.strideHeight,r=e.strideWidth,s=e.dilationDepth,i=e.dilationHeight,o=e.dilationWidth,c=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=c-1-e.padInfo.front,p=l-1-e.padInfo.top,m=u-1-e.padInfo.left,g=c*l*u-1;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${p}, ${m});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${c};
           wD += ${s}) {
          float dyD = float(dyDCorner + wD) / ${a}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${l};
              wR += ${i}) {
            float dyR = float(dyRCorner + wR) / ${n}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${u};
                wC += ${o}) {
              float dyC = float(dyCCorner + wC) / ${r}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${g} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${l} * ${u} +
                  wR * ${u} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gDe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,input:s}=e,i=s,{filterSize:o,strides:c,pad:l,dimRoundingMode:u}=n,d=[1,1,1],p=Nl(i.shape,o,c,d,l,u),m=new jR(p,"max",!0),g=a.runWebGLProgram(m,[i],i.dtype),x=new mDe(p),v=a.runWebGLProgram(x,[r,g],i.dtype);return a.disposeIntermediateTensorInfo(g),v}const yDe={kernelName:gI,backendName:"webgl",kernelFunc:gDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vDe(t){const{inputs:e,backend:a,attrs:n}=t,{dy:r,input:s,output:i}=e,o=s;Y1([s,i],"maxPoolGrad");const{filterSize:c,strides:l,pad:u,dimRoundingMode:d}=n,p=ro(o.shape,c,l,1,u,d),m=!0,g=new Jg(p,"max",m),x=a.runWebGLProgram(g,[o],o.dtype),v=new pDe(p),k=a.runWebGLProgram(v,[r,x],o.dtype);return a.disposeIntermediateTensorInfo(x),k}const xDe={kernelName:mI,backendName:"webgl",kernelFunc:vDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kDe(t,e,a,n){let r=new Jg(a,"max",!1);const s=n.runWebGLProgram(r,[t],"float32");r=new Jg(a,"max",!0,!0,e);const i=n.runWebGLProgram(r,[t],"float32");return[s,i]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wDe={kernelName:yI,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:a})=>{const{x:n}=t,{filterSize:r,strides:s,pad:i,includeBatchInIndex:o}=e,c=a;K(n.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${n.shape.length}.`);const l=[1,1];K(Mr(s,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${l}'`);const u=ro(n.shape,r,s,l,i),[d,p]=kDe(n,o,u,c);return[d,p]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bDe(t,e,a,n){const r=Me(e),i=Me(t.shape)/r,o=ct({inputs:{x:t},attrs:{shape:[i,r]},backend:n}),c=Zd(o,"float32","mean",n),l=ct({inputs:{x:c},attrs:{shape:a},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _De={kernelName:jb,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:a})=>{const{x:n}=t,{keepDims:r,axis:s}=e,i=a,o=n.shape.length,c=pa(s,n.shape);let l=c;const u=kn(l,o),d=u!=null,p=i.shouldExecuteOnCPU([n]),m=[];let g=n;if(d){if(p){const A=i.texData.get(g.dataId).values,S=new Array(o);for(let R=0;R<S.length;R++)S[R]=n.shape[u[R]];const C=UR(A,n.shape,n.dtype,u,S);g=i.makeTensorInfo(S,n.dtype);const E=i.texData.get(g.dataId);E.values=C}else g=n2(n,u,i);m.push(g),l=Bn(l.length,o)}Br("sum",l,o);const[x,v]=_r(g.shape,l);let k=x;r&&(k=Mn(x,c));const b=bDe(g,v,k,i);for(const _ of m)i.disposeIntermediateTensorInfo(_);return b}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ADe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n,o=r.shape.length,c=pa(s,r.shape);let l=c;const u=kn(l,o);let d=r;u!=null&&(d=ys({inputs:{x:r},backend:a,attrs:{perm:u}}),l=Bn(l.length,r.shape.length)),Br("min",l,o);const[p,m]=_r(d.shape,l),g=Me(m),x=ct({inputs:{x:d},backend:a,attrs:{shape:[-1,g]}}),v=Zd(x,x.dtype,"min",a);let k;if(i){const b=Mn(p,c);k=ct({inputs:{x:v},backend:a,attrs:{shape:b}})}else k=ct({inputs:{x:v},backend:a,attrs:{shape:p}});return a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(v),u!=null&&a.disposeIntermediateTensorInfo(d),k}const NDe={kernelName:Hb,backendName:"webgl",kernelFunc:ADe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SDe=WR+`
  return min(a, b);
`,TDe=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Yd+`
  return result;
`,EDe=Gr({opSnippet:SDe,packedOpSnippet:TDe,cpuKernelImpl:hTe}),CDe={kernelName:o1,backendName:"webgl",kernelFunc:EDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IDe{constructor(e,a,n){this.variableNames=["x"],this.outputShape=a.map((u,d)=>u[0]+e[d]+u[1]);const r=e.length,s=Ya(r),i=a.map(u=>u[0]).join(","),o=a.map((u,d)=>u[0]+e[d]).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l=n==="reflect"?0:1;if(r===1){this.userCode=`
        int start = ${i};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${l};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${l};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${s} start = ${s}(${i});
      ${s} end = ${s}(${o});

      void main() {
        ${s} outC = getOutputCoords();
        for (int i = 0; i < ${r}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${l};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};
          }
        }
        ${s} coords = outC - start;
        setOutput(getX(${c}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RDe{constructor(e,a,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a.map((g,x)=>g[0]+e[x]+g[1]);const r=e.length,s=Ya(r),i=a.map(g=>g[0]).join(","),o=a.map((g,x)=>g[0]+e[x]).join(","),c=us("rc",r),l=us("source",r),u=`${c[r-1]} < ${this.outputShape[r-1]}`,d=r===1?"source":`vec2(${l.slice(-2).join()})`,p=n==="reflect"?0:1;let m="";if(r===1){const g=`
        ${s} source = rc;
        if (source < start) {
          source = start * 2 - source - ${p};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${p};
        }
        source -= start;
      `;m=`
        ${s} rc = outputLoc;
        ${g}
        result[0] = getChannel(getX(${l.join()}), ${d});
        ${c[r-1]} += 1;
        if(${u}) {
          ${g}
          result[1] = getChannel(getX(${l.join()}), ${d});
        }
      `}else{const g=`
        ${s} source = rc;
        ${s} lt = ${s}(lessThan(source, start));
        ${s} gte = ${s}(greaterThanEqual(source, end));
        ${s} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${p}) +
                gte * ((end - 1) * 2 - source + ${p});
        source -= start;
      `;m=`
        ${s} rc = outputLoc;
        ${g}
        result[0] = getChannel(getX(${l.join()}), ${d});
        ${c[r-1]} += 1;
        if(${u}) {
          ${g}
          result[1] = getChannel(getX(${l.join()}), ${d});
        }
        rc = outputLoc;
        ${c[r-2]} += 1;
        if(${c[r-2]} < ${this.outputShape[r-2]}) {
          ${g}
          result[2] = getChannel(getX(${l.join()}), ${d});
          ${c[r-1]} += 1;
          if(${u}) {
            ${g}
            result[3] = getChannel(getX(${l.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${s} start = ${s}(${i});
      const ${s} end = ${s}(${o});

      void main() {
        ${s} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${m}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DDe=({inputs:t,backend:e,attrs:a})=>{const{x:n}=t,{paddings:r,mode:s}=a,i=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new RDe(n.shape,r,s):new IDe(n.shape,r,s);return e.runWebGLProgram(i,[n],n.dtype)},PDe={kernelName:Kb,backendName:"webgl",kernelFunc:DDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FDe=`if (b == 0.0) return NAN;
  return mod(a, b);`,ODe=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+Yd+`
  return result;
`,$De=Gr({opSnippet:FDe,packedOpSnippet:ODe}),LDe={kernelName:c1,backendName:"webgl",kernelFunc:$De};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MDe{constructor(e,a,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${a-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${a-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BDe=`
if (a == b) {
  return 1.0;
};
return a / b;`,zDe=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,rj=Gr({opSnippet:BDe,packedOpSnippet:zDe,checkOutOfBounds:!0}),GDe={kernelName:Hy,backendName:"webgl",kernelFunc:rj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FM="return a - b;",sj=Gr({opSnippet:FM,packedOpSnippet:FM,supportsComplex:!0,cpuKernelImpl:FTe}),UDe={kernelName:A1,backendName:"webgl",kernelFunc:sj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ij(t){const{inputs:e,backend:a,attrs:n}=t,{logits:r}=e,{dim:s}=n,i=pa([s],r.shape),o=nj({inputs:{x:r},backend:a,attrs:{reductionIndices:i,keepDims:!1}}),c=Mn(o.shape,i),l=ct({inputs:{x:o},backend:a,attrs:{shape:c}}),u=sj({inputs:{a:r,b:l},backend:a}),d=ej({inputs:{x:u},backend:a}),p=r2({inputs:{x:d},backend:a,attrs:{axis:i,keepDims:!1}}),m=ct({inputs:{x:p},backend:a,attrs:{shape:c}}),g=rj({inputs:{a:d,b:m},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(l),a.disposeIntermediateTensorInfo(u),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(m),g}const WDe={kernelName:f_,backendName:"webgl",kernelFunc:ij};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VDe(t){const{inputs:e,backend:a,attrs:n}=t,{logits:r}=e,{numSamples:s,seed:i,normalized:o}=n,c=o?r:ij({inputs:{logits:r},backend:a,attrs:{dim:r.shape.length-1}}),l=c.shape[0],u=c.shape[1],d=new MDe(l,u,s),p=[[i]],m=a.runWebGLProgram(d,[c],"int32",p);return o||a.disposeIntermediateTensorInfo(c),m}const jDe={kernelName:vI,backendName:"webgl",kernelFunc:VDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HDe=io+`
  return -x;
`,KDe=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function qDe(t){const{inputs:e,backend:a}=t,{x:n}=e;if(a.shouldExecuteOnCPU([n])){const s=a.texData.get(n.dataId),[i,o]=mTe(s.values,n.shape,n.dtype);return a.makeTensorInfo(o,n.dtype,i)}let r;return Ce().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new uu(n.shape,KDe):r=new lc(n.shape,HDe),a.runWebGLProgram(r,[n],n.dtype)}const XDe={kernelName:qb,backendName:"webgl",kernelFunc:qDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YDe=E3;function ZDe(t){ui("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:a,attrs:n}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c}=n,l=a.readSync(r.dataId),u=a.readSync(s.dataId),{selectedIndices:d}=YDe(l,u,i,o,c);return a.makeTensorInfo([d.length],"int32",new Int32Array(d))}const JDe={kernelName:xI,backendName:"webgl",kernelFunc:ZDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QDe=C3;function ePe(t){ui("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:a,attrs:n}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c,padToMaxOutputSize:l}=n,u=a.readSync(r.dataId),d=a.readSync(s.dataId),{selectedIndices:p,validOutputs:m}=QDe(u,d,i,o,c,l);return[a.makeTensorInfo([p.length],"int32",new Int32Array(p)),a.makeTensorInfo([],"int32",new Int32Array([m]))]}const tPe={kernelName:kI,backendName:"webgl",kernelFunc:ePe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aPe=I3;function nPe(t){ui("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:a,attrs:n}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c,softNmsSigma:l}=n,u=a.readSync(r.dataId),d=a.readSync(s.dataId),p=i,m=o,g=c,x=l,{selectedIndices:v,selectedScores:k}=aPe(u,d,p,m,g,x);return[a.makeTensorInfo([v.length],"int32",new Int32Array(v)),a.makeTensorInfo([k.length],"float32",new Float32Array(k))]}const rPe={kernelName:wI,backendName:"webgl",kernelFunc:nPe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sPe{constructor(e,a,n,r){this.variableNames=["indices"],this.outputShape=[e,a],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${r}), float(${n}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iPe=t=>{const{inputs:e,backend:a,attrs:n}=t,{indices:r}=e,{dtype:s,depth:i,onValue:o,offValue:c}=n,l=Me(r.shape),u=new sPe(l,i,o,c),d=ct({inputs:{x:r},backend:a,attrs:{shape:[l]}}),p=a.runWebGLProgram(u,[d],s);a.disposeIntermediateTensorInfo(d);const m=[...r.shape,i],g=ct({inputs:{x:p},backend:a,attrs:{shape:m}});return a.disposeIntermediateTensorInfo(p),g},oPe={kernelName:Zb,backendName:"webgl",kernelFunc:iPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sw(t){const{inputs:e,backend:a}=t,{x:n}=e;if(n.dtype==="complex64"){const r=J1({inputs:{input:n},backend:a}),s=Sw({inputs:{x:r},backend:a}),i=s2({inputs:{input:n},backend:a}),o=Sw({inputs:{x:i},backend:a}),c=Ju({inputs:{real:s,imag:o},backend:a});return a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(i),a.disposeIntermediateTensorInfo(o),c}else return Q1({attrs:{shape:n.shape,dtype:n.dtype,value:n.dtype==="string"?"":0},backend:a})}const cPe={kernelName:m_,backendName:"webgl",kernelFunc:Sw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oj(t){const{inputs:e,backend:a}=t,{x:n}=e;if(n.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(n.dtype==="complex64"){const r=J1({inputs:{input:n},backend:a}),s=oj({inputs:{x:r},backend:a}),i=s2({inputs:{input:n},backend:a}),o=Sw({inputs:{x:i},backend:a}),c=Ju({inputs:{real:s,imag:o},backend:a});return a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(i),a.disposeIntermediateTensorInfo(o),c}else return Q1({attrs:{shape:n.shape,dtype:n.dtype,value:1},backend:a})}const lPe={kernelName:Yb,backendName:"webgl",kernelFunc:oj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uPe(t){const{inputs:e,backend:a,attrs:n}=t,{axis:r}=n;if(e.length===1)return IE({inputs:{input:e[0]},backend:a,attrs:{dim:r}});const s=e[0].shape,i=e[0].dtype;e.forEach(u=>{ti(s,u.shape,"All tensors passed to stack must have matching shapes"),K(i===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],c=e.map(u=>{const d=IE({inputs:{input:u},backend:a,attrs:{dim:r}});return o.push(d),d}),l=HV({inputs:c,backend:a,attrs:{axis:r}});return o.forEach(u=>a.disposeIntermediateTensorInfo(u)),l}const fPe={kernelName:Jb,backendName:"webgl",kernelFunc:uPe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dPe{constructor(e,a,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=a.map((l,u)=>l[0]+e[u]+l[1]);const r=e.length,s=Ya(r),i=a.map(l=>l[0]).join(","),o=a.map((l,u)=>l[0]+e[u]).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);if(r===1){this.userCode=`
        int start = ${i};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${s} start = ${s}(${i});
      ${s} end = ${s}(${o});

      void main() {
        ${s} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${s} coords = outC - start;
          setOutput(getX(${c}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hPe{constructor(e,a,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=a.map((x,v)=>x[0]+e[v]+x[1]);const r=e.length,s=Ya(r),i=a.map(x=>x[0]).join(","),o=a.map((x,v)=>x[0]+e[v]).join(","),c=us("rc",r),l=us("source",r),u=`${c[r-1]} < ${this.outputShape[r-1]}`,d=r===1?"source":`vec2(${l.slice(-2).join()})`,p=[`${s} rc = outputLoc;`,`${c[r-1]} += 1;
       if(${u}) {
      `,r===1?"":`}
       rc = outputLoc;
       ${c[r-2]} += 1;
       if(${c[r-2]} < ${this.outputShape[r-2]}) {`,r===1?"":`  ${c[r-1]} += 1;
         if(${u}) {`],m=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let g="";for(let x=0,v=r===1?2:4;x<v;x++)g+=`
        ${p[x]}
        if (${m}) {
          result[${x}] = float(value);
        } else {
          ${s} source = rc - start;
          result[${x}] = getChannel(getX(${l.join()}), ${d});
        }
      `;g+=r===1?"} ":"}}",this.userCode=`
      const ${s} start = ${s}(${i});
      const ${s} end = ${s}(${o});

      void main() {
        ${s} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${g}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cj=t=>{const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{paddings:s,constantValue:i}=n;if(Me(r.shape)===0){const l=s.map((u,d)=>u[0]+r.shape[d]+u[1]);return Q1({backend:a,attrs:{shape:l,value:i,dtype:r.dtype}})}const o=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new hPe(r.shape,s,i):new dPe(r.shape,s,i),c=[[i]];return a.runWebGLProgram(o,[r],r.dtype,c)},pPe={kernelName:Qb,backendName:"webgl",kernelFunc:cj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mPe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,gPe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+Yd+`
  return result;
`,yPe=Gr({opSnippet:mPe,packedOpSnippet:gPe}),vPe={kernelName:u1,backendName:"webgl",kernelFunc:yPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xPe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{axis:s,keepDims:i}=n,o=r.shape.length,c=[],l=pa(s,r.shape);let u=l;const d=kn(u,o);let p=r;d!=null&&(p=ys({inputs:{x:r},backend:a,attrs:{perm:d}}),u=Bn(u.length,o),c.push(p)),Br("prod",u,o);let m;if(a.shouldExecuteOnCPU([p])){const g=a.texData.get(p.dataId).values,{outVals:x,outShape:v,outDtype:k}=yTe(p.shape,p.dtype,g,u);m=a.makeTensorInfo(v,k,x)}else{const[g,x]=_r(p.shape,u),v=Me(x),k=ct({inputs:{x:p},backend:a,attrs:{shape:[-1,v]}}),b=HI(r.dtype),_=Zd(k,b,"prod",a);m=ct({inputs:{x:_},backend:a,attrs:{shape:g}}),c.push(k),c.push(_)}if(i){c.push(m);const g=Mn(m.shape,l);m=ct({inputs:{x:m},backend:a,attrs:{shape:g}})}return c.forEach(g=>a.disposeIntermediateTensorInfo(g)),m}const kPe={kernelName:t_,backendName:"webgl",kernelFunc:xPe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wPe(t){const{inputs:e,backend:a,attrs:n}=t,{paramsNestedSplits:r,paramsDenseValues:s,indices:i}=e,{outputRaggedRank:o}=n,c=r.map(k=>a.readSync(k.dataId)),l=r.map(k=>k.shape),u=a.readSync(s.dataId),d=a.readSync(i.dataId),[p,m,g]=vTe(c,l,u,s.shape,s.dtype,d,i.shape,o),x=p.map(k=>a.makeTensorInfo([k.length],"int32",k)),v=a.makeTensorInfo(g,s.dtype,m);return x.concat([v])}const bPe={kernelName:bI,backendName:"webgl",kernelFunc:wPe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Pe(t){const{inputs:e,backend:a}=t,{starts:n,limits:r,deltas:s}=e,i=a.readSync(n.dataId),o=a.readSync(r.dataId),c=a.readSync(s.dataId),[l,u]=xTe(i,n.shape,n.dtype,o,r.shape,c,s.shape),d=a.makeTensorInfo([l.length],"int32",l),p=a.makeTensorInfo([u.length],n.dtype,u);return[d,p]}const APe={kernelName:_I,backendName:"webgl",kernelFunc:_Pe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NPe(t){const{inputs:e,backend:a,attrs:n}=t,{shape:r,values:s,defaultValue:i,rowPartitionTensors:o}=e,{rowPartitionTypes:c}=n,l=a.readSync(r.dataId),u=a.readSync(s.dataId),d=a.readSync(i.dataId),p=o.map(v=>a.readSync(v.dataId)),m=o.map(v=>v.shape),[g,x]=kTe(l,r.shape,u,s.shape,s.dtype,d,i.shape,p,m,c);return a.makeTensorInfo(g,s.dtype,x)}const SPe={kernelName:AI,backendName:"webgl",kernelFunc:NPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lj=t=>{const{backend:e,attrs:a}=t,{start:n,stop:r,step:s,dtype:i}=a,o=wTe(n,r,s,i);return e.makeTensorInfo([o.length],i,o)},TPe={kernelName:NI,backendName:"webgl",kernelFunc:lj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EPe="return 1.0 / x;",CPe=Da({opSnippet:EPe}),IPe={kernelName:f1,backendName:"webgl",kernelFunc:CPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RPe=io+`
  return (x < 0.0) ? 0.0 : x;
`,DPe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,PPe=Da({opSnippet:RPe,packedOpSnippet:DPe}),FPe={kernelName:d1,backendName:"webgl",kernelFunc:PPe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OPe=io+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,$Pe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,LPe=Da({opSnippet:OPe,packedOpSnippet:$Pe}),MPe={kernelName:h1,backendName:"webgl",kernelFunc:LPe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BPe{constructor(e,a,n,r,s){this.variableNames=["A"],this.outputShape=[];const[i,o,c,l]=e;this.outputShape=[i,a,n,l];const u=[r&&a>1?o-1:o,r&&n>1?c-1:c],d=[r&&a>1?a-1:a,r&&n>1?n-1:n];let p;s?p="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":p="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${c}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${p};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zPe{constructor(e,a,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,o,c,l]=e;this.outputShape=[i,a,n,l];const u=[r&&a>1?o-1:o,r&&n>1?c-1:c],d=[r&&a>1?a-1:a,r&&n>1?n-1:n];let p;s?p="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":p="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${c}.0,
                                     ${c}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${p};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${n-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GPe(t){const{inputs:e,backend:a,attrs:n}=t,{images:r}=e,{alignCorners:s,halfPixelCenters:i,size:o}=n,[c,l]=o,u=Ce().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new zPe(r.shape,c,l,s,i):new BPe(r.shape,c,l,s,i);return a.runWebGLProgram(u,[r],"float32")}const UPe={kernelName:r_,backendName:"webgl",kernelFunc:GPe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WPe{constructor(e,a,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=a;const[,r,s]=a,[,i,o]=e,c=[n&&i>1?r-1:r,n&&o>1?s-1:s],l=[n&&i>1?i-1:i,n&&o>1?o-1:o],u=c[0]/l[0],d=c[1]/l[1],p=1/u,m=1/d,g=Math.ceil(p)*2+2,x=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${p});
        const float invWidthScale = float(${m});

        const int winHeight = int(${g});
        const int winWidth = int(${x});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${s-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VPe(t){const{inputs:e,backend:a,attrs:n}=t,{images:r,dy:s}=e,{alignCorners:i}=n,o=new WPe(s.shape,r.shape,i);return a.runWebGLProgram(o,[s],s.dtype)}const jPe={kernelName:EI,backendName:"webgl",kernelFunc:VPe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HPe{constructor(e,a,n,r,s){this.variableNames=["A"],this.outputShape=[];const[i,o,c,l]=e;this.outputShape=[i,a,n,l];const u=[r&&a>1?o-1:o,r&&n>1?c-1:c],d=[r&&a>1?a-1:a,r&&n>1?n-1:n],p=r?"0.5":"0.0";let m;s?m="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":m="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${c}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${p})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KPe{constructor(e,a,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,o,c,l]=e;this.outputShape=[i,a,n,l];const u=[r&&a>1?o-1:o,r&&n>1?c-1:c],d=[r&&a>1?a-1:a,r&&n>1?n-1:n],p=r?"0.5":"0.0";let m;s?m="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":m="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${c}.0,
                                     ${c}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${p})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${n-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qPe(t){const{inputs:e,backend:a,attrs:n}=t,{images:r}=e,{alignCorners:s,halfPixelCenters:i,size:o}=n,[c,l]=o,u=Ce().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new KPe(r.shape,c,l,s,i):new HPe(r.shape,c,l,s,i);return a.runWebGLProgram(u,[r],r.dtype)}const XPe={kernelName:n_,backendName:"webgl",kernelFunc:qPe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YPe{constructor(e,a,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=a;const[,r,s]=a,[,i,o]=e,c=[n&&i>1?r-1:r,n&&o>1?s-1:s],l=[n&&i>1?i-1:i,n&&o>1?o-1:o],u=c[0]/l[0],d=c[1]/l[1],p=1/u,m=1/d,g=Math.ceil(p)*2+2,x=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${p});
        const float invWidthScale = float(${m});

        const int winHeight = int(${g});
        const int winWidth = int(${x});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float sourceFracRow =
              float(${c[0]}) *
                (float(dyR) / float(${l[0]}));

            float sourceFracCol =
                float(${c[1]}) *
                  (float(dyC) / float(${l[1]}));

            int sourceNearestRow = int(min(
                float(int(${r}) - 1),
                ${n} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${s}) - 1),
                ${n} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZPe(t){const{inputs:e,backend:a,attrs:n}=t,{images:r,dy:s}=e,{alignCorners:i}=n,o=new YPe(s.shape,r.shape,i);return a.runWebGLProgram(o,[s],s.dtype)}const JPe={kernelName:TI,backendName:"webgl",kernelFunc:ZPe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QPe{constructor(e,a){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,n===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const r=o=>a.indexOf(o)!==-1&&e[o]!==1?`${e[o]} - coords[${o}] - 1`:`coords[${o}]`,s=e.map((o,c)=>r(c)).join(","),i=Ya(n);this.userCode=`
      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${s}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eFe{constructor(e,a){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=us("rc",n),s=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,i=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,o=Ya(n);n===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${s}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${c(r.slice())};
          if(${s}){
            result.g = ${l(r.slice())};
          }
          if(${i}) {
            result.b = ${u(r.slice())};
            if(${s}) {
              result.a = ${d(r.slice())};
            }
          }
          setOutput(result);
        }
    `;function c(g){return p(g)}function l(g){return g[n-1]="("+g[n-1]+" + 1)",p(g)}function u(g){return g[n-2]="("+g[n-2]+" + 1)",p(g)}function d(g){return g[n-1]="("+g[n-1]+" + 1)",g[n-2]="("+g[n-2]+" + 1)",p(g)}function p(g){const x=e.map((b,_)=>m(_,g)),v=x.join(","),k=x.slice(-2).join(",");return`getChannel(getX(${v}), vec2(${k}))`}function m(g,x){return a.indexOf(g)!==-1&&e[g]!==1?`${e[g]} - ${x[g]} - 1`:`${x[g]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tFe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{dims:s}=n,i=r.shape.length,o=pa(s,r.shape);if(i===0)return Qs({inputs:{x:r},backend:a});const c=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new eFe(r.shape,o):new QPe(r.shape,o);return a.runWebGLProgram(c,[r],r.dtype)}const aFe={kernelName:s_,backendName:"webgl",kernelFunc:tFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nFe{constructor(e,a){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let s="";typeof a=="number"?s=`float outputValue = ${a.toFixed(2)};`:s=`
        vec3 fill = vec3(${a.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${s}
          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rFe={kernelName:jI,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:a})=>{const{image:n}=t,{radians:r,fillValue:s,center:i}=e,o=a,c=new nFe(n.shape,s),[l,u]=W3(i,n.shape[1],n.shape[2]),d=[[l,u,Math.sin(r),Math.cos(r)]];return o.runWebGLProgram(c,[n],n.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sFe=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,iFe=Da({opSnippet:sFe}),oFe={kernelName:p1,backendName:"webgl",kernelFunc:iFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cFe="return inversesqrt(x);",lFe=Da({opSnippet:cFe,cpuKernelImpl:bTe}),uFe={kernelName:m1,backendName:"webgl",kernelFunc:lFe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HR{constructor(e,a,n,r,s,i,o=!0,c=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const l=Ya(s.length),u=Ya(i.length);let d="";n===1?d="i":n===2&&(d="i, j");const p=`getIndices(${d})`;let m="";r===1?m="i":r===2&&(m="i, coords[1]");const g=`getUpdates(${m})`;let x="";c&&(x="coords[0], coords[1]");const v=`getDefaultValue(${x})`,k=a>1?"strides[j]":"strides";this.userCode=`
        ${l} strides = ${l}(${s});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${a}; j++) {
              int index = round(${p});
              flattenedIndex += index * ${k};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${g};
              found = true;
            }
          }
          setOutput(mix(${v}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fFe{constructor(e,a,n,r,s,i,o=!0,c=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const l=Ya(s.length),u=Ya(i.length);let d="";n===1?d="i":n===2&&(d="i, j");const p=`getIndices(${d})`;let m="";r===1?m="i":r===2&&(m="i, coords[1]");const g=`getUpdates(${m})`;let x="";c&&(x="coords[0], coords[1]");const v=`getDefaultValue(${x})`,k=a>1?"strides[j]":"strides",b=a>1?"strides[j + 1]":"strides";this.userCode=`
        ${l} strides = ${l}(${s});

        void main() {
          ${u} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${a}; j+=2) {
              ivec4 index = round(${p});
              flattenedIndex += index.xz * ${k};
              if (j + 1 < ${a}) {
                flattenedIndex += index.yw * ${b};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${g};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${v}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dFe(t){const{inputs:e,backend:a,attrs:n}=t,{indices:r,updates:s}=e,{shape:i}=n,{sliceRank:o,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=jd(s,r,i),p=[d/l,l];if(d===0)return a.makeTensorInfo(i,r.dtype);const m=ct({inputs:{x:r},backend:a,attrs:{shape:[c,o]}}),g=ct({inputs:{x:s},backend:a,attrs:{shape:[c,l]}}),x=a.makeTensorInfo([],"float32",new Float32Array([0]));let v;Ce().getBool("WEBGL_PACK")?v=new fFe(c,o,m.shape.length,g.shape.length,u,p):v=new HR(c,o,m.shape.length,g.shape.length,u,p);const k=a.runWebGLProgram(v,[g,m,x],g.dtype),b=ct({inputs:{x:k},backend:a,attrs:{shape:i}});return a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(k),a.disposeIntermediateTensorInfo(x),b}const hFe={kernelName:CI,backendName:"webgl",kernelFunc:dFe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pFe{constructor(e,a,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const s="while (left < right) {",i=`for (int i = 0; i < ${Math.ceil(Math.log2(a+1))}; ++i) { if (left >= right) break;`,o=Ce().getNumber("WEBGL_VERSION")===2?s:i,c=r==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${o}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${c} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mFe(t){const{inputs:e,backend:a,attrs:n}=t,{sortedSequence:r,values:s}=e,{side:i}=n,o=new pFe(r.shape[0],r.shape[1],s.shape[1],i),c=[[r.shape[1]]];return a.runWebGLProgram(o,[r,s],"int32",c)}const gFe={kernelName:RI,backendName:"webgl",kernelFunc:mFe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yFe{constructor(e,a,n){this.variableNames=["c","a","b"],this.outputShape=a;let r,s;if(n>4)throw Error(`Where for rank ${n} is not yet supported`);if(n===1)s="resRC",r="resRC";else{const o=["resRC.x","resRC.y","resRC.z","resRC.w"],c=[],l=[];for(let u=0;u<a.length;u++)l.push(`${o[u]}`),u<e&&c.push(`${o[u]}`);r=c.join(),s=l.join()}const i=Ya(n);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        float cVal = getC(${r});
        if (cVal >= 1.0) {
          setOutput(getA(${s}));
        } else {
          setOutput(getB(${s}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vFe(t){const{inputs:e,backend:a}=t,{condition:n,t:r,e:s}=e,i=new yFe(n.shape.length,r.shape,r.shape.length);return a.runWebGLProgram(i,[n,r,s],qs(r.dtype,s.dtype))}const xFe={kernelName:i_,backendName:"webgl",kernelFunc:vFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kFe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${G_};
  float scale = ${U_};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,wFe=Da({opSnippet:kFe}),bFe={kernelName:g1,backendName:"webgl",kernelFunc:wFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Fe=Tm+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,AFe=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,NFe=Da({opSnippet:_Fe,packedOpSnippet:AFe,cpuKernelImpl:ATe}),SFe={kernelName:k1,backendName:"webgl",kernelFunc:NFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TFe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,EFe=Da({opSnippet:TFe}),CFe={kernelName:x1,backendName:"webgl",kernelFunc:EFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IFe=Tm+`
  return sin(x);
`,RFe=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${Yd}
  return result;
`,DFe=Da({opSnippet:IFe,packedOpSnippet:RFe}),PFe={kernelName:y1,backendName:"webgl",kernelFunc:DFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FFe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,OFe=Da({opSnippet:FFe}),$Fe={kernelName:v1,backendName:"webgl",kernelFunc:OFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LFe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,MFe=Da({opSnippet:LFe}),BFe={kernelName:w1,backendName:"webgl",kernelFunc:MFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zFe=t=>{const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{blockShape:s,paddings:i}=n;K(r.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const o=s.reduce((k,b)=>k*b),c=[[0,0]];c.push(...i);for(let k=1+s.length;k<r.shape.length;++k)c.push([0,0]);const l=[],u=cj({inputs:{x:r},backend:a,attrs:{paddings:c,constantValue:0}}),d=L1(u.shape,s,o,!1),p=M1(d.length,s.length,!1),m=B1(u.shape,s,o,!1),g=ct({inputs:{x:u},backend:a,attrs:{shape:d}}),x=ys({inputs:{x:g},backend:a,attrs:{perm:p}}),v=ct({inputs:{x},backend:a,attrs:{shape:m}});return l.push(u),l.push(g),l.push(x),l.forEach(k=>a.disposeIntermediateTensorInfo(k)),v},GFe={kernelName:l_,backendName:"webgl",kernelFunc:zFe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UFe(t){const{inputs:e,backend:a}=t,{indices:n,values:r,denseShape:s,defaultValue:i}=e;if(s.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${s.shape}`);if(n.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${n.shape}`);if(r.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${r.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);const o=a.readSync(n.dataId),c=a.readSync(r.dataId),l=a.readSync(s.dataId),u=a.readSync(i.dataId)[0],[d,p,m,g,x]=STe(o,n.shape,n.dtype,c,r.dtype,l,u);return[a.makeTensorInfo(p,n.dtype,d),a.makeTensorInfo([p[0]],r.dtype,m),a.makeTensorInfo([g.length],"bool",new Uint8Array(g.map(v=>Number(v)))),a.makeTensorInfo([x.length],n.dtype,new Int32Array(x))]}const WFe={kernelName:DI,backendName:"webgl",kernelFunc:UFe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VFe(t){const{inputs:e,backend:a}=t,{inputIndices:n,inputShape:r,newShape:s}=e;if(n.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${n.shape}`);if(r.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const i=Array.from(a.readSync(r.dataId)),o=a.readSync(n.dataId),c=Array.from(a.readSync(s.dataId)),[l,u,d]=TTe(o,n.shape,n.dtype,i,c);return[a.makeTensorInfo(u,n.dtype,l),a.makeTensorInfo([d.length],s.dtype,new Int32Array(d))]}const jFe={kernelName:PI,backendName:"webgl",kernelFunc:VFe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HFe(t){const{inputs:e,backend:a}=t,{data:n,indices:r,segmentIds:s}=e;if(n.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${r.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${s.shape}`);const i=a.readSync(n.dataId),o=a.readSync(r.dataId),c=a.readSync(s.dataId),[l,u]=PV(i,n.shape,n.dtype,o,c,!0);return a.makeTensorInfo(u,n.dtype,l)}const KFe={kernelName:FI,backendName:"webgl",kernelFunc:HFe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qFe(t){const{inputs:e,backend:a}=t,{data:n,indices:r,segmentIds:s}=e;if(n.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${r.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${s.shape}`);const i=a.readSync(n.dataId),o=a.readSync(r.dataId),c=a.readSync(s.dataId),[l,u]=PV(i,n.shape,n.dtype,o,c);return a.makeTensorInfo(u,n.dtype,l)}const XFe={kernelName:OI,backendName:"webgl",kernelFunc:qFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YFe(t){const{inputs:e,backend:a,attrs:n}=t,{sparseIndices:r,sparseValues:s,defaultValue:i}=e,{outputShape:o}=n,{sliceRank:c,numUpdates:l,sliceSize:u,strides:d,outputSize:p}=jd(s,r,o),m=!1;if(s.dtype==="string"){const k=a.bufferSync(r),b=a.bufferSync(s),_=bu(a.readSync(i.dataId)[0]),A=_Te(k,b,o,p,u,l,c,d,_,m);return a.makeTensorInfo(o,A.dtype,A.values)}const g=new HR(l,c,r.shape.length,s.shape.length,d,[p,1],m),x=a.runWebGLProgram(g,[s,r,i],s.dtype),v=ct({inputs:{x},backend:a,attrs:{shape:o}});return a.disposeIntermediateTensorInfo(x),v}const ZFe={kernelName:$I,backendName:"webgl",kernelFunc:YFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JFe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{numOrSizeSplits:s,axis:i}=n,o=pa(i,r.shape)[0],c=rR(r,s,o),l=r.shape.length,u=new Array(l).fill(0),d=r.shape.slice();return c.map(p=>{const m=[...d];m[o]=p;const g=Em({inputs:{x:r},backend:a,attrs:{begin:u,size:m}});return u[o]+=p,g})}const QFe={kernelName:u_,backendName:"webgl",kernelFunc:JFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OM="return sqrt(x);",eOe=Da({opSnippet:OM,packedOpSnippet:OM,cpuKernelImpl:ETe}),tOe={kernelName:b1,backendName:"webgl",kernelFunc:eOe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aOe="return x * x;",nOe=Da({opSnippet:aOe}),rOe={kernelName:LI,backendName:"webgl",kernelFunc:nOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $M="return (a - b) * (a - b);",sOe=Gr({opSnippet:$M,packedOpSnippet:$M}),iOe={kernelName:_1,backendName:"webgl",kernelFunc:sOe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oOe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e;if(r.dtype!=="string")throw new Error("Input must be of datatype string");const s=a.readSync(r.dataId),i=vl(s),o=CTe(i,"string",n);return a.makeTensorInfo(r.shape,"string",o)}const cOe={kernelName:d_,backendName:"webgl",kernelFunc:oOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lOe({inputs:t,attrs:e,backend:a}){const{x:n}=t,r=io+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,s=new lc(n.shape,r);return a.runWebGLProgram(s,[n],n.dtype)}const uOe={kernelName:E1,backendName:"webgl",kernelFunc:lOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fOe{constructor(e,a,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,s=Ya(n.length),i=Ya(n.length);let o="";if(r===1)o="coords * strides + begin";else{let c=0;o=n.map((l,u)=>(c++,n.length===1?`coords * strides[${u}] + begin[${u}]`:`coords[${c-1}] * strides[${u}] + begin[${u}]`)).join(",")}this.userCode=`
      ${s} begin = ${s}(${e});
      ${s} strides = ${s}(${a});

      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dOe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{begin:s,end:i,strides:o,beginMask:c,endMask:l,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:p}=n,{finalShapeSparse:m,finalShape:g,isIdentity:x,sliceDim0:v,isSimpleSlice:k,begin:b,end:_,strides:A}=z3(r.shape,s,i,o,c,l,u,d,p);let S;if(x)S=ct({inputs:{x:r},backend:a,attrs:{shape:g}});else if(v||k){K(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const E=L3(b,_,A),R=Em({inputs:{x:r},backend:a,attrs:{begin:b,size:E}});S=ct({inputs:{x:R},backend:a,attrs:{shape:g}}),a.disposeIntermediateTensorInfo(R)}else if(a.shouldExecuteOnCPU([r])){const R=a.readSync(r.dataId),I=ra(r.shape,r.dtype,R),P=ITe(m,I,A,b);S=a.makeTensorInfo(g,r.dtype,P.values)}else{const R=new fOe(b,A,m);S=a.runWebGLProgram(R,[r],r.dtype)}const C=ct({inputs:{x:S},backend:a,attrs:{shape:g}});return a.disposeIntermediateTensorInfo(S),C}const hOe={kernelName:MI,backendName:"webgl",kernelFunc:dOe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pOe(t){const{inputs:e,backend:a,attrs:n}=t,{separator:r,nGramWidths:s,leftPad:i,rightPad:o,padWidth:c,preserveShortSequences:l}=n,{data:u,dataSplits:d}=e,p=a.readSync(u.dataId),m=a.readSync(d.dataId),[g,x]=RTe(p,m,r,s,i,o,c,l);return[a.makeTensorInfo([g.length],"string",g),a.makeTensorInfo(d.shape,"int32",x)]}const mOe={kernelName:BI,backendName:"webgl",kernelFunc:pOe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gOe(t){const{inputs:e,backend:a,attrs:n}=t,{skipEmpty:r}=n,{input:s,delimiter:i}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(s.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const o=a.readSync(s.dataId),c=a.readSync(i.dataId)[0],[l,u,d]=DTe(o,c,r),p=u.length;return[a.makeTensorInfo([p,2],"int32",l),a.makeTensorInfo([p],"string",u),a.makeTensorInfo([2],"int32",new Int32Array(d))]}const yOe={kernelName:zI,backendName:"webgl",kernelFunc:gOe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vOe(t){const{inputs:e,backend:a,attrs:n}=t,{numBuckets:r}=n,{input:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const i=a.readSync(s.dataId),o=PTe(i,r);return a.makeTensorInfo(s.shape,"int32",o)}const xOe={kernelName:GI,backendName:"webgl",kernelFunc:vOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kOe="return tan(x);",wOe=Da({opSnippet:kOe}),bOe={kernelName:N1,backendName:"webgl",kernelFunc:wOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Oe=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,AOe=Da({opSnippet:_Oe}),NOe={kernelName:S1,backendName:"webgl",kernelFunc:AOe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SOe(t){const{inputs:e,backend:a,attrs:n}=t,{tensor:r,indices:s,updates:i}=e,{sliceRank:o,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=jd(i,s,r.shape),p=[d/l,l];if(d===0)return a.makeTensorInfo(r.shape,s.dtype);const m=ct({inputs:{x:s},backend:a,attrs:{shape:[c,o]}}),g=ct({inputs:{x:i},backend:a,attrs:{shape:[c,l]}}),x=ct({inputs:{x:r},backend:a,attrs:{shape:p}}),v=new HR(c,o,m.shape.length,g.shape.length,u,p,!1,!0),k=a.runWebGLProgram(v,[g,m,x],x.dtype),b=ct({inputs:{x:k},backend:a,attrs:{shape:r.shape}});return a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(k),b}const TOe={kernelName:II,backendName:"webgl",kernelFunc:SOe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EOe{constructor(e,a){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[i]*a[i];this.outputShape=n,this.rank=n.length;const r=Ya(this.rank),s=COe(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        setOutput(getA(${s}));
      }
    `}}function COe(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const a=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],n=[];for(let r=0;r<t.length;r++)n.push(`imod(${a[r]}, ${t[r]})`);return n.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uj(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{reps:s}=n;if(r.dtype==="string"||r.shape.length>5){const c=a.readSync(r.dataId),l=r.dtype==="string"?c.map(p=>bu(p)):c,u=ra(r.shape,r.dtype,l),d=OTe(u,s);return a.makeTensorInfo(d.shape,d.dtype,d.values)}const i=new EOe(r.shape,s);return a.runWebGLProgram(i,[r],r.dtype)}const IOe={kernelName:T1,backendName:"webgl",kernelFunc:uj};class ROe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class DOe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ef(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function LM(t){let e=1;for(;e<t;)e*=2;return e}function POe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r}=e,{k:s,sorted:i}=n,o=Ce().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),c=Ce().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),l=r.shape,u=l[l.length-1];if(a.shouldExecuteOnCPU([r])||u<o||s>c){const P=a.readSync(r.dataId),[D,B]=$Te(P,l,r.dtype,s,i);return[a.makeTensorInfo(D.shape,D.dtype,D.values),a.makeTensorInfo(B.shape,B.dtype,B.values)]}if(s===0)return l[l.length-1]=0,[a.makeTensorInfo(l,r.dtype,[]),a.makeTensorInfo(l,"int32",[])];if(u===1)return[r,Q1({attrs:{shape:l,dtype:"int32",value:0},backend:a})];const d=a.texData.get(r.dataId),p=d!==null&&d.isPacked,m=p?a.unpackTensor(r):r,x=Me(l)/u,v=ct({inputs:{x:m},attrs:{shape:[x,u]},backend:a});p&&Ef(a,m);const k=LM(s),b=LM(u);let _=null;const A=()=>_===null?[v,v]:[v,_],S=(P,D,B)=>{const U=A(),V=new ROe(B),W=[[u],[_===null?1:0],[Number.NEGATIVE_INFINITY],[P],[D]],Q=_;_=a.runWebGLProgram(V,U,"int32",W),Ef(a,Q)};for(let P=1;P<k;P*=2){const D=P*2;for(let B=P;B>=1;B/=2)S(D,B,[x,b])}for(let P=b;P>k;P/=2){const D=A(),B=new DOe([x,P/2]),V=[[u],[_===null?1:0],[k]],j=_;_=a.runWebGLProgram(B,D,"int32",V),Ef(a,j);const W=k/2,Q=W*2;for(let q=W;q>=1;q/=2)S(Q,q,_.shape)}let C=_;_=Em({inputs:{x:_},backend:a,attrs:{begin:0,size:[x,s]}}),Ef(a,C);let E=aj({inputs:{x:v,indices:_},backend:a,attrs:{axis:1,batchDims:1}});Ef(a,v);const R=l.slice(0,-1);R.push(s),C=_,_=ct({inputs:{x:_},attrs:{shape:R},backend:a}),Ef(a,C);const I=E;return E=ct({inputs:{x:E},attrs:{shape:R},backend:a}),Ef(a,I),[E,_]}const FOe={kernelName:UI,backendName:"webgl",kernelFunc:POe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OOe{constructor(e,a,n,r,s,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const o=n==="nearest"?1:2;let c;switch(r){case"constant":c=1;break;case"reflect":c=2;break;case"wrap":c=3;break;case"nearest":c=4;break;default:c=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${c} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${c} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${c} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${a}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${s});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${s});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${a}));
                float mapY = mapCoord(inY, float(${e}));

                if (${o} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Oe(t){const{inputs:e,backend:a,attrs:n}=t,{image:r,transforms:s}=e,{interpolation:i,fillMode:o,fillValue:c,outputShape:l}=n,[u,d,p,m]=r.shape,[g,x]=l??[d,p],v=[u,g,x,m],k=new OOe(d,p,i,o,c,v);return a.runWebGLProgram(k,[r,s],"float32")}const LOe={kernelName:WI,backendName:"webgl",kernelFunc:$Oe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MOe(t){const{inputs:e,attrs:a,backend:n}=t,{axis:r}=a,{x:s}=e;Y1(s,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const i=n.readSync(s.dataId),{outputValues:o,outputShape:c,indices:l}=LTe(i,r,s.shape,s.dtype);return[n.makeTensorInfo(c,s.dtype,o),n.makeTensorInfo([l.length],"int32",l)]}const BOe={kernelName:VI,backendName:"webgl",kernelFunc:MOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zOe(t){const{inputs:e,backend:a,attrs:n}=t,{value:r}=e;let{axis:s}=n;s<0&&(s+=r.shape.length);const i=r,o=i.shape.length,c=r.shape[s],l=new Array(o-1);let u=0;for(let x=0;x<o;x++)x!==s&&(l[u++]=i.shape[x]);const d=[],p=new Array(o).fill(0),m=i.shape.slice();m[s]=1;const g=new Array(c);for(let x=0;x<g.length;x++){p[s]=x;const v=Em({inputs:{x:i},backend:a,attrs:{begin:p,size:m}}),k=ct({inputs:{x:v},backend:a,attrs:{shape:l}});g[x]=k,d.push(v)}return d.forEach(x=>a.disposeIntermediateTensorInfo(x)),g}const GOe={kernelName:h_,backendName:"webgl",kernelFunc:zOe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UOe{constructor(e,a){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,s=e.inSize,i=e.numSegments,o=i*Math.ceil(s/n);this.outputShape=[r,o];const c="0.0",l="sumValue",u=Math.floor(n/4)*4,d=n%4,p=`
        sumValue += dot(values, segFilter);
    `;let m="";s%n>0&&(m=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return initializationValue;
        }
      `);let g="";s%n>0&&(g=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${c};

      float getValue(int batch, int inIdx) {
        ${m}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${g}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${i})) * float(${n}));
        int currentSeg = int(mod(float(outIdx), float(${i})));

        float sumValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${p}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${p}
        } else if (${d===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${p}
        } else if (${d===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${p}
        }
        setOutput(${l});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WOe(t){const{inputs:e,backend:a,attrs:n}=t,{x:r,segmentIds:s}=e,{numSegments:i}=n,o=r.shape.length,c=[];let l=0;const u=kn([l],o);let d=r;u!=null&&(d=ys({inputs:{x:r},backend:a,attrs:{perm:u}}),c.push(d),l=Bn(1,o)[0]);const p=UU(d.shape,l,i),m=Me([d.shape[l]]),g=ct({inputs:{x:d},backend:a,attrs:{shape:[-1,m]}});c.push(g);const x=HI(r.dtype),v=(A,S,C,E,R)=>{const I=A.shape[0],P=A.shape[1],D=GU(P,R),B={windowSize:D,inSize:P,batchSize:I,numSegments:R},U=new UOe(B,S),V=a.compileAndRun(U,[A,C],E);if(c.push(V),V.shape[1]===R)return V;const j=lj({backend:a,attrs:{start:0,stop:R,step:1,dtype:"float32"}}),W=uj({inputs:{x:j},backend:a,attrs:{reps:[P/D]}});return c.push(j),c.push(W),v(V,S,W,E,R)},k=v(g,"unsortedSegmentSum",s,x,i),b=ct({inputs:{x:k},backend:a,attrs:{shape:p}});let _=b;if(u!=null){c.push(b);const A=Hu(u);_=ys({inputs:{x:_},backend:a,attrs:{perm:A}})}return c.forEach(A=>a.disposeIntermediateTensorInfo(A)),_}const VOe={kernelName:p_,backendName:"webgl",kernelFunc:WOe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jOe=[EEe,IEe,PEe,$Ee,MEe,GEe,WEe,jEe,XEe,ZEe,eCe,nCe,iCe,uCe,hCe,mCe,yCe,wCe,_Ce,NCe,CCe,$Ce,MCe,UCe,VCe,YCe,JCe,aIe,fEe,sIe,uIe,pIe,kIe,_Ie,NIe,TIe,CIe,PIe,$Ie,BIe,GIe,WIe,jIe,qIe,YIe,e3e,a3e,s3e,c3e,u3e,p3e,v3e,b3e,N3e,E3e,C3e,R3e,P3e,O3e,L3e,B3e,W3e,H3e,X3e,Z3e,eRe,nRe,oRe,fRe,uEe,hRe,cIe,gRe,xRe,bRe,hEe,SRe,IRe,DRe,$Re,BRe,WRe,HRe,YRe,eDe,nDe,sDe,lDe,fDe,hDe,yDe,xDe,wDe,_De,NDe,CDe,PDe,LDe,jDe,gEe,XDe,JDe,tPe,rPe,HCe,oPe,lPe,fPe,pPe,vPe,mEe,kPe,bPe,APe,SPe,TPe,KCe,GDe,IPe,FPe,MPe,vEe,UPe,jPe,XPe,JPe,aFe,rFe,oFe,uFe,hFe,gFe,xFe,bFe,SFe,CFe,PFe,$Fe,FCe,WDe,BFe,GFe,WFe,jFe,KFe,XFe,ZFe,QFe,tOe,rOe,iOe,cOe,uOe,hOe,mOe,yOe,xOe,UDe,NEe,bOe,NOe,TOe,IOe,FOe,LOe,SEe,BOe,GOe,VOe,cPe];for(const t of jOe)hz(t);const Wf=class Wf{constructor(){mo(this,"model",null);mo(this,"modelLoading",null);mo(this,"numClass",1)}static getInstance(){return Wf.instance||(Wf.instance=new Wf),Wf.instance}async loadModel(e="/model/model.json"){if(!this.model)return this.modelLoading?this.modelLoading:(this.modelLoading=new Promise((a,n)=>{Sxe(e).then(r=>{this.model=r,console.log("Model loaded successfully"),a()}).catch(r=>{console.error("Error loading model:",r),this.modelLoading=null,n(r)})}),this.modelLoading)}isModelLoaded(){return!!this.model}preprocessImage(e,a,n){const r=e.width,s=e.height,i=Math.max(r,s),o=i,c=i;return{input:Ne(()=>{const d=Wme(e).pad([[0,i-s],[0,i-r],[0,0]]);return Ki.resizeBilinear(d,[a,n]).div(255).expandDims(0)}),originalWidth:r,originalHeight:s,paddedWidth:o,paddedHeight:c}}async fileToImage(e){return new Promise((a,n)=>{if(!e.type.startsWith("image/"))return n(new Error("Invalid file type"));const r=new FileReader;r.onload=()=>{const s=new Image;s.src=r.result,s.onload=()=>{a(s)},s.onerror=i=>{n(i)}},r.onerror=s=>{n(s)},r.readAsDataURL(e)})}async detectSingleImage(e){if(!this.model)throw new Error("Model not loaded");const a=640,n=640,r=.1,s=.1,{input:i,originalWidth:o,originalHeight:c,paddedWidth:l,paddedHeight:u}=this.preprocessImage(e,a,n);try{Ui().startScope();const d=this.model.predict(i),[p,m,g]=Ne(()=>{let C;d.shape.length===3&&d.shape[0]===1?C=d.squeeze([0]):C=d;const R=C.slice([0,0],[4,-1]).transpose(),I=R.slice([0,0],[-1,1]),P=R.slice([0,1],[-1,1]),D=R.slice([0,2],[-1,1]),B=R.slice([0,3],[-1,1]),U=pt(I,wt(D,2)),V=pt(P,wt(B,2)),j=qe(U,D),W=qe(V,B),Q=En([V,U,W,j],1),q=C.slice([4,0],[1,-1]).squeeze(),Z=C.slice([5,0],[this.numClass,-1]),M=q,se=md(Z,0);return[Q,M,se]}),x=await Ki.nonMaxSuppressionAsync(p,m,100,s,r),v=Ne(()=>En([p.gather(x,0),m.gather(x,0).expandDims(1),g.gather(x,0).expandDims(1)],1)),k=v.dataSync(),b=v.shape[0],_=[],A=o/l,S=c/u;for(let C=0;C<b;C++){const E=C*6,R=k[E],I=k[E+1],P=k[E+2],D=k[E+3],B=k[E+4],U=k[E+5],V=I*o/640/A,j=R*c/640/S,W=D*o/640/A,Q=P*c/640/S,q=[[V,j],[W,j],[W,Q],[V,Q]];_.push({points:q,confidence:B*100,class:"pokemon_card",label:U})}return _}finally{i.dispose(),Ui().endScope()}}async detectImages(e){this.model||await this.loadModel();const a=[];for(let n=0;n<e.length;n++)try{const r=await this.fileToImage(e[n]),s=await this.detectSingleImage(r);a.push({imageIndex:n,detections:s})}catch(r){console.error(`Error detecting objects in image ${n}:`,r),a.push({imageIndex:n,detections:[]})}return a}};mo(Wf,"instance");let RE=Wf;const HOe=({onDetectionComplete:t,modelPath:e="/model/model.json"})=>{const{user:a}=F.use(Al),{ownedCards:n,setOwnedCards:r}=F.use(Ey),s=F.useRef(null),[i,o]=F.useState(!1),[c,l]=F.useState(!1),[u,d]=F.useState(!1),[p,m]=F.useState("0%"),[g,x]=F.useState([]),[v,k]=F.useState(1),[b,_]=F.useState(!1),[A,S]=F.useState(!1),[C,E]=F.useState(!1),R=RE.getInstance();F.useEffect(()=>{i&&(I().catch(console.error),U().catch(console.error))},[e,i]);const I=async()=>{try{l(!0),await R.loadModel(e),console.log("Model loaded successfully")}catch(ge){console.error("Error loading model:",ge)}finally{l(!1)}},P=Zk.getInstance(),D=DT.getInstance(),B=F.useMemo(()=>$p.reduce((ge,G)=>(ge.some(te=>te.card_id===G.card_id)||ge.push(G),ge),[]),[$p]),U=async()=>{try{if(d(!0),await D.initDB(),await D.getHashCount()!==B.length){console.log("Checking and generating missing card hashes...");const G=80,te=B.length,ee=[],ne=await D.getAllHashes();for(let be=0;be<te;be+=G){const Ae=B.slice(be,be+G).map(async Ve=>{var tt;try{const lt=ne.find(Ft=>Ft.id===Ve.card_id);if(lt)return lt;const Mt=await P.calculatePerceptualHash(`/images/${(tt=Ve.image)==null?void 0:tt.split("/").at(-1)}`);return{id:Ve.card_id,hash:Mt}}catch(lt){return console.error(`Error generating hash for card ${Ve.card_id}:`,lt),null}}),$e=(await Promise.all(Ae)).filter(Ve=>Ve!==null);ee.push(...$e),await new Promise(Ve=>setTimeout(Ve,0));const He=(Math.min(be+G,te)/te*100).toFixed(0);m(`${He}%`)}await D.storeHashes(ee),console.log("All missing hashes generated and stored")}else console.log("Using stored hashes from IndexDB")}catch(ge){console.error("Error in hash generation/storage:",ge)}finally{d(!1)}},V=async(ge,G)=>{if(!ge.type.startsWith("image/"))throw new Error("Invalid file type");const te=new Image,ee=URL.createObjectURL(ge),ne=Zk.getInstance();return new Promise(be=>{if(te.onload=async()=>{const Y=document.createElement("canvas"),Ae=Y.getContext("2d"),Oe=await D.getAllHashes(),$e=await Promise.all(G.detections.filter(He=>He.confidence>=50).map(async He=>{var La;const Ve=He.points,[tt,lt]=Ve[0],[Mt,Ft]=Ve[2],st=Mt-tt,Be=Ft-lt;Y.width=st,Y.height=Be,Ae==null||Ae.drawImage(te,tt,lt,st,Be,0,0,st,Be);const Fe=Y.toDataURL("image/png"),It=await ne.calculatePerceptualHash(Fe),Rt=Oe.map(it=>{const jt=ne.calculateHammingDistance(It,it.hash),Ht=B.find(Wt=>Wt.card_id===it.id);return{id:it.id,distance:jt,card:Ht}}).sort((it,jt)=>it.distance-jt.distance).slice(0,5),$a=Rt[0];return{imageUrl:Fe,confidence:He.confidence,hash:It,matchedCard:$a?{id:$a.id,distance:$a.distance,imageUrl:`/images/${(La=$a.card.image)==null?void 0:La.split("/").at(-1)}`}:void 0,topMatches:Rt,selected:!0}}));URL.revokeObjectURL(ee),be($e)},ee.startsWith("blob:"))te.src=ee;else throw console.error("Invalid image URL:",ee),URL.revokeObjectURL(ee),new Error("Invalid image URL")})},j=async ge=>{S(!0);const G=ge.target.files;if(!G||G.length===0)return;const te=Array.from(G).filter(ee=>ee.type.startsWith("image/"));if(te.length!==0)try{R.isModelLoaded()||await R.loadModel(e);const ee=await R.detectImages(te);console.log(ee);const ne=[];for(let be=0;be<te.length;be++){const Y=await V(te[be],ee[be]);ne.push(...Y)}x(ne),console.log(ne),t&&t(ee)}catch(ee){console.error("Error during detection:",ee)}finally{S(!1)}},W=(ge,G)=>{x(te=>{const ee=[...te];return ee[ge]={...ee[ge],selected:G},ee})},Q=()=>{x(ge=>ge.map(G=>({...G,selected:!0})))},q=()=>{x(ge=>ge.map(G=>({...G,selected:!1})))},Z=g.filter(ge=>ge.selected).length,M=()=>{v>0&&k(ge=>ge-1)},se=()=>{k(ge=>ge+1)},ue=(ge,G)=>{x(te=>{var be;const ee=[...te],ne=ee[ge];if(ne.topMatches){const Y=ne.topMatches.find(Ae=>Ae.id===G);Y&&(ee[ge]={...ne,matchedCard:{id:Y.id,distance:Y.distance,imageUrl:`/images/${(be=Y.card.image)==null?void 0:be.split("/").at(-1)}`}})}return ee})},le=ge=>{const G=ge.target.value.trim();if(G==="")k(0);else{const te=Number(G);Number.isNaN(te)||k(te<0?0:te)}},ie=async()=>{E(!0);const ge=g.filter(G=>G.selected&&G.matchedCard).map(G=>{var te;return(te=G.matchedCard)==null?void 0:te.id});if(ge.length>0)try{await Une(ge.filter(G=>G!==void 0),v,n,r,a),o(!1),x([]),k(1),_(!1)}catch(G){console.error("Error incrementing card quantities:",G)}E(!1)},ye=(ge,G)=>L.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all duration-200 ${ge.selected?"border-blue-300 bg-blue-50 dark:bg-blue-900/70":"border-gray-200 grayscale"}`,onClick:()=>W(G,!ge.selected),children:L.jsxs("div",{className:"flex flex-col items-center",children:[ge.matchedCard&&ge.topMatches&&b&&L.jsxs("div",{className:"mt-2 mb-2 w-full",children:[L.jsx("p",{className:"text-sm font-medium mb-4",children:"Other potential matches:"}),L.jsx("div",{className:"grid grid-cols-4 gap-1",children:ge.topMatches.filter(te=>{var ee;return te.id!==((ee=ge.matchedCard)==null?void 0:ee.id)}).map(te=>{var ee;return L.jsxs("div",{className:"p-1 border rounded cursor-pointer hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transform hover:scale-150 hover:z-50 transition-all duration-200 ease-in-out",onClick:ne=>{ne.stopPropagation(),ue(G,te.id)},title:te.card.name,children:[L.jsx("img",{src:`/images/${(ee=te.card.image)==null?void 0:ee.split("/").at(-1)}`,alt:te.card.name,className:"w-full h-auto object-contain"}),L.jsxs("div",{className:"text-xs text-center mt-1 bg-black/60 text-white py-0.5 rounded",children:[(100-te.distance/128*100).toFixed(0),"%"]})]},te.id)})})]}),L.jsxs("div",{className:"flex w-full gap-2 mb-2",children:[L.jsxs("div",{className:"w-1/2 relative",children:[L.jsx("img",{src:ge.imageUrl,alt:`Detected card ${G+1}`,className:"w-full h-auto object-contain"}),L.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs px-1 py-0.5 text-center",children:"Extracted Card"})]}),ge.matchedCard&&L.jsxs("div",{className:"w-1/2 relative",children:[L.jsx("img",{src:ge.matchedCard.imageUrl,alt:"Best match",className:"w-full h-auto object-contain"}),L.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-green-500/80 text-white text-xs px-1 py-0.5 text-center",children:[(100-ge.matchedCard.distance/128*100).toFixed(0),"% match"]})]})]}),L.jsx("div",{className:"flex justify-between items-center mb-2 w-full",children:L.jsxs("span",{className:"text-sm font-medium",children:[ge.selected?"Selected":"Click to select"," ",ge.matchedCard&&ge.topMatches&&ge.topMatches.filter(te=>{var ee;return te.id===((ee=ge.matchedCard)==null?void 0:ee.id)}).map(te=>te.card.name).join(" ")]})})]})},G),ke=()=>L.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),L.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]});return L.jsxs("div",{className:"pokemon-card-detector flex justify-end",children:[L.jsx(rn,{onClick:()=>o(!0),variant:"ghost",children:"Scan"}),L.jsx(Sk,{open:i,onOpenChange:o,children:L.jsx(LC,{className:"DialogOverlay",children:L.jsxs(sg,{className:"DialogContent max-w-4xl",children:[L.jsx(ig,{children:L.jsx(og,{children:"Pokemon card scanner"})}),!c&&!u&&g.length===0&&L.jsxs("div",{className:"file-input-container flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-900/10",onClick:()=>{var ge;return(ge=s.current)==null?void 0:ge.click()},children:[L.jsx(RT,{children:L.jsx("p",{className:"mb-4 text-center",children:"You can upload multiple images at once. The system will scan each image for Pokemon cards and display the results. You can verify the matches, select or deselect detected cards, and choose how much to increment the quantity for selected cards."})}),L.jsx("input",{type:"file",ref:s,onChange:j,accept:"image/*",multiple:!0,disabled:c,className:"w-full hidden"}),L.jsxs(rn,{variant:"outline",className:"mt-2",disabled:A,children:[A&&L.jsx(ke,{})," Select images"]})]}),(c||u)&&L.jsx(rz,{variant:"default",children:L.jsx(RT,{children:L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx(ke,{}),L.jsxs("p",{children:["Downloading and initializing scan model, please wait... (",p,")"]})]})})}),!c&&g.length>0&&L.jsxs("div",{children:[L.jsxs("div",{className:"flex gap-2 justify-between my-4 flex-wrap",children:[L.jsx(rn,{variant:"outline",onClick:q,className:"hidden sm:block",children:"Deselect all"}),L.jsxs(rn,{variant:"outline",onClick:()=>_(ge=>!ge),children:[b?"Hide":"Show"," edit matches"]}),L.jsx(rn,{variant:"outline",onClick:Q,className:"hidden sm:block",children:"Select all"})]}),L.jsx("div",{className:"grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-4",children:g.map((ge,G)=>ye(ge,G))}),L.jsxs("div",{className:"flex flex-col items-center gap-2",children:[L.jsx("p",{className:"text-sm font-medium pt-4",children:"Set increment for selected cards"}),L.jsxs("div",{className:"flex items-center gap-x-1",children:[L.jsx(rn,{variant:"ghost",size:"icon",onClick:M,disabled:v===0,className:"rounded-full",children:L.jsx(TC,{size:14})}),L.jsx("input",{type:"text",min:"0",value:v,onChange:le,placeholder:"Enter amount",className:"w-10 text-center border-none rounded",onFocus:ge=>ge.target.select()}),L.jsx(rn,{variant:"ghost",size:"icon",onClick:se,className:"rounded-full",children:L.jsx(j6,{size:14})})]})]})]}),L.jsxs(sz,{className:"gap-y-4",children:[L.jsx(rn,{variant:"outline",onClick:()=>{o(!1),g.length>0&&(x([]),k(1),_(!1))},children:g.length>0?"Cancel":"Close"}),g.length>0&&L.jsx(rn,{onClick:ie,disabled:Z===0||C||c,variant:"default",children:C?L.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),L.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}):"Update selected cards"})]})]})})})]})};function ev(t){const e=t+"CollectionProvider",[a,n]=zu(e),[r,s]=a(e,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:g,children:x}=m,v=rs.useRef(null),k=rs.useRef(new Map).current;return L.jsx(r,{scope:g,itemMap:k,collectionRef:v,children:x})};i.displayName=e;const o=t+"CollectionSlot",c=rs.forwardRef((m,g)=>{const{scope:x,children:v}=m,k=s(o,x),b=vn(g,k.collectionRef);return L.jsx(rd,{ref:b,children:v})});c.displayName=o;const l=t+"CollectionItemSlot",u="data-radix-collection-item",d=rs.forwardRef((m,g)=>{const{scope:x,children:v,...k}=m,b=rs.useRef(null),_=vn(g,b),A=s(l,x);return rs.useEffect(()=>(A.itemMap.set(b,{ref:b,...k}),()=>void A.itemMap.delete(b))),L.jsx(rd,{[u]:"",ref:_,children:v})});d.displayName=l;function p(m){const g=s(t+"CollectionConsumer",m);return rs.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const k=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((A,S)=>k.indexOf(A.ref.current)-k.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:d},p,n]}var KOe=F.createContext(void 0);function KR(t){const e=F.useContext(KOe);return t||e||"ltr"}const qOe=["top","right","bottom","left"],Du=Math.min,li=Math.max,Tw=Math.round,ak=Math.floor,vc=t=>({x:t,y:t}),XOe={left:"right",right:"left",bottom:"top",top:"bottom"},YOe={start:"end",end:"start"};function DE(t,e,a){return li(t,Du(e,a))}function xl(t,e){return typeof t=="function"?t(e):t}function kl(t){return t.split("-")[0]}function Cm(t){return t.split("-")[1]}function qR(t){return t==="x"?"y":"x"}function XR(t){return t==="y"?"height":"width"}function Pu(t){return["top","bottom"].includes(kl(t))?"y":"x"}function YR(t){return qR(Pu(t))}function ZOe(t,e,a){a===void 0&&(a=!1);const n=Cm(t),r=YR(t),s=XR(r);let i=r==="x"?n===(a?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=Ew(i)),[i,Ew(i)]}function JOe(t){const e=Ew(t);return[PE(t),e,PE(e)]}function PE(t){return t.replace(/start|end/g,e=>YOe[e])}function QOe(t,e,a){const n=["left","right"],r=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return a?e?r:n:e?n:r;case"left":case"right":return e?s:i;default:return[]}}function e4e(t,e,a,n){const r=Cm(t);let s=QOe(kl(t),a==="start",n);return r&&(s=s.map(i=>i+"-"+r),e&&(s=s.concat(s.map(PE)))),s}function Ew(t){return t.replace(/left|right|bottom|top/g,e=>XOe[e])}function t4e(t){return{top:0,right:0,bottom:0,left:0,...t}}function fj(t){return typeof t!="number"?t4e(t):{top:t,right:t,bottom:t,left:t}}function Cw(t){const{x:e,y:a,width:n,height:r}=t;return{width:n,height:r,top:a,left:e,right:e+n,bottom:a+r,x:e,y:a}}function MM(t,e,a){let{reference:n,floating:r}=t;const s=Pu(e),i=YR(e),o=XR(i),c=kl(e),l=s==="y",u=n.x+n.width/2-r.width/2,d=n.y+n.height/2-r.height/2,p=n[o]/2-r[o]/2;let m;switch(c){case"top":m={x:u,y:n.y-r.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-r.width,y:d};break;default:m={x:n.x,y:n.y}}switch(Cm(e)){case"start":m[i]-=p*(a&&l?-1:1);break;case"end":m[i]+=p*(a&&l?-1:1);break}return m}const a4e=async(t,e,a)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:i}=a,o=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let l=await i.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=MM(l,n,c),p=n,m={},g=0;for(let x=0;x<o.length;x++){const{name:v,fn:k}=o[x],{x:b,y:_,data:A,reset:S}=await k({x:u,y:d,initialPlacement:n,placement:p,strategy:r,middlewareData:m,rects:l,platform:i,elements:{reference:t,floating:e}});u=b??u,d=_??d,m={...m,[v]:{...m[v],...A}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(l=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:r}):S.rects),{x:u,y:d}=MM(l,p,c)),x=-1)}return{x:u,y:d,placement:p,strategy:r,middlewareData:m}};async function ey(t,e){var a;e===void 0&&(e={});const{x:n,y:r,platform:s,rects:i,elements:o,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=xl(e,t),g=fj(m),v=o[p?d==="floating"?"reference":"floating":d],k=Cw(await s.getClippingRect({element:(a=await(s.isElement==null?void 0:s.isElement(v)))==null||a?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:l,rootBoundary:u,strategy:c})),b=d==="floating"?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),A=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=Cw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:_,strategy:c}):b);return{top:(k.top-S.top+g.top)/A.y,bottom:(S.bottom-k.bottom+g.bottom)/A.y,left:(k.left-S.left+g.left)/A.x,right:(S.right-k.right+g.right)/A.x}}const n4e=t=>({name:"arrow",options:t,async fn(e){const{x:a,y:n,placement:r,rects:s,platform:i,elements:o,middlewareData:c}=e,{element:l,padding:u=0}=xl(t,e)||{};if(l==null)return{};const d=fj(u),p={x:a,y:n},m=YR(r),g=XR(m),x=await i.getDimensions(l),v=m==="y",k=v?"top":"left",b=v?"bottom":"right",_=v?"clientHeight":"clientWidth",A=s.reference[g]+s.reference[m]-p[m]-s.floating[g],S=p[m]-s.reference[m],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l));let E=C?C[_]:0;(!E||!await(i.isElement==null?void 0:i.isElement(C)))&&(E=o.floating[_]||s.floating[g]);const R=A/2-S/2,I=E/2-x[g]/2-1,P=Du(d[k],I),D=Du(d[b],I),B=P,U=E-x[g]-D,V=E/2-x[g]/2+R,j=DE(B,V,U),W=!c.arrow&&Cm(r)!=null&&V!==j&&s.reference[g]/2-(V<B?P:D)-x[g]/2<0,Q=W?V<B?V-B:V-U:0;return{[m]:p[m]+Q,data:{[m]:j,centerOffset:V-j-Q,...W&&{alignmentOffset:Q}},reset:W}}}),r4e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var a,n;const{placement:r,middlewareData:s,rects:i,initialPlacement:o,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...v}=xl(t,e);if((a=s.arrow)!=null&&a.alignmentOffset)return{};const k=kl(r),b=Pu(o),_=kl(o)===o,A=await(c.isRTL==null?void 0:c.isRTL(l.floating)),S=p||(_||!x?[Ew(o)]:JOe(o)),C=g!=="none";!p&&C&&S.push(...e4e(o,x,g,A));const E=[o,...S],R=await ey(e,v),I=[];let P=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&I.push(R[k]),d){const V=ZOe(r,i,A);I.push(R[V[0]],R[V[1]])}if(P=[...P,{placement:r,overflows:I}],!I.every(V=>V<=0)){var D,B;const V=(((D=s.flip)==null?void 0:D.index)||0)+1,j=E[V];if(j)return{data:{index:V,overflows:P},reset:{placement:j}};let W=(B=P.filter(Q=>Q.overflows[0]<=0).sort((Q,q)=>Q.overflows[1]-q.overflows[1])[0])==null?void 0:B.placement;if(!W)switch(m){case"bestFit":{var U;const Q=(U=P.filter(q=>{if(C){const Z=Pu(q.placement);return Z===b||Z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Z=>Z>0).reduce((Z,M)=>Z+M,0)]).sort((q,Z)=>q[1]-Z[1])[0])==null?void 0:U[0];Q&&(W=Q);break}case"initialPlacement":W=o;break}if(r!==W)return{reset:{placement:W}}}return{}}}};function BM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zM(t){return qOe.some(e=>t[e]>=0)}const s4e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:a}=e,{strategy:n="referenceHidden",...r}=xl(t,e);switch(n){case"referenceHidden":{const s=await ey(e,{...r,elementContext:"reference"}),i=BM(s,a.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:zM(i)}}}case"escaped":{const s=await ey(e,{...r,altBoundary:!0}),i=BM(s,a.floating);return{data:{escapedOffsets:i,escaped:zM(i)}}}default:return{}}}}};async function i4e(t,e){const{placement:a,platform:n,elements:r}=t,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),i=kl(a),o=Cm(a),c=Pu(a)==="y",l=["left","top"].includes(i)?-1:1,u=s&&c?-1:1,d=xl(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof g=="number"&&(m=o==="end"?g*-1:g),c?{x:m*u,y:p*l}:{x:p*l,y:m*u}}const o4e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var a,n;const{x:r,y:s,placement:i,middlewareData:o}=e,c=await i4e(e,t);return i===((a=o.offset)==null?void 0:a.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:i}}}}},c4e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:a,y:n,placement:r}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:o={fn:v=>{let{x:k,y:b}=v;return{x:k,y:b}}},...c}=xl(t,e),l={x:a,y:n},u=await ey(e,c),d=Pu(kl(r)),p=qR(d);let m=l[p],g=l[d];if(s){const v=p==="y"?"top":"left",k=p==="y"?"bottom":"right",b=m+u[v],_=m-u[k];m=DE(b,m,_)}if(i){const v=d==="y"?"top":"left",k=d==="y"?"bottom":"right",b=g+u[v],_=g-u[k];g=DE(b,g,_)}const x=o.fn({...e,[p]:m,[d]:g});return{...x,data:{x:x.x-a,y:x.y-n,enabled:{[p]:s,[d]:i}}}}}},l4e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:a,y:n,placement:r,rects:s,middlewareData:i}=e,{offset:o=0,mainAxis:c=!0,crossAxis:l=!0}=xl(t,e),u={x:a,y:n},d=Pu(r),p=qR(d);let m=u[p],g=u[d];const x=xl(o,e),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const _=p==="y"?"height":"width",A=s.reference[p]-s.floating[_]+v.mainAxis,S=s.reference[p]+s.reference[_]-v.mainAxis;m<A?m=A:m>S&&(m=S)}if(l){var k,b;const _=p==="y"?"width":"height",A=["top","left"].includes(kl(r)),S=s.reference[d]-s.floating[_]+(A&&((k=i.offset)==null?void 0:k[d])||0)+(A?0:v.crossAxis),C=s.reference[d]+s.reference[_]+(A?0:((b=i.offset)==null?void 0:b[d])||0)-(A?v.crossAxis:0);g<S?g=S:g>C&&(g=C)}return{[p]:m,[d]:g}}}},u4e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var a,n;const{placement:r,rects:s,platform:i,elements:o}=e,{apply:c=()=>{},...l}=xl(t,e),u=await ey(e,l),d=kl(r),p=Cm(r),m=Pu(r)==="y",{width:g,height:x}=s.floating;let v,k;d==="top"||d==="bottom"?(v=d,k=p===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(k=d,v=p==="end"?"top":"bottom");const b=x-u.top-u.bottom,_=g-u.left-u.right,A=Du(x-u[v],b),S=Du(g-u[k],_),C=!e.middlewareData.shift;let E=A,R=S;if((a=e.middlewareData.shift)!=null&&a.enabled.x&&(R=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=b),C&&!p){const P=li(u.left,0),D=li(u.right,0),B=li(u.top,0),U=li(u.bottom,0);m?R=g-2*(P!==0||D!==0?P+D:li(u.left,u.right)):E=x-2*(B!==0||U!==0?B+U:li(u.top,u.bottom))}await c({...e,availableWidth:R,availableHeight:E});const I=await i.getDimensions(o.floating);return g!==I.width||x!==I.height?{reset:{rects:!0}}:{}}}};function i2(){return typeof window<"u"}function Im(t){return dj(t)?(t.nodeName||"").toLowerCase():"#document"}function hi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rc(t){var e;return(e=(dj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dj(t){return i2()?t instanceof Node||t instanceof hi(t).Node:!1}function Mo(t){return i2()?t instanceof Element||t instanceof hi(t).Element:!1}function Ac(t){return i2()?t instanceof HTMLElement||t instanceof hi(t).HTMLElement:!1}function GM(t){return!i2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hi(t).ShadowRoot}function tv(t){const{overflow:e,overflowX:a,overflowY:n,display:r}=Bo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+a)&&!["inline","contents"].includes(r)}function f4e(t){return["table","td","th"].includes(Im(t))}function o2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ZR(t){const e=JR(),a=Mo(t)?Bo(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>a[n]?a[n]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!e&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!e&&(a.filter?a.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(a.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(a.contain||"").includes(n))}function d4e(t){let e=Fu(t);for(;Ac(e)&&!Zp(e);){if(ZR(e))return e;if(o2(e))return null;e=Fu(e)}return null}function JR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zp(t){return["html","body","#document"].includes(Im(t))}function Bo(t){return hi(t).getComputedStyle(t)}function c2(t){return Mo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fu(t){if(Im(t)==="html")return t;const e=t.assignedSlot||t.parentNode||GM(t)&&t.host||Rc(t);return GM(e)?e.host:e}function hj(t){const e=Fu(t);return Zp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ac(e)&&tv(e)?e:hj(e)}function ty(t,e,a){var n;e===void 0&&(e=[]),a===void 0&&(a=!0);const r=hj(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=hi(r);if(s){const o=FE(i);return e.concat(i,i.visualViewport||[],tv(r)?r:[],o&&a?ty(o):[])}return e.concat(r,ty(r,[],a))}function FE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pj(t){const e=Bo(t);let a=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Ac(t),s=r?t.offsetWidth:a,i=r?t.offsetHeight:n,o=Tw(a)!==s||Tw(n)!==i;return o&&(a=s,n=i),{width:a,height:n,$:o}}function QR(t){return Mo(t)?t:t.contextElement}function Cp(t){const e=QR(t);if(!Ac(e))return vc(1);const a=e.getBoundingClientRect(),{width:n,height:r,$:s}=pj(e);let i=(s?Tw(a.width):a.width)/n,o=(s?Tw(a.height):a.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const h4e=vc(0);function mj(t){const e=hi(t);return!JR()||!e.visualViewport?h4e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p4e(t,e,a){return e===void 0&&(e=!1),!a||e&&a!==hi(t)?!1:e}function Nd(t,e,a,n){e===void 0&&(e=!1),a===void 0&&(a=!1);const r=t.getBoundingClientRect(),s=QR(t);let i=vc(1);e&&(n?Mo(n)&&(i=Cp(n)):i=Cp(t));const o=p4e(s,a,n)?mj(s):vc(0);let c=(r.left+o.x)/i.x,l=(r.top+o.y)/i.y,u=r.width/i.x,d=r.height/i.y;if(s){const p=hi(s),m=n&&Mo(n)?hi(n):n;let g=p,x=FE(g);for(;x&&n&&m!==g;){const v=Cp(x),k=x.getBoundingClientRect(),b=Bo(x),_=k.left+(x.clientLeft+parseFloat(b.paddingLeft))*v.x,A=k.top+(x.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,l*=v.y,u*=v.x,d*=v.y,c+=_,l+=A,g=hi(x),x=FE(g)}}return Cw({width:u,height:d,x:c,y:l})}function eD(t,e){const a=c2(t).scrollLeft;return e?e.left+a:Nd(Rc(t)).left+a}function gj(t,e,a){a===void 0&&(a=!1);const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-(a?0:eD(t,n)),s=n.top+e.scrollTop;return{x:r,y:s}}function m4e(t){let{elements:e,rect:a,offsetParent:n,strategy:r}=t;const s=r==="fixed",i=Rc(n),o=e?o2(e.floating):!1;if(n===i||o&&s)return a;let c={scrollLeft:0,scrollTop:0},l=vc(1);const u=vc(0),d=Ac(n);if((d||!d&&!s)&&((Im(n)!=="body"||tv(i))&&(c=c2(n)),Ac(n))){const m=Nd(n);l=Cp(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const p=i&&!d&&!s?gj(i,c,!0):vc(0);return{width:a.width*l.x,height:a.height*l.y,x:a.x*l.x-c.scrollLeft*l.x+u.x+p.x,y:a.y*l.y-c.scrollTop*l.y+u.y+p.y}}function g4e(t){return Array.from(t.getClientRects())}function y4e(t){const e=Rc(t),a=c2(t),n=t.ownerDocument.body,r=li(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=li(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-a.scrollLeft+eD(t);const o=-a.scrollTop;return Bo(n).direction==="rtl"&&(i+=li(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:i,y:o}}function v4e(t,e){const a=hi(t),n=Rc(t),r=a.visualViewport;let s=n.clientWidth,i=n.clientHeight,o=0,c=0;if(r){s=r.width,i=r.height;const l=JR();(!l||l&&e==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}return{width:s,height:i,x:o,y:c}}function x4e(t,e){const a=Nd(t,!0,e==="fixed"),n=a.top+t.clientTop,r=a.left+t.clientLeft,s=Ac(t)?Cp(t):vc(1),i=t.clientWidth*s.x,o=t.clientHeight*s.y,c=r*s.x,l=n*s.y;return{width:i,height:o,x:c,y:l}}function UM(t,e,a){let n;if(e==="viewport")n=v4e(t,a);else if(e==="document")n=y4e(Rc(t));else if(Mo(e))n=x4e(e,a);else{const r=mj(t);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Cw(n)}function yj(t,e){const a=Fu(t);return a===e||!Mo(a)||Zp(a)?!1:Bo(a).position==="fixed"||yj(a,e)}function k4e(t,e){const a=e.get(t);if(a)return a;let n=ty(t,[],!1).filter(o=>Mo(o)&&Im(o)!=="body"),r=null;const s=Bo(t).position==="fixed";let i=s?Fu(t):t;for(;Mo(i)&&!Zp(i);){const o=Bo(i),c=ZR(i);!c&&o.position==="fixed"&&(r=null),(s?!c&&!r:!c&&o.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||tv(i)&&!c&&yj(t,i))?n=n.filter(u=>u!==i):r=o,i=Fu(i)}return e.set(t,n),n}function w4e(t){let{element:e,boundary:a,rootBoundary:n,strategy:r}=t;const i=[...a==="clippingAncestors"?o2(e)?[]:k4e(e,this._c):[].concat(a),n],o=i[0],c=i.reduce((l,u)=>{const d=UM(e,u,r);return l.top=li(d.top,l.top),l.right=Du(d.right,l.right),l.bottom=Du(d.bottom,l.bottom),l.left=li(d.left,l.left),l},UM(e,o,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function b4e(t){const{width:e,height:a}=pj(t);return{width:e,height:a}}function _4e(t,e,a){const n=Ac(e),r=Rc(e),s=a==="fixed",i=Nd(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=vc(0);if(n||!n&&!s)if((Im(e)!=="body"||tv(r))&&(o=c2(e)),n){const p=Nd(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else r&&(c.x=eD(r));const l=r&&!n&&!s?gj(r,o):vc(0),u=i.left+o.scrollLeft-c.x-l.x,d=i.top+o.scrollTop-c.y-l.y;return{x:u,y:d,width:i.width,height:i.height}}function CS(t){return Bo(t).position==="static"}function WM(t,e){if(!Ac(t)||Bo(t).position==="fixed")return null;if(e)return e(t);let a=t.offsetParent;return Rc(t)===a&&(a=a.ownerDocument.body),a}function vj(t,e){const a=hi(t);if(o2(t))return a;if(!Ac(t)){let r=Fu(t);for(;r&&!Zp(r);){if(Mo(r)&&!CS(r))return r;r=Fu(r)}return a}let n=WM(t,e);for(;n&&f4e(n)&&CS(n);)n=WM(n,e);return n&&Zp(n)&&CS(n)&&!ZR(n)?a:n||d4e(t)||a}const A4e=async function(t){const e=this.getOffsetParent||vj,a=this.getDimensions,n=await a(t.floating);return{reference:_4e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function N4e(t){return Bo(t).direction==="rtl"}const S4e={convertOffsetParentRelativeRectToViewportRelativeRect:m4e,getDocumentElement:Rc,getClippingRect:w4e,getOffsetParent:vj,getElementRects:A4e,getClientRects:g4e,getDimensions:b4e,getScale:Cp,isElement:Mo,isRTL:N4e};function xj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function T4e(t,e){let a=null,n;const r=Rc(t);function s(){var o;clearTimeout(n),(o=a)==null||o.disconnect(),a=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const l=t.getBoundingClientRect(),{left:u,top:d,width:p,height:m}=l;if(o||e(),!p||!m)return;const g=ak(d),x=ak(r.clientWidth-(u+p)),v=ak(r.clientHeight-(d+m)),k=ak(u),_={rootMargin:-g+"px "+-x+"px "+-v+"px "+-k+"px",threshold:li(0,Du(1,c))||1};let A=!0;function S(C){const E=C[0].intersectionRatio;if(E!==c){if(!A)return i();E?i(!1,E):n=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!xj(l,t.getBoundingClientRect())&&i(),A=!1}try{a=new IntersectionObserver(S,{..._,root:r.ownerDocument})}catch{a=new IntersectionObserver(S,_)}a.observe(t)}return i(!0),s}function E4e(t,e,a,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=QR(t),u=r||s?[...l?ty(l):[],...ty(e)]:[];u.forEach(k=>{r&&k.addEventListener("scroll",a,{passive:!0}),s&&k.addEventListener("resize",a)});const d=l&&o?T4e(l,a):null;let p=-1,m=null;i&&(m=new ResizeObserver(k=>{let[b]=k;b&&b.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),a()}),l&&!c&&m.observe(l),m.observe(e));let g,x=c?Nd(t):null;c&&v();function v(){const k=Nd(t);x&&!xj(x,k)&&a(),x=k,g=requestAnimationFrame(v)}return a(),()=>{var k;u.forEach(b=>{r&&b.removeEventListener("scroll",a),s&&b.removeEventListener("resize",a)}),d==null||d(),(k=m)==null||k.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const C4e=o4e,I4e=c4e,R4e=r4e,D4e=u4e,P4e=s4e,VM=n4e,F4e=l4e,O4e=(t,e,a)=>{const n=new Map,r={platform:S4e,...a},s={...r.platform,_c:n};return a4e(t,e,{...r,platform:s})};var Mk=typeof document<"u"?F.useLayoutEffect:F.useEffect;function Iw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let a,n,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==e.length)return!1;for(n=a;n--!==0;)if(!Iw(t[n],e[n]))return!1;return!0}if(r=Object.keys(t),a=r.length,a!==Object.keys(e).length)return!1;for(n=a;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=a;n--!==0;){const s=r[n];if(!(s==="_owner"&&t.$$typeof)&&!Iw(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function kj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jM(t,e){const a=kj(t);return Math.round(e*a)/a}function IS(t){const e=F.useRef(t);return Mk(()=>{e.current=t}),e}function $4e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:a="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:c,open:l}=t,[u,d]=F.useState({x:0,y:0,strategy:a,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=F.useState(n);Iw(p,n)||m(n);const[g,x]=F.useState(null),[v,k]=F.useState(null),b=F.useCallback(q=>{q!==C.current&&(C.current=q,x(q))},[]),_=F.useCallback(q=>{q!==E.current&&(E.current=q,k(q))},[]),A=s||g,S=i||v,C=F.useRef(null),E=F.useRef(null),R=F.useRef(u),I=c!=null,P=IS(c),D=IS(r),B=IS(l),U=F.useCallback(()=>{if(!C.current||!E.current)return;const q={placement:e,strategy:a,middleware:p};D.current&&(q.platform=D.current),O4e(C.current,E.current,q).then(Z=>{const M={...Z,isPositioned:B.current!==!1};V.current&&!Iw(R.current,M)&&(R.current=M,sb.flushSync(()=>{d(M)}))})},[p,e,a,D,B]);Mk(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(q=>({...q,isPositioned:!1})))},[l]);const V=F.useRef(!1);Mk(()=>(V.current=!0,()=>{V.current=!1}),[]),Mk(()=>{if(A&&(C.current=A),S&&(E.current=S),A&&S){if(P.current)return P.current(A,S,U);U()}},[A,S,U,P,I]);const j=F.useMemo(()=>({reference:C,floating:E,setReference:b,setFloating:_}),[b,_]),W=F.useMemo(()=>({reference:A,floating:S}),[A,S]),Q=F.useMemo(()=>{const q={position:a,left:0,top:0};if(!W.floating)return q;const Z=jM(W.floating,u.x),M=jM(W.floating,u.y);return o?{...q,transform:"translate("+Z+"px, "+M+"px)",...kj(W.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:Z,top:M}},[a,o,W.floating,u.x,u.y]);return F.useMemo(()=>({...u,update:U,refs:j,elements:W,floatingStyles:Q}),[u,U,j,W,Q])}const L4e=t=>{function e(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:n,padding:r}=typeof t=="function"?t(a):t;return n&&e(n)?n.current!=null?VM({element:n.current,padding:r}).fn(a):{}:n?VM({element:n,padding:r}).fn(a):{}}}},M4e=(t,e)=>({...C4e(t),options:[t,e]}),B4e=(t,e)=>({...I4e(t),options:[t,e]}),z4e=(t,e)=>({...F4e(t),options:[t,e]}),G4e=(t,e)=>({...R4e(t),options:[t,e]}),U4e=(t,e)=>({...D4e(t),options:[t,e]}),W4e=(t,e)=>({...P4e(t),options:[t,e]}),V4e=(t,e)=>({...L4e(t),options:[t,e]});var j4e="Arrow",wj=F.forwardRef((t,e)=>{const{children:a,width:n=10,height:r=5,...s}=t;return L.jsx(ka.svg,{...s,ref:e,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:L.jsx("polygon",{points:"0,0 30,0 15,10"})})});wj.displayName=j4e;var H4e=wj;function K4e(t){const[e,a]=F.useState(void 0);return Do(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let i,o;if("borderBoxSize"in s){const c=s.borderBoxSize,l=Array.isArray(c)?c[0]:c;i=l.inlineSize,o=l.blockSize}else i=t.offsetWidth,o=t.offsetHeight;a({width:i,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else a(void 0)},[t]),e}var tD="Popper",[bj,_j]=zu(tD),[q4e,Aj]=bj(tD),Nj=t=>{const{__scopePopper:e,children:a}=t,[n,r]=F.useState(null);return L.jsx(q4e,{scope:e,anchor:n,onAnchorChange:r,children:a})};Nj.displayName=tD;var Sj="PopperAnchor",Tj=F.forwardRef((t,e)=>{const{__scopePopper:a,virtualRef:n,...r}=t,s=Aj(Sj,a),i=F.useRef(null),o=vn(e,i);return F.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:L.jsx(ka.div,{...r,ref:o})});Tj.displayName=Sj;var aD="PopperContent",[X4e,Y4e]=bj(aD),Ej=F.forwardRef((t,e)=>{var ge,G,te,ee,ne,be;const{__scopePopper:a,side:n="bottom",sideOffset:r=0,align:s="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:g,...x}=t,v=Aj(aD,a),[k,b]=F.useState(null),_=vn(e,Y=>b(Y)),[A,S]=F.useState(null),C=K4e(A),E=(C==null?void 0:C.width)??0,R=(C==null?void 0:C.height)??0,I=n+(s!=="center"?"-"+s:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(l)?l:[l],B=D.length>0,U={padding:P,boundary:D.filter(J4e),altBoundary:B},{refs:V,floatingStyles:j,placement:W,isPositioned:Q,middlewareData:q}=$4e({strategy:"fixed",placement:I,whileElementsMounted:(...Y)=>E4e(...Y,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[M4e({mainAxis:r+R,alignmentAxis:i}),c&&B4e({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?z4e():void 0,...U}),c&&G4e({...U}),U4e({...U,apply:({elements:Y,rects:Ae,availableWidth:Oe,availableHeight:$e})=>{const{width:He,height:Ve}=Ae.reference,tt=Y.floating.style;tt.setProperty("--radix-popper-available-width",`${Oe}px`),tt.setProperty("--radix-popper-available-height",`${$e}px`),tt.setProperty("--radix-popper-anchor-width",`${He}px`),tt.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),A&&V4e({element:A,padding:o}),Q4e({arrowWidth:E,arrowHeight:R}),p&&W4e({strategy:"referenceHidden",...U})]}),[Z,M]=Rj(W),se=$n(g);Do(()=>{Q&&(se==null||se())},[Q,se]);const ue=(ge=q.arrow)==null?void 0:ge.x,le=(G=q.arrow)==null?void 0:G.y,ie=((te=q.arrow)==null?void 0:te.centerOffset)!==0,[ye,ke]=F.useState();return Do(()=>{k&&ke(window.getComputedStyle(k).zIndex)},[k]),L.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:Q?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(ee=q.transformOrigin)==null?void 0:ee.x,(ne=q.transformOrigin)==null?void 0:ne.y].join(" "),...((be=q.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:L.jsx(X4e,{scope:a,placedSide:Z,onArrowChange:S,arrowX:ue,arrowY:le,shouldHideArrow:ie,children:L.jsx(ka.div,{"data-side":Z,"data-align":M,...x,ref:_,style:{...x.style,animation:Q?void 0:"none"}})})})});Ej.displayName=aD;var Cj="PopperArrow",Z4e={top:"bottom",right:"left",bottom:"top",left:"right"},Ij=F.forwardRef(function(e,a){const{__scopePopper:n,...r}=e,s=Y4e(Cj,n),i=Z4e[s.placedSide];return L.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:L.jsx(H4e,{...r,ref:a,style:{...r.style,display:"block"}})})});Ij.displayName=Cj;function J4e(t){return t!==null}var Q4e=t=>({name:"transformOrigin",options:t,fn(e){var v,k,b;const{placement:a,rects:n,middlewareData:r}=e,i=((v=r.arrow)==null?void 0:v.centerOffset)!==0,o=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[l,u]=Rj(a),d={start:"0%",center:"50%",end:"100%"}[u],p=(((k=r.arrow)==null?void 0:k.x)??0)+o/2,m=(((b=r.arrow)==null?void 0:b.y)??0)+c/2;let g="",x="";return l==="bottom"?(g=i?d:`${p}px`,x=`${-c}px`):l==="top"?(g=i?d:`${p}px`,x=`${n.floating.height+c}px`):l==="right"?(g=`${-c}px`,x=i?d:`${m}px`):l==="left"&&(g=`${n.floating.width+c}px`,x=i?d:`${m}px`),{data:{x:g,y:x}}}});function Rj(t){const[e,a="center"]=t.split("-");return[e,a]}var e$e=Nj,t$e=Tj,a$e=Ej,n$e=Ij,RS="rovingFocusGroup.onEntryFocus",r$e={bubbles:!1,cancelable:!0},l2="RovingFocusGroup",[OE,Dj,s$e]=ev(l2),[i$e,Pj]=zu(l2,[s$e]),[o$e,c$e]=i$e(l2),Fj=F.forwardRef((t,e)=>L.jsx(OE.Provider,{scope:t.__scopeRovingFocusGroup,children:L.jsx(OE.Slot,{scope:t.__scopeRovingFocusGroup,children:L.jsx(l$e,{...t,ref:e})})}));Fj.displayName=l2;var l$e=F.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:a,orientation:n,loop:r=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...d}=t,p=F.useRef(null),m=vn(e,p),g=KR(s),[x=null,v]=um({prop:i,defaultProp:o,onChange:c}),[k,b]=F.useState(!1),_=$n(l),A=Dj(a),S=F.useRef(!1),[C,E]=F.useState(0);return F.useEffect(()=>{const R=p.current;if(R)return R.addEventListener(RS,_),()=>R.removeEventListener(RS,_)},[_]),L.jsx(o$e,{scope:a,orientation:n,dir:g,loop:r,currentTabStopId:x,onItemFocus:F.useCallback(R=>v(R),[v]),onItemShiftTab:F.useCallback(()=>b(!0),[]),onFocusableItemAdd:F.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:F.useCallback(()=>E(R=>R-1),[]),children:L.jsx(ka.div,{tabIndex:k||C===0?-1:0,"data-orientation":n,...d,ref:m,style:{outline:"none",...t.style},onMouseDown:kt(t.onMouseDown,()=>{S.current=!0}),onFocus:kt(t.onFocus,R=>{const I=!S.current;if(R.target===R.currentTarget&&I&&!k){const P=new CustomEvent(RS,r$e);if(R.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=A().filter(W=>W.focusable),B=D.find(W=>W.active),U=D.find(W=>W.id===x),j=[B,U,...D].filter(Boolean).map(W=>W.ref.current);Lj(j,u)}}S.current=!1}),onBlur:kt(t.onBlur,()=>b(!1))})})}),Oj="RovingFocusGroupItem",$j=F.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:a,focusable:n=!0,active:r=!1,tabStopId:s,...i}=t,o=fu(),c=s||o,l=c$e(Oj,a),u=l.currentTabStopId===c,d=Dj(a),{onFocusableItemAdd:p,onFocusableItemRemove:m}=l;return F.useEffect(()=>{if(n)return p(),()=>m()},[n,p,m]),L.jsx(OE.ItemSlot,{scope:a,id:c,focusable:n,active:r,children:L.jsx(ka.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...i,ref:e,onMouseDown:kt(t.onMouseDown,g=>{n?l.onItemFocus(c):g.preventDefault()}),onFocus:kt(t.onFocus,()=>l.onItemFocus(c)),onKeyDown:kt(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){l.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=d$e(g,l.orientation,l.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let k=d().filter(b=>b.focusable).map(b=>b.ref.current);if(x==="last")k.reverse();else if(x==="prev"||x==="next"){x==="prev"&&k.reverse();const b=k.indexOf(g.currentTarget);k=l.loop?h$e(k,b+1):k.slice(b+1)}setTimeout(()=>Lj(k))}})})})});$j.displayName=Oj;var u$e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function f$e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function d$e(t,e,a){const n=f$e(t.key,a);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return u$e[n]}function Lj(t,e=!1){const a=document.activeElement;for(const n of t)if(n===a||(n.focus({preventScroll:e}),document.activeElement!==a))return}function h$e(t,e){return t.map((a,n)=>t[(e+n)%t.length])}var p$e=Fj,m$e=$j,$E=["Enter"," "],g$e=["ArrowDown","PageUp","Home"],Mj=["ArrowUp","PageDown","End"],y$e=[...g$e,...Mj],v$e={ltr:[...$E,"ArrowRight"],rtl:[...$E,"ArrowLeft"]},x$e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},av="Menu",[ay,k$e,w$e]=ev(av),[Jd,Bj]=zu(av,[w$e,_j,Pj]),u2=_j(),zj=Pj(),[b$e,Qd]=Jd(av),[_$e,nv]=Jd(av),Gj=t=>{const{__scopeMenu:e,open:a=!1,children:n,dir:r,onOpenChange:s,modal:i=!0}=t,o=u2(e),[c,l]=F.useState(null),u=F.useRef(!1),d=$n(s),p=KR(r);return F.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),L.jsx(e$e,{...o,children:L.jsx(b$e,{scope:e,open:a,onOpenChange:d,content:c,onContentChange:l,children:L.jsx(_$e,{scope:e,onClose:F.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:i,children:n})})})};Gj.displayName=av;var A$e="MenuAnchor",nD=F.forwardRef((t,e)=>{const{__scopeMenu:a,...n}=t,r=u2(a);return L.jsx(t$e,{...r,...n,ref:e})});nD.displayName=A$e;var rD="MenuPortal",[N$e,Uj]=Jd(rD,{forceMount:void 0}),Wj=t=>{const{__scopeMenu:e,forceMount:a,children:n,container:r}=t,s=Qd(rD,e);return L.jsx(N$e,{scope:e,forceMount:a,children:L.jsx(xi,{present:a||s.open,children:L.jsx(ib,{asChild:!0,container:r,children:n})})})};Wj.displayName=rD;var Qi="MenuContent",[S$e,sD]=Jd(Qi),Vj=F.forwardRef((t,e)=>{const a=Uj(Qi,t.__scopeMenu),{forceMount:n=a.forceMount,...r}=t,s=Qd(Qi,t.__scopeMenu),i=nv(Qi,t.__scopeMenu);return L.jsx(ay.Provider,{scope:t.__scopeMenu,children:L.jsx(xi,{present:n||s.open,children:L.jsx(ay.Slot,{scope:t.__scopeMenu,children:i.modal?L.jsx(T$e,{...r,ref:e}):L.jsx(E$e,{...r,ref:e})})})})}),T$e=F.forwardRef((t,e)=>{const a=Qd(Qi,t.__scopeMenu),n=F.useRef(null),r=vn(e,n);return F.useEffect(()=>{const s=n.current;if(s)return o8(s)},[]),L.jsx(iD,{...t,ref:r,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:kt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),E$e=F.forwardRef((t,e)=>{const a=Qd(Qi,t.__scopeMenu);return L.jsx(iD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),iD=F.forwardRef((t,e)=>{const{__scopeMenu:a,loop:n=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:m,disableOutsideScroll:g,...x}=t,v=Qd(Qi,a),k=nv(Qi,a),b=u2(a),_=zj(a),A=k$e(a),[S,C]=F.useState(null),E=F.useRef(null),R=vn(e,E,v.onContentChange),I=F.useRef(0),P=F.useRef(""),D=F.useRef(0),B=F.useRef(null),U=F.useRef("right"),V=F.useRef(0),j=g?IC:F.Fragment,W=g?{as:rd,allowPinchZoom:!0}:void 0,Q=Z=>{var ge,G;const M=P.current+Z,se=A().filter(te=>!te.disabled),ue=document.activeElement,le=(ge=se.find(te=>te.ref.current===ue))==null?void 0:ge.textValue,ie=se.map(te=>te.textValue),ye=z$e(ie,M,le),ke=(G=se.find(te=>te.textValue===ye))==null?void 0:G.ref.current;(function te(ee){P.current=ee,window.clearTimeout(I.current),ee!==""&&(I.current=window.setTimeout(()=>te(""),1e3))})(M),ke&&setTimeout(()=>ke.focus())};F.useEffect(()=>()=>window.clearTimeout(I.current),[]),J6();const q=F.useCallback(Z=>{var se,ue;return U.current===((se=B.current)==null?void 0:se.side)&&U$e(Z,(ue=B.current)==null?void 0:ue.area)},[]);return L.jsx(S$e,{scope:a,searchRef:P,onItemEnter:F.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),onItemLeave:F.useCallback(Z=>{var M;q(Z)||((M=E.current)==null||M.focus(),C(null))},[q]),onTriggerLeave:F.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),pointerGraceTimerRef:D,onPointerGraceIntentChange:F.useCallback(Z=>{B.current=Z},[]),children:L.jsx(j,{...W,children:L.jsx(CC,{asChild:!0,trapped:r,onMountAutoFocus:kt(s,Z=>{var M;Z.preventDefault(),(M=E.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:L.jsx(Cy,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:m,children:L.jsx(p$e,{asChild:!0,..._,dir:k.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:kt(c,Z=>{k.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:L.jsx(a$e,{role:"menu","aria-orientation":"vertical","data-state":iH(v.open),"data-radix-menu-content":"",dir:k.dir,...b,...x,ref:R,style:{outline:"none",...x.style},onKeyDown:kt(x.onKeyDown,Z=>{const se=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,ue=Z.ctrlKey||Z.altKey||Z.metaKey,le=Z.key.length===1;se&&(Z.key==="Tab"&&Z.preventDefault(),!ue&&le&&Q(Z.key));const ie=E.current;if(Z.target!==ie||!y$e.includes(Z.key))return;Z.preventDefault();const ke=A().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);Mj.includes(Z.key)&&ke.reverse(),M$e(ke)}),onBlur:kt(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:kt(t.onPointerMove,ny(Z=>{const M=Z.target,se=V.current!==Z.clientX;if(Z.currentTarget.contains(M)&&se){const ue=Z.clientX>V.current?"right":"left";U.current=ue,V.current=Z.clientX}}))})})})})})})});Vj.displayName=Qi;var C$e="MenuGroup",oD=F.forwardRef((t,e)=>{const{__scopeMenu:a,...n}=t;return L.jsx(ka.div,{role:"group",...n,ref:e})});oD.displayName=C$e;var I$e="MenuLabel",jj=F.forwardRef((t,e)=>{const{__scopeMenu:a,...n}=t;return L.jsx(ka.div,{...n,ref:e})});jj.displayName=I$e;var Rw="MenuItem",HM="menu.itemSelect",f2=F.forwardRef((t,e)=>{const{disabled:a=!1,onSelect:n,...r}=t,s=F.useRef(null),i=nv(Rw,t.__scopeMenu),o=sD(Rw,t.__scopeMenu),c=vn(e,s),l=F.useRef(!1),u=()=>{const d=s.current;if(!a&&d){const p=new CustomEvent(HM,{bubbles:!0,cancelable:!0});d.addEventListener(HM,m=>n==null?void 0:n(m),{once:!0}),Ng(d,p),p.defaultPrevented?l.current=!1:i.onClose()}};return L.jsx(Hj,{...r,ref:c,disabled:a,onClick:kt(t.onClick,u),onPointerDown:d=>{var p;(p=t.onPointerDown)==null||p.call(t,d),l.current=!0},onPointerUp:kt(t.onPointerUp,d=>{var p;l.current||(p=d.currentTarget)==null||p.click()}),onKeyDown:kt(t.onKeyDown,d=>{const p=o.searchRef.current!=="";a||p&&d.key===" "||$E.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});f2.displayName=Rw;var Hj=F.forwardRef((t,e)=>{const{__scopeMenu:a,disabled:n=!1,textValue:r,...s}=t,i=sD(Rw,a),o=zj(a),c=F.useRef(null),l=vn(e,c),[u,d]=F.useState(!1),[p,m]=F.useState("");return F.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),L.jsx(ay.ItemSlot,{scope:a,disabled:n,textValue:r??p,children:L.jsx(m$e,{asChild:!0,...o,focusable:!n,children:L.jsx(ka.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:l,onPointerMove:kt(t.onPointerMove,ny(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:kt(t.onPointerLeave,ny(g=>i.onItemLeave(g))),onFocus:kt(t.onFocus,()=>d(!0)),onBlur:kt(t.onBlur,()=>d(!1))})})})}),R$e="MenuCheckboxItem",Kj=F.forwardRef((t,e)=>{const{checked:a=!1,onCheckedChange:n,...r}=t;return L.jsx(Jj,{scope:t.__scopeMenu,checked:a,children:L.jsx(f2,{role:"menuitemcheckbox","aria-checked":Dw(a)?"mixed":a,...r,ref:e,"data-state":lD(a),onSelect:kt(r.onSelect,()=>n==null?void 0:n(Dw(a)?!0:!a),{checkForDefaultPrevented:!1})})})});Kj.displayName=R$e;var qj="MenuRadioGroup",[D$e,P$e]=Jd(qj,{value:void 0,onValueChange:()=>{}}),Xj=F.forwardRef((t,e)=>{const{value:a,onValueChange:n,...r}=t,s=$n(n);return L.jsx(D$e,{scope:t.__scopeMenu,value:a,onValueChange:s,children:L.jsx(oD,{...r,ref:e})})});Xj.displayName=qj;var Yj="MenuRadioItem",Zj=F.forwardRef((t,e)=>{const{value:a,...n}=t,r=P$e(Yj,t.__scopeMenu),s=a===r.value;return L.jsx(Jj,{scope:t.__scopeMenu,checked:s,children:L.jsx(f2,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":lD(s),onSelect:kt(n.onSelect,()=>{var i;return(i=r.onValueChange)==null?void 0:i.call(r,a)},{checkForDefaultPrevented:!1})})})});Zj.displayName=Yj;var cD="MenuItemIndicator",[Jj,F$e]=Jd(cD,{checked:!1}),Qj=F.forwardRef((t,e)=>{const{__scopeMenu:a,forceMount:n,...r}=t,s=F$e(cD,a);return L.jsx(xi,{present:n||Dw(s.checked)||s.checked===!0,children:L.jsx(ka.span,{...r,ref:e,"data-state":lD(s.checked)})})});Qj.displayName=cD;var O$e="MenuSeparator",eH=F.forwardRef((t,e)=>{const{__scopeMenu:a,...n}=t;return L.jsx(ka.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});eH.displayName=O$e;var $$e="MenuArrow",tH=F.forwardRef((t,e)=>{const{__scopeMenu:a,...n}=t,r=u2(a);return L.jsx(n$e,{...r,...n,ref:e})});tH.displayName=$$e;var L$e="MenuSub",[hqe,aH]=Jd(L$e),Z0="MenuSubTrigger",nH=F.forwardRef((t,e)=>{const a=Qd(Z0,t.__scopeMenu),n=nv(Z0,t.__scopeMenu),r=aH(Z0,t.__scopeMenu),s=sD(Z0,t.__scopeMenu),i=F.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=s,l={__scopeMenu:t.__scopeMenu},u=F.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return F.useEffect(()=>u,[u]),F.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),c(null)}},[o,c]),L.jsx(nD,{asChild:!0,...l,children:L.jsx(Hj,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":r.contentId,"data-state":iH(a.open),...t,ref:Ny(e,r.onTriggerChange),onClick:d=>{var p;(p=t.onClick)==null||p.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:kt(t.onPointerMove,ny(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!a.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{a.onOpenChange(!0),u()},100))})),onPointerLeave:kt(t.onPointerLeave,ny(d=>{var m,g;u();const p=(m=a.content)==null?void 0:m.getBoundingClientRect();if(p){const x=(g=a.content)==null?void 0:g.dataset.side,v=x==="right",k=v?-5:5,b=p[v?"left":"right"],_=p[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+k,y:d.clientY},{x:b,y:p.top},{x:_,y:p.top},{x:_,y:p.bottom},{x:b,y:p.bottom}],side:x}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:kt(t.onKeyDown,d=>{var m;const p=s.searchRef.current!=="";t.disabled||p&&d.key===" "||v$e[n.dir].includes(d.key)&&(a.onOpenChange(!0),(m=a.content)==null||m.focus(),d.preventDefault())})})})});nH.displayName=Z0;var rH="MenuSubContent",sH=F.forwardRef((t,e)=>{const a=Uj(Qi,t.__scopeMenu),{forceMount:n=a.forceMount,...r}=t,s=Qd(Qi,t.__scopeMenu),i=nv(Qi,t.__scopeMenu),o=aH(rH,t.__scopeMenu),c=F.useRef(null),l=vn(e,c);return L.jsx(ay.Provider,{scope:t.__scopeMenu,children:L.jsx(xi,{present:n||s.open,children:L.jsx(ay.Slot,{scope:t.__scopeMenu,children:L.jsx(iD,{id:o.contentId,"aria-labelledby":o.triggerId,...r,ref:l,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:kt(t.onFocusOutside,u=>{u.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:kt(t.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:kt(t.onKeyDown,u=>{var m;const d=u.currentTarget.contains(u.target),p=x$e[i.dir].includes(u.key);d&&p&&(s.onOpenChange(!1),(m=o.trigger)==null||m.focus(),u.preventDefault())})})})})})});sH.displayName=rH;function iH(t){return t?"open":"closed"}function Dw(t){return t==="indeterminate"}function lD(t){return Dw(t)?"indeterminate":t?"checked":"unchecked"}function M$e(t){const e=document.activeElement;for(const a of t)if(a===e||(a.focus(),document.activeElement!==e))return}function B$e(t,e){return t.map((a,n)=>t[(e+n)%t.length])}function z$e(t,e,a){const r=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,s=a?t.indexOf(a):-1;let i=B$e(t,Math.max(s,0));r.length===1&&(i=i.filter(l=>l!==a));const c=i.find(l=>l.toLowerCase().startsWith(r.toLowerCase()));return c!==a?c:void 0}function G$e(t,e){const{x:a,y:n}=t;let r=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const o=e[s].x,c=e[s].y,l=e[i].x,u=e[i].y;c>n!=u>n&&a<(l-o)*(n-c)/(u-c)+o&&(r=!r)}return r}function U$e(t,e){if(!e)return!1;const a={x:t.clientX,y:t.clientY};return G$e(a,e)}function ny(t){return e=>e.pointerType==="mouse"?t(e):void 0}var W$e=Gj,V$e=nD,j$e=Wj,H$e=Vj,K$e=oD,q$e=jj,X$e=f2,Y$e=Kj,Z$e=Xj,J$e=Zj,Q$e=Qj,eLe=eH,tLe=tH,aLe=nH,nLe=sH,uD="DropdownMenu",[rLe,pqe]=zu(uD,[Bj]),Os=Bj(),[sLe,oH]=rLe(uD),cH=t=>{const{__scopeDropdownMenu:e,children:a,dir:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,c=Os(e),l=F.useRef(null),[u=!1,d]=um({prop:r,defaultProp:s,onChange:i});return L.jsx(sLe,{scope:e,triggerId:fu(),triggerRef:l,contentId:fu(),open:u,onOpenChange:d,onOpenToggle:F.useCallback(()=>d(p=>!p),[d]),modal:o,children:L.jsx(W$e,{...c,open:u,onOpenChange:d,dir:n,modal:o,children:a})})};cH.displayName=uD;var lH="DropdownMenuTrigger",uH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,disabled:n=!1,...r}=t,s=oH(lH,a),i=Os(a);return L.jsx(V$e,{asChild:!0,...i,children:L.jsx(ka.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...r,ref:Ny(e,s.triggerRef),onPointerDown:kt(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:kt(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});uH.displayName=lH;var iLe="DropdownMenuPortal",fH=t=>{const{__scopeDropdownMenu:e,...a}=t,n=Os(e);return L.jsx(j$e,{...n,...a})};fH.displayName=iLe;var dH="DropdownMenuContent",hH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=oH(dH,a),s=Os(a),i=F.useRef(!1);return L.jsx(H$e,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...n,ref:e,onCloseAutoFocus:kt(t.onCloseAutoFocus,o=>{var c;i.current||(c=r.triggerRef.current)==null||c.focus(),i.current=!1,o.preventDefault()}),onInteractOutside:kt(t.onInteractOutside,o=>{const c=o.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!r.modal||u)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hH.displayName=dH;var oLe="DropdownMenuGroup",pH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(K$e,{...r,...n,ref:e})});pH.displayName=oLe;var cLe="DropdownMenuLabel",mH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(q$e,{...r,...n,ref:e})});mH.displayName=cLe;var lLe="DropdownMenuItem",gH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(X$e,{...r,...n,ref:e})});gH.displayName=lLe;var uLe="DropdownMenuCheckboxItem",yH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(Y$e,{...r,...n,ref:e})});yH.displayName=uLe;var fLe="DropdownMenuRadioGroup",dLe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(Z$e,{...r,...n,ref:e})});dLe.displayName=fLe;var hLe="DropdownMenuRadioItem",vH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(J$e,{...r,...n,ref:e})});vH.displayName=hLe;var pLe="DropdownMenuItemIndicator",xH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(Q$e,{...r,...n,ref:e})});xH.displayName=pLe;var mLe="DropdownMenuSeparator",kH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(eLe,{...r,...n,ref:e})});kH.displayName=mLe;var gLe="DropdownMenuArrow",yLe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(tLe,{...r,...n,ref:e})});yLe.displayName=gLe;var vLe="DropdownMenuSubTrigger",wH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(aLe,{...r,...n,ref:e})});wH.displayName=vLe;var xLe="DropdownMenuSubContent",bH=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:a,...n}=t,r=Os(a);return L.jsx(nLe,{...r,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bH.displayName=xLe;var kLe=cH,wLe=uH,bLe=fH,_H=hH,_Le=pH,AH=mH,NH=gH,SH=yH,TH=vH,EH=xH,CH=kH,IH=wH,RH=bH;const KM=kLe,qM=wLe,ALe=_Le,NLe=F.forwardRef(({className:t,inset:e,children:a,...n},r)=>L.jsxs(IH,{ref:r,className:sa("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-neutral-100 data-[state=open]:bg-neutral-100 dark:data-[state=open]:bg-neutral-800 dark:focus:bg-neutral-800 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[a,L.jsx(Cne,{className:"ml-auto"})]}));NLe.displayName=IH.displayName;const SLe=F.forwardRef(({className:t,...e},a)=>L.jsx(RH,{ref:a,className:sa("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-lg data-[state=closed]:animate-out data-[state=open]:animate-in dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",t),...e}));SLe.displayName=RH.displayName;const LE=F.forwardRef(({className:t,sideOffset:e=4,...a},n)=>L.jsx(bLe,{children:L.jsx(_H,{ref:n,sideOffset:e,className:sa("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-md dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=open]:animate-in",t),...a})}));LE.displayName=_H.displayName;const Yc=F.forwardRef(({className:t,inset:e,...a},n)=>L.jsx(NH,{ref:n,className:sa("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...a}));Yc.displayName=NH.displayName;const TLe=F.forwardRef(({className:t,children:e,checked:a,...n},r)=>L.jsxs(SH,{ref:r,className:sa("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",t),checked:a,...n,children:[L.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:L.jsx(EH,{children:L.jsx(Nne,{className:"h-4 w-4"})})}),e]}));TLe.displayName=SH.displayName;const ELe=F.forwardRef(({className:t,children:e,...a},n)=>L.jsxs(TH,{ref:n,className:sa("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",t),...a,children:[L.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:L.jsx(EH,{children:L.jsx(Rne,{className:"h-2 w-2 fill-current"})})}),e]}));ELe.displayName=TH.displayName;const ME=F.forwardRef(({className:t,inset:e,...a},n)=>L.jsx(AH,{ref:n,className:sa("px-2 py-1.5 font-semibold text-sm",e&&"pl-8",t),...a}));ME.displayName=AH.displayName;const J0=F.forwardRef(({className:t,...e},a)=>L.jsx(CH,{ref:a,className:sa("-mx-1 my-1 h-px bg-neutral-100 dark:bg-neutral-800",t),...e}));J0.displayName=CH.displayName;function CLe(t){const e=F.useRef({value:t,previous:t});return F.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ILe="VisuallyHidden",d2=F.forwardRef((t,e)=>L.jsx(ka.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));d2.displayName=ILe;var RLe=d2,Rm="NavigationMenu",[fD,DH,DLe]=ev(Rm),[BE,PLe,FLe]=ev(Rm),[dD,mqe]=zu(Rm,[DLe,FLe]),[OLe,oo]=dD(Rm),[$Le,LLe]=dD(Rm),PH=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,value:n,onValueChange:r,defaultValue:s,delayDuration:i=200,skipDelayDuration:o=300,orientation:c="horizontal",dir:l,...u}=t,[d,p]=F.useState(null),m=vn(e,I=>p(I)),g=KR(l),x=F.useRef(0),v=F.useRef(0),k=F.useRef(0),[b,_]=F.useState(!0),[A="",S]=um({prop:n,onChange:I=>{const P=I!=="",D=o>0;P?(window.clearTimeout(k.current),D&&_(!1)):(window.clearTimeout(k.current),k.current=window.setTimeout(()=>_(!0),o)),r==null||r(I)},defaultProp:s}),C=F.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>S(""),150)},[S]),E=F.useCallback(I=>{window.clearTimeout(v.current),S(I)},[S]),R=F.useCallback(I=>{A===I?window.clearTimeout(v.current):x.current=window.setTimeout(()=>{window.clearTimeout(v.current),S(I)},i)},[A,S,i]);return F.useEffect(()=>()=>{window.clearTimeout(x.current),window.clearTimeout(v.current),window.clearTimeout(k.current)},[]),L.jsx(OH,{scope:a,isRootMenu:!0,value:A,dir:g,orientation:c,rootNavigationMenu:d,onTriggerEnter:I=>{window.clearTimeout(x.current),b?R(I):E(I)},onTriggerLeave:()=>{window.clearTimeout(x.current),C()},onContentEnter:()=>window.clearTimeout(v.current),onContentLeave:C,onItemSelect:I=>{S(P=>P===I?"":I)},onItemDismiss:()=>S(""),children:L.jsx(ka.nav,{"aria-label":"Main","data-orientation":c,dir:g,...u,ref:m})})});PH.displayName=Rm;var FH="NavigationMenuSub",MLe=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,value:n,onValueChange:r,defaultValue:s,orientation:i="horizontal",...o}=t,c=oo(FH,a),[l="",u]=um({prop:n,onChange:r,defaultProp:s});return L.jsx(OH,{scope:a,isRootMenu:!1,value:l,dir:c.dir,orientation:i,rootNavigationMenu:c.rootNavigationMenu,onTriggerEnter:d=>u(d),onItemSelect:d=>u(d),onItemDismiss:()=>u(""),children:L.jsx(ka.div,{"data-orientation":i,...o,ref:e})})});MLe.displayName=FH;var OH=t=>{const{scope:e,isRootMenu:a,rootNavigationMenu:n,dir:r,orientation:s,children:i,value:o,onItemSelect:c,onItemDismiss:l,onTriggerEnter:u,onTriggerLeave:d,onContentEnter:p,onContentLeave:m}=t,[g,x]=F.useState(null),[v,k]=F.useState(new Map),[b,_]=F.useState(null);return L.jsx(OLe,{scope:e,isRootMenu:a,rootNavigationMenu:n,value:o,previousValue:CLe(o),baseId:fu(),dir:r,orientation:s,viewport:g,onViewportChange:x,indicatorTrack:b,onIndicatorTrackChange:_,onTriggerEnter:$n(u),onTriggerLeave:$n(d),onContentEnter:$n(p),onContentLeave:$n(m),onItemSelect:$n(c),onItemDismiss:$n(l),onViewportContentChange:F.useCallback((A,S)=>{k(C=>(C.set(A,S),new Map(C)))},[]),onViewportContentRemove:F.useCallback(A=>{k(S=>S.has(A)?(S.delete(A),new Map(S)):S)},[]),children:L.jsx(fD.Provider,{scope:e,children:L.jsx($Le,{scope:e,items:v,children:i})})})},$H="NavigationMenuList",LH=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,...n}=t,r=oo($H,a),s=L.jsx(ka.ul,{"data-orientation":r.orientation,...n,ref:e});return L.jsx(ka.div,{style:{position:"relative"},ref:r.onIndicatorTrackChange,children:L.jsx(fD.Slot,{scope:a,children:r.isRootMenu?L.jsx(HH,{asChild:!0,children:s}):s})})});LH.displayName=$H;var MH="NavigationMenuItem",[BLe,BH]=dD(MH),zLe=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,value:n,...r}=t,s=fu(),i=n||s||"LEGACY_REACT_AUTO_VALUE",o=F.useRef(null),c=F.useRef(null),l=F.useRef(null),u=F.useRef(()=>{}),d=F.useRef(!1),p=F.useCallback((g="start")=>{if(o.current){u.current();const x=GE(o.current);x.length&&mD(g==="start"?x:x.reverse())}},[]),m=F.useCallback(()=>{if(o.current){const g=GE(o.current);g.length&&(u.current=KLe(g))}},[]);return L.jsx(BLe,{scope:a,value:i,triggerRef:c,contentRef:o,focusProxyRef:l,wasEscapeCloseRef:d,onEntryKeyDown:p,onFocusProxyEnter:p,onRootContentClose:m,onContentFocusOutside:m,children:L.jsx(ka.li,{...r,ref:e})})});zLe.displayName=MH;var zE="NavigationMenuTrigger",zH=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,disabled:n,...r}=t,s=oo(zE,t.__scopeNavigationMenu),i=BH(zE,t.__scopeNavigationMenu),o=F.useRef(null),c=vn(o,i.triggerRef,e),l=qH(s.baseId,i.value),u=XH(s.baseId,i.value),d=F.useRef(!1),p=F.useRef(!1),m=i.value===s.value;return L.jsxs(L.Fragment,{children:[L.jsx(fD.ItemSlot,{scope:a,value:i.value,children:L.jsx(KH,{asChild:!0,children:L.jsx(ka.button,{id:l,disabled:n,"data-disabled":n?"":void 0,"data-state":gD(m),"aria-expanded":m,"aria-controls":u,...r,ref:c,onPointerEnter:kt(t.onPointerEnter,()=>{p.current=!1,i.wasEscapeCloseRef.current=!1}),onPointerMove:kt(t.onPointerMove,Pw(()=>{n||p.current||i.wasEscapeCloseRef.current||d.current||(s.onTriggerEnter(i.value),d.current=!0)})),onPointerLeave:kt(t.onPointerLeave,Pw(()=>{n||(s.onTriggerLeave(),d.current=!1)})),onClick:kt(t.onClick,()=>{s.onItemSelect(i.value),p.current=m}),onKeyDown:kt(t.onKeyDown,g=>{const v={horizontal:"ArrowDown",vertical:s.dir==="rtl"?"ArrowLeft":"ArrowRight"}[s.orientation];m&&g.key===v&&(i.onEntryKeyDown(),g.preventDefault())})})})}),m&&L.jsxs(L.Fragment,{children:[L.jsx(RLe,{"aria-hidden":!0,tabIndex:0,ref:i.focusProxyRef,onFocus:g=>{const x=i.contentRef.current,v=g.relatedTarget,k=v===o.current,b=x==null?void 0:x.contains(v);(k||!b)&&i.onFocusProxyEnter(k?"start":"end")}}),s.viewport&&L.jsx("span",{"aria-owns":u})]})]})});zH.displayName=zE;var GLe="NavigationMenuLink",XM="navigationMenu.linkSelect",GH=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,active:n,onSelect:r,...s}=t;return L.jsx(KH,{asChild:!0,children:L.jsx(ka.a,{"data-active":n?"":void 0,"aria-current":n?"page":void 0,...s,ref:e,onClick:kt(t.onClick,i=>{const o=i.target,c=new CustomEvent(XM,{bubbles:!0,cancelable:!0});if(o.addEventListener(XM,l=>r==null?void 0:r(l),{once:!0}),Ng(o,c),!c.defaultPrevented&&!i.metaKey){const l=new CustomEvent(Bk,{bubbles:!0,cancelable:!0});Ng(o,l)}},{checkForDefaultPrevented:!1})})})});GH.displayName=GLe;var hD="NavigationMenuIndicator",UH=F.forwardRef((t,e)=>{const{forceMount:a,...n}=t,r=oo(hD,t.__scopeNavigationMenu),s=!!r.value;return r.indicatorTrack?K6.createPortal(L.jsx(xi,{present:a||s,children:L.jsx(ULe,{...n,ref:e})}),r.indicatorTrack):null});UH.displayName=hD;var ULe=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,...n}=t,r=oo(hD,a),s=DH(a),[i,o]=F.useState(null),[c,l]=F.useState(null),u=r.orientation==="horizontal",d=!!r.value;F.useEffect(()=>{var x;const g=(x=s().find(v=>v.value===r.value))==null?void 0:x.ref.current;g&&o(g)},[s,r.value]);const p=()=>{i&&l({size:u?i.offsetWidth:i.offsetHeight,offset:u?i.offsetLeft:i.offsetTop})};return UE(i,p),UE(r.indicatorTrack,p),c?L.jsx(ka.div,{"aria-hidden":!0,"data-state":d?"visible":"hidden","data-orientation":r.orientation,...n,ref:e,style:{position:"absolute",...u?{left:0,width:c.size+"px",transform:`translateX(${c.offset}px)`}:{top:0,height:c.size+"px",transform:`translateY(${c.offset}px)`},...n.style}}):null}),Jp="NavigationMenuContent",WH=F.forwardRef((t,e)=>{const{forceMount:a,...n}=t,r=oo(Jp,t.__scopeNavigationMenu),s=BH(Jp,t.__scopeNavigationMenu),i=vn(s.contentRef,e),o=s.value===r.value,c={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...n};return r.viewport?L.jsx(WLe,{forceMount:a,...c,ref:i}):L.jsx(xi,{present:a||o,children:L.jsx(VH,{"data-state":gD(o),...c,ref:i,onPointerEnter:kt(t.onPointerEnter,r.onContentEnter),onPointerLeave:kt(t.onPointerLeave,Pw(r.onContentLeave)),style:{pointerEvents:!o&&r.isRootMenu?"none":void 0,...c.style}})})});WH.displayName=Jp;var WLe=F.forwardRef((t,e)=>{const a=oo(Jp,t.__scopeNavigationMenu),{onViewportContentChange:n,onViewportContentRemove:r}=a;return Do(()=>{n(t.value,{ref:e,...t})},[t,e,n]),Do(()=>()=>r(t.value),[t.value,r]),null}),Bk="navigationMenu.rootContentDismiss",VH=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,value:n,triggerRef:r,focusProxyRef:s,wasEscapeCloseRef:i,onRootContentClose:o,onContentFocusOutside:c,...l}=t,u=oo(Jp,a),d=F.useRef(null),p=vn(d,e),m=qH(u.baseId,n),g=XH(u.baseId,n),x=DH(a),v=F.useRef(null),{onItemDismiss:k}=u;F.useEffect(()=>{const _=d.current;if(u.isRootMenu&&_){const A=()=>{var S;k(),o(),_.contains(document.activeElement)&&((S=r.current)==null||S.focus())};return _.addEventListener(Bk,A),()=>_.removeEventListener(Bk,A)}},[u.isRootMenu,t.value,r,k,o]);const b=F.useMemo(()=>{const A=x().map(P=>P.value);u.dir==="rtl"&&A.reverse();const S=A.indexOf(u.value),C=A.indexOf(u.previousValue),E=n===u.value,R=C===A.indexOf(n);if(!E&&!R)return v.current;const I=(()=>{if(S!==C){if(E&&C!==-1)return S>C?"from-end":"from-start";if(R&&S!==-1)return S>C?"to-start":"to-end"}return null})();return v.current=I,I},[u.previousValue,u.value,u.dir,x,n]);return L.jsx(HH,{asChild:!0,children:L.jsx(Cy,{id:g,"aria-labelledby":m,"data-motion":b,"data-orientation":u.orientation,...l,ref:p,disableOutsidePointerEvents:!1,onDismiss:()=>{var A;const _=new Event(Bk,{bubbles:!0,cancelable:!0});(A=d.current)==null||A.dispatchEvent(_)},onFocusOutside:kt(t.onFocusOutside,_=>{var S;c();const A=_.target;(S=u.rootNavigationMenu)!=null&&S.contains(A)&&_.preventDefault()}),onPointerDownOutside:kt(t.onPointerDownOutside,_=>{var E;const A=_.target,S=x().some(R=>{var I;return(I=R.ref.current)==null?void 0:I.contains(A)}),C=u.isRootMenu&&((E=u.viewport)==null?void 0:E.contains(A));(S||C||!u.isRootMenu)&&_.preventDefault()}),onKeyDown:kt(t.onKeyDown,_=>{var C;const A=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!A){const E=GE(_.currentTarget),R=document.activeElement,I=E.findIndex(B=>B===R),D=_.shiftKey?E.slice(0,I).reverse():E.slice(I+1,E.length);mD(D)?_.preventDefault():(C=s.current)==null||C.focus()}}),onEscapeKeyDown:kt(t.onEscapeKeyDown,_=>{i.current=!0})})})}),pD="NavigationMenuViewport",jH=F.forwardRef((t,e)=>{const{forceMount:a,...n}=t,s=!!oo(pD,t.__scopeNavigationMenu).value;return L.jsx(xi,{present:a||s,children:L.jsx(VLe,{...n,ref:e})})});jH.displayName=pD;var VLe=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,children:n,...r}=t,s=oo(pD,a),i=vn(e,s.onViewportChange),o=LLe(Jp,t.__scopeNavigationMenu),[c,l]=F.useState(null),[u,d]=F.useState(null),p=c?(c==null?void 0:c.width)+"px":void 0,m=c?(c==null?void 0:c.height)+"px":void 0,g=!!s.value,x=g?s.value:s.previousValue;return UE(u,()=>{u&&l({width:u.offsetWidth,height:u.offsetHeight})}),L.jsx(ka.div,{"data-state":gD(g),"data-orientation":s.orientation,...r,ref:i,style:{pointerEvents:!g&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":p,"--radix-navigation-menu-viewport-height":m,...r.style},onPointerEnter:kt(t.onPointerEnter,s.onContentEnter),onPointerLeave:kt(t.onPointerLeave,Pw(s.onContentLeave)),children:Array.from(o.items).map(([k,{ref:b,forceMount:_,...A}])=>{const S=x===k;return L.jsx(xi,{present:_||S,children:L.jsx(VH,{...A,ref:Ny(b,C=>{S&&C&&d(C)})})},k)})})}),jLe="FocusGroup",HH=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,...n}=t,r=oo(jLe,a);return L.jsx(BE.Provider,{scope:a,children:L.jsx(BE.Slot,{scope:a,children:L.jsx(ka.div,{dir:r.dir,...n,ref:e})})})}),YM=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],HLe="FocusGroupItem",KH=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:a,...n}=t,r=PLe(a),s=oo(HLe,a);return L.jsx(BE.ItemSlot,{scope:a,children:L.jsx(ka.button,{...n,ref:e,onKeyDown:kt(t.onKeyDown,i=>{if(["Home","End",...YM].includes(i.key)){let c=r().map(d=>d.ref.current);if([s.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(i.key)&&c.reverse(),YM.includes(i.key)){const d=c.indexOf(i.currentTarget);c=c.slice(d+1)}setTimeout(()=>mD(c)),i.preventDefault()}})})})});function GE(t){const e=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)e.push(a.currentNode);return e}function mD(t){const e=document.activeElement;return t.some(a=>a===e?!0:(a.focus(),document.activeElement!==e))}function KLe(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const a=e.dataset.tabindex;e.setAttribute("tabindex",a)})}}function UE(t,e){const a=$n(e);Do(()=>{let n=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(a)});return r.observe(t),()=>{window.cancelAnimationFrame(n),r.unobserve(t)}}},[t,a])}function gD(t){return t?"open":"closed"}function qH(t,e){return`${t}-trigger-${e}`}function XH(t,e){return`${t}-content-${e}`}function Pw(t){return e=>e.pointerType==="mouse"?t(e):void 0}var YH=PH,ZH=LH,JH=zH,qLe=GH,QH=UH,eK=WH,tK=jH;const aK=F.forwardRef(({className:t,children:e,...a},n)=>L.jsxs(YH,{ref:n,className:sa("relative z-10 flex max-w-max flex-1 items-center justify-center",t),...a,children:[e,L.jsx(rK,{})]}));aK.displayName=YH.displayName;const nK=F.forwardRef(({className:t,...e},a)=>L.jsx(ZH,{ref:a,className:sa("group flex flex-1 list-none items-center justify-center space-x-1",t),...e}));nK.displayName=ZH.displayName;const XLe=Sy("group inline-flex h-9 w-max items-center justify-center rounded-md bg-white px-4 py-2 text-sm font-medium transition-colors hover:bg-neutral-100 hover:text-neutral-900 focus:bg-neutral-100 focus:text-neutral-900 focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-neutral-100/50 data-[state=open]:bg-neutral-100/50 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50 dark:data-[active]:bg-neutral-800/50 dark:data-[state=open]:bg-neutral-800/50"),YLe=F.forwardRef(({className:t,children:e,...a},n)=>L.jsxs(JH,{ref:n,className:sa(XLe(),"group",t),...a,children:[e,"",L.jsx(Tne,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));YLe.displayName=JH.displayName;const ZLe=F.forwardRef(({className:t,...e},a)=>L.jsx(eK,{ref:a,className:sa("data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out md:absolute md:w-auto",t),...e}));ZLe.displayName=eK.displayName;const DS=qLe,rK=F.forwardRef(({className:t,...e},a)=>L.jsx("div",{className:sa("absolute top-full left-0 flex justify-center"),children:L.jsx(tK,{className:sa("data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full origin-top-center overflow-hidden rounded-md border border-neutral-200 bg-white text-neutral-950 shadow data-[state=closed]:animate-out data-[state=open]:animate-in md:w-[var(--radix-navigation-menu-viewport-width)] dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",t),ref:a,...e})}));rK.displayName=tK.displayName;const JLe=F.forwardRef(({className:t,...e},a)=>L.jsx(QH,{ref:a,className:sa("data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=hidden]:animate-out data-[state=visible]:animate-in",t),...e,children:L.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-neutral-200 shadow-md dark:bg-neutral-800"})}));JLe.displayName=QH.displayName;function Fw({title:t,paragraph:e,className:a,backgroundColor:n}){return L.jsxs("div",{className:`${a} tex flex flex-col items-center justify-center rounded-4xl p-8 transition-all duration-200`,style:{backgroundColor:n},children:[L.jsx("header",{className:"font-semibold text-6xl text-white",children:t}),L.jsx("p",{className:"mt-2 text-center text-xl text-white",children:e})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ow={};Ow.version="0.20.3";var gr=1200,Sd=1252,ta,QLe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yD={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},h2=function(t){QLe.indexOf(t)!=-1&&(Sd=yD[0]=t)};function eMe(){h2(1252)}var Yi=function(t){gr=t,h2(t)};function p2(){Yi(1200),eMe()}function $w(t){for(var e=[],a=0,n=t.length;a<n;++a)e[a]=t.charCodeAt(a);return e}function sK(t){for(var e=[],a=0;a<t.length>>1;++a)e[a]=String.fromCharCode(t.charCodeAt(2*a)+(t.charCodeAt(2*a+1)<<8));return e.join("")}function tMe(t){for(var e=[],a=0;a<t.length>>1;++a)e[a]=String.fromCharCode(t[2*a]+(t[2*a+1]<<8));return e.join("")}function iK(t){for(var e=[],a=0;a<t.length>>1;++a)e[a]=String.fromCharCode(t.charCodeAt(2*a+1)+(t.charCodeAt(2*a)<<8));return e.join("")}var yp=function(t){var e=t.charCodeAt(0),a=t.charCodeAt(1);return e==255&&a==254?sK(t.slice(2)):e==254&&a==255?iK(t.slice(2)):e==65279?t.slice(1):t},Q0=function(e){return String.fromCharCode(e)},WE=function(e){return String.fromCharCode(e)};function aMe(t){ta=t,Yi=function(e){gr=e,h2(e)},yp=function(e){return e.charCodeAt(0)===255&&e.charCodeAt(1)===254?ta.utils.decode(1200,$w(e.slice(2))):e},Q0=function(a){return gr===1200?String.fromCharCode(a):ta.utils.decode(gr,[a&255,a>>8])[0]},WE=function(a){return ta.utils.decode(Sd,[a])[0]},FK()}var nMe=null,hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Lw(t){for(var e="",a=0,n=0,r=0,s=0,i=0,o=0,c=0,l=0;l<t.length;)a=t.charCodeAt(l++),s=a>>2,n=t.charCodeAt(l++),i=(a&3)<<4|n>>4,r=t.charCodeAt(l++),o=(n&15)<<2|r>>6,c=r&63,isNaN(n)?o=c=64:isNaN(r)&&(c=64),e+=hs.charAt(s)+hs.charAt(i)+hs.charAt(o)+hs.charAt(c);return e}function rMe(t){for(var e="",a=0,n=0,r=0,s=0,i=0,o=0,c=0,l=0;l<t.length;)a=t.charCodeAt(l++),a>255&&(a=95),s=a>>2,n=t.charCodeAt(l++),n>255&&(n=95),i=(a&3)<<4|n>>4,r=t.charCodeAt(l++),r>255&&(r=95),o=(n&15)<<2|r>>6,c=r&63,isNaN(n)?o=c=64:isNaN(r)&&(c=64),e+=hs.charAt(s)+hs.charAt(i)+hs.charAt(o)+hs.charAt(c);return e}function sMe(t){for(var e="",a=0,n=0,r=0,s=0,i=0,o=0,c=0,l=0;l<t.length;)a=t[l++],s=a>>2,n=t[l++],i=(a&3)<<4|n>>4,r=t[l++],o=(n&15)<<2|r>>6,c=r&63,isNaN(n)?o=c=64:isNaN(r)&&(c=64),e+=hs.charAt(s)+hs.charAt(i)+hs.charAt(o)+hs.charAt(c);return e}function yi(t){var e="",a=0,n=0,r=0,s=0,i=0,o=0,c=0;if(t.slice(0,5)=="data:"){var l=t.slice(0,1024).indexOf(";base64,");l>-1&&(t=t.slice(l+8))}t=t.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<t.length;)s=hs.indexOf(t.charAt(l++)),i=hs.indexOf(t.charAt(l++)),a=s<<2|i>>4,e+=String.fromCharCode(a),o=hs.indexOf(t.charAt(l++)),n=(i&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),c=hs.indexOf(t.charAt(l++)),r=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(r));return e}var oa=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Dc=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,a){return a?new Buffer(e,a):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}(),ry=function(){if(typeof Buffer>"u")return!1;var t=Dc([65,0]);if(!t)return!1;var e=t.toString("utf16le");return e.length==1}();function Ou(t){return oa?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function ZM(t){return oa?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Es=function(e){return oa?Dc(e,"binary"):e.split("").map(function(a){return a.charCodeAt(0)&255})};function rv(t){if(typeof ArrayBuffer>"u")return Es(t);for(var e=new ArrayBuffer(t.length),a=new Uint8Array(e),n=0;n!=t.length;++n)a[n]=t.charCodeAt(n)&255;return e}function Nc(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],a=0;a<t.length;++a)e[a]=String.fromCharCode(t[a]);return e.join("")}function iMe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function vD(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return vD(new Uint8Array(t));for(var e=new Array(t.length),a=0;a<t.length;++a)e[a]=t[a];return e}var jn=oa?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Dc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,a=0;for(e=0;e<t.length;++e)a+=t[e].length;var n=new Uint8Array(a),r=0;for(e=0,a=0;e<t.length;a+=r,++e)r=t[e].length,t[e]instanceof Uint8Array?n.set(t[e],a):typeof t[e]=="string"?n.set(new Uint8Array(Es(t[e])),a):n.set(new Uint8Array(t[e]),a);return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function oMe(t){for(var e=[],a=0,n=t.length+250,r=Ou(t.length+255),s=0;s<t.length;++s){var i=t.charCodeAt(s);if(i<128)r[a++]=i;else if(i<2048)r[a++]=192|i>>6&31,r[a++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=t.charCodeAt(++s)&1023;r[a++]=240|i>>8&7,r[a++]=128|i>>2&63,r[a++]=128|o>>6&15|(i&3)<<4,r[a++]=128|o&63}else r[a++]=224|i>>12&15,r[a++]=128|i>>6&63,r[a++]=128|i&63;a>n&&(e.push(r.slice(0,a)),a=0,r=Ou(65535),n=65530)}return e.push(r.slice(0,a)),jn(e)}var Rs=/\u0000/g,eg=/[\u0001-\u0006]/g;function Ip(t){for(var e="",a=t.length-1;a>=0;)e+=t.charAt(a--);return e}function Ao(t,e){var a=""+t;return a.length>=e?a:Ra("0",e-a.length)+a}function xD(t,e){var a=""+t;return a.length>=e?a:Ra(" ",e-a.length)+a}function Mw(t,e){var a=""+t;return a.length>=e?a:a+Ra(" ",e-a.length)}function cMe(t,e){var a=""+Math.round(t);return a.length>=e?a:Ra("0",e-a.length)+a}function lMe(t,e){var a=""+t;return a.length>=e?a:Ra("0",e-a.length)+a}var JM=Math.pow(2,32);function rp(t,e){if(t>JM||t<-JM)return cMe(t,e);var a=Math.round(t);return lMe(a,e)}function Bw(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var QM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],PS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function uMe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Ct={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},e5={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},fMe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zw(t,e,a){for(var n=t<0?-1:1,r=t*n,s=0,i=1,o=0,c=1,l=0,u=0,d=Math.floor(r);l<e&&(d=Math.floor(r),o=d*i+s,u=d*l+c,!(r-d<5e-8));)r=1/(r-d),s=i,i=o,c=l,l=u;if(u>e&&(l>e?(u=c,o=s):(u=l,o=i)),!a)return[0,n*o,u];var p=Math.floor(n*o/u);return[p,n*o-p*u,u]}function dMe(t){var e=t.toPrecision(16);if(e.indexOf("e")>-1){var a=e.slice(0,e.indexOf("e"));return a=a.indexOf(".")>-1?a.slice(0,a.slice(0,2)=="0."?17:16):a.slice(0,15)+Ra("0",a.length-15),a+e.slice(e.indexOf("e"))}var n=e.indexOf(".")>-1?e.slice(0,e.slice(0,2)=="0."?17:16):e.slice(0,15)+Ra("0",e.length-15);return Number(n)}function sc(t,e,a){if(t>2958465||t<0)return null;t=dMe(t);var n=t|0,r=Math.floor(86400*(t-n)),s=0,i=[],o={D:n,T:r,u:86400*(t-n)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++r==86400&&(o.T=r=0,++n,++o.D)),n===60)i=a?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=a?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),a&&(s=gMe(c,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=r%60,r=Math.floor(r/60),o.M=r%60,r=Math.floor(r/60),o.H=r,o.q=s,o}function kD(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function hMe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function pMe(t){var e=t<0?12:11,a=kD(t.toFixed(12));return a.length<=e||(a=t.toPrecision(10),a.length<=e)?a:t.toExponential(5)}function mMe(t){var e=kD(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function sy(t){if(!isFinite(t))return isNaN(t)?"#NUM!":"#DIV/0!";var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),a;return e>=-4&&e<=-1?a=t.toPrecision(10+e):Math.abs(e)<=9?a=pMe(t):e===10?a=t.toFixed(10).substr(0,12):a=mMe(t),kD(hMe(a.toUpperCase()))}function Td(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):sy(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ei(14,In(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function gMe(t,e){e[0]-=581;var a=t.getDay();return t<60&&(a=(a+6)%7),a}function yMe(t,e,a,n){var r="",s=0,i=0,o=a.y,c,l=0;switch(t){case 98:o=a.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,l=2;break;default:c=o%1e4,l=4;break}break;case 109:switch(e.length){case 1:case 2:c=a.m,l=e.length;break;case 3:return PS[a.m-1][1];case 5:return PS[a.m-1][0];default:return PS[a.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=a.d,l=e.length;break;case 3:return QM[a.q][0];default:return QM[a.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(a.H+11)%12,l=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=a.H,l=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=a.M,l=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return a.u===0&&(e=="s"||e=="ss")?Ao(a.S,e.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(a.S+a.u)),s>=60*i&&(s=0),e==="s"?s===0?"0":""+s/i:(r=Ao(s,2+n),e==="ss"?r.substr(0,2):"."+r.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=a.D*24+a.H;break;case"[m]":case"[mm]":c=(a.D*24+a.H)*60+a.M;break;case"[s]":case"[ss]":c=((a.D*24+a.H)*60+a.M)*60+(n==0?Math.round(a.S+a.u):a.S);break;default:throw"bad abstime format: "+e}l=e.length===3?1:2;break;case 101:c=o,l=1;break}var u=l>0?Ao(c,l):"";return u}function rl(t){var e=3;if(t.length<=e)return t;for(var a=t.length%e,n=t.substr(0,a);a!=t.length;a+=e)n+=(n.length>0?",":"")+t.substr(a,e);return n}var oK=/%/g;function vMe(t,e,a){var n=e.replace(oK,""),r=e.length-n.length;return ul(t,n,a*Math.pow(10,2*r))+Ra("%",r)}function xMe(t,e,a){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ul(t,e.substr(0,n),a/Math.pow(10,3*(e.length-n)))}function cK(t,e){var a,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+cK(t,-e);var r=t.indexOf(".");r===-1&&(r=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),a=(e/Math.pow(10,s)).toPrecision(n+1+(r+s)%r),a.indexOf("e")===-1){var i=Math.floor(Math.log(e)*Math.LOG10E);for(a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(i-a.length+s):a+="E+"+(i-s);a.substr(0,2)==="0.";)a=a.charAt(0)+a.substr(2,r)+"."+a.substr(2+r),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,l,u){return c+l+u.substr(0,(r+s)%r)+"."+u.substr(s)+"E"})}else a=e.toExponential(n);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var lK=/# (\?+)( ?)\/( ?)(\d+)/;function kMe(t,e,a){var n=parseInt(t[4],10),r=Math.round(e*n),s=Math.floor(r/n),i=r-s*n,o=n;return a+(s===0?"":""+s)+" "+(i===0?Ra(" ",t[1].length+1+t[4].length):xD(i,t[1].length)+t[2]+"/"+t[3]+Ao(o,t[4].length))}function wMe(t,e,a){return a+(e===0?"":""+e)+Ra(" ",t[1].length+2+t[4].length)}var uK=/^#*0*\.([0#]+)/,fK=/\)[^)]*[0#]/,dK=/\(###\) ###\\?-####/;function Ns(t){for(var e="",a,n=0;n!=t.length;++n)switch(a=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(a)}return e}function t5(t,e){var a=Math.pow(10,e);return""+Math.round(t*a)/a}function a5(t,e){var a=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(a*n)).length?0:Math.round(a*n)}function bMe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function _Me(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Mi(t,e,a){if(t.charCodeAt(0)===40&&!e.match(fK)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?Mi("n",n,a):"("+Mi("n",n,-a)+")"}if(e.charCodeAt(e.length-1)===44)return xMe(t,e,a);if(e.indexOf("%")!==-1)return vMe(t,e,a);if(e.indexOf("E")!==-1)return cK(e,a);if(e.charCodeAt(0)===36)return"$"+Mi(t,e.substr(e.charAt(1)==" "?2:1),a);var r,s,i,o,c=Math.abs(a),l=a<0?"-":"";if(e.match(/^00+$/))return l+rp(c,e.length);if(e.match(/^[#?]+$/))return r=rp(a,0),r==="0"&&(r=""),r.length>e.length?r:Ns(e.substr(0,e.length-r.length))+r;if(s=e.match(lK))return kMe(s,c,l);if(e.match(/^#+0+$/))return l+rp(c,e.length-e.indexOf("0"));if(s=e.match(uK))return r=t5(a,s[1].length).replace(/^([^\.]+)$/,"$1."+Ns(s[1])).replace(/\.$/,"."+Ns(s[1])).replace(/\.(\d*)$/,function(g,x){return"."+x+Ra("0",Ns(s[1]).length-x.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+t5(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+rl(rp(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+Mi(t,e,-a):rl(""+(Math.floor(a)+bMe(a,s[1].length)))+"."+Ao(a5(a,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Mi(t,e.replace(/^#,#*,/,""),a);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Ip(Mi(t,e.replace(/[\\-]/g,""),a)),i=0,Ip(Ip(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<r.length?r.charAt(i++):g==="0"?"0":""}));if(e.match(dK))return r=Mi(t,"##########",a),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=zw(c,Math.pow(10,i)-1,!1),r=""+l,u=ul("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),r+=u+s[2]+"/"+s[3],u=Mw(o[2],i),u.length<s[4].length&&(u=Ns(s[4].substr(s[4].length-u.length))+u),r+=u,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=zw(c,Math.pow(10,i)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?xD(o[1],i)+s[2]+"/"+s[3]+Mw(o[2],i):Ra(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=rp(a,0),e.length<=r.length?r:Ns(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){r=""+a.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=r.indexOf(".");var d=e.indexOf(".")-i,p=e.length-r.length-d;return Ns(e.substr(0,d)+r+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return i=a5(a,s[1].length),a<0?"-"+Mi(t,e,-a):rl(_Me(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ao(0,3-g.length):"")+g})+"."+Ao(i,s[1].length);switch(e){case"###,##0.00":return Mi(t,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var m=rl(rp(c,0));return m!=="0"?l+m:"";case"###,###.00":return Mi(t,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return Mi(t,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function AMe(t,e,a){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ul(t,e.substr(0,n),a/Math.pow(10,3*(e.length-n)))}function NMe(t,e,a){var n=e.replace(oK,""),r=e.length-n.length;return ul(t,n,a*Math.pow(10,2*r))+Ra("%",r)}function hK(t,e){var a,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+hK(t,-e);var r=t.indexOf(".");r===-1&&(r=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),a=(e/Math.pow(10,s)).toPrecision(n+1+(r+s)%r),!a.match(/[Ee]/)){var i=Math.floor(Math.log(e)*Math.LOG10E);a.indexOf(".")===-1?a=a.charAt(0)+"."+a.substr(1)+"E+"+(i-a.length+s):a+="E+"+(i-s),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,l,u){return c+l+u.substr(0,(r+s)%r)+"."+u.substr(s)+"E"})}else a=e.toExponential(n);return t.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),t.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function ec(t,e,a){if(t.charCodeAt(0)===40&&!e.match(fK)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?ec("n",n,a):"("+ec("n",n,-a)+")"}if(e.charCodeAt(e.length-1)===44)return AMe(t,e,a);if(e.indexOf("%")!==-1)return NMe(t,e,a);if(e.indexOf("E")!==-1)return hK(e,a);if(e.charCodeAt(0)===36)return"$"+ec(t,e.substr(e.charAt(1)==" "?2:1),a);var r,s,i,o,c=Math.abs(a),l=a<0?"-":"";if(e.match(/^00+$/))return l+Ao(c,e.length);if(e.match(/^[#?]+$/))return r=""+a,a===0&&(r=""),r.length>e.length?r:Ns(e.substr(0,e.length-r.length))+r;if(s=e.match(lK))return wMe(s,c,l);if(e.match(/^#+0+$/))return l+Ao(c,e.length-e.indexOf("0"));if(s=e.match(uK))return r=(""+a).replace(/^([^\.]+)$/,"$1."+Ns(s[1])).replace(/\.$/,"."+Ns(s[1])),r=r.replace(/\.(\d*)$/,function(g,x){return"."+x+Ra("0",Ns(s[1]).length-x.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+rl(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+ec(t,e,-a):rl(""+a)+"."+Ra("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ec(t,e.replace(/^#,#*,/,""),a);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Ip(ec(t,e.replace(/[\\-]/g,""),a)),i=0,Ip(Ip(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<r.length?r.charAt(i++):g==="0"?"0":""}));if(e.match(dK))return r=ec(t,"##########",a),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=zw(c,Math.pow(10,i)-1,!1),r=""+l,u=ul("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),r+=u+s[2]+"/"+s[3],u=Mw(o[2],i),u.length<s[4].length&&(u=Ns(s[4].substr(s[4].length-u.length))+u),r+=u,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=zw(c,Math.pow(10,i)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?xD(o[1],i)+s[2]+"/"+s[3]+Mw(o[2],i):Ra(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=""+a,e.length<=r.length?r:Ns(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0]+)\.([#0]+)$/)){r=""+a.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=r.indexOf(".");var d=e.indexOf(".")-i,p=e.length-r.length-d;return Ns(e.substr(0,d)+r+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return a<0?"-"+ec(t,e,-a):rl(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ao(0,3-g.length):"")+g})+"."+Ao(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=rl(""+c);return m!=="0"?l+m:"";default:if(e.match(/\.[0#?]*$/))return ec(t,e.slice(0,e.lastIndexOf(".")),a)+Ns(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ul(t,e,a){return(a|0)===a?ec(t,e,a):Mi(t,e,a)}function SMe(t){for(var e=[],a=!1,n=0,r=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:a=!a;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(r,n-r),r=n+1}if(e[e.length]=t.substr(r),a===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var pK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function vi(t){for(var e=0,a="",n="";e<t.length;)switch(a=t.charAt(e)){case"G":Bw(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=a;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(pK))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(a=t.charAt(++e))>-1||a=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===a;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function TMe(t,e,a,n){for(var r=[],s="",i=0,o="",c="t",l,u,d,p="H";i<t.length;)switch(o=t.charAt(i)){case"G":if(!Bw(t,i))throw new Error("unrecognized character "+o+" in "+t);r[r.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(d=t.charCodeAt(++i))!==34&&i<t.length;)s+=String.fromCharCode(d);r[r.length]={t:"t",v:s},++i;break;case"\\":var m=t.charAt(++i),g=m==="("||m===")"?m:"t";r[r.length]={t:g,v:m},++i;break;case"_":r[r.length]={t:"t",v:" "},i+=2;break;case"@":r[r.length]={t:"T",v:e},++i;break;case"B":case"b":if(t.charAt(i+1)==="1"||t.charAt(i+1)==="2"){if(l==null&&(l=sc(e,a,t.charAt(i+1)==="2"),l==null))return"";r[r.length]={t:"X",v:t.substr(i,2)},c=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||l==null&&(l=sc(e,a),l==null))return"";for(s=o;++i<t.length&&t.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),r[r.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var x={t:o,v:o};if(l==null&&(l=sc(e,a)),t.substr(i,3).toUpperCase()==="A/P"?(l!=null&&(x.v=l.H>=12?t.charAt(i+2):o),x.t="T",p="h",i+=3):t.substr(i,5).toUpperCase()==="AM/PM"?(l!=null&&(x.v=l.H>=12?"PM":"AM"),x.t="T",i+=5,p="h"):t.substr(i,5).toUpperCase()==="/"?(l!=null&&(x.v=l.H>=12?"":""),x.t="T",i+=5,p="h"):(x.t="t",++i),l==null&&x.t==="T")return"";r[r.length]=x,c=o;break;case"[":for(s=o;t.charAt(i++)!=="]"&&i<t.length;)s+=t.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(pK)){if(l==null&&(l=sc(e,a),l==null))return"";r[r.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",vi(t)||(r[r.length]={t:"t",v:s}));break;case".":if(l!=null){for(s=o;++i<t.length&&(o=t.charAt(i))==="0";)s+=o;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(i))>-1;)s+=o;r[r.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++i)===o;)s+=o;r[r.length]={t:o,v:s},c=o;break;case"*":++i,(t.charAt(i)==" "||t.charAt(i)=="*")&&++i;break;case"(":case")":r[r.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<t.length&&"0123456789".indexOf(t.charAt(++i))>-1;)s+=t.charAt(i);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:o,v:o},++i;break;case"$":r[r.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);r[r.length]={t:"t",v:o},++i;break}var v=0,k=0,b;for(i=r.length-1,c="t";i>=0;--i)switch(r[i].t){case"h":case"H":r[i].t=p,c="h",v<1&&(v=1);break;case"s":(b=r[i].v.match(/\.0+$/))&&(k=Math.max(k,b[0].length-1),v=4),v<3&&(v=3);case"d":case"y":case"e":c=r[i].t;break;case"M":c=r[i].t,v<2&&(v=2);break;case"m":c==="s"&&(r[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&r[i].v.match(/[Hh]/)&&(v=1),v<2&&r[i].v.match(/[Mm]/)&&(v=2),v<3&&r[i].v.match(/[Ss]/)&&(v=3)}var _;switch(v){case 0:break;case 1:case 2:case 3:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H),l.H>=24&&(l.H=0,++l.D,_=sc(l.D),_.u=l.u,_.S=l.S,_.M=l.M,_.H=l.H,l=_);break;case 4:switch(k){case 1:l.u=Math.round(l.u*10)/10;break;case 2:l.u=Math.round(l.u*100)/100;break;case 3:l.u=Math.round(l.u*1e3)/1e3;break}l.u>=1&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H),l.H>=24&&(l.H=0,++l.D,_=sc(l.D),_.u=l.u,_.S=l.S,_.M=l.M,_.H=l.H,l=_);break}var A="",S;for(i=0;i<r.length;++i)switch(r[i].t){case"t":case"T":case" ":case"D":break;case"X":r[i].v="",r[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[i].v=yMe(r[i].t.charCodeAt(0),r[i].v,l,k),r[i].t="t";break;case"n":case"?":for(S=i+1;r[S]!=null&&((o=r[S].t)==="?"||o==="D"||(o===" "||o==="t")&&r[S+1]!=null&&(r[S+1].t==="?"||r[S+1].t==="t"&&r[S+1].v==="/")||r[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(r[S].v==="/"||r[S].v===" "&&r[S+1]!=null&&r[S+1].t=="?"));)r[i].v+=r[S].v,r[S]={v:"",t:";"},++S;A+=r[i].v,i=S-1;break;case"G":r[i].t="t",r[i].v=Td(e,a);break}var C="",E,R;if(A.length>0){A.charCodeAt(0)==40?(E=e<0&&A.charCodeAt(0)===45?-e:e,R=ul("n",A,E)):(E=e<0&&n>1?-e:e,R=ul("n",A,E),E<0&&r[0]&&r[0].t=="t"&&(R=R.substr(1),r[0].v="-"+r[0].v)),S=R.length-1;var I=r.length;for(i=0;i<r.length;++i)if(r[i]!=null&&r[i].t!="t"&&r[i].v.indexOf(".")>-1){I=i;break}var P=r.length;if(I===r.length&&R.indexOf("E")===-1){for(i=r.length-1;i>=0;--i)r[i]==null||"n?".indexOf(r[i].t)===-1||(S>=r[i].v.length-1?(S-=r[i].v.length,r[i].v=R.substr(S+1,r[i].v.length)):S<0?r[i].v="":(r[i].v=R.substr(0,S+1),S=-1),r[i].t="t",P=i);S>=0&&P<r.length&&(r[P].v=R.substr(0,S+1)+r[P].v)}else if(I!==r.length&&R.indexOf("E")===-1){for(S=R.indexOf(".")-1,i=I;i>=0;--i)if(!(r[i]==null||"n?".indexOf(r[i].t)===-1)){for(u=r[i].v.indexOf(".")>-1&&i===I?r[i].v.indexOf(".")-1:r[i].v.length-1,C=r[i].v.substr(u+1);u>=0;--u)S>=0&&(r[i].v.charAt(u)==="0"||r[i].v.charAt(u)==="#")&&(C=R.charAt(S--)+C);r[i].v=C,r[i].t="t",P=i}for(S>=0&&P<r.length&&(r[P].v=R.substr(0,S+1)+r[P].v),S=R.indexOf(".")+1,i=I;i<r.length;++i)if(!(r[i]==null||"n?(".indexOf(r[i].t)===-1&&i!==I)){for(u=r[i].v.indexOf(".")>-1&&i===I?r[i].v.indexOf(".")+1:0,C=r[i].v.substr(0,u);u<r[i].v.length;++u)S<R.length&&(C+=R.charAt(S++));r[i].v=C,r[i].t="t",P=i}}}for(i=0;i<r.length;++i)r[i]!=null&&"n?".indexOf(r[i].t)>-1&&(E=n>1&&e<0&&i>0&&r[i-1].v==="-"?-e:e,r[i].v=ul(r[i].t,r[i].v,E),r[i].t="t");var D="";for(i=0;i!==r.length;++i)r[i]!=null&&(D+=r[i].v);return D}var n5=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function r5(t,e){if(e==null)return!1;var a=parseFloat(e[2]);switch(e[1]){case"=":if(t==a)return!0;break;case">":if(t>a)return!0;break;case"<":if(t<a)return!0;break;case"<>":if(t!=a)return!0;break;case">=":if(t>=a)return!0;break;case"<=":if(t<=a)return!0;break}return!1}function EMe(t,e){var a=SMe(t),n=a.length,r=a[n-1].indexOf("@");if(n<4&&r>-1&&--n,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if(typeof e!="number")return[4,a.length===4||r>-1?a[a.length-1]:"@"];switch(typeof e=="number"&&!isFinite(e)&&(e=0),a.length){case 1:a=r>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=r>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=r>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break}var s=e>0?a[0]:e<0?a[1]:a[2];if(a[0].indexOf("[")===-1&&a[1].indexOf("[")===-1)return[n,s];if(a[0].match(/\[[=<>]/)!=null||a[1].match(/\[[=<>]/)!=null){var i=a[0].match(n5),o=a[1].match(n5);return r5(e,i)?[n,a[0]]:r5(e,o)?[n,a[1]]:[n,a[i!=null&&o!=null?2:1]]}return[n,s]}function ei(t,e,a){a==null&&(a={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&a.dateNF?n=a.dateNF:n=t;break;case"number":t==14&&a.dateNF?n=a.dateNF:n=(a.table!=null?a.table:Ct)[t],n==null&&(n=a.table&&a.table[e5[t]]||Ct[e5[t]]),n==null&&(n=fMe[t]||"General");break}if(Bw(n,0))return Td(e,a);e instanceof Date&&(e=In(e,a.date1904));var r=EMe(n,e);if(Bw(r[1]))return Td(e,a);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else{if(e===""||e==null)return"";if(isNaN(e)&&r[1].indexOf("0")>-1)return"#NUM!";if(!isFinite(e)&&r[1].indexOf("0")>-1)return"#DIV/0!"}return TMe(r[1],e,a,r[0])}function wD(t,e){if(typeof e!="number"){e=+e||-1;for(var a=0;a<392;++a){if(Ct[a]==null){e<0&&(e=a);continue}if(Ct[a]==t){e=a;break}}e<0&&(e=391)}return Ct[e]=t,e}function Dm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&wD(t[e],e)}function eh(){Ct=uMe()}var mK={format:ei,load:wD,_table:Ct,load_table:Dm,parse_date_code:sc,is_date:vi,get_table:function(){return mK._table=Ct}},CMe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Gw=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function IMe(t){var e=typeof t=="number"?Ct[t]:t;return e=e.replace(Gw,"(\\d+)"),Gw.lastIndex=0,new RegExp("^"+e+"$")}function RMe(t,e,a){var n=-1,r=-1,s=-1,i=-1,o=-1,c=-1;(e.match(Gw)||[]).forEach(function(d,p){var m=parseInt(a[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?o=m:r=m;break}}),Gw.lastIndex=0,c>=0&&o==-1&&r>=0&&(o=r,r=-1);var l=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&o==-1&&c==-1?l:n==-1&&r==-1&&s==-1?u:l+"T"+u}var DMe={"d.m":"d\\.m"};function gu(t,e){return wD(DMe[t]||t,e)}var s5=function(){var t={};t.version="1.2.0";function e(){for(var E=0,R=new Array(256),I=0;I!=256;++I)E=I,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,R[I]=E;return typeof Int32Array<"u"?new Int32Array(R):R}var a=e();function n(E){var R=0,I=0,P=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)D[P]=E[P];for(P=0;P!=256;++P)for(I=E[P],R=256+P;R<4096;R+=256)I=D[R]=I>>>8^E[I&255];var B=[];for(P=1;P!=16;++P)B[P-1]=typeof Int32Array<"u"&&typeof D.subarray=="function"?D.subarray(P*256,P*256+256):D.slice(P*256,P*256+256);return B}var r=n(a),s=r[0],i=r[1],o=r[2],c=r[3],l=r[4],u=r[5],d=r[6],p=r[7],m=r[8],g=r[9],x=r[10],v=r[11],k=r[12],b=r[13],_=r[14];function A(E,R){for(var I=R^-1,P=0,D=E.length;P<D;)I=I>>>8^a[(I^E.charCodeAt(P++))&255];return~I}function S(E,R){for(var I=R^-1,P=E.length-15,D=0;D<P;)I=_[E[D++]^I&255]^b[E[D++]^I>>8&255]^k[E[D++]^I>>16&255]^v[E[D++]^I>>>24]^x[E[D++]]^g[E[D++]]^m[E[D++]]^p[E[D++]]^d[E[D++]]^u[E[D++]]^l[E[D++]]^c[E[D++]]^o[E[D++]]^i[E[D++]]^s[E[D++]]^a[E[D++]];for(P+=15;D<P;)I=I>>>8^a[(I^E[D++])&255];return~I}function C(E,R){for(var I=R^-1,P=0,D=E.length,B=0,U=0;P<D;)B=E.charCodeAt(P++),B<128?I=I>>>8^a[(I^B)&255]:B<2048?(I=I>>>8^a[(I^(192|B>>6&31))&255],I=I>>>8^a[(I^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,U=E.charCodeAt(P++)&1023,I=I>>>8^a[(I^(240|B>>8&7))&255],I=I>>>8^a[(I^(128|B>>2&63))&255],I=I>>>8^a[(I^(128|U>>6&15|(B&3)<<4))&255],I=I>>>8^a[(I^(128|U&63))&255]):(I=I>>>8^a[(I^(224|B>>12&15))&255],I=I>>>8^a[(I^(128|B>>6&63))&255],I=I>>>8^a[(I^(128|B&63))&255]);return~I}return t.table=a,t.bstr=A,t.buf=S,t.str=C,t}(),$t=function(){var e={};e.version="1.2.2";function a(H,oe){for(var ae=H.split("/"),re=oe.split("/"),ce=0,fe=0,Pe=Math.min(ae.length,re.length);ce<Pe;++ce){if(fe=ae[ce].length-re[ce].length)return fe;if(ae[ce]!=re[ce])return ae[ce]<re[ce]?-1:1}return ae.length-re.length}function n(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:n(H.slice(0,-1));var oe=H.lastIndexOf("/");return oe===-1?H:H.slice(0,oe+1)}function r(H){if(H.charAt(H.length-1)=="/")return r(H.slice(0,-1));var oe=H.lastIndexOf("/");return oe===-1?H:H.slice(oe+1)}function s(H,oe){typeof oe=="string"&&(oe=new Date(oe));var ae=oe.getHours();ae=ae<<6|oe.getMinutes(),ae=ae<<5|oe.getSeconds()>>>1,H.write_shift(2,ae);var re=oe.getFullYear()-1980;re=re<<4|oe.getMonth()+1,re=re<<5|oe.getDate(),H.write_shift(2,re)}function i(H){var oe=H.read_shift(2)&65535,ae=H.read_shift(2)&65535,re=new Date,ce=ae&31;ae>>>=5;var fe=ae&15;ae>>>=4,re.setMilliseconds(0),re.setFullYear(ae+1980),re.setMonth(fe-1),re.setDate(ce);var Pe=oe&31;oe>>>=5;var Ge=oe&63;return oe>>>=6,re.setHours(oe),re.setMinutes(Ge),re.setSeconds(Pe<<1),re}function o(H){hr(H,0);for(var oe={},ae=0;H.l<=H.length-4;){var re=H.read_shift(2),ce=H.read_shift(2),fe=H.l+ce,Pe={};switch(re){case 21589:ae=H.read_shift(1),ae&1&&(Pe.mtime=H.read_shift(4)),ce>5&&(ae&2&&(Pe.atime=H.read_shift(4)),ae&4&&(Pe.ctime=H.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3));break;case 1:{var Ge=H.read_shift(4),Te=H.read_shift(4);Pe.usz=Te*Math.pow(2,32)+Ge,Ge=H.read_shift(4),Te=H.read_shift(4),Pe.csz=Te*Math.pow(2,32)+Ge}break}H.l=fe,oe[re]=Pe}return oe}var c;function l(){return c||(c=sl)}function u(H,oe){if(H[0]==80&&H[1]==75)return yv(H,oe);if((H[0]|32)==109&&(H[1]|32)==105)return $m(H,oe);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var ae=3,re=512,ce=0,fe=0,Pe=0,Ge=0,Te=0,Ee=[],De=H.slice(0,512);hr(De,0);var Je=d(De);switch(ae=Je[0],ae){case 3:re=512;break;case 4:re=4096;break;case 0:if(Je[1]==0)return yv(H,oe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ae)}re!==512&&(De=H.slice(0,re),hr(De,28));var rt=H.slice(0,re);p(De,ae);var ht=De.read_shift(4,"i");if(ae===3&&ht!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ht);De.l+=4,Pe=De.read_shift(4,"i"),De.l+=4,De.chk("00100000","Mini Stream Cutoff Size: "),Ge=De.read_shift(4,"i"),ce=De.read_shift(4,"i"),Te=De.read_shift(4,"i"),fe=De.read_shift(4,"i");for(var Qe=-1,et=0;et<109&&(Qe=De.read_shift(4,"i"),!(Qe<0));++et)Ee[et]=Qe;var Vt=m(H,re);v(Te,fe,Vt,re,Ee);var tn=b(Vt,Pe,Ee,re);Pe<tn.length&&(tn[Pe].name="!Directory"),ce>0&&Ge!==U&&(tn[Ge].name="!MiniFAT"),tn[Ee[0]].name="!FAT",tn.fat_addrs=Ee,tn.ssz=re;var Ga={},wn=[],ws=[],af=[];_(Pe,tn,Vt,wn,ce,Ga,ws,Ge),g(ws,af,wn),wn.shift();var Dl={FileIndex:ws,FullPaths:af};return oe&&oe.raw&&(Dl.raw={header:rt,sectors:Vt}),Dl}function d(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(V,"Header Signature: "),H.l+=16;var oe=H.read_shift(2,"u");return[H.read_shift(2,"u"),oe]}function p(H,oe){var ae=9;switch(H.l+=2,ae=H.read_shift(2)){case 9:if(oe!=3)throw new Error("Sector Shift: Expected 9 saw "+ae);break;case 12:if(oe!=4)throw new Error("Sector Shift: Expected 12 saw "+ae);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ae)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function m(H,oe){for(var ae=Math.ceil(H.length/oe)-1,re=[],ce=1;ce<ae;++ce)re[ce-1]=H.slice(ce*oe,(ce+1)*oe);return re[ae-1]=H.slice(ae*oe),re}function g(H,oe,ae){for(var re=0,ce=0,fe=0,Pe=0,Ge=0,Te=ae.length,Ee=[],De=[];re<Te;++re)Ee[re]=De[re]=re,oe[re]=ae[re];for(;Ge<De.length;++Ge)re=De[Ge],ce=H[re].L,fe=H[re].R,Pe=H[re].C,Ee[re]===re&&(ce!==-1&&Ee[ce]!==ce&&(Ee[re]=Ee[ce]),fe!==-1&&Ee[fe]!==fe&&(Ee[re]=Ee[fe])),Pe!==-1&&(Ee[Pe]=re),ce!==-1&&re!=Ee[re]&&(Ee[ce]=Ee[re],De.lastIndexOf(ce)<Ge&&De.push(ce)),fe!==-1&&re!=Ee[re]&&(Ee[fe]=Ee[re],De.lastIndexOf(fe)<Ge&&De.push(fe));for(re=1;re<Te;++re)Ee[re]===re&&(fe!==-1&&Ee[fe]!==fe?Ee[re]=Ee[fe]:ce!==-1&&Ee[ce]!==ce&&(Ee[re]=Ee[ce]));for(re=1;re<Te;++re)if(H[re].type!==0){if(Ge=re,Ge!=Ee[Ge])do Ge=Ee[Ge],oe[re]=oe[Ge]+"/"+oe[re];while(Ge!==0&&Ee[Ge]!==-1&&Ge!=Ee[Ge]);Ee[re]=-1}for(oe[0]+="/",re=1;re<Te;++re)H[re].type!==2&&(oe[re]+="/")}function x(H,oe,ae){for(var re=H.start,ce=H.size,fe=[],Pe=re;ae&&ce>0&&Pe>=0;)fe.push(oe.slice(Pe*B,Pe*B+B)),ce-=B,Pe=Bf(ae,Pe*4);return fe.length===0?Re(0):jn(fe).slice(0,H.size)}function v(H,oe,ae,re,ce){var fe=U;if(H===U){if(oe!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var Pe=ae[H],Ge=(re>>>2)-1;if(!Pe)return;for(var Te=0;Te<Ge&&(fe=Bf(Pe,Te*4))!==U;++Te)ce.push(fe);oe>=1&&v(Bf(Pe,re-4),oe-1,ae,re,ce)}}function k(H,oe,ae,re,ce){var fe=[],Pe=[];ce||(ce=[]);var Ge=re-1,Te=0,Ee=0;for(Te=oe;Te>=0;){ce[Te]=!0,fe[fe.length]=Te,Pe.push(H[Te]);var De=ae[Math.floor(Te*4/re)];if(Ee=Te*4&Ge,re<4+Ee)throw new Error("FAT boundary crossed: "+Te+" 4 "+re);if(!H[De])break;Te=Bf(H[De],Ee)}return{nodes:fe,data:g5([Pe])}}function b(H,oe,ae,re){var ce=H.length,fe=[],Pe=[],Ge=[],Te=[],Ee=re-1,De=0,Je=0,rt=0,ht=0;for(De=0;De<ce;++De)if(Ge=[],rt=De+oe,rt>=ce&&(rt-=ce),!Pe[rt]){Te=[];var Qe=[];for(Je=rt;Je>=0;){Qe[Je]=!0,Pe[Je]=!0,Ge[Ge.length]=Je,Te.push(H[Je]);var et=ae[Math.floor(Je*4/re)];if(ht=Je*4&Ee,re<4+ht)throw new Error("FAT boundary crossed: "+Je+" 4 "+re);if(!H[et]||(Je=Bf(H[et],ht),Qe[Je]))break}fe[rt]={nodes:Ge,data:g5([Te])}}return fe}function _(H,oe,ae,re,ce,fe,Pe,Ge){for(var Te=0,Ee=re.length?2:0,De=oe[H].data,Je=0,rt=0,ht;Je<De.length;Je+=128){var Qe=De.slice(Je,Je+128);hr(Qe,64),rt=Qe.read_shift(2),ht=v2(Qe,0,rt-Ee),re.push(ht);var et={name:ht,type:Qe.read_shift(1),color:Qe.read_shift(1),L:Qe.read_shift(4,"i"),R:Qe.read_shift(4,"i"),C:Qe.read_shift(4,"i"),clsid:Qe.read_shift(16),state:Qe.read_shift(4,"i"),start:0,size:0},Vt=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);Vt!==0&&(et.ct=A(Qe,Qe.l-8));var tn=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);tn!==0&&(et.mt=A(Qe,Qe.l-8)),et.start=Qe.read_shift(4,"i"),et.size=Qe.read_shift(4,"i"),et.size<0&&et.start<0&&(et.size=et.type=0,et.start=U,et.name=""),et.type===5?(Te=et.start,ce>0&&Te!==U&&(oe[Te].name="!StreamData")):et.size>=4096?(et.storage="fat",oe[et.start]===void 0&&(oe[et.start]=k(ae,et.start,oe.fat_addrs,oe.ssz)),oe[et.start].name=et.name,et.content=oe[et.start].data.slice(0,et.size)):(et.storage="minifat",et.size<0?et.size=0:Te!==U&&et.start!==U&&oe[Te]&&(et.content=x(et,oe[Te].data,(oe[Ge]||{}).data))),et.content&&hr(et.content,0),fe[ht]=et,Pe.push(et)}}function A(H,oe){return new Date((Rr(H,oe+4)/1e7*Math.pow(2,32)+Rr(H,oe)/1e7-11644473600)*1e3)}function S(H,oe){return l(),u(c.readFileSync(H),oe)}function C(H,oe){var ae=oe&&oe.type;switch(ae||oa&&Buffer.isBuffer(H)&&(ae="buffer"),ae||"base64"){case"file":return S(H,oe);case"base64":return u(Es(yi(H)),oe);case"binary":return u(Es(H),oe)}return u(H,oe)}function E(H,oe){var ae=oe||{},re=ae.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=re+"/",H.FileIndex[0]={name:re,type:5}),ae.CLSID&&(H.FileIndex[0].clsid=ae.CLSID),R(H)}function R(H){var oe="Sh33tJ5";if(!$t.find(H,"/"+oe)){var ae=Re(4);ae[0]=55,ae[1]=ae[3]=50,ae[2]=54,H.FileIndex.push({name:oe,type:2,content:ae,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+oe),I(H)}}function I(H,oe){E(H);for(var ae=!1,re=!1,ce=H.FullPaths.length-1;ce>=0;--ce){var fe=H.FileIndex[ce];switch(fe.type){case 0:re?ae=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(fe.R*fe.L*fe.C)&&(ae=!0),fe.R>-1&&fe.L>-1&&fe.R==fe.L&&(ae=!0);break;default:ae=!0;break}}if(!(!ae&&!oe)){var Pe=new Date(1987,1,19),Ge=0,Te=Object.create?Object.create(null):{},Ee=[];for(ce=0;ce<H.FullPaths.length;++ce)Te[H.FullPaths[ce]]=!0,H.FileIndex[ce].type!==0&&Ee.push([H.FullPaths[ce],H.FileIndex[ce]]);for(ce=0;ce<Ee.length;++ce){var De=n(Ee[ce][0]);for(re=Te[De];!re;){for(;n(De)&&!Te[n(De)];)De=n(De);Ee.push([De,{name:r(De).replace("/",""),type:1,clsid:W,ct:Pe,mt:Pe,content:null}]),Te[De]=!0,De=n(Ee[ce][0]),re=Te[De]}}for(Ee.sort(function(ht,Qe){return a(ht[0],Qe[0])}),H.FullPaths=[],H.FileIndex=[],ce=0;ce<Ee.length;++ce)H.FullPaths[ce]=Ee[ce][0],H.FileIndex[ce]=Ee[ce][1];for(ce=0;ce<Ee.length;++ce){var Je=H.FileIndex[ce],rt=H.FullPaths[ce];if(Je.name=r(rt).replace("/",""),Je.L=Je.R=Je.C=-(Je.color=1),Je.size=Je.content?Je.content.length:0,Je.start=0,Je.clsid=Je.clsid||W,ce===0)Je.C=Ee.length>1?1:-1,Je.size=0,Je.type=5;else if(rt.slice(-1)=="/"){for(Ge=ce+1;Ge<Ee.length&&n(H.FullPaths[Ge])!=rt;++Ge);for(Je.C=Ge>=Ee.length?-1:Ge,Ge=ce+1;Ge<Ee.length&&n(H.FullPaths[Ge])!=n(rt);++Ge);Je.R=Ge>=Ee.length?-1:Ge,Je.type=1}else n(H.FullPaths[ce+1]||"")==n(rt)&&(Je.R=ce+1),Je.type=2}}}function P(H,oe){var ae=oe||{};if(ae.fileType=="mad")return tf(H,ae);switch(I(H),ae.fileType){case"zip":return lh(H,ae)}var re=function(ht){for(var Qe=0,et=0,Vt=0;Vt<ht.FileIndex.length;++Vt){var tn=ht.FileIndex[Vt];if(tn.content){var Ga=tn.content.length;Ga>0&&(Ga<4096?Qe+=Ga+63>>6:et+=Ga+511>>9)}}for(var wn=ht.FullPaths.length+3>>2,ws=Qe+7>>3,af=Qe+127>>7,Dl=ws+et+wn+af,jo=Dl+127>>7,Lm=jo<=109?0:Math.ceil((jo-109)/127);Dl+jo+Lm+127>>7>jo;)Lm=++jo<=109?0:Math.ceil((jo-109)/127);var $s=[1,Lm,jo,af,wn,et,Qe,0];return ht.FileIndex[0].size=Qe<<6,$s[7]=(ht.FileIndex[0].start=$s[0]+$s[1]+$s[2]+$s[3]+$s[4]+$s[5])+($s[6]+7>>3),$s}(H),ce=Re(re[7]<<9),fe=0,Pe=0;{for(fe=0;fe<8;++fe)ce.write_shift(1,j[fe]);for(fe=0;fe<8;++fe)ce.write_shift(2,0);for(ce.write_shift(2,62),ce.write_shift(2,3),ce.write_shift(2,65534),ce.write_shift(2,9),ce.write_shift(2,6),fe=0;fe<3;++fe)ce.write_shift(2,0);for(ce.write_shift(4,0),ce.write_shift(4,re[2]),ce.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),ce.write_shift(4,0),ce.write_shift(4,4096),ce.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:U),ce.write_shift(4,re[3]),ce.write_shift(-4,re[1]?re[0]-1:U),ce.write_shift(4,re[1]),fe=0;fe<109;++fe)ce.write_shift(-4,fe<re[2]?re[1]+fe:-1)}if(re[1])for(Pe=0;Pe<re[1];++Pe){for(;fe<236+Pe*127;++fe)ce.write_shift(-4,fe<re[2]?re[1]+fe:-1);ce.write_shift(-4,Pe===re[1]-1?U:Pe+1)}var Ge=function(ht){for(Pe+=ht;fe<Pe-1;++fe)ce.write_shift(-4,fe+1);ht&&(++fe,ce.write_shift(-4,U))};for(Pe=fe=0,Pe+=re[1];fe<Pe;++fe)ce.write_shift(-4,Q.DIFSECT);for(Pe+=re[2];fe<Pe;++fe)ce.write_shift(-4,Q.FATSECT);Ge(re[3]),Ge(re[4]);for(var Te=0,Ee=0,De=H.FileIndex[0];Te<H.FileIndex.length;++Te)De=H.FileIndex[Te],De.content&&(Ee=De.content.length,!(Ee<4096)&&(De.start=Pe,Ge(Ee+511>>9)));for(Ge(re[6]+7>>3);ce.l&511;)ce.write_shift(-4,Q.ENDOFCHAIN);for(Pe=fe=0,Te=0;Te<H.FileIndex.length;++Te)De=H.FileIndex[Te],De.content&&(Ee=De.content.length,!(!Ee||Ee>=4096)&&(De.start=Pe,Ge(Ee+63>>6)));for(;ce.l&511;)ce.write_shift(-4,Q.ENDOFCHAIN);for(fe=0;fe<re[4]<<2;++fe){var Je=H.FullPaths[fe];if(!Je||Je.length===0){for(Te=0;Te<17;++Te)ce.write_shift(4,0);for(Te=0;Te<3;++Te)ce.write_shift(4,-1);for(Te=0;Te<12;++Te)ce.write_shift(4,0);continue}De=H.FileIndex[fe],fe===0&&(De.start=De.size?De.start-1:U);var rt=fe===0&&ae.root||De.name;if(rt.length>31&&(console.error("Name "+rt+" will be truncated to "+rt.slice(0,31)),rt=rt.slice(0,31)),Ee=2*(rt.length+1),ce.write_shift(64,rt,"utf16le"),ce.write_shift(2,Ee),ce.write_shift(1,De.type),ce.write_shift(1,De.color),ce.write_shift(-4,De.L),ce.write_shift(-4,De.R),ce.write_shift(-4,De.C),De.clsid)ce.write_shift(16,De.clsid,"hex");else for(Te=0;Te<4;++Te)ce.write_shift(4,0);ce.write_shift(4,De.state||0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,De.start),ce.write_shift(4,De.size),ce.write_shift(4,0)}for(fe=1;fe<H.FileIndex.length;++fe)if(De=H.FileIndex[fe],De.size>=4096)if(ce.l=De.start+1<<9,oa&&Buffer.isBuffer(De.content))De.content.copy(ce,ce.l,0,De.size),ce.l+=De.size+511&-512;else{for(Te=0;Te<De.size;++Te)ce.write_shift(1,De.content[Te]);for(;Te&511;++Te)ce.write_shift(1,0)}for(fe=1;fe<H.FileIndex.length;++fe)if(De=H.FileIndex[fe],De.size>0&&De.size<4096)if(oa&&Buffer.isBuffer(De.content))De.content.copy(ce,ce.l,0,De.size),ce.l+=De.size+63&-64;else{for(Te=0;Te<De.size;++Te)ce.write_shift(1,De.content[Te]);for(;Te&63;++Te)ce.write_shift(1,0)}if(oa)ce.l=ce.length;else for(;ce.l<ce.length;)ce.write_shift(1,0);return ce}function D(H,oe){var ae=H.FullPaths.map(function(Te){return Te.toUpperCase()}),re=ae.map(function(Te){var Ee=Te.split("/");return Ee[Ee.length-(Te.slice(-1)=="/"?2:1)]}),ce=!1;oe.charCodeAt(0)===47?(ce=!0,oe=ae[0].slice(0,-1)+oe):ce=oe.indexOf("/")!==-1;var fe=oe.toUpperCase(),Pe=ce===!0?ae.indexOf(fe):re.indexOf(fe);if(Pe!==-1)return H.FileIndex[Pe];var Ge=!fe.match(eg);for(fe=fe.replace(Rs,""),Ge&&(fe=fe.replace(eg,"!")),Pe=0;Pe<ae.length;++Pe)if((Ge?ae[Pe].replace(eg,"!"):ae[Pe]).replace(Rs,"")==fe||(Ge?re[Pe].replace(eg,"!"):re[Pe]).replace(Rs,"")==fe)return H.FileIndex[Pe];return null}var B=64,U=-2,V="d0cf11e0a1b11ae1",j=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(H,oe,ae){l();var re=P(H,ae);c.writeFileSync(oe,re)}function Z(H){for(var oe=new Array(H.length),ae=0;ae<H.length;++ae)oe[ae]=String.fromCharCode(H[ae]);return oe.join("")}function M(H,oe){var ae=P(H,oe);switch(oe&&oe.type||"buffer"){case"file":return l(),c.writeFileSync(oe.filename,ae),ae;case"binary":return typeof ae=="string"?ae:Z(ae);case"base64":return Lw(typeof ae=="string"?ae:Z(ae));case"buffer":if(oa)return Buffer.isBuffer(ae)?ae:Dc(ae);case"array":return typeof ae=="string"?Es(ae):ae}return ae}var se;function ue(H){try{var oe=H.InflateRaw,ae=new oe;if(ae._processChunk(new Uint8Array([3,0]),ae._finishFlushFlag),ae.bytesRead)se=H;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function le(H,oe){if(!se)return Rl(H,oe);var ae=se.InflateRaw,re=new ae,ce=re._processChunk(H.slice(H.l),re._finishFlushFlag);return H.l+=re.bytesRead,ce}function ie(H){return se?se.deflateRawSync(H):La(H)}var ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ke=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function G(H){var oe=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(oe>>16|oe>>8|oe)&255}for(var te=typeof Uint8Array<"u",ee=te?new Uint8Array(256):[],ne=0;ne<256;++ne)ee[ne]=G(ne);function be(H,oe){var ae=ee[H&255];return oe<=8?ae>>>8-oe:(ae=ae<<8|ee[H>>8&255],oe<=16?ae>>>16-oe:(ae=ae<<8|ee[H>>16&255],ae>>>24-oe))}function Y(H,oe){var ae=oe&7,re=oe>>>3;return(H[re]|(ae<=6?0:H[re+1]<<8))>>>ae&3}function Ae(H,oe){var ae=oe&7,re=oe>>>3;return(H[re]|(ae<=5?0:H[re+1]<<8))>>>ae&7}function Oe(H,oe){var ae=oe&7,re=oe>>>3;return(H[re]|(ae<=4?0:H[re+1]<<8))>>>ae&15}function $e(H,oe){var ae=oe&7,re=oe>>>3;return(H[re]|(ae<=3?0:H[re+1]<<8))>>>ae&31}function He(H,oe){var ae=oe&7,re=oe>>>3;return(H[re]|(ae<=1?0:H[re+1]<<8))>>>ae&127}function Ve(H,oe,ae){var re=oe&7,ce=oe>>>3,fe=(1<<ae)-1,Pe=H[ce]>>>re;return ae<8-re||(Pe|=H[ce+1]<<8-re,ae<16-re)||(Pe|=H[ce+2]<<16-re,ae<24-re)||(Pe|=H[ce+3]<<24-re),Pe&fe}function tt(H,oe,ae){var re=oe&7,ce=oe>>>3;return re<=5?H[ce]|=(ae&7)<<re:(H[ce]|=ae<<re&255,H[ce+1]=(ae&7)>>8-re),oe+3}function lt(H,oe,ae){var re=oe&7,ce=oe>>>3;return ae=(ae&1)<<re,H[ce]|=ae,oe+1}function Mt(H,oe,ae){var re=oe&7,ce=oe>>>3;return ae<<=re,H[ce]|=ae&255,ae>>>=8,H[ce+1]=ae,oe+8}function Ft(H,oe,ae){var re=oe&7,ce=oe>>>3;return ae<<=re,H[ce]|=ae&255,ae>>>=8,H[ce+1]=ae&255,H[ce+2]=ae>>>8,oe+16}function st(H,oe){var ae=H.length,re=2*ae>oe?2*ae:oe+5,ce=0;if(ae>=oe)return H;if(oa){var fe=ZM(re);if(H.copy)H.copy(fe);else for(;ce<H.length;++ce)fe[ce]=H[ce];return fe}else if(te){var Pe=new Uint8Array(re);if(Pe.set)Pe.set(H);else for(;ce<ae;++ce)Pe[ce]=H[ce];return Pe}return H.length=re,H}function Be(H){for(var oe=new Array(H),ae=0;ae<H;++ae)oe[ae]=0;return oe}function Fe(H,oe,ae){var re=1,ce=0,fe=0,Pe=0,Ge=0,Te=H.length,Ee=te?new Uint16Array(32):Be(32);for(fe=0;fe<32;++fe)Ee[fe]=0;for(fe=Te;fe<ae;++fe)H[fe]=0;Te=H.length;var De=te?new Uint16Array(Te):Be(Te);for(fe=0;fe<Te;++fe)Ee[ce=H[fe]]++,re<ce&&(re=ce),De[fe]=0;for(Ee[0]=0,fe=1;fe<=re;++fe)Ee[fe+16]=Ge=Ge+Ee[fe-1]<<1;for(fe=0;fe<Te;++fe)Ge=H[fe],Ge!=0&&(De[fe]=Ee[Ge+16]++);var Je=0;for(fe=0;fe<Te;++fe)if(Je=H[fe],Je!=0)for(Ge=be(De[fe],re)>>re-Je,Pe=(1<<re+4-Je)-1;Pe>=0;--Pe)oe[Ge|Pe<<Je]=Je&15|fe<<4;return re}var It=te?new Uint16Array(512):Be(512),Lt=te?new Uint16Array(32):Be(32);if(!te){for(var Rt=0;Rt<512;++Rt)It[Rt]=0;for(Rt=0;Rt<32;++Rt)Lt[Rt]=0}(function(){for(var H=[],oe=0;oe<32;oe++)H.push(5);Fe(H,Lt,32);var ae=[];for(oe=0;oe<=143;oe++)ae.push(8);for(;oe<=255;oe++)ae.push(9);for(;oe<=279;oe++)ae.push(7);for(;oe<=287;oe++)ae.push(8);Fe(ae,It,288)})();var $a=function(){for(var oe=te?new Uint8Array(32768):[],ae=0,re=0;ae<ge.length-1;++ae)for(;re<ge[ae+1];++re)oe[re]=ae;for(;re<32768;++re)oe[re]=29;var ce=te?new Uint8Array(259):[];for(ae=0,re=0;ae<ke.length-1;++ae)for(;re<ke[ae+1];++re)ce[re]=ae;function fe(Ge,Te){for(var Ee=0;Ee<Ge.length;){var De=Math.min(65535,Ge.length-Ee),Je=Ee+De==Ge.length;for(Te.write_shift(1,+Je),Te.write_shift(2,De),Te.write_shift(2,~De&65535);De-- >0;)Te[Te.l++]=Ge[Ee++]}return Te.l}function Pe(Ge,Te){for(var Ee=0,De=0,Je=te?new Uint16Array(32768):[];De<Ge.length;){var rt=Math.min(65535,Ge.length-De);if(rt<10){for(Ee=tt(Te,Ee,+(De+rt==Ge.length)),Ee&7&&(Ee+=8-(Ee&7)),Te.l=Ee/8|0,Te.write_shift(2,rt),Te.write_shift(2,~rt&65535);rt-- >0;)Te[Te.l++]=Ge[De++];Ee=Te.l*8;continue}Ee=tt(Te,Ee,+(De+rt==Ge.length)+2);for(var ht=0;rt-- >0;){var Qe=Ge[De];ht=(ht<<5^Qe)&32767;var et=-1,Vt=0;if((et=Je[ht])&&(et|=De&-32768,et>De&&(et-=32768),et<De))for(;Ge[et+Vt]==Ge[De+Vt]&&Vt<250;)++Vt;if(Vt>2){Qe=ce[Vt],Qe<=22?Ee=Mt(Te,Ee,ee[Qe+1]>>1)-1:(Mt(Te,Ee,3),Ee+=5,Mt(Te,Ee,ee[Qe-23]>>5),Ee+=3);var tn=Qe<8?0:Qe-4>>2;tn>0&&(Ft(Te,Ee,Vt-ke[Qe]),Ee+=tn),Qe=oe[De-et],Ee=Mt(Te,Ee,ee[Qe]>>3),Ee-=3;var Ga=Qe<4?0:Qe-2>>1;Ga>0&&(Ft(Te,Ee,De-et-ge[Qe]),Ee+=Ga);for(var wn=0;wn<Vt;++wn)Je[ht]=De&32767,ht=(ht<<5^Ge[De])&32767,++De;rt-=Vt-1}else Qe<=143?Qe=Qe+48:Ee=lt(Te,Ee,1),Ee=Mt(Te,Ee,ee[Qe]),Je[ht]=De&32767,++De}Ee=Mt(Te,Ee,0)-1}return Te.l=(Ee+7)/8|0,Te.l}return function(Te,Ee){return Te.length<8?fe(Te,Ee):Pe(Te,Ee)}}();function La(H){var oe=Re(50+Math.floor(H.length*1.1)),ae=$a(H,oe);return oe.slice(0,ae)}var it=te?new Uint16Array(32768):Be(32768),jt=te?new Uint16Array(32768):Be(32768),Ht=te?new Uint16Array(128):Be(128),Wt=1,ur=1;function Kn(H,oe){var ae=$e(H,oe)+257;oe+=5;var re=$e(H,oe)+1;oe+=5;var ce=Oe(H,oe)+4;oe+=4;for(var fe=0,Pe=te?new Uint8Array(19):Be(19),Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=1,Ee=te?new Uint8Array(8):Be(8),De=te?new Uint8Array(8):Be(8),Je=Pe.length,rt=0;rt<ce;++rt)Pe[ye[rt]]=fe=Ae(H,oe),Te<fe&&(Te=fe),Ee[fe]++,oe+=3;var ht=0;for(Ee[0]=0,rt=1;rt<=Te;++rt)De[rt]=ht=ht+Ee[rt-1]<<1;for(rt=0;rt<Je;++rt)(ht=Pe[rt])!=0&&(Ge[rt]=De[ht]++);var Qe=0;for(rt=0;rt<Je;++rt)if(Qe=Pe[rt],Qe!=0){ht=ee[Ge[rt]]>>8-Qe;for(var et=(1<<7-Qe)-1;et>=0;--et)Ht[ht|et<<Qe]=Qe&7|rt<<3}var Vt=[];for(Te=1;Vt.length<ae+re;)switch(ht=Ht[He(H,oe)],oe+=ht&7,ht>>>=3){case 16:for(fe=3+Y(H,oe),oe+=2,ht=Vt[Vt.length-1];fe-- >0;)Vt.push(ht);break;case 17:for(fe=3+Ae(H,oe),oe+=3;fe-- >0;)Vt.push(0);break;case 18:for(fe=11+He(H,oe),oe+=7;fe-- >0;)Vt.push(0);break;default:Vt.push(ht),Te<ht&&(Te=ht);break}var tn=Vt.slice(0,ae),Ga=Vt.slice(ae);for(rt=ae;rt<286;++rt)tn[rt]=0;for(rt=re;rt<30;++rt)Ga[rt]=0;return Wt=Fe(tn,it,286),ur=Fe(Ga,jt,30),oe}function Rn(H,oe){if(H[0]==3&&!(H[1]&3))return[Ou(oe),2];for(var ae=0,re=0,ce=ZM(oe||1<<18),fe=0,Pe=ce.length>>>0,Ge=0,Te=0;(re&1)==0;){if(re=Ae(H,ae),ae+=3,re>>>1)re>>1==1?(Ge=9,Te=5):(ae=Kn(H,ae),Ge=Wt,Te=ur);else{ae&7&&(ae+=8-(ae&7));var Ee=H[ae>>>3]|H[(ae>>>3)+1]<<8;if(ae+=32,Ee>0)for(!oe&&Pe<fe+Ee&&(ce=st(ce,fe+Ee),Pe=ce.length);Ee-- >0;)ce[fe++]=H[ae>>>3],ae+=8;continue}for(;;){!oe&&Pe<fe+32767&&(ce=st(ce,fe+32767),Pe=ce.length);var De=Ve(H,ae,Ge),Je=re>>>1==1?It[De]:it[De];if(ae+=Je&15,Je>>>=4,(Je>>>8&255)===0)ce[fe++]=Je;else{if(Je==256)break;Je-=257;var rt=Je<8?0:Je-4>>2;rt>5&&(rt=0);var ht=fe+ke[Je];rt>0&&(ht+=Ve(H,ae,rt),ae+=rt),De=Ve(H,ae,Te),Je=re>>>1==1?Lt[De]:jt[De],ae+=Je&15,Je>>>=4;var Qe=Je<4?0:Je-2>>1,et=ge[Je];for(Qe>0&&(et+=Ve(H,ae,Qe),ae+=Qe),!oe&&Pe<ht&&(ce=st(ce,ht+100),Pe=ce.length);fe<ht;)ce[fe]=ce[fe-et],++fe}}}return oe?[ce,ae+7>>>3]:[ce.slice(0,fe),ae+7>>>3]}function Rl(H,oe){var ae=H.slice(H.l||0),re=Rn(ae,oe);return H.l+=re[1],re[0]}function oh(H,oe){if(H)typeof console<"u"&&console.error(oe);else throw new Error(oe)}function yv(H,oe){var ae=H;hr(ae,0);var re=[],ce=[],fe={FileIndex:re,FullPaths:ce};E(fe,{root:oe.root});for(var Pe=ae.length-4;(ae[Pe]!=80||ae[Pe+1]!=75||ae[Pe+2]!=5||ae[Pe+3]!=6)&&Pe>=0;)--Pe;ae.l=Pe+4,ae.l+=4;var Ge=ae.read_shift(2);ae.l+=6;var Te=ae.read_shift(4);for(ae.l=Te,Pe=0;Pe<Ge;++Pe){ae.l+=20;var Ee=ae.read_shift(4),De=ae.read_shift(4),Je=ae.read_shift(2),rt=ae.read_shift(2),ht=ae.read_shift(2);ae.l+=8;var Qe=ae.read_shift(4),et=o(ae.slice(ae.l+Je,ae.l+Je+rt));ae.l+=Je+rt+ht;var Vt=ae.l;ae.l=Qe+4,et&&et[1]&&((et[1]||{}).usz&&(De=et[1].usz),(et[1]||{}).csz&&(Ee=et[1].csz)),ch(ae,Ee,De,fe,et),ae.l=Vt}return fe}function ch(H,oe,ae,re,ce){H.l+=2;var fe=H.read_shift(2),Pe=H.read_shift(2),Ge=i(H);if(fe&8257)throw new Error("Unsupported ZIP encryption");for(var Te=H.read_shift(4),Ee=H.read_shift(4),De=H.read_shift(4),Je=H.read_shift(2),rt=H.read_shift(2),ht="",Qe=0;Qe<Je;++Qe)ht+=String.fromCharCode(H[H.l++]);if(rt){var et=o(H.slice(H.l,H.l+rt));(et[21589]||{}).mt&&(Ge=et[21589].mt),(et[1]||{}).usz&&(De=et[1].usz),(et[1]||{}).csz&&(Ee=et[1].csz),ce&&((ce[21589]||{}).mt&&(Ge=ce[21589].mt),(ce[1]||{}).usz&&(De=ce[1].usz),(ce[1]||{}).csz&&(Ee=ce[1].csz))}H.l+=rt;var Vt=H.slice(H.l,H.l+Ee);switch(Pe){case 8:Vt=le(H,De);break;case 0:H.l+=Ee;break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var tn=!1;fe&8&&(Te=H.read_shift(4),Te==134695760&&(Te=H.read_shift(4),tn=!0),Ee=H.read_shift(4),De=H.read_shift(4)),Ee!=oe&&oh(tn,"Bad compressed size: "+oe+" != "+Ee),De!=ae&&oh(tn,"Bad uncompressed size: "+ae+" != "+De),fh(re,ht,Vt,{unsafe:!0,mt:Ge})}function lh(H,oe){var ae=oe||{},re=[],ce=[],fe=Re(1),Pe=ae.compression?8:0,Ge=0,Te=0,Ee=0,De=0,Je=0,rt=H.FullPaths[0],ht=rt,Qe=H.FileIndex[0],et=[],Vt=0;for(Te=1;Te<H.FullPaths.length;++Te)if(ht=H.FullPaths[Te].slice(rt.length),Qe=H.FileIndex[Te],!(!Qe.size||!Qe.content||Array.isArray(Qe.content)&&Qe.content.length==0||ht=="Sh33tJ5")){var tn=De,Ga=Re(ht.length);for(Ee=0;Ee<ht.length;++Ee)Ga.write_shift(1,ht.charCodeAt(Ee)&127);Ga=Ga.slice(0,Ga.l),et[Je]=typeof Qe.content=="string"?s5.bstr(Qe.content,0):s5.buf(Qe.content,0);var wn=typeof Qe.content=="string"?Es(Qe.content):Qe.content;Pe==8&&(wn=ie(wn)),fe=Re(30),fe.write_shift(4,67324752),fe.write_shift(2,20),fe.write_shift(2,Ge),fe.write_shift(2,Pe),Qe.mt?s(fe,Qe.mt):fe.write_shift(4,0),fe.write_shift(-4,et[Je]),fe.write_shift(4,wn.length),fe.write_shift(4,Qe.content.length),fe.write_shift(2,Ga.length),fe.write_shift(2,0),De+=fe.length,re.push(fe),De+=Ga.length,re.push(Ga),De+=wn.length,re.push(wn),fe=Re(46),fe.write_shift(4,33639248),fe.write_shift(2,0),fe.write_shift(2,20),fe.write_shift(2,Ge),fe.write_shift(2,Pe),fe.write_shift(4,0),fe.write_shift(-4,et[Je]),fe.write_shift(4,wn.length),fe.write_shift(4,Qe.content.length),fe.write_shift(2,Ga.length),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(4,0),fe.write_shift(4,tn),Vt+=fe.l,ce.push(fe),Vt+=Ga.length,ce.push(Ga),++Je}return fe=Re(22),fe.write_shift(4,101010256),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,Je),fe.write_shift(2,Je),fe.write_shift(4,Vt),fe.write_shift(4,De),fe.write_shift(2,0),jn([jn(re),jn(ce),fe])}var bi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function uh(H,oe){if(H.ctype)return H.ctype;var ae=H.name||"",re=ae.match(/\.([^\.]+)$/);return re&&bi[re[1]]||oe&&(re=(ae=oe).match(/[\.\\]([^\.\\])+$/),re&&bi[re[1]])?bi[re[1]]:"application/octet-stream"}function ef(H){for(var oe=Lw(H),ae=[],re=0;re<oe.length;re+=76)ae.push(oe.slice(re,re+76));return ae.join(`\r
`)+`\r
`}function C2(H){var oe=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ee){var De=Ee.charCodeAt(0).toString(16).toUpperCase();return"="+(De.length==1?"0"+De:De)});oe=oe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),oe.charAt(0)==`
`&&(oe="=0D"+oe.slice(1)),oe=oe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ae=[],re=oe.split(`\r
`),ce=0;ce<re.length;++ce){var fe=re[ce];if(fe.length==0){ae.push("");continue}for(var Pe=0;Pe<fe.length;){var Ge=76,Te=fe.slice(Pe,Pe+Ge);Te.charAt(Ge-1)=="="?Ge--:Te.charAt(Ge-2)=="="?Ge-=2:Te.charAt(Ge-3)=="="&&(Ge-=3),Te=fe.slice(Pe,Pe+Ge),Pe+=Ge,Pe<fe.length&&(Te+="="),ae.push(Te)}}return ae.join(`\r
`)}function vv(H){for(var oe=[],ae=0;ae<H.length;++ae){for(var re=H[ae];ae<=H.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+H[++ae];oe.push(re)}for(var ce=0;ce<oe.length;++ce)oe[ce]=oe[ce].replace(/[=][0-9A-Fa-f]{2}/g,function(fe){return String.fromCharCode(parseInt(fe.slice(1),16))});return Es(oe.join(`\r
`))}function xv(H,oe,ae){for(var re="",ce="",fe="",Pe,Ge=0;Ge<10;++Ge){var Te=oe[Ge];if(!Te||Te.match(/^\s*$/))break;var Ee=Te.match(/^([^:]*?):\s*([^\s].*)$/);if(Ee)switch(Ee[1].toLowerCase()){case"content-location":re=Ee[2].trim();break;case"content-type":fe=Ee[2].trim();break;case"content-transfer-encoding":ce=Ee[2].trim();break}}switch(++Ge,ce.toLowerCase()){case"base64":Pe=Es(yi(oe.slice(Ge).join("")));break;case"quoted-printable":Pe=vv(oe.slice(Ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ce)}var De=fh(H,re.slice(ae.length),Pe,{unsafe:!0});fe&&(De.ctype=fe)}function $m(H,oe){if(Z(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ae=oe&&oe.root||"",re=(oa&&Buffer.isBuffer(H)?H.toString("binary"):Z(H)).split(`\r
`),ce=0,fe="";for(ce=0;ce<re.length;++ce)if(fe=re[ce],!!/^Content-Location:/i.test(fe)&&(fe=fe.slice(fe.indexOf("file")),ae||(ae=fe.slice(0,fe.lastIndexOf("/")+1)),fe.slice(0,ae.length)!=ae))for(;ae.length>0&&(ae=ae.slice(0,ae.length-1),ae=ae.slice(0,ae.lastIndexOf("/")+1),fe.slice(0,ae.length)!=ae););var Pe=(re[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var Ge="--"+(Pe[1]||""),Te=[],Ee=[],De={FileIndex:Te,FullPaths:Ee};E(De);var Je,rt=0;for(ce=0;ce<re.length;++ce){var ht=re[ce];ht!==Ge&&ht!==Ge+"--"||(rt++&&xv(De,re.slice(Je,ce),ae),Je=ce)}return De}function tf(H,oe){var ae=oe||{},re=ae.boundary||"SheetJS";re="------="+re;for(var ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],fe=H.FullPaths[0],Pe=fe,Ge=H.FileIndex[0],Te=1;Te<H.FullPaths.length;++Te)if(Pe=H.FullPaths[Te].slice(fe.length),Ge=H.FileIndex[Te],!(!Ge.size||!Ge.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Vt){return"_x"+Vt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Vt){return"_u"+Vt.charCodeAt(0).toString(16)+"_"});for(var Ee=Ge.content,De=oa&&Buffer.isBuffer(Ee)?Ee.toString("binary"):Z(Ee),Je=0,rt=Math.min(1024,De.length),ht=0,Qe=0;Qe<=rt;++Qe)(ht=De.charCodeAt(Qe))>=32&&ht<128&&++Je;var et=Je>=rt*4/5;ce.push(re),ce.push("Content-Location: "+(ae.root||"file:///C:/SheetJS/")+Pe),ce.push("Content-Transfer-Encoding: "+(et?"quoted-printable":"base64")),ce.push("Content-Type: "+uh(Ge,Pe)),ce.push(""),ce.push(et?C2(De):ef(De))}return ce.push(re+`--\r
`),ce.join(`\r
`)}function I2(H){var oe={};return E(oe,H),oe}function fh(H,oe,ae,re){var ce=re&&re.unsafe;ce||E(H);var fe=!ce&&$t.find(H,oe);if(!fe){var Pe=H.FullPaths[0];oe.slice(0,Pe.length)==Pe?Pe=oe:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+oe).replace("//","/")),fe={name:r(oe),type:2},H.FileIndex.push(fe),H.FullPaths.push(Pe),ce||$t.utils.cfb_gc(H)}return fe.content=ae,fe.size=ae?ae.length:0,re&&(re.CLSID&&(fe.clsid=re.CLSID),re.mt&&(fe.mt=re.mt),re.ct&&(fe.ct=re.ct)),fe}function kv(H,oe){E(H);var ae=$t.find(H,oe);if(ae){for(var re=0;re<H.FileIndex.length;++re)if(H.FileIndex[re]==ae)return H.FileIndex.splice(re,1),H.FullPaths.splice(re,1),!0}return!1}function wv(H,oe,ae){E(H);var re=$t.find(H,oe);if(re){for(var ce=0;ce<H.FileIndex.length;++ce)if(H.FileIndex[ce]==re)return H.FileIndex[ce].name=r(ae),H.FullPaths[ce]=ae,!0}return!1}function bv(H){I(H,!0)}return e.find=D,e.read=C,e.parse=u,e.write=M,e.writeFile=q,e.utils={cfb_new:I2,cfb_add:fh,cfb_del:kv,cfb_mov:wv,cfb_gc:bv,ReadShift:fg,CheckField:OK,prep_blob:hr,bconcat:jn,use_zlib:ue,_deflateRaw:La,_inflateRaw:Rl,consts:Q},e}(),sl;function PMe(t){sl=t}function i5(t){return typeof t=="string"?rv(t):Array.isArray(t)?iMe(t):t}function sv(t,e,a){if(typeof sl<"u"&&sl.writeFileSync)return a?sl.writeFileSync(t,e,a):sl.writeFileSync(t,e);if(typeof Deno<"u"){if(a&&typeof e=="string")switch(a){case"utf8":e=new TextEncoder(a).encode(e);break;case"binary":e=rv(e);break;default:throw new Error("Unsupported encoding "+a)}return Deno.writeFileSync(t,e)}var n=a=="utf8"?uc(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var r=new Blob([i5(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,t);if(typeof saveAs<"u")return saveAs(r,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=t,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}else if(typeof URL<"u"&&!URL.createObjectURL&&typeof chrome=="object"){var o="data:application/octet-stream;base64,"+sMe(new Uint8Array(i5(n)));return chrome.downloads.download({url:o,filename:t,saveAs:!0})}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Nc(e)),c.write(e),c.close(),e}catch(l){if(!l.message||l.message.indexOf("onstruct")==-1)throw l}throw new Error("cannot save file "+t)}function FMe(t){if(typeof sl<"u")return sl.readFileSync(t);if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var a=e.read();return e.close(),a}catch(n){if(!n.message||n.message.indexOf("onstruct")==-1)throw n}throw new Error("Cannot access file "+t)}function hn(t){for(var e=Object.keys(t),a=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&a.push(e[n]);return a}function o5(t,e){for(var a=[],n=hn(t),r=0;r!==n.length;++r)a[t[n[r]][e]]==null&&(a[t[n[r]][e]]=n[r]);return a}function m2(t){for(var e=[],a=hn(t),n=0;n!==a.length;++n)e[t[a[n]]]=a[n];return e}function iv(t){for(var e=[],a=hn(t),n=0;n!==a.length;++n)e[t[a[n]]]=parseInt(a[n],10);return e}function OMe(t){for(var e=[],a=hn(t),n=0;n!==a.length;++n)e[t[a[n]]]==null&&(e[t[a[n]]]=[]),e[t[a[n]]].push(a[n]);return e}var gK=Date.UTC(1899,11,30,0,0,0),$Me=Date.UTC(1899,11,31,0,0,0),LMe=Date.UTC(1904,0,1,0,0,0);function In(t,e){var a=t.getTime(),n=(a-gK)/(24*60*60*1e3);return e?(n-=1462,n<-1402?n-1:n):n<60?n-1:n}function fl(t){if(t>=60&&t<61)return t;var e=new Date;return e.setTime((t>60?t:t+1)*24*60*60*1e3+gK),e}function MMe(t){var e=0,a=0,n=!1,r=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!r)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=r.length;++s)if(r[s]){switch(a=1,s>3&&(n=!0),r[s].slice(r[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+r[s].slice(r[s].length-1));case"D":a*=24;case"H":a*=60;case"M":if(n)a*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=a*parseInt(r[s],10)}return e}var BMe=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,zMe=/^(\d+)-(\d+)-(\d+)$/,yK=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function xn(t,e){if(t instanceof Date)return t;var a=t.match(BMe);if(a)return new Date((e?LMe:$Me)+((parseInt(a[1],10)*60+parseInt(a[2],10))*60+(a[3]?parseInt(a[3].slice(1),10):0))*1e3+(a[4]?parseInt((a[4]+"000").slice(1,4),10):0));if(a=t.match(zMe),a)return new Date(Date.UTC(+a[1],+a[2]-1,+a[3],0,0,0,0));if(a=t.match(yK),a)return new Date(Date.UTC(+a[1],+a[2]-1,+a[3],+a[4],+a[5],a[6]&&parseInt(a[6].slice(1),10)||0,a[7]&&parseInt((a[7]+"0000").slice(1,4),10)||0));var n=new Date(t);return n}function Ed(t,e){if(oa&&Buffer.isBuffer(t)){if(e&&ry){if(t[0]==255&&t[1]==254)return uc(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return uc(iK(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return uc(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return uc(new TextDecoder("utf-16be").decode(t.slice(2)))}var a={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return a[s]||s})}catch{}var n=[],r=0;try{for(r=0;r<t.length-65536;r+=65536)n.push(String.fromCharCode.apply(0,t.slice(r,r+65536)));n.push(String.fromCharCode.apply(0,t.slice(r)))}catch{try{for(;r<t.length-16384;r+=16384)n.push(String.fromCharCode.apply(0,t.slice(r,r+16384)));n.push(String.fromCharCode.apply(0,t.slice(r)))}catch{for(;r!=t.length;++r)n.push(String.fromCharCode(t[r]))}}return n.join("")}function za(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=za(t[a]));return e}function Ra(t,e){for(var a="";a.length<e;)a+=t;return a}function pi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var a=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return a*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(]([^()]*)[)]/,function(r,s){return a=-a,s}),!isNaN(e=Number(n)))?e/a:e}var GMe=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,UMe=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,WMe=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,VMe=new Date("6/9/69 00:00 UTC").valueOf()==-177984e5;function jMe(t){return t[2]?t[3]?t[4]?new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),+t[2],+t[4],parseFloat(t[3])*1e3)):new Date(Date.UTC(1899,11,31,t[7]=="p"?12:0,+t[1],+t[2],parseFloat(t[3])*1e3)):t[5]?new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),+t[2],+t[5],t[6]?parseFloat(t[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),+t[2],0,0)):new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),0,0,0))}function HMe(t){return t[2]?t[3]?t[4]?new Date(Date.UTC(1899,11,31,+t[1],+t[2],+t[4],parseFloat(t[3])*1e3)):new Date(Date.UTC(1899,11,31,0,+t[1],+t[2],parseFloat(t[3])*1e3)):t[5]?new Date(Date.UTC(1899,11,31,+t[1],+t[2],+t[5],t[6]?parseFloat(t[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+t[1],+t[2],0,0)):new Date(Date.UTC(1899,11,31,+t[1],0,0,0))}var KMe=["january","february","march","april","may","june","july","august","september","october","november","december"];function iy(t){if(WMe.test(t))return t.indexOf("Z")==-1?g2(new Date(t)):new Date(t);var e=t.toLowerCase(),a=e.replace(/\s+/g," ").trim(),n=a.match(GMe);if(n)return jMe(n);if(n=a.match(UMe),n)return HMe(n);if(n=a.match(yK),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var r=new Date(VMe&&t.indexOf("UTC")==-1?t+" UTC":t),s=new Date(NaN),i=r.getYear();r.getMonth();var o=r.getDate();if(isNaN(o))return s;if(e.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(e=e.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),e.length>3&&KMe.indexOf(e)==-1)return s}else if(e.replace(/[ap]m?/,"").match(/[a-z]/))return s;return i<0||i>8099||t.match(/[^-0-9:,\/\\\ ]/)?s:r}var qMe=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(a,n,r){if(t||typeof n=="string")return a.split(n);for(var s=a.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(r),i.push(s[o]);return i}}();function Cd(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())}function g2(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}function bD(t){var e=t.slice(0,1024),a=e.indexOf("<!DOCTYPE");if(a==-1)return t;var n=t.match(/<[\w]/);return n?t.slice(0,a)+t.slice(n.index):t}function _D(t,e,a){for(var n=[],r=t.indexOf(e);r>-1;){var s=t.indexOf(a,r+e.length);if(s==-1)break;n.push(t.slice(r,s+a.length)),r=t.indexOf(e,s+a.length)}return n.length>0?n:null}function ov(t,e,a){var n=[],r=0,s=t.indexOf(e);if(s==-1)return t;for(;s>-1;){n.push(t.slice(r,s));var i=t.indexOf(a,s+e.length);if(i==-1)break;(s=t.indexOf(e,r=i+a.length))==-1&&n.push(t.slice(r))}return n.join("")}var XMe={" ":1,"	":1,"\r":1,"\n":1,">":1};function Zf(t,e){for(var a=t.indexOf("<"+e),n=e.length+1,r=t.length;a>=0&&a<=r-n&&!XMe[t.charAt(a+n)];)a=t.indexOf("<"+e,a+1);if(a===-1)return null;var s=t.indexOf(">",a+e.length);if(s===-1)return null;var i="</"+e+">",o=t.indexOf(i,s);return o==-1?null:[t.slice(a,o+i.length),t.slice(s+1,o)]}var Fr=function(){var t={};return function(a,n){var r=t[n];r||(t[n]=r=[new RegExp("<(?:\\w+:)?"+n+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+n+">","g")]),r[0].lastIndex=r[1].lastIndex=0;var s=r[0].exec(a);if(!s)return null;var i=s.index,o=r[0].lastIndex;if(r[1].lastIndex=r[0].lastIndex,s=r[1].exec(a),!s)return null;var c=s.index,l=r[1].lastIndex;return[a.slice(i,l),a.slice(o,c)]}}(),vK=function(){var t={};return function(a,n){var r=[],s=t[n];s||(t[n]=s=[new RegExp("<(?:\\w+:)?"+n+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+n+">","g")]),s[0].lastIndex=s[1].lastIndex=0;for(var i;i=s[0].exec(a);){var o=i.index;if(s[1].lastIndex=s[0].lastIndex,i=s[1].exec(a),!i)return null;var c=s[1].lastIndex;r.push(a.slice(o,c)),s[0].lastIndex=s[1].lastIndex}return r.length==0?null:r}}(),YMe=function(){var t={};return function(a,n){var r=[],s=t[n];s||(t[n]=s=[new RegExp("<(?:\\w+:)?"+n+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+n+">","g")]),s[0].lastIndex=s[1].lastIndex=0;for(var i,o=0,c=0;i=s[0].exec(a);){if(o=i.index,r.push(a.slice(c,o)),c=o,s[1].lastIndex=s[0].lastIndex,i=s[1].exec(a),!i)return null;c=s[1].lastIndex,s[0].lastIndex=s[1].lastIndex}return r.push(a.slice(c)),r.length==0?"":r.join("")}}(),ZMe=function(){var t={};return function(a,n){var r=[],s=t[n];s||(t[n]=s=[new RegExp("<"+n+"\\b[^<>]*>","ig"),new RegExp("</"+n+">","ig")]),s[0].lastIndex=s[1].lastIndex=0;for(var i;i=s[0].exec(a);){var o=i.index;if(s[1].lastIndex=s[0].lastIndex,i=s[1].exec(a),!i)return null;var c=s[1].lastIndex;r.push(a.slice(o,c)),s[0].lastIndex=s[1].lastIndex}return r.length==0?null:r}}();function xK(t){return t?t.content&&t.type?Ed(t.content,!0):t.data?yp(t.data):t.asNodeBuffer&&oa?yp(t.asNodeBuffer().toString("binary")):t.asBinary?yp(t.asBinary()):t._data&&t._data.getContent?yp(Ed(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function kK(t){if(!t)return null;if(t.data)return $w(t.data);if(t.asNodeBuffer&&oa)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?$w(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function JMe(t){return t&&t.name.slice(-4)===".bin"?kK(t):xK(t)}function zi(t,e){for(var a=t.FullPaths||hn(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),r=n.replace(/\\/g,"/"),s=0;s<a.length;++s){var i=a[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||r==i)return t.files?t.files[a[s]]:t.FileIndex[s]}return null}function AD(t,e){var a=zi(t,e);if(a==null)throw new Error("Cannot find file "+e+" in zip");return a}function Jn(t,e,a){if(!a)return JMe(AD(t,e));if(!e)return null;try{return Jn(t,e)}catch{return null}}function Is(t,e,a){if(!a)return xK(AD(t,e));if(!e)return null;try{return Is(t,e)}catch{return null}}function QMe(t,e,a){return kK(AD(t,e))}function c5(t){for(var e=t.FullPaths||hn(t.files),a=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&a.push(e[n].replace(/^Root Entry[\/]/,""));return a.sort()}function Zt(t,e,a){if(t.FullPaths){if(Array.isArray(a)&&typeof a[0]=="string"&&(a=a.join("")),typeof a=="string"){var n;return oa?n=Dc(a):n=oMe(a),$t.utils.cfb_add(t,e,n)}$t.utils.cfb_add(t,e,a)}else t.file(e,a)}function ND(){return $t.utils.cfb_new()}function wK(t,e){switch(e.type){case"base64":return $t.read(t,{type:"base64"});case"binary":return $t.read(t,{type:"binary"});case"buffer":case"array":return $t.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function vp(t,e){if(t.charAt(0)=="/")return t.slice(1);var a=e.split("/");e.slice(-1)!="/"&&a.pop();for(var n=t.split("/");n.length!==0;){var r=n.shift();r===".."?a.pop():r!=="."&&a.push(r)}return a.join("/")}var Un=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,bK=/\s([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,l5=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?<>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'"<>\s=]+))*\s*[\/\?]?>/mg,e5e=/<[^<>]*>/g,Yr=Un.match(l5)?l5:e5e,t5e=/<\w*:/,a5e=/<(\/?)\w+:/;function gt(t,e,a){for(var n={},r=0,s=0;r!==t.length&&!((s=t.charCodeAt(r))===32||s===10||s===13);++r);if(e||(n[0]=t.slice(0,r)),r===t.length)return n;var i=t.match(bK),o=0,c="",l=0,u="",d="",p=1;if(i)for(l=0;l!=i.length;++l){for(d=i[l].slice(1),s=0;s!=d.length&&d.charCodeAt(s)!==61;++s);for(u=d.slice(0,s).trim();d.charCodeAt(s+1)==32;)++s;for(p=(r=d.charCodeAt(s+1))==34||r==39?1:0,c=d.slice(s+1+p,d.length-p),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=c,n[u.toLowerCase()]=c;else{var m=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[m]&&u.slice(o-3,o)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function n5e(t,e,a){for(var n={},r=0,s=0;r!==t.length&&!((s=t.charCodeAt(r))===32||s===10||s===13);++r);if(r===t.length)return n;var i=t.match(bK),o="",c=0,l="",u="",d=1;if(i)for(c=0;c!=i.length;++c){for(u=i[c].slice(1),s=0;s!=u.length&&u.charCodeAt(s)!==61;++s);for(l=u.slice(0,s).trim();u.charCodeAt(s+1)==32;)++s;d=(r=u.charCodeAt(s+1))==34||r==39?1:0,o=u.slice(s+1+d,u.length-d),l.indexOf("_")>0&&(l=l.slice(0,l.indexOf("_"))),n[l]=o,n[l.toLowerCase()]=o}return n}function co(t){return t.replace(a5e,"<$1")}var _K={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},SD=m2(_K),Sa=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;function a(n){var r=n+"",s=r.indexOf("<![CDATA[");if(s==-1)return r.replace(t,function(o,c){return _K[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var i=r.indexOf("]]>");return a(r.slice(0,s))+r.slice(s+9,i)+a(r.slice(i+3))}return function(r,s){var i=a(r);return s?i.replace(/\r\n/g,`
`):i}}(),TD=/[&<>'"]/g,r5e=/[\u0000-\u0008\u000b-\u001f\uFFFE-\uFFFF]/g;function Qt(t){var e=t+"";return e.replace(TD,function(a){return SD[a]}).replace(r5e,function(a){return"_x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+"_"})}function u5(t){return Qt(t).replace(/ /g,"_x0020_")}var AK=/[\u0000-\u001f]/g;function ug(t){var e=t+"";return e.replace(TD,function(a){return SD[a]}).replace(/\n/g,"<br/>").replace(AK,function(a){return"&#x"+("000"+a.charCodeAt(0).toString(16)).slice(-4)+";"})}function s5e(t){var e=t+"";return e.replace(TD,function(a){return SD[a]}).replace(AK,function(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"})}var f5=function(){var t=/&#(\d+);/g;function e(a,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function i5e(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Wa(t){switch(t){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}function FS(t){for(var e="",a=0,n=0,r=0,s=0,i=0,o=0;a<t.length;){if(n=t.charCodeAt(a++),n<128){e+=String.fromCharCode(n);continue}if(r=t.charCodeAt(a++),n>191&&n<224){i=(n&31)<<6,i|=r&63,e+=String.fromCharCode(i);continue}if(s=t.charCodeAt(a++),n<240){e+=String.fromCharCode((n&15)<<12|(r&63)<<6|s&63);continue}i=t.charCodeAt(a++),o=((n&7)<<18|(r&63)<<12|(s&63)<<6|i&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function d5(t){var e=Ou(2*t.length),a,n,r=1,s=0,i=0,o;for(n=0;n<t.length;n+=r)r=1,(o=t.charCodeAt(n))<128?a=o:o<224?(a=(o&31)*64+(t.charCodeAt(n+1)&63),r=2):o<240?(a=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),r=3):(r=4,a=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),a-=65536,i=55296+(a>>>10&1023),a=56320+(a&1023)),i!==0&&(e[s++]=i&255,e[s++]=i>>>8,i=0),e[s++]=a%256,e[s++]=a>>>8;return e.slice(0,s).toString("ucs2")}function h5(t){return Dc(t,"binary").toString("utf8")}var nk="foo bar baz",Ha=oa&&(h5(nk)==FS(nk)&&h5||d5(nk)==FS(nk)&&d5)||FS,uc=oa?function(t){return Dc(t,"utf8").toString("binary")}:function(t){for(var e=[],a=0,n=0,r=0;a<t.length;)switch(n=t.charCodeAt(a++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,r=t.charCodeAt(a++)-56320+(n<<10),e.push(String.fromCharCode(240+(r>>18&7))),e.push(String.fromCharCode(144+(r>>12&63))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},NK=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(a){for(var n=a.replace(/^[\t\n\r ]+/,"").replace(/(^|[^\t\n\r ])[\t\n\r ]+$/,"$1").replace(/>\s+/g,">").replace(/\b\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^<>]*>/g,""),r=0;r<t.length;++r)n=n.replace(t[r][0],t[r][1]);return n}}(),o5e=/<\/?(?:vt:)?variant>/g,c5e=/<(?:vt:)([^<"'>]*)>([\s\S]*)</;function p5(t,e){var a=gt(t),n=vK(t,a.baseType)||[],r=[];if(n.length!=a.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+a.size);return r}return n.forEach(function(s){var i=s.replace(o5e,"").match(c5e);i&&r.push({v:Ha(i[2]),t:i[1]})}),r}var SK=/(^\s|\s$|\n)/;function jr(t,e){return"<"+t+(e.match(SK)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Id(t){return hn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function nt(t,e,a){return"<"+t+(a!=null?Id(a):"")+(e!=null?(e.match(SK)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function VE(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(a){if(e)throw a}return""}function l5e(t,e){switch(typeof t){case"string":var a=nt("vt:lpwstr",Qt(t));return a=a.replace(/&quot;/g,"_x0022_"),a;case"number":return nt((t|0)==t?"vt:i4":"vt:r8",Qt(String(t)));case"boolean":return nt("vt:bool",t?"true":"false")}if(t instanceof Date)return nt("vt:filetime",VE(t));throw new Error("Unable to serialize "+t)}function y2(t){if(oa&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Ha(Nc(vD(t)));throw new Error("Bad input format: expected Buffer or string")}var Qn=/<([\/]?)([^\s?><!\/:"]*:|)([^\s?<>:\/"]+)(?:\s+[^<>=?"'\s]+="[^"]*?")*\s*[\/]?>/mg,yr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},th=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],mr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function u5e(t,e){for(var a=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),r=t[e+6]&15,s=5;s>=0;--s)r=r*256+t[e+s];return n==2047?r==0?a*(1/0):NaN:(n==0?n=-1022:(n-=1023,r+=Math.pow(2,52)),a*Math.pow(2,n-52)*r)}function f5e(t,e,a){var n=(e<0||1/e==-1/0?1:0)<<7,r=0,s=0,i=n?-e:e;isFinite(i)?i==0?r=s=0:(r=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[a+o]=s&255;t[a+6]=(r&15)<<4|s&15,t[a+7]=r>>4|n}var m5=function(t){for(var e=[],a=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var r=0,s=t[0][n].length;r<s;r+=a)e.push.apply(e,t[0][n].slice(r,r+a));return e},g5=oa?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Dc(e)})):m5(t)}:m5,y5=function(t,e,a){for(var n=[],r=e;r<a;r+=2)n.push(String.fromCharCode(il(t,r)));return n.join("").replace(Rs,"")},v2=oa?function(t,e,a){return!Buffer.isBuffer(t)||!ry?y5(t,e,a):t.toString("utf16le",e,a).replace(Rs,"")}:y5,v5=function(t,e,a){for(var n=[],r=e;r<e+a;++r)n.push(("0"+t[r].toString(16)).slice(-2));return n.join("")},TK=oa?function(t,e,a){return Buffer.isBuffer(t)?t.toString("hex",e,e+a):v5(t,e,a)}:v5,x5=function(t,e,a){for(var n=[],r=e;r<a;r++)n.push(String.fromCharCode(mp(t,r)));return n.join("")},Pm=oa?function(e,a,n){return Buffer.isBuffer(e)?e.toString("utf8",a,n):x5(e,a,n)}:x5,EK=function(t,e){var a=Rr(t,e);return a>0?Pm(t,e+4,e+4+a-1):""},ED=EK,CK=function(t,e){var a=Rr(t,e);return a>0?Pm(t,e+4,e+4+a-1):""},CD=CK,IK=function(t,e){var a=2*Rr(t,e);return a>0?Pm(t,e+4,e+4+a-1):""},ID=IK,RK=function(e,a){var n=Rr(e,a);return n>0?v2(e,a+4,a+4+n):""},RD=RK,DK=function(t,e){var a=Rr(t,e);return a>0?Pm(t,e+4,e+4+a):""},DD=DK,PK=function(t,e){return u5e(t,e)},Uw=PK,PD=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};oa&&(ED=function(e,a){if(!Buffer.isBuffer(e))return EK(e,a);var n=e.readUInt32LE(a);return n>0?e.toString("utf8",a+4,a+4+n-1):""},CD=function(e,a){if(!Buffer.isBuffer(e))return CK(e,a);var n=e.readUInt32LE(a);return n>0?e.toString("utf8",a+4,a+4+n-1):""},ID=function(e,a){if(!Buffer.isBuffer(e)||!ry)return IK(e,a);var n=2*e.readUInt32LE(a);return e.toString("utf16le",a+4,a+4+n-1)},RD=function(e,a){if(!Buffer.isBuffer(e)||!ry)return RK(e,a);var n=e.readUInt32LE(a);return e.toString("utf16le",a+4,a+4+n)},DD=function(e,a){if(!Buffer.isBuffer(e))return DK(e,a);var n=e.readUInt32LE(a);return e.toString("utf8",a+4,a+4+n)},Uw=function(e,a){return Buffer.isBuffer(e)?e.readDoubleLE(a):PK(e,a)},PD=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function FK(){v2=function(t,e,a){return ta.utils.decode(1200,t.slice(e,a)).replace(Rs,"")},Pm=function(t,e,a){return ta.utils.decode(65001,t.slice(e,a))},ED=function(t,e){var a=Rr(t,e);return a>0?ta.utils.decode(Sd,t.slice(e+4,e+4+a-1)):""},CD=function(t,e){var a=Rr(t,e);return a>0?ta.utils.decode(gr,t.slice(e+4,e+4+a-1)):""},ID=function(t,e){var a=2*Rr(t,e);return a>0?ta.utils.decode(1200,t.slice(e+4,e+4+a-1)):""},RD=function(t,e){var a=Rr(t,e);return a>0?ta.utils.decode(1200,t.slice(e+4,e+4+a)):""},DD=function(t,e){var a=Rr(t,e);return a>0?ta.utils.decode(65001,t.slice(e+4,e+4+a)):""}}typeof ta<"u"&&FK();var mp=function(t,e){return t[e]},il=function(t,e){return t[e+1]*256+t[e]},d5e=function(t,e){var a=t[e+1]*256+t[e];return a<32768?a:(65535-a+1)*-1},Rr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Bf=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},h5e=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function fg(t,e){var a="",n,r,s=[],i,o,c,l;switch(e){case"dbcs":if(l=this.l,oa&&Buffer.isBuffer(this)&&ry)a=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)a+=String.fromCharCode(il(this,l)),l+=2;t*=2;break;case"utf8":a=Pm(this,this.l,this.l+t);break;case"utf16le":t*=2,a=v2(this,this.l,this.l+t);break;case"wstr":if(typeof ta<"u")a=ta.utils.decode(gr,this.slice(this.l,this.l+2*t));else return fg.call(this,t,"dbcs");t=2*t;break;case"lpstr-ansi":a=ED(this,this.l),t=4+Rr(this,this.l);break;case"lpstr-cp":a=CD(this,this.l),t=4+Rr(this,this.l);break;case"lpwstr":a=ID(this,this.l),t=4+2*Rr(this,this.l);break;case"lpp4":t=4+Rr(this,this.l),a=RD(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Rr(this,this.l),a=DD(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,a="";(i=mp(this,this.l+t++))!==0;)s.push(Q0(i));a=s.join("");break;case"_wstr":for(t=0,a="";(i=il(this,this.l+t))!==0;)s.push(Q0(i)),t+=2;t+=2,a=s.join("");break;case"dbcs-cont":for(a="",l=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return i=mp(this,l),this.l=l+1,o=fg.call(this,t-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Q0(il(this,l))),l+=2}a=s.join(""),t*=2;break;case"cpstr":if(typeof ta<"u"){a=ta.utils.decode(gr,this.slice(this.l,this.l+t));break}case"sbcs-cont":for(a="",l=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return i=mp(this,l),this.l=l+1,o=fg.call(this,t-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Q0(mp(this,l))),l+=1}a=s.join("");break;default:switch(t){case 1:return n=mp(this,this.l),this.l++,n;case 2:return n=(e==="i"?d5e:il)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Bf:h5e)(this,this.l),this.l+=4,n):(r=Rr(this,this.l),this.l+=4,r);case 8:case-8:if(e==="f")return t==8?r=Uw(this,this.l):r=Uw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;t=8;case 16:a=TK(this,this.l,t);break}}return this.l+=t,a}var p5e=function(t,e,a){t[a]=e&255,t[a+1]=e>>>8&255,t[a+2]=e>>>16&255,t[a+3]=e>>>24&255},m5e=function(t,e,a){t[a]=e&255,t[a+1]=e>>8&255,t[a+2]=e>>16&255,t[a+3]=e>>24&255},g5e=function(t,e,a){t[a]=e&255,t[a+1]=e>>>8&255};function y5e(t,e,a){var n=0,r=0;if(a==="dbcs"){for(r=0;r!=e.length;++r)g5e(this,e.charCodeAt(r),this.l+2*r);n=2*e.length}else if(a==="sbcs"||a=="cpstr")if(typeof ta<"u"&&Sd==874){for(r=0;r!=e.length;++r){var s=ta.utils.encode(Sd,e.charAt(r));this[this.l+r]=s[0]}n=e.length}else if(typeof ta<"u"&&a=="cpstr"){if(s=ta.utils.encode(gr,e),s.length==e.length)for(r=0;r<e.length;++r)s[r]==0&&e.charCodeAt(r)!=0&&(s[r]=95);if(s.length==2*e.length)for(r=0;r<e.length;++r)s[2*r]==0&&s[2*r+1]==0&&e.charCodeAt(r)!=0&&(s[2*r]=95);for(r=0;r<s.length;++r)this[this.l+r]=s[r];n=s.length}else{for(e=e.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=e.length;++r)this[this.l+r]=e.charCodeAt(r)&255;n=e.length}else if(a==="hex"){for(;r<t;++r)this[this.l++]=parseInt(e.slice(2*r,2*r+2),16)||0;return this}else if(a==="utf16le"){var i=Math.min(this.l+t,this.length);for(r=0;r<Math.min(e.length,t);++r){var o=e.charCodeAt(r);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,p5e(this,e,this.l);break;case 8:if(n=8,a==="f"){f5e(this,e,this.l);break}case 16:break;case-4:n=4,m5e(this,e,this.l);break}return this.l+=n,this}function OK(t,e){var a=TK(this,this.l,t.length>>1);if(a!==t)throw new Error(e+"Expected "+t+" saw "+a);this.l+=t.length>>1}function hr(t,e){t.l=e,t.read_shift=fg,t.chk=OK,t.write_shift=y5e}function vs(t,e){t.l+=e}function Re(t){var e=Ou(t);return hr(e,0),e}function Il(t,e,a){if(t){var n,r,s;hr(t,t.l||0);for(var i=t.length,o=0,c=0;t.l<i;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var l=hy[o]||hy[65535];for(n=t.read_shift(1),s=n&127,r=1;r<4&&n&128;++r)s+=((n=t.read_shift(1))&127)<<7*r;c=t.l+s;var u=l.f&&l.f(t,s,a);if(t.l=c,e(u,l,o))return}}}function ps(){var t=[],e=oa?16384:2048;oa&&Re(e).copy;var a=function(u){var d=Re(u);return hr(d,0),d},n=a(e),r=function(){n&&(n.l&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n)),n=null)},s=function(u){return n&&u<n.length-n.l?n:(r(),n=a(Math.max(u+1,e)))},i=function(){return r(),jn(t)},o=function(){return r(),t},c=function(u){r(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:c,end:i,_bufs:t,end2:o}}function je(t,e,a,n){var r=+e,s;if(!isNaN(r)){n||(n=hy[r].p||(a||[]).length||0),s=1+(r>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=t.next(s);r<=127?i.write_shift(1,r):(i.write_shift(1,(r&127)+128),i.write_shift(1,r>>7));for(var o=0;o!=4;++o)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&PD(a)&&t.push(a)}}function dg(t,e,a){var n=za(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!a||a.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function k5(t,e,a){var n=za(t);return n.s=dg(n.s,e.s,a),n.e=dg(n.e,e.s,a),n}function hg(t,e){if(t.cRel&&t.c<0)for(t=za(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=za(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var a=ua(t);return!t.cRel&&t.cRel!=null&&(a=k5e(a)),!t.rRel&&t.rRel!=null&&(a=v5e(a)),a}function OS(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+qt(t.s.c)+":"+(t.e.cRel?"":"$")+qt(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+fa(t.s.r)+":"+(t.e.rRel?"":"$")+fa(t.e.r):hg(t.s,e.biff)+":"+hg(t.e,e.biff)}function FD(t){return parseInt(x5e(t),10)-1}function fa(t){return""+(t+1)}function v5e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function x5e(t){return t.replace(/\$(\d+)$/,"$1")}function OD(t){for(var e=w5e(t),a=0,n=0;n!==e.length;++n)a=26*a+e.charCodeAt(n)-64;return a-1}function qt(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function k5e(t){return t.replace(/^([A-Z])/,"$$$1")}function w5e(t){return t.replace(/^\$([A-Z])/,"$1")}function b5e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ka(t){for(var e=0,a=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=48&&r<=57?e=10*e+(r-48):r>=65&&r<=90&&(a=26*a+(r-64))}return{c:a-1,r:e-1}}function ua(t){for(var e=t.c+1,a="";e;e=(e-1)/26|0)a=String.fromCharCode((e-1)%26+65)+a;return a+(t.r+1)}function or(t){var e=t.indexOf(":");return e==-1?{s:Ka(t),e:Ka(t)}:{s:Ka(t.slice(0,e)),e:Ka(t.slice(e+1))}}function ea(t,e){return typeof e>"u"||typeof e=="number"?ea(t.s,t.e):(typeof t!="string"&&(t=ua(t)),typeof e!="string"&&(e=ua(e)),t==e?t:t+":"+e)}function Qp(t){var e=or(t);return"$"+qt(e.s.c)+"$"+fa(e.s.r)+":$"+qt(e.e.c)+"$"+fa(e.e.r)}function oy(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t.replace(/'/g,"''")+"'":t}function wa(t){var e={s:{c:0,r:0},e:{c:0,r:0}},a=0,n=0,r=0,s=t.length;for(a=0;n<s&&!((r=t.charCodeAt(n)-64)<1||r>26);++n)a=26*a+r;for(e.s.c=--a,a=0;n<s&&!((r=t.charCodeAt(n)-48)<0||r>9);++n)a=10*a+r;if(e.s.r=--a,n===s||r!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,a=0;n!=s&&!((r=t.charCodeAt(n)-64)<1||r>26);++n)a=26*a+r;for(e.e.c=--a,a=0;n!=s&&!((r=t.charCodeAt(n)-48)<0||r>9);++n)a=10*a+r;return e.e.r=--a,e}function w5(t,e){var a=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ei(t.z,a?In(e):e)}catch{}try{return t.w=ei((t.XF||{}).numFmtId||(a?14:0),a?In(e):e)}catch{return""+e}}function Sc(t,e,a){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&a&&a.dateNF&&(t.z=a.dateNF),t.t=="e"?wr[t.v]||t.v:e==null?w5(t,t.v):w5(t,e))}function Qu(t,e){var a=e&&e.sheet?e.sheet:"Sheet1",n={};return n[a]=t,{SheetNames:[a],Sheets:n}}function _5e(t){var e={},a=t||{};return a.dense&&(e["!data"]=[]),e}function $K(t,e,a){var n=a||{},r=t?t["!data"]!=null:n.dense,s=t||(r?{"!data":[]}:{});r&&!s["!data"]&&(s["!data"]=[]);var i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?Ka(n.origin):n.origin;i=c.r,o=c.c}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=wa(s["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),i==-1&&(l.e.r=i=s["!ref"]?u.e.r+1:0)}else l.s.c=l.e.c=l.s.r=l.e.r=0;for(var d=[],p=!1,m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");var g=i+m;r&&(s["!data"][g]||(s["!data"][g]=[]),d=s["!data"][g]);for(var x=e[m],v=0;v!=x.length;++v)if(!(typeof x[v]>"u")){var k={v:x[v],t:""},b=o+v;if(l.s.r>g&&(l.s.r=g),l.s.c>b&&(l.s.c=b),l.e.r<g&&(l.e.r=g),l.e.c<b&&(l.e.c=b),p=!0,x[v]&&typeof x[v]=="object"&&!Array.isArray(x[v])&&!(x[v]instanceof Date))k=x[v];else if(Array.isArray(k.v)&&(k.f=x[v][1],k.v=k.v[0]),k.v===null)if(k.f)k.t="n";else if(n.nullError)k.t="e",k.v=0;else if(n.sheetStubs)k.t="z";else continue;else typeof k.v=="number"?isFinite(k.v)?k.t="n":isNaN(k.v)?(k.t="e",k.v=15):(k.t="e",k.v=7):typeof k.v=="boolean"?k.t="b":k.v instanceof Date?(k.z=n.dateNF||Ct[14],n.UTC||(k.v=g2(k.v)),n.cellDates?(k.t="d",k.w=ei(k.z,In(k.v,n.date1904))):(k.t="n",k.v=In(k.v,n.date1904),k.w=ei(k.z,k.v))):k.t="s";if(r)d[b]&&d[b].z&&(k.z=d[b].z),d[b]=k;else{var _=qt(b)+(g+1);s[_]&&s[_].z&&(k.z=s[_].z),s[_]=k}}}return p&&l.s.c<104e5&&(s["!ref"]=ea(l)),s}function Fm(t,e){return $K(null,t,e)}function A5e(t){return t.read_shift(4,"i")}function Eo(t,e){return e||(e=Re(4)),e.write_shift(4,t),e}function ms(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function kr(t,e){var a=!1;return e==null&&(a=!0,e=Re(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),a?e.slice(0,e.l):e}function N5e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function S5e(t,e){return e||(e=Re(4)),e.write_shift(2,0),e.write_shift(2,0),e}function $D(t,e){var a=t.l,n=t.read_shift(1),r=ms(t),s=[],i={t:r,h:r};if((n&1)!==0){for(var o=t.read_shift(4),c=0;c!=o;++c)s.push(N5e(t));i.r=s}else i.r=[{ich:0,ifnt:0}];return t.l=a+e,i}function T5e(t,e){var a=!1;return e==null&&(a=!0,e=Re(15+4*t.t.length)),e.write_shift(1,0),kr(t.t,e),a?e.slice(0,e.l):e}var E5e=$D;function C5e(t,e){var a=!1;return e==null&&(a=!0,e=Re(23+4*t.t.length)),e.write_shift(1,1),kr(t.t,e),e.write_shift(4,1),S5e({},e),a?e.slice(0,e.l):e}function lo(t){var e=t.read_shift(4),a=t.read_shift(2);return a+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:a}}function ah(t,e){return e==null&&(e=Re(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function nh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function rh(t,e){return e==null&&(e=Re(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var I5e=ms,LK=kr;function x2(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function cy(t,e){var a=!1;return e==null&&(a=!0,e=Re(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),a?e.slice(0,e.l):e}var R5e=ms,jE=x2,LD=cy;function k2(t){var e=t.slice(t.l,t.l+4),a=e[0]&1,n=e[0]&2;t.l+=4;var r=n===0?Uw([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Bf(e,0)>>2;return a?r/100:r}function MK(t,e){e==null&&(e=Re(4));var a=0,n=0,r=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:r==(r|0)&&r>=-536870912&&r<1<<29&&(n=1,a=1),n)e.write_shift(-4,((a?r:t)<<2)+(a+2));else throw new Error("unsupported RkNumber "+t)}function BK(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function D5e(t,e){return e||(e=Re(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var sh=BK,Om=D5e;function fs(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Rd(t,e){return(e||Re(8)).write_shift(8,t,"f")}function P5e(t){var e={},a=t.read_shift(1),n=a>>>1,r=t.read_shift(1),s=t.read_shift(2,"i"),i=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=r;var l=Jf[r];l&&(e.rgb=uy(l));break;case 2:e.rgb=uy([i,o,c]);break;case 3:e.theme=r;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Ww(t,e){if(e||(e=Re(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var a=t.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),e.write_shift(2,a),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function F5e(t){var e=t.read_shift(1);t.l++;var a={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return a}function O5e(t,e){e||(e=Re(2));var a=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,a),e.write_shift(1,0),e}function zK(t,e){var a={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return a[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function $5e(t){return zK(t,1)}function L5e(t){return zK(t,2)}var MD=2,Vs=3,rk=11,b5=12,Vw=19,sk=64,M5e=65,B5e=71,z5e=4108,G5e=4126,Ir=80,GK=81,U5e=[Ir,GK],HE={1:{n:"CodePage",t:MD},2:{n:"Category",t:Ir},3:{n:"PresentationFormat",t:Ir},4:{n:"ByteCount",t:Vs},5:{n:"LineCount",t:Vs},6:{n:"ParagraphCount",t:Vs},7:{n:"SlideCount",t:Vs},8:{n:"NoteCount",t:Vs},9:{n:"HiddenCount",t:Vs},10:{n:"MultimediaClipCount",t:Vs},11:{n:"ScaleCrop",t:rk},12:{n:"HeadingPairs",t:z5e},13:{n:"TitlesOfParts",t:G5e},14:{n:"Manager",t:Ir},15:{n:"Company",t:Ir},16:{n:"LinksUpToDate",t:rk},17:{n:"CharacterCount",t:Vs},19:{n:"SharedDoc",t:rk},22:{n:"HyperlinksChanged",t:rk},23:{n:"AppVersion",t:Vs,p:"version"},24:{n:"DigSig",t:M5e},26:{n:"ContentType",t:Ir},27:{n:"ContentStatus",t:Ir},28:{n:"Language",t:Ir},29:{n:"Version",t:Ir},255:{},2147483648:{n:"Locale",t:Vw},2147483651:{n:"Behavior",t:Vw},1919054434:{}},KE={1:{n:"CodePage",t:MD},2:{n:"Title",t:Ir},3:{n:"Subject",t:Ir},4:{n:"Author",t:Ir},5:{n:"Keywords",t:Ir},6:{n:"Comments",t:Ir},7:{n:"Template",t:Ir},8:{n:"LastAuthor",t:Ir},9:{n:"RevNumber",t:Ir},10:{n:"EditTime",t:sk},11:{n:"LastPrinted",t:sk},12:{n:"CreatedDate",t:sk},13:{n:"ModifiedDate",t:sk},14:{n:"PageCount",t:Vs},15:{n:"WordCount",t:Vs},16:{n:"CharCount",t:Vs},17:{n:"Thumbnail",t:B5e},18:{n:"Application",t:Ir},19:{n:"DocSecurity",t:Vs},255:{},2147483648:{n:"Locale",t:Vw},2147483651:{n:"Behavior",t:Vw},1919054434:{}},_5={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},W5e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function V5e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var j5e=V5e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Jf=za(j5e),wr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Or={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},BD=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],qE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ik={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function zD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function H5e(t){var e=zD();if(!t||!t.match)return e;var a={};if((t.match(Yr)||[]).forEach(function(n){var r=gt(n);switch(r[0].replace(t5e,"<")){case"<?xml":break;case"<Types":e.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":a[r.Extension.toLowerCase()]=r.ContentType;break;case"<Override":e[qE[r.ContentType]]!==void 0&&e[qE[r.ContentType]].push(r.PartName);break}}),e.xmlns!==yr.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=a,delete e.calcchains,e}function UK(t,e,a){var n=OMe(qE),r=[],s;r[r.length]=Un,r[r.length]=nt("Types",null,{xmlns:yr.CT,"xmlns:xsd":yr.xsd,"xmlns:xsi":yr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return nt("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){t[l]&&t[l].length>0&&(s=t[l][0],r[r.length]=nt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:ik[l][e.bookType]||ik[l].xlsx}))},o=function(l){(t[l]||[]).forEach(function(u){r[r.length]=nt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:ik[l][e.bookType]||ik[l].xlsx})})},c=function(l){(t[l]||[]).forEach(function(u){r[r.length]=nt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:n[l][0]})})};return i("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var la={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ly(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function pg(t,e){var a={"!id":{}};if(!t)return a;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Yr)||[]).forEach(function(r){var s=gt(r);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=Sa(s.Target),i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:vp(s.Target,e);a[o]=i,n[s.Id]=i}}),a["!id"]=n,a}function Rp(t){var e=[Un,nt("Relationships",null,{xmlns:yr.RELS})];return hn(t["!id"]).forEach(function(a){e[e.length]=nt("Relationship",null,t["!id"][a])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ua(t,e,a,n,r,s){if(r||(r={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,r.Id="rId"+e,r.Type=n,r.Target=a,[la.HLINK,la.XPATH,la.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),t["!id"][r.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][r.Id]=r,t[("/"+r.Target).replace("//","/")]=r,e}var K5e="application/vnd.oasis.opendocument.spreadsheet";function q5e(t,e){for(var a=y2(t),n,r;n=Qn.exec(a);)switch(n[3]){case"manifest":break;case"file-entry":if(r=gt(n[0],!1),r.path=="/"&&r.type!==K5e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function X5e(t){var e=[Un];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var a=0;a<t.length;++a)e.push('  <manifest:file-entry manifest:full-path="'+t[a][0]+'" manifest:media-type="'+t[a][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function A5(t,e,a){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Y5e(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Z5e(t){var e=[Un];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var a=0;a!=t.length;++a)e.push(A5(t[a][0],t[a][1])),e.push(Y5e("",t[a][0]));return e.push(A5("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function WK(t,e){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ow.version+"</meta:generator></office:meta></office:document-meta>"}var dl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function VK(t){var e={};t=Ha(t);for(var a=0;a<dl.length;++a){var n=dl[a],r=Zf(t,n[0]);r!=null&&r.length>0&&(e[n[1]]=Sa(r[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=xn(e[n[1]]))}return e}function $S(t,e,a,n,r){r[t]!=null||e==null||e===""||(r[t]=e,e=Qt(e),n[n.length]=a?nt(t,e,a):jr(t,e))}function jK(t,e){var a=e||{},n=[Un,nt("cp:coreProperties",null,{"xmlns:cp":yr.CORE_PROPS,"xmlns:dc":yr.dc,"xmlns:dcterms":yr.dcterms,"xmlns:dcmitype":yr.dcmitype,"xmlns:xsi":yr.xsi})],r={};if(!t&&!a.Props)return n.join("");t&&(t.CreatedDate!=null&&$S("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:VE(t.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r),t.ModifiedDate!=null&&$S("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:VE(t.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},n,r));for(var s=0;s!=dl.length;++s){var i=dl[s],o=a.Props&&a.Props[i[1]]!=null?a.Props[i[1]]:t?t[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&$S(i[0],o,null,n,r)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Qf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],HK=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function KK(t,e,a,n){var r=[];if(typeof t=="string")r=p5(t,n);else for(var s=0;s<t.length;++s)r=r.concat(t[s].map(function(u){return{v:u}}));var i=typeof e=="string"?p5(e,n).map(function(u){return u.v}):e,o=0,c=0;if(i.length>0)for(var l=0;l!==r.length;l+=2){switch(c=+r[l+1].v,r[l].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":a.Worksheets=c,a.SheetNames=i.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":a.NamedRanges=c,a.DefinedNames=i.slice(o,o+c);break;case"Charts":case"Diagramme":a.Chartsheets=c,a.ChartNames=i.slice(o,o+c);break}o+=c}}function J5e(t,e,a){var n={};return e||(e={}),t=Ha(t),Qf.forEach(function(r){var s=(Fr(t,r[0])||[])[1];switch(r[2]){case"string":s&&(e[r[1]]=Sa(s));break;case"bool":e[r[1]]=s==="true";break;case"raw":var i=Zf(t,r[0]);i&&i.length>0&&(n[r[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&KK(n.HeadingPairs,n.TitlesOfParts,e,a),e}function qK(t){var e=[],a=nt;return t||(t={}),t.Application="SheetJS",e[e.length]=Un,e[e.length]=nt("Properties",null,{xmlns:yr.EXT_PROPS,"xmlns:vt":yr.vt}),Qf.forEach(function(n){if(t[n[1]]!==void 0){var r;switch(n[2]){case"string":r=Qt(String(t[n[1]]));break;case"bool":r=t[n[1]]?"true":"false";break}r!==void 0&&(e[e.length]=a(n[0],r))}}),e[e.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=a("TitlesOfParts",a("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Qt(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Q5e=/<[^<>]+>[^<]*/g;function eBe(t,e){var a={},n="",r=t.match(Q5e);if(r)for(var s=0;s!=r.length;++s){var i=r[s],o=gt(i);switch(co(o[0])){case"<?xml":break;case"<Properties":break;case"<property":n=Sa(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),l=c[0].slice(4),u=c[1];switch(l){case"lpstr":case"bstr":case"lpwstr":a[n]=Sa(u);break;case"bool":a[n]=Wa(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":a[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":a[n]=parseFloat(u);break;case"filetime":case"date":a[n]=xn(u);break;case"cy":case"error":a[n]=Sa(u);break;default:if(l.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",i,l,c)}}else if(i.slice(0,2)!=="</"){if(e.WTF)throw new Error(i)}}}return a}function XK(t){var e=[Un,nt("Properties",null,{xmlns:yr.CUST_PROPS,"xmlns:vt":yr.vt})];if(!t)return e.join("");var a=1;return hn(t).forEach(function(r){++a,e[e.length]=nt("property",l5e(t[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:Qt(r)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var XE={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},LS;function tBe(t,e,a){LS||(LS=m2(XE)),e=LS[e]||e,t[e]=a}function aBe(t,e){var a=[];return hn(XE).map(function(n){for(var r=0;r<dl.length;++r)if(dl[r][1]==n)return dl[r];for(r=0;r<Qf.length;++r)if(Qf[r][1]==n)return Qf[r];throw n}).forEach(function(n){if(t[n[1]]!=null){var r=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),a.push(jr(XE[n[1]]||n[1],r))}}),nt("DocumentProperties",a.join(""),{xmlns:mr.o})}function nBe(t,e){var a=["Worksheets","SheetNames"],n="CustomDocumentProperties",r=[];return t&&hn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var i=0;i<dl.length;++i)if(s==dl[i][1])return;for(i=0;i<Qf.length;++i)if(s==Qf[i][1])return;for(i=0;i<a.length;++i)if(s==a[i])return;var o=t[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),r.push(nt(u5(s),o,{"dt:dt":c}))}}),e&&hn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var i=e[s],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),r.push(nt(u5(s),i,{"dt:dt":o}))}}),"<"+n+' xmlns="'+mr.o+'">'+r.join("")+"</"+n+">"}function GD(t){var e=t.read_shift(4),a=t.read_shift(4);return new Date((a/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function rBe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,a=e.getTime()/1e3+11644473600,n=a%Math.pow(2,32),r=(a-n)/Math.pow(2,32);n*=1e7,r*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),r+=s);var i=Re(8);return i.write_shift(4,n),i.write_shift(4,r),i}function sBe(t,e,a){var n=t.l,r=t.read_shift(0,"lpstr-cp");if(a)for(;t.l-n&3;)++t.l;return r}function iBe(t,e,a){var n=t.read_shift(0,"lpwstr");return n}function YK(t,e,a){return e===31?iBe(t):sBe(t,e,a)}function mg(t,e,a){return YK(t,e,a===!1?0:4)}function oBe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return YK(t,e,0)}function cBe(t){for(var e=t.read_shift(4),a=[],n=0;n!=e;++n){var r=t.l;a[n]=t.read_shift(0,"lpwstr").replace(Rs,""),t.l-r&2&&(t.l+=2)}return a}function lBe(t){for(var e=t.read_shift(4),a=[],n=0;n!=e;++n)a[n]=t.read_shift(0,"lpstr-cp").replace(Rs,"");return a}function uBe(t){var e=t.l,a=jw(t,GK);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=jw(t,Vs);return[a,n]}function fBe(t){for(var e=t.read_shift(4),a=[],n=0;n<e/2;++n)a.push(uBe(t));return a}function N5(t,e){for(var a=t.read_shift(4),n={},r=0;r!=a;++r){var s=t.read_shift(4),i=t.read_shift(4);n[s]=t.read_shift(i,e===1200?"utf16le":"utf8").replace(Rs,"").replace(eg,"!"),e===1200&&i%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function ZK(t){var e=t.read_shift(4),a=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),a}function dBe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function jw(t,e,a){var n=t.read_shift(2),r,s=a||{};if(t.l+=2,e!==b5&&n!==e&&U5e.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===b5?n:e){case 2:return r=t.read_shift(2,"i"),s.raw||(t.l+=2),r;case 3:return r=t.read_shift(4,"i"),r;case 11:return t.read_shift(4)!==0;case 19:return r=t.read_shift(4),r;case 30:t.l+=4,val=mg(t,t[t.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:t.l+=4,val=mg(t,t[t.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 64:return GD(t);case 65:return ZK(t);case 71:return dBe(t);case 80:return mg(t,n,!s.raw).replace(Rs,"");case 81:return oBe(t,n).replace(Rs,"");case 4108:return fBe(t);case 4126:case 4127:return n==4127?cBe(t):lBe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function S5(t,e){var a=Re(4),n=Re(4);switch(a.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Re(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=rBe(e);break;case 31:case 80:for(n=Re(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return jn([a,n])}function T5(t,e){var a=t.l,n=t.read_shift(4),r=t.read_shift(4),s=[],i=0,o=0,c=-1,l={};for(i=0;i!=r;++i){var u=t.read_shift(4),d=t.read_shift(4);s[i]=[u,d+a]}s.sort(function(b,_){return b[1]-_[1]});var p={};for(i=0;i!=r;++i){if(t.l!==s[i][1]){var m=!0;if(i>0&&e)switch(e[s[i-1][0]].t){case 2:t.l+2===s[i][1]&&(t.l+=2,m=!1);break;case 80:t.l<=s[i][1]&&(t.l=s[i][1],m=!1);break;case 4108:t.l<=s[i][1]&&(t.l=s[i][1],m=!1);break}if((!e||i==0)&&t.l<=s[i][1]&&(m=!1,t.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+t.l+" :"+i)}if(e){if(s[i][0]==0&&s.length>i+1&&s[i][1]==s[i+1][1])continue;var g=e[s[i][0]];if(p[g.n]=jw(t,g.t,{raw:!0}),g.p==="version"&&(p[g.n]=String(p[g.n]>>16)+"."+("0000"+String(p[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(p[g.n]){case 0:p[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Yi(o=p[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[g.n])}}else if(s[i][0]===1){if(o=p.CodePage=jw(t,MD),Yi(o),c!==-1){var x=t.l;t.l=s[c][1],l=N5(t,o),t.l=x}}else if(s[i][0]===0){if(o===0){c=i,t.l=s[i+1][1];continue}l=N5(t,o)}else{var v=l[s[i][0]],k;switch(t[t.l]){case 65:t.l+=4,k=ZK(t);break;case 30:t.l+=4,k=mg(t,t[t.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:t.l+=4,k=mg(t,t[t.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 3:t.l+=4,k=t.read_shift(4,"i");break;case 19:t.l+=4,k=t.read_shift(4);break;case 5:t.l+=4,k=t.read_shift(8,"f");break;case 11:t.l+=4,k=Vn(t,4);break;case 64:t.l+=4,k=xn(GD(t));break;default:throw new Error("unparsed value: "+t[t.l])}p[v]=k}}return t.l=a+n,p}var JK=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hBe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function E5(t,e,a){var n=Re(8),r=[],s=[],i=8,o=0,c=Re(8),l=Re(8);if(c.write_shift(4,2),c.write_shift(4,1200),l.write_shift(4,1),s.push(c),r.push(l),i+=8+c.length,!e){l=Re(8),l.write_shift(4,0),r.unshift(l);var u=[Re(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var d=t[o][0];for(c=Re(8+2*(d.length+1)+(d.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,d.length+1),c.write_shift(0,d,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=jn(u),s.unshift(c),i+=8+c.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(JK.indexOf(t[o][0])>-1||HK.indexOf(t[o][0])>-1)&&t[o][1]!=null){var p=t[o][1],m=0;if(e){m=+e[t[o][0]];var g=a[m];if(g.p=="version"&&typeof p=="string"){var x=p.split(".");p=(+x[0]<<16)+(+x[1]||0)}c=S5(g.t,p)}else{var v=hBe(p);v==-1&&(v=31,p=String(p)),c=S5(v,p)}s.push(c),l=Re(8),l.write_shift(4,e?m:2+o),r.push(l),i+=8+c.length}var k=8*(s.length+1);for(o=0;o<s.length;++o)r[o].write_shift(4,k),k+=s[o].length;return n.write_shift(4,i),n.write_shift(4,s.length),jn([n].concat(r).concat(s))}function C5(t,e,a){var n=t.content;if(!n)return{};hr(n,0);var r,s,i,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var l=n.read_shift(4),u=n.read_shift(16);if(u!==$t.utils.consts.HEADER_CLSID&&u!==a)throw new Error("Bad PropertySet CLSID "+u);if(r=n.read_shift(4),r!==1&&r!==2)throw new Error("Unrecognized #Sets: "+r);if(s=n.read_shift(16),o=n.read_shift(4),r===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);r===2&&(i=n.read_shift(16),c=n.read_shift(4));var d=T5(n,e),p={SystemIdentifier:l};for(var m in d)p[m]=d[m];if(p.FMTID=s,r===1)return p;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=T5(n,null)}catch{}for(m in g)p[m]=g[m];return p.FMTID=[s,i],p}function I5(t,e,a,n,r,s){var i=Re(r?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,$t.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,r?2:1),i.write_shift(16,e,"hex"),i.write_shift(4,r?68:48);var c=E5(t,a,n);if(o.push(c),r){var l=E5(r,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),o.push(l)}return jn(o)}function tu(t,e){return t.read_shift(e),null}function pBe(t,e){e||(e=Re(t));for(var a=0;a<t;++a)e.write_shift(1,0);return e}function mBe(t,e,a){for(var n=[],r=t.l+e;t.l<r;)n.push(a(t,r-t.l));if(r!==t.l)throw new Error("Slurp error");return n}function Vn(t,e){return t.read_shift(e)===1}function ns(t,e){return e||(e=Re(2)),e.write_shift(2,+!!t),e}function On(t){return t.read_shift(2,"u")}function Vi(t,e){return e||(e=Re(2)),e.write_shift(2,t),e}function QK(t,e){return mBe(t,e,On)}function eq(t){var e=t.read_shift(1),a=t.read_shift(1);return a===1?e:e===1}function tq(t,e,a){return a||(a=Re(2)),a.write_shift(1,e=="e"?+t:+!!t),a.write_shift(1,e=="e"?1:0),a}function em(t,e,a){var n=t.read_shift(a&&a.biff>=12?2:1),r="sbcs-cont",s=gr;if(a&&a.biff>=8&&(gr=1200),!a||a.biff==8){var i=t.read_shift(1);i&&(r="dbcs-cont")}else a.biff==12&&(r="wstr");a.biff>=2&&a.biff<=5&&(r="cpstr");var o=n?t.read_shift(n,r):"";return gr=s,o}function gBe(t){var e=gr;gr=1200;var a=t.read_shift(2),n=t.read_shift(1),r=n&4,s=n&8,i=1+(n&1),o=0,c,l={};s&&(o=t.read_shift(2)),r&&(c=t.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=a===0?"":t.read_shift(a,u);return s&&(t.l+=4*o),r&&(t.l+=c),l.t=d,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),gr=e,l}function yBe(t){var e=t.t||"",a=Re(3);a.write_shift(2,e.length),a.write_shift(1,1);var n=Re(2*e.length);n.write_shift(2*e.length,e,"utf16le");var r=[a,n];return jn(r)}function Dd(t,e,a){var n;if(a){if(a.biff>=2&&a.biff<=5)return t.read_shift(e,"cpstr");if(a.biff>=12)return t.read_shift(e,"dbcs-cont")}var r=t.read_shift(1);return r===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function cv(t,e,a){var n=t.read_shift(a&&a.biff==2?1:2);return n===0?(t.l++,""):Dd(t,n,a)}function ih(t,e,a){if(a.biff>5)return cv(t,e,a);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,a.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function aq(t,e,a){return a||(a=Re(3+2*t.length)),a.write_shift(2,t.length),a.write_shift(1,1),a.write_shift(31,t,"utf16le"),a}function vBe(t){var e=t.read_shift(1);t.l++;var a=t.read_shift(2);return t.l+=2,[e,a]}function xBe(t){var e=t.read_shift(4),a=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=a);var r=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Rs,"");return n&&(t.l+=24),r}function kBe(t){for(var e=t.read_shift(2),a="";e-- >0;)a+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var r=t.read_shift(4);if(r===0)return a+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=t.read_shift(s>>1,"utf16le").replace(Rs,"");return a+i}function wBe(t,e){var a=t.read_shift(16);switch(a){case"e0c9ea79f9bace118c8200aa004ba90b":return xBe(t);case"0303000000000000c000000000000046":return kBe(t);default:throw new Error("Unsupported Moniker "+a)}}function ok(t){var e=t.read_shift(4),a=e>0?t.read_shift(e,"utf16le").replace(Rs,""):"";return a}function R5(t,e){e||(e=Re(6+t.length*2)),e.write_shift(4,1+t.length);for(var a=0;a<t.length;++a)e.write_shift(2,t.charCodeAt(a));return e.write_shift(2,0),e}function bBe(t,e){var a=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var r=t.read_shift(2);t.l+=2;var s,i,o,c,l="",u,d;r&16&&(s=ok(t,a-t.l)),r&128&&(i=ok(t,a-t.l)),(r&257)===257&&(o=ok(t,a-t.l)),(r&257)===1&&(c=wBe(t,a-t.l)),r&8&&(l=ok(t,a-t.l)),r&32&&(u=t.read_shift(16)),r&64&&(d=GD(t)),t.l=a;var p=i||o||c||"";p&&l&&(p+="#"+l),p||(p="#"+l),r&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return u&&(m.guid=u),d&&(m.time=d),s&&(m.Tooltip=s),m}function _Be(t){var e=Re(512),a=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var r=n.indexOf("#"),s=r>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(a=0;a<i.length;++a)e.write_shift(4,i[a]);if(s==28)n=n.slice(1),R5(n,e);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<i.length;++a)e.write_shift(1,parseInt(i[a],16));var o=r>-1?n.slice(0,r):n;for(e.write_shift(4,2*(o.length+1)),a=0;a<o.length;++a)e.write_shift(2,o.charCodeAt(a));e.write_shift(2,0),s&8&&R5(r>-1?n.slice(r+1):"",e)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<i.length;++a)e.write_shift(1,parseInt(i[a],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),a=0;a<n.length-3*c;++a)e.write_shift(1,n.charCodeAt(a+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),a=0;a<6;++a)e.write_shift(4,0)}return e.slice(0,e.l)}function nq(t){var e=t.read_shift(1),a=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1);return[e,a,n,r]}function rq(t,e){var a=nq(t);return a[3]=0,a}function Vo(t,e,a){var n=t.read_shift(2),r=t.read_shift(2),s={r:n,c:r,ixfe:0};if(a&&a.biff==2||e==7){var i=t.read_shift(1);s.ixfe=i&63,t.l+=2}else s.ixfe=t.read_shift(2);return s}function Pd(t,e,a,n){return n||(n=Re(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,a||0),n}function ABe(t){var e=t.read_shift(2),a=t.read_shift(2);return t.l+=8,{type:e,flags:a}}function NBe(t,e,a){return e===0?"":ih(t,e,a)}function SBe(t,e,a){var n=a.biff>8?4:2,r=t.read_shift(n),s=t.read_shift(n,"i"),i=t.read_shift(n,"i");return[r,s,i]}function sq(t){var e=t.read_shift(2),a=k2(t);return[e,a]}function TBe(t,e,a){t.l+=4,e-=4;var n=t.l+e,r=em(t,e,a),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,r}function w2(t){var e=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{s:{c:n,r:e},e:{c:r,r:a}}}function iq(t,e){return e||(e=Re(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function oq(t){var e=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(1),r=t.read_shift(1);return{s:{c:n,r:e},e:{c:r,r:a}}}var EBe=oq;function cq(t){t.l+=4;var e=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[a,e,n]}function CBe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function IBe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function es(t){t.l+=2,t.l+=t.read_shift(2)}var RBe={0:es,4:es,5:es,6:es,7:IBe,8:es,9:es,10:es,11:es,12:es,13:CBe,14:es,15:es,16:es,17:es,18:es,19:es,20:es,21:cq};function DBe(t,e){for(var a=t.l+e,n=[];t.l<a;){var r=t.read_shift(2);t.l-=2;try{n[r]=RBe[r](t,a-t.l)}catch{return t.l=a,n}}return t.l!=a&&(t.l=a),n}function ck(t,e){var a={BIFFVer:0,dt:0};switch(a.BIFFVer=t.read_shift(2),e-=2,e>=2&&(a.dt=t.read_shift(2),t.l-=2),a.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+a.BIFFVer)}return t.read_shift(e),a}function UD(t,e,a){var n=1536,r=16;switch(a.bookType){case"biff8":break;case"biff5":n=1280,r=8;break;case"biff4":n=4,r=6;break;case"biff3":n=3,r=6;break;case"biff2":n=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Re(r);return s.write_shift(2,n),s.write_shift(2,e),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function PBe(t,e){return e===0||t.read_shift(2),1200}function FBe(t,e,a){if(a.enc)return t.l+=e,"";var n=t.l,r=ih(t,0,a);return t.read_shift(e+n-t.l),r}function OBe(t,e){var a=!e||e.biff==8,n=Re(a?112:54);for(n.write_shift(e.biff==8?2:1,7),a&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(a?0:536870912));n.l<n.length;)n.write_shift(1,a?0:32);return n}function $Be(t,e,a){var n=a&&a.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function LBe(t,e,a){var n="";if(a.biff==4)return n=em(t,0,a),n.length===0&&(n="Sheet1"),{name:n};var r=t.read_shift(4),s=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}return n=em(t,0,a),n.length===0&&(n="Sheet1"),{pos:r,hs:s,dt:i,name:n}}function MBe(t,e){var a=!e||e.biff>=8?2:1,n=Re(8+a*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(a*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var r=n.slice(0,n.l);return r.l=n.l,r}function BBe(t,e){for(var a=t.l+e,n=t.read_shift(4),r=t.read_shift(4),s=[],i=0;i!=r&&t.l<a;++i)s.push(gBe(t));return s.Count=n,s.Unique=r,s}function zBe(t,e){var a=Re(8);a.write_shift(4,t.Count),a.write_shift(4,t.Unique);for(var n=[],r=0;r<t.length;++r)n[r]=yBe(t[r]);var s=jn([a].concat(n));return s.parts=[a.length].concat(n.map(function(i){return i.length})),s}function GBe(t,e){var a={};return a.dsst=t.read_shift(2),t.l+=e-2,a}function UBe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var a=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=a/20),e}function WBe(t){var e=ABe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var a=t.read_shift(4);return a!==0}function VBe(t){return t.read_shift(2),t.read_shift(4)}function D5(t,e,a){var n=0;a&&a.biff==2||(n=t.read_shift(2));var r=t.read_shift(2);a&&a.biff==2&&(n=1-(r>>15),r&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,r]}function jBe(t){var e=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),l=t.read_shift(2);return{Pos:[e,a],Dim:[n,r],Flags:s,CurTab:i,FirstTab:o,Selected:c,TabRatio:l}}function HBe(){var t=Re(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function KBe(t,e,a){if(a&&a.biff>=2&&a.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function qBe(t){var e=Re(18),a=1718;return t&&t.RTL&&(a|=64),e.write_shift(2,a),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function XBe(){}function YBe(t,e,a){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(a&&a.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=em(t,0,a),n}function ZBe(t,e){var a=t.name||"Arial",n=e&&e.biff==5,r=n?15+a.length:16+2*a.length,s=Re(r);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,a.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*a.length,a,n?"sbcs":"utf16le"),s}function JBe(t,e,a){var n=Vo(t,e,a);return n.isst=t.read_shift(4),n}function QBe(t,e,a,n){var r=Re(10);return Pd(t,e,n,r),r.write_shift(4,a),r}function e6e(t,e,a){a.biffguess&&a.biff==2&&(a.biff=5);var n=t.l+e,r=Vo(t,e,a),s=cv(t,n-t.l,a);return r.val=s,r}function t6e(t,e,a,n,r){var s=!r||r.biff==8,i=Re(8+ +s+(1+s)*a.length);return Pd(t,e,n,i),i.write_shift(2,a.length),s&&i.write_shift(1,1),i.write_shift((1+s)*a.length,a,s?"utf16le":"sbcs"),i}function a6e(t,e,a){var n=t.read_shift(2),r=ih(t,0,a);return[n,r]}function n6e(t,e,a,n){var r=a&&a.biff==5;n||(n=Re(r?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(r?1:2,e.length),r||n.write_shift(1,1),n.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var r6e=ih;function s6e(t){var e=Re(1+t.length);return e.write_shift(1,t.length),e.write_shift(t.length,t,"sbcs"),e}function i6e(t){var e=Re(3+t.length);return e.l+=2,e.write_shift(1,t.length),e.write_shift(t.length,t,"sbcs"),e}function P5(t,e,a){var n=t.l+e,r=a.biff==8||!a.biff?4:2,s=t.read_shift(r),i=t.read_shift(r),o=t.read_shift(2),c=t.read_shift(2);return t.l=n,{s:{r:s,c:o},e:{r:i,c}}}function o6e(t,e){var a=e.biff==8||!e.biff?4:2,n=Re(2*a+6);return n.write_shift(a,t.s.r),n.write_shift(a,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function c6e(t){var e=t.read_shift(2),a=t.read_shift(2),n=sq(t);return{r:e,c:a,ixfe:n[0],rknum:n[1]}}function l6e(t,e){for(var a=t.l+e-2,n=t.read_shift(2),r=t.read_shift(2),s=[];t.l<a;)s.push(sq(t));if(t.l!==a)throw new Error("MulRK read error");var i=t.read_shift(2);if(s.length!=i-r+1)throw new Error("MulRK length mismatch");return{r:n,c:r,C:i,rkrec:s}}function u6e(t,e){for(var a=t.l+e-2,n=t.read_shift(2),r=t.read_shift(2),s=[];t.l<a;)s.push(t.read_shift(2));if(t.l!==a)throw new Error("MulBlank read error");var i=t.read_shift(2);if(s.length!=i-r+1)throw new Error("MulBlank length mismatch");return{r:n,c:r,C:i,ixfe:s}}function f6e(t,e,a,n){var r={},s=t.read_shift(4),i=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(2);return r.patternType=W5e[o>>26],n.cellStyles&&(r.alc=s&7,r.fWrap=s>>3&1,r.alcV=s>>4&7,r.fJustLast=s>>7&1,r.trot=s>>8&255,r.cIndent=s>>16&15,r.fShrinkToFit=s>>20&1,r.iReadOrder=s>>22&2,r.fAtrNum=s>>26&1,r.fAtrFnt=s>>27&1,r.fAtrAlc=s>>28&1,r.fAtrBdr=s>>29&1,r.fAtrPat=s>>30&1,r.fAtrProt=s>>31&1,r.dgLeft=i&15,r.dgRight=i>>4&15,r.dgTop=i>>8&15,r.dgBottom=i>>12&15,r.icvLeft=i>>16&127,r.icvRight=i>>23&127,r.grbitDiag=i>>30&3,r.icvTop=o&127,r.icvBottom=o>>7&127,r.icvDiag=o>>14&127,r.dgDiag=o>>21&15,r.icvFore=c&127,r.icvBack=c>>7&127,r.fsxButton=c>>14&1),r}function d6e(t,e,a){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=f6e(t,e,n.fStyle,a),n}function F5(t,e,a,n){var r=a&&a.biff==5;n||(n=Re(r?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&r&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),r||n.write_shift(4,0),n.write_shift(2,0),n}function h6e(t){var e={};return e.ifnt=t.read_shift(1),t.l++,e.flags=t.read_shift(1),e.numFmtId=e.flags&63,e.flags>>=6,e.fStyle=0,e.data={},e}function p6e(t){var e=Re(4);return e.l+=2,e.write_shift(1,t.numFmtId),e.l++,e}function lq(t){var e=Re(12);return e.l++,e.write_shift(1,t.numFmtId),e.l+=10,e}var m6e=lq;function g6e(t){var e={};return e.ifnt=t.read_shift(1),e.numFmtId=t.read_shift(1),e.flags=t.read_shift(2),e.fStyle=e.flags>>2&1,e.data={},e}function y6e(t){var e={};return e.ifnt=t.read_shift(1),e.numFmtId=t.read_shift(1),e.flags=t.read_shift(2),e.fStyle=e.flags>>2&1,e.data={},e}function v6e(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function x6e(t){var e=Re(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function k6e(t,e,a){var n=Vo(t,6,a),r=eq(t);return n.val=r,n.t=r===!0||r===!1?"b":"e",n}function MS(t,e,a,n,r,s){var i=Re(8);return Pd(t,e,n,i),tq(a,s,i),i}function w6e(t,e,a){a.biffguess&&a.biff==2&&(a.biff=5);var n=Vo(t,6,a),r=fs(t);return n.val=r,n}function b6e(t,e,a,n){var r=Re(14);return Pd(t,e,n,r),Rd(a,r),r}var O5=NBe;function _6e(t,e,a){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);if(a.sbcch=s,s==1025||s==14849)return[s,r];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=Dd(t,s),o=[];n>t.l;)o.push(cv(t));return[s,r,i,o]}function $5(t,e,a){var n=t.read_shift(2),r,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return a.sbcch===14849&&(r=TBe(t,e-2,a)),s.body=r||t.read_shift(e-2),typeof r=="string"&&(s.Name=r),s}function L5(t,e,a){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(1),i=t.read_shift(1),o=t.read_shift(a&&a.biff==2?1:2),c=0;(!a||a.biff>=5)&&(a.biff!=5&&(t.l+=2),c=t.read_shift(2),a.biff==5&&(t.l+=2),t.l+=4);var l=Dd(t,i,a);r&32&&(l=BD[l.charCodeAt(0)]);var u=n-t.l;a&&a.biff==2&&--u;var d=n==t.l||o===0||!(u>0)?[]:LUe(t,u,a,o);return{chKey:s,Name:l,itab:c,rgce:d}}function uq(t,e,a){if(a.biff<8||!(a.biff>8)&&e==t[t.l]+(t[t.l+1]==3?1:0)+1)return M5(t,e,a);for(var n=[],r=t.l+e,s=t.read_shift(a.biff>8?4:2);s--!==0;)n.push(SBe(t,a.biff>8?12:6,a));if(t.l!=r)throw new Error("Bad ExternSheet: "+t.l+" != "+r);return n}function M5(t,e,a){t[t.l+1]==3&&t[t.l]++;var n=em(t,e,a);return n.charCodeAt(0)==3?n.slice(1):n}function A6e(t,e,a){if(a.biff<8){t.l+=e;return}var n=t.read_shift(2),r=t.read_shift(2),s=Dd(t,n,a),i=Dd(t,r,a);return[s,i]}function N6e(t,e,a){var n=oq(t);t.l++;var r=t.read_shift(1);return e-=8,[MUe(t,e,a),r,n]}function B5(t,e,a){var n=EBe(t);switch(a.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,OUe(t,e,a)]}function S6e(t){var e=t.read_shift(4)!==0,a=t.read_shift(4)!==0,n=t.read_shift(4);return[e,a,n]}function T6e(t,e,a){var n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),o=ih(t,0,a);return[{r:n,c:r},o,i,s]}function E6e(t,e,a){if(a&&a.biff<8){var n=t.read_shift(2),r=t.read_shift(2);if(n==65535||n==-1)return;var s=t.read_shift(2),i=t.read_shift(Math.min(s,2048),"cpstr");return[{r:n,c:r},i]}return T6e(t,e,a)}function BS(t,e,a,n){var r=Re(6+(n||t.length));return r.write_shift(2,e),r.write_shift(2,a),r.write_shift(2,n||t.length),r.write_shift(t.length,t,"sbcs"),r}function C6e(t,e){for(var a=[],n=t.read_shift(2);n--;)a.push(w2(t));return a}function I6e(t){var e=Re(2+t.length*8);e.write_shift(2,t.length);for(var a=0;a<t.length;++a)iq(t[a],e);return e}function R6e(t,e,a){if(a&&a.biff<8)return P6e(t,e,a);var n=cq(t),r=DBe(t,e-22,n[1]);return{cmo:n,ft:r}}var D6e={8:function(t,e){var a=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var r=t.read_shift(1);return t.l+=r,t.l=a,{fmt:n}}};function P6e(t,e,a){t.l+=4;var n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var i=[];return i.push((D6e[n]||vs)(t,e,a)),{cmo:[r,n,s],ft:i}}function F6e(t,e,a){var n=t.l,r="";try{t.l+=4;var s=(a.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:i=vBe(t,6,a);var o=t.read_shift(2);t.read_shift(2),On(t,2);var c=t.read_shift(2);t.l+=c;for(var l=1;l<t.lens.length-1;++l){if(t.l-n!=t.lens[l])throw new Error("TxO: bad continue record");var u=t[t.l],d=Dd(t,t.lens[l+1]-t.lens[l]-1);if(r+=d,r.length>=(u?o:2*o))break}if(r.length!==o&&r.length!==o*2)throw new Error("cchText: "+o+" != "+r.length);return t.l=n+e,{t:r}}catch{return t.l=n+e,{t:r}}}function O6e(t,e){var a=w2(t);t.l+=16;var n=bBe(t,e-24);return[a,n]}function $6e(t){var e=Re(24),a=Ka(t[0]);e.write_shift(2,a.r),e.write_shift(2,a.r),e.write_shift(2,a.c),e.write_shift(2,a.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)e.write_shift(1,parseInt(n[r],16));return jn([e,_Be(t[1])])}function L6e(t,e){t.read_shift(2);var a=w2(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Rs,""),[a,n]}function M6e(t){var e=t[1].Tooltip,a=Re(10+2*(e.length+1));a.write_shift(2,2048);var n=Ka(t[0]);a.write_shift(2,n.r),a.write_shift(2,n.r),a.write_shift(2,n.c),a.write_shift(2,n.c);for(var r=0;r<e.length;++r)a.write_shift(2,e.charCodeAt(r));return a.write_shift(2,0),a}function B6e(t){var e=[0,0],a;return a=t.read_shift(2),e[0]=_5[a]||a,a=t.read_shift(2),e[1]=_5[a]||a,e}function z6e(t){return t||(t=Re(4)),t.write_shift(2,1),t.write_shift(2,1),t}function G6e(t){for(var e=t.read_shift(2),a=[];e-- >0;)a.push(rq(t));return a}function U6e(t){for(var e=t.read_shift(2),a=[];e-- >0;)a.push(rq(t));return a}function W6e(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function fq(t,e,a){if(!a.cellStyles)return vs(t,e);var n=a&&a.biff>=12?4:2,r=t.read_shift(n),s=t.read_shift(n),i=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var l={s:r,e:s,w:i,ixfe:o,flags:c};return(a.biff>=5||!a.biff)&&(l.level=c>>8&7),l}function V6e(t,e){var a=Re(12);a.write_shift(2,e),a.write_shift(2,e),a.write_shift(2,t.width*256),a.write_shift(2,0);var n=0;return t.hidden&&(n|=1),a.write_shift(1,n),n=t.level||0,a.write_shift(1,n),a.write_shift(2,0),a}function j6e(t,e){var a={};return e<32||(t.l+=16,a.header=fs(t),a.footer=fs(t),t.l+=2),a}function H6e(t,e,a){var n={area:!1};if(a.biff!=5)return t.l+=e,n;var r=t.read_shift(1);return t.l+=3,r&16&&(n.area=!0),n}function K6e(t){for(var e=Re(2*t),a=0;a<t;++a)e.write_shift(2,a+1);return e}var q6e=Vo,X6e=QK,Y6e=cv;function Z6e(t){var e=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(4),r={fmt:e,env:a,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,r}function lv(t,e,a,n,r){return t||(t=Re(7)),t.write_shift(2,e),t.write_shift(2,a),t.write_shift(1,n||0),t.write_shift(1,r||0),t.write_shift(1,0),t}function J6e(t,e,a){a.biffguess&&a.biff==5&&(a.biff=2);var n=Vo(t,7,a),r=ih(t,e-7,a);return n.t="str",n.val=r,n}function Q6e(t,e,a){var n=Vo(t,7,a),r=fs(t);return n.t="n",n.val=r,n}function e8e(t,e,a,n,r){var s=Re(15);return lv(s,t,e,n||0,r||0),s.write_shift(8,a,"f"),s}function t8e(t,e,a){var n=Vo(t,7,a),r=t.read_shift(2);return n.t="n",n.val=r,n}function a8e(t,e,a,n,r){var s=Re(9);return lv(s,t,e,n||0,r||0),s.write_shift(2,a),s}function n8e(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function r8e(t,e,a){var n=t.l+7,r=Vo(t,6,a);t.l=n;var s=eq(t);return r.val=s,r.t=s===!0||s===!1?"b":"e",r}function s8e(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function i8e(t,e,a){var n=t.l+e,r=Vo(t,6,a),s=t.read_shift(2),i=Dd(t,s,a);return t.l=n,r.t="str",r.val=i,r}function o8e(t){var e=t.read_shift(4),a=t.read_shift(1),n=t.read_shift(a,"sbcs");return n.length===0&&(n="Sheet1"),{flags:e,name:n}}var c8e=[2,3,48,49,131,139,140,245],YE=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=m2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(o,c){var l=[],u=Ou(1);switch(c.type){case"base64":u=Es(yi(o));break;case"binary":u=Es(o);break;case"buffer":case"array":u=o;break}hr(u,0);var d=u.read_shift(1),p=!!(d&136),m=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var x=0,v=521;d==2&&(x=u.read_shift(2)),u.l+=3,d!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),d!=2&&(v=u.read_shift(2));var k=u.read_shift(2),b=c.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=t[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var _=[],A={},S=Math.min(u.length,d==2?521:v-10-(m?264:0)),C=g?32:11;u.l<S&&u[u.l]!=13;)switch(A={},A.name=(typeof ta<"u"?ta.utils.decode(b,u.slice(u.l,u.l+C)):Nc(u.slice(u.l,u.l+C))).replace(/[\u0000\r\n][\S\s]*$/g,""),u.l+=C,A.type=String.fromCharCode(u.read_shift(1)),d!=2&&!g&&(A.offset=u.read_shift(4)),A.len=u.read_shift(1),d==2&&(A.offset=u.read_shift(2)),A.dec=u.read_shift(1),A.name.length&&_.push(A),d!=2&&(u.l+=g?13:14),A.type){case"B":(!m||A.len!=8)&&c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var E=0,R=0;for(l[0]=[],R=0;R!=_.length;++R)l[0][R]=_[R].name;for(;x-- >0;){if(u[u.l]===42){u.l+=k;continue}for(++u.l,l[++E]=[],R=0,R=0;R!=_.length;++R){var I=u.slice(u.l,u.l+_[R].len);u.l+=_[R].len,hr(I,0);var P=typeof ta<"u"?ta.utils.decode(b,I):Nc(I);switch(_[R].type){case"C":P.trim().length&&(l[E][R]=P.replace(/([^\s])\s+$/,"$1"));break;case"D":P.length===8?(l[E][R]=new Date(Date.UTC(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8),0,0,0,0)),c&&c.UTC||(l[E][R]=Cd(l[E][R]))):l[E][R]=P;break;case"F":l[E][R]=parseFloat(P.trim());break;case"+":case"I":l[E][R]=g?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":l[E][R]=!0;break;case"N":case"F":l[E][R]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));l[E][R]="##MEMO##"+(g?parseInt(P.trim(),10):I.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(l[E][R]=+P||0);break;case"@":l[E][R]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":{var D=I.read_shift(4),B=I.read_shift(4);if(D==0&&B==0)break;l[E][R]=new Date((D-2440588)*864e5+B),c&&c.UTC||(l[E][R]=Cd(l[E][R]))}break;case"Y":l[E][R]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[E][R]=-I.read_shift(-8,"f");break;case"B":if(m&&_[R].len==8){l[E][R]=I.read_shift(8,"f");break}case"G":case"P":I.l+=_[R].len;break;case"0":if(_[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[R].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(l=l.slice(0,c.sheetRows)),c.DBF=_,l}function n(o,c){var l=c||{};l.dateNF||(l.dateNF="yyyymmdd");var u=Fm(a(o,l),l);return u["!cols"]=l.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete l.DBF,u}function r(o,c){try{var l=Qu(n(o,c),c);return l.bookType="dbf",l}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,c){if(!o["!ref"])throw new Error("Cannot export empty sheet to DBF");var l=c||{},u=gr;if(+l.codepage>=0&&Yi(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var d=ps(),p=tC(o,{header:1,raw:!0,cellDates:!0}),m=p[0],g=p.slice(1),x=o["!cols"]||[],v=0,k=0,b=0,_=1;for(v=0;v<m.length;++v){if(((x[v]||{}).DBF||{}).name){m[v]=x[v].DBF.name,++b;continue}if(m[v]!=null){if(++b,typeof m[v]=="number"&&(m[v]=m[v].toString(10)),typeof m[v]!="string")throw new Error("DBF Invalid column name "+m[v]+" |"+typeof m[v]+"|");if(m.indexOf(m[v])!==v){for(k=0;k<1024;++k)if(m.indexOf(m[v]+"_"+k)==-1){m[v]+="_"+k;break}}}}var A=wa(o["!ref"]),S=[],C=[],E=[];for(v=0;v<=A.e.c-A.s.c;++v){var R="",I="",P=0,D=[];for(k=0;k<g.length;++k)g[k][v]!=null&&D.push(g[k][v]);if(D.length==0||m[v]==null){S[v]="?";continue}for(k=0;k<D.length;++k){switch(typeof D[k]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=D[k]instanceof Date?"D":"C";break;default:I="C"}P=Math.max(P,(typeof ta<"u"&&typeof D[k]=="string"?ta.utils.encode(Sd,D[k]):String(D[k])).length),R=R&&R!=I?"C":I}P>250&&(P=250),I=((x[v]||{}).DBF||{}).type,I=="C"&&x[v].DBF.len>P&&(P=x[v].DBF.len),R=="B"&&I=="N"&&(R="N",E[v]=x[v].DBF.dec,P=x[v].DBF.len),C[v]=R=="C"||I=="N"?P:s[R]||0,_+=C[v],S[v]=R}var B=d.next(32);for(B.write_shift(4,318902576),B.write_shift(4,g.length),B.write_shift(2,296+32*b),B.write_shift(2,_),v=0;v<4;++v)B.write_shift(4,0);var U=+e[gr]||3;for(B.write_shift(4,0|U<<8),t[U]!=+l.codepage&&(l.codepage&&console.error("DBF Unsupported codepage "+gr+", using 1252"),gr=1252),v=0,k=0;v<m.length;++v)if(m[v]!=null){var V=d.next(32),j=(m[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,j,"sbcs"),V.write_shift(1,S[v]=="?"?"C":S[v],"sbcs"),V.write_shift(4,k),V.write_shift(1,C[v]||s[S[v]]||0),V.write_shift(1,E[v]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),k+=C[v]||s[S[v]]||0}var W=d.next(264);for(W.write_shift(4,13),v=0;v<65;++v)W.write_shift(4,0);for(v=0;v<g.length;++v){var Q=d.next(_);for(Q.write_shift(1,0),k=0;k<m.length;++k)if(m[k]!=null)switch(S[k]){case"L":Q.write_shift(1,g[v][k]==null?63:g[v][k]?84:70);break;case"B":Q.write_shift(8,g[v][k]||0,"f");break;case"N":var q="0";for(typeof g[v][k]=="number"&&(q=g[v][k].toFixed(E[k]||0)),q.length>C[k]&&(q=q.slice(0,C[k])),b=0;b<C[k]-q.length;++b)Q.write_shift(1,32);Q.write_shift(1,q,"sbcs");break;case"D":g[v][k]?(Q.write_shift(4,("0000"+g[v][k].getFullYear()).slice(-4),"sbcs"),Q.write_shift(2,("00"+(g[v][k].getMonth()+1)).slice(-2),"sbcs"),Q.write_shift(2,("00"+g[v][k].getDate()).slice(-2),"sbcs")):Q.write_shift(8,"00000000","sbcs");break;case"C":var Z=Q.l,M=String(g[v][k]!=null?g[v][k]:"").slice(0,C[k]);for(Q.write_shift(1,M,"cpstr"),Z+=C[k]-Q.l,b=0;b<Z;++b)Q.write_shift(1,32);break}}return gr=u,d.next(1).write_shift(1,26),d.end()}return{to_workbook:r,to_sheet:n,from_sheet:i}}(),dq=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+hn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{e=new RegExp("\x1BN("+hn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var a=function(m,g){var x=t[g];return typeof x=="number"?WE(x):x},n=function(m,g,x){var v=g.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return v==59?m:WE(v)};t["|"]=254;var r=function(m){return m.replace(/\n/g,"\x1B :").replace(/\r/g,"\x1B =")};function s(m,g){switch(g.type){case"base64":return i(yi(m),g);case"binary":return i(m,g);case"buffer":return i(oa&&Buffer.isBuffer(m)?m.toString("binary"):Nc(m),g);case"array":return i(Ed(m),g)}throw new Error("Unrecognized type "+g.type)}function i(m,g){var x=m.split(/[\n\r]+/),v=-1,k=-1,b=0,_=0,A=[],S=[],C=null,E={},R=[],I=[],P=[],D=0,B,U={Workbook:{WBProps:{},Names:[]}};for(+g.codepage>=0&&Yi(+g.codepage);b!==x.length;++b){D=0;var V=x[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,a),j=V.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),W=j[0],Q;if(V.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"V":{var q=parseInt(j[_].slice(1),10);q>=1&&q<=4&&(U.Workbook.WBProps.date1904=!0)}break}break;case"W":break;case"P":switch(j[1].charAt(0)){case"P":S.push(V.slice(3).replace(/;;/g,";"));break}break;case"NN":{var Z={Sheet:0};for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"N":Z.Name=j[_].slice(1);break;case"E":Z.Ref=(g&&g.sheet||"Sheet1")+"!"+td(j[_].slice(1));break}U.Workbook.Names.push(Z)}break;case"C":var M=!1,se=!1,ue=!1,le=!1,ie=-1,ye=-1,ke="",ge="z",G="";for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"A":G=j[_].slice(1);break;case"X":k=parseInt(j[_].slice(1),10)-1,se=!0;break;case"Y":for(v=parseInt(j[_].slice(1),10)-1,se||(k=0),B=A.length;B<=v;++B)A[B]=[];break;case"K":Q=j[_].slice(1),Q.charAt(0)==='"'?(Q=Q.slice(1,Q.length-1),ge="s"):Q==="TRUE"||Q==="FALSE"?(Q=Q==="TRUE",ge="b"):Q.charAt(0)=="#"&&Or[Q]!=null?(ge="e",Q=Or[Q]):isNaN(pi(Q))||(Q=pi(Q),ge="n",C!==null&&vi(C)&&g.cellDates&&(Q=fl(U.Workbook.WBProps.date1904?Q+1462:Q),ge=typeof Q=="number"?"n":"d")),typeof ta<"u"&&typeof Q=="string"&&(g||{}).type!="string"&&(g||{}).codepage&&(Q=ta.utils.decode(g.codepage,Q)),M=!0;break;case"E":le=!0,ke=td(j[_].slice(1),{r:v,c:k});break;case"S":ue=!0;break;case"G":break;case"R":ie=parseInt(j[_].slice(1),10)-1;break;case"C":ye=parseInt(j[_].slice(1),10)-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+V)}if(M&&(A[v][k]?(A[v][k].t=ge,A[v][k].v=Q):A[v][k]={t:ge,v:Q},C&&(A[v][k].z=C),g.cellText!==!1&&C&&(A[v][k].w=ei(A[v][k].z,A[v][k].v,{date1904:U.Workbook.WBProps.date1904})),C=null),ue){if(le)throw new Error("SYLK shared formula cannot have own formula");var te=ie>-1&&A[ie][ye];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");ke=Sq(te[1],{r:v-ie,c:k-ye})}ke&&(A[v][k]?A[v][k].f=ke:A[v][k]={t:"n",f:ke}),G&&(A[v][k]||(A[v][k]={t:"z"}),A[v][k].c=[{a:"SheetJSYLK",t:G}]);break;case"F":var ee=0;for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"X":k=parseInt(j[_].slice(1),10)-1,++ee;break;case"Y":for(v=parseInt(j[_].slice(1),10)-1,B=A.length;B<=v;++B)A[B]=[];break;case"M":D=parseInt(j[_].slice(1),10)/20;break;case"F":break;case"G":break;case"P":C=S[parseInt(j[_].slice(1),10)];break;case"S":break;case"D":break;case"N":break;case"W":for(P=j[_].slice(1).split(" "),B=parseInt(P[0],10);B<=parseInt(P[1],10);++B)D=parseInt(P[2],10),I[B-1]=D===0?{hidden:!0}:{wch:D};break;case"C":k=parseInt(j[_].slice(1),10)-1,I[k]||(I[k]={});break;case"R":v=parseInt(j[_].slice(1),10)-1,R[v]||(R[v]={}),D>0?(R[v].hpt=D,R[v].hpx=nm(D)):D===0&&(R[v].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+V)}ee<1&&(C=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+V)}}return R.length>0&&(E["!rows"]=R),I.length>0&&(E["!cols"]=I),I.forEach(function(ne){wl(ne)}),g&&g.sheetRows&&(A=A.slice(0,g.sheetRows)),[A,E,U]}function o(m,g){var x=s(m,g),v=x[0],k=x[1],b=x[2],_=za(g);_.date1904=(((b||{}).Workbook||{}).WBProps||{}).date1904;var A=Fm(v,_);hn(k).forEach(function(C){A[C]=k[C]});var S=Qu(A,g);return hn(b).forEach(function(C){S[C]=b[C]}),S.bookType="sylk",S}function c(m,g,x,v,k,b){var _="C;Y"+(x+1)+";X"+(v+1)+";K";switch(m.t){case"n":_+=isFinite(m.v)?m.v||0:wr[isNaN(m.v)?36:7],m.f&&!m.F&&(_+=";E"+uv(m.f,{r:x,c:v}));break;case"b":_+=m.v?"TRUE":"FALSE";break;case"e":_+=m.w||wr[m.v]||m.v;break;case"d":_+=In(xn(m.v,b),b);break;case"s":_+='"'+(m.v==null?"":String(m.v)).replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function l(m,g,x){var v="C;Y"+(g+1)+";X"+(x+1)+";A";return v+=r(m.map(function(k){return k.t}).join("")),v}function u(m,g){g.forEach(function(x,v){var k="F;W"+(v+1)+" "+(v+1)+" ";x.hidden?k+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=am(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=fy(x.wpx)),typeof x.wch=="number"&&(k+=Math.round(x.wch))),k.charAt(k.length-1)!=" "&&m.push(k)})}function d(m,g){g.forEach(function(x,v){var k="F;";x.hidden?k+="M0;":x.hpt?k+="M"+20*x.hpt+";":x.hpx&&(k+="M"+20*dy(x.hpx)+";"),k.length>2&&m.push(k+"R"+(v+1))})}function p(m,g,x){g||(g={}),g._formats=["General"];var v=["ID;PSheetJS;N;E"],k=[],b=wa(m["!ref"]||"A1"),_,A=m["!data"]!=null,S=`\r
`,C=(((x||{}).Workbook||{}).WBProps||{}).date1904,E="General";v.push("P;PGeneral");var R=b.s.r,I=b.s.c,P=[];if(m["!ref"]){for(R=b.s.r;R<=b.e.r;++R)if(!(A&&!m["!data"][R])){for(P=[],I=b.s.c;I<=b.e.c;++I)_=A?m["!data"][R][I]:m[qt(I)+fa(R)],!(!_||!_.c)&&P.push(l(_.c,R,I));P.length&&k.push(P.join(S))}}if(m["!ref"]){for(R=b.s.r;R<=b.e.r;++R)if(!(A&&!m["!data"][R])){for(P=[],I=b.s.c;I<=b.e.c;++I)if(_=A?m["!data"][R][I]:m[qt(I)+fa(R)],!(!_||_.v==null&&(!_.f||_.F))){if((_.z||(_.t=="d"?Ct[14]:"General"))!=E){var D=g._formats.indexOf(_.z);D==-1&&(g._formats.push(_.z),D=g._formats.length-1,v.push("P;P"+_.z.replace(/;/g,";;"))),P.push("F;P"+D+";Y"+(R+1)+";X"+(I+1))}P.push(c(_,m,R,I,g,C))}k.push(P.join(S))}}return v.push("F;P0;DG0G8;M255"),m["!cols"]&&u(v,m["!cols"]),m["!rows"]&&d(v,m["!rows"]),m["!ref"]&&v.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" ")),v.push("O;L;D;B"+(C?";V4":"")+";K47;G100 0.001"),delete g._formats,v.join(S)+S+k.join(S)+S+"E"+S}return{to_workbook:o,from_sheet:p}}(),hq=function(){function t(o,c){switch(c.type){case"base64":return e(yi(o),c);case"binary":return e(o,c);case"buffer":return e(oa&&Buffer.isBuffer(o)?o.toString("binary"):Nc(o),c);case"array":return e(Ed(o),c)}throw new Error("Unrecognized type "+c.type)}function e(o,c){for(var l=o.split(`
`),u=-1,d=-1,p=0,m=[];p!==l.length;++p){if(l[p].trim()==="BOT"){m[++u]=[],d=0;continue}if(!(u<0)){var g=l[p].trim().split(","),x=g[0],v=g[1];++p;for(var k=l[p]||"";(k.match(/["]/g)||[]).length&1&&p<l.length-1;)k+=`
`+l[++p];switch(k=k.trim(),+x){case-1:if(k==="BOT"){m[++u]=[],d=0;continue}else if(k!=="EOD")throw new Error("Unrecognized DIF special command "+k);break;case 0:k==="TRUE"?m[u][d]=!0:k==="FALSE"?m[u][d]=!1:isNaN(pi(v))?isNaN(iy(v).getDate())?m[u][d]=v:(m[u][d]=xn(v),c&&c.UTC||(m[u][d]=Cd(m[u][d]))):m[u][d]=pi(v),++d;break;case 1:k=k.slice(1,k.length-1),k=k.replace(/""/g,'"'),k&&k.match(/^=".*"$/)&&(k=k.slice(2,-1)),m[u][d++]=k!==""?k:null;break}if(k==="EOD")break}}return c&&c.sheetRows&&(m=m.slice(0,c.sheetRows)),m}function a(o,c){return Fm(t(o,c),c)}function n(o,c){var l=Qu(a(o,c),c);return l.bookType="dif",l}function r(o,c){return"0,"+String(o)+`\r
`+c}function s(o){return`1,0\r
"`+o.replace(/"/g,'""')+'"'}function i(o){if(!o["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var c=wa(o["!ref"]),l=o["!data"]!=null,u=[`TABLE\r
0,1\r
"sheetjs"\r
`,`VECTORS\r
0,`+(c.e.r-c.s.r+1)+`\r
""\r
`,`TUPLES\r
0,`+(c.e.c-c.s.c+1)+`\r
""\r
`,`DATA\r
0,0\r
""\r
`],d=c.s.r;d<=c.e.r;++d){for(var p=l?o["!data"][d]:[],m=`-1,0\r
BOT\r
`,g=c.s.c;g<=c.e.c;++g){var x=l?p&&p[g]:o[ua({r:d,c:g})];if(x==null){m+=`1,0\r
""\r
`;continue}switch(x.t){case"n":x.w!=null?m+="0,"+x.w+`\r
V`:x.v!=null?m+=r(x.v,"V"):x.f!=null&&!x.F?m+=s("="+x.f):m+=`1,0\r
""`;break;case"b":m+=x.v?r(1,"TRUE"):r(0,"FALSE");break;case"s":m+=s(isNaN(+x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=ei(x.z||Ct[14],In(xn(x.v)))),m+=r(x.w,"V");break;default:m+=`1,0\r
""`}m+=`\r
`}u.push(m)}return u.join("")+`-1,0\r
EOD`}return{to_workbook:n,to_sheet:a,from_sheet:i}}(),pq=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(d,p){for(var m=d.split(`
`),g=-1,x=-1,v=0,k=[];v!==m.length;++v){var b=m[v].trim().split(":");if(b[0]==="cell"){var _=Ka(b[1]);if(k.length<=_.r)for(g=k.length;g<=_.r;++g)k[g]||(k[g]=[]);switch(g=_.r,x=_.c,b[2]){case"t":k[g][x]=t(b[3]);break;case"v":k[g][x]=+b[3];break;case"vtf":var A=b[b.length-1];case"vtc":switch(b[3]){case"nl":k[g][x]=!!+b[4];break;default:k[g][x]=b[b.length-1].charAt(0)=="#"?{t:"e",v:Or[b[b.length-1]]}:+b[4];break}b[2]=="vtf"&&(k[g][x]=[k[g][x],A])}}}return p&&p.sheetRows&&(k=k.slice(0,p.sheetRows)),k}function n(d,p){return Fm(a(d,p),p)}function r(d,p){return Qu(n(d,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function l(d){if(!d||!d["!ref"])return"";for(var p=[],m=[],g,x="",v=or(d["!ref"]),k=d["!data"]!=null,b=v.s.r;b<=v.e.r;++b)for(var _=v.s.c;_<=v.e.c;++_)if(x=ua({r:b,c:_}),g=k?(d["!data"][b]||[])[_]:d[x],!(!g||g.v==null||g.t==="z")){switch(m=["cell",x,"t"],g.t){case"s":m.push(e(g.v));break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var A=In(xn(g.v));m[2]="vtc",m[3]="nd",m[4]=""+A,m[5]=g.w||ei(g.z||Ct[14],A);break;case"n":isFinite(g.v)?g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=e(g.f)):(m[2]="v",m[3]=g.v):(m[2]="vt"+(g.f?"f":"c"),m[3]="e"+wr[isNaN(g.v)?36:7],m[4]="0",m[5]=g.f||m[3].slice(1),m[6]="e",m[7]=m[3].slice(1));break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(d){return[s,i,o,i,l(d),c].join(`
`)}return{to_workbook:r,to_sheet:n,from_sheet:u}}(),tm=function(){function t(u,d,p,m,g){g.raw?d[p][m]=u:u===""||(u==="TRUE"?d[p][m]=!0:u==="FALSE"?d[p][m]=!1:isNaN(pi(u))?isNaN(iy(u).getDate())?u.charCodeAt(0)==35&&Or[u]!=null?d[p][m]={t:"e",v:Or[u],w:u}:d[p][m]=u:d[p][m]=xn(u):d[p][m]=pi(u))}function e(u,d){var p=d||{},m=[];if(!u||u.length===0)return m;for(var g=u.split(/[\r\n]/),x=g.length-1;x>=0&&g[x].length===0;)--x;for(var v=10,k=0,b=0;b<=x;++b)k=g[b].indexOf(" "),k==-1?k=g[b].length:k++,v=Math.max(v,k);for(b=0;b<=x;++b){m[b]=[];var _=0;for(t(g[b].slice(0,v).trim(),m,b,_,p),_=1;_<=(g[b].length-v)/10+1;++_)t(g[b].slice(v+(_-1)*10,v+_*10).trim(),m,b,_,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var a={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(u){for(var d={},p=!1,m=0,g=0;m<u.length;++m)(g=u.charCodeAt(m))==34?p=!p:!p&&g in a&&(d[g]=(d[g]||0)+1);g=[];for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&g.push([d[m],m]);if(!g.length){d=n;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&g.push([d[m],m])}return g.sort(function(x,v){return x[0]-v[0]||n[x[1]]-n[v[1]]}),a[g.pop()[1]]||44}function s(u,d){var p=d||{},m="",g={};p.dense&&(g["!data"]=[]);var x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=r(u.slice(0,1024)):p&&p.FS?m=p.FS:m=r(u.slice(0,1024));var v=0,k=0,b=0,_=0,A=0,S=m.charCodeAt(0),C=!1,E=0,R=u.charCodeAt(0),I=p.dateNF!=null?IMe(p.dateNF):null;function P(){var D=u.slice(_,A);D.slice(-1)=="\r"&&(D=D.slice(0,-1));var B={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),p.cellText!==!1&&(B.w=D),D.length===0)B.t="z";else if(p.raw)B.t="s",B.v=D;else if(D.trim().length===0)B.t="s",B.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(B.t="s",B.v=D.slice(2,-1).replace(/""/g,'"')):wGe(D)?(B.t="s",B.f=D.slice(1),B.v=D):(B.t="s",B.v=D);else if(D=="TRUE")B.t="b",B.v=!0;else if(D=="FALSE")B.t="b",B.v=!1;else if(!isNaN(b=pi(D)))B.t="n",B.v=b;else if(!isNaN((b=iy(D)).getDate())||I&&D.match(I)){if(B.z=p.dateNF||Ct[14],I&&D.match(I)){var U=RMe(D,p.dateNF,D.match(I)||[]);b=xn(U),p&&p.UTC===!1&&(b=Cd(b))}else p&&p.UTC===!1?b=Cd(b):p.cellText!==!1&&p.dateNF&&(B.w=ei(B.z,b));p.cellDates?(B.t="d",B.v=b):(B.t="n",B.v=In(b)),p.cellNF||delete B.z}else D.charCodeAt(0)==35&&Or[D]!=null?(B.t="e",B.w=D,B.v=Or[D]):(B.t="s",B.v=D);if(B.t=="z"||(p.dense?(g["!data"][v]||(g["!data"][v]=[]),g["!data"][v][k]=B):g[ua({c:k,r:v})]=B),_=A+1,R=u.charCodeAt(_),x.e.c<k&&(x.e.c=k),x.e.r<v&&(x.e.r=v),E==S)++k;else if(k=0,++v,p.sheetRows&&p.sheetRows<=v)return!0}e:for(;A<u.length;++A)switch(E=u.charCodeAt(A)){case 34:R===34&&(C=!C);break;case 13:if(C)break;u.charCodeAt(A+1)==10&&++A;case S:case 10:if(!C&&P())break e;break}return A-_>0&&P(),g["!ref"]=ea(x),g}function i(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,d):Fm(e(u,d),d)}function o(u,d){var p="",m=d.type=="string"?[0,0,0,0]:eP(u,d);switch(d.type){case"base64":p=yi(u);break;case"binary":p=u;break;case"buffer":d.codepage==65001?p=u.toString("utf8"):d.codepage&&typeof ta<"u"?p=ta.utils.decode(d.codepage,u):p=oa&&Buffer.isBuffer(u)?u.toString("binary"):Nc(u);break;case"array":p=Ed(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+d.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=Ha(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=Ha(p):d.type=="binary"&&typeof ta<"u"&&d.codepage&&(p=ta.utils.decode(d.codepage,ta.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?pq.to_sheet(d.type=="string"?p:Ha(p),d):i(p,d)}function c(u,d){return Qu(o(u,d),d)}function l(u){var d=[];if(!u["!ref"])return"";for(var p=wa(u["!ref"]),m,g=u["!data"]!=null,x=p.s.r;x<=p.e.r;++x){for(var v=[],k=p.s.c;k<=p.e.c;++k){var b=ua({r:x,c:k});if(m=g?(u["!data"][x]||[])[k]:u[b],!m||m.v==null){v.push("          ");continue}for(var _=(m.w||(Sc(m),m.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(k===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:l}}();function l8e(t,e){var a=e||{},n=!!a.WTF;a.WTF=!0;try{var r=dq.to_workbook(t,a);return a.WTF=n,r}catch(s){if(a.WTF=n,s.message.indexOf("SYLK bad record ID")==-1&&n)throw s;return tm.to_workbook(t,e)}}var ed=function(){function t(G,te,ee){if(G){hr(G,G.l||0);for(var ne=ee.Enum||le;G.l<G.length;){var be=G.read_shift(2),Y=ne[be]||ne[65535],Ae=G.read_shift(2),Oe=G.l+Ae,$e=Y.f&&Y.f(G,Ae,ee);if(G.l=Oe,te($e,Y,be))return}}}function e(G,te){switch(te.type){case"base64":return n(Es(yi(G)),te);case"binary":return n(Es(G),te);case"buffer":case"array":return n(G,te)}throw"Unsupported type "+te.type}var a=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function n(G,te){if(!G)return G;var ee=te||{},ne={},be="Sheet1",Y="",Ae=0,Oe={},$e=[],He=[],Ve=[];ee.dense&&(Ve=ne["!data"]=[]);var tt={s:{r:0,c:0},e:{r:0,c:0}},lt=ee.sheetRows||0,Mt={};if(G[4]==81&&G[5]==80&&G[6]==87)return ge(G,te);if(G[2]==0&&(G[3]==8||G[3]==9)&&G.length>=16&&G[14]==5&&G[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(G[2]==2)ee.Enum=le,t(G,function(Fe,It,Lt){switch(Lt){case 0:ee.vers=Fe,Fe>=4096&&(ee.qpro=!0);break;case 255:ee.vers=Fe,ee.works=!0;break;case 6:tt=Fe;break;case 204:Fe&&(Y=Fe);break;case 222:Y=Fe;break;case 15:case 51:(!ee.qpro&&!ee.works||Lt==51)&&Fe[1].v.charCodeAt(0)<48&&(Fe[1].v=Fe[1].v.slice(1)),(ee.works||ee.works2)&&(Fe[1].v=Fe[1].v.replace(/\r\n/g,`
`));case 13:case 14:case 16:(Fe[2]&112)==112&&(Fe[2]&15)>1&&(Fe[2]&15)<15&&(Fe[1].z=ee.dateNF||a[(Fe[2]&15)-1]||Ct[14],ee.cellDates&&(Fe[1].v=fl(Fe[1].v),Fe[1].t=typeof Fe[1].v=="number"?"n":"d")),ee.qpro&&Fe[3]>Ae&&(ne["!ref"]=ea(tt),Oe[be]=ne,$e.push(be),ne={},ee.dense&&(Ve=ne["!data"]=[]),tt={s:{r:0,c:0},e:{r:0,c:0}},Ae=Fe[3],be=Y||"Sheet"+(Ae+1),Y="");var Rt=ee.dense?(Ve[Fe[0].r]||[])[Fe[0].c]:ne[ua(Fe[0])];if(Rt){Rt.t=Fe[1].t,Rt.v=Fe[1].v,Fe[1].z!=null&&(Rt.z=Fe[1].z),Fe[1].f!=null&&(Rt.f=Fe[1].f),Mt=Rt;break}ee.dense?(Ve[Fe[0].r]||(Ve[Fe[0].r]=[]),Ve[Fe[0].r][Fe[0].c]=Fe[1]):ne[ua(Fe[0])]=Fe[1],Mt=Fe[1];break;case 21509:ee.works2=!0;break;case 21506:Fe==5281&&(Mt.z="hh:mm:ss",ee.cellDates&&Mt.t=="n"&&(Mt.v=fl(Mt.v),Mt.t=typeof Mt.v=="number"?"n":"d"));break}},ee);else if(G[2]==26||G[2]==14)ee.Enum=ie,G[2]==14&&(ee.qpro=!0,G.l=0),t(G,function(Fe,It,Lt){switch(Lt){case 204:be=Fe;break;case 22:Fe[1].v.charCodeAt(0)<48&&(Fe[1].v=Fe[1].v.slice(1)),Fe[1].v=Fe[1].v.replace(/\x0F./g,function(Rt){return String.fromCharCode(Rt.charCodeAt(1)-32)}).replace(/\r\n/g,`
`);case 23:case 24:case 25:case 37:case 39:case 40:if(Fe[3]>Ae&&(ne["!ref"]=ea(tt),Oe[be]=ne,$e.push(be),ne={},ee.dense&&(Ve=ne["!data"]=[]),tt={s:{r:0,c:0},e:{r:0,c:0}},Ae=Fe[3],be="Sheet"+(Ae+1)),lt>0&&Fe[0].r>=lt)break;ee.dense?(Ve[Fe[0].r]||(Ve[Fe[0].r]=[]),Ve[Fe[0].r][Fe[0].c]=Fe[1]):ne[ua(Fe[0])]=Fe[1],tt.e.c<Fe[0].c&&(tt.e.c=Fe[0].c),tt.e.r<Fe[0].r&&(tt.e.r=Fe[0].r);break;case 27:Fe[14e3]&&(He[Fe[14e3][0]]=Fe[14e3][1]);break;case 1537:He[Fe[0]]=Fe[1],Fe[0]==Ae&&(be=Fe[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+G[2]);if(ne["!ref"]=ea(tt),Oe[Y||be]=ne,$e.push(Y||be),!He.length)return{SheetNames:$e,Sheets:Oe};for(var Ft={},st=[],Be=0;Be<He.length;++Be)Oe[$e[Be]]?(st.push(He[Be]||$e[Be]),Ft[He[Be]]=Oe[He[Be]]||Oe[$e[Be]]):(st.push(He[Be]),Ft[He[Be]]={"!ref":"A1"});return{SheetNames:st,Sheets:Ft}}function r(G,te){var ee=te||{};if(+ee.codepage>=0&&Yi(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=ps();if(!G["!ref"])throw new Error("Cannot export empty sheet to WK1");var be=wa(G["!ref"]),Y=G["!data"]!=null,Ae=[];Xe(ne,0,i(1030)),Xe(ne,6,l(be));for(var Oe=Math.min(be.e.r,8191),$e=be.s.c;$e<=be.e.c;++$e)Ae[$e]=qt($e);for(var He=be.s.r;He<=Oe;++He){var Ve=fa(He);for($e=be.s.c;$e<=be.e.c;++$e){var tt=Y?(G["!data"][He]||[])[$e]:G[Ae[$e]+Ve];if(!(!tt||tt.t=="z"))switch(tt.t){case"n":(tt.v|0)==tt.v&&tt.v>=-32768&&tt.v<=32767?Xe(ne,13,v(He,$e,tt)):Xe(ne,14,b(He,$e,tt));break;case"d":var lt=In(tt.v);(lt|0)==lt&&lt>=-32768&&lt<=32767?Xe(ne,13,v(He,$e,{v:lt,z:tt.z||Ct[14]})):Xe(ne,14,b(He,$e,{v:lt,z:tt.z||Ct[14]}));break;default:var Mt=Sc(tt);Xe(ne,15,m(He,$e,Mt.slice(0,239)))}}}return Xe(ne,1),ne.end()}function s(G,te){var ee=te||{};if(+ee.codepage>=0&&Yi(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=ps();Xe(ne,0,o(G));for(var be=0,Y=0;be<G.SheetNames.length;++be)(G.Sheets[G.SheetNames[be]]||{})["!ref"]&&Xe(ne,27,ue(G.SheetNames[be],Y++));var Ae=0;for(be=0;be<G.SheetNames.length;++be){var Oe=G.Sheets[G.SheetNames[be]];if(!(!Oe||!Oe["!ref"])){for(var $e=wa(Oe["!ref"]),He=Oe["!data"]!=null,Ve=[],tt=Math.min($e.e.r,8191),lt=$e.s.r;lt<=tt;++lt)for(var Mt=fa(lt),Ft=$e.s.c;Ft<=$e.e.c;++Ft){lt===$e.s.r&&(Ve[Ft]=qt(Ft));var st=Ve[Ft]+Mt,Be=He?(Oe["!data"][lt]||[])[Ft]:Oe[st];if(!(!Be||Be.t=="z"))if(Be.t=="n")Xe(ne,23,U(lt,Ft,Ae,Be.v));else{var Fe=Sc(Be);Xe(ne,22,P(lt,Ft,Ae,Fe.slice(0,239)))}}++Ae}}return Xe(ne,1),ne.end()}function i(G){var te=Re(2);return te.write_shift(2,G),te}function o(G){var te=Re(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var ee=0,ne=0,be=0,Y=0;Y<G.SheetNames.length;++Y){var Ae=G.SheetNames[Y],Oe=G.Sheets[Ae];if(!(!Oe||!Oe["!ref"])){++be;var $e=or(Oe["!ref"]);ee<$e.e.r&&(ee=$e.e.r),ne<$e.e.c&&(ne=$e.e.c)}}return ee>8191&&(ee=8191),te.write_shift(2,ee),te.write_shift(1,be),te.write_shift(1,ne),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function c(G,te,ee){var ne={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&ee.qpro?(ne.s.c=G.read_shift(1),G.l++,ne.s.r=G.read_shift(2),ne.e.c=G.read_shift(1),G.l++,ne.e.r=G.read_shift(2),ne):(ne.s.c=G.read_shift(2),ne.s.r=G.read_shift(2),te==12&&ee.qpro&&(G.l+=2),ne.e.c=G.read_shift(2),ne.e.r=G.read_shift(2),te==12&&ee.qpro&&(G.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function l(G){var te=Re(8);return te.write_shift(2,G.s.c),te.write_shift(2,G.s.r),te.write_shift(2,G.e.c),te.write_shift(2,G.e.r),te}function u(G,te,ee){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(ne[0].c=G.read_shift(1),ne[3]=G.read_shift(1),ne[0].r=G.read_shift(2),G.l+=2):ee.works?(ne[0].c=G.read_shift(2),ne[0].r=G.read_shift(2),ne[2]=G.read_shift(2)):(ne[2]=G.read_shift(1),ne[0].c=G.read_shift(2),ne[0].r=G.read_shift(2)),ne}function d(G){return G.z&&vi(G.z)?240|(a.indexOf(G.z)+1||2):255}function p(G,te,ee){var ne=G.l+te,be=u(G,te,ee);if(be[1].t="s",(ee.vers&65534)==20768){G.l++;var Y=G.read_shift(1);return be[1].v=G.read_shift(Y,"utf8"),be}return ee.qpro&&G.l++,be[1].v=G.read_shift(ne-G.l,"cstr"),be}function m(G,te,ee){var ne=Re(7+ee.length);ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,G),ne.write_shift(1,39);for(var be=0;be<ne.length;++be){var Y=ee.charCodeAt(be);ne.write_shift(1,Y>=128?95:Y)}return ne.write_shift(1,0),ne}function g(G,te,ee){var ne=G.l+te,be=u(G,te,ee);if(be[1].t="s",ee.vers==20768){var Y=G.read_shift(1);return be[1].v=G.read_shift(Y,"utf8"),be}return be[1].v=G.read_shift(ne-G.l,"cstr"),be}function x(G,te,ee){var ne=u(G,te,ee);return ne[1].v=G.read_shift(2,"i"),ne}function v(G,te,ee){var ne=Re(7);return ne.write_shift(1,d(ee)),ne.write_shift(2,te),ne.write_shift(2,G),ne.write_shift(2,ee.v,"i"),ne}function k(G,te,ee){var ne=u(G,te,ee);return ne[1].v=G.read_shift(8,"f"),ne}function b(G,te,ee){var ne=Re(13);return ne.write_shift(1,d(ee)),ne.write_shift(2,te),ne.write_shift(2,G),ne.write_shift(8,ee.v,"f"),ne}function _(G,te,ee){var ne=G.l+te,be=u(G,te,ee);if(be[1].v=G.read_shift(8,"f"),ee.qpro)G.l=ne;else{var Y=G.read_shift(2);E(G.slice(G.l,G.l+Y),be),G.l+=Y}return be}function A(G,te,ee){var ne=te&32768;return te&=-32769,te=(ne?G:0)+(te>=8192?te-16384:te),(ne?"":"$")+(ee?qt(te):fa(te))}var S={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(G,te){hr(G,0);for(var ee=[],ne=0,be="",Y="",Ae="",Oe="";G.l<G.length;){var $e=G[G.l++];switch($e){case 0:ee.push(G.read_shift(8,"f"));break;case 1:Y=A(te[0].c,G.read_shift(2),!0),be=A(te[0].r,G.read_shift(2),!1),ee.push(Y+be);break;case 2:{var He=A(te[0].c,G.read_shift(2),!0),Ve=A(te[0].r,G.read_shift(2),!1);Y=A(te[0].c,G.read_shift(2),!0),be=A(te[0].r,G.read_shift(2),!1),ee.push(He+Ve+":"+Y+be)}break;case 3:if(G.l<G.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(G.read_shift(2));break;case 6:{for(var tt="";$e=G[G.l++];)tt+=String.fromCharCode($e);ee.push('"'+tt.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:Oe=ee.pop(),Ae=ee.pop(),ee.push(["AND","OR"][$e-20]+"("+Ae+","+Oe+")");break;default:if($e<32&&C[$e])Oe=ee.pop(),Ae=ee.pop(),ee.push(Ae+C[$e]+Oe);else if(S[$e]){if(ne=S[$e][1],ne==69&&(ne=G[G.l++]),ne>ee.length){console.error("WK1 bad formula parse 0x"+$e.toString(16)+":|"+ee.join("|")+"|");return}var lt=ee.slice(-ne);ee.length-=ne,ee.push(S[$e][0]+"("+lt.join(",")+")")}else return $e<=7?console.error("WK1 invalid opcode "+$e.toString(16)):$e<=24?console.error("WK1 unsupported op "+$e.toString(16)):$e<=30?console.error("WK1 invalid opcode "+$e.toString(16)):$e<=115?console.error("WK1 unsupported function opcode "+$e.toString(16)):console.error("WK1 unrecognized opcode "+$e.toString(16))}}ee.length==1?te[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function R(G){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=G.read_shift(2),te[3]=G[G.l++],te[0].c=G[G.l++],te}function I(G,te){var ee=R(G);return ee[1].t="s",ee[1].v=G.read_shift(te-4,"cstr"),ee}function P(G,te,ee,ne){var be=Re(6+ne.length);be.write_shift(2,G),be.write_shift(1,ee),be.write_shift(1,te),be.write_shift(1,39);for(var Y=0;Y<ne.length;++Y){var Ae=ne.charCodeAt(Y);be.write_shift(1,Ae>=128?95:Ae)}return be.write_shift(1,0),be}function D(G,te){var ee=R(G);ee[1].v=G.read_shift(2);var ne=ee[1].v>>1;if(ee[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return ee[1].v=ne,ee}function B(G,te){var ee=R(G),ne=G.read_shift(4),be=G.read_shift(4),Y=G.read_shift(2);if(Y==65535)return ne===0&&be===3221225472?(ee[1].t="e",ee[1].v=15):ne===0&&be===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var Ae=Y&32768;return Y=(Y&32767)-16446,ee[1].v=(1-Ae*2)*(be*Math.pow(2,Y+32)+ne*Math.pow(2,Y)),ee}function U(G,te,ee,ne){var be=Re(14);if(be.write_shift(2,G),be.write_shift(1,ee),be.write_shift(1,te),ne==0)return be.write_shift(4,0),be.write_shift(4,0),be.write_shift(2,65535),be;var Y=0,Ae=0,Oe=0,$e=0;return ne<0&&(Y=1,ne=-ne),Ae=Math.log2(ne)|0,ne/=Math.pow(2,Ae-31),$e=ne>>>0,($e&2147483648)==0&&(ne/=2,++Ae,$e=ne>>>0),ne-=$e,$e|=2147483648,$e>>>=0,ne*=Math.pow(2,32),Oe=ne>>>0,be.write_shift(4,Oe),be.write_shift(4,$e),Ae+=16383+(Y?32768:0),be.write_shift(2,Ae),be}function V(G,te){var ee=B(G);return G.l+=te-14,ee}function j(G,te){var ee=R(G),ne=G.read_shift(4);return ee[1].v=ne>>6,ee}function W(G,te){var ee=R(G),ne=G.read_shift(8,"f");return ee[1].v=ne,ee}function Q(G,te){var ee=W(G);return G.l+=te-12,ee}function q(G,te){return G[G.l+te-1]==0?G.read_shift(te,"cstr"):""}function Z(G,te){var ee=G[G.l++];ee>te-1&&(ee=te-1);for(var ne="";ne.length<ee;)ne+=String.fromCharCode(G[G.l++]);return ne}function M(G,te,ee){if(!(!ee.qpro||te<21)){var ne=G.read_shift(1);G.l+=17,G.l+=1,G.l+=2;var be=G.read_shift(te-21,"cstr");return[ne,be]}}function se(G,te){for(var ee={},ne=G.l+te;G.l<ne;){var be=G.read_shift(2);if(be==14e3){for(ee[be]=[0,""],ee[be][0]=G.read_shift(2);G[G.l];)ee[be][1]+=String.fromCharCode(G[G.l]),G.l++;G.l++}}return ee}function ue(G,te){var ee=Re(5+G.length);ee.write_shift(2,14e3),ee.write_shift(2,te);for(var ne=0;ne<G.length;++ne){var be=G.charCodeAt(ne);ee[ee.l++]=be>127?95:be}return ee[ee.l++]=0,ee}var le={0:{n:"BOF",f:On},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:k},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:q},222:{n:"SHEETNAMELP",f:Z},255:{n:"BOF",f:On},21506:{n:"WKSNF",f:On},65535:{n:""}},ie={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:V},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:Q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:M},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},ye={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function ke(G){var te=G.read_shift(2),ee=G.read_shift(1);if(ee!=0)throw"unsupported QPW string type "+ee.toString(16);return G.read_shift(te,"sbcs-cont")}function ge(G,te){hr(G,0);var ee=te||{},ne={};ee.dense&&(ne["!data"]=[]);var be=[],Y="",Ae={s:{r:-1,c:-1},e:{r:-1,c:-1}},Oe=0,$e=0,He=0,Ve=0,tt={SheetNames:[],Sheets:{}},lt=[];e:for(;G.l<G.length;){var Mt=G.read_shift(2),Ft=G.read_shift(2),st=G.slice(G.l,G.l+Ft);switch(hr(st,0),Mt){case 1:if(st.read_shift(4)!=962023505)throw"Bad QPW9 BOF!";break;case 2:break e;case 8:break;case 10:for(var Be=st.read_shift(4),Fe=(st.length-st.l)/Be|0,It=0;It<Be;++It){var Lt=st.l+Fe,Rt={};st.l+=2,Rt.numFmtId=st.read_shift(2),ye[Rt.numFmtId]&&(Rt.z=ye[Rt.numFmtId]),st.l=Lt,lt.push(Rt)}break;case 1025:break;case 1026:break;case 1031:for(st.l+=12;st.l<st.length;)Oe=st.read_shift(2),$e=st.read_shift(1),be.push(st.read_shift(Oe,"cstr"));break;case 1032:break;case 1537:{var $a=st.read_shift(2);ne={},ee.dense&&(ne["!data"]=[]),Ae.s.c=st.read_shift(2),Ae.e.c=st.read_shift(2),Ae.s.r=st.read_shift(4),Ae.e.r=st.read_shift(4),st.l+=4,st.l+2<st.length&&(Oe=st.read_shift(2),$e=st.read_shift(1),Y=Oe==0?"":st.read_shift(Oe,"cstr")),Y||(Y=qt($a))}break;case 1538:{if(Ae.s.c>255||Ae.s.r>999999)break;Ae.e.c<Ae.s.c&&(Ae.e.c=Ae.s.c),Ae.e.r<Ae.s.r&&(Ae.e.r=Ae.s.r),ne["!ref"]=ea(Ae),mv(tt,ne,Y)}break;case 2561:He=st.read_shift(2),Ae.e.c<He&&(Ae.e.c=He),Ae.s.c>He&&(Ae.s.c=He),Ve=st.read_shift(4),Ae.s.r>Ve&&(Ae.s.r=Ve),Ve=st.read_shift(4),Ae.e.r<Ve&&(Ae.e.r=Ve);break;case 3073:{Ve=st.read_shift(4),Oe=st.read_shift(4),Ae.s.r>Ve&&(Ae.s.r=Ve),Ae.e.r<Ve+Oe-1&&(Ae.e.r=Ve+Oe-1);for(var La=qt(He);st.l<st.length;){var it={t:"z"},jt=st.read_shift(1),Ht=-1;jt&128&&(Ht=st.read_shift(2));var Wt=jt&64?st.read_shift(2)-1:0;switch(jt&31){case 0:break;case 1:break;case 2:it={t:"n",v:st.read_shift(2)};break;case 3:it={t:"n",v:st.read_shift(2,"i")};break;case 4:it={t:"n",v:k2(st)};break;case 5:it={t:"n",v:st.read_shift(8,"f")};break;case 7:it={t:"s",v:be[$e=st.read_shift(4)-1]};break;case 8:it={t:"n",v:st.read_shift(8,"f")},st.l+=2,st.l+=4,isNaN(it.v)&&(it={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(jt&31)}Ht!=-1&&(lt[Ht-1]||{}).z&&(it.z=lt[Ht-1].z);var ur=0;if(jt&32)switch(jt&31){case 2:ur=st.read_shift(2);break;case 3:ur=st.read_shift(2,"i");break;case 7:ur=st.read_shift(2);break;default:throw"Unsupported delta for QPW cell type "+(jt&31)}if(!(!ee.sheetStubs&&it.t=="z")){var Kn=za(it);it.t=="n"&&it.z&&vi(it.z)&&ee.cellDates&&(Kn.v=fl(it.v),Kn.t=typeof Kn.v=="number"?"n":"d"),ne["!data"]!=null?(ne["!data"][Ve]||(ne["!data"][Ve]=[]),ne["!data"][Ve][He]=Kn):ne[La+fa(Ve)]=Kn}for(++Ve,--Oe;Wt-- >0&&Oe>=0;){if(jt&32)switch(jt&31){case 2:it={t:"n",v:it.v+ur&65535};break;case 3:it={t:"n",v:it.v+ur&65535},it.v>32767&&(it.v-=65536);break;case 7:it={t:"s",v:be[$e=$e+ur>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(jt&31)}else switch(jt&31){case 1:it={t:"z"};break;case 2:it={t:"n",v:st.read_shift(2)};break;case 7:it={t:"s",v:be[$e=st.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(jt&31)}!ee.sheetStubs&&it.t=="z"||(ne["!data"]!=null?(ne["!data"][Ve]||(ne["!data"][Ve]=[]),ne["!data"][Ve][He]=it):ne[La+fa(Ve)]=it),++Ve,--Oe}}}break;case 3074:{He=st.read_shift(2),Ve=st.read_shift(4);var Rn=ke(st);ne["!data"]!=null?(ne["!data"][Ve]||(ne["!data"][Ve]=[]),ne["!data"][Ve][He]={t:"s",v:Rn}):ne[qt(He)+fa(Ve)]={t:"s",v:Rn}}break}G.l+=Ft}return tt}return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}}();function u8e(t){var e={},a=t.match(Yr),n=0,r=!1;if(a)for(;n!=a.length;++n){var s=gt(a[n]);switch(s[0].replace(/<\w*:/g,"<")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=yD[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(s[0].charCodeAt(1)!==47&&!r)throw new Error("Unrecognized rich format "+s[0])}}return e}var f8e=function(){function t(n){var r=Fr(n,"t");if(!r)return{t:"s",v:""};var s={t:"s",v:Sa(r[1])},i=Fr(n,"rPr");return i&&(s.s=u8e(i[1])),s}var e=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(r){return r.replace(e,"").split(a).map(t).filter(function(s){return s.v})}}(),d8e=function(){var e=/(\r\n|\n)/g;function a(r,s,i){var o=[];r.u&&o.push("text-decoration: underline;"),r.uval&&o.push("text-underline-style:"+r.uval+";"),r.sz&&o.push("font-size:"+r.sz+"pt;"),r.outline&&o.push("text-effect: outline;"),r.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),r.b&&(s.push("<b>"),i.push("</b>")),r.i&&(s.push("<i>"),i.push("</i>")),r.strike&&(s.push("<s>"),i.push("</s>"));var c=r.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),r}function n(r){var s=[[],r.v,[]];return r.v?(r.s&&a(r.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),h8e=/<(?:\w+:)?t\b[^<>]*>([^<]*)<\/(?:\w+:)?t>/g,p8e=/<(?:\w+:)?r\b[^<>]*>/;function WD(t,e){var a=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Sa(Ha(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||""),!0),n.r=Ha(t),a&&(n.h=ug(n.t))):t.match(p8e)&&(n.r=Ha(t),n.t=Sa(Ha((YMe(t,"rPh").match(h8e)||[]).join("").replace(Yr,"")),!0),a&&(n.h=d8e(f8e(n.r)))),n):{t:""}}var m8e=/<(?:\w+:)?(?:si|sstItem)>/g,g8e=/<\/(?:\w+:)?(?:si|sstItem)>/;function y8e(t,e){var a=[],n="";if(!t)return a;var r=Fr(t,"sst");if(r){n=r[1].replace(m8e,"").split(g8e);for(var s=0;s!=n.length;++s){var i=WD(n[s].trim(),e);i!=null&&(a[a.length]=i)}r=gt(r[0].slice(0,r[0].indexOf(">"))),a.Count=r.count,a.Unique=r.uniqueCount}return a}var v8e=/^\s|\s$|[\t\n\r]/;function x8e(t,e){if(!e.bookSST)return"";var a=[Un];a[a.length]=nt("sst",null,{xmlns:th[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var r=t[n],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),typeof r.t!="string"&&(r.t=String(r.t)),r.t.match(v8e)&&(s+=' xml:space="preserve"'),s+=">"+Qt(r.t)+"</t>"),s+="</si>",a[a.length]=s}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}function k8e(t){return[t.read_shift(4),t.read_shift(4)]}function w8e(t,e){var a=[],n=!1;return Il(t,function(s,i,o){switch(o){case 159:a.Count=s[0],a.Unique=s[1];break;case 19:a.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function b8e(t,e){return e||(e=Re(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var _8e=T5e;function A8e(t){var e=ps();je(e,159,b8e(t));for(var a=0;a<t.length;++a)je(e,19,_8e(t[a]));return je(e,160),e.end()}function mq(t){if(typeof ta<"u")return ta.utils.encode(Sd,t);for(var e=[],a=t.split(""),n=0;n<a.length;++n)e[n]=a[n].charCodeAt(0);return e}function hl(t,e){var a={};return a.Major=t.read_shift(2),a.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),a}function N8e(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=hl(t,4),e.U=hl(t,4),e.W=hl(t,4),e}function S8e(t){for(var e=t.read_shift(4),a=t.l+e-4,n={},r=t.read_shift(4),s=[];r-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=a)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+a);return n}function T8e(t){var e=[];t.l+=4;for(var a=t.read_shift(4);a-- >0;)e.push(S8e(t));return e}function E8e(t){var e=[];t.l+=4;for(var a=t.read_shift(4);a-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function C8e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=hl(t,4),e.U=hl(t,4),e.W=hl(t,4),e}function I8e(t){var e=C8e(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function gq(t,e){var a=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var r=!1;switch(n.AlgID){case 26126:case 26127:case 26128:r=n.Flags==36;break;case 26625:r=n.Flags==4;break;case 0:r=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!r)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(a-t.l>>1,"utf16le"),t.l=a,n}function yq(t,e){var a={},n=t.l+e;return t.l+=4,a.Salt=t.slice(t.l,t.l+16),t.l+=16,a.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),a.VerifierHash=t.slice(t.l,n),t.l=n,a}function R8e(t){var e=hl(t);switch(e.Minor){case 2:return[e.Minor,D8e(t)];case 3:return[e.Minor,P8e()];case 4:return[e.Minor,F8e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function D8e(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var a=t.read_shift(4),n=gq(t,a),r=yq(t,t.length-t.l);return{t:"Std",h:n,v:r}}function P8e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function F8e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var a=t.read_shift(t.length-t.l,"utf8"),n={};return a.replace(Yr,function(s){var i=gt(s);switch(co(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function O8e(t,e){var a={},n=a.EncryptionVersionInfo=hl(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);a.Flags=t.read_shift(4),e-=4;var r=t.read_shift(4);return e-=4,a.EncryptionHeader=gq(t,r),e-=r,a.EncryptionVerifier=yq(t,e),a}function $8e(t){var e={},a=e.EncryptionVersionInfo=hl(t,4);if(a.Major!=1||a.Minor!=1)throw"unrecognized version code "+a.Major+" : "+a.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function VD(t){var e=0,a,n=mq(t),r=n.length+1,s,i,o,c,l;for(a=Ou(r),a[0]=n.length,s=1;s!=r;++s)a[s]=n[s-1];for(s=r-1;s>=0;--s)i=a[s],o=(e&16384)===0?0:1,c=e<<1&32767,l=o|c,e=l^i;return e^52811}var vq=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],a=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},r=function(i,o){return n(i^o)},s=function(i){for(var o=e[i.length-1],c=104,l=i.length-1;l>=0;--l)for(var u=i[l],d=0;d!=7;++d)u&64&&(o^=a[c]),u*=2,--c;return o};return function(i){for(var o=mq(i),c=s(o),l=o.length,u=Ou(16),d=0;d!=16;++d)u[d]=0;var p,m,g;for((l&1)===1&&(p=c>>8,u[l]=r(t[0],p),--l,p=c&255,m=o[o.length-1],u[l]=r(m,p));l>0;)--l,p=c>>8,u[l]=r(o[l],p),--l,p=c&255,u[l]=r(o[l],p);for(l=15,g=15-o.length;g>0;)p=c>>8,u[l]=r(t[g],p),--l,--g,p=c&255,u[l]=r(o[l],p),--l,--g;return u}}(),L8e=function(t,e,a,n,r){r||(r=e),n||(n=vq(t));var s,i;for(s=0;s!=e.length;++s)i=e[s],i^=n[a],i=(i>>5|i<<3)&255,r[s]=i,++a;return[r,a,n]},M8e=function(t){var e=0,a=vq(t);return function(n){var r=L8e("",n,e,a);return e=r[1],r[0]}};function B8e(t,e,a,n){var r={key:On(t),verificationBytes:On(t)};return a.password&&(r.verifier=VD(a.password)),n.valid=r.verificationBytes===r.verifier,n.valid&&(n.insitu=M8e(a.password)),r}function z8e(t,e,a){var n=a||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=$8e(t):n.Data=O8e(t,e),n}function G8e(t,e,a){var n={Type:a.biff>=8?t.read_shift(2):0};return n.Type?z8e(t,e-2,n):B8e(t,a.biff>=8?e:e-2,a,n),n}function U8e(t,e){switch(e.type){case"base64":return lk(yi(t),e);case"binary":return lk(t,e);case"buffer":return lk(oa&&Buffer.isBuffer(t)?t.toString("binary"):Nc(t),e);case"array":return lk(Ed(t),e)}throw new Error("Unrecognized type "+e.type)}function lk(t,e){var a=e||{},n={},r=a.dense;r&&(n["!data"]=[]);var s=_D(t,"\\trowd","\\row");if(!s)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:s.length-1}},o=[];return s.forEach(function(c,l){r&&(o=n["!data"][l]=[]);for(var u=/\\[\w\-]+\b/g,d=0,p,m=-1,g=[];(p=u.exec(c))!=null;){var x=c.slice(d,u.lastIndex-p[0].length);switch(x.charCodeAt(0)==32&&(x=x.slice(1)),x.length&&g.push(x),p[0]){case"\\cell":if(++m,g.length){var v={v:g.join(""),t:"s"};v.v=="TRUE"||v.v=="FALSE"?(v.v=v.v=="TRUE",v.t="b"):isNaN(pi(v.v))?Or[v.v]!=null&&(v.t="e",v.w=v.v,v.v=Or[v.v]):(v.t="n",a.cellText!==!1&&(v.w=v.v),v.v=pi(v.v)),r?o[m]=v:n[ua({r:l,c:m})]=v}g=[];break;case"\\par":g.push(`
`);break}d=u.lastIndex}m>i.e.c&&(i.e.c=m)}),n["!ref"]=ea(i),n}function W8e(t,e){var a=Qu(U8e(t,e),e);return a.bookType="rtf",a}function V8e(t,e){var a=["{\\rtf1\\ansi"];if(!t["!ref"])return a[0]+"}";for(var n=wa(t["!ref"]),r,s=t["!data"]!=null,i=[],o=n.s.r;o<=n.e.r;++o){a.push("\\trowd\\trautofit1");for(var c=n.s.c;c<=n.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),s&&(i=t["!data"][o]||[]),c=n.s.c;c<=n.e.c;++c){var l=ua({r:o,c});if(r=s?i[c]:t[l],!r||r.v==null&&(!r.f||r.F)){a.push(" \\cell");continue}a.push(" "+(r.w||(Sc(r),r.w)||"").replace(/[\r\n]/g,"\\par ")),a.push("\\cell")}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}function j8e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function uy(t){for(var e=0,a=1;e!=3;++e)a=a*256+(t[e]>255?255:t[e]<0?0:t[e]);return a.toString(16).toUpperCase().slice(1)}function H8e(t){var e=t[0]/255,a=t[1]/255,n=t[2]/255,r=Math.max(e,a,n),s=Math.min(e,a,n),i=r-s;if(i===0)return[0,0,e];var o=0,c=0,l=r+s;switch(c=i/(l>1?2-l:l),r){case e:o=((a-n)/i+6)%6;break;case a:o=(n-e)/i+2;break;case n:o=(e-a)/i+4;break}return[o/6,c,l/2]}function K8e(t){var e=t[0],a=t[1],n=t[2],r=a*2*(n<.5?n:1-n),s=n-r/2,i=[s,s,s],o=6*e,c;if(a!==0)switch(o|0){case 0:case 6:c=r*o,i[0]+=r,i[1]+=c;break;case 1:c=r*(2-o),i[0]+=c,i[1]+=r;break;case 2:c=r*(o-2),i[1]+=r,i[2]+=c;break;case 3:c=r*(4-o),i[1]+=c,i[2]+=r;break;case 4:c=r*(o-4),i[2]+=r,i[0]+=c;break;case 5:c=r*(6-o),i[2]+=c,i[0]+=r;break}for(var l=0;l!=3;++l)i[l]=Math.round(i[l]*255);return i}function Hw(t,e){if(e===0)return t;var a=H8e(j8e(t));return e<0?a[2]=a[2]*(1+e):a[2]=1-(1-a[2])*(1-e),uy(K8e(a))}var xq=6,q8e=15,X8e=1,ls=xq;function am(t){return Math.floor((t+Math.round(128/ls)/256)*ls)}function fy(t){return Math.floor((t-5)/ls*100+.5)/100}function Kw(t){return Math.round((t*ls+5)/ls*256)/256}function zS(t){return Kw(fy(am(t)))}function jD(t){var e=Math.abs(t-zS(t)),a=ls;if(e>.005)for(ls=X8e;ls<q8e;++ls)Math.abs(t-zS(t))<=e&&(e=Math.abs(t-zS(t)),a=ls);ls=a}function wl(t){t.width?(t.wpx=am(t.width),t.wch=fy(t.wpx),t.MDW=ls):t.wpx?(t.wch=fy(t.wpx),t.width=Kw(t.wch),t.MDW=ls):typeof t.wch=="number"&&(t.width=Kw(t.wch),t.wpx=am(t.width),t.MDW=ls),t.customWidth&&delete t.customWidth}var Y8e=96,kq=Y8e;function dy(t){return t*96/kq}function nm(t){return t*kq/96}var Z8e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function J8e(t,e,a,n){e.Borders=[];var r={},s=!1;(t.match(Yr)||[]).forEach(function(i){var o=gt(i);switch(co(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":r={},o.diagonalUp&&(r.diagonalUp=Wa(o.diagonalUp)),o.diagonalDown&&(r.diagonalDown=Wa(o.diagonalDown)),e.Borders.push(r);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function Q8e(t,e,a,n){e.Fills=[];var r={},s=!1;(t.match(Yr)||[]).forEach(function(i){var o=gt(i);switch(co(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":r={},e.Fills.push(r);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(r),r={};break;case"<patternFill":case"<patternFill>":o.patternType&&(r.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":r.bgColor||(r.bgColor={}),o.indexed&&(r.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(r.bgColor.theme=parseInt(o.theme,10)),o.tint&&(r.bgColor.tint=parseFloat(o.tint)),o.rgb&&(r.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":r.fgColor||(r.fgColor={}),o.theme&&(r.fgColor.theme=parseInt(o.theme,10)),o.tint&&(r.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(r.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function eze(t,e,a,n){e.Fonts=[];var r={},s=!1;(t.match(Yr)||[]).forEach(function(i){var o=gt(i);switch(co(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(r),r={};break;case"<name":o.val&&(r.name=Ha(o.val));break;case"<name/>":case"</name>":break;case"<b":r.bold=o.val?Wa(o.val):1;break;case"<b/>":r.bold=1;break;case"</b>":case"</b":break;case"<i":r.italic=o.val?Wa(o.val):1;break;case"<i/>":r.italic=1;break;case"</i>":case"</i":break;case"<u":switch(o.val){case"none":r.underline=0;break;case"single":r.underline=1;break;case"double":r.underline=2;break;case"singleAccounting":r.underline=33;break;case"doubleAccounting":r.underline=34;break}break;case"<u/>":r.underline=1;break;case"</u>":case"</u":break;case"<strike":r.strike=o.val?Wa(o.val):1;break;case"<strike/>":r.strike=1;break;case"</strike>":case"</strike":break;case"<outline":r.outline=o.val?Wa(o.val):1;break;case"<outline/>":r.outline=1;break;case"</outline>":case"</outline":break;case"<shadow":r.shadow=o.val?Wa(o.val):1;break;case"<shadow/>":r.shadow=1;break;case"</shadow>":case"</shadow":break;case"<condense":r.condense=o.val?Wa(o.val):1;break;case"<condense/>":r.condense=1;break;case"</condense>":case"</condense":break;case"<extend":r.extend=o.val?Wa(o.val):1;break;case"<extend/>":r.extend=1;break;case"</extend>":case"</extend":break;case"<sz":o.val&&(r.sz=+o.val);break;case"<sz/>":case"</sz>":case"</sz":break;case"<vertAlign":o.val&&(r.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":case"</vertAlign":break;case"<family":o.val&&(r.family=parseInt(o.val,10));break;case"<family/>":case"</family>":case"</family":break;case"<scheme":o.val&&(r.scheme=o.val);break;case"<scheme/>":case"</scheme>":case"</scheme":break;case"<charset":if(o.val=="1")break;o.codepage=yD[parseInt(o.val,10)];break;case"<charset/>":case"</charset>":case"</charset":break;case"<color":if(r.color||(r.color={}),o.auto&&(r.color.auto=Wa(o.auto)),o.rgb)r.color.rgb=o.rgb.slice(-6);else if(o.indexed){r.color.index=parseInt(o.indexed,10);var c=Jf[r.color.index];r.color.index==81&&(c=Jf[1]),c||(c=Jf[1]),r.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(r.color.theme=parseInt(o.theme,10),o.tint&&(r.color.tint=parseFloat(o.tint)),o.theme&&a.themeElements&&a.themeElements.clrScheme&&(r.color.rgb=Hw(a.themeElements.clrScheme[r.color.theme].rgb,r.color.tint||0)));break;case"<color/>":case"</color>":case"</color":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":case"</AlternateContent":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function tze(t,e,a){e.NumberFmt=[];for(var n=hn(Ct),r=0;r<n.length;++r)e.NumberFmt[n[r]]=Ct[n[r]];var s=t.match(Yr);if(s)for(r=0;r<s.length;++r){var i=gt(s[r]);switch(co(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Sa(Ha(i.formatCode)),c=parseInt(i.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}gu(o,c)}}break;case"</numFmt>":break;default:if(a.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function aze(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&(e[e.length]=nt("numFmt",null,{numFmtId:n,formatCode:Qt(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=nt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var uk=["numFmtId","fillId","fontId","borderId","xfId"],fk=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function nze(t,e,a){e.CellXf=[];var n,r=!1;(t.match(Yr)||[]).forEach(function(s){var i=gt(s),o=0;switch(co(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":case"<xf>":for(n=i,delete n[0],o=0;o<uk.length;++o)n[uk[o]]&&(n[uk[o]]=parseInt(n[uk[o]],10));for(o=0;o<fk.length;++o)n[fk[o]]&&(n[fk[o]]=Wa(n[fk[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":case"<alignment>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=Wa(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":case"<protection>":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(a&&a.WTF&&!r)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function rze(t){var e=[];return e[e.length]=nt("cellXfs",null),t.forEach(function(a){e[e.length]=nt("xf",null,a)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=nt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var sze=function(){return function(a,n,r){var s={};if(!a)return s;a=bD(ov(a,"<!--","-->"));var i;return(i=Fr(a,"numFmts"))&&tze(i[0],s,r),(i=Fr(a,"fonts"))&&eze(i[0],s,n,r),(i=Fr(a,"fills"))&&Q8e(i[0],s,n,r),(i=Fr(a,"borders"))&&J8e(i[0],s,n,r),(i=Fr(a,"cellXfs"))&&nze(i[0],s,r),s}}();function ize(t,e){var a=[Un,nt("styleSheet",null,{xmlns:th[0],"xmlns:vt":yr.vt})],n;return t.SSF&&(n=aze(t.SSF))!=null&&(a[a.length]=n),a[a.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',a[a.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',a[a.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',a[a.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=rze(e.cellXfs))&&(a[a.length]=n),a[a.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',a[a.length]='<dxfs count="0"/>',a[a.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',a.length>2&&(a[a.length]="</styleSheet>",a[1]=a[1].replace("/>",">")),a.join("")}function oze(t,e){var a=t.read_shift(2),n=ms(t);return[a,n]}function cze(t,e,a){a||(a=Re(6+4*e.length)),a.write_shift(2,t),kr(e,a);var n=a.length>a.l?a.slice(0,a.l):a;return a.l==null&&(a.l=a.length),n}function lze(t,e,a){var n={};n.sz=t.read_shift(2)/20;var r=F5e(t);r.fItalic&&(n.italic=1),r.fCondense&&(n.condense=1),r.fExtend&&(n.extend=1),r.fShadow&&(n.shadow=1),r.fOutline&&(n.outline=1),r.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=t.read_shift(1);i!=0&&(n.underline=i);var o=t.read_shift(1);o>0&&(n.family=o);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=P5e(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ms(t),n}function uze(t,e){e||(e=Re(25+4*32)),e.write_shift(2,t.sz*20),O5e(t,e),e.write_shift(2,t.bold?700:400);var a=0;t.vertAlign=="superscript"?a=1:t.vertAlign=="subscript"&&(a=2),e.write_shift(2,a),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Ww(t.color,e);var n=0;return n=2,e.write_shift(1,n),kr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var fze=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],GS,dze=vs;function z5(t,e){e||(e=Re(4*3+8*7+16*1)),GS||(GS=m2(fze));var a=GS[t.patternType];a==null&&(a=40),e.write_shift(4,a);var n=0;if(a!=40)for(Ww({auto:1},e),Ww({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function hze(t,e){var a=t.l+e,n=t.read_shift(2),r=t.read_shift(2);return t.l=a,{ixfe:n,numFmtId:r}}function wq(t,e,a){a||(a=Re(16)),a.write_shift(2,e||0),a.write_shift(2,t.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);var n=0;return a.write_shift(1,n),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function z0(t,e){return e||(e=Re(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var pze=vs;function mze(t,e){return e||(e=Re(51)),e.write_shift(1,0),z0(null,e),z0(null,e),z0(null,e),z0(null,e),z0(null,e),e.length>e.l?e.slice(0,e.l):e}function gze(t,e){return e||(e=Re(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),cy(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function yze(t,e,a){var n=Re(2052);return n.write_shift(4,t),cy(e,n),cy(a,n),n.length>n.l?n.slice(0,n.l):n}function vze(t,e,a){var n={};n.NumberFmt=[];for(var r in Ct)n.NumberFmt[r]=Ct[r];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Il(t,function(c,l,u){switch(u){case 44:n.NumberFmt[c[0]]=c[1],gu(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=Hw(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(u),i=!0;break;case 38:s.pop(),i=!1;break;default:if(l.T>0)s.push(u);else if(l.T<0)s.pop();else if(!i||a.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function xze(t,e){if(e){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&++a}),a!=0&&(je(t,615,Eo(a)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&je(t,44,cze(r,e[r]))}),je(t,616))}}function kze(t){var e=1;je(t,611,Eo(e)),je(t,43,uze({sz:12,color:{theme:1},name:"Calibri",family:2})),je(t,612)}function wze(t){var e=2;je(t,603,Eo(e)),je(t,45,z5({patternType:"none"})),je(t,45,z5({patternType:"gray125"})),je(t,604)}function bze(t){var e=1;je(t,613,Eo(e)),je(t,46,mze()),je(t,614)}function _ze(t){var e=1;je(t,626,Eo(e)),je(t,47,wq({numFmtId:0},65535)),je(t,627)}function Aze(t,e){je(t,617,Eo(e.length)),e.forEach(function(a){je(t,47,wq(a,0))}),je(t,618)}function Nze(t){var e=1;je(t,619,Eo(e)),je(t,48,gze({xfId:0,name:"Normal"})),je(t,620)}function Sze(t){var e=0;je(t,505,Eo(e)),je(t,506)}function Tze(t){var e=0;je(t,508,yze(e,"TableStyleMedium9","PivotStyleMedium4")),je(t,509)}function Eze(t,e){var a=ps();return je(a,278),xze(a,t.SSF),kze(a),wze(a),bze(a),_ze(a),Aze(a,e.cellXfs),Nze(a),Sze(a),Tze(a),je(a,279),a.end()}var Cze=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Ize(t,e,a){e.themeElements.clrScheme=[];var n={};(t[0].match(Yr)||[]).forEach(function(r){var s=gt(r);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"</a:srgbClr>":break;case"<a:sysClr":n.rgb=s.lastClr;break;case"</a:sysClr>":break;case"</a:dk1>":case"</a:lt1>":case"<a:dk1>":case"<a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[Cze.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(a&&a.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Rze(t,e,a){e.themeElements={};var n;if(!(n=Zf(t,"a:clrScheme")))throw new Error("clrScheme not found in themeElements");if(Ize(n,e,a),!(n=Zf(t,"a:fontScheme")))throw new Error("fontScheme not found in themeElements");if(!(n=Zf(t,"a:fmtScheme")))throw new Error("fmtScheme not found in themeElements")}function bq(t,e){(!t||t.length===0)&&(t=HD());var a,n={};if(!(a=Zf(t,"a:themeElements")))throw new Error("themeElements not found in theme");return Rze(a[0],n,e),n.raw=t,n}function HD(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var a=[Un];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function Dze(t,e,a){var n=t.l+e,r=t.read_shift(4);if(r!==124226){if(!a.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var i;try{i=wK(s,{type:"array"})}catch{return}var o=Is(i,"theme/theme/theme1.xml",!0);if(o)return bq(o,a)}}function Pze(t){return t.read_shift(4)}function Fze(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Oze(t,4);break;case 2:e.xclrValue=nq(t);break;case 3:e.xclrValue=Pze(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Oze(t,e){return vs(t,e)}function $ze(t,e){return vs(t,e)}function Lze(t){var e=t.read_shift(2),a=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Fze(t);break;case 6:n[1]=$ze(t,a);break;case 14:case 15:n[1]=t.read_shift(a===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+a)}return n}function Mze(t,e){var a=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var r=t.read_shift(2),s=[];r-- >0;)s.push(Lze(t,a-t.l));return{ixfe:n,ext:s}}function Bze(t,e){e.forEach(function(a){a[0]})}function zze(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ms(t)}}function Gze(t){var e=Re(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),kr(t.name,e),e.slice(0,e.l)}function Uze(t){for(var e=[],a=t.read_shift(4);a-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Wze(t){var e=Re(4+8*t.length);e.write_shift(4,t.length);for(var a=0;a<t.length;++a)e.write_shift(4,t[a][0]),e.write_shift(4,t[a][1]);return e}function Vze(t,e){var a=Re(8+2*e.length);return a.write_shift(4,t),kr(e,a),a.slice(0,a.l)}function jze(t){return t.l+=4,t.read_shift(4)!=0}function Hze(t,e){var a=Re(8);return a.write_shift(4,t),a.write_shift(4,1),a}function Kze(t,e,a){var n={Types:[],Cell:[],Value:[]},r=a||{},s=[],i=!1,o=2;return Il(t,function(c,l,u){switch(u){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(d){o==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):o==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(u),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!l.T){if(!i||r.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function qze(){var t=ps();return je(t,332),je(t,334,Eo(1)),je(t,335,Gze({name:"XLDAPR",version:12e4,flags:3496657072})),je(t,336),je(t,339,Vze(1,"XLDAPR")),je(t,52),je(t,35,Eo(514)),je(t,4096,Eo(0)),je(t,4097,Vi(1)),je(t,36),je(t,53),je(t,340),je(t,337,Hze(1)),je(t,51,Wze([[1,0]])),je(t,338),je(t,333),t.end()}function Xze(t,e,a){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var r=!1,s=2,i;return t.replace(Yr,function(o){var c=gt(o);switch(co(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var l=0;l<n.Types.length;++l)n.Types[l].name==c.name&&(i=n.Types[l]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!r&&(a!=null&&a.WTF))throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function Yze(){var t=[Un];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Zze(t){var e=[];if(!t)return e;var a=1;return(t.match(Yr)||[]).forEach(function(n){var r=gt(n);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?a=r.i:r.i=a,e.push(r);break}}),e}function Jze(t){var e={};e.i=t.read_shift(4);var a={};a.r=t.read_shift(4),a.c=t.read_shift(4),e.r=ua(a);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function Qze(t,e,a){var n=[];return Il(t,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function eGe(t,e,a,n){if(!t)return t;var r=n||{},s=!1;Il(t,function(o,c,l){switch(l){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||r.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}},r)}function tGe(t,e){if(!t)return"??";var a=(t.match(/<c:chart [^<>]*r:id="([^<>"]*)"/)||["",""])[1];return e["!id"][a].Target}function aGe(t,e,a){var n=0;(vK(t,"shape")||[]).forEach(function(r){var s="",i=!0,o=-1,c=-1,l=-1;switch(r.replace(Yr,function(d,p){var m=gt(d);switch(co(m[0])){case"<ClientData":m.ObjectType&&(s=m.ObjectType);break;case"<Visible":case"<Visible/>":i=!1;break;case"<Row":case"<Row>":o=p+d.length;break;case"</Row>":c=+r.slice(o,p).trim();break;case"<Column":case"<Column>":o=p+d.length;break;case"</Column>":l=+r.slice(o,p).trim();break}return""}),s){case"Note":var u=yy(e,c>=0&&l>=0?ua({r:c,c:l}):a[n].ref);u.c&&(u.c.hidden=i),++n;break}})}function _q(t,e,a){var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[nt("xml",null,{"xmlns:v":mr.v,"xmlns:o":mr.o,"xmlns:x":mr.x,"xmlns:mv":mr.mv}).replace(/\/>/,">"),nt("o:shapelayout",nt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"})],i=65536*t,o=e||[];return o.length>0&&s.push(nt("v:shapetype",[nt("v:stroke",null,{joinstyle:"miter"}),nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202",coordsize:n.join(","),"o:spt":202,path:r})),o.forEach(function(c){++i,s.push(nGe(c,i))}),s.push("</xml>"),s.join("")}function nGe(t,e,a){var n=Ka(t[0]),r={color2:"#BEFF82",type:"gradient"};r.type=="gradient"&&(r.angle="-180");var s=r.type=="gradient"?nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,i=nt("v:fill",s,r),o={on:"t",obscured:"t"};return["<v:shape"+Id({id:"_x0000_s"+e,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(t[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,nt("v:shadow",null,o),nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",jr("x:Anchor",[n.c+1,0,n.r+1,0,n.c+3,20,n.r+5,20].join(",")),jr("x:AutoFill","False"),jr("x:Row",String(n.r)),jr("x:Column",String(n.c)),t[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"].join("")}function G5(t,e,a,n){var r=t["!data"]!=null,s;e.forEach(function(i){var o=Ka(i.ref);if(!(o.r<0||o.c<0)){if(r?(t["!data"][o.r]||(t["!data"][o.r]=[]),s=t["!data"][o.r][o.c]):s=t[i.ref],!s){s={t:"z"},r?t["!data"][o.r][o.c]=s:t[i.ref]=s;var c=wa(t["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var l=ea(c);t["!ref"]=l}s.c||(s.c=[]);var u={a:i.author,t:i.t,r:i.r,T:a};i.h&&(u.h=i.h);for(var d=s.c.length-1;d>=0;--d){if(!a&&s.c[d].T)return;a&&!s.c[d].T&&s.c.splice(d,1)}if(a&&n){for(d=0;d<n.length;++d)if(u.a==n[d].id){u.a=n[d].name||u.a;break}}s.c.push(u)}})}function rGe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var a=[],n=[],r=Fr(t,"authors");r&&r[1]&&r[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^<>]*>(.*)/);o&&a.push(o[1])}});var s=Fr(t,"commentList");return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^<>]*>/);if(o){var c=gt(o[0]),l={author:c.authorId&&a[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Ka(c.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var d=Fr(i,"text"),p=!!d&&!!d[1]&&WD(d[1])||{r:"",t:"",h:""};l.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),l.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(l.h=p.h),n.push(l)}}}}),n}function sGe(t){var e=[Un,nt("comments",null,{xmlns:th[0]})],a=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(r){var s=Qt(r.a);a.indexOf(s)==-1&&(a.push(s),e.push("<author>"+s+"</author>")),r.T&&r.ID&&a.indexOf("tc="+r.ID)==-1&&(a.push("tc="+r.ID),e.push("<author>tc="+r.ID+"</author>"))})}),a.length==0&&(a.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var r=0,s=[],i=0;if(n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=a.indexOf("tc="+n[1][0].ID)),n[1].forEach(function(l){l.a&&(r=a.indexOf(Qt(l.a))),l.T&&++i,s.push(l.t==null?"":Qt(l.t))}),i===0)n[1].forEach(function(l){e.push('<comment ref="'+n[0]+'" authorId="'+a.indexOf(Qt(l.a))+'"><text>'),e.push(jr("t",l.t==null?"":Qt(l.t))),e.push("</text></comment>")});else{n[1][0]&&n[1][0].T&&n[1][0].ID&&(r=a.indexOf("tc="+n[1][0].ID)),e.push('<comment ref="'+n[0]+'" authorId="'+r+'"><text>');for(var o=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)o+=`Reply:
    `+s[c]+`
`;e.push(jr("t",Qt(o))),e.push("</text></comment>")}}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function iGe(t,e){var a=[],n=!1,r={},s=0;return t.replace(Yr,function(o,c){var l=gt(o);switch(co(l[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":r={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":r.t!=null&&a.push(r);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":r.t=t.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return o}),a}function Aq(t,e,a){var n=[Un,nt("ThreadedComments",null,{xmlns:yr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(r){var s="";(r[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&e.indexOf(i.a)==-1&&e.push(i.a);var c={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+a.tcid++).slice(-12)+"}"};o==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(i.a)).slice(-12)+"}"),n.push(nt("threadedComment",jr("text",i.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function oGe(t,e){var a=[],n=!1;return t.replace(Yr,function(s){var i=gt(s);switch(co(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":a.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),a}function Nq(t){var e=[Un,nt("personList",null,{xmlns:yr.TCMNT,"xmlns:x":th[0]}).replace(/[\/]>/,">")];return t.forEach(function(a,n){e.push(nt("person",null,{displayName:a,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:a,providerId:"None"}))}),e.push("</personList>"),e.join("")}function cGe(t){var e={};e.iauthor=t.read_shift(4);var a=sh(t);return e.rfx=a.s,e.ref=ua(a.s),t.l+=16,e}function lGe(t,e){return e==null&&(e=Re(36)),e.write_shift(4,t[1].iauthor),Om(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var uGe=ms;function U5(t){return kr(t.slice(0,54))}function fGe(t,e){var a=[],n=[],r={},s=!1;return Il(t,function(o,c,l){switch(l){case 632:n.push(o);break;case 635:r=o;break;case 637:r.t=o.t,r.h=o.h,r.r=o.r;break;case 636:if(r.author=n[r.iauthor],delete r.iauthor,e.sheetRows&&r.rfx&&e.sheetRows<=r.rfx.r)break;r.t||(r.t=""),delete r.rfx,a.push(r);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),a}function dGe(t){var e=ps(),a=[];return je(e,628),je(e,630),t.forEach(function(n){n[1].forEach(function(r){a.indexOf(r.a)>-1||(a.push(r.a.slice(0,54)),je(e,632,U5(r.a)),r.T&&r.ID&&a.indexOf("tc="+r.ID)==-1&&(a.push("tc="+r.ID),je(e,632,U5("tc="+r.ID))))})}),je(e,631),je(e,633),t.forEach(function(n){n[1].forEach(function(r){var s=-1;r.ID&&(s=a.indexOf("tc="+r.ID)),s==-1&&n[1][0].T&&n[1][0].ID&&(s=a.indexOf("tc="+n[1][0].ID)),s==-1&&(s=a.indexOf(r.a)),r.iauthor=s;var i={s:Ka(n[0]),e:Ka(n[0])};je(e,635,lGe([i,r])),r.t&&r.t.length>0&&je(e,637,C5e(r)),je(e,636),delete r.iauthor})}),je(e,634),je(e,629),e.end()}var hGe="application/vnd.ms-office.vbaProject";function pGe(t){var e=$t.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(a,n){if(!(a.slice(-1)==="/"||!a.match(/_VBA_PROJECT_CUR/))){var r=a.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");$t.utils.cfb_add(e,r,t.FileIndex[n].content)}}),$t.write(e)}function mGe(t,e){e.FullPaths.forEach(function(a,n){if(n!=0){var r=a.replace(/^[\/]*[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&$t.utils.cfb_add(t,r,e.FileIndex[n].content)}})}var gGe=["xlsb","xlsm","xlam","biff8","xla"];function yGe(){return{"!type":"dialog"}}function vGe(){return{"!type":"dialog"}}function xGe(){return{"!type":"macro"}}function kGe(){return{"!type":"macro"}}var td=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function a(n,r,s,i){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var l=s.length>0?parseInt(s,10)|0:0,u=i.length>0?parseInt(i,10)|0:0;return o?u+=e.c:--u,c?l+=e.r:--l,r+(o?"":"$")+qt(u)+(c?"":"$")+fa(l)}return function(r,s){return e=s,r.replace(t,a)}}(),b2=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{b2=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var uv=function(){return function(e,a){return e.replace(b2,function(n,r,s,i,o,c){var l=OD(i)-(s?0:a.c),u=FD(c)-(o?0:a.r),d=o=="$"?u+1:u==0?"":"["+u+"]",p=s=="$"?l+1:l==0?"":"["+l+"]";return r+"R"+d+"C"+p})}}();function Sq(t,e){return t.replace(b2,function(a,n,r,s,i,o){return n+(r=="$"?r+s:qt(OD(s)+e.c))+(i=="$"?i+o:fa(FD(o)+e.r))})}function W5(t,e,a){var n=or(e),r=n.s,s=Ka(a),i={r:s.r-r.r,c:s.c-r.c};return Sq(t,i)}function wGe(t){return t.length!=1}function V5(t){return t.replace(/_xlfn\./g,"")}function Zn(t){t.l+=1}function $u(t,e){var a=t.read_shift(2);return[a&16383,a>>14&1,a>>15&1]}function Tq(t,e,a){var n=2;if(a){if(a.biff>=2&&a.biff<=5)return Eq(t);a.biff==12&&(n=4)}var r=t.read_shift(n),s=t.read_shift(n),i=$u(t),o=$u(t);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function Eq(t){var e=$u(t),a=$u(t),n=t.read_shift(1),r=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:a[0],c:r,cRel:a[1],rRel:a[2]}}}function bGe(t,e,a){if(a.biff<8)return Eq(t);var n=t.read_shift(a.biff==12?4:2),r=t.read_shift(a.biff==12?4:2),s=$u(t),i=$u(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:i[0],cRel:i[1],rRel:i[2]}}}function Cq(t,e,a){if(a&&a.biff>=2&&a.biff<=5)return _Ge(t);var n=t.read_shift(a&&a.biff==12?4:2),r=$u(t);return{r:n,c:r[0],cRel:r[1],rRel:r[2]}}function _Ge(t){var e=$u(t),a=t.read_shift(1);return{r:e[0],c:a,cRel:e[1],rRel:e[2]}}function AGe(t){var e=t.read_shift(2),a=t.read_shift(2);return{r:e,c:a&255,fQuoted:!!(a&16384),cRel:a>>15,rRel:a>>15}}function NGe(t,e,a){var n=a&&a.biff?a.biff:8;if(n>=2&&n<=5)return SGe(t);var r=t.read_shift(n>=12?4:2),s=t.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;r>524287;)r-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r,c:s,cRel:i,rRel:o}}function SGe(t){var e=t.read_shift(2),a=t.read_shift(1),n=(e&32768)>>15,r=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),r==1&&a>=128&&(a=a-256),{r:e,c:a,cRel:r,rRel:n}}function TGe(t,e,a){var n=(t[t.l++]&96)>>5,r=Tq(t,a.biff>=2&&a.biff<=5?6:8,a);return[n,r]}function EGe(t,e,a){var n=(t[t.l++]&96)>>5,r=t.read_shift(2,"i"),s=8;if(a)switch(a.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var i=Tq(t,s,a);return[n,r,i]}function CGe(t,e,a){var n=(t[t.l++]&96)>>5;return t.l+=a&&a.biff>8?12:a.biff<8?6:8,[n]}function IGe(t,e,a){var n=(t[t.l++]&96)>>5,r=t.read_shift(2),s=8;if(a)switch(a.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,r]}function RGe(t,e,a){var n=(t[t.l++]&96)>>5,r=bGe(t,e-1,a);return[n,r]}function DGe(t,e,a){var n=(t[t.l++]&96)>>5;return t.l+=a.biff==2?6:a.biff==12?14:7,[n]}function j5(t){var e=t[t.l+1]&1,a=1;return t.l+=4,[e,a]}function PGe(t,e,a){t.l+=2;for(var n=t.read_shift(a&&a.biff==2?1:2),r=[],s=0;s<=n;++s)r.push(t.read_shift(a&&a.biff==2?1:2));return r}function FGe(t,e,a){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(a&&a.biff==2?1:2)]}function OGe(t,e,a){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(a&&a.biff==2?1:2)]}function $Ge(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function LGe(t,e,a){var n=t[t.l+1]&255?1:0;return t.l+=a&&a.biff==2?3:4,[n]}function Iq(t){var e=t.read_shift(1),a=t.read_shift(1);return[e,a]}function MGe(t){return t.read_shift(2),Iq(t)}function BGe(t){return t.read_shift(2),Iq(t)}function zGe(t,e,a){var n=(t[t.l]&96)>>5;t.l+=1;var r=Cq(t,0,a);return[n,r]}function GGe(t,e,a){var n=(t[t.l]&96)>>5;t.l+=1;var r=NGe(t,0,a);return[n,r]}function UGe(t,e,a){var n=(t[t.l]&96)>>5;t.l+=1;var r=t.read_shift(2);a&&a.biff==5&&(t.l+=12);var s=Cq(t,0,a);return[n,r,s]}function WGe(t,e,a){var n=(t[t.l]&96)>>5;t.l+=1;var r=t.read_shift(a&&a.biff<=3?1:2);return[n7e[r],Pq[r],n]}function VGe(t,e,a){var n=t[t.l++],r=t.read_shift(1),s=a&&a.biff<=3?[n==88?-1:0,t.read_shift(1)]:jGe(t);return[r,(s[0]===0?Pq:a7e)[s[1]]]}function jGe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function HGe(t,e,a){t.l+=a&&a.biff==2?3:4}function KGe(t,e,a){if(t.l++,a&&a.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),r=t.read_shift(a&&a.biff==2?1:2);return[n,r]}function qGe(t){return t.l++,wr[t.read_shift(1)]}function XGe(t){return t.l++,t.read_shift(2)}function YGe(t){return t.l++,t.read_shift(1)!==0}function ZGe(t){return t.l++,fs(t)}function JGe(t,e,a){return t.l++,em(t,e-1,a)}function QGe(t,e){var a=[t.read_shift(1)];if(e==12)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=Vn(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:a[1]=wr[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:a[1]=fs(t);break;case 2:a[1]=ih(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function eUe(t,e,a){for(var n=t.read_shift(a.biff==12?4:2),r=[],s=0;s!=n;++s)r.push((a.biff==12?sh:w2)(t));return r}function tUe(t,e,a){var n=0,r=0;a.biff==12?(n=t.read_shift(4),r=t.read_shift(4)):(r=1+t.read_shift(1),n=1+t.read_shift(2)),a.biff>=2&&a.biff<8&&(--n,--r==0&&(r=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=r;++o)i[s][o]=QGe(t,a.biff);return i}function aUe(t,e,a){var n=t.read_shift(1)>>>5&3,r=!a||a.biff>=8?4:2,s=t.read_shift(r);switch(a.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function nUe(t,e,a){if(a.biff==5)return rUe(t);var n=t.read_shift(1)>>>5&3,r=t.read_shift(2),s=t.read_shift(4);return[n,r,s]}function rUe(t){var e=t.read_shift(1)>>>5&3,a=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,a,n]}function sUe(t,e,a){var n=t.read_shift(1)>>>5&3;t.l+=a&&a.biff==2?3:4;var r=t.read_shift(a&&a.biff==2?1:2);return[n,r]}function iUe(t,e,a){var n=t.read_shift(1)>>>5&3,r=t.read_shift(a&&a.biff==2?1:2);return[n,r]}function oUe(t,e,a){var n=t.read_shift(1)>>>5&3;return t.l+=4,a.biff<8&&t.l--,a.biff==12&&(t.l+=2),[n]}function cUe(t,e,a){var n=(t[t.l++]&96)>>5,r=t.read_shift(2),s=4;if(a)switch(a.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,r]}var lUe=vs,uUe=vs,fUe=vs;function fv(t,e,a){return t.l+=2,[AGe(t)]}function KD(t){return t.l+=6,[]}var dUe=fv,hUe=KD,pUe=KD,mUe=fv;function Rq(t){return t.l+=2,[On(t),t.read_shift(2)&1]}var gUe=fv,yUe=Rq,vUe=KD,xUe=fv,kUe=fv,wUe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function bUe(t){t.l+=2;var e=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(4),r=t.read_shift(2),s=t.read_shift(2),i=wUe[a>>2&31];return{ixti:e,coltype:a&3,rt:i,idx:n,c:r,C:s}}function _Ue(t){return t.l+=2,[t.read_shift(4)]}function AUe(t,e,a){return t.l+=5,t.l+=2,t.l+=a.biff==2?1:4,["PTGSHEET"]}function NUe(t,e,a){return t.l+=a.biff==2?4:5,["PTGENDSHEET"]}function SUe(t){var e=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[e,a]}function TUe(t){var e=t.read_shift(1)>>>5&3,a=t.read_shift(2);return[e,a]}function EUe(t){return t.l+=4,[0,0]}var H5={1:{n:"PtgExp",f:KGe},2:{n:"PtgTbl",f:fUe},3:{n:"PtgAdd",f:Zn},4:{n:"PtgSub",f:Zn},5:{n:"PtgMul",f:Zn},6:{n:"PtgDiv",f:Zn},7:{n:"PtgPower",f:Zn},8:{n:"PtgConcat",f:Zn},9:{n:"PtgLt",f:Zn},10:{n:"PtgLe",f:Zn},11:{n:"PtgEq",f:Zn},12:{n:"PtgGe",f:Zn},13:{n:"PtgGt",f:Zn},14:{n:"PtgNe",f:Zn},15:{n:"PtgIsect",f:Zn},16:{n:"PtgUnion",f:Zn},17:{n:"PtgRange",f:Zn},18:{n:"PtgUplus",f:Zn},19:{n:"PtgUminus",f:Zn},20:{n:"PtgPercent",f:Zn},21:{n:"PtgParen",f:Zn},22:{n:"PtgMissArg",f:Zn},23:{n:"PtgStr",f:JGe},26:{n:"PtgSheet",f:AUe},27:{n:"PtgEndSheet",f:NUe},28:{n:"PtgErr",f:qGe},29:{n:"PtgBool",f:YGe},30:{n:"PtgInt",f:XGe},31:{n:"PtgNum",f:ZGe},32:{n:"PtgArray",f:DGe},33:{n:"PtgFunc",f:WGe},34:{n:"PtgFuncVar",f:VGe},35:{n:"PtgName",f:aUe},36:{n:"PtgRef",f:zGe},37:{n:"PtgArea",f:TGe},38:{n:"PtgMemArea",f:sUe},39:{n:"PtgMemErr",f:lUe},40:{n:"PtgMemNoMem",f:uUe},41:{n:"PtgMemFunc",f:iUe},42:{n:"PtgRefErr",f:oUe},43:{n:"PtgAreaErr",f:CGe},44:{n:"PtgRefN",f:GGe},45:{n:"PtgAreaN",f:RGe},46:{n:"PtgMemAreaN",f:SUe},47:{n:"PtgMemNoMemN",f:TUe},57:{n:"PtgNameX",f:nUe},58:{n:"PtgRef3d",f:UGe},59:{n:"PtgArea3d",f:EGe},60:{n:"PtgRefErr3d",f:cUe},61:{n:"PtgAreaErr3d",f:IGe},255:{}},CUe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},IUe={1:{n:"PtgElfLel",f:Rq},2:{n:"PtgElfRw",f:xUe},3:{n:"PtgElfCol",f:dUe},6:{n:"PtgElfRwV",f:kUe},7:{n:"PtgElfColV",f:mUe},10:{n:"PtgElfRadical",f:gUe},11:{n:"PtgElfRadicalS",f:vUe},13:{n:"PtgElfColS",f:hUe},15:{n:"PtgElfColSV",f:pUe},16:{n:"PtgElfRadicalLel",f:yUe},25:{n:"PtgList",f:bUe},29:{n:"PtgSxName",f:_Ue},255:{}},RUe={0:{n:"PtgAttrNoop",f:EUe},1:{n:"PtgAttrSemi",f:LGe},2:{n:"PtgAttrIf",f:OGe},4:{n:"PtgAttrChoose",f:PGe},8:{n:"PtgAttrGoto",f:FGe},16:{n:"PtgAttrSum",f:HGe},32:{n:"PtgAttrBaxcel",f:j5},33:{n:"PtgAttrBaxcel",f:j5},64:{n:"PtgAttrSpace",f:MGe},65:{n:"PtgAttrSpaceSemi",f:BGe},128:{n:"PtgAttrIfError",f:$Ge},255:{}};function dv(t,e,a,n){if(n.biff<8)return vs(t,e);for(var r=t.l+e,s=[],i=0;i!==a.length;++i)switch(a[i][0]){case"PtgArray":a[i][1]=tUe(t,0,n),s.push(a[i][1]);break;case"PtgMemArea":a[i][2]=eUe(t,a[i][1],n),s.push(a[i][2]);break;case"PtgExp":n&&n.biff==12&&(a[i][1][1]=t.read_shift(4),s.push(a[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[i][0]}return e=r-t.l,e!==0&&s.push(vs(t,e)),s}function hv(t,e,a){for(var n=t.l+e,r,s,i=[];n!=t.l;)e=n-t.l,s=t[t.l],r=H5[s]||H5[CUe[s]],(s===24||s===25)&&(r=(s===24?IUe:RUe)[t[t.l+1]]),!r||!r.f?vs(t,e):i.push([r.n,r.f(t,e,a)]);return i}function DUe(t){for(var e=[],a=0;a<t.length;++a){for(var n=t[a],r=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:r.push('"'+i[1].replace(/"/g,'""')+'"');break;default:r.push(i[1])}else r.push("")}e.push(r.join(","))}return e.join(";")}var PUe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function FUe(t,e){var a=t.lastIndexOf("!"),n=e.lastIndexOf("!");return a==-1&&n==-1?t+":"+e:a>0&&n>0&&t.slice(0,a).toLowerCase()==e.slice(0,n).toLowerCase()?t+":"+e.slice(n+1):(console.error("Cannot hydrate range",t,e),t+":"+e)}function Dq(t,e,a){if(!t)return"SH33TJSERR0";if(a.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(a.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var r="";if(a.biff>8)switch(t[n[0]][0]){case 357:return r=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?r:r+":"+t.SheetNames[n[2]];case 358:return a.SID!=null?t.SheetNames[a.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return r=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?r:r+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(r=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?r:r+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function K5(t,e,a){var n=Dq(t,e,a);return n=="#REF"?n:oy(n,a)}function is(t,e,a,n,r){var s=r&&r.biff||8,i={s:{c:0,r:0}},o=[],c,l,u,d=0,p=0,m,g="";if(!t[0]||!t[0][0])return"";for(var x=-1,v="",k=0,b=t[0].length;k<b;++k){var _=t[0][k];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),l=o.pop(),x>=0){switch(t[0][x][1][0]){case 0:v=Ra(" ",t[0][x][1][1]);break;case 1:v=Ra("\r",t[0][x][1][1]);break;default:if(v="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}l=l+v,x=-1}o.push(l+PUe[_[0]]+c);break;case"PtgIsect":c=o.pop(),l=o.pop(),o.push(l+" "+c);break;case"PtgUnion":c=o.pop(),l=o.pop(),o.push(l+","+c);break;case"PtgRange":c=o.pop(),l=o.pop(),o.push(FUe(l,c));break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=dg(_[1][1],i,r),o.push(hg(u,s));break;case"PtgRefN":u=a?dg(_[1][1],a,r):_[1][1],o.push(hg(u,s));break;case"PtgRef3d":d=_[1][1],u=dg(_[1][2],i,r),g=K5(n,d,r),o.push(g+"!"+hg(u,s));break;case"PtgFunc":case"PtgFuncVar":var A=_[1][0],S=_[1][1];A||(A=0),A&=127;var C=A==0?[]:o.slice(-A);o.length-=A,S==="User"&&(S=C.shift()),o.push(S+"("+C.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":m=k5(_[1][1],a?{s:a}:i,r),o.push(OS(m,r));break;case"PtgArea":m=k5(_[1][1],i,r),o.push(OS(m,r));break;case"PtgArea3d":d=_[1][1],m=_[1][2],g=K5(n,d,r),o.push(g+"!"+OS(m,r));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=_[1][2];var E=(n.names||[])[p-1]||(n[0]||[])[p],R=E?E.Name:"SH33TJSNAME"+String(p);R&&R.slice(0,6)=="_xlfn."&&!r.xlfn&&(R=R.slice(6)),o.push(R);break;case"PtgNameX":var I=_[1][1];p=_[1][2];var P;if(r.biff<=5)I<0&&(I=-I),n[I]&&(P=n[I][p]);else{var D="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][p]&&n[I][p].itab>0&&(D=n.SheetNames[n[I][p].itab-1]+"!"):D=n.SheetNames[p-1]+"!"),n[I]&&n[I][p])D+=n[I][p].Name;else if(n[0]&&n[0][p])D+=n[0][p].Name;else{var B=(Dq(n,I,r)||"").split(";;");B[p-1]?D=B[p-1]:D+="SH33TJSERRX"}o.push(D);break}P||(P={Name:"SH33TJSERRY"}),o.push(P.Name);break;case"PtgParen":var U="(",V=")";if(x>=0){switch(v="",t[0][x][1][0]){case 2:U=Ra(" ",t[0][x][1][1])+U;break;case 3:U=Ra("\r",t[0][x][1][1])+U;break;case 4:V=Ra(" ",t[0][x][1][1])+V;break;case 5:V=Ra("\r",t[0][x][1][1])+V;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][x][1][0])}x=-1}o.push(U+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var j={c:a.c,r:a.r};if(n.sharedf[ua(u)]){var W=n.sharedf[ua(u)];o.push(is(W,i,j,n,r))}else{var Q=!1;for(c=0;c!=n.arrayf.length;++c)if(l=n.arrayf[c],!(u.c<l[0].s.c||u.c>l[0].e.c)&&!(u.r<l[0].s.r||u.r>l[0].e.r)){o.push(is(l[1],i,j,n,r)),Q=!0;break}Q||o.push(_[1])}break;case"PtgArray":o.push("{"+DUe(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&x>=0&&q.indexOf(t[0][k][0])==-1){_=t[0][x];var Z=!0;switch(_[1][0]){case 4:Z=!1;case 0:v=Ra(" ",_[1][1]);break;case 5:Z=!1;case 1:v=Ra("\r",_[1][1]);break;default:if(v="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((Z?v:"")+o.pop()+(Z?"":v)),x=-1}}if(o.length>1&&r.WTF)throw new Error("bad formula stack");return o[0]=="TRUE"?!0:o[0]=="FALSE"?!1:o[0]}function OUe(t,e,a){var n=t.l+e,r=a.biff==2?1:2,s,i=t.read_shift(r);if(i==65535)return[[],vs(t,e-2)];var o=hv(t,i,a);return e!==i+r&&(s=dv(t,e-i-r,o,a)),t.l=n,[o,s]}function $Ue(t,e,a){var n=t.l+e,r=a.biff==2?1:2,s,i=t.read_shift(r);if(i==65535)return[[],vs(t,e-2)];var o=hv(t,i,a);return e!==i+r&&(s=dv(t,e-i-r,o,a)),t.l=n,[o,s]}function LUe(t,e,a,n){var r=t.l+e,s=hv(t,n,a),i;return r!==t.l&&(i=dv(t,r-t.l,s,a)),[s,i]}function MUe(t,e,a){var n=t.l+e,r,s=t.read_shift(2),i=hv(t,s,a);return s==65535?[[],vs(t,e-2)]:(e!==s+2&&(r=dv(t,n-s-2,i,a)),[i,r])}function BUe(t){var e;if(il(t,t.l+6)!==65535)return[fs(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function zUe(t){if(t==null){var e=Re(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Rd(t);return Rd(0)}function US(t,e,a){var n=t.l+e,r=Vo(t,6,a),s=BUe(t),i=t.read_shift(1);a.biff!=2&&(t.read_shift(1),a.biff>=5&&t.read_shift(4));var o=$Ue(t,n-t.l,a);return{cell:r,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function GUe(t,e,a,n,r){var s=Pd(e,a,r),i=zUe(t.v),o=Re(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var l=Re(t.bf.length),u=0;u<t.bf.length;++u)l[u]=t.bf[u];var d=jn([s,i,o,l]);return d}function _2(t,e,a){var n=t.read_shift(4),r=hv(t,n,a),s=t.read_shift(4),i=s>0?dv(t,s,r,a):null;return[r,i]}var UUe=_2,A2=_2,WUe=_2,VUe=_2;function q5(t){if((t|0)==t&&t<Math.pow(2,16)&&t>=0){var e=Re(11);return e.write_shift(4,3),e.write_shift(1,30),e.write_shift(2,t),e.write_shift(4,0),e}var a=Re(17);return a.write_shift(4,11),a.write_shift(1,31),a.write_shift(8,t),a.write_shift(4,0),a}function jUe(t){var e=Re(10);return e.write_shift(4,2),e.write_shift(1,28),e.write_shift(1,t),e.write_shift(4,0),e}function HUe(t){var e=Re(10);return e.write_shift(4,2),e.write_shift(1,29),e.write_shift(1,t?1:0),e.write_shift(4,0),e}function KUe(t){var e=Re(7);e.write_shift(4,3+2*t.length),e.write_shift(1,23),e.write_shift(2,t.length);var a=Re(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=Re(4);return n.write_shift(4,0),jn([e,a,n])}function qUe(t){var e=Ka(t),a=Re(15);return a.write_shift(4,7),a.write_shift(1,36),a.write_shift(4,e.r),a.write_shift(2,e.c|(t.charAt(0)=="$"?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),a.write_shift(4,0),a}function XUe(t,e){var a=t.lastIndexOf("!"),n=t.slice(0,a);t=t.slice(a+1);var r=Ka(t);n.charAt(0)=="'"&&(n=n.slice(1,-1).replace(/''/g,"'"));var s=Re(17);return s.write_shift(4,9),s.write_shift(1,58),s.write_shift(2,2+e.SheetNames.map(function(i){return i.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.r),s.write_shift(2,r.c|(t.charAt(0)=="$"?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),s.write_shift(4,0),s}function YUe(t,e){var a=t.lastIndexOf("!"),n=t.slice(0,a);t=t.slice(a+1),n.charAt(0)=="'"&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=Re(17);return r.write_shift(4,9),r.write_shift(1,60),r.write_shift(2,2+e.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(n.toLowerCase())),r.write_shift(4,0),r.write_shift(2,0),r.write_shift(4,0),r}function ZUe(t){var e=t.split(":"),a=e[0],n=Re(23);n.write_shift(4,15),a=e[0];var r=Ka(a);return n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|(a.charAt(0)=="$"?0:1)<<14|(a.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),a=e[1],r=Ka(a),n.write_shift(1,36),n.write_shift(4,r.r),n.write_shift(2,r.c|(a.charAt(0)=="$"?0:1)<<14|(a.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),n.write_shift(1,17),n.write_shift(4,0),n}function JUe(t,e){var a=t.lastIndexOf("!"),n=t.slice(0,a);t=t.slice(a+1),n.charAt(0)=="'"&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=t.split(":"),s=Re(27);s.write_shift(4,19);var i=r[0],o=Ka(i);return s.write_shift(1,58),s.write_shift(2,2+e.SheetNames.map(function(c){return c.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,o.r),s.write_shift(2,o.c|(i.charAt(0)=="$"?0:1)<<14|(i.match(/\$\d/)?0:1)<<15),i=r[1],o=Ka(i),s.write_shift(1,58),s.write_shift(2,2+e.SheetNames.map(function(c){return c.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,o.r),s.write_shift(2,o.c|(i.charAt(0)=="$"?0:1)<<14|(i.match(/\$\d/)?0:1)<<15),s.write_shift(1,17),s.write_shift(4,0),s}function QUe(t,e){var a=t.lastIndexOf("!"),n=t.slice(0,a);t=t.slice(a+1),n.charAt(0)=="'"&&(n=n.slice(1,-1).replace(/''/g,"'"));var r=or(t),s=Re(23);return s.write_shift(4,15),s.write_shift(1,59),s.write_shift(2,2+e.SheetNames.map(function(i){return i.toLowerCase()}).indexOf(n.toLowerCase())),s.write_shift(4,r.s.r),s.write_shift(4,r.e.r),s.write_shift(2,r.s.c),s.write_shift(2,r.e.c),s.write_shift(4,0),s}function e7e(t,e){if(typeof t=="number")return q5(t);if(typeof t=="boolean")return HUe(t);if(/^#(DIV\/0!|GETTING_DATA|N\/A|NAME\?|NULL!|NUM!|REF!|VALUE!)$/.test(t))return jUe(+Or[t]);if(t.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return qUe(t);if(t.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return ZUe(t);if(t.match(/^#REF!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return QUe(t,e);if(t.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return XUe(t,e);if(t.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return JUe(t,e);if(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!#REF!$/.test(t))return YUe(t,e);if(/^".*"$/.test(t))return KUe(t);if(/^[+-]\d+$/.test(t))return q5(parseInt(t,10));throw"Formula |"+t+"| not supported for XLSB"}var t7e=e7e,a7e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Pq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},n7e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function X5(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,a){return a.replace(/\./g,"")}),t=t.replace(/\$'([^']|'')+'/g,function(e){return e.slice(1)}),t=t.replace(/\$([^\]\. #$]+)/g,function(e,a){return a.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?e:a}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function r7e(t){var e="of:="+t.replace(b2,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function WS(t){t=t.replace(/\$'([^']|'')+'/g,function(n){return n.slice(1)}),t=t.replace(/\$([^\]\. #$]+)/g,function(n,r){return r.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?n:r});var e=t.split(":"),a=e[0].split(".")[0];return[a,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function Fq(t){return t.replace(/!/,".").replace(/:/,":.")}var gg={},Dp={},yg=typeof Map<"u";function qD(t,e,a){var n=0,r=t.length;if(a){if(yg?a.has(e):Object.prototype.hasOwnProperty.call(a,e)){for(var s=yg?a.get(e):a[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<r;++n)if(t[n].t===e)return t.Count++,n;return t[r]={t:e},t.Count++,t.Unique++,a&&(yg?(a.has(e)||a.set(e,[]),a.get(e).push(r)):(Object.prototype.hasOwnProperty.call(a,e)||(a[e]=[]),a[e].push(r))),r}function pv(t,e){var a={min:t+1,max:t+1},n=-1;return e.MDW&&(ls=e.MDW),e.width!=null?a.customWidth=1:e.wpx!=null?n=fy(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(a.width=Kw(n),a.customWidth=1):e.width!=null&&(a.width=e.width),e.hidden&&(a.hidden=!0),e.level!=null&&(a.outlineLevel=a.level=e.level),a}function ad(t,e){if(t){var a=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(a=[1,1,1,1,.5,.5]),t.left==null&&(t.left=a[0]),t.right==null&&(t.right=a[1]),t.top==null&&(t.top=a[2]),t.bottom==null&&(t.bottom=a[3]),t.header==null&&(t.header=a[4]),t.footer==null&&(t.footer=a[5])}}function Tc(t,e,a){var n=a.revssf[e.z!=null?e.z:"General"],r=60,s=t.length;if(n==null&&a.ssf){for(;r<392;++r)if(a.ssf[r]==null){gu(e.z,r),a.ssf[r]=e.z,a.revssf[e.z]=n=r;break}}for(r=0;r!=s;++r)if(t[r].numFmtId===n)return r;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Oq(t,e,a,n,r,s,i){try{n.cellNF&&(t.z=Ct[e])}catch(c){if(n.WTF)throw c}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=xn(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Ct[e]==null&&gu(CMe[e]||"General",e),t.t==="e")t.w=t.w||wr[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=sy(t.v);else if(t.t==="d"){var o=In(t.v,!!i);(o|0)===o?t.w=o.toString(10):t.w=sy(o)}else{if(t.v===void 0)return"";t.w=Td(t.v,Dp)}else t.t==="d"?t.w=ei(e,In(t.v,!!i),Dp):t.w=ei(e,t.v,Dp)}catch(c){if(n.WTF)throw c}if(n.cellStyles&&a!=null)try{t.s=s.Fills[a],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Hw(r.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=r.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Hw(r.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=r.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(n.WTF&&s.Fills)throw c}}}function s7e(t,e,a){if(t&&t["!ref"]){var n=wa(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+a+"): "+t["!ref"])}}function i7e(t,e){var a=wa(e);a.s.r<=a.e.r&&a.s.c<=a.e.c&&a.s.r>=0&&a.s.c>=0&&(t["!ref"]=ea(a))}var o7e=/<(?:\w+:)?mergeCell ref=["'][A-Z0-9:]+['"]\s*[\/]?>/g,c7e=/<(?:\w+:)?hyperlink [^<>]*>/mg,l7e=/"(\w*:\w*)"/,u7e=/<(?:\w+:)?col\b[^<>]*[\/]?>/g,f7e=/<(?:\w+:)?autoFilter[^>]*/g,d7e=/<(?:\w+:)?pageMargins[^<>]*\/>/g,$q=/<(?:\w+:)?sheetPr\b[^<>]*?\/>/;function h7e(t,e,a,n,r,s,i){if(!t)return t;n||(n={"!id":{}});var o={};e.dense&&(o["!data"]=[]);var c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",u="",d=Fr(t,"sheetData");d?(l=t.slice(0,d.index),u=t.slice(d.index+d[0].length)):l=u=t;var p=l.match($q);p?XD(p[0],o,r,a):(p=Fr(l,"sheetPr"))&&m7e(p[0],p[1]||"",o,r,a);var m=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var g=l.slice(m,m+50).match(l7e);g&&!(e&&e.nodim)&&i7e(o,g[1])}var x=Fr(l,"sheetViews");x&&x[1]&&E7e(x[1],r);var v=[];if(e.cellStyles){var k=l.match(u7e);k&&_7e(v,k)}d&&R7e(d[1],o,e,c,s,i,r);var b=u.match(f7e);b&&(o["!autofilter"]=N7e(b[0]));var _=[],A=u.match(o7e);if(A)for(m=0;m!=A.length;++m)_[m]=wa(A[m].slice(A[m].indexOf("=")+2));var S=u.match(c7e);S&&k7e(o,S,n);var C=u.match(d7e);C&&(o["!margins"]=w7e(gt(C[0])));var E;if((E=u.match(/legacyDrawing r:id="(.*?)"/))&&(o["!legrel"]=E[1]),e&&e.nodim&&(c.s.c=c.s.r=0),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=ea(c)),e.sheetRows>0&&o["!ref"]){var R=wa(o["!ref"]);e.sheetRows<=+R.e.r&&(R.e.r=e.sheetRows-1,R.e.r>c.e.r&&(R.e.r=c.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>c.e.c&&(R.e.c=c.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ea(R))}return v.length>0&&(o["!cols"]=v),_.length>0&&(o["!merges"]=_),n["!id"][o["!legrel"]]&&(o["!legdrawel"]=n["!id"][o["!legrel"]]),o}function p7e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',a=0;a!=t.length;++a)e+='<mergeCell ref="'+ea(t[a])+'"/>';return e+"</mergeCells>"}function XD(t,e,a,n){var r=gt(t);a.Sheets[n]||(a.Sheets[n]={}),r.codeName&&(a.Sheets[n].CodeName=Sa(Ha(r.codeName)))}function m7e(t,e,a,n,r){XD(t.slice(0,t.indexOf(">")),a,n,r)}function g7e(t,e,a,n,r){var s=!1,i={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[a];try{e.Workbook&&(c=e.Workbook.Sheets[a].CodeName||c)}catch{}s=!0,i.codeName=uc(Qt(c))}if(t&&t["!outline"]){var l={summaryBelow:1,summaryRight:1};t["!outline"].above&&(l.summaryBelow=0),t["!outline"].left&&(l.summaryRight=0),o=(o||"")+nt("outlinePr",null,l)}!s&&!o||(r[r.length]=nt("sheetPr",o,i))}var y7e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],v7e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function x7e(t){var e={sheet:1};return y7e.forEach(function(a){t[a]!=null&&t[a]&&(e[a]="1")}),v7e.forEach(function(a){t[a]!=null&&!t[a]&&(e[a]="0")}),t.password&&(e.password=VD(t.password).toString(16).toUpperCase()),nt("sheetProtection",null,e)}function k7e(t,e,a){for(var n=t["!data"]!=null,r=0;r!=e.length;++r){var s=gt(Ha(e[r]),!0);if(!s.ref)return;var i=((a||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Sa(s.location))):(s.Target="#"+Sa(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=wa(s.ref),c=o.s.r;c<=o.e.r;++c)for(var l=o.s.c;l<=o.e.c;++l){var u=qt(l)+fa(c);n?(t["!data"][c]||(t["!data"][c]=[]),t["!data"][c][l]||(t["!data"][c][l]={t:"z",v:void 0}),t["!data"][c][l].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function w7e(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(a){t[a]&&(e[a]=parseFloat(t[a]))}),e}function b7e(t){return ad(t),nt("pageMargins",null,t)}function _7e(t,e){for(var a=!1,n=0;n!=e.length;++n){var r=gt(e[n],!0);r.hidden&&(r.hidden=Wa(r.hidden));var s=parseInt(r.min,10)-1,i=parseInt(r.max,10)-1;for(r.outlineLevel&&(r.level=+r.outlineLevel||0),delete r.min,delete r.max,r.width=+r.width,!a&&r.width&&(a=!0,jD(r.width)),wl(r);s<=i;)t[s++]=za(r)}}function A7e(t,e){for(var a=["<cols>"],n,r=0;r!=e.length;++r)(n=e[r])&&(a[a.length]=nt("col",null,pv(r,n)));return a[a.length]="</cols>",a.join("")}function N7e(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function S7e(t,e,a,n){var r=typeof t.ref=="string"?t.ref:ea(t.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var s=a.Workbook.Names,i=or(r);i.s.r==i.e.r&&(i.e.r=or(e["!ref"]).e.r,r=ea(i));for(var o=0;o<s.length;++o){var c=s[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref=oy(a.SheetNames[n])+"!"+Qp(r);break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+a.SheetNames[n]+"'!"+r}),nt("autoFilter",null,{ref:r})}var T7e=/<(?:\w:)?sheetView(?:[^<>a-z][^<>]*)?\/?>/g;function E7e(t,e){e.Views||(e.Views=[{}]),(t.match(T7e)||[]).forEach(function(a,n){var r=gt(a);e.Views[n]||(e.Views[n]={}),+r.zoomScale&&(e.Views[n].zoom=+r.zoomScale),r.rightToLeft&&Wa(r.rightToLeft)&&(e.Views[n].RTL=!0)})}function C7e(t,e,a,n){var r={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),nt("sheetViews",nt("sheetView",null,r),{})}function I7e(t,e,a,n,r,s,i){if(t.c&&a["!comments"].push([e,t.c]),(t.v===void 0||t.t==="z"&&!(n||{}).sheetStubs)&&typeof t.f!="string"&&typeof t.z>"u")return"";var o="",c=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":o=t.v?"1":"0";break;case"n":isNaN(t.v)?(t.t="e",o=wr[t.v=36]):isFinite(t.v)?o=""+t.v:(t.t="e",o=wr[t.v=7]);break;case"e":o=wr[t.v];break;case"d":if(n&&n.cellDates){var u=xn(t.v,i);o=u.toISOString(),u.getUTCFullYear()<1900&&(o=o.slice(o.indexOf("T")+1).replace("Z",""))}else t=za(t),t.t="n",o=""+(t.v=In(xn(t.v,i),i));typeof t.z>"u"&&(t.z=Ct[14]);break;default:o=t.v;break}var d=t.t=="z"||t.v==null?"":jr("v",Qt(o)),p={r:e},m=Tc(n.cellXfs,t,n);switch(m!==0&&(p.s=m),t.t){case"n":break;case"d":p.t="d";break;case"b":p.t="b";break;case"e":p.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){d=jr("v",""+qD(n.Strings,t.v,n.revStrings)),p.t="s";break}else p.t="str";break}if(t.t!=c&&(t.t=c,t.v=l),typeof t.f=="string"&&t.f){var g=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;d=nt("f",Qt(t.f),g)+(t.v!=null?d:"")}return t.l&&(t.l.display=Qt(o),a["!links"].push([e,t.l])),t.D&&(p.cm=1),nt("c",d,p)}var R7e=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,a=/r=["']([^"']*)["']/,n=/ref=["']([^"']*)["']/;return function(s,i,o,c,l,u,d){for(var p=0,m="",g=[],x=[],v=0,k=0,b=0,_="",A,S,C=0,E=0,R,I,P=0,D=0,B=Array.isArray(u.CellXf),U,V=[],j=[],W=i["!data"]!=null,Q=[],q={},Z=!1,M=!!o.sheetStubs,se=!!((d||{}).WBProps||{}).date1904,ue=s.split(e),le=0,ie=ue.length;le!=ie;++le){m=ue[le].trim();var ye=m.length;if(ye!==0){var ke=0;e:for(p=0;p<ye;++p)switch(m[p]){case">":if(m[p-1]!="/"){++p;break e}if(o&&o.cellStyles){if(S=gt(m.slice(ke,p),!0),C=S.r!=null?parseInt(S.r,10):C+1,E=-1,o.sheetRows&&o.sheetRows<C)continue;q={},Z=!1,S.ht&&(Z=!0,q.hpt=parseFloat(S.ht),q.hpx=nm(q.hpt)),S.hidden&&Wa(S.hidden)&&(Z=!0,q.hidden=!0),S.outlineLevel!=null&&(Z=!0,q.level=+S.outlineLevel),Z&&(Q[C-1]=q)}break;case"<":ke=p;break}if(ke>=p)break;if(S=gt(m.slice(ke,p),!0),C=S.r!=null?parseInt(S.r,10):C+1,E=-1,!(o.sheetRows&&o.sheetRows<C)){o.nodim||(c.s.r>C-1&&(c.s.r=C-1),c.e.r<C-1&&(c.e.r=C-1)),o&&o.cellStyles&&(q={},Z=!1,S.ht&&(Z=!0,q.hpt=parseFloat(S.ht),q.hpx=nm(q.hpt)),S.hidden&&Wa(S.hidden)&&(Z=!0,q.hidden=!0),S.outlineLevel!=null&&(Z=!0,q.level=+S.outlineLevel),Z&&(Q[C-1]=q)),g=m.slice(p).split(t);for(var ge=0;ge!=g.length&&g[ge].trim().charAt(0)=="<";++ge);for(g=g.slice(ge),p=0;p!=g.length;++p)if(m=g[p].trim(),m.length!==0){if(x=m.match(a),v=p,k=0,b=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,x!=null&&x.length===2){for(v=0,_=x[1],k=0;k!=_.length&&!((b=_.charCodeAt(k)-64)<1||b>26);++k)v=26*v+b;--v,E=v}else++E;for(k=0;k!=m.length&&m.charCodeAt(k)!==62;++k);if(++k,S=gt(m.slice(0,k),!0),S.r||(S.r=ua({r:C-1,c:E})),_=m.slice(k),A={t:""},(x=Fr(_,"v"))!=null&&x[1]!==""&&(A.v=Sa(x[1])),o.cellFormula){if((x=Fr(_,"f"))!=null){if(x[1]=="")x[0].indexOf('t="shared"')>-1&&(I=gt(x[0]),j[I.si]&&(A.f=W5(j[I.si][1],j[I.si][2],S.r)));else if(A.f=Sa(Ha(x[1]),!0),o.xlfn||(A.f=V5(A.f)),x[0].indexOf('t="array"')>-1)A.F=(_.match(n)||[])[1],A.F.indexOf(":")>-1&&V.push([wa(A.F),A.F]);else if(x[0].indexOf('t="shared"')>-1){I=gt(x[0]);var G=Sa(Ha(x[1]));o.xlfn||(G=V5(G)),j[parseInt(I.si,10)]=[I,G,S.r]}}else(x=_.match(/<f[^<>]*\/>/))&&(I=gt(x[0]),j[I.si]&&(A.f=W5(j[I.si][1],j[I.si][2],S.r)));var te=Ka(S.r);for(k=0;k<V.length;++k)te.r>=V[k][0].s.r&&te.r<=V[k][0].e.r&&te.c>=V[k][0].s.c&&te.c<=V[k][0].e.c&&(A.F=V[k][1])}if(S.t==null&&A.v===void 0)if(A.f||A.F)A.v=0,A.t="n";else if(M)A.t="z";else continue;else A.t=S.t||"n";switch(c.s.c>E&&(c.s.c=E),c.e.c<E&&(c.e.c=E),A.t){case"n":if(A.v==""||A.v==null){if(!M)continue;A.t="z"}else A.v=parseFloat(A.v);break;case"s":if(typeof A.v>"u"){if(!M)continue;A.t="z"}else R=gg[parseInt(A.v,10)],A.v=R.t,A.r=R.r,o.cellHTML&&(A.h=R.h);break;case"str":A.t="s",A.v=A.v!=null?Sa(Ha(A.v),!0):"",o.cellHTML&&(A.h=ug(A.v));break;case"inlineStr":x=Fr(_,"is"),A.t="s",x!=null&&(R=WD(x[1]))?(A.v=R.t,o.cellHTML&&(A.h=R.h)):A.v="";break;case"b":A.v=Wa(A.v);break;case"d":o.cellDates?A.v=xn(A.v,se):(A.v=In(xn(A.v,se),se),A.t="n");break;case"e":(!o||o.cellText!==!1)&&(A.w=A.v),A.v=Or[A.v];break}if(P=D=0,U=null,B&&S.s!==void 0&&(U=u.CellXf[S.s],U!=null&&(U.numFmtId!=null&&(P=U.numFmtId),o.cellStyles&&U.fillId!=null&&(D=U.fillId))),Oq(A,P,D,o,l,u,se),o.cellDates&&B&&A.t=="n"&&vi(Ct[P])&&(A.v=fl(A.v+(se?1462:0)),A.t=typeof A.v=="number"?"n":"d"),S.cm&&o.xlmeta){var ee=(o.xlmeta.Cell||[])[+S.cm-1];ee&&ee.type=="XLDAPR"&&(A.D=!0)}var ne;o.nodim&&(ne=Ka(S.r),c.s.r>ne.r&&(c.s.r=ne.r),c.e.r<ne.r&&(c.e.r=ne.r)),W?(ne=Ka(S.r),i["!data"][ne.r]||(i["!data"][ne.r]=[]),i["!data"][ne.r][ne.c]=A):i[S.r]=A}}}}Q.length>0&&(i["!rows"]=Q)}}();function D7e(t,e,a,n){var r=[],s=[],i=wa(t["!ref"]),o="",c,l="",u=[],d=0,p=0,m=t["!rows"],g=t["!data"]!=null,x=g?t["!data"]:[],v={r:l},k,b=-1,_=(((n||{}).Workbook||{}).WBProps||{}).date1904;for(p=i.s.c;p<=i.e.c;++p)u[p]=qt(p);for(d=i.s.r;d<=i.e.r;++d){s=[],l=fa(d);var A=g?x[d]:[];for(p=i.s.c;p<=i.e.c;++p){c=u[p]+l;var S=g?A[p]:t[c];S!==void 0&&(o=I7e(S,c,t,e,a,n,_))!=null&&s.push(o)}(s.length>0||m&&m[d])&&(v={r:l},m&&m[d]&&(k=m[d],k.hidden&&(v.hidden=1),b=-1,k.hpx?b=dy(k.hpx):k.hpt&&(b=k.hpt),b>-1&&(v.ht=b,v.customHeight=1),k.level&&(v.outlineLevel=k.level)),r[r.length]=nt("row",s.join(""),v))}if(m)for(;d<m.length;++d)m&&m[d]&&(v={r:d+1},k=m[d],k.hidden&&(v.hidden=1),b=-1,k.hpx?b=dy(k.hpx):k.hpt&&(b=k.hpt),b>-1&&(v.ht=b,v.customHeight=1),k.level&&(v.outlineLevel=k.level),r[r.length]=nt("row","",v));return r.join("")}function P7e(t,e,a,n){var r=[Un,nt("worksheet",null,{xmlns:th[0],"xmlns:r":yr.r})],s=a.SheetNames[t],i=0,o="",c=a.Sheets[s];c==null&&(c={});var l=c["!ref"]||"A1",u=wa(l);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),l=ea(u)}n||(n={}),c["!comments"]=[];var d=[];g7e(c,a,t,e,r),r[r.length]=nt("dimension",null,{ref:l}),r[r.length]=C7e(c,e,t,a),e.sheetFormat&&(r[r.length]=nt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(r[r.length]=A7e(c,c["!cols"])),r[i=r.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=D7e(c,e,t,a),o.length>0&&(r[r.length]=o)),r.length>i+1&&(r[r.length]="</sheetData>",r[i]=r[i].replace("/>",">")),c["!protect"]&&(r[r.length]=x7e(c["!protect"])),c["!autofilter"]!=null&&(r[r.length]=S7e(c["!autofilter"],c,a,t)),c["!merges"]!=null&&c["!merges"].length>0&&(r[r.length]=p7e(c["!merges"]));var p=-1,m,g=-1;return c["!links"].length>0&&(r[r.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(m={ref:x[0]},x[1].Target.charAt(0)!="#"&&(g=Ua(n,-1,Qt(x[1].Target).replace(/#[\s\S]*$/,""),la.HLINK),m["r:id"]="rId"+g),(p=x[1].Target.indexOf("#"))>-1&&(m.location=Qt(x[1].Target.slice(p+1))),x[1].Tooltip&&(m.tooltip=Qt(x[1].Tooltip)),m.display=x[1].display,r[r.length]=nt("hyperlink",null,m))}),r[r.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(r[r.length]=b7e(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(r[r.length]=jr("ignoredErrors",nt("ignoredError",null,{numberStoredAsText:1,sqref:l}))),d.length>0&&(g=Ua(n,-1,"../drawings/drawing"+(t+1)+".xml",la.DRAW),r[r.length]=nt("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=d),c["!comments"].length>0&&(g=Ua(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",la.VML),r[r.length]=nt("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function F7e(t,e){var a={},n=t.l+e;a.r=t.read_shift(4),t.l+=4;var r=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(a.level=s&7),s&16&&(a.hidden=!0),s&32&&(a.hpt=r/20),a}function O7e(t,e,a){var n=Re(145),r=(a["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;r.hpx?s=dy(r.hpx)*20:r.hpt&&(s=r.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var i=0;r.level&&(i|=r.level),r.hidden&&(i|=16),(r.hpx||r.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var l={r:t,c:0},u=a["!data"]!=null,d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var p=-1,m=-1,g=d<<10;g<d+1<<10;++g){l.c=g;var x=u?(a["!data"][l.r]||[])[l.c]:a[ua(l)];x&&(p<0&&(p=g),m=g)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,m))}var v=n.l;return n.l=c,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function $7e(t,e,a,n){var r=O7e(n,a,e);(r.length>17||(e["!rows"]||[])[n])&&je(t,0,r)}var L7e=sh,M7e=Om;function B7e(){}function z7e(t,e){var a={},n=t[t.l];return++t.l,a.above=!(n&64),a.left=!(n&128),t.l+=18,a.name=I5e(t),a}function G7e(t,e,a){a==null&&(a=Re(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),a.write_shift(1,n);for(var r=1;r<3;++r)a.write_shift(1,0);return Ww({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),LK(t,a),a.slice(0,a.l)}function U7e(t){var e=lo(t);return[e]}function W7e(t,e,a){return a==null&&(a=Re(8)),ah(e,a)}function V7e(t){var e=nh(t);return[e]}function j7e(t,e,a){return a==null&&(a=Re(4)),rh(e,a)}function H7e(t){var e=lo(t),a=t.read_shift(1);return[e,a,"b"]}function K7e(t,e,a){return a==null&&(a=Re(9)),ah(e,a),a.write_shift(1,t.v?1:0),a}function q7e(t){var e=nh(t),a=t.read_shift(1);return[e,a,"b"]}function X7e(t,e,a){return a==null&&(a=Re(5)),rh(e,a),a.write_shift(1,t.v?1:0),a}function Y7e(t){var e=lo(t),a=t.read_shift(1);return[e,a,"e"]}function VS(t,e,a){return a==null&&(a=Re(9)),ah(e,a),a.write_shift(1,t.v),a}function Z7e(t){var e=nh(t),a=t.read_shift(1);return[e,a,"e"]}function jS(t,e,a){return a==null&&(a=Re(8)),rh(e,a),a.write_shift(1,t.v),a.write_shift(2,0),a.write_shift(1,0),a}function J7e(t){var e=lo(t),a=t.read_shift(4);return[e,a,"s"]}function Q7e(t,e,a){return a==null&&(a=Re(12)),ah(e,a),a.write_shift(4,e.v),a}function e9e(t){var e=nh(t),a=t.read_shift(4);return[e,a,"s"]}function t9e(t,e,a){return a==null&&(a=Re(8)),rh(e,a),a.write_shift(4,e.v),a}function a9e(t){var e=lo(t),a=fs(t);return[e,a,"n"]}function n9e(t,e,a){return a==null&&(a=Re(16)),ah(e,a),Rd(t.v,a),a}function Lq(t){var e=nh(t),a=fs(t);return[e,a,"n"]}function r9e(t,e,a){return a==null&&(a=Re(12)),rh(e,a),Rd(t.v,a),a}function s9e(t){var e=lo(t),a=k2(t);return[e,a,"n"]}function i9e(t,e,a){return a==null&&(a=Re(12)),ah(e,a),MK(t.v,a),a}function o9e(t){var e=nh(t),a=k2(t);return[e,a,"n"]}function c9e(t,e,a){return a==null&&(a=Re(8)),rh(e,a),MK(t.v,a),a}function l9e(t){var e=lo(t),a=$D(t);return[e,a,"is"]}function u9e(t){var e=lo(t),a=ms(t);return[e,a,"str"]}function f9e(t,e,a){var n=t.v==null?"":String(t.v);return a==null&&(a=Re(12+4*t.v.length)),ah(e,a),kr(n,a),a.length>a.l?a.slice(0,a.l):a}function d9e(t){var e=nh(t),a=ms(t);return[e,a,"str"]}function h9e(t,e,a){var n=t.v==null?"":String(t.v);return a==null&&(a=Re(8+4*n.length)),rh(e,a),kr(n,a),a.length>a.l?a.slice(0,a.l):a}function p9e(t,e,a){var n=t.l+e,r=lo(t);r.r=a["!row"];var s=t.read_shift(1),i=[r,s,"b"];if(a.cellFormula){t.l+=2;var o=A2(t,n-t.l,a);i[3]=is(o,null,r,a.supbooks,a)}else t.l=n;return i}function m9e(t,e,a){var n=t.l+e,r=lo(t);r.r=a["!row"];var s=t.read_shift(1),i=[r,s,"e"];if(a.cellFormula){t.l+=2;var o=A2(t,n-t.l,a);i[3]=is(o,null,r,a.supbooks,a)}else t.l=n;return i}function g9e(t,e,a){var n=t.l+e,r=lo(t);r.r=a["!row"];var s=fs(t),i=[r,s,"n"];if(a.cellFormula){t.l+=2;var o=A2(t,n-t.l,a);i[3]=is(o,null,r,a.supbooks,a)}else t.l=n;return i}function y9e(t,e,a){var n=t.l+e,r=lo(t);r.r=a["!row"];var s=ms(t),i=[r,s,"str"];if(a.cellFormula){t.l+=2;var o=A2(t,n-t.l,a);i[3]=is(o,null,r,a.supbooks,a)}else t.l=n;return i}var v9e=sh,x9e=Om;function k9e(t,e){return e==null&&(e=Re(4)),e.write_shift(4,t),e}function w9e(t,e){var a=t.l+e,n=sh(t),r=x2(t),s=ms(t),i=ms(t),o=ms(t);t.l=a;var c={rfx:n,relId:r,loc:s,display:o};return i&&(c.Tooltip=i),c}function b9e(t,e){var a=Re(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Om({s:Ka(t[0]),e:Ka(t[0])},a),LD("rId"+e,a);var n=t[1].Target.indexOf("#"),r=n==-1?"":t[1].Target.slice(n+1);return kr(r||"",a),kr(t[1].Tooltip||"",a),kr("",a),a.slice(0,a.l)}function _9e(){}function A9e(t,e,a){var n=t.l+e,r=BK(t),s=t.read_shift(1),i=[r];if(i[2]=s,a.cellFormula){var o=UUe(t,n-t.l,a);i[1]=o}else t.l=n;return i}function N9e(t,e,a){var n=t.l+e,r=sh(t),s=[r];if(a.cellFormula){var i=VUe(t,n-t.l,a);s[1]=i,t.l=n}else t.l=n;return s}function S9e(t,e,a){a==null&&(a=Re(18));var n=pv(t,e);a.write_shift(-4,t),a.write_shift(-4,t),a.write_shift(4,(n.width||10)*256),a.write_shift(4,0);var r=0;return e.hidden&&(r|=1),typeof n.width=="number"&&(r|=2),e.level&&(r|=e.level<<8),a.write_shift(2,r),a}var Mq=["left","right","top","bottom","header","footer"];function T9e(t){var e={};return Mq.forEach(function(a){e[a]=fs(t)}),e}function E9e(t,e){return e==null&&(e=Re(6*8)),ad(t),Mq.forEach(function(a){Rd(t[a],e)}),e}function C9e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function I9e(t,e,a){a==null&&(a=Re(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),a.write_shift(2,n),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}function R9e(t){var e=Re(24);return e.write_shift(4,4),e.write_shift(4,1),Om(t,e),e}function D9e(t,e){return e==null&&(e=Re(16*4+2)),e.write_shift(2,t.password?VD(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(a){a[1]?e.write_shift(4,t[a[0]]!=null&&!t[a[0]]?1:0):e.write_shift(4,t[a[0]]!=null&&t[a[0]]?0:1)}),e}function P9e(){}function F9e(){}function O9e(t,e,a,n,r,s,i){if(!t)return t;var o=e||{};n||(n={"!id":{}});var c={};o.dense&&(c["!data"]=[]);var l,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,p=!1,m,g,x,v,k,b,_,A,S,C=[];o.biff=12,o["!row"]=0;var E=0,R=!1,I=[],P={},D=o.supbooks||r.supbooks||[[]];if(D.sharedf=P,D.arrayf=I,D.SheetNames=r.SheetNames||r.Sheets.map(function(Z){return Z.name}),!o.supbooks&&(o.supbooks=D,r.Names))for(var B=0;B<r.Names.length;++B)D[0][B+1]=r.Names[B];var U=[],V=[],j=!1;hy[16]={n:"BrtShortReal",f:Lq};var W,Q=1462*+!!((r||{}).WBProps||{}).date1904;if(Il(t,function(M,se,ue){if(!p)switch(ue){case 148:l=M;break;case 0:m=M,o.sheetRows&&o.sheetRows<=m.r&&(p=!0),A=fa(v=m.r),o["!row"]=m.r,(M.hidden||M.hpt||M.level!=null)&&(M.hpt&&(M.hpx=nm(M.hpt)),V[M.r]=M);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:M[2]},M[2]){case"n":g.v=M[1];break;case"s":_=gg[M[1]],g.v=_.t,g.r=_.r;break;case"b":g.v=!!M[1];break;case"e":g.v=M[1],o.cellText!==!1&&(g.w=wr[g.v]);break;case"str":g.t="s",g.v=M[1];break;case"is":g.t="s",g.v=M[1].t;break}if((x=i.CellXf[M[0].iStyleRef])&&Oq(g,x.numFmtId,null,o,s,i,Q>0),k=M[0].c==-1?k+1:M[0].c,o.dense?(c["!data"][v]||(c["!data"][v]=[]),c["!data"][v][k]=g):c[qt(k)+A]=g,o.cellFormula){for(R=!1,E=0;E<I.length;++E){var le=I[E];m.r>=le[0].s.r&&m.r<=le[0].e.r&&k>=le[0].s.c&&k<=le[0].e.c&&(g.F=ea(le[0]),R=!0)}!R&&M.length>3&&(g.f=M[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>k&&(u.s.c=k),u.e.r<m.r&&(u.e.r=m.r),u.e.c<k&&(u.e.c=k),o.cellDates&&x&&g.t=="n"&&vi(Ct[x.numFmtId])){var ie=sc(g.v+Q);ie&&(g.t="d",g.v=new Date(Date.UTC(ie.y,ie.m-1,ie.d,ie.H,ie.M,ie.S,ie.u)))}W&&(W.type=="XLDAPR"&&(g.D=!0),W=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;g={t:"z",v:void 0},k=M[0].c==-1?k+1:M[0].c,o.dense?(c["!data"][v]||(c["!data"][v]=[]),c["!data"][v][k]=g):c[qt(k)+A]=g,u.s.r>m.r&&(u.s.r=m.r),u.s.c>k&&(u.s.c=k),u.e.r<m.r&&(u.e.r=m.r),u.e.c<k&&(u.e.c=k),W&&(W.type=="XLDAPR"&&(g.D=!0),W=void 0);break;case 176:C.push(M);break;case 49:W=((o.xlmeta||{}).Cell||[])[M-1];break;case 494:var ye=n["!id"][M.relId];for(ye?(M.Target=ye.Target,M.loc&&(M.Target+="#"+M.loc),M.Rel=ye):M.relId==""&&(M.Target="#"+M.loc),v=M.rfx.s.r;v<=M.rfx.e.r;++v)for(k=M.rfx.s.c;k<=M.rfx.e.c;++k)o.dense?(c["!data"][v]||(c["!data"][v]=[]),c["!data"][v][k]||(c["!data"][v][k]={t:"z",v:void 0}),c["!data"][v][k].l=M):(b=qt(k)+fa(v),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=M);break;case 426:if(!o.cellFormula)break;I.push(M),S=o.dense?c["!data"][v][k]:c[qt(k)+A],S.f=is(M[1],u,{r:m.r,c:k},D,o),S.F=ea(M[0]);break;case 427:if(!o.cellFormula)break;P[ua(M[0].s)]=M[1],S=o.dense?c["!data"][v][k]:c[qt(k)+A],S.f=is(M[1],u,{r:m.r,c:k},D,o);break;case 60:if(!o.cellStyles)break;for(;M.e>=M.s;)U[M.e--]={width:M.w/256,hidden:!!(M.flags&1),level:M.level},j||(j=!0,jD(M.w/256)),wl(U[M.e+1]);break;case 551:M&&(c["!legrel"]=M);break;case 161:c["!autofilter"]={ref:ea(M)};break;case 476:c["!margins"]=M;break;case 147:r.Sheets[a]||(r.Sheets[a]={}),M.name&&(r.Sheets[a].CodeName=M.name),(M.above||M.left)&&(c["!outline"]={above:M.above,left:M.left});break;case 137:r.Views||(r.Views=[{}]),r.Views[0]||(r.Views[0]={}),M.RTL&&(r.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!se.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+ue.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(u.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(c["!ref"]=ea(l||u)),o.sheetRows&&c["!ref"]){var q=wa(c["!ref"]);o.sheetRows<=+q.e.r&&(q.e.r=o.sheetRows-1,q.e.r>u.e.r&&(q.e.r=u.e.r),q.e.r<q.s.r&&(q.s.r=q.e.r),q.e.c>u.e.c&&(q.e.c=u.e.c),q.e.c<q.s.c&&(q.s.c=q.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ea(q))}return C.length>0&&(c["!merges"]=C),U.length>0&&(c["!cols"]=U),V.length>0&&(c["!rows"]=V),n["!id"][c["!legrel"]]&&(c["!legdrawel"]=n["!id"][c["!legrel"]]),c}function $9e(t,e,a,n,r,s,i,o){var c={r:a,c:n};if(e.c&&s["!comments"].push([ua(c),e.c]),e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=za(e),e.z=e.z||Ct[14],e.v=In(xn(e.v,o),o),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}switch(c.s=Tc(r.cellXfs,e,r),e.l&&s["!links"].push([ua(c),e.l]),e.t){case"s":case"str":return r.bookSST?(l=qD(r.Strings,e.v==null?"":String(e.v),r.revStrings),c.t="s",c.v=l,i?je(t,18,t9e(e,c)):je(t,7,Q7e(e,c))):(c.t="str",i?je(t,17,h9e(e,c)):je(t,6,f9e(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?i?je(t,13,c9e(e,c)):je(t,2,i9e(e,c)):isFinite(e.v)?i?je(t,16,r9e(e,c)):je(t,5,n9e(e,c)):(c.t="e",isNaN(e.v)?i?je(t,14,jS({v:36},c)):je(t,3,VS({v:36},c)):i?je(t,14,jS({v:7},c)):je(t,3,VS({v:7},c))),!0;case"b":return c.t="b",i?je(t,15,X7e(e,c)):je(t,4,K7e(e,c)),!0;case"e":return c.t="e",i?je(t,14,jS(e,c)):je(t,3,VS(e,c)),!0}return i?je(t,12,j7e(e,c)):je(t,1,W7e(e,c)),!0}function L9e(t,e,a,n,r){var s=wa(e["!ref"]||"A1"),i="",o=[],c=(((r||{}).Workbook||{}).WBProps||{}).date1904;je(t,145);var l=e["!data"]!=null,u=l?e["!data"][s.s.r]:[],d=s.e.r;e["!rows"]&&(d=Math.max(s.e.r,e["!rows"].length-1));for(var p=s.s.r;p<=d;++p)if(i=fa(p),l&&(u=e["!data"][p]),$7e(t,e,s,p),!(l&&!u)){var m=!1;if(p<=s.e.r)for(var g=s.s.c;g<=s.e.c;++g){p===s.s.r&&(o[g]=qt(g));var x=l?u[g]:e[o[g]+i];if(!x){m=!1;continue}m=$9e(t,x,p,g,n,e,m,c)}}je(t,146)}function M9e(t,e){!e||!e["!merges"]||(je(t,177,k9e(e["!merges"].length)),e["!merges"].forEach(function(a){je(t,176,x9e(a))}),je(t,178))}function B9e(t,e){!e||!e["!cols"]||(je(t,390),e["!cols"].forEach(function(a,n){a&&je(t,60,S9e(n,a))}),je(t,391))}function z9e(t,e){!e||!e["!ref"]||(je(t,648),je(t,649,R9e(wa(e["!ref"]))),je(t,650))}function G9e(t,e,a){e["!links"].forEach(function(n){if(n[1].Target){var r=Ua(a,-1,n[1].Target.replace(/#[\s\S]*$/,""),la.HLINK);je(t,494,b9e(n,r))}}),delete e["!links"]}function U9e(t,e,a,n){if(e["!comments"].length>0){var r=Ua(n,-1,"../drawings/vmlDrawing"+(a+1)+".vml",la.VML);je(t,551,LD("rId"+r)),e["!legacy"]=r}}function W9e(t,e,a,n){if(e["!autofilter"]){var r=e["!autofilter"],s=typeof r.ref=="string"?r.ref:ea(r.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var i=a.Workbook.Names,o=or(s);o.s.r==o.e.r&&(o.e.r=or(e["!ref"]).e.r,s=ea(o));for(var c=0;c<i.length;++c){var l=i[c];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref=oy(a.SheetNames[n])+"!"+Qp(s);break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:oy(a.SheetNames[n])+"!"+Qp(s)}),je(t,161,Om(wa(s))),je(t,162)}}function V9e(t,e,a){je(t,133),je(t,137,I9e(e,a)),je(t,138),je(t,134)}function j9e(t,e){e["!protect"]&&je(t,535,D9e(e["!protect"]))}function H9e(t,e,a,n){var r=ps(),s=a.SheetNames[t],i=a.Sheets[s]||{},o=s;try{a&&a.Workbook&&(o=a.Workbook.Sheets[t].CodeName||o)}catch{}var c=wa(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],je(r,129),(a.vbaraw||i["!outline"])&&je(r,147,G7e(o,i["!outline"])),je(r,148,M7e(c)),V9e(r,i,a.Workbook),B9e(r,i),L9e(r,i,t,e,a),j9e(r,i),W9e(r,i,a,t),M9e(r,i),G9e(r,i,n),i["!margins"]&&je(r,476,E9e(i["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&z9e(r,i),U9e(r,i,t,n),je(r,130),r.end()}function K9e(t){var e=[],a=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<])<\/c:v><\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<]*)<\/c:v><\/c:pt>/);i&&(e[+i[1]]=a?+i[2]:i[2])});var r=Sa((Zf(t,"c:formatCode")||["","General"])[1]);return(_D(t,"<c:f>","</c:f>")||[]).forEach(function(s){n=s.replace(/<[^<>]*>/g,"")}),[e,r,n]}function q9e(t,e,a,n,r,s){var i=s||{"!type":"chart"};if(!t)return s;var o=0,c=0,l="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(_D(t,"<c:numCache>","</c:numCache>")||[]).forEach(function(d){var p=K9e(d);u.s.r=u.s.c=0,u.e.c=o,l=qt(o),p[0].forEach(function(m,g){i["!data"]?(i["!data"][g]||(i["!data"][g]=[]),i["!data"][g][o]={t:"n",v:m,z:p[1]}):i[l+fa(g)]={t:"n",v:m,z:p[1]},c=g}),u.e.r<c&&(u.e.r=c),++o}),o>0&&(i["!ref"]=ea(u)),i}function X9e(t,e,a,n,r){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=t.match($q);return o&&XD(o[0],s,r,a),(i=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Y9e(t,e){t.l+=10;var a=ms(t);return{name:a}}function Z9e(t,e,a,n,r){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Il(t,function(c,l,u){switch(u){case 550:s["!rel"]=c;break;case 651:r.Sheets[a]||(r.Sheets[a]={}),c.name&&(r.Sheets[a].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(l.T>0)){if(!(l.T<0)){if(!i||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var YD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],J9e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Q9e=[],eWe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Y5(t,e){for(var a=0;a!=t.length;++a)for(var n=t[a],r=0;r!=e.length;++r){var s=e[r];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Wa(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function Z5(t,e){for(var a=0;a!=e.length;++a){var n=e[a];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Wa(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function Bq(t){Z5(t.WBProps,YD),Z5(t.CalcPr,eWe),Y5(t.WBView,J9e),Y5(t.Sheets,Q9e),Dp.date1904=Wa(t.WBProps.date1904)}function tWe(t){return!t.Workbook||!t.Workbook.WBProps?"false":Wa(t.Workbook.WBProps.date1904)?"true":"false"}var aWe=":][*?/\\".split("");function zq(t,e){try{if(t=="")throw new Error("Sheet name cannot be blank");if(t.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(t.charCodeAt(0)==39||t.charCodeAt(t.length-1)==39)throw new Error("Sheet name cannot start or end with apostrophe (')");if(t.toLowerCase()=="history")throw new Error("Sheet name cannot be 'History'");aWe.forEach(function(a){if(t.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(a){throw a}return!0}function nWe(t,e,a){t.forEach(function(n,r){zq(n);for(var s=0;s<r;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(a){var i=e&&e[r]&&e[r].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function Gq(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];nWe(t.SheetNames,e,!!t.vbaraw);for(var a=0;a<t.SheetNames.length;++a)s7e(t.Sheets[t.SheetNames[a]],t.SheetNames[a],a);t.SheetNames.forEach(function(n,r){var s=t.Sheets[n];if(!(!s||!s["!autofilter"])){var i;t.Workbook||(t.Workbook={}),t.Workbook.Names||(t.Workbook.Names=[]),t.Workbook.Names.forEach(function(c){c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r&&(i=c)});var o=oy(n)+"!"+Qp(s["!autofilter"].ref);i?i.Ref=o:t.Workbook.Names.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:o})}})}var rWe=/<\w+:workbook/;function sWe(t,e){if(!t)throw new Error("Could not find file");var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,r="xmlns",s={},i=0;if(t.replace(Yr,function(c,l){var u=gt(c);switch(co(u[0])){case"<?xml":break;case"<workbook":c.match(rWe)&&(r="xmlns"+c.match(/<(\w+):/)[1]),a.xmlns=u[r];break;case"</workbook>":break;case"<fileVersion":delete u[0],a.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":YD.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":a.WBProps[d[0]]=Wa(u[d[0]]);break;case"int":a.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:a.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(a.WBProps.CodeName=Ha(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],a.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Sa(Ha(u.name)),delete u[0],a.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Ha(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),Wa(u.hidden||"0")&&(s.Hidden=!0),i=l+c.length;break;case"</definedName>":s.Ref=Sa(Ha(t.slice(i,l))),a.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],a.CalcPr=u;break;case"<calcPr/>":delete u[0],a.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),th.indexOf(a.xmlns)===-1)throw new Error("Unknown Namespace: "+a.xmlns);return Bq(a),a}function iWe(t){var e=[Un];e[e.length]=nt("workbook",null,{xmlns:th[0],"xmlns:r":yr.r});var a=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(YD.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=nt("workbookPr",null,n);var r=t.Workbook&&t.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!r[s]||!r[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var i={name:Qt(t.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}e[e.length]=nt("sheet",null,i)}return e[e.length]="</sheets>",a&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(e[e.length]=nt("definedName",Qt(o.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function oWe(t,e){var a={};return a.Hidden=t.read_shift(4),a.iTabID=t.read_shift(4),a.strRelID=jE(t),a.name=ms(t),a}function cWe(t,e){return e||(e=Re(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),LD(t.strRelID,e),kr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function lWe(t,e){var a={},n=t.read_shift(4);a.defaultThemeVersion=t.read_shift(4);var r=e>8?ms(t):"";return r.length>0&&(a.CodeName=r),a.autoCompressPictures=!!(n&65536),a.backupFile=!!(n&64),a.checkCompatibility=!!(n&4096),a.date1904=!!(n&1),a.filterPrivacy=!!(n&8),a.hidePivotFieldList=!!(n&1024),a.promptedSolutions=!!(n&16),a.publishItems=!!(n&2048),a.refreshAllConnections=!!(n&262144),a.saveExternalLinkValues=!!(n&128),a.showBorderUnselectedTables=!!(n&4),a.showInkAnnotation=!!(n&32),a.showObjects=["all","placeholders","none"][n>>13&3],a.showPivotChartFilter=!!(n&32768),a.updateLinks=["userSet","never","always"][n>>8&3],a}function uWe(t,e){e||(e=Re(72));var a=0;return t&&(t.date1904&&(a|=1),t.filterPrivacy&&(a|=8)),e.write_shift(4,a),e.write_shift(4,0),LK(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function fWe(t,e){var a={};return t.read_shift(4),a.ArchID=t.read_shift(4),t.l+=e-8,a}function dWe(t,e,a){var n=t.l+e,r=t.read_shift(4);t.l+=1;var s=t.read_shift(4),i=R5e(t),o,c="";try{o=WUe(t,0,a);try{c=x2(t)}catch{}}catch{console.error("Could not parse defined name "+i)}r&32&&(i="_xlnm."+i),t.l=n;var l={Name:i,Ptg:o,Flags:r};return s<268435455&&(l.Sheet=s),c&&(l.Comment=c),l}function hWe(t,e){var a=Re(9),n=0,r=t.Name;BD.indexOf(r)>-1&&(n|=32,r=r.slice(6)),a.write_shift(4,n),a.write_shift(1,0),a.write_shift(4,t.Sheet==null?4294967295:t.Sheet);var s=[a,kr(r),t7e(t.Ref,e)];if(t.Comment)s.push(cy(t.Comment));else{var i=Re(4);i.write_shift(4,4294967295),s.push(i)}return jn(s)}function pWe(t,e){var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],r=!1;e||(e={}),e.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],hy[16]={n:"BrtFRTArchID$",f:fWe},Il(t,function(c,l,u){switch(u){case 156:i.SheetNames.push(c.name),a.Sheets.push(c);break;case 153:a.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=c.Ptg?is(c.Ptg,null,null,i,e):"#REF!",delete e.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([u,c]):i[0]=[u,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),r=!0;break;case 36:n.pop(),r=!1;break;case 37:n.push(u),r=!0;break;case 38:n.pop(),r=!1;break;case 16:break;default:if(!l.T){if(!r||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),Bq(a),a.Names=s,a.supbooks=i,a}function mWe(t,e){je(t,143);for(var a=0;a!=e.SheetNames.length;++a){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[a]&&e.Workbook.Sheets[a].Hidden||0,r={Hidden:n,iTabID:a+1,strRelID:"rId"+(a+1),name:e.SheetNames[a]};je(t,156,cWe(r))}je(t,144)}function gWe(t,e){e||(e=Re(127));for(var a=0;a!=4;++a)e.write_shift(4,0);return kr("SheetJS",e),kr(Ow.version,e),kr(Ow.version,e),kr("7262",e),e.length>e.l?e.slice(0,e.l):e}function yWe(t,e){e||(e=Re(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var a=120;return e.write_shift(1,a),e.length>e.l?e.slice(0,e.l):e}function vWe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var a=e.Workbook.Sheets,n=0,r=-1,s=-1;n<a.length;++n)!a[n]||!a[n].Hidden&&r==-1?r=n:a[n].Hidden==1&&s==-1&&(s=n);s>r||(je(t,135),je(t,158,yWe(r)),je(t,136))}}function xWe(t,e){!e.Workbook||!e.Workbook.Names||e.Workbook.Names.forEach(function(a){try{if(a.Flags&14)return;je(t,39,hWe(a,e))}catch{console.error("Could not serialize defined name "+JSON.stringify(a))}})}function kWe(t){var e=t.SheetNames.length,a=Re(12*e+28);a.write_shift(4,e+2),a.write_shift(4,0),a.write_shift(4,-2),a.write_shift(4,-2),a.write_shift(4,0),a.write_shift(4,-1),a.write_shift(4,-1);for(var n=0;n<e;++n)a.write_shift(4,0),a.write_shift(4,n),a.write_shift(4,n);return a}function wWe(t,e){je(t,353),je(t,357),je(t,362,kWe(e)),je(t,354)}function bWe(t,e){var a=ps();return je(a,131),je(a,128,gWe()),je(a,153,uWe(t.Workbook&&t.Workbook.WBProps||null)),vWe(a,t),mWe(a,t),wWe(a,t),(t.Workbook||{}).Names&&xWe(a,t),je(a,132),a.end()}function _We(t,e,a){return e.slice(-4)===".bin"?pWe(t,a):sWe(t,a)}function AWe(t,e,a,n,r,s,i,o){return e.slice(-4)===".bin"?O9e(t,n,a,r,s,i,o):h7e(t,n,a,r,s,i,o)}function NWe(t,e,a,n,r,s,i,o){return e.slice(-4)===".bin"?Z9e(t,n,a,r,s):X9e(t,n,a,r,s)}function SWe(t,e,a,n,r,s,i,o){return e.slice(-4)===".bin"?xGe():kGe()}function TWe(t,e,a,n,r,s,i,o){return e.slice(-4)===".bin"?yGe():vGe()}function EWe(t,e,a,n){return e.slice(-4)===".bin"?vze(t,a,n):sze(t,a,n)}function CWe(t,e,a){return e.slice(-4)===".bin"?w8e(t,a):y8e(t,a)}function IWe(t,e,a){return e.slice(-4)===".bin"?fGe(t,a):rGe(t,a)}function RWe(t,e,a){return e.slice(-4)===".bin"?Qze(t):Zze(t)}function DWe(t,e,a,n){return a.slice(-4)===".bin"?eGe(t,e,a,n):void 0}function PWe(t,e,a){return e.slice(-4)===".bin"?Kze(t,e,a):Xze(t,e,a)}var Uq=/\b((?:\w+:)?[\w]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Wq=/\b((?:\w+:)?[\w]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function yo(t,e){var a=t.split(/\s+/),n=[];if(n[0]=a[0],a.length===1)return n;var r=t.match(Uq),s,i,o,c;if(r)for(c=0;c!=r.length;++c)s=r[c].match(Wq),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function FWe(t){var e=t.split(/\s+/),a={};if(e.length===1)return a;var n=t.match(Uq),r,s,i,o;if(n)for(o=0;o!=n.length;++o)r=n[o].match(Wq),(s=r[1].indexOf(":"))===-1?a[r[1]]=r[2].slice(1,r[2].length-1):(r[1].slice(0,6)==="xmlns:"?i="xmlns"+r[1].slice(6):i=r[1].slice(s+1),a[i]=r[2].slice(1,r[2].length-1));return a}var vg;function OWe(t,e,a){var n=vg[t]||Sa(t);return n==="General"?Td(e):ei(n,e,{date1904:!!a})}function $We(t,e,a,n){var r=n;switch((a[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":r=Wa(n);break;case"i2":case"int":r=parseInt(n,10);break;case"r4":case"float":r=parseFloat(n);break;case"date":case"dateTime.tz":r=xn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+a[0])}t[Sa(e)]=r}function LWe(t,e,a,n){if(t.t!=="z"){if(!a||a.cellText!==!1)try{t.t==="e"?t.w=t.w||wr[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=sy(t.v):t.w=Td(t.v):t.w=OWe(e||"General",t.v,n)}catch(i){if(a.WTF)throw i}try{var r=vg[e]||e||"General";if(a.cellNF&&(t.z=r),a.cellDates&&t.t=="n"&&vi(r)){var s=sc(t.v+(n?1462:0));s&&(t.t="d",t.v=new Date(Date.UTC(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u)))}}catch(i){if(a.WTF)throw i}}}function MWe(t,e,a){if(a.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=Z8e[n.Pattern]||n.Pattern)}t[e.ID]=e}function BWe(t,e,a,n,r,s,i,o,c,l,u){var d="General",p=n.StyleID,m={};l=l||{};var g=[],x=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&i&&(p=i.StyleID);s[p]!==void 0;){var v=s[p];if(v.nf&&(d=v.nf),v.Interior&&g.push(v.Interior),!v.Parent)break;p=v.Parent}switch(a.Type){case"Boolean":n.t="b",n.v=Wa(t);break;case"String":n.t="s",n.r=f5(Sa(t)),n.v=t.indexOf("<")>-1?Sa(e||t).replace(/<[^<>]*>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=In(xn(t,u),u),n.v!==n.v&&(n.v=Sa(t)),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Or[t],l.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=f5(e||t));break}if(LWe(n,d,l,u),l.cellFormula!==!1)if(n.Formula){var k=Sa(n.Formula);k.charCodeAt(0)==61&&(k=k.slice(1)),n.f=td(k,r),delete n.Formula,n.ArrayRange=="RC"?n.F=td("RC:RC",r):n.ArrayRange&&(n.F=td(n.ArrayRange,r),c.push([wa(n.F),n.F]))}else for(x=0;x<c.length;++x)r.r>=c[x][0].s.r&&r.r<=c[x][0].e.r&&r.c>=c[x][0].s.c&&r.c<=c[x][0].e.c&&(n.F=c[x][1]);l.cellStyles&&(g.forEach(function(b){!m.patternType&&b.patternType&&(m.patternType=b.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function zWe(t){return BD.indexOf("_xlnm."+t)>-1?"_xlnm."+t:t}function GWe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function HS(t,e){var a=e||{};eh();var n=yp(y2(t));(a.type=="binary"||a.type=="array"||a.type=="base64")&&(typeof ta<"u"?n=ta.utils.decode(65001,$w(n)):n=Ha(n));var r=n.slice(0,1024).toLowerCase(),s=!1;if(r=r.replace(/".*?"/g,""),(r.indexOf(">")&1023)>Math.min(r.indexOf(",")&1023,r.indexOf(";")&1023)){var i=za(a);return i.type="string",tm.to_workbook(n,i)}if(r.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ve){r.indexOf("<"+Ve)>=0&&(s=!0)}),s)return gVe(n,a);vg={"General Number":"General","General Date":Ct[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ct[15],"Short Date":Ct[14],"Long Time":Ct[19],"Medium Time":Ct[18],"Short Time":Ct[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ct[2],Standard:Ct[4],Percent:Ct[10],Scientific:Ct[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],l,u={},d=[],p={},m="";a.dense&&(p["!data"]=[]);var g={},x={},v=yo('<Data ss:Type="String">'),k=0,b=0,_=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},C={},E="",R=0,I=[],P={},D={},B=0,U=[],V=[],j={},W=[],Q,q=!1,Z=[],M=[],se={},ue=0,le=0,ie={Sheets:[],WBProps:{date1904:!1}},ye={};Qn.lastIndex=0,n=ov(n,"<!--","-->");for(var ke="";o=Qn.exec(n);)switch(o[3]=(ke=o[3]).toLowerCase()){case"data":if(ke=="data"){if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?BWe(n.slice(k,o.index),E,v,c[c.length-1][0]=="comment"?j:g,{c:b,r:_},S,W[b],x,Z,a,ie.WBProps.date1904):(E="",v=yo(o[0]),k=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(g.c=V),(!a.sheetRows||a.sheetRows>_)&&g.v!==void 0&&(a.dense?(p["!data"][_]||(p["!data"][_]=[]),p["!data"][_][b]=g):p[qt(b)+fa(_)]=g),g.HRef&&(g.l={Target:Sa(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(ue=b+(parseInt(g.MergeAcross,10)|0),le=_+(parseInt(g.MergeDown,10)|0),(ue>b||le>_)&&I.push({s:{c:b,r:_},e:{c:ue,r:le}})),!a.sheetStubs)g.MergeAcross?b=ue+1:++b;else if(g.MergeAcross||g.MergeDown){for(var ge=b;ge<=ue;++ge)for(var G=_;G<=le;++G)(ge>b||G>_)&&(a.dense?(p["!data"][G]||(p["!data"][G]=[]),p["!data"][G][ge]={t:"z"}):p[qt(ge)+fa(G)]={t:"z"});b=ue+1}else++b;else g=FWe(o[0]),g.Index&&(b=+g.Index-1),b<A.s.c&&(A.s.c=b),b>A.e.c&&(A.e.c=b),o[0].slice(-2)==="/>"&&++b,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<A.s.r&&(A.s.r=_),_>A.e.r&&(A.e.r=_),o[0].slice(-2)==="/>"&&(x=yo(o[0]),x.Index&&(_=+x.Index-1)),b=0,++_):(x=yo(o[0]),x.Index&&(_=+x.Index-1),se={},(x.AutoFitHeight=="0"||x.Height)&&(se.hpx=parseInt(x.Height,10),se.hpt=dy(se.hpx),M[_]=se),x.Hidden=="1"&&(se.hidden=!0,M[_]=se));break;case"worksheet":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));d.push(m),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(p["!ref"]=ea(A),a.sheetRows&&a.sheetRows<=A.e.r&&(p["!fullref"]=p["!ref"],A.e.r=a.sheetRows-1,p["!ref"]=ea(A))),I.length&&(p["!merges"]=I),W.length>0&&(p["!cols"]=W),M.length>0&&(p["!rows"]=M),u[m]=p}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,c.push([o[3],!1]),l=yo(o[0]),m=Sa(l.Name),p={},a.dense&&(p["!data"]=[]),I=[],Z=[],M=[],ye={name:m,Hidden:0},ie.Sheets.push(ye);break;case"table":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),W=[],q=!1}break;case"style":o[1]==="/"?MWe(S,C,a):C=yo(o[0]);break;case"numberformat":C.nf=Sa(yo(o[0]).Format||"General"),vg[C.nf]&&(C.nf=vg[C.nf]);for(var te=0;te!=392&&Ct[te]!=C.nf;++te);if(te==392){for(te=57;te!=392;++te)if(Ct[te]==null){gu(C.nf,te);break}}break;case"column":if(c[c.length-1][0]!=="table"||o[1]==="/")break;if(Q=yo(o[0]),Q.Hidden&&(Q.hidden=!0,delete Q.Hidden),Q.Width&&(Q.wpx=parseInt(Q.Width,10)),!q&&Q.wpx>10){q=!0,ls=xq;for(var ee=0;ee<W.length;++ee)W[ee]&&wl(W[ee])}q&&wl(Q),W[Q.Index-1||W.length]=Q;for(var ne=0;ne<+Q.Span;++ne)W[W.length]=za(Q);break;case"namedrange":if(o[1]==="/")break;ie.Names||(ie.Names=[]);var be=gt(o[0]),Y={Name:zWe(be.Name),Ref:td(be.RefersTo.slice(1),{r:0,c:0})};ie.Sheets.length>0&&(Y.Sheet=ie.Sheets.length-1),ie.Names.push(Y);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(R,o.index):R=o.index+o[0].length;break;case"interior":if(!a.cellStyles)break;C.Interior=yo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?tBe(P,ke,n.slice(B,o.index)):B=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));GWe(j),V.push(j)}else c.push([o[3],!1]),l=yo(o[0]),Wa(l.ShowAlways||"0")||(V.hidden=!0),j={a:l.Author};break;case"autofilter":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ae=yo(o[0]);p["!autofilter"]={ref:td(Ae.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return tB(n,a);var Oe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Oe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Oe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":ie.WBProps.date1904=!0;break;case"hidehorizontalscrollbar":break;case"hideverticalscrollbar":break;case"hideworkbooktabs":break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Oe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Oe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(B,o.index)){case"SheetHidden":ye.Hidden=1;break;case"SheetVeryHidden":ye.Hidden=2;break}else B=o.index+o[0].length;break;case"header":p["!margins"]||ad(p["!margins"]={},"xlml"),isNaN(+gt(o[0]).Margin)||(p["!margins"].header=+gt(o[0]).Margin);break;case"footer":p["!margins"]||ad(p["!margins"]={},"xlml"),isNaN(+gt(o[0]).Margin)||(p["!margins"].footer=+gt(o[0]).Margin);break;case"pagemargins":var $e=gt(o[0]);p["!margins"]||ad(p["!margins"]={},"xlml"),isNaN(+$e.Top)||(p["!margins"].top=+$e.Top),isNaN(+$e.Left)||(p["!margins"].left=+$e.Left),isNaN(+$e.Right)||(p["!margins"].right=+$e.Right),isNaN(+$e.Bottom)||(p["!margins"].bottom=+$e.Bottom);break;case"displayrighttoleft":ie.Views||(ie.Views=[]),ie.Views[0]||(ie.Views[0]={}),ie.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Oe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Oe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Oe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Oe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Oe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Oe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Oe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Oe=!1}break;case"smarttags":break;default:Oe=!1;break}if(Oe||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?$We(D,ke,U,n.slice(B,o.index)):(U=o,B=o.index+o[0].length);break}if(a.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var He={};return!a.bookSheets&&!a.bookProps&&(He.Sheets=u),He.SheetNames=d,He.Workbook=ie,He.SSF=za(Ct),He.Props=P,He.Custprops=D,He.bookType="xlml",He}function ZE(t,e){switch(JD(e=e||{}),e.type||"base64"){case"base64":return HS(yi(t),e);case"binary":case"buffer":case"file":return HS(t,e);case"array":return HS(Nc(t),e)}}function Vq(t,e){var a=[];return t.Props&&a.push(aBe(t.Props,e)),t.Custprops&&a.push(nBe(t.Props,t.Custprops)),a.join("")}function jq(t){return(((t||{}).Workbook||{}).WBProps||{}).date1904?'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><Date1904/></ExcelWorkbook>':""}function Hq(t,e){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,r){var s=[];s.push(nt("NumberFormat",null,{"ss:Format":Qt(Ct[n.numFmtId])}));var i={"ss:ID":"s"+(21+r)};a.push(nt("Style",s.join(""),i))}),nt("Styles",a.join(""))}function Kq(t){return nt("NamedRange",null,{"ss:Name":t.Name.slice(0,6)=="_xlnm."?t.Name.slice(6):t.Name,"ss:RefersTo":"="+uv(t.Ref,{r:0,c:0})})}function qq(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,a=[],n=0;n<e.length;++n){var r=e[n];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||a.push(Kq(r)))}return nt("Names",a.join(""))}function Xq(t,e,a,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var r=n.Workbook.Names,s=[],i=0;i<r.length;++i){var o=r[i];o.Sheet==a&&(o.Name.match(/^_xlfn\./)||s.push(Kq(o)))}return s.join("")}function Yq(t,e,a,n){if(!t)return"";var r=[];if(t["!margins"]&&(r.push("<PageSetup>"),t["!margins"].header&&r.push(nt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&r.push(nt("Footer",null,{"x:Margin":t["!margins"].footer})),r.push(nt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),r.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[a])if(n.Workbook.Sheets[a].Hidden)r.push(nt("Visible",n.Workbook.Sheets[a].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<a&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==a&&r.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),t["!protect"]&&(r.push(jr("ProtectContents","True")),t["!protect"].objects&&r.push(jr("ProtectObjects","True")),t["!protect"].scenarios&&r.push(jr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?r.push(jr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&r.push(jr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){t["!protect"][i[0]]&&r.push("<"+i[1]+"/>")})),r.length==0?"":nt("WorksheetOptions",r.join(""),{xmlns:mr.x})}function UWe(t){return t.map(function(e){var a=i5e(e.t||""),n=nt("ss:Data",a,{xmlns:"http://www.w3.org/TR/REC-html40"}),r={};return e.a&&(r["ss:Author"]=e.a),t.hidden||(r["ss:ShowAlways"]="1"),nt("Comment",n,r)}).join("")}function Zq(t,e,a,n,r,s,i){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Qt(uv(t.f,i))),t.F&&t.F.slice(0,e.length)==e){var c=Ka(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Qt(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Qt(t.l.Tooltip))),a["!merges"])for(var l=a["!merges"],u=0;u!=l.length;++u)l[u].s.c!=i.c||l[u].s.r!=i.r||(l[u].e.c>l[u].s.c&&(o["ss:MergeAcross"]=l[u].e.c-l[u].s.c),l[u].e.r>l[u].s.r&&(o["ss:MergeDown"]=l[u].e.r-l[u].s.r));var d="",p="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":isFinite(t.v)?(d="Number",p=String(t.v)):(d="Error",p=wr[isNaN(t.v)?36:7]);break;case"b":d="Boolean",p=t.v?"1":"0";break;case"e":d="Error",p=wr[t.v];break;case"d":d="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ct[14]);break;case"s":d="String",p=s5e(t.v||"");break}var m=Tc(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=i.c+1;var g=t.v!=null?p:"",x=t.t=="z"?"":'<Data ss:Type="'+d+'">'+g+"</Data>";return(t.c||[]).length>0&&(x+=UWe(t.c)),nt("Cell",x,o)}function Jq(t,e){var a='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=nm(e.hpt)),e.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(a+=' ss:Hidden="1"')),a+">"}function WWe(t,e,a,n){if(!t["!ref"])return"";var r=wa(t["!ref"]),s=t["!merges"]||[],i=0,o=[];t["!cols"]&&t["!cols"].forEach(function(v,k){wl(v);var b=!!v.width,_=pv(k,v),A={"ss:Index":k+1};b&&(A["ss:Width"]=am(_.width)),v.hidden&&(A["ss:Hidden"]="1"),o.push(nt("Column",null,A))});for(var c=t["!data"]!=null,l={r:0,c:0},u=r.s.r;u<=r.e.r;++u){var d=[Jq(u,(t["!rows"]||[])[u])];l.r=u;for(var p=r.s.c;p<=r.e.c;++p){l.c=p;var m=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>p)&&!(s[i].s.r>u)&&!(s[i].e.c<p)&&!(s[i].e.r<u)){(s[i].s.c!=p||s[i].s.r!=u)&&(m=!0);break}if(!m){var g=qt(p)+fa(u),x=c?(t["!data"][u]||[])[p]:t[g];d.push(Zq(x,g,t,e,a,n,l))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function VWe(t,e,a){var n=[],r=a.SheetNames[t],s=a.Sheets[r],i=s?Xq(s,e,t,a):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=s?WWe(s,e,t,a):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(Yq(s,e,t,a)),s&&s["!autofilter"]&&n.push('<AutoFilter x:Range="'+uv(Qp(s["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),n.join("")}function jWe(t,e){e||(e={}),t.SSF||(t.SSF=za(Ct)),t.SSF&&(eh(),Dm(t.SSF),e.revssf=iv(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Tc(e.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(Vq(t,e)),a.push(jq(t)),a.push(""),a.push(qq(t));for(var n=0;n<t.SheetNames.length;++n)a.push(nt("Worksheet",VWe(n,e,t),{"ss:Name":Qt(t.SheetNames[n])}));return a[2]=Hq(t,e),Un+nt("Workbook",a.join(""),{xmlns:mr.ss,"xmlns:o":mr.o,"xmlns:x":mr.x,"xmlns:ss":mr.ss,"xmlns:dt":mr.dt,"xmlns:html":mr.html})}function HWe(t){var e={},a=t.content;if(a.l=28,e.AnsiUserType=a.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=$5e(a),a.length-a.l<=4)return e;var n=a.read_shift(4);if(n==0||n>40||(a.l-=4,e.Reserved1=a.read_shift(0,"lpstr-ansi"),a.length-a.l<=4)||(n=a.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=L5e(a),n=a.read_shift(4),n==0||n>40))return e;a.l-=4,e.Reserved2=a.read_shift(0,"lpwstr")}var KWe=[60,1084,2066,2165,2175];function qWe(t,e,a,n,r){var s=n,i=[],o=a.slice(a.l,a.l+s);if(r&&r.enc&&r.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:r.enc.insitu(o)}i.push(o),a.l+=s;for(var c=il(a,a.l),l=JE[c],u=0;l!=null&&KWe.indexOf(c)>-1;)s=il(a,a.l+2),u=a.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),o=a.slice(u,a.l+4+s),i.push(o),a.l+=4+s,l=JE[c=il(a,a.l)];var d=jn(i);hr(d,0);var p=0;d.lens=[];for(var m=0;m<i.length;++m)d.lens.push(p),p+=i[m].length;if(d.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+d.length+" < "+n;return e.f(d,d.length,r)}function Zo(t,e,a){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&t.z==null&&(t.z=Ct[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||wr[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=sy(t.v):t.w=Td(t.v):t.w=ei(n,t.v,{date1904:!!a,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&vi(Ct[n]||String(n))){var r=sc(t.v+(a?1462:0));r&&(t.t="d",t.v=new Date(Date.UTC(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u)))}}}function dk(t,e,a){return{v:t,ixfe:e,t:a}}function XWe(t,e){var a={opts:{}},n={},r={};e.dense&&(r["!data"]=[]);var s={},i={},o=null,c=[],l="",u={},d,p="",m,g,x,v,k={},b=[],_,A,S=[],C=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},I=!1,P=function(it){return it<8?Jf[it]:it<64&&C[it-8]||Jf[it]},D=function(it,jt){var Ht=it.XF.data;if(!(!Ht||!Ht.patternType||!jt||!jt.cellStyles)){it.s={},it.s.patternType=Ht.patternType;var Wt;(Wt=uy(P(Ht.icvFore)))&&(it.s.fgColor={rgb:Wt}),(Wt=uy(P(Ht.icvBack)))&&(it.s.bgColor={rgb:Wt})}},B=function(it,jt,Ht){if(!(!I&&ue>1)&&!(Ht.sheetRows&&it.r>=Ht.sheetRows)){if(Ht.cellStyles&&jt.XF&&jt.XF.data&&D(jt,Ht),delete jt.ixfe,delete jt.XF,d=it,p=ua(it),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),it.r<i.s.r&&(i.s.r=it.r),it.c<i.s.c&&(i.s.c=it.c),it.r+1>i.e.r&&(i.e.r=it.r+1),it.c+1>i.e.c&&(i.e.c=it.c+1),Ht.cellFormula&&jt.f){for(var Wt=0;Wt<b.length;++Wt)if(!(b[Wt][0].s.c>it.c||b[Wt][0].s.r>it.r)&&!(b[Wt][0].e.c<it.c||b[Wt][0].e.r<it.r)){jt.F=ea(b[Wt][0]),(b[Wt][0].s.c!=it.c||b[Wt][0].s.r!=it.r)&&delete jt.f,jt.f&&(jt.f=""+is(b[Wt][1],i,it,M,U));break}}Ht.dense?(r["!data"][it.r]||(r["!data"][it.r]=[]),r["!data"][it.r][it.c]=jt):r[p]=jt}},U={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(U.password=e.password);var V,j=[],W=[],Q=[],q=[],Z=!1,M=[];M.SheetNames=U.snames,M.sharedf=U.sharedf,M.arrayf=U.arrayf,M.names=[],M.XTI=[];var se=0,ue=0,le=0,ie=[],ye=[],ke;U.codepage=1200,Yi(1200);for(var ge=!1;t.l<t.length-1;){var G=t.l,te=t.read_shift(2);if(te===0&&se===10)break;var ee=t.l===t.length?0:t.read_shift(2),ne=JE[te];if(ue==0&&[9,521,1033,2057].indexOf(te)==-1)break;if(ne&&ne.f){if(e.bookSheets&&se===133&&te!==133)break;if(se=te,ne.r===2||ne.r==12){var be=t.read_shift(2);if(ee-=2,!U.enc&&be!==te&&((be&255)<<8|be>>8)!==te)throw new Error("rt mismatch: "+be+"!="+te);ne.r==12&&(t.l+=10,ee-=10)}var Y={};if(te===10?Y=ne.f(t,ee,U):Y=qWe(te,ne,t,ee,U),ue==0&&[9,521,1033,2057].indexOf(se)===-1)continue;switch(te){case 34:a.opts.Date1904=E.WBProps.date1904=Y;break;case 134:a.opts.WriteProtect=!0;break;case 47:if(U.enc||(t.l=0),U.enc=Y,!e.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=Y;break;case 66:var Ae=Number(Y);switch(Ae){case 21010:Ae=1200;break;case 32768:Ae=1e4;break;case 32769:Ae=1252;break}Yi(U.codepage=Ae),ge=!0;break;case 317:U.rrtabid=Y;break;case 25:U.winlocked=Y;break;case 439:a.opts.RefreshAll=Y;break;case 12:a.opts.CalcCount=Y;break;case 16:a.opts.CalcDelta=Y;break;case 17:a.opts.CalcIter=Y;break;case 13:a.opts.CalcMode=Y;break;case 14:a.opts.CalcPrecision=Y;break;case 95:a.opts.CalcSaveRecalc=Y;break;case 15:U.CalcRefMode=Y;break;case 2211:a.opts.FullCalc=Y;break;case 129:Y.fDialog&&(r["!type"]="dialog"),Y.fBelow||((r["!outline"]||(r["!outline"]={})).above=!0),Y.fRight||((r["!outline"]||(r["!outline"]={})).left=!0);break;case 67:case 579:case 1091:case 224:S.push(Y);break;case 430:M.push([Y]),M[M.length-1].XTI=[];break;case 35:case 547:M[M.length-1].push(Y);break;case 24:case 536:ke={Name:Y.Name,Ref:is(Y.rgce,i,null,M,U)},Y.itab>0&&(ke.Sheet=Y.itab-1),M.names.push(ke),M[0]||(M[0]=[],M[0].XTI=[]),M[M.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(ye[Y.itab-1]={ref:ea(Y.rgce[0][0][1][2])});break;case 22:U.ExternCount=Y;break;case 23:M.length==0&&(M[0]=[],M[0].XTI=[]),M[M.length-1].XTI=M[M.length-1].XTI.concat(Y),M.XTI=M.XTI.concat(Y);break;case 2196:if(U.biff<8)break;ke!=null&&(ke.Comment=Y[1]);break;case 18:r["!protect"]=Y;break;case 19:Y!==0&&U.WTF&&console.error("Password verifier: "+Y);break;case 133:s[U.biff==4?U.snames.length:Y.pos]=Y,U.snames.push(Y.name);break;case 10:{if(--ue?!I:I)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,r["!ref"]=ea(i),e.sheetRows&&e.sheetRows<=i.e.r){var Oe=i.e.r;i.e.r=e.sheetRows-1,r["!fullref"]=r["!ref"],r["!ref"]=ea(i),i.e.r=Oe}i.e.r++,i.e.c++}j.length>0&&(r["!merges"]=j),W.length>0&&(r["!objects"]=W),Q.length>0&&(r["!cols"]=Q),q.length>0&&(r["!rows"]=q),E.Sheets.push(R)}l===""?u=r:n[l]=r,r={},e.dense&&(r["!data"]=[])}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[te]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),U.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(U.biff=5,ge=!0,Yi(U.codepage=28591)),U.biff==4&&Y.dt&256&&(I=!0),U.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(U.biff=2),ue++&&!I)break;if(r={},e.dense&&(r["!data"]=[]),U.biff<8&&!ge&&(ge=!0,Yi(U.codepage=e.codepage||1252)),U.biff==4&&I)l=(s[U.snames.indexOf(l)+1]||{name:""}).name;else if(U.biff<5||Y.BIFFVer==0&&Y.dt==4096){l===""&&(l="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var $e={pos:t.l-ee,name:l};s[$e.pos]=$e,U.snames.push(l)}else l=(s[G]||{name:""}).name;Y.dt==32&&(r["!type"]="chart"),Y.dt==64&&(r["!type"]="macro"),j=[],W=[],U.arrayf=b=[],Q=[],q=[],Z=!1,R={Hidden:(s[G]||{hs:0}).hs,name:l}}break;case 515:case 3:case 2:r["!type"]=="chart"&&(e.dense?(r["!data"][Y.r]||[])[Y.c]:r[qt(Y.c)+fa(Y.r)])&&++Y.c,_={ixfe:Y.ixfe,XF:S[Y.ixfe]||{},v:Y.val,t:"n"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 5:case 517:_={ixfe:Y.ixfe,XF:S[Y.ixfe],v:Y.val,t:Y.t},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 638:_={ixfe:Y.ixfe,XF:S[Y.ixfe],v:Y.rknum,t:"n"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 189:for(var He=Y.c;He<=Y.C;++He){var Ve=Y.rkrec[He-Y.c][0];_={ixfe:Ve,XF:S[Ve],v:Y.rkrec[He-Y.c][1],t:"n"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B({c:He,r:Y.r},_,e)}break;case 6:case 518:case 1030:{if(Y.val=="String"){o=Y;break}if(_=dk(Y.val,Y.cell.ixfe,Y.tt),_.XF=S[_.ixfe],e.cellFormula){var tt=Y.formula;if(tt&&tt[0]&&tt[0][0]&&tt[0][0][0]=="PtgExp"){var lt=tt[0][0][1][0],Mt=tt[0][0][1][1],Ft=ua({r:lt,c:Mt});k[Ft]?_.f=""+is(Y.formula,i,Y.cell,M,U):_.F=((e.dense?(r["!data"][lt]||[])[Mt]:r[Ft])||{}).F}else _.f=""+is(Y.formula,i,Y.cell,M,U)}le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B(Y.cell,_,e),o=Y}break;case 7:case 519:if(o)o.val=Y,_=dk(Y,o.cell.ixfe,"s"),_.XF=S[_.ixfe],e.cellFormula&&(_.f=""+is(o.formula,i,o.cell,M,U)),le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B(o.cell,_,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(Y);var st=ua(Y[0].s);if(m=e.dense?(r["!data"][Y[0].s.r]||[])[Y[0].s.c]:r[st],e.cellFormula&&m){if(!o||!st||!m)break;m.f=""+is(Y[1],i,Y[0],M,U),m.F=ea(Y[0])}}break;case 1212:{if(!e.cellFormula)break;if(p){if(!o)break;k[ua(o.cell)]=Y[0],m=e.dense?(r["!data"][o.cell.r]||[])[o.cell.c]:r[ua(o.cell)],(m||{}).f=""+is(Y[0],i,d,M,U)}}break;case 253:_=dk(c[Y.isst].t,Y.ixfe,"s"),c[Y.isst].h&&(_.h=c[Y.isst].h),_.XF=S[_.ixfe],le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 513:e.sheetStubs&&(_={ixfe:Y.ixfe,XF:S[Y.ixfe],t:"z"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B({c:Y.c,r:Y.r},_,e));break;case 190:if(e.sheetStubs)for(var Be=Y.c;Be<=Y.C;++Be){var Fe=Y.ixfe[Be-Y.c];_={ixfe:Fe,XF:S[Fe],t:"z"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B({c:Be,r:Y.r},_,e)}break;case 214:case 516:case 4:_=dk(Y.val,Y.ixfe,"s"),_.XF=S[_.ixfe],le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Zo(_,e,a.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 0:case 512:ue===1&&(i=Y);break;case 252:c=Y;break;case 1054:if(U.biff>=3&&U.biff<=4){ie[le++]=Y[1];for(var It=0;It<le+163&&Ct[It]!=Y[1];++It);It>=163&&gu(Y[1],le+163)}else gu(Y[1],Y[0]);break;case 30:{ie[le++]=Y;for(var Lt=0;Lt<le+163&&Ct[Lt]!=Y;++Lt);Lt>=163&&gu(Y,le+163)}break;case 229:j=j.concat(Y);break;case 93:W[Y.cmo[0]]=U.lastobj=Y;break;case 438:U.lastobj.TxO=Y;break;case 127:U.lastobj.ImData=Y;break;case 440:for(v=Y[0].s.r;v<=Y[0].e.r;++v)for(x=Y[0].s.c;x<=Y[0].e.c;++x)m=e.dense?(r["!data"][v]||[])[x]:r[ua({c:x,r:v})],m&&(m.l=Y[1]);break;case 2048:for(v=Y[0].s.r;v<=Y[0].e.r;++v)for(x=Y[0].s.c;x<=Y[0].e.c;++x)m=e.dense?(r["!data"][v]||[])[x]:r[ua({c:x,r:v})],m&&m.l&&(m.l.Tooltip=Y[1]);break;case 28:{if(m=e.dense?(r["!data"][Y[0].r]||[])[Y[0].c]:r[ua(Y[0])],m||(e.dense?(r["!data"][Y[0].r]||(r["!data"][Y[0].r]=[]),m=r["!data"][Y[0].r][Y[0].c]={t:"z"}):m=r[ua(Y[0])]={t:"z"},i.e.r=Math.max(i.e.r,Y[0].r),i.s.r=Math.min(i.s.r,Y[0].r),i.e.c=Math.max(i.e.c,Y[0].c),i.s.c=Math.min(i.s.c,Y[0].c)),m.c||(m.c=[]),U.biff<=5&&U.biff>=2)g={a:"SheetJ5",t:Y[1]};else{var Rt=W[Y[2]];g={a:Y[1],t:Rt.TxO.t},Y[3]!=null&&!(Y[3]&2)&&(m.c.hidden=!0)}m.c.push(g)}break;case 2173:Bze(S[Y.ixfe],Y.ext);break;case 125:{if(!U.cellStyles)break;for(;Y.e>=Y.s;)Q[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},Z||(Z=!0,jD(Y.w/256)),wl(Q[Y.e+1])}break;case 520:{var $a={};Y.level!=null&&(q[Y.r]=$a,$a.level=Y.level),Y.hidden&&(q[Y.r]=$a,$a.hidden=!0),Y.hpt&&(q[Y.r]=$a,$a.hpt=Y.hpt,$a.hpx=nm(Y.hpt))}break;case 38:case 39:case 40:case 41:r["!margins"]||ad(r["!margins"]={}),r["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[te]]=Y;break;case 161:r["!margins"]||ad(r["!margins"]={}),r["!margins"].header=Y.header,r["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(E.Views[0].RTL=!0);break;case 146:C=Y;break;case 2198:V=Y;break;case 140:A=Y;break;case 442:l?R.CodeName=Y||R.name:E.WBProps.CodeName=Y||"ThisWorkbook";break}}else ne||console.error("Missing Info for XLS Record 0x"+te.toString(16)),t.l+=ee}return a.SheetNames=hn(s).sort(function(La,it){return Number(La)-Number(it)}).map(function(La){return s[La].name}),e.bookSheets||(a.Sheets=n),!a.SheetNames.length&&u["!ref"]?(a.SheetNames.push("Sheet1"),a.Sheets&&(a.Sheets.Sheet1=u)):a.Preamble=u,a.Sheets&&ye.forEach(function(La,it){a.Sheets[a.SheetNames[it]]["!autofilter"]=La}),a.Strings=c,a.SSF=za(Ct),U.enc&&(a.Encryption=U.enc),V&&(a.Themes=V),a.Metadata={},A!==void 0&&(a.Metadata.Country=A),M.names.length>0&&(E.Names=M.names),a.Workbook=E,a}var xg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function YWe(t,e,a){var n=$t.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var r=C5(n,HE,xg.DSI);for(var s in r)e[s]=r[s]}catch(l){if(a.WTF)throw l}var i=$t.find(t,"/!SummaryInformation");if(i&&i.size>0)try{var o=C5(i,KE,xg.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(l){if(a.WTF)throw l}e.HeadingPairs&&e.TitlesOfParts&&(KK(e.HeadingPairs,e.TitlesOfParts,e,a),delete e.HeadingPairs,delete e.TitlesOfParts)}function ZWe(t,e){var a=[],n=[],r=[],s=0,i,o=o5(HE,"n"),c=o5(KE,"n");if(t.Props)for(i=hn(t.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(o,i[s])?a:Object.prototype.hasOwnProperty.call(c,i[s])?n:r).push([i[s],t.Props[i[s]]]);if(t.Custprops)for(i=hn(t.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(o,i[s])?a:Object.prototype.hasOwnProperty.call(c,i[s])?n:r).push([i[s],t.Custprops[i[s]]]);var l=[];for(s=0;s<r.length;++s)JK.indexOf(r[s][0])>-1||HK.indexOf(r[s][0])>-1||r[s][1]!=null&&l.push(r[s]);n.length&&$t.utils.cfb_add(e,"/SummaryInformation",I5(n,xg.SI,c,KE)),(a.length||l.length)&&$t.utils.cfb_add(e,"/DocumentSummaryInformation",I5(a,xg.DSI,o,HE,l.length?l:null,xg.UDI))}function ZD(t,e){e||(e={}),JD(e),p2(),e.codepage&&h2(e.codepage);var a,n;if(t.FullPaths){if($t.find(t,"/encryption"))throw new Error("File is password-protected");a=$t.find(t,"!CompObj"),n=$t.find(t,"/Workbook")||$t.find(t,"/Book")}else{switch(e.type){case"base64":t=Es(yi(t));break;case"binary":t=Es(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}hr(t,0),n={content:t}}var r,s;if(a&&HWe(a),e.bookProps&&!e.bookSheets)r={};else{var i=oa?"buffer":"array";if(n&&n.content)r=XWe(n.content,e);else if((s=$t.find(t,"PerfectOffice_MAIN"))&&s.content)r=ed.to_workbook(s.content,(e.type=i,e));else if((s=$t.find(t,"NativeContent_MAIN"))&&s.content)r=ed.to_workbook(s.content,(e.type=i,e));else throw(s=$t.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&$t.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(r.vbaraw=pGe(t))}var o={};return t.FullPaths&&YWe(t,o,e),r.Props=r.Custprops=o,e.bookFiles&&(r.cfb=t),r}function JWe(t,e){var a=e||{},n=$t.utils.cfb_new({root:"R"}),r="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":r="/Workbook",a.biff=8;break;case"biff5":r="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return $t.utils.cfb_add(n,r,eX(t,a)),a.biff==8&&(t.Props||t.Custprops)&&ZWe(t,n),a.biff==8&&t.vbaraw&&mGe(n,$t.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var hy={0:{f:F7e},1:{f:U7e},2:{f:s9e},3:{f:Y7e},4:{f:H7e},5:{f:a9e},6:{f:u9e},7:{f:J7e},8:{f:y9e},9:{f:g9e},10:{f:p9e},11:{f:m9e},12:{f:V7e},13:{f:o9e},14:{f:Z7e},15:{f:q7e},16:{f:Lq},17:{f:d9e},18:{f:e9e},19:{f:$D},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:dWe},40:{},42:{},43:{f:lze},44:{f:oze},45:{f:dze},46:{f:pze},47:{f:hze},48:{},49:{f:A5e},50:{},51:{f:Uze},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:fq},62:{f:l9e},63:{f:Jze},64:{f:P9e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:vs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:C9e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:z7e},148:{f:L7e,p:16},151:{f:_9e},152:{},153:{f:lWe},154:{},155:{},156:{f:oWe},157:{},158:{},159:{T:1,f:k8e},160:{T:-1},161:{T:1,f:sh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:v9e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:zze},336:{T:-1},337:{f:jze,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:jE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:A9e},427:{f:N9e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:T9e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:B7e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:w9e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:jE},551:{f:x2},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uGe},633:{T:1},634:{T:-1},635:{T:1,f:cGe},636:{T:-1},637:{f:E5e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Y9e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:F9e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},JE={6:{f:US},10:{f:tu},12:{f:On},13:{f:On},14:{f:Vn},15:{f:Vn},16:{f:fs},17:{f:Vn},18:{f:Vn},19:{f:On},20:{f:O5},21:{f:O5},23:{f:uq},24:{f:L5},25:{f:Vn},26:{},27:{},28:{f:E6e},29:{},34:{f:Vn},35:{f:$5},38:{f:fs},39:{f:fs},40:{f:fs},41:{f:fs},42:{f:Vn},43:{f:Vn},47:{f:G8e},49:{f:YBe},51:{f:On},60:{},61:{f:jBe},64:{f:Vn},65:{f:XBe},66:{f:On},77:{},80:{},81:{},82:{},85:{f:On},89:{},90:{},91:{},92:{f:FBe},93:{f:R6e},94:{},95:{f:Vn},96:{},97:{},99:{f:Vn},125:{f:fq},128:{f:v6e},129:{f:$Be},130:{f:On},131:{f:Vn},132:{f:Vn},133:{f:LBe},134:{},140:{f:B6e},141:{f:On},144:{},146:{f:U6e},151:{},152:{},153:{},154:{},155:{},156:{f:On},157:{},158:{},160:{f:X6e},161:{f:j6e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:l6e},190:{f:u6e},193:{f:tu},197:{},198:{},199:{},200:{},201:{},202:{f:Vn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:On},220:{},221:{f:Vn},222:{},224:{f:d6e},225:{f:PBe},226:{f:tu},227:{},229:{f:C6e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:BBe},253:{f:JBe},255:{f:GBe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:QK},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Vn},353:{f:tu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:_6e},431:{f:Vn},432:{},433:{},434:{},437:{},438:{f:F6e},439:{f:Vn},440:{f:O6e},441:{},442:{f:cv},443:{},444:{f:On},445:{},446:{},448:{f:tu},449:{f:VBe,r:2},450:{f:tu},512:{f:P5},513:{f:q6e},515:{f:w6e},516:{f:e6e},517:{f:k6e},519:{f:Y6e},520:{f:UBe},523:{},545:{f:B5},549:{f:D5},566:{},574:{f:KBe},638:{f:c6e},659:{},1048:{},1054:{f:a6e},1084:{},1212:{f:N6e},2048:{f:L6e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ck},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:tu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:W6e,r:12},2173:{f:Mze,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Vn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:A6e,r:12},2197:{},2198:{f:Dze,r:12},2199:{},2200:{},2201:{},2202:{f:S6e,r:12},2203:{f:tu},2204:{},2205:{},2206:{},2207:{},2211:{f:WBe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:On},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:H6e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:G6e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:P5},1:{},2:{f:t8e},3:{f:Q6e},4:{f:J6e},5:{f:r8e},7:{f:n8e},8:{},9:{f:ck},11:{},22:{f:On},30:{f:r6e},31:{},32:{},33:{f:B5},36:{},37:{f:D5},50:{f:s8e},62:{},52:{},67:{f:h6e},68:{f:On},69:{},86:{},126:{},127:{f:Z6e},135:{},136:{},137:{},143:{f:o8e},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:i8e},223:{},234:{},354:{},421:{},518:{f:US},521:{f:ck},536:{f:L5},547:{f:$5},561:{},579:{f:g6e},1030:{f:US},1033:{f:ck},1091:{f:y6e},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},101:{},102:{},105:{},106:{},107:{},109:{},112:{},114:{},29282:{}};function Xe(t,e,a,n){var r=e;if(!isNaN(r)){var s=n||(a||[]).length||0,i=t.next(4);i.write_shift(2,r),i.write_shift(2,s),s>0&&PD(a)&&t.push(a)}}function QWe(t,e,a,n){var r=(a||[]).length||0;if(r<=8224)return Xe(t,e,a,r);var s=e;if(!isNaN(s)){for(var i=a.parts||[],o=0,c=0,l=0;l+(i[o]||8224)<=8224;)l+=i[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,l),t.push(a.slice(c,c+l)),c+=l;c<r;){for(u=t.next(4),u.write_shift(2,60),l=0;l+(i[o]||8224)<=8224;)l+=i[o]||8224,o++;u.write_shift(2,l),t.push(a.slice(c,c+l)),c+=l}}}function KS(t,e,a,n){var r=Re(9);return lv(r,t,e),tq(a,n||"b",r),r}function eVe(t,e,a){var n=Re(8+2*a.length);return lv(n,t,e),n.write_shift(1,a.length),n.write_shift(a.length,a,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Qq(t,e){e.forEach(function(a){var n=a[0].map(function(s){return s.t}).join("");if(n.length<=2048)return Xe(t,28,BS(n,a[1],a[2]));Xe(t,28,BS(n.slice(0,2048),a[1],a[2],n.length));for(var r=2048;r<n.length;r+=2048)Xe(t,28,BS(n.slice(r,Math.min(r+2048,n.length)),-1,-1,Math.min(2048,n.length-r)))})}function tVe(t,e,a,n,r,s){var i=0;e.z!=null&&(i=r._BIFF2FmtTable.indexOf(e.z),i==-1&&(r._BIFF2FmtTable.push(e.z),i=r._BIFF2FmtTable.length-1));var o=0;if(e.z!=null){for(;o<r.cellXfs.length&&r.cellXfs[o].numFmtId!=i;++o);o==r.cellXfs.length&&r.cellXfs.push({numFmtId:i})}if(e.v!=null)switch(e.t){case"d":case"n":var c=e.t=="d"?In(xn(e.v,s),s):e.v;r.biff==2&&c==(c|0)&&c>=0&&c<65536?Xe(t,2,a8e(a,n,c,o,i)):isNaN(c)?Xe(t,5,KS(a,n,36,"e")):isFinite(c)?Xe(t,3,e8e(a,n,c,o,i)):Xe(t,5,KS(a,n,7,"e"));return;case"b":case"e":Xe(t,5,KS(a,n,e.v,e.t));return;case"s":case"str":Xe(t,4,eVe(a,n,e.v==null?"":String(e.v).slice(0,255)));return}Xe(t,1,lv(null,a,n))}function aVe(t,e,a,n,r){var s=e["!data"]!=null,i=wa(e["!ref"]||"A1"),o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.r,16383)}for(var l=(((r||{}).Workbook||{}).WBProps||{}).date1904,u=[],d=[],p=i.s.c;p<=i.e.c;++p)c[p]=qt(p);for(var m=i.s.r;m<=i.e.r;++m)for(s&&(u=e["!data"][m]||[]),o=fa(m),p=i.s.c;p<=i.e.c;++p){var g=s?u[p]:e[c[p]+o];g&&(tVe(t,g,m,p,n,l),g.c&&d.push([g.c,m,p]))}Qq(t,d)}function nVe(t,e){for(var a=e||{},n=ps(),r=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==a.sheet&&(r=s);if(r==0&&a.sheet&&t.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);Xe(n,a.biff==4?1033:a.biff==3?521:9,UD(t,16,a)),((t.Workbook||{}).WBProps||{}).date1904&&Xe(n,34,ns(!0)),a.cellXfs=[{numFmtId:0}],a._BIFF2FmtTable=["General"],a._Fonts=[];var i=ps();return aVe(i,t.Sheets[t.SheetNames[r]],r,a,t),a._BIFF2FmtTable.forEach(function(o){a.biff<=3?Xe(n,30,s6e(o)):Xe(n,1054,i6e(o))}),a.cellXfs.forEach(function(o){switch(a.biff){case 2:Xe(n,67,p6e(o));break;case 3:Xe(n,579,lq(o));break;case 4:Xe(n,1091,m6e(o));break}}),delete a._BIFF2FmtTable,delete a.cellXfs,delete a._Fonts,n.push(i.end()),Xe(n,10),n.end()}var xo=1,Gi=[];function rVe(){var t=Re(82+8*Gi.length);t.write_shift(2,15),t.write_shift(2,61440),t.write_shift(4,74+8*Gi.length);{t.write_shift(2,0),t.write_shift(2,61446),t.write_shift(4,16+8*Gi.length);{t.write_shift(4,xo),t.write_shift(4,Gi.length+1);for(var e=0,a=0;a<Gi.length;++a)e+=Gi[a]&&Gi[a][1]||0;t.write_shift(4,e),t.write_shift(4,Gi.length)}Gi.forEach(function(n){t.write_shift(4,n[0]),t.write_shift(4,n[2])})}return t.write_shift(2,51),t.write_shift(2,61451),t.write_shift(4,18),t.write_shift(2,191),t.write_shift(4,524296),t.write_shift(2,385),t.write_shift(4,134217793),t.write_shift(2,448),t.write_shift(4,134217792),t.write_shift(2,64),t.write_shift(2,61726),t.write_shift(4,16),t.write_shift(4,134217741),t.write_shift(4,134217740),t.write_shift(4,134217751),t.write_shift(4,268435703),t}function sVe(t,e){var a=[],n=0,r=ps(),s=xo,i;e.forEach(function(c,l){var u="",d=c[0].map(function(_){return _.a&&!u&&(u=_.a),_.t}).join("");++xo;{var p=Re(150);p.write_shift(2,15),p.write_shift(2,61444),p.write_shift(4,150),p.write_shift(2,3234),p.write_shift(2,61450),p.write_shift(4,8),p.write_shift(4,xo),p.write_shift(4,2560),p.write_shift(2,227),p.write_shift(2,61451),p.write_shift(4,84),p.write_shift(2,128),p.write_shift(4,0),p.write_shift(2,139),p.write_shift(4,2),p.write_shift(2,191),p.write_shift(4,524296),p.write_shift(2,344),p.l+=4,p.write_shift(2,385),p.write_shift(4,134217808),p.write_shift(2,387),p.write_shift(4,134217808),p.write_shift(2,389),p.write_shift(4,268435700),p.write_shift(2,447),p.write_shift(4,1048592),p.write_shift(2,448),p.write_shift(4,134217809),p.write_shift(2,451),p.write_shift(4,268435700),p.write_shift(2,513),p.write_shift(4,134217809),p.write_shift(2,515),p.write_shift(4,268435700),p.write_shift(2,575),p.write_shift(4,196609),p.write_shift(2,959),p.write_shift(4,131072|(c[0].hidden?2:0)),p.l+=2,p.write_shift(2,61456),p.write_shift(4,18),p.write_shift(2,3),p.write_shift(2,c[2]+2),p.l+=2,p.write_shift(2,c[1]+1),p.l+=2,p.write_shift(2,c[2]+4),p.l+=2,p.write_shift(2,c[1]+5),p.l+=2,p.l+=2,p.write_shift(2,61457),p.l+=4,p.l=150,l==0?i=p:Xe(r,236,p)}n+=150;{var m=Re(52);m.write_shift(2,21),m.write_shift(2,18),m.write_shift(2,25),m.write_shift(2,xo),m.write_shift(2,0),m.l=22,m.write_shift(2,13),m.write_shift(2,22),m.write_shift(4,1651663474),m.write_shift(4,2503426821),m.write_shift(4,2150634280),m.write_shift(4,1768515844+xo*256),m.write_shift(2,0),m.write_shift(4,0),m.l+=4,Xe(r,93,m)}{var g=Re(8);g.l+=2,g.write_shift(2,61453),g.l+=4,Xe(r,236,g)}n+=8;{var x=Re(18);x.write_shift(2,18),x.l+=8,x.write_shift(2,d.length),x.write_shift(2,16),x.l+=4,Xe(r,438,x);{var v=Re(1+d.length);v.write_shift(1,0),v.write_shift(d.length,d,"sbcs"),Xe(r,60,v)}{var k=Re(16);k.l+=8,k.write_shift(2,d.length),k.l+=6,Xe(r,60,k)}}{var b=Re(12+u.length);b.write_shift(2,c[1]),b.write_shift(2,c[2]),b.write_shift(2,0|(c[0].hidden?0:2)),b.write_shift(2,xo),b.write_shift(2,u.length),b.write_shift(1,0),b.write_shift(u.length,u,"sbcs"),b.l++,a.push(b)}});{var o=Re(80);o.write_shift(2,15),o.write_shift(2,61442),o.write_shift(4,n+o.length-8),o.write_shift(2,16),o.write_shift(2,61448),o.write_shift(4,8),o.write_shift(4,e.length+1),o.write_shift(4,xo),o.write_shift(2,15),o.write_shift(2,61443),o.write_shift(4,n+48),o.write_shift(2,15),o.write_shift(2,61444),o.write_shift(4,40),o.write_shift(2,1),o.write_shift(2,61449),o.write_shift(4,16),o.l+=16,o.write_shift(2,2),o.write_shift(2,61450),o.write_shift(4,8),o.write_shift(4,s),o.write_shift(4,5),Xe(t,236,i?jn([o,i]):o)}t.push(r.end()),a.forEach(function(c){Xe(t,28,c)}),Gi.push([s,e.length+1,xo]),++xo}function iVe(t,e,a){Xe(t,49,ZBe({sz:12,name:"Arial"},a))}function oVe(t,e,a){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&Xe(t,1054,n6e(r,e[r],a))})}function cVe(t,e){var a=Re(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),Xe(t,2151,a),a=Re(39),a.write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),iq(wa(e["!ref"]||"A1"),a),a.write_shift(4,4),Xe(t,2152,a)}function lVe(t,e){for(var a=0;a<16;++a)Xe(t,224,F5({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Xe(t,224,F5(n,0,e))})}function uVe(t,e){for(var a=0;a<e["!links"].length;++a){var n=e["!links"][a];Xe(t,440,$6e(n)),n[1].Tooltip&&Xe(t,2048,M6e(n))}delete e["!links"]}function fVe(t,e){if(e){var a=0;e.forEach(function(n,r){++a<=256&&n&&Xe(t,125,V6e(pv(r,n),r))})}}function dVe(t,e,a,n,r,s){var i=16+Tc(r.cellXfs,e,r);if(e.v==null&&!e.bf){Xe(t,513,Pd(a,n,i));return}if(e.bf)Xe(t,6,GUe(e,a,n,r,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?In(xn(e.v,s),s):e.v;isNaN(o)?Xe(t,517,MS(a,n,36,i,r,"e")):isFinite(o)?Xe(t,515,b6e(a,n,o,i)):Xe(t,517,MS(a,n,7,i,r,"e"));break;case"b":case"e":Xe(t,517,MS(a,n,e.v,i,r,e.t));break;case"s":case"str":if(r.bookSST){var c=qD(r.Strings,e.v==null?"":String(e.v),r.revStrings);Xe(t,253,QBe(a,n,c,i))}else Xe(t,516,t6e(a,n,(e.v==null?"":String(e.v)).slice(0,255),i,r));break;default:Xe(t,513,Pd(a,n,i))}}function hVe(t,e,a){var n=ps(),r=a.SheetNames[t],s=a.Sheets[r]||{},i=(a||{}).Workbook||{},o=(i.Sheets||[])[t]||{},c=s["!data"]!=null,l=e.biff==8,u="",d=[],p=wa(s["!ref"]||"A1"),m=l?65536:16384;if(p.e.c>255||p.e.r>=m){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV"+m);p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.r,m-1)}Xe(n,2057,UD(a,16,e)),Xe(n,13,Vi(1)),Xe(n,12,Vi(100)),Xe(n,15,ns(!0)),Xe(n,17,ns(!1)),Xe(n,16,Rd(.001)),Xe(n,95,ns(!0)),Xe(n,42,ns(!1)),Xe(n,43,ns(!1)),Xe(n,130,Vi(1)),Xe(n,128,x6e()),Xe(n,131,ns(!1)),Xe(n,132,ns(!1)),l&&fVe(n,s["!cols"]),Xe(n,512,o6e(p,e));var g=(((a||{}).Workbook||{}).WBProps||{}).date1904;l&&(s["!links"]=[]);for(var x=p.s.c;x<=p.e.c;++x)d[x]=qt(x);for(var v=[],k=[],b=p.s.r;b<=p.e.r;++b)for(c&&(k=s["!data"][b]||[]),u=fa(b),x=p.s.c;x<=p.e.c;++x){var _=c?k[x]:s[d[x]+u];_&&(dVe(n,_,b,x,e,g),l&&_.l&&s["!links"].push([d[x]+u,_.l]),_.c&&v.push([_.c,b,x]))}var A=o.CodeName||o.name||r;return l?sVe(n,v):Qq(n,v),l&&Xe(n,574,qBe((i.Views||[])[0])),l&&(s["!merges"]||[]).length&&Xe(n,229,I6e(s["!merges"])),l&&uVe(n,s),Xe(n,442,aq(A)),l&&cVe(n,s),Xe(n,10),n.end()}function pVe(t,e,a){var n=ps(),r=(t||{}).Workbook||{},s=r.Sheets||[],i=r.WBProps||{},o=a.biff==8,c=a.biff==5;if(Xe(n,2057,UD(t,5,a)),a.bookType=="xla"&&Xe(n,135),Xe(n,225,o?Vi(1200):null),Xe(n,193,pBe(2)),c&&Xe(n,191),c&&Xe(n,192),Xe(n,226),Xe(n,92,OBe("SheetJS",a)),Xe(n,66,Vi(o?1200:1252)),o&&Xe(n,353,Vi(0)),o&&Xe(n,448),Xe(n,317,K6e(t.SheetNames.length)),o&&t.vbaraw&&Xe(n,211),o&&t.vbaraw){var l=i.CodeName||"ThisWorkbook";Xe(n,442,aq(l))}Xe(n,156,Vi(17)),Xe(n,25,ns(!1)),Xe(n,18,ns(!1)),Xe(n,19,Vi(0)),o&&Xe(n,431,ns(!1)),o&&Xe(n,444,Vi(0)),Xe(n,61,HBe()),Xe(n,64,ns(!1)),Xe(n,141,Vi(0)),Xe(n,34,ns(tWe(t)=="true")),Xe(n,14,ns(!0)),o&&Xe(n,439,ns(!1)),Xe(n,218,Vi(0)),iVe(n,t,a),oVe(n,t.SSF,a),lVe(n,a),o&&Xe(n,352,ns(!1));var u=n.end(),d=ps();o&&Xe(d,140,z6e()),o&&Gi.length&&Xe(d,235,rVe()),o&&a.Strings&&QWe(d,252,zBe(a.Strings)),Xe(d,10);var p=d.end(),m=ps(),g=0,x=0;for(x=0;x<t.SheetNames.length;++x)g+=(o?12:11)+(o?2:1)*t.SheetNames[x].length;var v=u.length+g+p.length;for(x=0;x<t.SheetNames.length;++x){var k=s[x]||{};Xe(m,133,MBe({pos:v,hs:k.Hidden||0,dt:0,name:t.SheetNames[x]},a)),v+=e[x].length}var b=m.end();if(g!=b.length)throw new Error("BS8 "+g+" != "+b.length);var _=[];return u.length&&_.push(u),b.length&&_.push(b),p.length&&_.push(p),jn(_)}function mVe(t,e){var a=e||{},n=[];t&&!t.SSF&&(t.SSF=za(Ct)),t&&t.SSF&&(eh(),Dm(t.SSF),a.revssf=iv(t.SSF),a.revssf[t.SSF[65535]]=0,a.ssf=t.SSF),xo=1,Gi=[],a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,QD(a),a.cellXfs=[],Tc(a.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var r=0;r<t.SheetNames.length;++r)n[n.length]=hVe(r,a,t);return n.unshift(pVe(t,n,a)),jn(n)}function eX(t,e){for(var a=0;a<=t.SheetNames.length;++a){var n=t.Sheets[t.SheetNames[a]];if(!(!n||!n["!ref"])){var r=or(n["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost."),r.e.r>65535&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[a]+"' extends beyond row 65536.  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return mVe(t,e);case 4:case 3:case 2:return nVe(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function J5(t,e){var a=e||{},n=a.dense!=null?a.dense:nMe,r={};n&&(r["!data"]=[]),t=ov(t,"<!--","-->");var s=t.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),o=s.index,c=i&&i.index||t.length,l=qMe(t.slice(o,c),/(:?<tr[^<>]*>)/i,"<tr>"),u=-1,d=0,p=0,m=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(o=0;o<l.length;++o){var v=l[o].trim(),k=v.slice(0,3).toLowerCase();if(k=="<tr"){if(++u,a.sheetRows&&a.sheetRows<=u){--u;break}d=0;continue}if(!(k!="<td"&&k!="<th")){var b=v.split(/<\/t[dh]>/i);for(c=0;c<b.length;++c){var _=b[c].trim();if(_.match(/<t[dh]/i)){for(var A=_,S=0;A.charAt(0)=="<"&&(S=A.indexOf(">"))>-1;)A=A.slice(S+1);for(var C=0;C<x.length;++C){var E=x[C];E.s.c==d&&E.s.r<u&&u<=E.e.r&&(d=E.e.c+1,C=-1)}var R=gt(_.slice(0,_.indexOf(">")));m=R.colspan?+R.colspan:1,((p=+R.rowspan)>1||m>1)&&x.push({s:{r:u,c:d},e:{r:u+(p||1)-1,c:d+m-1}});var I=R.t||R["data-t"]||"";if(!A.length){d+=m;continue}if(A=NK(A),g.s.r>u&&(g.s.r=u),g.e.r<u&&(g.e.r=u),g.s.c>d&&(g.s.c=d),g.e.c<d&&(g.e.c=d),!A.length){d+=m;continue}var P={t:"s",v:A};a.raw||!A.trim().length||I=="s"||(A==="TRUE"?P={t:"b",v:!0}:A==="FALSE"?P={t:"b",v:!1}:isNaN(pi(A))?isNaN(iy(A).getDate())?A.charCodeAt(0)==35&&Or[A]!=null&&(P.t="e",P.w=A,P.v=Or[A]):(P={t:"d",v:xn(A)},a.UTC===!1&&(P.v=Cd(P.v)),a.cellDates||(P={t:"n",v:In(P.v)}),P.z=a.dateNF||Ct[14]):P={t:"n",v:pi(A)}),P.cellText!==!1&&(P.w=A),n?(r["!data"][u]||(r["!data"][u]=[]),r["!data"][u][d]=P):r[ua({r:u,c:d})]=P,d+=m}}}}return r["!ref"]=ea(g),x.length&&(r["!merges"]=x),r}function tX(t,e,a,n){for(var r=t["!merges"]||[],s=[],i={},o=t["!data"]!=null,c=e.s.c;c<=e.e.c;++c){for(var l=0,u=0,d=0;d<r.length;++d)if(!(r[d].s.r>a||r[d].s.c>c)&&!(r[d].e.r<a||r[d].e.c<c)){if(r[d].s.r<a||r[d].s.c<c){l=-1;break}l=r[d].e.r-r[d].s.r+1,u=r[d].e.c-r[d].s.c+1;break}if(!(l<0)){var p=qt(c)+fa(a),m=o?(t["!data"][a]||[])[c]:t[p];m&&m.t=="n"&&m.v!=null&&!isFinite(m.v)&&(isNaN(m.v)?m={t:"e",v:36,w:wr[36]}:m={t:"e",v:7,w:wr[7]});var g=m&&m.v!=null&&(m.h||ug(m.w||(Sc(m),m.w)||""))||"";i={},l>1&&(i.rowspan=l),u>1&&(i.colspan=u),n.editable?g='<span contenteditable="true">'+g+"</span>":m&&(i["data-t"]=m&&m.t||"z",m.v!=null&&(i["data-v"]=ug(m.v instanceof Date?m.v.toISOString():m.v)),m.z!=null&&(i["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+ug(m.l.Target)+'">'+g+"</a>")),i.id=(n.id||"sjs")+"-"+p,s.push(nt("td",g,i))}}var x="<tr>";return x+s.join("")+"</tr>"}var aX='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nX="</body></html>";function gVe(t,e){var a=ZMe(t,"table");if(!a||a.length==0)throw new Error("Invalid HTML: could not find <table>");if(a.length==1){var n=Qu(J5(a[0],e),e);return n.bookType="html",n}var r=rP();return a.forEach(function(s,i){mv(r,J5(s,e),"Sheet"+(i+1))}),r.bookType="html",r}function rX(t,e,a){var n=[];return n.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}function sX(t,e){var a=e||{},n=a.header!=null?a.header:aX,r=a.footer!=null?a.footer:nX,s=[n],i=or(t["!ref"]||"A1");if(s.push(rX(t,i,a)),t["!ref"])for(var o=i.s.r;o<=i.e.r;++o)s.push(tX(t,i,o,a));return s.push("</table>"+r),s.join("")}function iX(t,e,a){var n=e.rows;if(!n)throw"Unsupported origin when "+e.tagName+" is not a TABLE";var r=a||{},s=t["!data"]!=null,i=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var c=typeof r.origin=="string"?Ka(r.origin):r.origin;i=c.r,o=c.c}var l=Math.min(r.sheetRows||1e7,n.length),u={s:{r:0,c:0},e:{r:i,c:o}};if(t["!ref"]){var d=or(t["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var p=[],m=0,g=t["!rows"]||(t["!rows"]=[]),x=0,v=0,k=0,b=0,_=0,A=0;for(t["!cols"]||(t["!cols"]=[]);x<n.length&&v<l;++x){var S=n[x];if(Q5(S)){if(r.display)continue;g[v]={hidden:!0}}var C=S.cells;for(k=b=0;k<C.length;++k){var E=C[k];if(!(r.display&&Q5(E))){var R=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):NK(E.innerHTML),I=E.getAttribute("data-z")||E.getAttribute("z");for(m=0;m<p.length;++m){var P=p[m];P.s.c==b+o&&P.s.r<v+i&&v+i<=P.e.r&&(b=P.e.c+1-o,m=-1)}A=+E.getAttribute("colspan")||1,((_=+E.getAttribute("rowspan")||1)>1||A>1)&&p.push({s:{r:v+i,c:b+o},e:{r:v+i+(_||1)-1,c:b+o+(A||1)-1}});var D={t:"s",v:R},B=E.getAttribute("data-t")||E.getAttribute("t")||"";R!=null&&(R.length==0?D.t=B||"z":r.raw||R.trim().length==0||B=="s"||(B=="e"&&wr[+R]?D={t:"e",v:+R,w:wr[+R]}:R==="TRUE"?D={t:"b",v:!0}:R==="FALSE"?D={t:"b",v:!1}:isNaN(pi(R))?isNaN(iy(R).getDate())?R.charCodeAt(0)==35&&Or[R]!=null&&(D={t:"e",v:Or[R],w:R}):(D={t:"d",v:xn(R)},r.UTC&&(D.v=g2(D.v)),r.cellDates||(D={t:"n",v:In(D.v)}),D.z=r.dateNF||Ct[14]):D={t:"n",v:pi(R)})),D.z===void 0&&I!=null&&(D.z=I);var U="",V=E.getElementsByTagName("A");if(V&&V.length)for(var j=0;j<V.length&&!(V[j].hasAttribute("href")&&(U=V[j].getAttribute("href"),U.charAt(0)!="#"));++j);U&&U.charAt(0)!="#"&&U.slice(0,11).toLowerCase()!="javascript:"&&(D.l={Target:U}),s?(t["!data"][v+i]||(t["!data"][v+i]=[]),t["!data"][v+i][b+o]=D):t[ua({c:b+o,r:v+i})]=D,u.e.c<b+o&&(u.e.c=b+o),b+=A}}++v}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,v-1+i),t["!ref"]=ea(u),v>=l&&(t["!fullref"]=ea((u.e.r=n.length-x+v-1+i,u))),t}function oX(t,e){var a=e||{},n={};return a.dense&&(n["!data"]=[]),iX(n,t,e)}function yVe(t,e){var a=Qu(oX(t,e),e);return a}function Q5(t){var e="",a=vVe(t);return a&&(e=a(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function vVe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function xVe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,r){return Array(parseInt(r,10)+1).join(" ")}).replace(/<text:tab[^<>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),a=Sa(e.replace(/<[^<>]*>/g,""));return[a]}function cX(t,e,a){var n=a||{},r=y2(t);Qn.lastIndex=0,r=bD(ov(r,"<!--","-->"));for(var s,i,o="",c="",l,u=0,d=-1,p="";s=Qn.exec(r);)switch(s[3]=s[3].replace(/_[\s\S]*$/,"")){case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":case"text-style":s[1]==="/"?(i["truncate-on-overflow"]=="false"&&(o.match(/h/)?o=o.replace(/h+/,"[$&]"):o.match(/m/)?o=o.replace(/m+/,"[$&]"):o.match(/s/)&&(o=o.replace(/s+/,"[$&]"))),n[i.name]=o,o=""):s[0].charAt(s[0].length-2)!=="/"&&(o="",i=gt(s[0],!1));break;case"boolean-style":s[1]==="/"?(n[i.name]="General",o=""):s[0].charAt(s[0].length-2)!=="/"&&(o="",i=gt(s[0],!1));break;case"boolean":o+="General";break;case"text":s[1]==="/"?(p=r.slice(d,Qn.lastIndex-s[0].length),p=="%"&&i[0]=="<number:percentage-style"?o+="%":o+='"'+p.replace(/"/g,'""')+'"'):s[0].charAt(s[0].length-2)!=="/"&&(d=Qn.lastIndex);break;case"day":switch(l=gt(s[0],!1),l.style){case"short":o+="d";break;case"long":o+="dd";break;default:o+="dd";break}break;case"day-of-week":switch(l=gt(s[0],!1),l.style){case"short":o+="ddd";break;case"long":o+="dddd";break;default:o+="ddd";break}break;case"era":switch(l=gt(s[0],!1),l.style){case"short":o+="ee";break;case"long":o+="eeee";break;default:o+="eeee";break}break;case"hours":switch(l=gt(s[0],!1),l.style){case"short":o+="h";break;case"long":o+="hh";break;default:o+="hh";break}break;case"minutes":switch(l=gt(s[0],!1),l.style){case"short":o+="m";break;case"long":o+="mm";break;default:o+="mm";break}break;case"month":switch(l=gt(s[0],!1),l.textual&&(o+="mm"),l.style){case"short":o+="m";break;case"long":o+="mm";break;default:o+="m";break}break;case"seconds":{switch(l=gt(s[0],!1),l.style){case"short":o+="s";break;case"long":o+="ss";break;default:o+="ss";break}l["decimal-places"]&&(o+="."+Ra("0",+l["decimal-places"]))}break;case"year":switch(l=gt(s[0],!1),l.style){case"short":o+="yy";break;case"long":o+="yyyy";break;default:o+="yy";break}break;case"am-pm":o+="AM/PM";break;case"week-of-year":case"quarter":console.error("Excel does not support ODS format token "+s[3]);break;case"fill-character":s[1]==="/"?(p=r.slice(d,Qn.lastIndex-s[0].length),o+='"'+p.replace(/"/g,'""')+'"*'):s[0].charAt(s[0].length-2)!=="/"&&(d=Qn.lastIndex);break;case"scientific-number":l=gt(s[0],!1),o+="0."+Ra("0",+l["min-decimal-places"]||+l["decimal-places"]||2)+Ra("?",+l["decimal-places"]-+l["min-decimal-places"]||0)+"E"+(Wa(l["forced-exponent-sign"])?"+":"")+Ra("0",+l["min-exponent-digits"]||2);break;case"fraction":l=gt(s[0],!1),+l["min-integer-digits"]?o+=Ra("0",+l["min-integer-digits"]):o+="#",o+=" ",o+=Ra("?",+l["min-numerator-digits"]||1),o+="/",+l["denominator-value"]?o+=l["denominator-value"]:o+=Ra("?",+l["min-denominator-digits"]||1);break;case"currency-symbol":s[1]==="/"?o+='"'+r.slice(d,Qn.lastIndex-s[0].length).replace(/"/g,'""')+'"':s[0].charAt(s[0].length-2)!=="/"?d=Qn.lastIndex:o+="$";break;case"text-properties":switch(l=gt(s[0],!1),(l.color||"").toLowerCase().replace("#","")){case"ff0000":case"red":o="[Red]"+o;break}break;case"text-content":o+="@";break;case"map":l=gt(s[0],!1),Sa(l.condition)=="value()>=0"?o=n[l["apply-style-name"]]+";"+o:console.error("ODS number format may be incorrect: "+l.condition);break;case"number":if(s[1]==="/")break;l=gt(s[0],!1),c="",c+=Ra("0",+l["min-integer-digits"]||1),Wa(l.grouping)&&(c=rl(Ra("#",Math.max(0,4-c.length))+c)),(+l["min-decimal-places"]||+l["decimal-places"])&&(c+="."),+l["min-decimal-places"]&&(c+=Ra("0",+l["min-decimal-places"]||1)),+l["decimal-places"]-(+l["min-decimal-places"]||0)&&(c+=Ra("0",+l["decimal-places"]-(+l["min-decimal-places"]||0))),o+=c;break;case"embedded-text":s[1]==="/"?u==0?o+='"'+r.slice(d,Qn.lastIndex-s[0].length).replace(/"/g,'""')+'"':o=o.slice(0,u)+'"'+r.slice(d,Qn.lastIndex-s[0].length).replace(/"/g,'""')+'"'+o.slice(u):s[0].charAt(s[0].length-2)!=="/"&&(d=Qn.lastIndex,u=-+gt(s[0],!1).position||0);break}return n}function lX(t,e,a){var n=e||{},r=y2(t),s=[],i,o,c,l="",u=0,d,p,m={},g=[],x={};n.dense&&(x["!data"]=[]);var v,k,b={value:""},_={},A="",S=0,C="",E=0,R=[],I=[],P=-1,D=-1,B={s:{r:1e6,c:1e7},e:{r:0,c:0}},U=0,V=a||{},j={},W=[],Q={},q=0,Z=0,M=[],se=1,ue=1,le=[],ie={Names:[],WBProps:{}},ye={},ke=["",""],ge=[],G={},te="",ee=0,ne=!1,be=!1,Y=0;for(Qn.lastIndex=0,r=bD(ov(r,"<!--","-->"));v=Qn.exec(r);)switch(v[3]=v[3].replace(/_[\s\S]*$/,"")){case"table":case"":v[1]==="/"?(B.e.c>=B.s.c&&B.e.r>=B.s.r?x["!ref"]=ea(B):x["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=B.e.r&&(x["!fullref"]=x["!ref"],B.e.r=n.sheetRows-1,x["!ref"]=ea(B)),W.length&&(x["!merges"]=W),M.length&&(x["!rows"]=M),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),g.push(d.name),m[d.name]=x,be=!1):v[0].charAt(v[0].length-2)!=="/"&&(d=gt(v[0],!1),P=D=-1,B.s.r=B.s.c=1e7,B.e.r=B.e.c=0,x={},n.dense&&(x["!data"]=[]),W=[],M=[],be=!0);break;case"table-row-group":v[1]==="/"?--U:++U;break;case"table-row":case"":if(v[1]==="/"){P+=se,se=1;break}if(p=gt(v[0],!1),p.?P=p.-1:P==-1&&(P=0),se=+p["number-rows-repeated"]||1,se<10)for(Y=0;Y<se;++Y)U>0&&(M[P+Y]={level:U});D=-1;break;case"covered-table-cell":if(v[1]!=="/")if(++D,b=gt(v[0],!1),ue=parseInt(b["number-columns-repeated"]||"1",10)||1,n.sheetStubs){for(;ue-- >0;)n.dense?(x["!data"][P]||(x["!data"][P]=[]),x["!data"][P][D]={t:"z"}):x[ua({r:P,c:D})]={t:"z"},++D;--D}else D+=ue-1;A="",R=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++D,b=gt(v[0],!1),ue=parseInt(b["number-columns-repeated"]||"1",10)||1,k={t:"z",v:null},b.formula&&n.cellFormula!=!1&&(k.f=X5(Sa(b.formula))),b["style-name"]&&j[b["style-name"]]&&(k.z=j[b["style-name"]]),(b.||b["value-type"])=="string"&&(k.t="s",k.v=Sa(b["string-value"]||""),n.dense?(x["!data"][P]||(x["!data"][P]=[]),x["!data"][P][D]=k):x[qt(D)+fa(P)]=k),D+=ue-1;else if(v[1]!=="/"){++D,A=C="",S=E=0,R=[],I=[],ue=1;var Ae=se?P+se-1:P;if(D>B.e.c&&(B.e.c=D),D<B.s.c&&(B.s.c=D),P<B.s.r&&(B.s.r=P),Ae>B.e.r&&(B.e.r=Ae),b=gt(v[0],!1),_=n5e(v[0]),ge=[],G={},k={t:b.||b["value-type"],v:null},b["style-name"]&&j[b["style-name"]]&&(k.z=j[b["style-name"]]),n.cellFormula)if(b.formula&&(b.formula=Sa(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(q=parseInt(b["number-matrix-rows-spanned"],10)||0,Z=parseInt(b["number-matrix-columns-spanned"],10)||0,Q={s:{r:P,c:D},e:{r:P+q-1,c:D+Z-1}},k.F=ea(Q),le.push([Q,k.F])),b.formula)k.f=X5(b.formula);else for(Y=0;Y<le.length;++Y)P>=le[Y][0].s.r&&P<=le[Y][0].e.r&&D>=le[Y][0].s.c&&D<=le[Y][0].e.c&&(k.F=le[Y][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(q=parseInt(b["number-rows-spanned"]||"1",10)||1,Z=parseInt(b["number-columns-spanned"]||"1",10)||1,q*Z>1&&(Q={s:{r:P,c:D},e:{r:P+q-1,c:D+Z-1}},W.push(Q))),b["number-columns-repeated"]&&(ue=parseInt(b["number-columns-repeated"],10)),k.t){case"boolean":k.t="b",k.v=Wa(b["boolean-value"])||+b["boolean-value"]>=1;break;case"float":k.t="n",k.v=parseFloat(b.value),n.cellDates&&k.z&&vi(k.z)&&(k.v=fl(k.v+(ie.WBProps.date1904?1462:0)),k.t=typeof k.v=="number"?"n":"d");break;case"percentage":k.t="n",k.v=parseFloat(b.value);break;case"currency":k.t="n",k.v=parseFloat(b.value);break;case"date":k.t="d",k.v=xn(b["date-value"],ie.WBProps.date1904),n.cellDates||(k.t="n",k.v=In(k.v,ie.WBProps.date1904)),k.z||(k.z="m/d/yy");break;case"time":k.t="n",k.v=MMe(b["time-value"])/86400,n.cellDates&&(k.v=fl(k.v),k.t=typeof k.v=="number"?"n":"d"),k.z||(k.z="HH:MM:SS");break;case"number":k.t="n",k.v=parseFloat(b.);break;default:if(k.t==="string"||k.t==="text"||!k.t)k.t="s",b["string-value"]!=null&&(A=Sa(b["string-value"]),R=[]);else throw new Error("Unsupported value type "+k.t)}}else{if(ne=!1,_["calcext:value-type"]=="error"&&Or[A]!=null&&(k.t="e",k.w=A,k.v=Or[A]),k.t==="s"&&(k.v=A||"",R.length&&(k.R=R),ne=S==0),ye.Target&&(k.l=ye),ge.length>0&&(k.c=ge,ge=[]),A&&n.cellText!==!1&&(k.w=A),ne&&(k.t="z",delete k.v),(!ne||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=P))for(var Oe=0;Oe<se;++Oe){if(ue=parseInt(b["number-columns-repeated"]||"1",10),n.dense)for(x["!data"][P+Oe]||(x["!data"][P+Oe]=[]),x["!data"][P+Oe][D]=Oe==0?k:za(k);--ue>0;)x["!data"][P+Oe][D+ue]=za(k);else for(x[ua({r:P+Oe,c:D})]=k;--ue>0;)x[ua({r:P+Oe,c:D+ue})]=za(k);B.e.c<=D&&(B.e.c=D)}ue=parseInt(b["number-columns-repeated"]||"1",10),D+=ue-1,ue=0,k={},A="",R=[]}ye={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=s.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&s.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=s.pop())[0]!==v[3])throw"Bad state: "+i;G.t=A,R.length&&(G.R=R),G.a=te,ge.push(G),A=C,S=E,R=I}else if(v[0].charAt(v[0].length-2)!=="/"){s.push([v[3],!1]);var $e=gt(v[0],!0);$e.display&&Wa($e.display)||(ge.hidden=!0),C=A,E=S,I=R,A="",S=0,R=[]}te="",ee=0;break;case"creator":v[1]==="/"?te=r.slice(ee,v.index):ee=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=s.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&s.push([v[3],!1]);A="",S=0,R=[];break;case"scientific-number":case"currency-symbol":case"fill-character":break;case"text-style":case"boolean-style":case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){var He=Qn.lastIndex;cX(r.slice(c,Qn.lastIndex),e,V),Qn.lastIndex=He}else v[0].charAt(v[0].length-2)!=="/"&&(c=Qn.lastIndex-v[0].length);break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":{var Ve=gt(v[0],!1);Ve.family=="table-cell"&&V[Ve["data-style-name"]]&&(j[Ve.name]=V[Ve["data-style-name"]])}break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":break;case"boolean":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(u,v.index);break}else u=v.index+v[0].length;break;case"named-range":o=gt(v[0],!1),ke=WS(o["cell-range-address"]);var tt={Name:o.name,Ref:ke[0]+"!"+ke[1]};be&&(tt.Sheet=g.length),ie.Names.push(tt);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":switch(o=gt(v[0],!1),o["date-value"]){case"1904-01-01":ie.WBProps.date1904=!0;break}break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(v[1]==="/"&&(!b||!b["string-value"])){var lt=xVe(r.slice(S,v.index));A=(A.length>0?A+`
`:"")+lt[0]}else v[0].slice(-2)=="/>"?A+=`
`:(gt(v[0],!1),S=v.index+v[0].length);break;case"s":break;case"database-range":if(v[1]==="/")break;try{ke=WS(gt(v[0])["target-range-address"]),m[ke[0]]["!autofilter"]={ref:ke[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"filter-set-item":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(ye=gt(v[0],!1),!ye.href)break;ye.Target=Sa(ye.href),delete ye.href,ye.Target.charAt(0)=="#"&&ye.Target.indexOf(".")>-1?(ke=WS(ye.Target.slice(1)),ye.Target="#"+ke[0]+"!"+ke[1]):ye.Target.match(/^\.\.[\\\/]/)&&(ye.Target=ye.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(v)}}var Mt={Sheets:m,SheetNames:g,Workbook:ie};return n.bookSheets&&delete Mt.Sheets,Mt}function eB(t,e){e=e||{},zi(t,"META-INF/manifest.xml")&&q5e(Jn(t,"META-INF/manifest.xml"),e);var a=Is(t,"styles.xml"),n=a&&cX(Ha(a)),r=Is(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var s=lX(Ha(r),e,n);return zi(t,"meta.xml")&&(s.Props=VK(Jn(t,"meta.xml"))),s.bookType="ods",s}function tB(t,e){var a=lX(t,e);return a.bookType="fods",a}var kVe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Id({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Un+e}}();function wVe(t,e){var a="number",n="",r={"style:name":e},s="",i=0;t=t.replace(/"[$]"/g,"$");e:{if(t.indexOf(";")>-1&&(console.error("Unsupported ODS Style Map exported.  Using first branch of "+t),t=t.slice(0,t.indexOf(";"))),t=="@"){a="text",n="<number:text-content/>";break e}if(t.indexOf(/\$/)>-1&&(a="currency"),t[i]=='"'){for(s="";t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,t[i+1]=="*"?(i++,n+="<number:fill-character>"+Qt(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+Qt(s.replace(/""/g,'"'))+"</number:text>",t=t.slice(i+1),i=0}var o=t.match(/# (\?+)\/(\?+)/);if(o){n+=nt("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":o[1].length,"number:max-denominator-value":Math.max(+o[1].replace(/./g,"9"),+o[2].replace(/./g,"9"))});break e}if(o=t.match(/# (\?+)\/(\d+)/)){n+=nt("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":o[1].length,"number:denominator-value":+o[2]});break e}if(o=t.match(/\b(\d+)(|\.\d+)%/)){a="percentage",n+=nt("number:number",null,{"number:decimal-places":o[2]&&o.length-1||0,"number:min-decimal-places":o[2]&&o.length-1||0,"number:min-integer-digits":o[1].length})+"<number:text>%</number:text>";break e}var c=!1;if(["y","m","d"].indexOf(t[0])>-1){a="date";t:for(;i<t.length;++i)switch(s=t[i].toLowerCase()){case"h":case"s":c=!0,--i;break t;case"m":a:for(var l=i+1;l<t.length;++l)switch(t[l]){case"y":case"d":break a;case"h":case"s":c=!0,--i;break t}case"y":case"d":for(;(t[++i]||"").toLowerCase()==s[0];)s+=s[0];switch(--i,s){case"y":case"yy":n+="<number:year/>";break;case"yyy":case"yyyy":n+='<number:year number:style="long"/>';break;case"mmmmm":console.error("ODS has no equivalent of format |mmmmm|");case"m":case"mm":case"mmm":case"mmmm":n+='<number:month number:style="'+(s.length%2?"short":"long")+'" number:textual="'+(s.length>=3?"true":"false")+'"/>';break;case"d":case"dd":n+='<number:day number:style="'+(s.length%2?"short":"long")+'"/>';break;case"ddd":case"dddd":n+='<number:day-of-week number:style="'+(s.length%2?"short":"long")+'"/>';break}break;case'"':for(;t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,n+="<number:text>"+Qt(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"\\":s=t[++i],n+="<number:text>"+Qt(s)+"</number:text>";break;case"/":case":":n+="<number:text>"+Qt(s)+"</number:text>";break;default:console.error("unrecognized character "+s+" in ODF format "+t)}if(!c)break e;t=t.slice(i+1),i=0}if(t.match(/^\[?[hms]/)){for(a=="number"&&(a="time"),t.match(/\[/)&&(t=t.replace(/[\[\]]/g,""),r["number:truncate-on-overflow"]="false");i<t.length;++i)switch(s=t[i].toLowerCase()){case"h":case"m":case"s":for(;(t[++i]||"").toLowerCase()==s[0];)s+=s[0];switch(--i,s){case"h":case"hh":n+='<number:hours number:style="'+(s.length%2?"short":"long")+'"/>';break;case"m":case"mm":n+='<number:minutes number:style="'+(s.length%2?"short":"long")+'"/>';break;case"s":case"ss":if(t[i+1]==".")do s+=t[i+1],++i;while(t[i+1]=="0");n+='<number:seconds number:style="'+(s.match("ss")?"long":"short")+'"'+(s.match(/\./)?' number:decimal-places="'+(s.match(/0+/)||[""])[0].length+'"':"")+"/>";break}break;case'"':for(;t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,n+="<number:text>"+Qt(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"/":case":":n+="<number:text>"+Qt(s)+"</number:text>";break;case"a":if(t.slice(i,i+3).toLowerCase()=="a/p"){n+="<number:am-pm/>",i+=2;break}if(t.slice(i,i+5).toLowerCase()=="am/pm"){n+="<number:am-pm/>",i+=4;break}default:console.error("unrecognized character "+s+" in ODF format "+t)}break e}if(t.indexOf(/\$/)>-1&&(a="currency"),t[0]=="$"&&(n+='<number:currency-symbol number:language="en" number:country="US">$</number:currency-symbol>',t=t.slice(1),i=0),i=0,t[i]=='"'){for(;t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,t[i+1]=="*"?(i++,n+="<number:fill-character>"+Qt(s.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+Qt(s.replace(/""/g,'"'))+"</number:text>",t=t.slice(i+1),i=0}var u=t.match(/([#0][0#,]*)(\.[0#]*|)(E[+]?0*|)/i);if(!u||!u[0])console.error("Could not find numeric part of "+t);else{var d=u[1].replace(/,/g,"");n+="<number:"+(u[3]?"scientific-":"")+'number number:min-integer-digits="'+(d.indexOf("0")==-1?"0":d.length-d.indexOf("0"))+'"'+(u[0].indexOf(",")>-1?' number:grouping="true"':"")+(u[2]&&' number:decimal-places="'+(u[2].length-1)+'"'||' number:decimal-places="0"')+(u[3]&&u[3].indexOf("+")>-1?' number:forced-exponent-sign="true"':"")+(u[3]?' number:min-exponent-digits="'+u[3].match(/0+/)[0].length+'"':"")+"></number:"+(u[3]?"scientific-":"")+"number>",i=u.index+u[0].length}if(t[i]=='"'){for(s="";t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,n+="<number:text>"+Qt(s.replace(/""/g,'"'))+"</number:text>"}}return n?nt("number:"+a+"-style",n,r):(console.error("Could not generate ODS number format for |"+t+"|"),"")}function aB(t,e,a){for(var n=[],r=0;r<t.length;++r){var s=t[r];s&&s.Sheet==(a==-1?null:a)&&n.push(s)}return n.length?`      <table:named-expressions>
`+n.map(function(i){var o=(a==-1?"$":"")+Fq(i.Ref);return"        "+nt("table:named-range",null,{"table:name":i.Name,"table:cell-range-address":o,"table:base-cell-address":o.replace(/[\.][^\.]*$/,".$A$1")})}).join(`
`)+`
      </table:named-expressions>
`:""}var nB=function(){var t=function(r,s){return Qt(r).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,a=function(r,s,i,o,c,l){var u=[];u.push('      <table:table table:name="'+Qt(s.SheetNames[i])+`" table:style-name="ta1">
`);var d=0,p=0,m=or(r["!ref"]||"A1"),g=r["!merges"]||[],x=0,v=r["!data"]!=null;if(r["!cols"])for(p=0;p<=m.e.c;++p)u.push("        <table:table-column"+(r["!cols"][p]?' table:style-name="co'+r["!cols"][p].ods+'"':"")+`></table:table-column>
`);var k="",b=r["!rows"]||[];for(d=0;d<m.s.r;++d)k=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+k+`></table:table-row>
`);for(;d<=m.e.r;++d){for(k=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+k+`>
`),p=0;p<m.s.c;++p)u.push(e);for(;p<=m.e.c;++p){var _=!1,A={},S="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>p)&&!(g[x].s.r>d)&&!(g[x].e.c<p)&&!(g[x].e.r<d)){(g[x].s.c!=p||g[x].s.r!=d)&&(_=!0),A["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,A["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(_){u.push(`          <table:covered-table-cell/>
`);continue}var C=ua({r:d,c:p}),E=v?(r["!data"][d]||[])[p]:r[C];if(E&&E.f&&(A["table:formula"]=Qt(r7e(E.f)),E.F&&E.F.slice(0,C.length)==C)){var R=or(E.F);A["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,A["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!E){u.push(e);continue}switch(E.t){case"b":S=E.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=E.v?"true":"false";break;case"n":isFinite(E.v)?(S=E.w||String(E.v||0),A["office:value-type"]="float",A["office:value"]=E.v||0):(isNaN(E.v)?(S="#NUM!",A["table:formula"]="of:=#NUM!"):(S="#DIV/0!",A["table:formula"]="of:="+(E.v<0?"-":"")+"1/0"),A["office:string-value"]="",A["office:value-type"]="string",A["calcext:value-type"]="error");break;case"s":case"str":S=E.v==null?"":E.v,A["office:value-type"]="string";break;case"d":S=E.w||xn(E.v,l).toISOString(),A["office:value-type"]="date",A["office:date-value"]=xn(E.v,l).toISOString(),A["table:style-name"]="ce1";break;default:u.push(e);continue}var I=t(S);if(E.l&&E.l.Target){var P=E.l.Target;P=P.charAt(0)=="#"?"#"+Fq(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),I=nt("text:a",I,{"xlink:href":P.replace(/&/g,"&amp;")})}c[E.z]&&(A["table:style-name"]="ce"+c[E.z].slice(1));var D=nt("text:p",I,{});if(E.c){for(var B="",U="",V={},j=0;j<E.c.length;++j)!B&&E.c[j].a&&(B=E.c[j].a),U+="<text:p>"+t(E.c[j].t)+"</text:p>";E.c.hidden||(V["office:display"]=!0),D=nt("office:annotation",U,V)+D}u.push("          "+nt("table:table-cell",D,A)+`
`)}u.push(`        </table:table-row>
`)}return(s.Workbook||{}).Names&&u.push(aB(s.Workbook.Names,s.SheetNames,i)),u.push(`      </table:table>
`),u.join("")},n=function(r,s){r.push(` <office:automatic-styles>
`);var i=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var p=u["!cols"][d];if(p.width==null&&p.wpx==null&&p.wch==null)continue;wl(p),p.ods=i;var m=u["!cols"][d].wpx+"px";r.push('  <style:style style:name="co'+i+`" style:family="table-column">
`),r.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),r.push(`  </style:style>
`),++i}}});var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=o;var p=u["!rows"][d].hpx+"px";r.push('  <style:style style:name="ro'+o+`" style:family="table-row">
`),r.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),r.push(`  </style:style>
`),++o}}}),r.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),r.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),r.push(`  </style:style>
`),r.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),r.push(`   <number:month number:style="long"/>
`),r.push(`   <number:text>/</number:text>
`),r.push(`   <number:day number:style="long"/>
`),r.push(`   <number:text>/</number:text>
`),r.push(`   <number:year/>
`),r.push(`  </number:date-style>
`);var c={},l=69;return s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u){var d=u["!data"]!=null;if(u["!ref"])for(var p=or(u["!ref"]),m=0;m<=p.e.r;++m)for(var g=0;g<=p.e.c;++g){var x=d?(u["!data"][m]||[])[g]:u[ua({r:m,c:g})];if(!(!x||!x.z||x.z.toLowerCase()=="general")&&!c[x.z]){var v=wVe(x.z,"N"+l);v&&(c[x.z]="N"+l,++l,r.push(v+`
`))}}}}),r.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),hn(c).forEach(function(u){r.push('<style:style style:name="ce'+c[u].slice(1)+'" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="'+c[u]+`"/>
`)}),r.push(` </office:automatic-styles>
`),c};return function(s,i){var o=[Un],c=Id({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),l=Id({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});i.bookType=="fods"?(o.push("<office:document"+c+l+`>
`),o.push(WK().replace(/<office:document-meta[^<>]*?>/,"").replace(/<\/office:document-meta>/,"")+`
`)):o.push("<office:document-content"+c+`>
`);var u=n(o,s);o.push(`  <office:body>
`),o.push(`    <office:spreadsheet>
`),((s.Workbook||{}).WBProps||{}).date1904&&o.push(`      <table:calculation-settings table:case-sensitive="false" table:search-criteria-must-apply-to-whole-cell="true" table:use-wildcards="true" table:use-regular-expressions="false" table:automatic-find-labels="false">
        <table:null-date table:date-value="1904-01-01"/>
      </table:calculation-settings>
`);for(var d=0;d!=s.SheetNames.length;++d)o.push(a(s.Sheets[s.SheetNames[d]],s,d,i,u,((s.Workbook||{}).WBProps||{}).date1904));return(s.Workbook||{}).Names&&o.push(aB(s.Workbook.Names,s.SheetNames,-1)),o.push(`    </office:spreadsheet>
`),o.push(`  </office:body>
`),i.bookType=="fods"?o.push("</office:document>"):o.push("</office:document-content>"),o.join("")}}();function uX(t,e){if(e.bookType=="fods")return nB(t,e);var a=ND(),n="",r=[],s=[];return n="mimetype",Zt(a,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Zt(a,n,nB(t,e)),r.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Zt(a,n,kVe(t,e)),r.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Zt(a,n,Un+WK()),r.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Zt(a,n,Z5e(s)),r.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Zt(a,n,X5e(r)),a}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */var Hn=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":(typeof Buffer.from=="function"?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function bl(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Co(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Ha(Nc(t))}function As(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Es(uc(t))}function Lu(t){for(var e=0,a=0;a<t.length;++a)e+=t[a].length;var n=new Uint8Array(e),r=0;for(a=0;a<t.length;++a){var s=t[a],i=s.length;if(i<250)for(var o=0;o<i;++o)n[r++]=s[o];else n.set(s,r),r+=i}return n}function kg(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function bVe(t,e){for(var a=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,r=e+13;r>=e;--r)n=n*256+t[r];return(t[e+15]&128?-n:n)*Math.pow(10,a-6176)}function _Ve(t,e,a){var n=Math.floor(a==0?0:Math.LOG10E*Math.log(Math.abs(a)))+6176-16,r=a/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;r>=1;++s,r/=256)t[e+s]=r&255;t[e+15]|=a>=0?0:128}function py(t,e){var a=e.l,n=t[a]&127;e:if(t[a++]>=128&&(n|=(t[a]&127)<<7,t[a++]<128||(n|=(t[a]&127)<<14,t[a++]<128)||(n|=(t[a]&127)<<21,t[a++]<128)||(n+=(t[a]&127)*Math.pow(2,28),++a,t[a++]<128)||(n+=(t[a]&127)*Math.pow(2,35),++a,t[a++]<128)||(n+=(t[a]&127)*Math.pow(2,42),++a,t[a++]<128)))break e;return e.l=a,n}function Nt(t){var e=new Uint8Array(7);e[0]=t&127;var a=1;e:if(t>127){if(e[a-1]|=128,e[a]=t>>7&127,++a,t<=16383||(e[a-1]|=128,e[a]=t>>14&127,++a,t<=2097151)||(e[a-1]|=128,e[a]=t>>21&127,++a,t<=268435455)||(e[a-1]|=128,e[a]=t/256>>>21&127,++a,t<=34359738367)||(e[a-1]|=128,e[a]=t/65536>>>21&127,++a,t<=4398046511103))break e;e[a-1]|=128,e[a]=t/16777216>>>21&127,++a}return e[Hn](0,a)}function fX(t){for(var e={l:0},a=[];e.l<t.length;)a.push(py(t,e));return a}function dX(t){return Lu(t.map(function(e){return Nt(e)}))}function Jt(t){var e=0,a=t[e]&127;return t[e++]<128||(a|=(t[e]&127)<<7,t[e++]<128)||(a|=(t[e]&127)<<14,t[e++]<128)||(a|=(t[e]&127)<<21,t[e++]<128)||(a|=(t[e]&15)<<28),a}function ot(t){for(var e=[],a={l:0};a.l<t.length;){var n=a.l,r=py(t,a),s=r&7;r=r/8|0;var i,o=a.l;switch(s){case 0:{for(;t[o++]>=128;);i=t[Hn](a.l,o),a.l=o}break;case 1:i=t[Hn](o,o+8),a.l=o+8;break;case 2:{var c=py(t,a);i=t[Hn](a.l,a.l+c),a.l+=c}break;case 5:i=t[Hn](o,o+4),a.l=o+4;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(n))}var l={data:i,type:s};e[r]==null&&(e[r]=[]),e[r].push(l)}return e}function Et(t){var e=[];return t.forEach(function(a,n){n!=0&&a.forEach(function(r){r.data&&(e.push(Nt(n*8+r.type)),r.type==2&&e.push(Nt(r.data.length)),e.push(r.data))})}),Lu(e)}function Mu(t,e){return(t==null?void 0:t.map(function(a){return e(a.data)}))||[]}function my(t){for(var e,a=[],n={l:0};n.l<t.length;){var r=py(t,n),s=ot(t[Hn](n.l,n.l+r));n.l+=r;var i={id:Jt(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=ot(o.data),l=Jt(c[3][0].data);i.messages.push({meta:c,data:t[Hn](n.l,n.l+l)}),n.l+=l}),(e=s[3])!=null&&e[0]&&(i.merge=Jt(s[3][0].data)>>>0>0),a.push(i)}return a}function Pp(t){var e=[];return t.forEach(function(a){var n=[[],[{data:Nt(a.id),type:0}],[]];a.merge!=null&&(n[3]=[{data:Nt(+!!a.merge),type:0}]);var r=[];a.messages.forEach(function(i){r.push(i.data),i.meta[3]=[{type:0,data:Nt(i.data.length)}],n[2].push({data:Et(i.meta),type:2})});var s=Et(n);e.push(Nt(s.length)),e.push(s),r.forEach(function(i){return e.push(i)})}),Lu(e)}function AVe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var a={l:0},n=py(e,a),r=[],s=a.l;s<e.length;){var i=e[s]&3;if(i==0){var o=e[s++]>>2;if(o<60)++o;else{var c=o-59;o=e[s],c>1&&(o|=e[s+1]<<8),c>2&&(o|=e[s+2]<<16),c>3&&(o|=e[s+3]<<24),o>>>=0,o++,s+=c}r.push(e[Hn](s,s+o)),s+=o;continue}else{var l=0,u=0;if(i==1?(u=(e[s]>>2&7)+4,l=(e[s++]&224)<<3,l|=e[s++]):(u=(e[s++]>>2)+1,i==2?(l=e[s]|e[s+1]<<8,s+=2):(l=(e[s]|e[s+1]<<8|e[s+2]<<16|e[s+3]<<24)>>>0,s+=4)),l==0)throw new Error("Invalid offset 0");for(var d=r.length-1,p=l;d>=0&&p>=r[d].length;)p-=r[d].length,--d;if(d<0)if(p==0)p=r[d=0].length;else throw new Error("Invalid offset beyond length");if(u<p)r.push(r[d][Hn](r[d].length-p,r[d].length-p+u));else{for(p>0&&(r.push(r[d][Hn](r[d].length-p)),u-=p),++d;u>=r[d].length;)r.push(r[d]),u-=r[d].length,++d;u&&r.push(r[d][Hn](0,u))}r.length>25&&(r=[Lu(r)])}}for(var m=0,g=0;g<r.length;++g)m+=r[g].length;if(m!=n)throw new Error("Unexpected length: ".concat(m," != ").concat(n));return r}function gy(t){Array.isArray(t)&&(t=new Uint8Array(t));for(var e=[],a=0;a<t.length;){var n=t[a++],r=t[a]|t[a+1]<<8|t[a+2]<<16;a+=3,e.push.apply(e,AVe(n,t[Hn](a,a+r))),a+=r}if(a!==t.length)throw new Error("data is not a valid framed stream!");return e.length==1?e[0]:Lu(e)}function Fp(t){for(var e=[],a=0;a<t.length;){var n=Math.min(t.length-a,268435455),r=new Uint8Array(4);e.push(r);var s=Nt(n),i=s.length;e.push(s),n<=60?(i++,e.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t[Hn](a,a+n)),i+=n,r[0]=0,r[1]=i&255,r[2]=i>>8&255,r[3]=i>>16&255,a+=n}return Lu(e)}var NVe=function(){return{sst:[],rsst:[],ofmt:[],nfmt:[],fmla:[],ferr:[],cmnt:[]}};function hX(t,e,a,n,r){var s,i,o,c,l=e&255,u=e>>8,d=u>=5?r:n;e:if(a&(u>4?8:4)&&t.t=="n"&&l==7){var p=(s=d[7])!=null&&s[0]?Jt(d[7][0].data):-1;if(p==-1)break e;var m=(i=d[15])!=null&&i[0]?Jt(d[15][0].data):-1,g=(o=d[16])!=null&&o[0]?Jt(d[16][0].data):-1,x=(c=d[40])!=null&&c[0]?Jt(d[40][0].data):-1,v=t.v,k=v;t:if(x){if(v==0){m=g=2;break t}v>=604800?m=1:v>=86400?m=2:v>=3600?m=4:v>=60?m=8:v>=1?m=16:m=32,Math.floor(v)!=v?g=32:v%60?g=16:v%3600?g=8:v%86400?g=4:v%604800&&(g=2),g<m&&(g=m)}if(m==-1||g==-1)break e;var b=[],_=[];m==1&&(k=v/604800,g==1?_.push('d"d"'):(k|=0,v-=604800*k),b.push(k+(p==2?" week"+(k==1?"":"s"):p==1?"w":""))),m<=2&&g>=2&&(k=v/86400,g>2&&(k|=0,v-=86400*k),_.push('d"d"'),b.push(k+(p==2?" day"+(k==1?"":"s"):p==1?"d":""))),m<=4&&g>=4&&(k=v/3600,g>4&&(k|=0,v-=3600*k),_.push((m>=4?"[h]":"h")+'"h"'),b.push(k+(p==2?" hour"+(k==1?"":"s"):p==1?"h":""))),m<=8&&g>=8&&(k=v/60,g>8&&(k|=0,v-=60*k),_.push((m>=8?"[m]":"m")+'"m"'),p==0?b.push((m==8&&g==8||k>=10?"":"0")+k):b.push(k+(p==2?" minute"+(k==1?"":"s"):p==1?"m":""))),m<=16&&g>=16&&(k=v,g>16&&(k|=0,v-=k),_.push((m>=16?"[s]":"s")+'"s"'),p==0?b.push((g==16&&m==16||k>=10?"":"0")+k):b.push(k+(p==2?" second"+(k==1?"":"s"):p==1?"s":""))),g>=32&&(k=Math.round(1e3*v),m<32&&_.push('.000"ms"'),p==0?b.push((k>=100?"":k>=10?"0":"00")+k):b.push(k+(p==2?" millisecond"+(k==1?"":"s"):p==1?"ms":""))),t.w=b.join(p==0?":":" "),t.z=_.join(p==0?'":"':" "),p==0&&(t.w=t.w.replace(/:(\d\d\d)$/,".$1"))}}function SVe(t,e,a,n){var r=bl(t),s=r.getUint32(4,!0),i=-1,o=-1,c=-1,l=NaN,u=0,d=new Date(Date.UTC(2001,0,1)),p=a>1?12:8;s&2&&(c=r.getUint32(p,!0),p+=4),p+=kg(s&(a>1?3468:396))*4,s&512&&(i=r.getUint32(p,!0),p+=4),p+=kg(s&(a>1?12288:4096))*4,s&16&&(o=r.getUint32(p,!0),p+=4),s&32&&(l=r.getFloat64(p,!0),p+=8),s&64&&(d.setTime(d.getTime()+(u=r.getFloat64(p,!0))*1e3),p+=8),a>1&&(s=r.getUint32(8,!0)>>>16,s&255&&(c==-1&&(c=r.getUint32(p,!0)),p+=4));var m,g=t[a>=4?1:2];switch(g){case 0:return;case 2:m={t:"n",v:l};break;case 3:m={t:"s",v:e.sst[o]};break;case 5:n!=null&&n.cellDates?m={t:"d",v:d}:m={t:"n",v:u/86400+35430,z:Ct[14]};break;case 6:m={t:"b",v:l>0};break;case 7:m={t:"n",v:l};break;case 8:m={t:"e",v:0};break;case 9:if(i>-1){var x=e.rsst[i];m={t:"s",v:x.v},x.l&&(m.l={Target:x.l})}else throw new Error("Unsupported cell type ".concat(t[Hn](0,4)));break;default:throw new Error("Unsupported cell type ".concat(t[Hn](0,4)))}return c>-1&&hX(m,g|a<<8,s,e.ofmt[c],e.nfmt[c]),g==7&&(m.v/=86400),m}function TVe(t,e,a){var n=bl(t);n.getUint32(4,!0);var r=n.getUint32(8,!0),s=12,i=-1,o=-1,c=-1,l=NaN,u=NaN,d=0,p=new Date(Date.UTC(2001,0,1));r&1&&(l=bVe(t,s),s+=16),r&2&&(u=n.getFloat64(s,!0),s+=8),r&4&&(p.setTime(p.getTime()+(d=n.getFloat64(s,!0))*1e3),s+=8),r&8&&(o=n.getUint32(s,!0),s+=4),r&16&&(i=n.getUint32(s,!0),s+=4),s+=kg(r&480)*4,r&512&&(n.getUint32(s,!0),s+=4),s+=kg(r&1024)*4,r&2048&&(n.getUint32(s,!0),s+=4);var m,g=t[1];switch(g){case 0:m={t:"z"};break;case 2:m={t:"n",v:l};break;case 3:m={t:"s",v:e.sst[o]};break;case 5:a!=null&&a.cellDates?m={t:"d",v:p}:m={t:"n",v:d/86400+35430,z:Ct[14]};break;case 6:m={t:"b",v:u>0};break;case 7:m={t:"n",v:u};break;case 8:m={t:"e",v:0};break;case 9:if(i>-1){var x=e.rsst[i];m={t:"s",v:x.v},x.l&&(m.l={Target:x.l})}else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(r&31," : ").concat(t[Hn](0,4)));break;case 10:m={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(r&31," : ").concat(t[Hn](0,4)))}if(s+=kg(r&4096)*4,r&516096&&(c==-1&&(c=n.getUint32(s,!0)),s+=4),r&524288){var v=n.getUint32(s,!0);s+=4,e.cmnt[v]&&(m.c=RVe(e.cmnt[v]))}return c>-1&&hX(m,g|1280,r>>13,e.ofmt[c],e.nfmt[c]),g==7&&(m.v/=86400),m}function qS(t,e){var a=new Uint8Array(32),n=bl(a),r=12,s=0;switch(a[0]=5,t.t){case"n":if(t.z&&vi(t.z)){a[1]=5,n.setFloat64(r,(fl(t.v+1462).getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break}else a[1]=2,_Ve(a,r,t.v),s|=1,r+=16;break;case"b":a[1]=6,n.setFloat64(r,t.v?1:0,!0),s|=2,r+=8;break;case"s":{var i=t.v==null?"":String(t.v);if(t.l){var o=e.rsst.findIndex(function(l){var u;return l.v==i&&l.l==((u=t.l)==null?void 0:u.Target)});o==-1&&(e.rsst[o=e.rsst.length]={v:i,l:t.l.Target}),a[1]=9,n.setUint32(r,o,!0),s|=16,r+=4}else{var c=e.sst.indexOf(i);c==-1&&(e.sst[c=e.sst.length]=i),a[1]=3,n.setUint32(r,c,!0),s|=8,r+=4}}break;case"d":a[1]=5,n.setFloat64(r,(t.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break;case"z":a[1]=0;break;default:throw"unsupported cell type "+t.t}return t.c&&(e.cmnt.push(DVe(t.c)),n.setUint32(r,e.cmnt.length-1,!0),s|=524288,r+=4),n.setUint32(8,s,!0),a[Hn](0,r)}function XS(t,e){var a=new Uint8Array(32),n=bl(a),r=12,s=0,i="";switch(a[0]=4,t.t){case"n":break;case"b":break;case"s":if(i=t.v==null?"":String(t.v),t.l){var o=e.rsst.findIndex(function(l){var u;return l.v==i&&l.l==((u=t.l)==null?void 0:u.Target)});o==-1&&(e.rsst[o=e.rsst.length]={v:i,l:t.l.Target}),a[1]=9,n.setUint32(r,o,!0),s|=512,r+=4}break;case"d":break;case"e":break;case"z":break;default:throw"unsupported cell type "+t.t}switch(t.c&&(n.setUint32(r,e.cmnt.length-1,!0),s|=4096,r+=4),t.t){case"n":a[1]=2,n.setFloat64(r,t.v,!0),s|=32,r+=8;break;case"b":a[1]=6,n.setFloat64(r,t.v?1:0,!0),s|=32,r+=8;break;case"s":if(i=t.v==null?"":String(t.v),!t.l){var c=e.sst.indexOf(i);c==-1&&(e.sst[c=e.sst.length]=i),a[1]=3,n.setUint32(r,c,!0),s|=16,r+=4}break;case"d":a[1]=5,n.setFloat64(r,(t.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=64,r+=8;break;case"z":a[1]=0;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),a[Hn](0,r)}function EVe(t,e,a){switch(t[0]){case 0:case 1:case 2:case 3:case 4:return SVe(t,e,t[0],a);case 5:return TVe(t,e,a);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function xa(t){var e=ot(t);return Jt(e[1][0].data)}function as(t){return Et([[],[{type:0,data:Nt(t)}]])}function ts(t,e){var a,n=(a=t.messages[0].meta[5])!=null&&a[0]?fX(t.messages[0].meta[5][0].data):[],r=n.indexOf(e);r==-1&&(n.push(e),t.messages[0].meta[5]=[{type:2,data:dX(n)}])}function Zc(t,e){var a,n=(a=t.messages[0].meta[5])!=null&&a[0]?fX(t.messages[0].meta[5][0].data):[];t.messages[0].meta[5]=[{type:2,data:dX(n.filter(function(r){return r!=e}))}]}function Cf(t,e){var a=ot(e.data),n=Jt(a[1][0].data),r=a[3],s=[];return(r||[]).forEach(function(i){var o,c,l=ot(i.data);if(l[1]){var u=Jt(l[1][0].data)>>>0;switch(n){case 1:s[u]=Co(l[3][0].data);break;case 8:{var d=t[xa(l[9][0].data)][0],p=ot(d.data),m=t[xa(p[1][0].data)][0],g=Jt(m.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=ot(m.data),v={v:x[3].map(function(_){return Co(_.data)}).join("")};s[u]=v;e:if((o=x==null?void 0:x[11])!=null&&o[0]){var k=(c=ot(x[11][0].data))==null?void 0:c[1];if(!k)break e;k.forEach(function(_){var A,S,C,E=ot(_.data);if((A=E[2])!=null&&A[0]){var R=t[xa((S=E[2])==null?void 0:S[0].data)][0],I=Jt(R.meta[1][0].data);switch(I){case 2032:var P=ot(R.data);(C=P==null?void 0:P[2])!=null&&C[0]&&!v.l&&(v.l=Co(P[2][0].data));break;case 2039:break;default:console.log("unrecognized ObjectAttribute type ".concat(I))}}})}}break;case 2:s[u]=ot(l[6][0].data);break;case 3:s[u]=ot(l[5][0].data);break;case 10:{var b=t[xa(l[10][0].data)][0];s[u]=pX(t,b.data)}break;default:throw n}}}),s}function CVe(t,e){var a,n,r,s,i,o,c,l,u,d,p,m,g,x,v=ot(t),k=Jt(v[1][0].data)>>>0,b=Jt(v[2][0].data)>>>0,_=((n=(a=v[8])==null?void 0:a[0])==null?void 0:n.data)&&Jt(v[8][0].data)>0||!1,A,S;if((s=(r=v[7])==null?void 0:r[0])!=null&&s.data&&e!=0)A=(o=(i=v[7])==null?void 0:i[0])==null?void 0:o.data,S=(l=(c=v[6])==null?void 0:c[0])==null?void 0:l.data;else if((d=(u=v[4])==null?void 0:u[0])!=null&&d.data&&e!=1)A=(m=(p=v[4])==null?void 0:p[0])==null?void 0:m.data,S=(x=(g=v[3])==null?void 0:g[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var C=_?4:1,E=bl(A),R=[],I=0;I<A.length/2;++I){var P=E.getUint16(I*2,!0);P<65535&&R.push([I,P])}if(R.length!=b)throw"Expected ".concat(b," cells, found ").concat(R.length);var D=[];for(I=0;I<R.length-1;++I)D[R[I][0]]=S[Hn](R[I][1]*C,R[I+1][1]*C);return R.length>=1&&(D[R[R.length-1][0]]=S[Hn](R[R.length-1][1]*C)),{R:k,cells:D}}function IVe(t,e){var a,n=ot(e.data),r=-1;(a=n==null?void 0:n[7])!=null&&a[0]&&(Jt(n[7][0].data)>>>0?r=1:r=0);var s=Mu(n[5],function(i){return CVe(i,r)});return{nrows:Jt(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(c,l){if(i[o.R][l])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(l));i[o.R][l]=c}),i},[])}}function pX(t,e){var a,n,r,s,i,o,c,l,u,d,p={t:"",a:""},m=ot(e);if((n=(a=m==null?void 0:m[1])==null?void 0:a[0])!=null&&n.data&&(p.t=Co((s=(r=m==null?void 0:m[1])==null?void 0:r[0])==null?void 0:s.data)||""),(o=(i=m==null?void 0:m[3])==null?void 0:i[0])!=null&&o.data){var g=t[xa((l=(c=m==null?void 0:m[3])==null?void 0:c[0])==null?void 0:l.data)][0],x=ot(g.data);(d=(u=x[1])==null?void 0:u[0])!=null&&d.data&&(p.a=Co(x[1][0].data))}return m!=null&&m[4]&&(p.replies=[],m[4].forEach(function(v){var k=t[xa(v.data)][0];p.replies.push(pX(t,k.data))})),p}function RVe(t){var e=[];return e.push({t:t.t||"",a:t.a,T:t.replies&&t.replies.length>0}),t.replies&&t.replies.forEach(function(a){e.push({t:a.t||"",a:a.a,T:!0})}),e}function DVe(t){for(var e={a:"",t:"",replies:[]},a=0;a<t.length;++a)a==0?(e.a=t[a].a,e.t=t[a].t):e.replies.push({a:t[a].a,t:t[a].t});return e}function PVe(t,e,a,n){var r,s,i,o,c,l,u,d,p,m,g,x,v,k,b=ot(e.data),_={s:{r:0,c:0},e:{r:0,c:0}};if(_.e.r=(Jt(b[6][0].data)>>>0)-1,_.e.r<0)throw new Error("Invalid row varint ".concat(b[6][0].data));if(_.e.c=(Jt(b[7][0].data)>>>0)-1,_.e.c<0)throw new Error("Invalid col varint ".concat(b[7][0].data));a["!ref"]=ea(_);var A=a["!data"]!=null,S=a,C=ot(b[4][0].data),E=NVe();(r=C[4])!=null&&r[0]&&(E.sst=Cf(t,t[xa(C[4][0].data)][0])),(s=C[6])!=null&&s[0]&&(E.fmla=Cf(t,t[xa(C[6][0].data)][0])),(i=C[11])!=null&&i[0]&&(E.ofmt=Cf(t,t[xa(C[11][0].data)][0])),(o=C[12])!=null&&o[0]&&(E.ferr=Cf(t,t[xa(C[12][0].data)][0])),(c=C[17])!=null&&c[0]&&(E.rsst=Cf(t,t[xa(C[17][0].data)][0])),(l=C[19])!=null&&l[0]&&(E.cmnt=Cf(t,t[xa(C[19][0].data)][0])),(u=C[22])!=null&&u[0]&&(E.nfmt=Cf(t,t[xa(C[22][0].data)][0]));var R=ot(C[3][0].data),I=0;if(!((d=C[9])!=null&&d[0]))throw"NUMBERS file missing row tree";var P=ot(C[9][0].data)[1].map(function(j){return ot(j.data)});if(P.forEach(function(j){I=Jt(j[1][0].data);var W=Jt(j[2][0].data),Q=R[1][W];if(!Q)throw"NUMBERS missing tile "+W;var q=ot(Q.data),Z=t[xa(q[2][0].data)][0],M=Jt(Z.meta[1][0].data);if(M!=6002)throw new Error("6001 unexpected reference to ".concat(M));var se=IVe(t,Z);se.data.forEach(function(ue,le){ue.forEach(function(ie,ye){var ke=EVe(ie,E,n);ke&&(A?(S["!data"][I+le]||(S["!data"][I+le]=[]),S["!data"][I+le][ye]=ke):a[qt(ye)+fa(I+le)]=ke)})}),I+=se.nrows}),(p=C[13])!=null&&p[0]){var D=t[xa(C[13][0].data)][0],B=Jt(D.meta[1][0].data);if(B!=6144)throw new Error("Expected merge type 6144, found ".concat(B));a["!merges"]=(m=ot(D.data))==null?void 0:m[1].map(function(j){var W=ot(j.data),Q=bl(ot(W[1][0].data)[1][0].data),q=bl(ot(W[2][0].data)[1][0].data);return{s:{r:Q.getUint16(0,!0),c:Q.getUint16(2,!0)},e:{r:Q.getUint16(0,!0)+q.getUint16(0,!0)-1,c:Q.getUint16(2,!0)+q.getUint16(2,!0)-1}}})}if(!((g=a["!merges"])!=null&&g.length)&&((x=b[47])!=null&&x[0])){var U=ot(b[47][0].data);if((v=U[2])!=null&&v[0]){var V=ot(U[2][0].data);(k=V[3])!=null&&k[0]&&(a["!merges"]=Mu(V[3],function(j){var W,Q,q,Z,M,se=ot(j),ue=ot(se[2][0].data),le=ot(ue[1][0].data);if((W=le[1])!=null&&W[0]){var ie=ot(le[1][0].data),ye=Jt(ie[1][0].data);if(ye==67){var ke=ot(ie[40][0].data);if(!(!((Q=ke[3])!=null&&Q[0])||!((q=ke[4])!=null&&q[0]))){var ge=ot(ke[3][0].data),G=ot(ke[4][0].data),te=Jt(ge[1][0].data),ee=(Z=ge[2])!=null&&Z[0]?Jt(ge[2][0].data):te,ne=Jt(G[1][0].data),be=(M=G[2])!=null&&M[0]?Jt(G[2][0].data):ne;return{s:{r:ne,c:te},e:{r:be,c:ee}}}}}}).filter(function(j){return j!=null}))}}}function FVe(t,e,a){var n=ot(e.data),r={"!ref":"A1"};a!=null&&a.dense&&(r["!data"]=[]);var s=t[xa(n[2][0].data)],i=Jt(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return PVe(t,s[0],r,a),r}function OVe(t,e,a){var n,r=ot(e.data),s={name:(n=r[1])!=null&&n[0]?Co(r[1][0].data):"",sheets:[]},i=Mu(r[2],xa);return i.forEach(function(o){t[o].forEach(function(c){var l=Jt(c.meta[1][0].data);l==6e3&&s.sheets.push(FVe(t,c,a))})}),s}function $Ve(t,e,a){var n,r=rP();r.Workbook={WBProps:{date1904:!0}};var s=ot(e.data);if((n=s[2])!=null&&n[0])throw new Error("Keynote presentations are not supported");var i=Mu(s[1],xa);if(i.forEach(function(o){t[o].forEach(function(c){var l=Jt(c.meta[1][0].data);if(l==2){var u=OVe(t,c,a);u.sheets.forEach(function(d,p){mv(r,d,p==0?u.name:u.name+"_"+p,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r.bookType="numbers",r}function YS(t,e){var a,n,r,s,i,o,c,l={},u=[];if(t.FullPaths.forEach(function(p){if(p.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(p){if(p.name.match(/\.iwa$/)&&p.content[0]==0){var m;try{m=gy(p.content)}catch(x){return console.log("?? "+p.content.length+" "+(x.message||x))}var g;try{g=my(m)}catch(x){return console.log("## "+(x.message||x))}g.forEach(function(x){l[x.id]=x.messages,u.push(x.id)})}}),!u.length)throw new Error("File has no messages");if((r=(n=(a=l==null?void 0:l[1])==null?void 0:a[0].meta)==null?void 0:n[1])!=null&&r[0].data&&Jt(l[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var d=((c=(o=(i=(s=l==null?void 0:l[1])==null?void 0:s[0])==null?void 0:i.meta)==null?void 0:o[1])==null?void 0:c[0].data)&&Jt(l[1][0].meta[1][0].data)==1&&l[1][0];if(d||u.forEach(function(p){l[p].forEach(function(m){var g=Jt(m.meta[1][0].data)>>>0;if(g==1)if(!d)d=m;else throw new Error("Document has multiple roots")})}),!d)throw new Error("Cannot find Document root");return $Ve(l,d,e)}function LVe(t,e,a){var n,r,s,i=[[],[{type:0,data:Nt(0)}],[{type:0,data:Nt(0)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Nt(5)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:Nt(1)}]];if(!((n=i[6])!=null&&n[0])||!((r=i[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var o=0;if(i[7][0].data.length<2*t.length){var c=new Uint8Array(2*t.length);c.set(i[7][0].data),i[7][0].data=c}if(i[4][0].data.length<2*t.length){var l=new Uint8Array(2*t.length);l.set(i[4][0].data),i[4][0].data=l}for(var u=bl(i[7][0].data),d=0,p=[],m=bl(i[4][0].data),g=0,x=[],v=4,k=0;k<t.length;++k){if(t[k]==null||t[k].t=="z"&&!((s=t[k].c)!=null&&s.length)||t[k].t=="e"){u.setUint16(k*2,65535,!0),m.setUint16(k*2,65535);continue}u.setUint16(k*2,d/v,!0),m.setUint16(k*2,g/v,!0);var b,_;switch(t[k].t){case"d":if(t[k].v instanceof Date){b=qS(t[k],e),_=XS(t[k],e);break}b=qS(t[k],e),_=XS(t[k],e);break;case"s":case"n":case"b":case"z":b=qS(t[k],e),_=XS(t[k],e);break;default:throw new Error("Unsupported value "+t[k])}p.push(b),d+=b.length,x.push(_),g+=_.length,++o}for(i[2][0].data=Nt(o),i[5][0].data=Nt(5);k<i[7][0].data.length/2;++k)u.setUint16(k*2,65535,!0),m.setUint16(k*2,65535,!0);return i[6][0].data=Lu(p),i[3][0].data=Lu(x),i[8]=[{type:0,data:Nt(1)}],i}function QE(t,e){return{meta:[[],[{type:0,data:Nt(t)}]],data:e}}function ic(t,e){e.last||(e.last=927262);for(var a=e.last;a<2e6;++a)if(!e[a])return e[e.last=a]=t,a;throw new Error("Too many messages")}function MVe(t){var e={},a=[];return t.FileIndex.map(function(n,r){return[n,t.FullPaths[r]]}).forEach(function(n){var r=n[0],s=n[1];r.type==2&&r.name.match(/\.iwa/)&&r.content[0]==0&&my(gy(r.content)).forEach(function(i){a.push(i.id),e[i.id]={deps:[],location:s,type:Jt(i.messages[0].meta[1][0].data)}})}),t.FileIndex.forEach(function(n){n.name.match(/\.iwa/)&&n.content[0]==0&&my(gy(n.content)).forEach(function(r){r.messages.forEach(function(s){[5,6].forEach(function(i){s.meta[i]&&s.meta[i].forEach(function(o){e[r.id].deps.push(Jt(o.data))})})})})}),e}function hk(t,e,a){return Et([[],[{type:0,data:Nt(1)}],[],[{type:5,data:new Uint8Array(Float32Array.from([t/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([e/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([a/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([1]).buffer)}],[],[],[],[],[],[{type:0,data:Nt(1)}]])}function rB(t){switch(t){case 0:return hk(99,222,171);case 1:return hk(162,197,240);case 2:return hk(255,189,189)}return hk(Math.random()*255,Math.random()*255,Math.random()*255)}function BVe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var a=$t.read(e.numbers,{type:"base64"}),n=MVe(a),r=oc(a,n,1);if(r==null)throw"Could not find message ".concat(1," in Numbers template");var s=Mu(ot(r.messages[0].data)[1],xa);if(s.length>1)throw new Error("Template NUMBERS file must have exactly one sheet");return t.SheetNames.forEach(function(i,o){o>=1&&(GVe(a,n,o+1),r=oc(a,n,1),s=Mu(ot(r.messages[0].data)[1],xa)),UVe(a,n,t.Sheets[i],i,o,s[o])}),a}function Xa(t,e,a,n){var r=$t.find(t,e[a].location);if(!r)throw"Could not find ".concat(e[a].location," in Numbers template");var s=my(gy(r.content)),i=s.find(function(o){return o.id==a});n(i,s),r.content=Fp(Pp(s)),r.size=r.content.length}function oc(t,e,a){var n=$t.find(t,e[a].location);if(!n)throw"Could not find ".concat(e[a].location," in Numbers template");var r=my(gy(n.content)),s=r.find(function(i){return i.id==a});return s}function eC(t,e,a){t[3].push({type:2,data:Et([[],[{type:0,data:Nt(e)}],[{type:2,data:As(a.replace(/-[\s\S]*$/,""))}],[{type:2,data:As(a)}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Nt(0)}],[],[{type:0,data:Nt(0)}]])}),t[1]=[{type:0,data:Nt(Math.max(e+1,Jt(t[1][0].data)))}]}function If(t,e,a,n,r,s){s||(s=ic({deps:[],location:"",type:e},r));var i="".concat(n,"-").concat(s,".iwa");r[s].location="Root Entry"+i,$t.utils.cfb_add(t,i,Fp(Pp([{id:s,messages:[QE(e,Et(a))]}])));var o=i.replace(/^[\/]/,"").replace(/^Index\//,"").replace(/\.iwa$/,"");return Xa(t,r,2,function(c){var l=ot(c.messages[0].data);eC(l,s||0,o),c.messages[0].data=Et(l)}),s}function Us(t,e,a,n){var r=e[a].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=t[3].findIndex(function(o){var c,l,u=ot(o.data);return(c=u[3])!=null&&c[0]?Co(u[3][0].data)==r:!!((l=u[2])!=null&&l[0]&&Co(u[2][0].data)==r)}),i=ot(t[3][s].data);i[6]||(i[6]=[]),(Array.isArray(n)?n:[n]).forEach(function(o){i[6].push({type:2,data:Et([[],[{type:0,data:Nt(o)}]])})}),t[3][s].data=Et(i)}function zVe(t,e,a,n){var r=e[a].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=t[3].findIndex(function(o){var c,l,u=ot(o.data);return(c=u[3])!=null&&c[0]?Co(u[3][0].data)==r:!!((l=u[2])!=null&&l[0]&&Co(u[2][0].data)==r)}),i=ot(t[3][s].data);i[6]||(i[6]=[]),i[6]=i[6].filter(function(o){return Jt(ot(o.data)[1][0].data)!=n}),t[3][s].data=Et(i)}function GVe(t,e,a){var n=-1,r=-1,s={};Xa(t,e,1,function(c,l){var u=ot(c.messages[0].data);n=xa(ot(c.messages[0].data)[1][0].data),r=ic({deps:[1],location:e[n].location,type:2},e),s[n]=r,ts(c,r),u[1].push({type:2,data:as(r)});var d=oc(t,e,n);d.id=r,e[1].location==e[r].location?l.push(d):Xa(t,e,r,function(p,m){return m.push(d)}),c.messages[0].data=Et(u)});var i=-1;Xa(t,e,r,function(c,l){for(var u=ot(c.messages[0].data),d=3;d<=69;++d)delete u[d];var p=Mu(u[2],xa);p.forEach(function(g){return Zc(c,g)}),i=ic({deps:[r],location:e[p[0]].location,type:e[p[0]].type},e),ts(c,i),s[p[0]]=i,u[2]=[{type:2,data:as(i)}];var m=oc(t,e,p[0]);m.id=i,e[p[0]].location==e[r].location?l.push(m):(Xa(t,e,2,function(g){var x=ot(g.messages[0].data);Us(x,e,r,i),g.messages[0].data=Et(x)}),Xa(t,e,i,function(g,x){return x.push(m)})),c.messages[0].data=Et(u)});var o=-1;Xa(t,e,i,function(c,l){for(var u=ot(c.messages[0].data),d=ot(u[1][0].data),p=3;p<=69;++p)delete d[p];var m=xa(d[2][0].data);d[2][0].data=as(s[m]),u[1][0].data=Et(d);var g=xa(u[2][0].data);Zc(c,g),o=ic({deps:[i],location:e[g].location,type:e[g].type},e),ts(c,o),s[g]=o,u[2][0].data=as(o);var x=oc(t,e,g);x.id=o,e[i].location==e[o].location?l.push(x):Xa(t,e,o,function(v,k){return k.push(x)}),c.messages[0].data=Et(u)}),Xa(t,e,o,function(c,l){var u,d,p=ot(c.messages[0].data),m=Co(p[1][0].data),g=m.replace(/-[A-Z0-9]*/,"-".concat(("0000"+a.toString(16)).slice(-4)));if(p[1][0].data=As(g),[12,13,29,31,32,33,39,44,47,81,82,84].forEach(function(S){return delete p[S]}),p[45]){var x=ot(p[45][0].data),v=xa(x[1][0].data);Zc(c,v),delete p[45]}if(p[70]){var k=ot(p[70][0].data);(u=k[2])==null||u.forEach(function(S){var C=ot(S.data);[2,3].map(function(E){return C[E][0]}).forEach(function(E){var R=ot(E.data);if(R[8]){var I=xa(R[8][0].data);Zc(c,I)}})}),delete p[70]}[46,30,34,35,36,38,48,49,60,61,62,63,64,71,72,73,74,75,85,86,87,88,89].forEach(function(S){if(p[S]){var C=xa(p[S][0].data);delete p[S],Zc(c,C)}});var b=ot(p[4][0].data);{[2,4,5,6,11,12,13,15,16,17,18,19,20,21,22].forEach(function(S){var C;if((C=b[S])!=null&&C[0]){var E=xa(b[S][0].data),R=ic({deps:[o],location:e[E].location,type:e[E].type},e);Zc(c,E),ts(c,R),s[E]=R;var I=oc(t,e,E);if(I.id=R,e[E].location==e[o].location)l.push(I);else{e[R].location=e[E].location.replace(E.toString(),R.toString()),e[R].location==e[E].location&&(e[R].location=e[R].location.replace(/\.iwa/,"-".concat(R,".iwa"))),$t.utils.cfb_add(t,e[R].location,Fp(Pp([I])));var P=e[R].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Xa(t,e,2,function(D){var B=ot(D.messages[0].data);eC(B,R,P),Us(B,e,o,R),D.messages[0].data=Et(B)})}b[S][0].data=as(R)}});var _=ot(b[1][0].data);(d=_[2])==null||d.forEach(function(S){var C=xa(S.data),E=ic({deps:[o],location:e[C].location,type:e[C].type},e);Zc(c,C),ts(c,E),s[C]=E;var R=oc(t,e,C);if(R.id=E,e[C].location==e[o].location)l.push(R);else{e[E].location=e[C].location.replace(C.toString(),E.toString()),e[E].location==e[C].location&&(e[E].location=e[E].location.replace(/\.iwa/,"-".concat(E,".iwa"))),$t.utils.cfb_add(t,e[E].location,Fp(Pp([R])));var I=e[E].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Xa(t,e,2,function(P){var D=ot(P.messages[0].data);eC(D,E,I),Us(D,e,o,E),P.messages[0].data=Et(D)})}S.data=as(E)}),b[1][0].data=Et(_);var A=ot(b[3][0].data);A[1].forEach(function(S){var C=ot(S.data),E=xa(C[2][0].data),R=s[E];if(!s[E]){R=ic({deps:[o],location:"",type:e[E].type},e),e[R].location="Root Entry/Index/Tables/Tile-".concat(R,".iwa"),s[E]=R;var I=oc(t,e,E);I.id=R,Zc(c,E),ts(c,R),$t.utils.cfb_add(t,"/Index/Tables/Tile-".concat(R,".iwa"),Fp(Pp([I]))),Xa(t,e,2,function(P){var D=ot(P.messages[0].data);D[3].push({type:2,data:Et([[],[{type:0,data:Nt(R)}],[{type:2,data:As("Tables/Tile")}],[{type:2,data:As("Tables/Tile-".concat(R))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Nt(0)}],[],[{type:0,data:Nt(0)}]])}),D[1]=[{type:0,data:Nt(Math.max(R+1,Jt(D[1][0].data)))}],Us(D,e,o,R),P.messages[0].data=Et(D)})}C[2][0].data=as(R),S.data=Et(C)}),b[3][0].data=Et(A)}p[4][0].data=Et(b),c.messages[0].data=Et(p)})}function UVe(t,e,a,n,r,s){var i=[];Xa(t,e,s,function(l){var u=ot(l.messages[0].data);u[1]=[{type:2,data:As(n)}],i=Mu(u[2],xa),l.messages[0].data=Et(u)});var o=oc(t,e,i[0]),c=xa(ot(o.messages[0].data)[2][0].data);Xa(t,e,c,function(l,u){return WVe(t,e,a,l,u,c)})}function WVe(t,e,a,n,r,s){if(!a["!ref"])throw new Error("Cannot export empty sheet to NUMBERS");var i=or(a["!ref"]);i.s.r=i.s.c=0;var o=!1;i.e.c>999&&(o=!0,i.e.c=999),i.e.r>999999&&(o=!0,i.e.r=999999),o&&console.error("Truncating to ".concat(ea(i)));var c=[];if(a["!data"])c=a["!data"];else{for(var l=[],u=0;u<=i.e.c;++u)l[u]=qt(u);for(var d=0;d<=i.e.r;++d){c[d]=[];var p=""+(d+1);for(u=0;u<=i.e.c;++u){var m=a[l[u]+p];m&&(c[d][u]=m)}}}var g={cmnt:[{a:"~54ee77S~",t:"... the people who are crazy enough to think they can change the world, are the ones who do."}],rsst:[{v:"~54ee77S~",l:"https://sheetjs.com/"}],sst:["~Sh33tJ5~"]},x=ot(n.messages[0].data);{x[6][0].data=Nt(i.e.r+1),x[7][0].data=Nt(i.e.c+1),delete x[46];var v=ot(x[4][0].data);{var k=xa(ot(v[1][0].data)[2][0].data);Xa(t,e,k,function(ue,le){var ie,ye=ot(ue.messages[0].data);if((ie=ye==null?void 0:ye[2])!=null&&ie[0])for(var ke=0;ke<c.length;++ke){var ge=ot(ye[2][0].data);ge[1][0].data=Nt(ke),ge[4][0].data=Nt(c[ke].length),ye[2][ke]={type:ye[2][0].type,data:Et(ge)}}ue.messages[0].data=Et(ye)});var b=xa(v[2][0].data);Xa(t,e,b,function(ue,le){for(var ie=ot(ue.messages[0].data),ye=0;ye<=i.e.c;++ye){var ke=ot(ie[2][0].data);ke[1][0].data=Nt(ye),ke[4][0].data=Nt(i.e.r+1),ie[2][ye]={type:ie[2][0].type,data:Et(ke)}}ue.messages[0].data=Et(ie)});var _=ot(v[9][0].data);_[1]=[];var A=ot(v[3][0].data);{var S=256;A[2]=[{type:0,data:Nt(S)}];var C=xa(ot(A[1][0].data)[2][0].data),E=function(){var ue=oc(t,e,2),le=ot(ue.messages[0].data),ie=le[3].filter(function(ye){return Jt(ot(ye.data)[1][0].data)==C});return ie!=null&&ie.length?Jt(ot(ie[0].data)[12][0].data):0}();$t.utils.cfb_del(t,e[C].location),Xa(t,e,2,function(ue){var le=ot(ue.messages[0].data);le[3]=le[3].filter(function(ie){return Jt(ot(ie.data)[1][0].data)!=C}),zVe(le,e,s,C),ue.messages[0].data=Et(le)}),Zc(n,C),A[1]=[];for(var R=Math.ceil((i.e.r+1)/S),I=0;I<R;++I){var P=ic({deps:[],location:"",type:6002},e);e[P].location="Root Entry/Index/Tables/Tile-".concat(P,".iwa");for(var D=[[],[{type:0,data:Nt(0)}],[{type:0,data:Nt(Math.min(i.e.r+1,(I+1)*S))}],[{type:0,data:Nt(0)}],[{type:0,data:Nt(Math.min((I+1)*S,i.e.r+1)-I*S)}],[],[{type:0,data:Nt(5)}],[{type:0,data:Nt(1)}],[{type:0,data:Nt(1)}]],B=I*S;B<=Math.min(i.e.r,(I+1)*S-1);++B){var U=LVe(c[B],g);U[1][0].data=Nt(B-I*S),D[5].push({data:Et(U),type:2})}A[1].push({type:2,data:Et([[],[{type:0,data:Nt(I)}],[{type:2,data:as(P)}]])});var V={id:P,messages:[QE(6002,Et(D))]},j=Fp(Pp([V]));$t.utils.cfb_add(t,"/Index/Tables/Tile-".concat(P,".iwa"),j),Xa(t,e,2,function(ue){var le=ot(ue.messages[0].data);le[3].push({type:2,data:Et([[],[{type:0,data:Nt(P)}],[{type:2,data:As("Tables/Tile")}],[{type:2,data:As("Tables/Tile-".concat(P))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:Nt(0)}],[],[{type:0,data:Nt(E)}]])}),le[1]=[{type:0,data:Nt(Math.max(P+1,Jt(le[1][0].data)))}],Us(le,e,s,P),ue.messages[0].data=Et(le)}),ts(n,P),_[1].push({type:2,data:Et([[],[{type:0,data:Nt(I*S)}],[{type:0,data:Nt(I)}]])})}}if(v[3][0].data=Et(A),v[9][0].data=Et(_),v[10]=[{type:2,data:new Uint8Array([])}],a["!merges"]){var W=ic({type:6144,deps:[s],location:e[s].location},e);r.push({id:W,messages:[QE(6144,Et([[],a["!merges"].map(function(ue){return{type:2,data:Et([[],[{type:2,data:Et([[],[{type:5,data:new Uint8Array(new Uint16Array([ue.s.r,ue.s.c]).buffer)}]])}],[{type:2,data:Et([[],[{type:5,data:new Uint8Array(new Uint16Array([ue.e.r-ue.s.r+1,ue.e.c-ue.s.c+1]).buffer)}]])}]])}})]))]}),v[13]=[{type:2,data:as(W)}],Xa(t,e,2,function(ue){var le=ot(ue.messages[0].data);Us(le,e,s,W),ue.messages[0].data=Et(le)}),ts(n,W)}else delete v[13];var Q=xa(v[4][0].data);Xa(t,e,Q,function(ue){var le=ot(ue.messages[0].data);le[3]=[],g.sst.forEach(function(ie,ye){ye!=0&&le[3].push({type:2,data:Et([[],[{type:0,data:Nt(ye)}],[{type:0,data:Nt(1)}],[{type:2,data:As(ie)}]])})}),ue.messages[0].data=Et(le)});var q=xa(v[17][0].data);if(Xa(t,e,q,function(ue){var le=ot(ue.messages[0].data);le[3]=[];var ie=[904980,903835,903815,903845];g.rsst.forEach(function(ye,ke){if(ke!=0){var ge=[[],[{type:0,data:new Uint8Array([5])}],[],[{type:2,data:As(ye.v)}]];ge[10]=[{type:0,data:new Uint8Array([1])}],ge[19]=[{type:2,data:new Uint8Array([10,6,8,0,18,2,101,110])}],ge[5]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,155,149,55])}],ge[2]=[{type:2,data:new Uint8Array([8,148,158,55])}],ge[6]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ge[7]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,135,149,55])}],ge[8]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,165,149,55])}],ge[14]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ge[24]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}];var G=ic({deps:[],location:"",type:2001},e),te=[];if(ye.l){var ee=If(t,2032,[[],[],[{type:2,data:As(ye.l)}]],"/Index/Tables/DataList",e);ge[11]=[];var ne=[[],[]];ne[1]||(ne[1]=[]),ne[1].push({type:2,data:Et([[],[{type:0,data:Nt(0)}],[{type:2,data:as(ee)}]])}),ge[11][0]={type:2,data:Et(ne)},te.push(ee)}If(t,2001,ge,"/Index/Tables/DataList",e,G),Xa(t,e,G,function(Y){ie.forEach(function(Ae){return ts(Y,Ae)}),te.forEach(function(Ae){return ts(Y,Ae)})});var be=If(t,6218,[[],[{type:2,data:as(G)}],[],[{type:2,data:new Uint8Array([13,255,255,255,0,18,10,16,255,255,1,24,255,255,255,255,7])}]],"/Index/Tables/DataList",e);Xa(t,e,be,function(Y){return ts(Y,G)}),le[3].push({type:2,data:Et([[],[{type:0,data:Nt(ke)}],[{type:0,data:Nt(1)}],[],[],[],[],[],[],[{type:2,data:as(be)}]])}),ts(ue,be),Xa(t,e,2,function(Y){var Ae=ot(Y.messages[0].data);Us(Ae,e,q,be),Us(Ae,e,be,G),Us(Ae,e,G,te),Us(Ae,e,G,ie),Y.messages[0].data=Et(Ae)})}}),ue.messages[0].data=Et(le)}),g.cmnt.length>1){var Z=xa(v[19][0].data),M={},se=0;Xa(t,e,Z,function(ue){var le=ot(ue.messages[0].data);le[3]=[],g.cmnt.forEach(function(ie,ye){if(ye!=0){var ke=[];ie.replies&&ie.replies.forEach(function(te){M[te.a||""]||(M[te.a||""]=If(t,212,[[],[{type:2,data:As(te.a||"")}],[{type:2,data:rB(++se)}],[],[{type:0,data:Nt(0)}]],"/Index/Tables/DataList",e));var ee=M[te.a||""],ne=If(t,3056,[[],[{type:2,data:As(te.t||"")}],[{type:2,data:Et([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:as(ee)}]],"/Index/Tables/DataList",e);Xa(t,e,ne,function(be){return ts(be,ee)}),ke.push(ne),Xa(t,e,2,function(be){var Y=ot(be.messages[0].data);Us(Y,e,ne,ee),be.messages[0].data=Et(Y)})}),M[ie.a||""]||(M[ie.a||""]=If(t,212,[[],[{type:2,data:As(ie.a||"")}],[{type:2,data:rB(++se)}],[],[{type:0,data:Nt(0)}]],"/Index/Tables/DataList",e));var ge=M[ie.a||""],G=If(t,3056,[[],[{type:2,data:As(ie.t||"")}],[{type:2,data:Et([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:as(ge)}],ke.map(function(te){return{type:2,data:as(te)}}),[{type:2,data:Et([[],[{type:0,data:Nt(ye)}],[{type:0,data:Nt(0)}]])}]],"/Index/Tables/DataList",e);Xa(t,e,G,function(te){ts(te,ge),ke.forEach(function(ee){return ts(te,ee)})}),le[3].push({type:2,data:Et([[],[{type:0,data:Nt(ye)}],[{type:0,data:Nt(1)}],[],[],[],[],[],[],[],[{type:2,data:as(G)}]])}),ts(ue,G),Xa(t,e,2,function(te){var ee=ot(te.messages[0].data);Us(ee,e,Z,G),Us(ee,e,G,ge),ke.length&&Us(ee,e,G,ke),te.messages[0].data=Et(ee)})}}),le[2][0].data=Nt(g.cmnt.length+1),ue.messages[0].data=Et(le)})}}x[4][0].data=Et(v)}n.messages[0].data=Et(x)}function mX(t){return function(a){for(var n=0;n!=t.length;++n){var r=t[n];a[r[0]]===void 0&&(a[r[0]]=r[1]),r[2]==="n"&&(a[r[0]]=Number(a[r[0]]))}}}function JD(t){mX([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function QD(t){mX([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function VVe(t){return la.WS.indexOf(t)>-1?"sheet":t==la.CS?"chart":t==la.DS?"dialog":t==la.MS?"macro":t&&t.length?t:"sheet"}function jVe(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,VVe(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function HVe(t,e,a,n,r,s,i,o){if(!(!t||!t["!legdrawel"])){var c=vp(t["!legdrawel"].Target,n),l=Is(a,c,!0);l&&aGe(Ha(l),t,o||[])}}function KVe(t,e,a,n,r,s,i,o,c,l,u,d){try{s[n]=pg(Is(t,a,!0),e);var p=Jn(t,e),m;switch(o){case"sheet":m=AWe(p,e,r,c,s[n],l,u,d);break;case"chart":if(m=NWe(p,e,r,c,s[n],l,u,d),!m||!m["!drawel"])break;var g=vp(m["!drawel"].Target,e),x=ly(g),v=tGe(Is(t,g,!0),pg(Is(t,x,!0),g)),k=vp(v,g),b=ly(k);m=q9e(Is(t,k,!0),k,c,pg(Is(t,b,!0),k),l,m);break;case"macro":m=SWe(p,e,r,c,s[n],l,u,d);break;case"dialog":m=TWe(p,e,r,c,s[n],l,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=m;var _=[],A=[];s&&s[n]&&hn(s[n]).forEach(function(S){var C="";if(s[n][S].Type==la.CMNT){if(C=vp(s[n][S].Target,e),_=IWe(Jn(t,C,!0),C,c),!_||!_.length)return;G5(m,_,!1)}s[n][S].Type==la.TCMNT&&(C=vp(s[n][S].Target,e),A=A.concat(iGe(Jn(t,C,!0),c)))}),A&&A.length&&G5(m,A,!0,c.people||[]),HVe(m,o,t,e,r,c,l,_)}catch(S){if(c.WTF)throw S}}function Li(t){return t.charAt(0)=="/"?t.slice(1):t}function gX(t,e){if(eh(),e=e||{},JD(e),zi(t,"META-INF/manifest.xml")||zi(t,"objectdata.xml"))return eB(t,e);if(zi(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof YS<"u"){if(t.FileIndex)return YS(t,e);var a=$t.utils.cfb_new();return c5(t).forEach(function(j){Zt(a,j,QMe(t,j))}),YS(a,e)}throw new Error("Unsupported NUMBERS file")}if(!zi(t,"[Content_Types].xml")){if(zi(t,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(zi(t,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");var n=$t.find(t,"Index.zip");if(n)return e=za(e),delete e.type,typeof n.content=="string"&&(e.type="binary"),typeof Bun<"u"&&Buffer.isBuffer(n.content)?nd(new Uint8Array(n.content),e):nd(n.content,e);throw new Error("Unsupported ZIP file")}var r=c5(t),s=H5e(Is(t,"[Content_Types].xml")),i=!1,o,c;if(s.workbooks.length===0&&(c="xl/workbook.xml",Jn(t,c,!0)&&s.workbooks.push(c)),s.workbooks.length===0){if(c="xl/workbook.bin",!Jn(t,c,!0))throw new Error("Could not find workbook");s.workbooks.push(c),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},u={};if(!e.bookSheets&&!e.bookProps){if(gg=[],s.sst)try{gg=CWe(Jn(t,Li(s.sst)),s.sst,e)}catch(j){if(e.WTF)throw j}e.cellStyles&&s.themes.length&&(l=bq(Is(t,s.themes[0].replace(/^\//,""),!0)||"",e)),s.style&&(u=EWe(Jn(t,Li(s.style)),s.style,l,e))}s.links.map(function(j){try{var W=pg(Is(t,ly(Li(j))),j);return DWe(Jn(t,Li(j)),W,j,e)}catch{}});var d=_We(Jn(t,Li(s.workbooks[0])),s.workbooks[0],e),p={},m="";s.coreprops.length&&(m=Jn(t,Li(s.coreprops[0]),!0),m&&(p=VK(m)),s.extprops.length!==0&&(m=Jn(t,Li(s.extprops[0]),!0),m&&J5e(m,p,e)));var g={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(m=Is(t,Li(s.custprops[0]),!0),m&&(g=eBe(m,e)));var x={};if((e.bookSheets||e.bookProps)&&(d.Sheets?o=d.Sheets.map(function(W){return W.name}):p.Worksheets&&p.SheetNames.length>0&&(o=p.SheetNames),e.bookProps&&(x.Props=p,x.Custprops=g),e.bookSheets&&typeof o<"u"&&(x.SheetNames=o),e.bookSheets?x.SheetNames:e.bookProps))return x;o={};var v={};e.bookDeps&&s.calcchain&&(v=RWe(Jn(t,Li(s.calcchain)),s.calcchain));var k=0,b={},_,A;{var S=d.Sheets;p.Worksheets=S.length,p.SheetNames=[];for(var C=0;C!=S.length;++C)p.SheetNames[C]=S[C].name}var E=i?"bin":"xml",R=s.workbooks[0].lastIndexOf("/"),I=(s.workbooks[0].slice(0,R+1)+"_rels/"+s.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");zi(t,I)||(I="xl/_rels/workbook."+E+".rels");var P=pg(Is(t,I,!0),I.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=PWe(Jn(t,Li(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=oGe(Jn(t,Li(s.people[0])),e)),P&&(P=jVe(P,d.Sheets));var D=Jn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(k=0;k!=p.Worksheets;++k){var B="sheet";if(P&&P[k]?(_="xl/"+P[k][1].replace(/[\/]?xl\//,""),zi(t,_)||(_=P[k][1]),zi(t,_)||(_=I.replace(/_rels\/[\S\s]*$/,"")+P[k][1]),B=P[k][2]):(_="xl/worksheets/sheet"+(k+1-D)+"."+E,_=_.replace(/sheet0\./,"sheet.")),A=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(k!=e.sheets)continue e;break;case"string":if(p.SheetNames[k].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var U=!1,V=0;V!=e.sheets.length;++V)typeof e.sheets[V]=="number"&&e.sheets[V]==k&&(U=1),typeof e.sheets[V]=="string"&&e.sheets[V].toLowerCase()==p.SheetNames[k].toLowerCase()&&(U=1);if(!U)continue e}}KVe(t,_,A,p.SheetNames[k],k,b,o,B,e,d,l,u)}return x={Directory:s,Workbook:d,Props:p,Custprops:g,Deps:v,Sheets:o,SheetNames:p.SheetNames,Strings:gg,Styles:u,Themes:l,SSF:za(Ct)},e&&e.bookFiles&&(t.files?(x.keys=r,x.files=t.files):(x.keys=[],x.files={},t.FullPaths.forEach(function(j,W){j=j.replace(/^Root Entry[\/]/,""),x.keys.push(j),x.files[j]=t.FileIndex[W]}))),e&&e.bookVBA&&(s.vba.length>0?x.vbaraw=Jn(t,Li(s.vba[0]),!0):s.defaults&&s.defaults.bin===hGe&&(x.vbaraw=Jn(t,"xl/vbaProject.bin",!0))),x.bookType=i?"xlsb":"xlsx",x}function qVe(t,e){var a=e||{},n="Workbook",r=$t.find(t,n);try{if(n="/!DataSpaces/Version",r=$t.find(t,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(N8e(r.content),n="/!DataSpaces/DataSpaceMap",r=$t.find(t,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=T8e(r.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",r=$t.find(t,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=E8e(r.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",r=$t.find(t,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);I8e(r.content)}catch{}if(n="/EncryptionInfo",r=$t.find(t,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=R8e(r.content);if(n="/EncryptedPackage",r=$t.find(t,n),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],r.content,a.password||"",a);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],r.content,a.password||"",a);throw new Error("File is password-protected")}function XVe(t,e){t&&!t.SSF&&(t.SSF=za(Ct)),t&&t.SSF&&(eh(),Dm(t.SSF),e.revssf=iv(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,yg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var a="bin",n=!0,r=zD();QD(e=e||{});var s=ND(),i="",o=0;if(e.cellXfs=[],Tc(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",Zt(s,i,jK(t.Props,e)),r.coreprops.push(i),Ua(e.rels,2,i,la.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],l=0;l<t.SheetNames.length;++l)(t.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(t.SheetNames[l]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,Zt(s,i,qK(t.Props)),r.extprops.push(i),Ua(e.rels,3,i,la.EXT_PROPS),t.Custprops!==t.Props&&hn(t.Custprops||{}).length>0&&(i="docProps/custom.xml",Zt(s,i,XK(t.Custprops)),r.custprops.push(i),Ua(e.rels,4,i,la.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:i="xl/worksheets/sheet"+o+"."+a,Zt(s,i,H9e(o-1,e,t,d)),r.sheets.push(i),Ua(e.wbrels,-1,"worksheets/sheet"+o+"."+a,la.WS[0])}if(p){var g=p["!comments"],x=!1,v="";if(g&&g.length>0){var k=!1;g.forEach(function(_){_[1].forEach(function(A){A.T==!0&&(k=!0)})}),k&&(v="xl/threadedComments/threadedComment"+o+".xml",Zt(s,v,Aq(g,u,e)),r.threadedcomments.push(v),Ua(d,-1,"../threadedComments/threadedComment"+o+".xml",la.TCMNT)),v="xl/comments"+o+"."+a,Zt(s,v,dGe(g)),r.comments.push(v),Ua(d,-1,"../comments"+o+"."+a,la.CMNT),x=!0}p["!legacy"]&&x&&Zt(s,"xl/drawings/vmlDrawing"+o+".vml",_q(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&Zt(s,ly(i),Rp(d))}e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+a,Zt(s,i,A8e(e.Strings)),r.strs.push(i),Ua(e.wbrels,-1,"sharedStrings."+a,la.SST)),i="xl/workbook."+a,Zt(s,i,bWe(t)),r.workbooks.push(i),Ua(e.rels,1,i,la.WB),i="xl/theme/theme1.xml";var b=HD(t.Themes,e);return Zt(s,i,b),r.themes.push(i),Ua(e.wbrels,-1,"theme/theme1.xml",la.THEME),i="xl/styles."+a,Zt(s,i,Eze(t,e)),r.styles.push(i),Ua(e.wbrels,-1,"styles."+a,la.STY),t.vbaraw&&n&&(i="xl/vbaProject.bin",Zt(s,i,t.vbaraw),r.vba.push(i),Ua(e.wbrels,-1,"vbaProject.bin",la.VBA)),i="xl/metadata."+a,Zt(s,i,qze()),r.metadata.push(i),Ua(e.wbrels,-1,"metadata."+a,la.XLMETA),u.length>1&&(i="xl/persons/person.xml",Zt(s,i,Nq(u)),r.people.push(i),Ua(e.wbrels,-1,"persons/person.xml",la.PEOPLE)),Zt(s,"[Content_Types].xml",UK(r,e)),Zt(s,"_rels/.rels",Rp(e.rels)),Zt(s,"xl/_rels/workbook."+a+".rels",Rp(e.wbrels)),delete e.revssf,delete e.ssf,s}function yX(t,e){t&&!t.SSF&&(t.SSF=za(Ct)),t&&t.SSF&&(eh(),Dm(t.SSF),e.revssf=iv(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,yg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var a="xml",n=gGe.indexOf(e.bookType)>-1,r=zD();QD(e=e||{});var s=ND(),i="",o=0;if(e.cellXfs=[],Tc(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",Zt(s,i,jK(t.Props,e)),r.coreprops.push(i),Ua(e.rels,2,i,la.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],l=0;l<t.SheetNames.length;++l)(t.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(t.SheetNames[l]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,Zt(s,i,qK(t.Props)),r.extprops.push(i),Ua(e.rels,3,i,la.EXT_PROPS),t.Custprops!==t.Props&&hn(t.Custprops||{}).length>0&&(i="docProps/custom.xml",Zt(s,i,XK(t.Custprops)),r.custprops.push(i),Ua(e.rels,4,i,la.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:i="xl/worksheets/sheet"+o+"."+a,Zt(s,i,P7e(o-1,e,t,d)),r.sheets.push(i),Ua(e.wbrels,-1,"worksheets/sheet"+o+"."+a,la.WS[0])}if(p){var g=p["!comments"],x=!1,v="";if(g&&g.length>0){var k=!1;g.forEach(function(b){b[1].forEach(function(_){_.T==!0&&(k=!0)})}),k&&(v="xl/threadedComments/threadedComment"+o+".xml",Zt(s,v,Aq(g,u,e)),r.threadedcomments.push(v),Ua(d,-1,"../threadedComments/threadedComment"+o+".xml",la.TCMNT)),v="xl/comments"+o+"."+a,Zt(s,v,sGe(g)),r.comments.push(v),Ua(d,-1,"../comments"+o+"."+a,la.CMNT),x=!0}p["!legacy"]&&x&&Zt(s,"xl/drawings/vmlDrawing"+o+".vml",_q(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&Zt(s,ly(i),Rp(d))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+a,Zt(s,i,x8e(e.Strings,e)),r.strs.push(i),Ua(e.wbrels,-1,"sharedStrings."+a,la.SST)),i="xl/workbook."+a,Zt(s,i,iWe(t)),r.workbooks.push(i),Ua(e.rels,1,i,la.WB),i="xl/theme/theme1.xml",Zt(s,i,HD(t.Themes,e)),r.themes.push(i),Ua(e.wbrels,-1,"theme/theme1.xml",la.THEME),i="xl/styles."+a,Zt(s,i,ize(t,e)),r.styles.push(i),Ua(e.wbrels,-1,"styles."+a,la.STY),t.vbaraw&&n&&(i="xl/vbaProject.bin",Zt(s,i,t.vbaraw),r.vba.push(i),Ua(e.wbrels,-1,"vbaProject.bin",la.VBA)),i="xl/metadata."+a,Zt(s,i,Yze()),r.metadata.push(i),Ua(e.wbrels,-1,"metadata."+a,la.XLMETA),u.length>1&&(i="xl/persons/person.xml",Zt(s,i,Nq(u)),r.people.push(i),Ua(e.wbrels,-1,"persons/person.xml",la.PEOPLE)),Zt(s,"[Content_Types].xml",UK(r,e)),Zt(s,"_rels/.rels",Rp(e.rels)),Zt(s,"xl/_rels/workbook."+a+".rels",Rp(e.wbrels)),delete e.revssf,delete e.ssf,s}function eP(t,e){var a="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":a=yi(t.slice(0,12));break;case"binary":a=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function YVe(t,e){return $t.find(t,"EncryptedPackage")?qVe(t,e):ZD(t,e)}function ZVe(t,e){var a,n=t,r=e||{};return r.type||(r.type=oa&&Buffer.isBuffer(t)?"buffer":"base64"),a=wK(n,r),gX(a,r)}function vX(t,e){var a=0;e:for(;a<t.length;)switch(t.charCodeAt(a)){case 10:case 13:case 32:++a;break;case 60:return ZE(t.slice(a),e);default:break e}return tm.to_workbook(t,e)}function JVe(t,e){var a="",n=eP(t,e);switch(e.type){case"base64":a=yi(t);break;case"binary":a=t;break;case"buffer":a=t.toString("binary");break;case"array":a=Ed(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(a=Ha(a)),e.type="binary",vX(a,e)}function QVe(t,e){var a=t;return e.type=="base64"&&(a=yi(a)),typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer&&(a=new Uint8Array(t)),a=typeof ta<"u"?ta.utils.decode(1200,a.slice(2),"str"):oa&&Buffer.isBuffer(t)?t.slice(2).toString("utf16le"):typeof Uint8Array<"u"&&a instanceof Uint8Array?typeof TextDecoder<"u"?new TextDecoder("utf-16le").decode(a.slice(2)):tMe(a.slice(2)):sK(a.slice(2)),e.type="binary",vX(a,e)}function eje(t){return t.match(/[^\x00-\x7F]/)?uc(t):t}function ZS(t,e,a,n){return n?(a.type="string",tm.to_workbook(t,a)):tm.to_workbook(e,a)}function nd(t,e){p2();var a=e||{};if(a.codepage&&typeof ta>"u"&&console.error("Codepage tables are not loaded.  Non-ASCII characters may not give expected results"),typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return nd(new Uint8Array(t),(a=za(a),a.type="array",a));if(typeof Int8Array<"u"&&t instanceof Int8Array)return nd(new Uint8Array(t.buffer,t.byteOffset,t.length),a);typeof Uint8Array<"u"&&t instanceof Uint8Array&&!a.type&&(a.type=typeof Deno<"u"?"buffer":"array");var n=t,r=[0,0,0,0],s=!1;if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),Dp={},a.dateNF&&(Dp.dateNF=a.dateNF),a.type||(a.type=oa&&Buffer.isBuffer(t)?"buffer":"base64"),a.type=="file"&&(a.type=oa?"buffer":"binary",n=FMe(t),typeof Uint8Array<"u"&&!oa&&(a.type="array")),a.type=="string"&&(s=!0,a.type="binary",a.codepage=65001,n=eje(t)),a.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return a=za(a),a.type="array",nd(vD(n),a)}switch((r=eP(n,a))[0]){case 208:if(r[1]===207&&r[2]===17&&r[3]===224&&r[4]===161&&r[5]===177&&r[6]===26&&r[7]===225)return YVe($t.read(n,a),a);break;case 9:if(r[1]<=8)return ZD(n,a);break;case 60:return ZE(n,a);case 73:if(r[1]===73&&r[2]===42&&r[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(r[1]===68)return l8e(n,a);break;case 84:if(r[1]===65&&r[2]===66&&r[3]===76)return hq.to_workbook(n,a);break;case 80:return r[1]===75&&r[2]<9&&r[3]<9?ZVe(n,a):ZS(t,n,a,s);case 239:return r[3]===60?ZE(n,a):ZS(t,n,a,s);case 255:if(r[1]===254)return QVe(n,a);if(r[1]===0&&r[2]===2&&r[3]===0)return ed.to_workbook(n,a);break;case 0:if(r[1]===0&&(r[2]>=2&&r[3]===0||r[2]===0&&(r[3]===8||r[3]===9)))return ed.to_workbook(n,a);break;case 3:case 131:case 139:case 140:return YE.to_workbook(n,a);case 123:if(r[1]===92&&r[2]===114&&r[3]===116)return W8e(n,a);break;case 10:case 13:case 32:return JVe(n,a);case 137:if(r[1]===80&&r[2]===78&&r[3]===71)throw new Error("PNG Image File is not a spreadsheet");break;case 8:if(r[1]===231)throw new Error("Unsupported Multiplan 1.x file!");break;case 12:if(r[1]===236)throw new Error("Unsupported Multiplan 2.x file!");if(r[1]===237)throw new Error("Unsupported Multiplan 3.x file!");break}return c8e.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?YE.to_workbook(n,a):ZS(t,n,a,s)}function sB(t,e){var a=e||{};return a.type="file",nd(t,a)}function xX(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return sv(e.file,$t.write(t,{type:oa?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return $t.write(t,e)}function tje(t,e){switch(e.bookType){case"ods":return uX(t,e);case"numbers":return BVe(t,e);case"xlsb":return XVe(t,e);default:return yX(t,e)}}function aje(t,e){var a=za(e||{}),n=tje(t,a);return kX(n,a)}function nje(t,e){var a=za(e||{}),n=yX(t,a);return kX(n,a)}function kX(t,e){var a={},n=oa?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(a.compression="DEFLATE"),e.password)a.type=n;else switch(e.type){case"base64":a.type="base64";break;case"binary":a.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":a.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var r=t.FullPaths?$t.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[a.type]||a.type,compression:!!e.compression}):t.generate(a);if(typeof Deno<"u"&&typeof r=="string"){if(e.type=="binary"||e.type=="base64")return r;r=new Uint8Array(rv(r))}return e.password&&typeof encrypt_agile<"u"?xX(encrypt_agile(r,e.password),e):e.type==="file"?sv(e.file,r):e.type=="string"?Ha(r):r}function rje(t,e){var a=e||{},n=JWe(t,a);return xX(n,a)}function tc(t,e,a){a||(a="");var n=a+t;switch(e.type){case"base64":return Lw(uc(n));case"binary":return uc(n);case"string":return t;case"file":return sv(e.file,n,"utf8");case"buffer":return oa?Dc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):tc(n,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function sje(t,e){switch(e.type){case"base64":return rMe(t);case"binary":return t;case"string":return t;case"file":return sv(e.file,t,"binary");case"buffer":return oa?Dc(t,"binary"):t.split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function pk(t,e){switch(e.type){case"string":case"base64":case"binary":for(var a="",n=0;n<t.length;++n)a+=String.fromCharCode(t[n]);return e.type=="base64"?Lw(a):e.type=="string"?Ha(a):a;case"file":return sv(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function tP(t,e){p2(),Gq(t);var a=za(e||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),a.type=="array"){a.type="binary";var n=tP(t,a);return a.type="array",rv(n)}return nje(t,a)}function N2(t,e){p2(),Gq(t);var a=za(e||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),a.type=="array"){a.type="binary";var n=N2(t,a);return a.type="array",rv(n)}var r=0;if(a.sheet&&(typeof a.sheet=="number"?r=a.sheet:r=t.SheetNames.indexOf(a.sheet),!t.SheetNames[r]))throw new Error("Sheet not found: "+a.sheet+" : "+typeof a.sheet);switch(a.bookType||"xlsb"){case"xml":case"xlml":return tc(jWe(t,a),a);case"slk":case"sylk":return tc(dq.from_sheet(t.Sheets[t.SheetNames[r]],a,t),a);case"htm":case"html":return tc(sX(t.Sheets[t.SheetNames[r]],a),a);case"txt":return sje(_X(t.Sheets[t.SheetNames[r]],a),a);case"csv":return tc(nP(t.Sheets[t.SheetNames[r]],a),a,"\uFEFF");case"dif":return tc(hq.from_sheet(t.Sheets[t.SheetNames[r]],a),a);case"dbf":return pk(YE.from_sheet(t.Sheets[t.SheetNames[r]],a),a);case"prn":return tc(tm.from_sheet(t.Sheets[t.SheetNames[r]],a),a);case"rtf":return tc(V8e(t.Sheets[t.SheetNames[r]]),a);case"eth":return tc(pq.from_sheet(t.Sheets[t.SheetNames[r]],a),a);case"fods":return tc(uX(t,a),a);case"wk1":return pk(ed.sheet_to_wk1(t.Sheets[t.SheetNames[r]],a),a);case"wk3":return pk(ed.book_to_wk3(t,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),pk(eX(t,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),rje(t,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return aje(t,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function aP(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},a=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();a.match(/^\.[a-z]+$/)&&(t.bookType=a.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function iB(t,e,a){var n=a||{};return n.type="file",n.file=e,aP(n),N2(t,n)}function ije(t,e,a){var n=a||{};return n.type="file",n.file=e,aP(n),tP(t,n)}function oje(t,e,a,n){var r=a||{};r.type="file",r.file=t,aP(r),r.type="buffer";var s=n;return s instanceof Function||(s=a),sl.writeFile(t,N2(e,r),s)}function wX(t,e,a,n,r,s,i){var o=fa(a),c=i.defval,l=i.raw||!Object.prototype.hasOwnProperty.call(i,"raw"),u=!0,d=t["!data"]!=null,p=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:a,enumerable:!1})}catch{p.__rowNum__=a}else p.__rowNum__=a;if(!d||t["!data"][a])for(var m=e.s.c;m<=e.e.c;++m){var g=d?(t["!data"][a]||[])[m]:t[n[m]+o];if(g==null||g.t===void 0){if(c===void 0)continue;s[m]!=null&&(p[s[m]]=c);continue}var x=g.v;switch(g.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"b":case"n":if(!g.z||!vi(g.z)||(x=fl(x),typeof x=="number"))break;case"d":i&&(i.UTC||i.raw===!1)||(x=Cd(new Date(x)));break;default:throw new Error("unrecognized type "+g.t)}if(s[m]!=null){if(x==null)if(g.t=="e"&&x===null)p[s[m]]=null;else if(c!==void 0)p[s[m]]=c;else if(l&&x===null)p[s[m]]=null;else continue;else p[s[m]]=(g.t==="n"&&typeof i.rawNumbers=="boolean"?i.rawNumbers:l)?x:Sc(g,x,i);x!=null&&(u=!1)}}return{row:p,isempty:u}}function tC(t,e){if(t==null||t["!ref"]==null)return[];var a={t:"n",v:0},n=0,r=1,s=[],i=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},l=e||{},u=l.range!=null?l.range:t["!ref"];switch(l.header===1?n=1:l.header==="A"?n=2:Array.isArray(l.header)?n=3:l.header==null&&(n=0),typeof u){case"string":c=wa(u);break;case"number":c=wa(t["!ref"]),c.s.r=u;break;default:c=u}n>0&&(r=0);var d=fa(c.s.r),p=[],m=[],g=0,x=0,v=t["!data"]!=null,k=c.s.r,b=0,_={};v&&!t["!data"][k]&&(t["!data"][k]=[]);var A=l.skipHidden&&t["!cols"]||[],S=l.skipHidden&&t["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(A[b]||{}).hidden)switch(p[b]=qt(b),a=v?t["!data"][k][b]:t[p[b]+d],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=p[b];break;case 3:s[b]=l.header[b-c.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),o=i=Sc(a,null,l),x=_[i]||0,!x)_[i]=1;else{do o=i+"_"+x++;while(_[o]);_[i]=x,_[o]=1}s[b]=o}for(k=c.s.r+r;k<=c.e.r;++k)if(!(S[k]||{}).hidden){var C=wX(t,c,k,p,n,s,l);(C.isempty===!1||(n===1?l.blankrows!==!1:l.blankrows))&&(m[g++]=C.row)}return m.length=g,m}var oB=/"/g;function bX(t,e,a,n,r,s,i,o,c){for(var l=!0,u=[],d="",p=fa(a),m=t["!data"]!=null,g=m&&t["!data"][a]||[],x=e.s.c;x<=e.e.c;++x)if(n[x]){var v=m?g[x]:t[n[x]+p];if(v==null)d="";else if(v.v!=null){l=!1,d=""+(c.rawNumbers&&v.t=="n"?v.v:Sc(v,null,c));for(var k=0,b=0;k!==d.length;++k)if((b=d.charCodeAt(k))===r||b===s||b===34||c.forceQuotes){d='"'+d.replace(oB,'""')+'"';break}d=="ID"&&o==0&&u.length==0&&(d='"ID"')}else v.f!=null&&!v.F?(l=!1,d="="+v.f,d.indexOf(",")>=0&&(d='"'+d.replace(oB,'""')+'"')):d="";u.push(d)}if(c.strip)for(;u[u.length-1]==="";)--u.length;return c.blankrows===!1&&l?null:u.join(i)}function nP(t,e){var a=[],n=e??{};if(t==null||t["!ref"]==null)return"";for(var r=wa(t["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),l="",u=[],d=n.skipHidden&&t["!cols"]||[],p=n.skipHidden&&t["!rows"]||[],m=r.s.c;m<=r.e.c;++m)(d[m]||{}).hidden||(u[m]=qt(m));for(var g=0,x=r.s.r;x<=r.e.r;++x)(p[x]||{}).hidden||(l=bX(t,r,x,u,i,c,s,g,n),l!=null&&(l||n.blankrows!==!1)&&a.push((g++?o:"")+l));return a.join("")}function _X(t,e){e||(e={}),e.FS="	",e.RS=`
`;var a=nP(t,e);if(typeof ta>"u"||e.type=="string")return a;var n=ta.utils.encode(1200,a,"str");return""+n}function cje(t,e){var a="",n,r="";if(t==null||t["!ref"]==null)return[];var s=wa(t["!ref"]),i="",o=[],c,l=[],u=t["!data"]!=null;for(c=s.s.c;c<=s.e.c;++c)o[c]=qt(c);for(var d=s.s.r;d<=s.e.r;++d)for(i=fa(d),c=s.s.c;c<=s.e.c;++c)if(a=o[c]+i,n=u?(t["!data"][d]||[])[c]:t[a],r="",n!==void 0){if(n.F!=null){if(a=n.F,!n.f)continue;r=n.f,a.indexOf(":")==-1&&(a=a+":"+a)}if(n.f!=null)r=n.f;else{if(e&&e.values===!1)continue;if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=a+"="+r}return l}function AX(t,e,a){var n=a||{},r=t?t["!data"]!=null:n.dense,s=+!n.skipHeader,i=t||{};!t&&r&&(i["!data"]=[]);var o=0,c=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?Ka(n.origin):n.origin;o=l.r,c=l.c}var u={s:{c:0,r:0},e:{c,r:o+e.length-1+s}};if(i["!ref"]){var d=wa(i["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(o=d.e.r+1,u.e.r=o+e.length-1+s)}else o==-1&&(o=0,u.e.r=e.length-1+s);var p=n.header||[],m=0,g=[];e.forEach(function(v,k){r&&!i["!data"][o+k+s]&&(i["!data"][o+k+s]=[]),r&&(g=i["!data"][o+k+s]),hn(v).forEach(function(b){(m=p.indexOf(b))==-1&&(p[m=p.length]=b);var _=v[b],A="z",S="",C=r?"":qt(c+m)+fa(o+k+s),E=r?g[c+m]:i[C];_&&typeof _=="object"&&!(_ instanceof Date)?r?g[c+m]=_:i[C]=_:(typeof _=="number"?A="n":typeof _=="boolean"?A="b":typeof _=="string"?A="s":_ instanceof Date?(A="d",n.UTC||(_=g2(_)),n.cellDates||(A="n",_=In(_)),S=E!=null&&E.z&&vi(E.z)?E.z:n.dateNF||Ct[14]):_===null&&n.nullError&&(A="e",_=0),E?(E.t=A,E.v=_,delete E.w,delete E.R,S&&(E.z=S)):r?g[c+m]=E={t:A,v:_}:i[C]=E={t:A,v:_},S&&(E.z=S))})}),u.e.c=Math.max(u.e.c,c+p.length-1);var x=fa(o);if(r&&!i["!data"][o]&&(i["!data"][o]=[]),s)for(m=0;m<p.length;++m)r?i["!data"][o][m+c]={t:"s",v:p[m]}:i[qt(m+c)+x]={t:"s",v:p[m]};return i["!ref"]=ea(u),i}function lje(t,e){return AX(null,t,e)}function yy(t,e,a){if(typeof e=="string"){if(t["!data"]!=null){var n=Ka(e);return t["!data"][n.r]||(t["!data"][n.r]=[]),t["!data"][n.r][n.c]||(t["!data"][n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?yy(t,ua(e)):yy(t,qt(a||0)+fa(e))}function uje(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var a=t.SheetNames.indexOf(e);if(a>-1)return a;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function rP(t,e){var a={SheetNames:[],Sheets:{}};return t&&mv(a,t,e||"Sheet1"),a}function mv(t,e,a,n){var r=1;if(!a)for(;r<=65535&&t.SheetNames.indexOf(a="Sheet"+r)!=-1;++r,a=void 0);if(!a||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(a)>=0&&a.length<32){var s=a.match(/\d+$/);r=s&&+s[0]||0;var i=s&&a.slice(0,s.index)||a;for(++r;r<=65535&&t.SheetNames.indexOf(a=i+r)!=-1;++r);}if(zq(a),t.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return t.SheetNames.push(a),t.Sheets[a]=e,a}function fje(t,e,a){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=uje(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}t.Workbook.Sheets[n].Hidden=a}function dje(t,e){return t.z=e,t}function NX(t,e,a){return e?(t.l={Target:e},a&&(t.l.Tooltip=a)):delete t.l,t}function hje(t,e,a){return NX(t,"#"+e,a)}function pje(t,e,a){t.c||(t.c=[]),t.c.push({t:e,a:a||"SheetJS"})}function mje(t,e,a,n){for(var r=typeof e!="string"?e:wa(e),s=typeof e=="string"?e:ea(e),i=r.s.r;i<=r.e.r;++i)for(var o=r.s.c;o<=r.e.c;++o){var c=yy(t,i,o);c.t="n",c.F=s,delete c.v,i==r.s.r&&o==r.s.c&&(c.f=a,n&&(c.D=!0))}var l=or(t["!ref"]);return l.s.r>r.s.r&&(l.s.r=r.s.r),l.s.c>r.s.c&&(l.s.c=r.s.c),l.e.r<r.e.r&&(l.e.r=r.e.r),l.e.c<r.e.c&&(l.e.c=r.e.c),t["!ref"]=ea(l),t}var gje={encode_col:qt,encode_row:fa,encode_cell:ua,encode_range:ea,decode_col:OD,decode_row:FD,split_cell:b5e,decode_cell:Ka,decode_range:or,format_cell:Sc,sheet_new:_5e,sheet_add_aoa:$K,sheet_add_json:AX,sheet_add_dom:iX,aoa_to_sheet:Fm,json_to_sheet:lje,table_to_sheet:oX,table_to_book:yVe,sheet_to_csv:nP,sheet_to_txt:_X,sheet_to_json:tC,sheet_to_html:sX,sheet_to_formulae:cje,sheet_to_row_object_array:tC,sheet_get_cell:yy,book_new:rP,book_append_sheet:mv,book_set_sheet_visibility:fje,cell_set_number_format:dje,cell_set_hyperlink:NX,cell_set_internal_link:hje,cell_add_comment:pje,sheet_set_array_formula:mje,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},gv;function yje(t){gv=t}function vje(t,e){var a=gv(),n=e??{};if(t==null||t["!ref"]==null)return a.push(null),a;for(var r=wa(t["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),l="",u=[],d=n.skipHidden&&t["!cols"]||[],p=n.skipHidden&&t["!rows"]||[],m=r.s.c;m<=r.e.c;++m)(d[m]||{}).hidden||(u[m]=qt(m));var g=r.s.r,x=!1,v=0;return a._read=function(){if(!x)return x=!0,a.push("\uFEFF");for(;g<=r.e.r;)if(++g,!(p[g-1]||{}).hidden&&(l=bX(t,r,g-1,u,i,c,s,v,n),l!=null&&(l||n.blankrows!==!1)))return a.push((v++?o:"")+l);return a.push(null)},a}function xje(t,e){var a=gv(),n=e||{},r=n.header!=null?n.header:aX,s=n.footer!=null?n.footer:nX;a.push(r);var i=or(t["!ref"]);a.push(rX(t,i,n));var o=i.s.r,c=!1;return a._read=function(){if(o>i.e.r)return c||(c=!0,a.push("</table>"+s)),a.push(null);for(;o<=i.e.r;){a.push(tX(t,i,o,n)),++o;break}},a}function kje(t,e){var a=gv({objectMode:!0});if(t==null||t["!ref"]==null)return a.push(null),a;var n={t:"n",v:0},r=0,s=1,i=[],o=0,c="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:t["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)&&(r=3),typeof d){case"string":l=wa(d);break;case"number":l=wa(t["!ref"]),l.s.r=d;break;default:l=d}r>0&&(s=0);var p=fa(l.s.r),m=[],g=0,x=t["!data"]!=null,v=l.s.r,k=0,b={};x&&!t["!data"][v]&&(t["!data"][v]=[]);var _=u.skipHidden&&t["!cols"]||[],A=u.skipHidden&&t["!rows"]||[];for(k=l.s.c;k<=l.e.c;++k)if(!(_[k]||{}).hidden)switch(m[k]=qt(k),n=x?t["!data"][v][k]:t[m[k]+p],r){case 1:i[k]=k-l.s.c;break;case 2:i[k]=m[k];break;case 3:i[k]=u.header[k-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=Sc(n,null,u),g=b[o]||0,!g)b[o]=1;else{do c=o+"_"+g++;while(b[c]);b[o]=g,b[c]=1}i[k]=c}return v=l.s.r+s,a._read=function(){for(;v<=l.e.r;)if(!(A[v-1]||{}).hidden){var S=wX(t,l,v,m,r,i,u);if(++v,S.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows)){a.push(S.row);return}}return a.push(null)},a}function wje(t,e){var a=gv(),n=e??{},r=+n.stride||10;t.SSF||(t.SSF=za(Ct)),t.SSF&&(eh(),Dm(t.SSF),n.revssf=iv(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF,n.cellXfs=[],Tc(n.cellXfs,{},{revssf:{General:0}})),t.SheetNames.forEach(function(k){var b=t.Sheets[k];if(!(!b||!b["!ref"])){for(var _=or(b["!ref"]),A=b["!data"]!=null,S=A?b["!data"]:[],C=_.s.r;C<=_.e.r;++C)if(!(A&&!S[C]))for(var E=_.s.c;E<=_.e.c;++E){var R=A?S[C][E]:b[qt(E)+fa(C)];R&&(R.t=="d"&&R.z==null&&(R=za(R),R.z=Ct[14]),Tc(n.cellXfs,R,n))}}});var s=Hq(t,n),i=0,o=0,c=t.Sheets[t.SheetNames[o]],l=wa(c),u=-1,d=!1,p=[],m=0,g=!1,x=[],v={r:0,c:0};return a._read=function(){switch(i){case 0:i=1,a.push(Un),a.push("<Workbook"+Id({xmlns:mr.ss,"xmlns:o":mr.o,"xmlns:x":mr.x,"xmlns:ss":mr.ss,"xmlns:dt":mr.dt,"xmlns:html":mr.html})+">");break;case 1:i=2,a.push(Vq(t,n)),a.push(jq(t));break;case 2:i=3,a.push(s),a.push(qq(t));break;case 3:{if(d=!1,o>=t.SheetNames.length){i=-1,a.push("");break}if(a.push("<Worksheet"+Id({"ss:Name":Qt(t.SheetNames[o])})+">"),c=t.Sheets[t.SheetNames[o]],!c)return a.push("</Worksheet>"),void++o;var k=Xq(c,n,o,t);if(k.length&&a.push("<Names>"+k+"</Names>"),!c["!ref"])return i=5;l=wa(c["!ref"]),u=l.s.r,i=4}break;case 4:{if(u<0||u>l.e.r)return d&&a.push("</Table>"),void(i=5);u<=l.s.r&&(c["!cols"]&&c["!cols"].forEach(function(R,I){wl(R);var P=!!R.width,D=pv(I,R),B={"ss:Index":I+1};P&&(B["ss:Width"]=am(D.width)),R.hidden&&(B["ss:Hidden"]="1"),d||(d=!0,a.push("<Table>")),a.push(nt("Column",null,B))}),g=c["!data"]!=null,g&&(x=c["!data"]),v.r=v.c=0);for(var b=0;u<=l.e.r&&b<r;++u,++b){var _=[Jq(u,(c["!rows"]||[])[u])];if(v.r=u,!(g&&!x[u]))for(var A=l.s.c;A<=l.e.c;++A){v.c=A;var S=!1;for(m=0;m!=p.length;++m)if(!(p[m].s.c>A)&&!(p[m].s.r>u)&&!(p[m].e.c<A)&&!(p[m].e.r<u)){(p[m].s.c!=A||p[m].s.r!=u)&&(S=!0);break}if(!S){var C=qt(A)+fa(u),E=g?x[u][A]:c[C];_.push(Zq(E,C,c,n,o,t,v))}}_.push("</Row>"),d||(d=!0,a.push("<Table>")),a.push(_.join(""))}}break;case 5:return a.push(Yq(c,n,o,t)),c&&c["!autofilter"]&&a.push('<AutoFilter x:Range="'+uv(Qp(c["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),a.push("</Worksheet>"),o++,u=-1,void(i=3);case-1:i=-2,a.push("</Workbook>");break;case-2:a.push(null);break}},a}var bje={to_json:kje,to_html:xje,to_csv:vje,to_xlml:wje,set_readable:yje};const wg={parse_xlscfb:ZD,parse_zip:gX,read:nd,readFile:sB,readFileSync:sB,write:N2,writeFile:iB,writeFileSync:iB,writeFileAsync:oje,writeXLSX:tP,writeFileXLSX:ije,utils:gje,set_fs:PMe,set_cptable:aMe,stream:bje,SSF:mK,CFB:$t},_je=()=>{const{ownedCards:t}=F.use(Ey),e=()=>{const a=$p.filter(s=>!s.linkedCardID).map(s=>{var i;return{Id:s.card_id,CardName:s.name,NumberOwned:((i=t.find(o=>o.card_id===s.card_id))==null?void 0:i.amount_owned)??0}}),n=wg.utils.json_to_sheet(a),r=wg.utils.book_new(n);wg.writeFile(r,"tcgcollectiontracterexport.csv")};return L.jsx(rn,{onClick:()=>e(),type:"submit",className:"w-40",children:"Download CSV file"})};function Aje(){const{user:t}=F.use(Al);return t?L.jsxs("div",{className:"flex flex-col gap-y-4 mx-auto",children:[L.jsx(Fw,{title:"Export",paragraph:"This will export your current collection to a CSV file.",className:"bg-amber-600"}),L.jsx("div",{className:"w-full text-center",children:L.jsx(_je,{})})]}):L.jsx(Fw,{title:"Sign up to export your collection",paragraph:"To export your collection, please log in.",className:"bg-gray-400"})}var JS={exports:{}},QS,cB;function Nje(){if(cB)return QS;cB=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return QS=t,QS}var eT,lB;function Sje(){if(lB)return eT;lB=1;var t=Nje();function e(){}function a(){}return a.resetWarningCache=e,eT=function(){function n(i,o,c,l,u,d){if(d!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function r(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:e};return s.PropTypes=s,s},eT}var uB;function Tje(){return uB||(uB=1,JS.exports=Sje()()),JS.exports}var Eje=Tje();const nn=Od(Eje),Cje=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function rm(t,e,a){const n=Ije(t),{webkitRelativePath:r}=t,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${t.name}`;return typeof n.path!="string"&&fB(n,"path",s),fB(n,"relativePath",s),n}function Ije(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const n=e.split(".").pop().toLowerCase(),r=Cje.get(n);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}function fB(t,e,a){Object.defineProperty(t,e,{value:a,writable:!1,configurable:!1,enumerable:!0})}const Rje=[".DS_Store","Thumbs.db"];function Dje(t){return zd(this,void 0,void 0,function*(){return qw(t)&&Pje(t.dataTransfer)?Lje(t.dataTransfer,t.type):Fje(t)?Oje(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?$je(t):[]})}function Pje(t){return qw(t)}function Fje(t){return qw(t)&&qw(t.target)}function qw(t){return typeof t=="object"&&t!==null}function Oje(t){return aC(t.target.files).map(e=>rm(e))}function $je(t){return zd(this,void 0,void 0,function*(){return(yield Promise.all(t.map(a=>a.getFile()))).map(a=>rm(a))})}function Lje(t,e){return zd(this,void 0,void 0,function*(){if(t.items){const a=aC(t.items).filter(r=>r.kind==="file");if(e!=="drop")return a;const n=yield Promise.all(a.map(Mje));return dB(SX(n))}return dB(aC(t.files).map(a=>rm(a)))})}function dB(t){return t.filter(e=>Rje.indexOf(e.name)===-1)}function aC(t){if(t===null)return[];const e=[];for(let a=0;a<t.length;a++){const n=t[a];e.push(n)}return e}function Mje(t){if(typeof t.webkitGetAsEntry!="function")return hB(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?TX(e):hB(t,e)}function SX(t){return t.reduce((e,a)=>[...e,...Array.isArray(a)?SX(a):[a]],[])}function hB(t,e){return zd(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const i=yield s.getFile();return i.handle=s,rm(i)}}const n=t.getAsFile();if(!n)throw new Error(`${t} is not a File`);return rm(n,(a=e==null?void 0:e.fullPath)!==null&&a!==void 0?a:void 0)})}function Bje(t){return zd(this,void 0,void 0,function*(){return t.isDirectory?TX(t):zje(t)})}function TX(t){const e=t.createReader();return new Promise((a,n)=>{const r=[];function s(){e.readEntries(i=>zd(this,void 0,void 0,function*(){if(i.length){const o=Promise.all(i.map(Bje));r.push(o),s()}else try{const o=yield Promise.all(r);a(o)}catch(o){n(o)}}),i=>{n(i)})}s()})}function zje(t){return zd(this,void 0,void 0,function*(){return new Promise((e,a)=>{t.file(n=>{const r=rm(n,t.fullPath);e(r)},n=>{a(n)})})})}var mk={},pB;function Gje(){return pB||(pB=1,mk.__esModule=!0,mk.default=function(t,e){if(t&&e){var a=Array.isArray(e)?e:e.split(",");if(a.length===0)return!0;var n=t.name||"",r=(t.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return a.some(function(i){var o=i.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):r===o})}return!0}),mk}var Uje=Gje();const tT=Od(Uje);function mB(t){return jje(t)||Vje(t)||CX(t)||Wje()}function Wje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jje(t){if(Array.isArray(t))return nC(t)}function gB(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function yB(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(a),!0).forEach(function(n){EX(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):gB(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function EX(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function vy(t,e){return qje(t)||Kje(t,e)||CX(t,e)||Hje()}function Hje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CX(t,e){if(t){if(typeof t=="string")return nC(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nC(t,e)}}function nC(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function Kje(t,e){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n=[],r=!0,s=!1,i,o;try{for(a=a.call(t);!(r=(i=a.next()).done)&&(n.push(i.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(s)throw o}}return n}}function qje(t){if(Array.isArray(t))return t}var Xje=typeof tT=="function"?tT:tT.default,Yje="file-invalid-type",Zje="file-too-large",Jje="file-too-small",Qje="too-many-files",eHe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=e.split(","),n=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:Yje,message:"File type must be ".concat(n)}},vB=function(e){return{code:Zje,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},xB=function(e){return{code:Jje,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},tHe={code:Qje,message:"Too many files"};function IX(t,e){var a=t.type==="application/x-moz-file"||Xje(t,e);return[a,a?null:eHe(e)]}function RX(t,e,a){if(zf(t.size))if(zf(e)&&zf(a)){if(t.size>a)return[!1,vB(a)];if(t.size<e)return[!1,xB(e)]}else{if(zf(e)&&t.size<e)return[!1,xB(e)];if(zf(a)&&t.size>a)return[!1,vB(a)]}return[!0,null]}function zf(t){return t!=null}function aHe(t){var e=t.files,a=t.accept,n=t.minSize,r=t.maxSize,s=t.multiple,i=t.maxFiles,o=t.validator;return!s&&e.length>1||s&&i>=1&&e.length>i?!1:e.every(function(c){var l=IX(c,a),u=vy(l,1),d=u[0],p=RX(c,n,r),m=vy(p,1),g=m[0],x=o?o(c):null;return d&&g&&!x})}function Xw(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function gk(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function kB(t){t.preventDefault()}function nHe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function rHe(t){return t.indexOf("Edge/")!==-1}function sHe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return nHe(t)||rHe(t)}function Jo(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return e.some(function(o){return!Xw(n)&&o&&o.apply(void 0,[n].concat(s)),Xw(n)})}}function iHe(){return"showOpenFilePicker"in window}function oHe(t){if(zf(t)){var e=Object.entries(t).filter(function(a){var n=vy(a,2),r=n[0],s=n[1],i=!0;return DX(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(PX))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(a,n){var r=vy(n,2),s=r[0],i=r[1];return yB(yB({},a),{},EX({},s,i))},{});return[{description:"Files",accept:e}]}return t}function cHe(t){if(zf(t))return Object.entries(t).reduce(function(e,a){var n=vy(a,2),r=n[0],s=n[1];return[].concat(mB(e),[r],mB(s))},[]).filter(function(e){return DX(e)||PX(e)}).join(",")}function lHe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function uHe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function DX(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function PX(t){return/^.*\.[\w]+$/.test(t)}var fHe=["children"],dHe=["open"],hHe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],pHe=["refKey","onChange","onClick"];function mHe(t){return vHe(t)||yHe(t)||FX(t)||gHe()}function gHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vHe(t){if(Array.isArray(t))return rC(t)}function aT(t,e){return wHe(t)||kHe(t,e)||FX(t,e)||xHe()}function xHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(t,e){if(t){if(typeof t=="string")return rC(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rC(t,e)}}function rC(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function kHe(t,e){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n=[],r=!0,s=!1,i,o;try{for(a=a.call(t);!(r=(i=a.next()).done)&&(n.push(i.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(s)throw o}}return n}}function wHe(t){if(Array.isArray(t))return t}function wB(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function An(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(a),!0).forEach(function(n){sC(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):wB(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function sC(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Yw(t,e){if(t==null)return{};var a=bHe(t,e),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bHe(t,e){if(t==null)return{};var a={},n=Object.keys(t),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(a[r]=t[r]);return a}var sP=F.forwardRef(function(t,e){var a=t.children,n=Yw(t,fHe),r=$X(n),s=r.open,i=Yw(r,dHe);return F.useImperativeHandle(e,function(){return{open:s}},[s]),rs.createElement(F.Fragment,null,a(An(An({},i),{},{open:s})))});sP.displayName="Dropzone";var OX={disabled:!1,getFilesFromEvent:Dje,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};sP.defaultProps=OX;sP.propTypes={children:nn.func,accept:nn.objectOf(nn.arrayOf(nn.string)),multiple:nn.bool,preventDropOnDocument:nn.bool,noClick:nn.bool,noKeyboard:nn.bool,noDrag:nn.bool,noDragEventsBubbling:nn.bool,minSize:nn.number,maxSize:nn.number,maxFiles:nn.number,disabled:nn.bool,getFilesFromEvent:nn.func,onFileDialogCancel:nn.func,onFileDialogOpen:nn.func,useFsAccessApi:nn.bool,autoFocus:nn.bool,onDragEnter:nn.func,onDragLeave:nn.func,onDragOver:nn.func,onDrop:nn.func,onDropAccepted:nn.func,onDropRejected:nn.func,onError:nn.func,validator:nn.func};var iC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function $X(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=An(An({},OX),t),a=e.accept,n=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,i=e.minSize,o=e.multiple,c=e.maxFiles,l=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,g=e.onDropRejected,x=e.onFileDialogCancel,v=e.onFileDialogOpen,k=e.useFsAccessApi,b=e.autoFocus,_=e.preventDropOnDocument,A=e.noClick,S=e.noKeyboard,C=e.noDrag,E=e.noDragEventsBubbling,R=e.onError,I=e.validator,P=F.useMemo(function(){return cHe(a)},[a]),D=F.useMemo(function(){return oHe(a)},[a]),B=F.useMemo(function(){return typeof v=="function"?v:bB},[v]),U=F.useMemo(function(){return typeof x=="function"?x:bB},[x]),V=F.useRef(null),j=F.useRef(null),W=F.useReducer(_He,iC),Q=aT(W,2),q=Q[0],Z=Q[1],M=q.isFocused,se=q.isFileDialogActive,ue=F.useRef(typeof window<"u"&&window.isSecureContext&&k&&iHe()),le=function(){!ue.current&&se&&setTimeout(function(){if(j.current){var Fe=j.current.files;Fe.length||(Z({type:"closeDialog"}),U())}},300)};F.useEffect(function(){return window.addEventListener("focus",le,!1),function(){window.removeEventListener("focus",le,!1)}},[j,se,U,ue]);var ie=F.useRef([]),ye=function(Fe){V.current&&V.current.contains(Fe.target)||(Fe.preventDefault(),ie.current=[])};F.useEffect(function(){return _&&(document.addEventListener("dragover",kB,!1),document.addEventListener("drop",ye,!1)),function(){_&&(document.removeEventListener("dragover",kB),document.removeEventListener("drop",ye))}},[V,_]),F.useEffect(function(){return!n&&b&&V.current&&V.current.focus(),function(){}},[V,b,n]);var ke=F.useCallback(function(Be){R?R(Be):console.error(Be)},[R]),ge=F.useCallback(function(Be){Be.preventDefault(),Be.persist(),lt(Be),ie.current=[].concat(mHe(ie.current),[Be.target]),gk(Be)&&Promise.resolve(r(Be)).then(function(Fe){if(!(Xw(Be)&&!E)){var It=Fe.length,Lt=It>0&&aHe({files:Fe,accept:P,minSize:i,maxSize:s,multiple:o,maxFiles:c,validator:I}),Rt=It>0&&!Lt;Z({isDragAccept:Lt,isDragReject:Rt,isDragActive:!0,type:"setDraggedFiles"}),l&&l(Be)}}).catch(function(Fe){return ke(Fe)})},[r,l,ke,E,P,i,s,o,c,I]),G=F.useCallback(function(Be){Be.preventDefault(),Be.persist(),lt(Be);var Fe=gk(Be);if(Fe&&Be.dataTransfer)try{Be.dataTransfer.dropEffect="copy"}catch{}return Fe&&d&&d(Be),!1},[d,E]),te=F.useCallback(function(Be){Be.preventDefault(),Be.persist(),lt(Be);var Fe=ie.current.filter(function(Lt){return V.current&&V.current.contains(Lt)}),It=Fe.indexOf(Be.target);It!==-1&&Fe.splice(It,1),ie.current=Fe,!(Fe.length>0)&&(Z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gk(Be)&&u&&u(Be))},[V,u,E]),ee=F.useCallback(function(Be,Fe){var It=[],Lt=[];Be.forEach(function(Rt){var $a=IX(Rt,P),La=aT($a,2),it=La[0],jt=La[1],Ht=RX(Rt,i,s),Wt=aT(Ht,2),ur=Wt[0],Kn=Wt[1],Rn=I?I(Rt):null;if(it&&ur&&!Rn)It.push(Rt);else{var Rl=[jt,Kn];Rn&&(Rl=Rl.concat(Rn)),Lt.push({file:Rt,errors:Rl.filter(function(oh){return oh})})}}),(!o&&It.length>1||o&&c>=1&&It.length>c)&&(It.forEach(function(Rt){Lt.push({file:Rt,errors:[tHe]})}),It.splice(0)),Z({acceptedFiles:It,fileRejections:Lt,isDragReject:Lt.length>0,type:"setFiles"}),p&&p(It,Lt,Fe),Lt.length>0&&g&&g(Lt,Fe),It.length>0&&m&&m(It,Fe)},[Z,o,P,i,s,c,p,m,g,I]),ne=F.useCallback(function(Be){Be.preventDefault(),Be.persist(),lt(Be),ie.current=[],gk(Be)&&Promise.resolve(r(Be)).then(function(Fe){Xw(Be)&&!E||ee(Fe,Be)}).catch(function(Fe){return ke(Fe)}),Z({type:"reset"})},[r,ee,ke,E]),be=F.useCallback(function(){if(ue.current){Z({type:"openDialog"}),B();var Be={multiple:o,types:D};window.showOpenFilePicker(Be).then(function(Fe){return r(Fe)}).then(function(Fe){ee(Fe,null),Z({type:"closeDialog"})}).catch(function(Fe){lHe(Fe)?(U(Fe),Z({type:"closeDialog"})):uHe(Fe)?(ue.current=!1,j.current?(j.current.value=null,j.current.click()):ke(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ke(Fe)});return}j.current&&(Z({type:"openDialog"}),B(),j.current.value=null,j.current.click())},[Z,B,U,k,ee,ke,D,o]),Y=F.useCallback(function(Be){!V.current||!V.current.isEqualNode(Be.target)||(Be.key===" "||Be.key==="Enter"||Be.keyCode===32||Be.keyCode===13)&&(Be.preventDefault(),be())},[V,be]),Ae=F.useCallback(function(){Z({type:"focus"})},[]),Oe=F.useCallback(function(){Z({type:"blur"})},[]),$e=F.useCallback(function(){A||(sHe()?setTimeout(be,0):be())},[A,be]),He=function(Fe){return n?null:Fe},Ve=function(Fe){return S?null:He(Fe)},tt=function(Fe){return C?null:He(Fe)},lt=function(Fe){E&&Fe.stopPropagation()},Mt=F.useMemo(function(){return function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=Be.refKey,It=Fe===void 0?"ref":Fe,Lt=Be.role,Rt=Be.onKeyDown,$a=Be.onFocus,La=Be.onBlur,it=Be.onClick,jt=Be.onDragEnter,Ht=Be.onDragOver,Wt=Be.onDragLeave,ur=Be.onDrop,Kn=Yw(Be,hHe);return An(An(sC({onKeyDown:Ve(Jo(Rt,Y)),onFocus:Ve(Jo($a,Ae)),onBlur:Ve(Jo(La,Oe)),onClick:He(Jo(it,$e)),onDragEnter:tt(Jo(jt,ge)),onDragOver:tt(Jo(Ht,G)),onDragLeave:tt(Jo(Wt,te)),onDrop:tt(Jo(ur,ne)),role:typeof Lt=="string"&&Lt!==""?Lt:"presentation"},It,V),!n&&!S?{tabIndex:0}:{}),Kn)}},[V,Y,Ae,Oe,$e,ge,G,te,ne,S,C,n]),Ft=F.useCallback(function(Be){Be.stopPropagation()},[]),st=F.useMemo(function(){return function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=Be.refKey,It=Fe===void 0?"ref":Fe,Lt=Be.onChange,Rt=Be.onClick,$a=Yw(Be,pHe),La=sC({accept:P,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:He(Jo(Lt,ne)),onClick:He(Jo(Rt,Ft)),tabIndex:-1},It,j);return An(An({},La),$a)}},[j,a,o,ne,n]);return An(An({},q),{},{isFocused:M&&!n,getRootProps:Mt,getInputProps:st,rootRef:V,inputRef:j,open:He(be)})}function _He(t,e){switch(e.type){case"focus":return An(An({},t),{},{isFocused:!0});case"blur":return An(An({},t),{},{isFocused:!1});case"openDialog":return An(An({},iC),{},{isFileDialogActive:!0});case"closeDialog":return An(An({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return An(An({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return An(An({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return An({},iC);default:return t}}function bB(){}const AHe=()=>{const{user:t}=F.use(Al),{ownedCards:e,setOwnedCards:a}=F.use(Ey),[n,r]=F.useState(null),[s,i]=F.useState(0),[o,c]=F.useState(!1),[l,u]=F.useState(""),[d,p]=F.useState(""),m=async k=>{if(!t||!t.user.email)throw new Error("User not logged in");if(k){const b=[];for(let A=0;A<k.length;A++){const S=k[A];console.log("Row",S),console.log("First Owned Card",e[0]);const C=Number(S.NumberOwned),E=S.Id,R=e.find(I=>I.card_id===S.Id);console.log("Owned Card",R),b.push({card_id:E,amount_owned:C,email:t==null?void 0:t.user.email}),R&&R.amount_owned!==C?(console.log("updating card",R.card_id,C),R.amount_owned=Math.max(0,C),a([...e]),r(I=>[...I??[],{...S,updated:C>0,removed:C===0}])):!R&&C>0&&(console.log("creating card",S.Id,C),a([...e,{email:t==null?void 0:t.user.email,card_id:E,amount_owned:C}]),r(I=>[...I??[],{...S,added:!0}])),p(`Processed ${A+1} of ${k.length}`),i(I=>I+1)}const{error:_}=await eo.from("collection").upsert(b);if(_)throw new Error("Error updating collection")}},g=F.useCallback(k=>{c(!0),u("");const b=k[0],_=new FileReader;_.onabort=()=>{c(!1),u("File Was Aborted")},_.onerror=()=>{c(!1),u("Error With File")},_.onload=async A=>{var S;try{const C=wg.read((S=A.target)==null?void 0:S.result);console.log("Workbook Sheets",C.SheetNames);const E=C.Sheets[C.SheetNames[0]],R=wg.utils.sheet_to_json(E);console.log("JsonData",R),await m(R),console.log("Processed File Rows")}catch(C){console.error("Error processing Excel file:",C),u(`Error processing Excel file: ${C}`)}finally{c(!1)}},_.readAsArrayBuffer(b)},[]),{getRootProps:x,getInputProps:v}=$X({onDrop:g});return L.jsxs(L.Fragment,{children:[L.jsxs("div",{...x(),children:[L.jsx("input",{...v()}),L.jsx("p",{children:"Drag 'n' drop some files here, or click to select files"})]}),o&&L.jsxs(L.Fragment,{children:[L.jsx("p",{children:"Excel file is loading"}),L.jsx("progress",{className:"w-full",value:s})]}),(l==null?void 0:l.length)>0&&L.jsx("p",{className:"text-red-400 mb-2",children:l}),(d==null?void 0:d.length)>0&&L.jsx("p",{className:"text-gray-200 mb-2",children:d}),n&&console.log("Processed Data",n)&&L.jsx("div",{children:n.length>0?L.jsxs("pre",{children:["Data updated:",L.jsxs("table",{className:"w-full text-left table-auto",children:[L.jsx("thead",{children:L.jsxs("tr",{children:[L.jsx("th",{children:"Expansion Name"}),L.jsx("th",{children:"ID"}),L.jsx("th",{children:"Card Name"}),L.jsx("th",{children:"Status (Count)"})]})}),n.map((k,b)=>L.jsx("tbody",{children:L.jsxs("tr",{children:[L.jsx("td",{children:k.Id}),L.jsx("td",{children:k.CardName}),L.jsx("td",{children:k.added?`Added (${k.NumberOwned})`:k.updated?`Updated (${k.NumberOwned})`:k.removed?"Removed":"Unknown"})]})},`data-${k.Id}-${b}`))]})]}):L.jsx("pre",{children:"No Data Updated."})})]})};function NHe(){const{user:t}=F.use(Al);return t?L.jsxs("div",{className:"flex flex-col gap-y-4 max-w-[900px] mx-auto",children:[L.jsx(Fw,{title:"Import",paragraph:"This will OVERWRITE your current collection with the values from the imported CSV file. ONLY do this process if your spreadsheet contains the exact count values you want in your collection.",className:"bg-amber-600"}),L.jsx("div",{className:"w-full border-2 border-indigo-600 rounded-xl p-4 text-center",children:L.jsx(AHe,{})})]}):L.jsx(Fw,{title:"Sign up to import your cards",paragraph:"To import your spreadsheet, please log in.",className:"bg-gray-400"})}function SHe(){const{user:t,setUser:e,isLoginDialogOpen:a,setIsLoginDialogOpen:n,setIsProfileDialogOpen:r}=F.use(Al),[s,i]=F.useState(!1),[o,c]=F.useState(!1),{t:l,i18n:u}=wy("header"),d=p=>u.changeLanguage(p);return L.jsxs(L.Fragment,{children:[L.jsxs("header",{className:"flex h-20 w-full shrink-0 flex-wrap items-center px-4 md:px-6",children:[L.jsx("div",{className:"shrink font-bold pr-4 hidden md:block",children:"TCG Pocket Collection Tracker"}),L.jsxs(aK,{className:"max-w-full justify-start",children:[L.jsxs(nK,{children:[L.jsx(DS,{asChild:!0,children:L.jsx(Vf,{to:"/",children:L.jsx(rn,{variant:"ghost",children:l("overview")})})}),L.jsx(DS,{asChild:!0,className:"hidden sm:block",children:L.jsx(Vf,{to:"/collection",children:L.jsx(rn,{variant:"ghost",children:l("collection")})})}),L.jsx(DS,{asChild:!0,className:"hidden sm:block",children:L.jsx(Vf,{to:"/trade",children:L.jsx(rn,{variant:"ghost",children:l("trade")})})})]}),L.jsx(HOe,{})]}),L.jsxs("div",{className:"items-center gap-2 flex",children:[L.jsx(Vf,{to:"https://community.tcgpocketcollectiontracker.com",className:"hidden sm:block",children:L.jsx(rn,{variant:"ghost",children:l("community")})}),L.jsxs(KM,{children:[L.jsx(qM,{asChild:!0,children:L.jsx(rn,{variant:"ghost",size:"icon",children:L.jsx(Pne,{})})}),L.jsxs(LE,{className:"w-56",children:[L.jsx(ME,{children:l("selectLanguage")}),L.jsx(J0,{}),L.jsx(Yc,{onClick:()=>d("en-US"),children:l("languages.en-US")}),L.jsx(Yc,{onClick:()=>d("es-ES"),children:l("languages.es-ES")}),L.jsx(Yc,{onClick:()=>d("pt-BR"),children:l("languages.pt-BR")}),L.jsx(Yc,{onClick:()=>d("fr-FR"),children:l("languages.fr-FR")})]})]}),t?L.jsx("div",{className:"hidden sm:block",children:L.jsxs(KM,{children:[L.jsx(qM,{asChild:!0,children:L.jsx(rn,{variant:"ghost",size:"icon",children:L.jsx(H6,{})})}),L.jsxs(LE,{className:"w-56",children:[L.jsx(ME,{children:l("myAccount")}),L.jsx(J0,{}),L.jsx(Yc,{onClick:()=>r(!0),children:l("editProfile")}),L.jsx(J0,{}),L.jsx(Yc,{onClick:()=>c(!0),children:l("export")}),L.jsx(Yc,{onClick:()=>i(!0),children:l("import")}),L.jsxs(ALe,{children:[L.jsx(J0,{}),L.jsxs(Yc,{onClick:async()=>{await U6(),e(null)},children:[l("logOut"),L.jsx(V6,{})]})]})]})]})}):L.jsxs(Sk,{open:a,onOpenChange:n,children:[L.jsx(koe,{asChild:!0,children:L.jsx(rn,{children:l("login")})}),L.jsxs(sg,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(ig,{children:L.jsx(og,{children:l("signUp")})}),L.jsx(yoe,{})]})]})]}),L.jsx(Kse,{})]}),L.jsx(Sk,{open:s,onOpenChange:i,children:L.jsxs(sg,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(ig,{children:L.jsx(og,{children:l("import")})}),L.jsx(NHe,{})]})}),L.jsx(Sk,{open:o,onOpenChange:c,children:L.jsxs(sg,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(ig,{children:L.jsx(og,{children:l("export")})}),L.jsx(Aje,{})]})})]})}var iP="ToastProvider",[oP,THe,EHe]=ev("Toast"),[LX,gqe]=zu("Toast",[EHe]),[CHe,S2]=LX(iP),MX=t=>{const{__scopeToast:e,label:a="Notification",duration:n=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:i}=t,[o,c]=F.useState(null),[l,u]=F.useState(0),d=F.useRef(!1),p=F.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${iP}\`. Expected non-empty \`string\`.`),L.jsx(oP.Provider,{scope:e,children:L.jsx(CHe,{scope:e,label:a,duration:n,swipeDirection:r,swipeThreshold:s,toastCount:l,viewport:o,onViewportChange:c,onToastAdd:F.useCallback(()=>u(m=>m+1),[]),onToastRemove:F.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:i})})};MX.displayName=iP;var BX="ToastViewport",IHe=["F8"],oC="toast.viewportPause",cC="toast.viewportResume",zX=F.forwardRef((t,e)=>{const{__scopeToast:a,hotkey:n=IHe,label:r="Notifications ({hotkey})",...s}=t,i=S2(BX,a),o=THe(a),c=F.useRef(null),l=F.useRef(null),u=F.useRef(null),d=F.useRef(null),p=vn(e,d,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;F.useEffect(()=>{const v=k=>{var _;n.length!==0&&n.every(A=>k[A]||k.code===A)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),F.useEffect(()=>{const v=c.current,k=d.current;if(g&&v&&k){const b=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(oC);k.dispatchEvent(C),i.isClosePausedRef.current=!0}},_=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(cC);k.dispatchEvent(C),i.isClosePausedRef.current=!1}},A=C=>{!v.contains(C.relatedTarget)&&_()},S=()=>{v.contains(document.activeElement)||_()};return v.addEventListener("focusin",b),v.addEventListener("focusout",A),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",_),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",A),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",_)}}},[g,i.isClosePausedRef]);const x=F.useCallback(({tabbingDirection:v})=>{const b=o().map(_=>{const A=_.ref.current,S=[A,...WHe(A)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?b.reverse():b).flat()},[o]);return F.useEffect(()=>{const v=d.current;if(v){const k=b=>{var S,C,E;const _=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!_){const R=document.activeElement,I=b.shiftKey;if(b.target===v&&I){(S=l.current)==null||S.focus();return}const B=x({tabbingDirection:I?"backwards":"forwards"}),U=B.findIndex(V=>V===R);nT(B.slice(U+1))?b.preventDefault():I?(C=l.current)==null||C.focus():(E=u.current)==null||E.focus()}};return v.addEventListener("keydown",k),()=>v.removeEventListener("keydown",k)}},[o,x]),L.jsxs(nre,{ref:c,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&L.jsx(lC,{ref:l,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});nT(v)}}),L.jsx(oP.Slot,{scope:a,children:L.jsx(ka.ol,{tabIndex:-1,...s,ref:p})}),g&&L.jsx(lC,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});nT(v)}})]})});zX.displayName=BX;var GX="ToastFocusProxy",lC=F.forwardRef((t,e)=>{const{__scopeToast:a,onFocusFromOutsideViewport:n,...r}=t,s=S2(GX,a);return L.jsx(d2,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:i=>{var l;const o=i.relatedTarget;!((l=s.viewport)!=null&&l.contains(o))&&n()}})});lC.displayName=GX;var T2="Toast",RHe="toast.swipeStart",DHe="toast.swipeMove",PHe="toast.swipeCancel",FHe="toast.swipeEnd",UX=F.forwardRef((t,e)=>{const{forceMount:a,open:n,defaultOpen:r,onOpenChange:s,...i}=t,[o=!0,c]=um({prop:n,defaultProp:r,onChange:s});return L.jsx(xi,{present:a||o,children:L.jsx(LHe,{open:o,...i,ref:e,onClose:()=>c(!1),onPause:$n(t.onPause),onResume:$n(t.onResume),onSwipeStart:kt(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:kt(t.onSwipeMove,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:kt(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:kt(t.onSwipeEnd,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});UX.displayName=T2;var[OHe,$He]=LX(T2,{onClose(){}}),LHe=F.forwardRef((t,e)=>{const{__scopeToast:a,type:n="foreground",duration:r,open:s,onClose:i,onEscapeKeyDown:o,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:m,...g}=t,x=S2(T2,a),[v,k]=F.useState(null),b=vn(e,V=>k(V)),_=F.useRef(null),A=F.useRef(null),S=r||x.duration,C=F.useRef(0),E=F.useRef(S),R=F.useRef(0),{onToastAdd:I,onToastRemove:P}=x,D=$n(()=>{var j;(v==null?void 0:v.contains(document.activeElement))&&((j=x.viewport)==null||j.focus()),i()}),B=F.useCallback(V=>{!V||V===1/0||(window.clearTimeout(R.current),C.current=new Date().getTime(),R.current=window.setTimeout(D,V))},[D]);F.useEffect(()=>{const V=x.viewport;if(V){const j=()=>{B(E.current),l==null||l()},W=()=>{const Q=new Date().getTime()-C.current;E.current=E.current-Q,window.clearTimeout(R.current),c==null||c()};return V.addEventListener(oC,W),V.addEventListener(cC,j),()=>{V.removeEventListener(oC,W),V.removeEventListener(cC,j)}}},[x.viewport,S,c,l,B]),F.useEffect(()=>{s&&!x.isClosePausedRef.current&&B(S)},[s,S,x.isClosePausedRef,B]),F.useEffect(()=>(I(),()=>P()),[I,P]);const U=F.useMemo(()=>v?XX(v):null,[v]);return x.viewport?L.jsxs(L.Fragment,{children:[U&&L.jsx(MHe,{__scopeToast:a,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),L.jsx(OHe,{scope:a,onClose:D,children:sb.createPortal(L.jsx(oP.ItemSlot,{scope:a,children:L.jsx(are,{asChild:!0,onEscapeKeyDown:kt(o,()=>{x.isFocusedToastEscapeKeyDownRef.current||D(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:L.jsx(ka.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:kt(t.onKeyDown,V=>{V.key==="Escape"&&(o==null||o(V.nativeEvent),V.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:kt(t.onPointerDown,V=>{V.button===0&&(_.current={x:V.clientX,y:V.clientY})}),onPointerMove:kt(t.onPointerMove,V=>{if(!_.current)return;const j=V.clientX-_.current.x,W=V.clientY-_.current.y,Q=!!A.current,q=["left","right"].includes(x.swipeDirection),Z=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,M=q?Z(0,j):0,se=q?0:Z(0,W),ue=V.pointerType==="touch"?10:2,le={x:M,y:se},ie={originalEvent:V,delta:le};Q?(A.current=le,yk(DHe,d,ie,{discrete:!1})):_B(le,x.swipeDirection,ue)?(A.current=le,yk(RHe,u,ie,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(j)>ue||Math.abs(W)>ue)&&(_.current=null)}),onPointerUp:kt(t.onPointerUp,V=>{const j=A.current,W=V.target;if(W.hasPointerCapture(V.pointerId)&&W.releasePointerCapture(V.pointerId),A.current=null,_.current=null,j){const Q=V.currentTarget,q={originalEvent:V,delta:j};_B(j,x.swipeDirection,x.swipeThreshold)?yk(FHe,m,q,{discrete:!0}):yk(PHe,p,q,{discrete:!0}),Q.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),MHe=t=>{const{__scopeToast:e,children:a,...n}=t,r=S2(T2,e),[s,i]=F.useState(!1),[o,c]=F.useState(!1);return GHe(()=>i(!0)),F.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),o?null:L.jsx(ib,{asChild:!0,children:L.jsx(d2,{...n,children:s&&L.jsxs(L.Fragment,{children:[r.label," ",a]})})})},BHe="ToastTitle",WX=F.forwardRef((t,e)=>{const{__scopeToast:a,...n}=t;return L.jsx(ka.div,{...n,ref:e})});WX.displayName=BHe;var zHe="ToastDescription",VX=F.forwardRef((t,e)=>{const{__scopeToast:a,...n}=t;return L.jsx(ka.div,{...n,ref:e})});VX.displayName=zHe;var jX="ToastAction",HX=F.forwardRef((t,e)=>{const{altText:a,...n}=t;return a.trim()?L.jsx(qX,{altText:a,asChild:!0,children:L.jsx(cP,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jX}\`. Expected non-empty \`string\`.`),null)});HX.displayName=jX;var KX="ToastClose",cP=F.forwardRef((t,e)=>{const{__scopeToast:a,...n}=t,r=$He(KX,a);return L.jsx(qX,{asChild:!0,children:L.jsx(ka.button,{type:"button",...n,ref:e,onClick:kt(t.onClick,r.onClose)})})});cP.displayName=KX;var qX=F.forwardRef((t,e)=>{const{__scopeToast:a,altText:n,...r}=t;return L.jsx(ka.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...r,ref:e})});function XX(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),UHe(n)){const r=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...XX(n))}}),e}function yk(t,e,a,{discrete:n}){const r=a.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:a});e&&r.addEventListener(t,e,{once:!0}),n?Ng(r,s):r.dispatchEvent(s)}var _B=(t,e,a=0)=>{const n=Math.abs(t.x),r=Math.abs(t.y),s=n>r;return e==="left"||e==="right"?s&&n>a:!s&&r>a};function GHe(t=()=>{}){const e=$n(t);Do(()=>{let a=0,n=0;return a=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(n)}},[e])}function UHe(t){return t.nodeType===t.ELEMENT_NODE}function WHe(t){const e=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)e.push(a.currentNode);return e}function nT(t){const e=document.activeElement;return t.some(a=>a===e?!0:(a.focus(),document.activeElement!==e))}var VHe=MX,YX=zX,ZX=UX,JX=WX,QX=VX,eY=HX,tY=cP;const jHe=VHe,aY=F.forwardRef(({className:t,...e},a)=>L.jsx(YX,{ref:a,className:sa("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:top-auto sm:right-0 sm:bottom-0 sm:flex-col md:max-w-[420px]",t),...e}));aY.displayName=YX.displayName;const HHe=Sy("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-neutral-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-neutral-800",{variants:{variant:{default:"border bg-white text-neutral-950 dark:bg-green-800 dark:text-neutral-50",destructive:"destructive group border-red-500 bg-red-500 text-neutral-50 dark:border-red-900 dark:bg-red-900 dark:text-neutral-50"}},defaultVariants:{variant:"default"}}),nY=F.forwardRef(({className:t,variant:e,...a},n)=>L.jsx(ZX,{ref:n,className:sa(HHe({variant:e}),t),...a}));nY.displayName=ZX.displayName;const KHe=F.forwardRef(({className:t,...e},a)=>L.jsx(eY,{ref:a,className:sa("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-neutral-200 bg-transparent px-3 font-medium text-sm transition-colors hover:bg-neutral-100 focus:outline-none focus:ring-1 focus:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-neutral-100/40 group-[.destructive]:focus:ring-red-500 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-neutral-50 dark:border-neutral-800 dark:group-[.destructive]:border-neutral-800/40 dark:focus:ring-neutral-300 dark:group-[.destructive]:focus:ring-red-900 dark:hover:bg-neutral-800 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-neutral-50",t),...e}));KHe.displayName=eY.displayName;const rY=F.forwardRef(({className:t,...e},a)=>L.jsx(tY,{ref:a,className:sa("absolute top-1 right-1 rounded-md p-1 text-neutral-950/50 opacity-0 transition-opacity hover:text-neutral-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.destructive]:hover:text-red-50 dark:text-neutral-50/50 dark:hover:text-neutral-50",t),"toast-close":"",...e,children:L.jsx(EC,{className:"h-4 w-4"})}));rY.displayName=tY.displayName;const sY=F.forwardRef(({className:t,...e},a)=>L.jsx(JX,{ref:a,className:sa("font-semibold text-sm [&+div]:text-xs",t),...e}));sY.displayName=JX.displayName;const iY=F.forwardRef(({className:t,...e},a)=>L.jsx(QX,{ref:a,className:sa("text-sm opacity-90",t),...e}));iY.displayName=QX.displayName;function qHe(){const{toasts:t}=wC();return L.jsxs(jHe,{children:[t.map(({id:e,title:a,description:n,action:r,...s})=>L.jsxs(nY,{...s,children:[L.jsxs("div",{className:"grid gap-1",children:[a&&L.jsx(sY,{children:a}),n&&L.jsx(iY,{children:n})]}),r,L.jsx(rY,{})]},e)),L.jsx(aY,{})]})}const oY=500;async function XHe(){const{count:t,error:e}=await eo.from("collection").select("*",{count:"exact",head:!0});if(e)throw new Error("Error fetching collection");return t?cY(t,0,oY):[]}const cY=async(t,e,a)=>{console.log("fetching range",t,e,a);const{data:n,error:r}=await eo.from("collection").select().range(e,a);if(r)throw console.log("supa error",r),new Error("Error fetching collection");return a<t?[...n,...await cY(t,a,Math.min(t,a+oY))]:n},YHe=Ry(()=>Ro(()=>import("./Overview-T256wJAm.js"),__vite__mapDeps([0,1,2,3]))),ZHe=Ry(()=>Ro(()=>import("./Collection-DCRX0Ktr.js"),__vite__mapDeps([4,5,2]))),JHe=Ry(()=>Ro(()=>import("./Trade-_TxP40co.js"),__vite__mapDeps([6,5,2,1,3]))),QHe=Ry(()=>Ro(()=>import("./EditProfile-7qXHar4x.js"),__vite__mapDeps([7,3])));function eKe(){const{toast:t}=wC(),[e,a]=F.useState(null),[n,r]=F.useState(null),[s,i]=F.useState([]),[o,c]=F.useState(!1),[l,u]=F.useState(!1),[d,p]=F.useState("");return F.useEffect(()=>{const{data:{subscription:m}}=eo.auth.onAuthStateChange((g,x)=>{console.log("supa set session",x),a(x)});return()=>m.unsubscribe()},[]),F.useEffect(()=>{if(e){const m=new URLSearchParams(window.location.search),g=m.get("sso"),x=m.get("sig");g&&x?(t({title:"Logging in",description:"Please wait...",variant:"default"}),yne(e,g,x).catch(console.error)):(XHe().then(i).catch(console.error),vne().then(r).catch(console.error))}else i([])},[e]),L.jsx(Al.Provider,{value:{user:e,setUser:a,account:n,setAccount:r,isLoginDialogOpen:o,setIsLoginDialogOpen:c,isProfileDialogOpen:l,setIsProfileDialogOpen:u},children:L.jsx(Ey.Provider,{value:{ownedCards:s,setOwnedCards:i,selectedCardId:d,setSelectedCardId:p},children:L.jsxs(Wse,{fallback:L.jsx("div",{className:"m-4",children:"A new version was deployed, please refresh the page to see the latest changes."}),children:[L.jsx(qHe,{}),L.jsx(SHe,{}),L.jsxs(UQ,{children:[L.jsx(xk,{path:"/",element:L.jsx(YHe,{})}),L.jsx(xk,{path:"/collection",element:L.jsx(ZHe,{})}),L.jsx(xk,{path:"/trade",element:L.jsx(JHe,{})})]}),L.jsx(QHe,{account:n,setAccount:r,isProfileDialogOpen:l,setIsProfileDialogOpen:u}),L.jsx(bse,{cardId:d,onClose:()=>p("")}),L.jsx(gte,{})]})})})}const Kt=t=>typeof t=="string",G0=()=>{let t,e;const a=new Promise((n,r)=>{t=n,e=r});return a.resolve=t,a.reject=e,a},AB=t=>t==null?"":""+t,tKe=(t,e,a)=>{t.forEach(n=>{e[n]&&(a[n]=e[n])})},aKe=/###/g,NB=t=>t&&t.indexOf("###")>-1?t.replace(aKe,"."):t,SB=t=>!t||Kt(t),bg=(t,e,a)=>{const n=Kt(e)?e.split("."):e;let r=0;for(;r<n.length-1;){if(SB(t))return{};const s=NB(n[r]);!t[s]&&a&&(t[s]=new a),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++r}return SB(t)?{}:{obj:t,k:NB(n[r])}},TB=(t,e,a)=>{const{obj:n,k:r}=bg(t,e,Object);if(n!==void 0||e.length===1){n[r]=a;return}let s=e[e.length-1],i=e.slice(0,e.length-1),o=bg(t,i,Object);for(;o.obj===void 0&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),o=bg(t,i,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=a},nKe=(t,e,a,n)=>{const{obj:r,k:s}=bg(t,e,Object);r[s]=r[s]||[],r[s].push(a)},Zw=(t,e)=>{const{obj:a,k:n}=bg(t,e);if(a&&Object.prototype.hasOwnProperty.call(a,n))return a[n]},rKe=(t,e,a)=>{const n=Zw(t,a);return n!==void 0?n:Zw(e,a)},lY=(t,e,a)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Kt(t[n])||t[n]instanceof String||Kt(e[n])||e[n]instanceof String?a&&(t[n]=e[n]):lY(t[n],e[n],a):t[n]=e[n]);return t},sp=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var sKe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const iKe=t=>Kt(t)?t.replace(/[&<>"'\/]/g,e=>sKe[e]):t;class oKe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const a=this.regExpMap.get(e);if(a!==void 0)return a;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const cKe=[" ",",","?","!",";"],lKe=new oKe(20),uKe=(t,e,a)=>{e=e||"",a=a||"";const n=cKe.filter(i=>e.indexOf(i)<0&&a.indexOf(i)<0);if(n.length===0)return!0;const r=lKe.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let s=!r.test(t);if(!s){const i=t.indexOf(a);i>0&&!r.test(t.substring(0,i))&&(s=!0)}return s},uC=function(t,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(a);let r=t;for(let s=0;s<n.length;){if(!r||typeof r!="object")return;let i,o="";for(let c=s;c<n.length;++c)if(c!==s&&(o+=a),o+=n[c],i=r[o],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<n.length-1)continue;s+=c-s+1;break}r=i}return r},Jw=t=>t==null?void 0:t.replace("_","-"),fKe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var a,n;(n=(a=console==null?void 0:console[t])==null?void 0:a.apply)==null||n.call(a,console,e)}};class Qw{constructor(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,a)}init(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=a.prefix||"i18next:",this.logger=e||fKe,this.options=a,this.debug=a.debug}log(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return this.forward(a,"log","",!0)}warn(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return this.forward(a,"warn","",!0)}error(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return this.forward(a,"error","")}deprecate(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(e,a,n,r){return r&&!this.debug?null:(Kt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[a](e))}create(e){return new Qw(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qw(this.logger,e)}}var fc=new Qw;class E2{constructor(){this.observers={}}on(e,a){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(a)||0;this.observers[n].set(a,r+1)}),this}off(e,a){if(this.observers[e]){if(!a){delete this.observers[e];return}this.observers[e].delete(a)}}emit(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(i=>{let[o,c]=i;for(let l=0;l<c;l++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[o,c]=i;for(let l=0;l<c;l++)o.apply(o,[e,...n])})}}class EB extends E2{constructor(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const a=this.options.ns.indexOf(e);a>-1&&this.options.ns.splice(a,1)}getResource(e,a,n){var l,u;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,i=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,a],n&&(Array.isArray(n)?o.push(...n):Kt(n)&&s?o.push(...n.split(s)):o.push(n)));const c=Zw(this.data,o);return!c&&!a&&!n&&e.indexOf(".")>-1&&(e=o[0],a=o[1],n=o.slice(2).join(".")),c||!i||!Kt(n)?c:uC((u=(l=this.data)==null?void 0:l[e])==null?void 0:u[a],n,s)}addResource(e,a,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,a];n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."),r=a,a=o[1]),this.addNamespaces(a),TB(this.data,o,r),s.silent||this.emit("added",e,a,n,r)}addResources(e,a,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(Kt(n[s])||Array.isArray(n[s]))&&this.addResource(e,a,s,n[s],{silent:!0});r.silent||this.emit("added",e,a,n)}addResourceBundle(e,a,n,r,s){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,a];e.indexOf(".")>-1&&(o=e.split("."),r=n,n=a,a=o[1]),this.addNamespaces(a);let c=Zw(this.data,o)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?lY(c,n,s):c={...c,...n},TB(this.data,o,c),i.silent||this.emit("added",e,a,n)}removeResourceBundle(e,a){this.hasResourceBundle(e,a)&&delete this.data[e][a],this.removeNamespaces(a),this.emit("removed",e,a)}hasResourceBundle(e,a){return this.getResource(e,a)!==void 0}getResourceBundle(e,a){return a||(a=this.options.defaultNS),this.getResource(e,a)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const a=this.getDataByLanguage(e);return!!(a&&Object.keys(a)||[]).find(r=>a[r]&&Object.keys(a[r]).length>0)}toJSON(){return this.data}}var uY={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,a,n,r){return t.forEach(s=>{var i;e=((i=this.processors[s])==null?void 0:i.process(e,a,n,r))??e}),e}};const CB={},IB=t=>!Kt(t)&&typeof t!="boolean"&&typeof t!="number";class eb extends E2{constructor(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),tKe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=fc.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,a);return(n==null?void 0:n.res)!==void 0}extractFromKey(e,a){let n=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=a.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!uKe(e,n,r);if(i&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Kt(s)?[s]:s};const l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(s=l.shift()),e=l.join(r)}return{key:e,namespaces:Kt(s)?[s]:s}}translate(e,a,n){if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:i,namespaces:o}=this.extractFromKey(e[e.length-1],a),c=o[o.length-1],l=a.lng||this.language,u=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((l==null?void 0:l.toLowerCase())==="cimode"){if(u){const D=a.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${D}${i}`,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(a)}:`${c}${D}${i}`}return r?{res:i,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(a)}:i}const d=this.resolve(e,a);let p=d==null?void 0:d.res;const m=(d==null?void 0:d.usedKey)||i,g=(d==null?void 0:d.exactUsedKey)||i,x=["[object Number]","[object Function]","[object RegExp]"],v=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,b=a.count!==void 0&&!Kt(a.count),_=eb.hasDefaultValue(a),A=b?this.pluralResolver.getSuffix(l,a.count,a):"",S=a.ordinal&&b?this.pluralResolver.getSuffix(l,a.count,{ordinal:!1}):"",C=b&&!a.ordinal&&a.count===0,E=C&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${A}`]||a[`defaultValue${S}`]||a.defaultValue;let R=p;k&&!p&&_&&(R=E);const I=IB(R),P=Object.prototype.toString.apply(R);if(k&&R&&I&&x.indexOf(P)<0&&!(Kt(v)&&Array.isArray(R))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const D=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,R,{...a,ns:o}):`key '${i} (${this.language})' returned an object instead of string.`;return r?(d.res=D,d.usedParams=this.getUsedParamsDetails(a),d):D}if(s){const D=Array.isArray(R),B=D?[]:{},U=D?g:m;for(const V in R)if(Object.prototype.hasOwnProperty.call(R,V)){const j=`${U}${s}${V}`;_&&!p?B[V]=this.translate(j,{...a,defaultValue:IB(E)?E[V]:void 0,joinArrays:!1,ns:o}):B[V]=this.translate(j,{...a,joinArrays:!1,ns:o}),B[V]===j&&(B[V]=R[V])}p=B}}else if(k&&Kt(v)&&Array.isArray(p))p=p.join(v),p&&(p=this.extendTranslation(p,e,a,n));else{let D=!1,B=!1;!this.isValidLookup(p)&&_&&(D=!0,p=E),this.isValidLookup(p)||(B=!0,p=i);const V=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&B?void 0:p,j=_&&E!==p&&this.options.updateMissing;if(B||D||j){if(this.logger.log(j?"updateKey":"missingKey",l,c,i,j?E:p),s){const Z=this.resolve(i,{...a,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let Z=0;Z<Q.length;Z++)W.push(Q[Z]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(a.lng||this.language):W.push(a.lng||this.language);const q=(Z,M,se)=>{var le;const ue=_&&se!==p?se:V;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,c,M,ue,j,a):(le=this.backendConnector)!=null&&le.saveMissing&&this.backendConnector.saveMissing(Z,c,M,ue,j,a),this.emit("missingKey",Z,c,M,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?W.forEach(Z=>{const M=this.pluralResolver.getSuffixes(Z,a);C&&a[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(se=>{q([Z],i+se,a[`defaultValue${se}`]||E)})}):q(W,i,E))}p=this.extendTranslation(p,e,a,d,n),B&&p===i&&this.options.appendNamespaceToMissingKey&&(p=`${c}:${i}`),(B||D)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${i}`:i,D?p:void 0))}return r?(d.res=p,d.usedParams=this.getUsedParamsDetails(a),d):p}extendTranslation(e,a,n,r,s){var l,u;var i=this;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Kt(e)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const g=e.match(this.interpolator.nestingRegexp);p=g&&g.length}let m=n.replace&&!Kt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||r.usedLng,n),d){const g=e.match(this.interpolator.nestingRegexp),x=g&&g.length;p<x&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,x=new Array(g),v=0;v<g;v++)x[v]=arguments[v];return(s==null?void 0:s[0])===x[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${a[0]}`),null):i.translate(...x,a)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,c=Kt(o)?[o]:o;return e!=null&&(c!=null&&c.length)&&n.applyPostProcessor!==!1&&(e=uY.handle(c,e,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,s,i,o;return Kt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const l=this.extractFromKey(c,a),u=l.key;r=u;let d=l.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const p=a.count!==void 0&&!Kt(a.count),m=p&&!a.ordinal&&a.count===0,g=a.context!==void 0&&(Kt(a.context)||typeof a.context=="number")&&a.context!=="",x=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);d.forEach(v=>{var k,b;this.isValidLookup(n)||(o=v,!CB[`${x[0]}-${v}`]&&((k=this.utils)!=null&&k.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(o))&&(CB[`${x[0]}-${v}`]=!0,this.logger.warn(`key "${r}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(_=>{var C;if(this.isValidLookup(n))return;i=_;const A=[u];if((C=this.i18nFormat)!=null&&C.addLookupKeys)this.i18nFormat.addLookupKeys(A,u,_,v,a);else{let E;p&&(E=this.pluralResolver.getSuffix(_,a.count,a));const R=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(A.push(u+E),a.ordinal&&E.indexOf(I)===0&&A.push(u+E.replace(I,this.options.pluralSeparator)),m&&A.push(u+R)),g){const P=`${u}${this.options.contextSeparator}${a.context}`;A.push(P),p&&(A.push(P+E),a.ordinal&&E.indexOf(I)===0&&A.push(P+E.replace(I,this.options.pluralSeparator)),m&&A.push(P+R))}}let S;for(;S=A.pop();)this.isValidLookup(n)||(s=S,n=this.getResource(_,v,S,a))}))})}),{res:n,usedKey:r,exactUsedKey:s,usedLng:i,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,a,n){var s;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,a,n,r):this.resourceStore.getResource(e,a,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Kt(e.replace);let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const s of a)delete r[s]}return r}static hasDefaultValue(e){const a="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&a===n.substring(0,a.length)&&e[n]!==void 0)return!0;return!1}}class RB{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fc.create("languageUtils")}getScriptPartFromCode(e){if(e=Jw(e),!e||e.indexOf("-")<0)return null;const a=e.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(e){if(e=Jw(e),!e||e.indexOf("-")<0)return e;const a=e.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(e){if(Kt(e)&&e.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(e)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let a;return e.forEach(n=>{if(a)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(a=r)}),!a&&this.options.supportedLngs&&e.forEach(n=>{if(a)return;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return a=r;a=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&(s.indexOf("-")>0&&r.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===r||s.indexOf(r)===0&&r.length>1))return s})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(e,a){if(!e)return[];if(typeof e=="function"&&(e=e(a)),Kt(e)&&(e=[e]),Array.isArray(e))return e;if(!a)return e.default||[];let n=e[a];return n||(n=e[this.getScriptPartFromCode(a)]),n||(n=e[this.formatLanguageCode(a)]),n||(n=e[this.getLanguagePartFromCode(a)]),n||(n=e.default),n||[]}toResolveHierarchy(e,a){const n=this.getFallbackCodes(a||this.options.fallbackLng||[],e),r=[],s=i=>{i&&(this.isSupportedCode(i)?r.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return Kt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Kt(e)&&s(this.formatLanguageCode(e)),n.forEach(i=>{r.indexOf(i)<0&&s(this.formatLanguageCode(i))}),r}}const DB={zero:0,one:1,two:2,few:3,many:4,other:5},PB={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class dKe{constructor(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=a,this.logger=fc.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,a){this.rules[e]=a}clearCache(){this.pluralRulesCache={}}getRule(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Jw(e==="dev"?"en":e),r=a.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(n,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),PB;if(!e.match(/-|_/))return PB;const c=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(c,a)}return this.pluralRulesCache[s]=i,i}needsPlural(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,a);return n||(n=this.getRule("dev",a)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,a){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${a}${r}`)}getSuffixes(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,a);return n||(n=this.getRule("dev",a)),n?n.resolvedOptions().pluralCategories.sort((r,s)=>DB[r]-DB[s]).map(r=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,a){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(a)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",a,n))}}const FB=function(t,e,a){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=rKe(t,e,a);return!s&&r&&Kt(a)&&(s=uC(t,a,n),s===void 0&&(s=uC(e,a,n))),s},rT=t=>t.replace(/\$/g,"$$$$");class hKe{constructor(){var a;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fc.create("interpolator"),this.options=e,this.format=((a=e==null?void 0:e.interpolation)==null?void 0:a.format)||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:a,escapeValue:n,useRawValueToEscape:r,prefix:s,prefixEscaped:i,suffix:o,suffixEscaped:c,formatSeparator:l,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:v,maxReplaces:k,alwaysFormat:b}=e.interpolation;this.escape=a!==void 0?a:iKe,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?sp(s):i||"{{",this.suffix=o?sp(o):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?sp(p):m||sp("$t("),this.nestingSuffix=g?sp(g):x||sp(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=k||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(a,n)=>(a==null?void 0:a.source)===n?(a.lastIndex=0,a):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,a,n,r){var m;let s,i,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=g=>{if(g.indexOf(this.formatSeparator)<0){const b=FB(a,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...r,...a,interpolationkey:g}):b}const x=g.split(this.formatSeparator),v=x.shift().trim(),k=x.join(this.formatSeparator).trim();return this.format(FB(a,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),k,n,{...r,...a,interpolationkey:v})};this.resetRegExp();const u=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((m=r==null?void 0:r.interpolation)==null?void 0:m.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>rT(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?rT(this.escape(g)):rT(g)}].forEach(g=>{for(o=0;s=g.regex.exec(e);){const x=s[1].trim();if(i=l(x),i===void 0)if(typeof u=="function"){const k=u(e,s,r);i=Kt(k)?k:""}else if(r&&Object.prototype.hasOwnProperty.call(r,x))i="";else if(d){i=s[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),i="";else!Kt(i)&&!this.useRawValueToEscape&&(i=AB(i));const v=g.safeValue(i);if(e=e.replace(s[0],v),d?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,a){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,i;const o=(c,l)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const d=c.split(new RegExp(`${u}[ ]*{`));let p=`{${d[1]}`;c=d[0],p=this.interpolate(p,i);const m=p.match(/'/g),g=p.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{i=JSON.parse(p),l&&(i={...l,...i})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${u}${p}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];i={...n},i=i.replace&&!Kt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let l=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const u=r[1].split(this.formatSeparator).map(d=>d.trim());r[1]=u.shift(),c=u,l=!0}if(s=a(o.call(this,r[1].trim(),i),i),s&&r[0]===e&&!Kt(s))return s;Kt(s)||(s=AB(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),l&&(s=c.reduce((u,d)=>this.format(u,d,n.lng,{...n,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const pKe=t=>{let e=t.toLowerCase().trim();const a={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?a.currency||(a.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?a.range||(a.range=r.trim()):r.split(";").forEach(i=>{if(i){const[o,...c]=i.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();a[u]||(a[u]=l),l==="false"&&(a[u]=!1),l==="true"&&(a[u]=!0),isNaN(l)||(a[u]=parseInt(l,10))}})}return{formatName:e,formatOptions:a}},ip=t=>{const e={};return(a,n,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const i=n+JSON.stringify(s);let o=e[i];return o||(o=t(Jw(n),r),e[i]=o),o(a)}};class mKe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=fc.create("formatter"),this.options=e,this.formats={number:ip((a,n)=>{const r=new Intl.NumberFormat(a,{...n});return s=>r.format(s)}),currency:ip((a,n)=>{const r=new Intl.NumberFormat(a,{...n,style:"currency"});return s=>r.format(s)}),datetime:ip((a,n)=>{const r=new Intl.DateTimeFormat(a,{...n});return s=>r.format(s)}),relativetime:ip((a,n)=>{const r=new Intl.RelativeTimeFormat(a,{...n});return s=>r.format(s,n.range||"day")}),list:ip((a,n)=>{const r=new Intl.ListFormat(a,{...n});return s=>r.format(s)})},this.init(e)}init(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=a.interpolation.formatSeparator||","}add(e,a){this.formats[e.toLowerCase().trim()]=a}addCached(e,a){this.formats[e.toLowerCase().trim()]=ip(a)}format(e,a,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=a.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,c)=>{var d;const{formatName:l,formatOptions:u}=pKe(c);if(this.formats[l]){let p=o;try{const m=((d=r==null?void 0:r.formatParams)==null?void 0:d[r.interpolationkey])||{},g=m.locale||m.lng||r.locale||r.lng||n;p=this.formats[l](o,g,{...u,...r,...m})}catch(m){this.logger.warn(m)}return p}else this.logger.warn(`there was no format function for ${l}`);return o},e)}}const gKe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class yKe extends E2{constructor(e,a,n){var s,i;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=a,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=fc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(i=(s=this.backend)==null?void 0:s.init)==null||i.call(s,n,r.backend,r)}queueLoad(e,a,n,r){const s={},i={},o={},c={};return e.forEach(l=>{let u=!0;a.forEach(d=>{const p=`${l}|${d}`;!n.reload&&this.store.hasResourceBundle(l,d)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?i[p]===void 0&&(i[p]=!0):(this.state[p]=1,u=!1,i[p]===void 0&&(i[p]=!0),s[p]===void 0&&(s[p]=!0),c[d]===void 0&&(c[d]=!0)))}),u||(o[l]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,a,n){const r=e.split("|"),s=r[0],i=r[1];a&&this.emit("failedLoading",s,i,a),!a&&n&&this.store.addResourceBundle(s,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=a?-1:2,a&&n&&(this.state[e]=0);const o={};this.queue.forEach(c=>{nKe(c.loaded,[s],i),gKe(c,e),a&&c.errors.push(a),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{o[l]||(o[l]={});const u=c.loaded[l];u.length&&u.forEach(d=>{o[l][d]===void 0&&(o[l][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,a,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:a,fcName:n,tried:r,wait:s,callback:i});return}this.readingCalls++;const o=(l,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(l&&u&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,a,n,r+1,s*2,i)},s);return}i(l,u)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const l=c(e,a);l&&typeof l.then=="function"?l.then(u=>o(null,u)).catch(o):o(null,l)}catch(l){o(l)}return}return c(e,a,o)}prepareLoading(e,a){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Kt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Kt(a)&&(a=[a]);const s=this.queueLoad(e,a,n,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(i=>{this.loadOne(i)})}load(e,a,n){this.prepareLoading(e,a,{},n)}reload(e,a,n){this.prepareLoading(e,a,{reload:!0},n)}loadOne(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),r=n[0],s=n[1];this.read(r,s,"read",void 0,void 0,(i,o)=>{i&&this.logger.warn(`${a}loading namespace ${s} for language ${r} failed`,i),!i&&o&&this.logger.log(`${a}loaded namespace ${s} for language ${r}`,o),this.loaded(e,i,o)})}saveMissing(e,a,n,r,s){var c,l,u,d,p;let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((l=(c=this.services)==null?void 0:c.utils)!=null&&l.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(a))){this.logger.warn(`did not save key "${n}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((p=this.backend)!=null&&p.create){const m={...i,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,a,n,r,m):x=g(e,a,n,r),x&&typeof x.then=="function"?x.then(v=>o(null,v)).catch(o):o(null,x)}catch(x){o(x)}else g(e,a,n,r,o,m)}!e||!e[0]||this.store.addResource(e[0],a,n,r)}}}const OB=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Kt(t[1])&&(e.defaultValue=t[1]),Kt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const a=t[3]||t[2];Object.keys(a).forEach(n=>{e[n]=a[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),$B=t=>{var e,a;return Kt(t.ns)&&(t.ns=[t.ns]),Kt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Kt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((a=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:a.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},vk=()=>{},vKe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(a=>{typeof t[a]=="function"&&(t[a]=t[a].bind(t))})};class xy extends E2{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(super(),this.options=$B(e),this.services={},this.logger=fc,this.modules={external:[]},vKe(this),a&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,a),this;setTimeout(()=>{this.init(e,a)},0)}}init(){var e=this;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof a=="function"&&(n=a,a={}),a.defaultNS==null&&a.ns&&(Kt(a.ns)?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const r=OB();this.options={...r,...this.options,...$B(a)},this.options.interpolation={...r.interpolation,...this.options.interpolation},a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?fc.init(s(this.modules.logger),this.options):fc.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=mKe;const d=new RB(this.options);this.store=new EB(this.options.resources,this.options);const p=this.services;p.logger=fc,p.resourceStore=this.store,p.languageUtils=d,p.pluralResolver=new dKe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(p.formatter=s(u),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new hKe(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new yKe(s(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var g=arguments.length,x=new Array(g>1?g-1:0),v=1;v<g;v++)x[v-1]=arguments[v];e.emit(m,...x)}),this.modules.languageDetector&&(p.languageDetector=s(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=s(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new eb(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,x=new Array(g>1?g-1:0),v=1;v<g;v++)x[v-1]=arguments[v];e.emit(m,...x)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=vk),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const c=G0(),l=()=>{const u=(d,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),n(d,p)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),c}loadResources(e){var s,i;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vk;const r=Kt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],c=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};r?c(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>c(u)),(i=(s=this.options.preload)==null?void 0:s.forEach)==null||i.call(s,l=>c(l)),this.services.backendConnector.load(o,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,a,n){const r=G0();return typeof e=="function"&&(n=e,e=void 0),typeof a=="function"&&(n=a,a=void 0),e||(e=this.languages),a||(a=this.options.ns),n||(n=vk),this.services.backendConnector.reload(e,a,s=>{r.resolve(),n(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&uY.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let a=0;a<this.languages.length;a++){const n=this.languages[a];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,a){var n=this;this.isLanguageChangingTo=e;const r=G0();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,l)=>{l?(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),a&&a(c,function(){return n.t(...arguments)})},o=c=>{var u,d;!e&&!c&&this.services.languageDetector&&(c=[]);const l=Kt(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);l&&(this.language||s(l),this.translator.language||this.translator.changeLanguage(l),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,l)),this.loadResources(l,p=>{i(p,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,a,n){var r=this;const s=function(i,o){let c;if(typeof o!="object"){for(var l=arguments.length,u=new Array(l>2?l-2:0),d=2;d<l;d++)u[d-2]=arguments[d];c=r.options.overloadTranslationOptionHandler([i,o].concat(u))}else c={...o};c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);const p=r.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(i)?m=i.map(g=>`${c.keyPrefix}${p}${g}`):m=c.keyPrefix?`${c.keyPrefix}${p}${i}`:i,r.t(m,c)};return Kt(e)?s.lng=e:s.lngs=e,s.ns=a,s.keyPrefix=n,s}t(){var r;for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(r=this.translator)==null?void 0:r.translate(...a)}exists(){var r;for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(r=this.translator)==null?void 0:r.exists(...a)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=a.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(o,c)=>{const l=this.services.backendConnector.state[`${o}|${c}`];return l===-1||l===0||l===2};if(a.precheck){const o=a.precheck(this,i);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,e)&&(!r||i(s,e)))}loadNamespaces(e,a){const n=G0();return this.options.ns?(Kt(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),a&&a(r)}),n):(a&&a(),Promise.resolve())}loadLanguages(e,a){const n=G0();Kt(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(i=>r.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return s.length?(this.options.preload=r.concat(s),this.loadResources(i=>{n.resolve(),a&&a(i)}),n):(a&&a(),Promise.resolve())}dir(e){var r,s;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new RB(OB());return a.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return new xy(e,a)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vk;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new xy(r);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const o=Object.keys(this.store.data).reduce((c,l)=>(c[l]={...this.store.data[l]},Object.keys(c[l]).reduce((u,d)=>(u[d]={...c[l][d]},u),{})),{});s.store=new EB(o,r),s.services.resourceStore=s.store}return s.translator=new eb(s.services,r),s.translator.on("*",function(o){for(var c=arguments.length,l=new Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=arguments[u];s.emit(o,...l)}),s.init(r,a),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zr=xy.createInstance();Zr.createInstance=xy.createInstance;Zr.createInstance;Zr.dir;Zr.init;Zr.loadResources;Zr.reloadResources;Zr.use;Zr.changeLanguage;Zr.getFixedT;Zr.t;Zr.exists;Zr.setDefaultNamespace;Zr.hasLoadedNamespace;Zr.loadNamespaces;Zr.loadLanguages;const{slice:xKe,forEach:kKe}=[];function wKe(t){return kKe.call(xKe.call(arguments,1),e=>{if(e)for(const a in e)t[a]===void 0&&(t[a]=e[a])}),t}const LB=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,bKe=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let s=`${t}=${r}`;if(n.maxAge>0){const i=n.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(i)}`}if(n.domain){if(!LB.test(n.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${n.domain}`}if(n.path){if(!LB.test(n.path))throw new TypeError("option path is invalid");s+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s},MB={create(t,e,a,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+a*60*1e3)),n&&(r.domain=n),document.cookie=bKe(t,encodeURIComponent(e),r)},read(t){const e=`${t}=`,a=document.cookie.split(";");for(let n=0;n<a.length;n++){let r=a[n];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(t){this.create(t,"",-1)}};var _Ke={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return MB.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:a,cookieMinutes:n,cookieDomain:r,cookieOptions:s}=e;a&&typeof document<"u"&&MB.create(a,t,n,r,s)}},AKe={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,a;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let o=0;o<i.length;o++){const c=i[o].indexOf("=");c>0&&i[o].substring(0,c)===e&&(a=i[o].substring(c+1))}}return a}};let op=null;const BB=()=>{if(op!==null)return op;try{if(op=typeof window<"u"&&window.localStorage!==null,!op)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{op=!1}return op};var NKe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&BB())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:a}=e;a&&BB()&&window.localStorage.setItem(a,t)}};let cp=null;const zB=()=>{if(cp!==null)return cp;try{if(cp=typeof window<"u"&&window.sessionStorage!==null,!cp)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{cp=!1}return cp};var SKe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&zB())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:a}=e;a&&zB()&&window.sessionStorage.setItem(a,t)}},TKe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:a,userLanguage:n,language:r}=navigator;if(a)for(let s=0;s<a.length;s++)e.push(a[s]);n&&e.push(n),r&&e.push(r)}return e.length>0?e:void 0}},EKe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,a;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(a=n.getAttribute("lang")),a}},CKe={name:"path",lookup(t){var r;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(r=a[typeof e=="number"?e:0])==null?void 0:r.replace("/",""):void 0}},IKe={name:"subdomain",lookup(t){var r,s;let{lookupFromSubdomainIndex:e}=t;const a=typeof e=="number"?e+1:1,n=typeof window<"u"&&((s=(r=window.location)==null?void 0:r.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[a]}};let fY=!1;try{document.cookie,fY=!0}catch{}const dY=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];fY||dY.splice(1,1);const RKe=()=>({order:dY,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class hY{constructor(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,a)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=wKe(a,this.options||{},RKe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(_Ke),this.addDetector(AKe),this.addDetector(NKe),this.addDetector(SKe),this.addDetector(TKe),this.addDetector(EKe),this.addDetector(CKe),this.addDetector(IKe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,a=[];return e.forEach(n=>{if(this.detectors[n]){let r=this.detectors[n].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(a=a.concat(r))}}),a=a.map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?a:a.length>0?a[0]:null}cacheUserLanguage(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||a.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}hY.type="languageDetector";function fC(t){"@babel/helpers - typeof";return fC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fC(t)}function pY(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":fC(XMLHttpRequest))==="object"}function DKe(t){return!!t&&typeof t.then=="function"}function PKe(t){return DKe(t)?t:Promise.resolve(t)}function GB(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function UB(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(a),!0).forEach(function(n){FKe(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):GB(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function FKe(t,e,a){return(e=OKe(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function OKe(t){var e=$Ke(t,"string");return Fd(e)=="symbol"?e:e+""}function $Ke(t,e){if(Fd(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}var Bu=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Bu=global.fetch:typeof window<"u"&&window.fetch&&(Bu=window.fetch);var ky;pY()&&(typeof global<"u"&&global.XMLHttpRequest?ky=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(ky=window.XMLHttpRequest));var tb;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?tb=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(tb=window.ActiveXObject));typeof Bu!="function"&&(Bu=void 0);if(!Bu&&!ky&&!tb)try{Ro(()=>import("./browser-ponyfill-DQbLRm1Q.js").then(t=>t.b),[]).then(function(t){Bu=t.default}).catch(function(){})}catch{}var dC=function(e,a){if(a&&Fd(a)==="object"){var n="";for(var r in a)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(a[r]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},WB=function(e,a,n,r){var s=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(l){n(null,{status:c.status,data:l})}).catch(n)};if(r){var i=r(e,a);if(i instanceof Promise){i.then(s).catch(n);return}}typeof fetch=="function"?fetch(e,a).then(s).catch(n):Bu(e,a).then(s).catch(n)},VB=!1,LKe=function(e,a,n,r){e.queryStringParams&&(a=dC(a,e.queryStringParams));var s=UB({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(s["Content-Type"]="application/json");var i=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,o=UB({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:s},VB?{}:i),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{WB(a,o,r,c)}catch(l){if(!i||Object.keys(i).length===0||!l.message||l.message.indexOf("not implemented")<0)return r(l);try{Object.keys(i).forEach(function(u){delete o[u]}),WB(a,o,r,c),VB=!0}catch(u){r(u)}}},MKe=function(e,a,n,r){n&&Fd(n)==="object"&&(n=dC("",n).slice(1)),e.queryStringParams&&(a=dC(a,e.queryStringParams));try{var s=ky?new ky:new tb("MSXML2.XMLHTTP.3.0");s.open(n?"POST":"GET",a,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var i=e.customHeaders;if(i=typeof i=="function"?i():i,i)for(var o in i)s.setRequestHeader(o,i[o]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(n)}catch(c){console&&console.log(c)}},BKe=function(e,a,n,r){if(typeof n=="function"&&(r=n,n=void 0),r=r||function(){},Bu&&a.indexOf("file:")!==0)return LKe(e,a,n,r);if(pY()||typeof ActiveXObject=="function")return MKe(e,a,n,r);r(new Error("No fetch and no xhr implementation found!"))};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function jB(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function sT(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(a),!0).forEach(function(n){mY(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):jB(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function zKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GKe(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gY(n.key),n)}}function UKe(t,e,a){return e&&GKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mY(t,e,a){return(e=gY(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function gY(t){var e=WKe(t,"string");return sm(e)=="symbol"?e:e+""}function WKe(t,e){if(sm(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VKe=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(a){return JSON.parse(a)},stringify:JSON.stringify,parsePayload:function(a,n,r){return mY({},n,r||"")},parseLoadPayload:function(a,n){},request:BKe,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},yY=function(){function t(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};zKe(this,t),this.services=e,this.options=a,this.allOptions=n,this.type="backend",this.init(e,a,n)}return UKe(t,[{key:"init",value:function(a){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=a,this.options=sT(sT(sT({},VKe()),this.options||{}),r),this.allOptions=s,this.services&&this.options.reloadInterval){var i=setInterval(function(){return n.reload()},this.options.reloadInterval);sm(i)==="object"&&typeof i.unref=="function"&&i.unref()}}},{key:"readMulti",value:function(a,n,r){this._readAny(a,a,n,n,r)}},{key:"read",value:function(a,n,r){this._readAny([a],a,[n],n,r)}},{key:"_readAny",value:function(a,n,r,s,i){var o=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(a,r)),c=PKe(c),c.then(function(l){if(!l)return i(null,{});var u=o.services.interpolator.interpolate(l,{lng:a.join("+"),ns:r.join("+")});o.loadUrl(u,i,n,s)})}},{key:"loadUrl",value:function(a,n,r,s){var i=this,o=typeof r=="string"?[r]:r,c=typeof s=="string"?[s]:s,l=this.options.parseLoadPayload(o,c);this.options.request(this.options,a,l,function(u,d){if(d&&(d.status>=500&&d.status<600||!d.status))return n("failed loading "+a+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return n("failed loading "+a+"; status code: "+d.status,!1);if(!d&&u&&u.message){var p=u.message.toLowerCase(),m=["failed","fetch","network","load"].find(function(v){return p.indexOf(v)>-1});if(m)return n("failed loading "+a+": "+u.message,!0)}if(u)return n(u,!1);var g,x;try{typeof d.data=="string"?g=i.options.parse(d.data,r,s):g=d.data}catch{x="failed parsing "+a+" to json"}if(x)return n(x,!1);n(null,g)})}},{key:"create",value:function(a,n,r,s,i){var o=this;if(this.options.addPath){typeof a=="string"&&(a=[a]);var c=this.options.parsePayload(n,r,s),l=0,u=[],d=[];a.forEach(function(p){var m=o.options.addPath;typeof o.options.addPath=="function"&&(m=o.options.addPath(p,n));var g=o.services.interpolator.interpolate(m,{lng:p,ns:n});o.options.request(o.options,g,c,function(x,v){l+=1,u.push(x),d.push(v),l===a.length&&typeof i=="function"&&i(u,d)})})}}},{key:"reload",value:function(){var a=this,n=this.services,r=n.backendConnector,s=n.languageUtils,i=n.logger,o=r.language;if(!(o&&o.toLowerCase()==="cimode")){var c=[],l=function(d){var p=s.toResolveHierarchy(d);p.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};l(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(u){return l(u)}),c.forEach(function(u){a.allOptions.ns.forEach(function(d){r.read(u,d,"read",null,null,function(p,m){p&&i.warn("loading namespace ".concat(d," for language ").concat(u," failed"),p),!p&&m&&i.log("loaded namespace ".concat(d," for language ").concat(u),m),r.loaded("".concat(u,"|").concat(d),p,m)})})})}}}])}();yY.type="backend";Zr.use(yY).use(KJ).use(hY).init({interpolation:{escapeValue:!1},fallbackLng:"en",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},supportedLngs:["en-US","es-ES","pt-BR","fr-FR"]});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>console.log("Service Worker registered",t)).catch(t=>console.log("Service Worker registration failed",t))});const vY=document.getElementById("root");if(!vY)throw new Error("No root element found!");OJ.createRoot(vY).render(L.jsx(F.Suspense,{fallback:L.jsx("div",{}),children:L.jsx(ZJ,{i18n:Zr,children:L.jsx(dee,{children:L.jsx(eKe,{})})})}));export{J6 as $,rz as A,rn as B,Ey as C,Sk as D,Gne as E,xne as F,KR as G,um as H,nz as I,fu as J,Pj as K,p$e as L,TC as M,m$e as N,kt as O,nn as P,xi as Q,rs as R,_j as S,e$e as T,Al as U,vn as V,t$e as W,ib as X,o8 as Y,IC as Z,rd as _,HKe as a,CC as a0,Cy as a1,a$e as a2,n$e as a3,Sy as a4,aoe as a5,eo as a6,zo as a7,m6 as b,sa as c,zu as d,ka as e,nqe as f,Od as g,rqe as h,tqe as i,L as j,xoe as k,RT as l,sg as m,ig as n,og as o,sqe as p,j6 as q,F as r,sz as s,$p as t,wy as u,JKe as v,wC as w,aqe as x,vse as y,sb as z};
