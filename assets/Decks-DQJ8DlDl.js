import{j as l}from"./query-vendor-DpGHCXpY.js";import{c as H,H as Q,o as q,K as G,L as K,M,N as O,O as J,P as A,S as U,Q as V,B as L,E as B,R as W,s as X,_ as z,r as Y}from"./index-gS_9Ig_6.js";import{L as I}from"./react-vendor-DjlsVz29.js";import{T as Z,D as ee,a as se}from"./Filters-CedKmMaZ.js";import{u as te}from"./use-search-state-DlcZWv7A.js";import"./i18n-vendor-DDmeScd6.js";import{C as le}from"./chevron-first-D3qcbkQP.js";import"./charts-vendor-D-Ae2kUX.js";import"./supabase-vendor-CP3OYKhD.js";import"./ui-vendor-9yhwxkpr.js";import"./xlsx-vendor-De4COjWB.js";import"./tabs-BYIhdTYx.js";function ae(e){const s=H.c(18),{deck:t}=e,a=`/decks/${t.id??""}`,w=t.id;let c;s[0]!==t.energy?(c=t.energy.map(ie),s[0]=t.energy,s[1]=c):c=s[1];let m;s[2]!==c?(m=l.jsx("div",{className:"flex flex-wrap gap-1 items-center justify-center w-10",children:c}),s[2]=c,s[3]=m):m=s[3];let o;s[4]!==t.name?(o=l.jsx("h2",{className:"font-semibold",children:t.name}),s[4]=t.name,s[5]=o):o=s[5];let i;s[6]!==t.is_public||s[7]!==t.likes?(i=t.likes!==void 0?l.jsxs("span",{className:"ml-auto inline-flex gap-1",children:[l.jsx("span",{children:t.likes}),l.jsx(Q,{})]}):l.jsx("span",{className:"ml-auto italic text-neutral-400 text-sm",children:t.is_public?"Public":"Private"}),s[6]=t.is_public,s[7]=t.likes,s[8]=i):i=s[8];let r;s[9]!==t.id||s[10]!==m||s[11]!==o||s[12]!==i?(r=l.jsxs("div",{className:"flex items-center gap-2 bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 rounded-md p-2",children:[m,o,i]},w),s[9]=t.id,s[10]=m,s[11]=o,s[12]=i,s[13]=r):r=s[13];let n;return s[14]!==t||s[15]!==a||s[16]!==r?(n=l.jsx(I,{to:a,state:t,children:r}),s[14]=t,s[15]=a,s[16]=r,s[17]=n):n=s[17],n}function ie(e){return l.jsx("img",{src:`/images/energy/${e}.webp`,alt:e,className:"size-4"},e)}const re=q({from:z(K).default("community"),orderby:z(O).default("popular"),page:Y().gte(0).default(0),energy:X(z(A)).default([])});function ve(){const e=H.c(60),[s,t]=te(re),{data:a,isLoading:w,isError:c,error:m}=G(s);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(I,{to:"/decks/edit",children:l.jsxs(L,{className:"w-full",children:["New deck",l.jsx(B,{})]})}),e[0]=o):o=e[0];let i;e[1]!==t?(i=C=>t({from:C}),e[1]=t,e[2]=i):i=e[2];let r;e[3]!==s.from||e[4]!==i?(r=l.jsx(Z,{className:"w-full",options:K,value:s.from,onChange:i,show:ne}),e[3]=s.from,e[4]=i,e[5]=r):r=e[5];let n;e[6]!==s.from||e[7]!==s.orderby||e[8]!==t?(n=s.from==="community"&&l.jsx(ee,{options:O,value:s.orderby,onChange:C=>t({orderby:C}),label:"Sort by",show:M}),e[6]=s.from,e[7]=s.orderby,e[8]=t,e[9]=n):n=e[9];let f;e[10]!==t?(f=C=>t({energy:C}),e[10]=t,e[11]=f):f=e[11];let d;e[12]!==s.energy||e[13]!==f?(d=l.jsx(se,{options:A,value:s.energy,onChange:f,show:J}),e[12]=s.energy,e[13]=f,e[14]=d):d=e[14];let p;e[15]!==r||e[16]!==n||e[17]!==d?(p=l.jsxs("div",{className:"flex flex-col gap-2",children:[o,r,n,d]}),e[15]=r,e[16]=n,e[17]=d,e[18]=p):p=e[18];const $=s.page+1;let x;e[19]!==$?(x=l.jsxs("span",{children:["Page ",$]}),e[19]=$,e[20]=x):x=e[20];let u;e[21]!==t?(u=()=>t({page:0}),e[21]=t,e[22]=u):u=e[22];const P=s.page<=0;let S;e[23]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsx(le,{}),e[23]=S):S=e[23];let g;e[24]!==P||e[25]!==u?(g=l.jsx(L,{variant:"outline",onClick:u,disabled:P,children:S}),e[24]=P,e[25]=u,e[26]=g):g=e[26];let h;e[27]!==s.page||e[28]!==t?(h=()=>t({page:Math.max(s.page-1,0)}),e[27]=s.page,e[28]=t,e[29]=h):h=e[29];const R=s.page<=0;let F;e[30]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx(W,{}),e[30]=F):F=e[30];let j;e[31]!==h||e[32]!==R?(j=l.jsx(L,{variant:"outline",onClick:h,disabled:R,children:F}),e[31]=h,e[32]=R,e[33]=j):j=e[33];let b;e[34]!==s.page||e[35]!==t?(b=()=>t({page:s.page+1}),e[34]=s.page,e[35]=t,e[36]=b):b=e[36];const T=!a?.hasNext;let D;e[37]===Symbol.for("react.memo_cache_sentinel")?(D=l.jsx(B,{}),e[37]=D):D=e[37];let y;e[38]!==b||e[39]!==T?(y=l.jsx(L,{variant:"outline",onClick:b,disabled:T,children:D}),e[38]=b,e[39]=T,e[40]=y):y=e[40];let v;e[41]!==a?(v=a&&l.jsxs("p",{className:"italic text-neutral-400",children:["Found ",a.count," decks"]}),e[41]=a,e[42]=v):v=e[42];let k;e[43]!==g||e[44]!==j||e[45]!==y||e[46]!==v||e[47]!==x?(k=l.jsxs("div",{className:"flex items-center gap-2",children:[x,g,j,y,v]}),e[43]=g,e[44]=j,e[45]=y,e[46]=v,e[47]=x,e[48]=k):k=e[48];let N;e[49]!==a||e[50]!==m||e[51]!==c||e[52]!==w?(N=w?l.jsx(U,{size:"md",overlay:!0}):c||!a?l.jsx(V,{error:m??void 0}):a.decks.map(oe),e[49]=a,e[50]=m,e[51]=c,e[52]=w,e[53]=N):N=e[53];let _;e[54]!==k||e[55]!==N?(_=l.jsxs("div",{className:"flex flex-col gap-2 sm:w-xl",children:[k,N]}),e[54]=k,e[55]=N,e[56]=_):_=e[56];let E;return e[57]!==_||e[58]!==p?(E=l.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row sm:w-fit mx-auto px-1",children:[p,_]}),e[57]=_,e[58]=p,e[59]=E):E=e[59],E}function oe(e){return l.jsx(ae,{deck:e},e.id)}function ne(e){return`${M(e)} decks`}export{ve as default};
