import{e as se,_ as ne,$ as ie,a0 as V,j as e,f as de,a1 as ce,D as j,u as b,a2 as oe,a3 as U,O as le,Q as Y,T as me,P as F,o as z,r as N,a4 as H,a5 as W,a6 as L,B as q,a7 as ue,a8 as xe,F as B,L as J,a9 as ee,aa as fe,ab as pe,ac as he,ad as _e,ae as te,af as ge,ag as K,ah as je,ai as be,aj as Ne,Z as A,M as ve,ak as ye,N as Ce,al as Te,am as k,an as we}from"./index-CxOqlqY9.js";import{T as ke,a as Fe,b as Ie,c as Se,d as M}from"./Filters-CchJKzAy.js";import{C as P}from"./CardLine-C0wFiDBC.js";import{C as $e}from"./CardsTable-D6TsytHv.js";import{f as Le}from"./utils-CV6mghS-.js";import{A as ae,a as Ae,b as Me}from"./alert-_ujvRLi9.js";import{S as Oe}from"./siren-Cfnxh88b.js";import{S as re,u as Ee,a as Pe,F as De,b as I,c as S,d as $,e as D,f as Re,g as Ue}from"./form-6jVEdCSW.js";import{M as E,C as R}from"./react-tooltip.min-Che1gHTK.js";import"./Card-D9hJcxWI.js";import"./FancyCard-DSSYf6q6.js";import"./index-C0xIBACf.js";import"./index-CW8OtJrN.js";const He=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],We=se("copy",He);function O(t){return ne(ie,t)}const Be=({friendId:t,className:s="",showCopyButton:a=!0})=>{const{toast:o}=V(),r=async()=>{try{await navigator.clipboard.writeText(t),o({title:"Friend ID copied to clipboard!",variant:"default",duration:2e3})}catch(l){console.error("Failed to copy friend ID:",l),o({title:"Failed to copy friend ID",variant:"destructive",duration:3e3})}};return t?e.jsxs("span",{className:de("inline-flex items-center gap-1",s),children:[e.jsx("span",{className:"font-mono",children:ce(t)}),a&&e.jsx(j,{variant:"ghost",size:"icon",onClick:r,className:"h-4 w-4 text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200","aria-label":"Copy friend ID",children:e.jsx(We,{className:"h-2.5 w-2.5"})})]}):null},Q=({cards:t,selected:s,setSelected:a})=>{const o=[...t].sort((l,d)=>{const c=f=>{const _=f.split("-"),p=_[0]||"",v=_.length>1?parseInt(_[1],10):0;return{setName:p,cardNumber:v}},m=c(l.card_id),x=c(d.card_id);return m.setName!==x.setName?m.setName.localeCompare(x.setName):m.cardNumber-x.cardNumber});function r(l){function d(){s?.card_id===l.card_id?a(null):a(l)}return e.jsx("li",{className:"rounded cursor-pointer",onClick:d,children:e.jsx(P,{className:`w-full ${s?.card_id===l.card_id&&"bg-green-900"} hover:bg-neutral-600`,card_id:l.card_id,rarity:"hidden"})},l.card_id)}return e.jsx("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-2 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1",children:o.map(r)})})};function Z(t){return t?e.jsx(P,{card_id:t.card_id,details:"hidden"}):"—"}const Ve=({yourId:t,friendId:s,yourCard:a,friendCard:o,setYourCard:r,setFriendCard:l})=>{const{t:d}=b("trade-matches"),{toast:c}=V(),m=oe(),x=a&&o&&a.rarity===o.rarity;async function f(){if(!x)return;const _={offering_friend_id:t,receiving_friend_id:s,offer_card_id:a.card_id,receiver_card_id:o.card_id,status:"offered"};try{m.mutate(_)}catch(p){console.log("TradeOffer: Error inserting trade",p),c({title:d("tradeFailed"),variant:"default"})}r(null),l(null),c({title:d("tradeOffered"),variant:"default"}),U("Offer trade")}return!a&&!o?e.jsx("div",{className:"sticky top-0 z-10 flex rounded-lg border-1 bg-neutral-900 border-neutral-700 border-solid p-2 w-full items-center justify-around text-center h-[166px] sm:h-[110px]",children:e.jsx("h4",{className:"text-lg font-medium",children:d("selectCardsToTrade")})}):e.jsxs("div",{className:"sticky top-0 z-10 bg-neutral-900 rounded-lg border-1 border-neutral-700 border-solid p-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-x-4 gap-y-1 p-1",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:d("youGive")}),Z(a)]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:d("youReceive")}),Z(o)]})]}),e.jsx(j,{className:"block w-full sm:w-96 mx-auto mt-1 text-center",type:"button",variant:"outline",onClick:f,disabled:!x,children:d("offerTrades")})]})};function X(t,s){const a=new Set(s),o=t.filter(r=>a.has(r)).map(r=>q(r)).filter(r=>L.includes(r.rarity)&&ue.includes(r.expansion));return Object.groupBy(o,r=>r.rarity)}function ze(){const{t}=b(["trade-matches","common"]),{friendId:s}=le(),{data:a,isLoading:o,isError:r}=Y(s),{data:l=new Map,isLoading:d,isError:c}=me(s),{data:m}=F(),{data:x=new Map}=z(),[f,_]=N.useState(null),[p,v]=N.useState(null);if(!m)return null;if(a===null)return e.jsx("p",{className:"text-xl text-center py-8",children:t("notFound")});if(r||c)return e.jsx("p",{className:"text-xl text-center py-8",children:t("common:error")});if(o||d)return e.jsx("p",{className:"text-xl text-center py-8",children:t("common:loading")});if(!a?.is_active_trading)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:t("inActiveTradePage",{username:a?.username})}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:t("inActiveTradeDescription")})]});const y=X(W(x,m.trade_rarity_settings),H(l,a.trade_rarity_settings)),C=X(W(l,a.trade_rarity_settings),H(x,m.trade_rarity_settings)),n=L.some(i=>(y[i]??[]).length>0&&(C[i]??[]).length>0);return e.jsxs("div",{className:"kap-4 justify-center w-full m-auto px-1 sm:px-2",children:[e.jsxs("h1",{className:"mb-4 ms-1",children:[e.jsx("span",{className:"text-2xl font-light",children:t("tradingWith")}),e.jsxs("span",{className:"text-2xl font-bold",children:[" ",a.username," "]}),e.jsx("span",{className:"block sm:inline text-sm",children:e.jsx(Be,{friendId:a.friend_id})})]}),e.jsx(Ve,{yourId:m.friend_id,friendId:a.friend_id,yourCard:f,friendCard:p,setYourCard:_,setFriendCard:v}),!n&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:t("noPossibleTrades")}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:t("noPossibleTradesDescription")})]}),L.map(i=>e.jsxs("div",{className:"mt-4",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-2 text-center",children:["[ ",i," ]"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:t("youHave")}),y[i]?e.jsx(Q,{cards:y[i],selected:f,setSelected:_}):e.jsx("div",{className:"text-center text-neutral-500 rounded-lg border-1 border-neutral-700 border-solid p-2",children:"No cards to trade"})]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:t("friendHas")}),C[i]?e.jsx(Q,{cards:C[i],selected:p,setSelected:v}):e.jsx("div",{className:"text-center text-neutral-500  rounded-lg border-1 border-neutral-700 border-solid p-2",children:"No cards to trade"})]})]})]},i))]})}function Ge(){const{t}=b("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(ae,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx(Ae,{children:t("notLoggedIn.title")}),e.jsx(Me,{children:t("notLoggedIn.description")})]})})}const Ke=["lookingFor","forTrade"];function Qe(){const{t}=b(["pages/trade","filters"]),{data:s}=xe(),{data:a,isLoading:o}=F(),{data:r=new Map}=z(),[l,d]=N.useState([]),[c,m]=N.useState("lookingFor"),x=i=>(l.length===0?L:l).includes(i.rarity),f=i=>{const h=q(i),T=r.get(i)?.amount_owned??0;return{...h,amount_owned:T}},_=N.useMemo(()=>a&&H(r,a.trade_rarity_settings).map(f),[r,a]),p=N.useMemo(()=>_?.filter(x),[_,l]),v=N.useMemo(()=>a&&W(r,a.trade_rarity_settings).map(f),[r,a]),y=N.useMemo(()=>v?.filter(x),[v,l]);if(o)return e.jsxs("p",{className:"text-xl text-center py-8",children:[t("common:loading"),"..."]});if(!s||!a)return e.jsx(Ge,{});if(!p||!y)return e.jsx("p",{className:"text-xl text-center py-8",children:"Something went wrong"});const C=()=>{let i="";a?.is_public&&(i+=`${t("publicTradePage")} https://tcgpocketcollectiontracker.com/#/trade/${a?.friend_id}
`),a?.username&&(i+=`${t("friendID")} ${a.friend_id} (${a.username})

`),i+=`${t("lookingForCards")}
`;const h=p.sort((u,w)=>{const G=u.expansion.localeCompare(w.expansion);return G!==0?G:u.rarity.localeCompare(w.rarity)});for(let u=0;u<h.length;u++)(u>0?h[u-1].expansion:"")!==h[u].expansion&&(i+=`
${h[u].set_details}:
`),i+=`${h[u].rarity} ${h[u].card_id} - ${h[u].name}
`;const T=p.map(u=>u.rarity);i+=`

${t("forTradeCards")}
`;const g=y.filter(u=>T.includes(u.rarity)).sort((u,w)=>u.rarity.localeCompare(w.rarity));for(let u=0;u<g.length;u++)(u>0?g[u-1].expansion:"")!==g[u].expansion&&(i+=`
${g[u].set_details}:
`),i+=`${g[u].rarity} ${g[u].card_id} - ${g[u].name}
`;return i},n=async()=>{const i=C();B({title:t("copiedInClipboard"),variant:"default",duration:3e3}),await navigator.clipboard.writeText(i)};return e.jsx($e,{cards:c==="lookingFor"?p:y,children:e.jsxs("div",{className:"flex flex-wrap gap-2 mx-2 mb-2",children:[e.jsx(ke,{options:Ke,value:c,onChange:m,show:t}),e.jsx(Fe,{options:L,value:l,onChange:d,show:Le,asChild:!0}),e.jsx(j,{variant:"outline",onClick:n,children:"Copy to clipboard"})]})})}function Ze({partner:t}){const{t:s}=b("trade-matches");return e.jsxs("div",{className:"max-w-md w-full flex justify-between items-center mx-auto px-4",children:[e.jsx("p",{className:"mr-2",children:t.username}),e.jsx(J,{to:`/trade/${t.friend_id}`,children:e.jsxs(j,{variant:"outline",className:"my-auto",children:[s("viewTradePartner"),e.jsx(ee,{})]})})]})}function Xe(){const{t}=b(["trade-matches","common"]),{data:s,isLoading:a,isError:o}=fe();return a?e.jsxs("p",{className:"text-xl text-center py-8",children:[t("common:loading"),e.jsx("br",{}),t("longOperation")]}):o?e.jsx("p",{className:"text-xl text-center py-8",children:t("common:error")}):s?.length?e.jsx("div",{className:"flex flex-col gap-4",children:s.map(r=>e.jsx(Ze,{partner:r},r.friend_id))}):e.jsx("p",{className:"text-xl text-center py-8",children:t("noTradePartners")})}const Ye=({row:t,selectedTradeId:s,setSelectedTradeId:a})=>{const{t:o}=b("trade-matches"),{data:r}=F();if(!r)return null;const l=t.offering_friend_id===r.friend_id?t.offer_card_id:t.receiver_card_id,d=t.offering_friend_id===r.friend_id?t.receiver_card_id:t.offer_card_id;function c(x){s===x.id?a(void 0):a(x.id)}const m=x=>{const f={offered:{icon:x.offering_friend_id===r.friend_id?"→":"←",color:"bg-amber-600"},accepted:{icon:"↔",color:"bg-lime-600"},declined:{icon:"X",color:"bg-stone-600"},finished:{icon:"✓",color:"bg-indigo-600"}};return e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{id:`tooltip-${x.id}`}),e.jsx("span",{className:`rounded-full text-center w-7 md:w-9 ${f[x.status].color}`,"data-tooltip-id":`tooltip-${x.id}`,"data-tooltip-content":o(`status.${x.status}`),children:f[x.status].icon})]})};return e.jsxs("li",{className:`flex cursor-pointer rounded gap-1 md:gap-4 p-1 ${s===t.id&&"bg-green-900"} hover:bg-neutral-500`,onClick:()=>c(t),children:[m(t),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full justify-between gap-1 md:gap-4",children:[e.jsx(P,{className:"sm:w-1/2",card_id:l,increment:-1}),e.jsx(P,{className:"sm:w-1/2",card_id:d,increment:1})]})]})};function qe({trades:t,viewHistory:s}){const{t:a}=b("trade-matches"),{toast:o}=V(),{data:r}=F(),{data:l=new Map}=z(),d=pe();function c(n){return n.offering_friend_id===r?.friend_id&&!n.offerer_ended||n.receiving_friend_id===r?.friend_id&&!n.receiver_ended}const m=s?t.filter(n=>!c(n)):t.filter(c),[x,f]=N.useState(void 0),_=he();if(!r)return null;const p=(n,i)=>{const h=_e(n);return{card_id:n,internal_id:h,amount_owned:(l.get(h)?.amount_owned??0)+i}},v=async n=>{if(n.offer_card_id!==n.receiver_card_id)if(n.offering_friend_id===r.friend_id){const i=[p(n.offer_card_id,-1),p(n.receiver_card_id,1)];d.mutate({updates:i}),o({title:a("collectionUpdated"),variant:"default"})}else if(n.receiving_friend_id===r.friend_id){const i=[p(n.offer_card_id,1),p(n.receiver_card_id,-1)];d.mutate({updates:i}),o({title:a("collectionUpdated"),variant:"default"})}else console.log(n,"can't match friend id")},y=n=>{const i=async g=>{_.mutate({id:n.id,trade:{status:g}}),f(n.id),U(`Updated trade: ${g}`)},h=async()=>{const g=n.offering_friend_id===r.friend_id?{offerer_ended:!0}:n.receiving_friend_id===r.friend_id?{receiver_ended:!0}:null;if(g===null){console.log(n," doesn't match your friend_id");return}_.mutate({id:n.id,trade:g}),f(void 0),U("Updated trade: ended")},T=n.offering_friend_id===r.friend_id&&n.offerer_ended||n.receiving_friend_id===r.friend_id&&n.receiver_ended;switch(n.status){case"offered":return e.jsxs(e.Fragment,{children:[n.receiving_friend_id===r.friend_id&&e.jsx(j,{type:"button",onClick:async()=>i("accepted"),children:a("actionAccept")}),e.jsx(j,{type:"button",onClick:async()=>i("declined"),children:n.receiving_friend_id===r.friend_id?a("actionDecline"):a("actionCancel")})]});case"accepted":return e.jsxs(e.Fragment,{children:[e.jsx(j,{type:"button",onClick:async()=>i("finished"),children:a("actionComplete")}),e.jsx(j,{type:"button",onClick:async()=>i("declined"),children:a("actionCancel")})]});case"declined":return T?null:e.jsx(j,{type:"button",onClick:h,children:a("actionHide")});case"finished":return T?null:e.jsxs(e.Fragment,{children:[e.jsx(j,{type:"button",onClick:async()=>{await v(n),await h()},children:a("actionUpdate")}),e.jsx(j,{type:"button",onClick:h,children:a("actionHide")})]});default:return console.log(`Unknown trade status ${n.status}`),null}},C=m.find(n=>n.id===x);return m.length===0?null:e.jsxs("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-1 sm:p-2",children:[e.jsxs("div",{className:"hidden sm:flex px-1",children:[e.jsx("div",{className:"w-9"}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:a("youGive")}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:a("youReceive")})]}),e.jsx("ul",{className:"flex flex-col gap-2 sm:gap-0",children:m.toSorted((n,i)=>n.created_at>i.created_at?-1:1).map(n=>e.jsx(Ye,{row:n,selectedTradeId:x,setSelectedTradeId:f},n.id))}),C&&e.jsx("div",{className:"flex gap-4 text-center items-center mt-2",children:y(C)})]})}function Je({friendId:t}){const{t:s}=b("trade-matches"),{data:a}=te(),{data:o}=Y(t),[r,l]=N.useState(!1);if(!a)return null;const d=a.filter(c=>c.offering_friend_id===t||c.receiving_friend_id===t);return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1 mx-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-md",children:s("tradingWith")}),e.jsxs("span",{className:"text-md font-bold",children:[" ",o?.username||"loading"," "]})]}),e.jsxs("span",{className:"flex gap-4",children:[e.jsxs("label",{htmlFor:`history-${t}`,className:"my-auto flex items-center",children:[s("viewHistory"),e.jsx(re,{id:`history-${t}`,className:"ml-2 my-auto",checked:r,onCheckedChange:l})]}),e.jsx(J,{to:`/trade/${t}`,children:e.jsxs(j,{variant:"outline",className:"my-auto",children:[s("openTradeWith"),e.jsx(ee,{})]})})]})]}),o!==null&&e.jsx(qe,{trades:d,viewHistory:r})]})}function et(){const{t}=b("trade-matches"),{data:s}=F(),{data:a}=te();if(!a||!s)return null;if(a.length===0)return e.jsx("p",{children:t("noTradeOffers")});const o=at(a,s.friend_id),r=Object.fromEntries(Object.entries(o).map(([c,m])=>[c,+(tt(m,s.friend_id).length===0)])),l=Object.fromEntries(Object.entries(o).map(([c,m])=>[c,Math.max(...m.map(x=>new Date(x.updated_at).getTime()))])),d=Object.keys(o).toSorted((c,m)=>r[c]!==r[m]?r[c]-r[m]:l[m]-l[c]);return e.jsx("div",{className:"flex flex-col items-center mx-auto gap-6 sm:px-4 mb-12 w-full",children:d.map(c=>e.jsx(Je,{friendId:c},c))})}function tt(t,s){return t.filter(a=>a.offering_friend_id===s?!a.offerer_ended:!a.receiver_ended)}function at(t,s){return Object.groupBy(t,a=>a.offering_friend_id===s?a.receiving_friend_id:a.receiving_friend_id===s?a.offering_friend_id:(console.log("Fetched row does not match user friend_id",a),"undefined"))}function rt(){const{t}=b("trade-matches"),{data:s}=F(),a=ge(),o=K({is_active_trading:Ne(),min_number_of_cards_to_keep:O().min(1).max(10),max_number_of_cards_wanted:O().min(1).max(10),trade_rarity_settings:je(K({rarity:be(ve),to_collect:O().min(0).max(100),to_keep:O().min(0).max(100)}))}),r=Ee({resolver:Pe(o),values:{is_active_trading:s?.is_active_trading||!1,min_number_of_cards_to_keep:s?.min_number_of_cards_to_keep||1,max_number_of_cards_wanted:s?.max_number_of_cards_wanted||1,trade_rarity_settings:s?.trade_rarity_settings||[]}}),l=async d=>{try{a.mutate({username:s?.username,is_active_trading:d.is_active_trading,min_number_of_cards_to_keep:d.min_number_of_cards_to_keep,max_number_of_cards_wanted:d.max_number_of_cards_wanted,trade_rarity_settings:d.trade_rarity_settings}),B({title:t("accountSaved"),variant:"default"})}catch(c){console.error("error saving account",c),B({title:t("errorSavingAccount"),variant:"destructive"})}};return!s||!s.username?e.jsx(ae,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:t("noAccount")}):e.jsxs("div",{children:[e.jsx(De,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(l),className:"border-1 border-neutral-700 space-y-2 p-4 mx-auto",children:[e.jsx(I,{control:r.control,name:"is_active_trading",render:({field:d})=>e.jsx(S,{className:"flex flex-col items-start",children:e.jsx($,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(D,{className:"flex sm:w-72",children:t("isActiveTrading")}),e.jsx("div",{className:"grow-1",children:e.jsx(re,{checked:d.value,onCheckedChange:d.onChange})}),e.jsx(Re,{className:"grow",children:d.value?"active":"disabled"}),e.jsx(E,{id:"activeInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(R,{className:"h-4 w-4","data-tooltip-id":"activeInput","data-tooltip-content":t("activeTradingInputTooltip")})]})})})}),e.jsx(I,{control:r.control,name:"min_number_of_cards_to_keep",render:({field:d})=>e.jsx(S,{className:"flex flex-col items-start",children:e.jsx($,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(D,{className:"flex sm:w-72",children:t("minNumberOfCardsToKeep")}),e.jsx("div",{className:"grow-1",children:e.jsx(A,{className:"w-24",type:"number",...d})}),e.jsx(E,{id:"minInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(R,{className:"h-4 w-4","data-tooltip-id":"minInput","data-tooltip-content":t("minInputTooltip")})]})})})}),e.jsx(I,{control:r.control,name:"max_number_of_cards_wanted",render:({field:d})=>e.jsx(S,{className:"flex flex-col items-start",children:e.jsx($,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(D,{className:"flex sm:w-72",children:t("maxNumberOfCardsWanted")}),e.jsx("div",{className:"grow-1",children:e.jsx(A,{className:"w-24",type:"number",...d})}),e.jsx(E,{id:"maxInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(R,{className:"h-4 w-4","data-tooltip-id":"maxInput","data-tooltip-content":t("maxInputTooltip")})]})})})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-x-4 mb-2",children:[e.jsx("div",{className:"flex-1",children:t("rarity")}),e.jsx("div",{className:"flex-1",children:t("toCollect")}),e.jsx("div",{className:"flex-1",children:t("toKeep")})]}),r.watch("trade_rarity_settings").map((d,c)=>e.jsxs("div",{className:"flex items-center gap-x-4 mb-2",children:[e.jsx("div",{className:"flex-1",children:d.rarity}),e.jsx(I,{control:r.control,name:`trade_rarity_settings.${c}.to_collect`,render:({field:m})=>e.jsx(S,{className:"flex-1",children:e.jsx($,{children:e.jsx(A,{className:"w-24",type:"number",...m})})})}),e.jsx(I,{control:r.control,name:`trade_rarity_settings.${c}.to_keep`,render:({field:m})=>e.jsx(S,{className:"flex-1",children:e.jsx($,{children:e.jsx(A,{className:"w-24",type:"number",...m})})})})]},c))]}),e.jsx("div",{className:"w-full flex justify-end mt-8",children:e.jsx(j,{type:"submit",children:t("save")})})]})}),e.jsx(Ue,{className:"mt-4"})]})}function _t(){const{t}=b("trade-matches"),s=ye(),a=Ce(),o=s.pathname.split("/").pop()||"offers";return N.useEffect(()=>{s.pathname==="/trade"&&a("/trade/offers")},[s.pathname,a]),e.jsxs(Ie,{className:"flex flex-col mx-auto max-w-[900px]",value:o,onValueChange:r=>a(`/trade/${r}`),children:[e.jsxs(Se,{className:"gap-4 mb-6 rounded-lg border-b-1 border-neutral-700 border-solid dark:bg-transparent pb-2",children:[e.jsx(M,{className:"text-md",value:"cards",children:t("tabCards")}),e.jsx(M,{className:"text-md",value:"offers",children:t("tabOffers")}),e.jsx(M,{className:"text-md",value:"matches",children:t("tabMatches")}),e.jsx(M,{className:"text-md",value:"settings",children:t("tabSettings")})]}),e.jsxs(Te,{children:[e.jsx(k,{path:"/",element:e.jsx(we,{to:"/trade/offers",replace:!0})}),e.jsx(k,{path:"cards",element:e.jsx(Qe,{})}),e.jsx(k,{path:"offers",element:e.jsx(et,{})}),e.jsx(k,{path:"matches",element:e.jsx(Xe,{})}),e.jsx(k,{path:"settings",element:e.jsx(rt,{})}),e.jsx(k,{path:":friendId",element:e.jsx(ze,{})})]})]})}export{_t as default};
