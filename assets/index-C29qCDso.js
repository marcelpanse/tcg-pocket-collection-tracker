const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Overview-Bdu_oQkq.js","assets/NumberFilter-7nXBHV9r.js","assets/RarityFilter-DDOAjj6Z.js","assets/siren-CthLeZyq.js","assets/Collection-Dv-xLwDz.js","assets/tabs-BSBlZEI7.js","assets/Trade-Bns3B452.js","assets/EditProfile-Dk3gyFfo.js"])))=>i.map(i=>d[i]);
var XY=Object.defineProperty;var YY=(t,e,n)=>e in t?XY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lo=(t,e,n)=>YY(t,typeof e!="symbol"?e+"":e,n);function O5(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(a,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var DVe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZY(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var r=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:function(){return t[a]}})}),n}var QA={exports:{}},s0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RF;function QY(){if(RF)return s0;RF=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,r,s){var i=null;if(s!==void 0&&(i=""+s),r.key!==void 0&&(i=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:t,type:a,key:i,ref:r!==void 0?r:null,props:s}}return s0.Fragment=e,s0.jsx=n,s0.jsxs=n,s0}var PF;function JY(){return PF||(PF=1,QA.exports=QY()),QA.exports}var L=JY(),JA={exports:{}},un={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FF;function eZ(){if(FF)return un;FF=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function h(M){return M===null||typeof M!="object"?null:(M=d&&M[d]||M["@@iterator"],typeof M=="function"?M:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function x(M,se,ue){this.props=M,this.context=se,this.refs=v,this.updater=ue||m}x.prototype.isReactComponent={},x.prototype.setState=function(M,se){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,se,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=x.prototype;function b(M,se,ue){this.props=M,this.context=se,this.refs=v,this.updater=ue||m}var _=b.prototype=new k;_.constructor=b,y(_,x.prototype),_.isPureReactComponent=!0;var A=Array.isArray,S={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function E(M,se,ue,le,ie,ye){return ue=ye.ref,{$$typeof:t,type:M,key:se,ref:ue!==void 0?ue:null,props:ye}}function D(M,se){return E(M.type,se,void 0,void 0,void 0,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function P(M){var se={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ue){return se[ue]})}var R=/\/+/g;function B(M,se){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):se.toString(36)}function U(){}function V(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(U,U):(M.status="pending",M.then(function(se){M.status==="pending"&&(M.status="fulfilled",M.value=se)},function(se){M.status==="pending"&&(M.status="rejected",M.reason=se)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function j(M,se,ue,le,ie){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(ye){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case t:case e:ke=!0;break;case u:return ke=M._init,j(ke(M._payload),se,ue,le,ie)}}if(ke)return ie=ie(M),ke=le===""?"."+B(M,0):le,A(ie)?(ue="",ke!=null&&(ue=ke.replace(R,"$&/")+"/"),j(ie,se,ue,"",function(te){return te})):ie!=null&&(I(ie)&&(ie=D(ie,ue+(ie.key==null||M&&M.key===ie.key?"":(""+ie.key).replace(R,"$&/")+"/")+ke)),se.push(ie)),1;ke=0;var ge=le===""?".":le+":";if(A(M))for(var G=0;G<M.length;G++)le=M[G],ye=ge+B(le,G),ke+=j(le,se,ue,ye,ie);else if(G=h(M),typeof G=="function")for(M=G.call(M),G=0;!(le=M.next()).done;)le=le.value,ye=ge+B(le,G++),ke+=j(le,se,ue,ye,ie);else if(ye==="object"){if(typeof M.then=="function")return j(V(M),se,ue,le,ie);throw se=String(M),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ke}function W(M,se,ue){if(M==null)return M;var le=[],ie=0;return j(M,le,"","",function(ye){return se.call(ue,ye,ie++)}),le}function J(M){if(M._status===-1){var se=M._result;se=se(),se.then(function(ue){(M._status===0||M._status===-1)&&(M._status=1,M._result=ue)},function(ue){(M._status===0||M._status===-1)&&(M._status=2,M._result=ue)}),M._status===-1&&(M._status=0,M._result=se)}if(M._status===1)return M._result.default;throw M._result}var q=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Z(){}return un.Children={map:W,forEach:function(M,se,ue){W(M,function(){se.apply(this,arguments)},ue)},count:function(M){var se=0;return W(M,function(){se++}),se},toArray:function(M){return W(M,function(se){return se})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},un.Component=x,un.Fragment=n,un.Profiler=r,un.PureComponent=b,un.StrictMode=a,un.Suspense=c,un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,un.act=function(){throw Error("act(...) is not supported in production builds of React.")},un.cache=function(M){return function(){return M.apply(null,arguments)}},un.cloneElement=function(M,se,ue){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=y({},M.props),ie=M.key,ye=void 0;if(se!=null)for(ke in se.ref!==void 0&&(ye=void 0),se.key!==void 0&&(ie=""+se.key),se)!C.call(se,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&se.ref===void 0||(le[ke]=se[ke]);var ke=arguments.length-2;if(ke===1)le.children=ue;else if(1<ke){for(var ge=Array(ke),G=0;G<ke;G++)ge[G]=arguments[G+2];le.children=ge}return E(M.type,ie,void 0,void 0,ye,le)},un.createContext=function(M){return M={$$typeof:i,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},un.createElement=function(M,se,ue){var le,ie={},ye=null;if(se!=null)for(le in se.key!==void 0&&(ye=""+se.key),se)C.call(se,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ie[le]=se[le]);var ke=arguments.length-2;if(ke===1)ie.children=ue;else if(1<ke){for(var ge=Array(ke),G=0;G<ke;G++)ge[G]=arguments[G+2];ie.children=ge}if(M&&M.defaultProps)for(le in ke=M.defaultProps,ke)ie[le]===void 0&&(ie[le]=ke[le]);return E(M,ye,void 0,void 0,null,ie)},un.createRef=function(){return{current:null}},un.forwardRef=function(M){return{$$typeof:o,render:M}},un.isValidElement=I,un.lazy=function(M){return{$$typeof:u,_payload:{_status:-1,_result:M},_init:J}},un.memo=function(M,se){return{$$typeof:l,type:M,compare:se===void 0?null:se}},un.startTransition=function(M){var se=S.T,ue={};S.T=ue;try{var le=M(),ie=S.S;ie!==null&&ie(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Z,q)}catch(ye){q(ye)}finally{S.T=se}},un.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},un.use=function(M){return S.H.use(M)},un.useActionState=function(M,se,ue){return S.H.useActionState(M,se,ue)},un.useCallback=function(M,se){return S.H.useCallback(M,se)},un.useContext=function(M){return S.H.useContext(M)},un.useDebugValue=function(){},un.useDeferredValue=function(M,se){return S.H.useDeferredValue(M,se)},un.useEffect=function(M,se){return S.H.useEffect(M,se)},un.useId=function(){return S.H.useId()},un.useImperativeHandle=function(M,se,ue){return S.H.useImperativeHandle(M,se,ue)},un.useInsertionEffect=function(M,se){return S.H.useInsertionEffect(M,se)},un.useLayoutEffect=function(M,se){return S.H.useLayoutEffect(M,se)},un.useMemo=function(M,se){return S.H.useMemo(M,se)},un.useOptimistic=function(M,se){return S.H.useOptimistic(M,se)},un.useReducer=function(M,se,ue){return S.H.useReducer(M,se,ue)},un.useRef=function(M){return S.H.useRef(M)},un.useState=function(M){return S.H.useState(M)},un.useSyncExternalStore=function(M,se,ue){return S.H.useSyncExternalStore(M,se,ue)},un.useTransition=function(){return S.H.useTransition()},un.version="19.0.0",un}var OF;function vE(){return OF||(OF=1,JA.exports=eZ()),JA.exports}var F=vE();const ns=Fh(F),tZ=O5({__proto__:null,default:ns},[F]);var eN={exports:{}},i0={},tN={exports:{}},nN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $F;function nZ(){return $F||($F=1,function(t){function e(W,J){var q=W.length;W.push(J);e:for(;0<q;){var Z=q-1>>>1,M=W[Z];if(0<r(M,J))W[Z]=J,W[q]=M,q=Z;else break e}}function n(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var J=W[0],q=W.pop();if(q!==J){W[0]=q;e:for(var Z=0,M=W.length,se=M>>>1;Z<se;){var ue=2*(Z+1)-1,le=W[ue],ie=ue+1,ye=W[ie];if(0>r(le,q))ie<M&&0>r(ye,le)?(W[Z]=ye,W[ie]=q,Z=ie):(W[Z]=le,W[ue]=q,Z=ue);else if(ie<M&&0>r(ye,q))W[Z]=ye,W[ie]=q,Z=ie;else break e}}return J}function r(W,J){var q=W.sortIndex-J.sortIndex;return q!==0?q:W.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],l=[],u=1,d=null,h=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function _(W){for(var J=n(l);J!==null;){if(J.callback===null)a(l);else if(J.startTime<=W)a(l),J.sortIndex=J.expirationTime,e(c,J);else break;J=n(l)}}function A(W){if(v=!1,_(W),!y)if(n(c)!==null)y=!0,V();else{var J=n(l);J!==null&&j(A,J.startTime-W)}}var S=!1,C=-1,E=5,D=-1;function I(){return!(t.unstable_now()-D<E)}function P(){if(S){var W=t.unstable_now();D=W;var J=!0;try{e:{y=!1,v&&(v=!1,k(C),C=-1),m=!0;var q=h;try{t:{for(_(W),d=n(c);d!==null&&!(d.expirationTime>W&&I());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var M=Z(d.expirationTime<=W);if(W=t.unstable_now(),typeof M=="function"){d.callback=M,_(W),J=!0;break t}d===n(c)&&a(c),_(W)}else a(c);d=n(c)}if(d!==null)J=!0;else{var se=n(l);se!==null&&j(A,se.startTime-W),J=!1}}break e}finally{d=null,h=q,m=!1}J=void 0}}finally{J?R():S=!1}}}var R;if(typeof b=="function")R=function(){b(P)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=P,R=function(){U.postMessage(null)}}else R=function(){x(P,0)};function V(){S||(S=!0,R())}function j(W,J){C=x(function(){W(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,V())},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var q=h;h=J;try{return W()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var q=h;h=W;try{return J()}finally{h=q}},t.unstable_scheduleCallback=function(W,J,q){var Z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=q+M,W={id:u++,callback:J,priorityLevel:W,startTime:q,expirationTime:M,sortIndex:-1},q>Z?(W.sortIndex=q,e(l,W),n(c)===null&&W===n(l)&&(v?(k(C),C=-1):v=!0,j(A,q-Z))):(W.sortIndex=M,e(c,W),y||m||(y=!0,V())),W},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(W){var J=h;return function(){var q=h;h=J;try{return W.apply(this,arguments)}finally{h=q}}}}(nN)),nN}var LF;function aZ(){return LF||(LF=1,tN.exports=nZ()),tN.exports}var aN={exports:{}},Zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MF;function rZ(){if(MF)return Zr;MF=1;var t=vE();function e(c){var l="https://react.dev/errors/"+c;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,l,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:c,containerInfo:l,implementation:u}}var i=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,l){if(c==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return Zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Zr.createPortal=function(c,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(e(299));return s(c,l,null,u)},Zr.flushSync=function(c){var l=i.T,u=a.p;try{if(i.T=null,a.p=2,c)return c()}finally{i.T=l,a.p=u,a.d.f()}},Zr.preconnect=function(c,l){typeof c=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,a.d.C(c,l))},Zr.prefetchDNS=function(c){typeof c=="string"&&a.d.D(c)},Zr.preinit=function(c,l){if(typeof c=="string"&&l&&typeof l.as=="string"){var u=l.as,d=o(u,l.crossOrigin),h=typeof l.integrity=="string"?l.integrity:void 0,m=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;u==="style"?a.d.S(c,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:d,integrity:h,fetchPriority:m}):u==="script"&&a.d.X(c,{crossOrigin:d,integrity:h,fetchPriority:m,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},Zr.preinitModule=function(c,l){if(typeof c=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var u=o(l.as,l.crossOrigin);a.d.M(c,{crossOrigin:u,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&a.d.M(c)},Zr.preload=function(c,l){if(typeof c=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var u=l.as,d=o(u,l.crossOrigin);a.d.L(c,u,{crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},Zr.preloadModule=function(c,l){if(typeof c=="string")if(l){var u=o(l.as,l.crossOrigin);a.d.m(c,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:u,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else a.d.m(c)},Zr.requestFormReset=function(c){a.d.r(c)},Zr.unstable_batchedUpdates=function(c,l){return c(l)},Zr.useFormState=function(c,l,u){return i.H.useFormState(c,l,u)},Zr.useFormStatus=function(){return i.H.useHostTransitionStatus()},Zr.version="19.0.0",Zr}var BF;function $5(){if(BF)return aN.exports;BF=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),aN.exports=rZ(),aN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zF;function sZ(){if(zF)return i0;zF=1;var t=aZ(),e=vE(),n=$5();function a(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}var s=Symbol.for("react.element"),i=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),A=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function C(f){return f===null||typeof f!="object"?null:(f=S&&f[S]||f["@@iterator"],typeof f=="function"?f:null)}var E=Symbol.for("react.client.reference");function D(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===E?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case c:return"Fragment";case o:return"Portal";case u:return"Profiler";case l:return"StrictMode";case v:return"Suspense";case x:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case m:return(f.displayName||"Context")+".Provider";case h:return(f._context.displayName||"Context")+".Consumer";case y:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case k:return p=f.displayName||null,p!==null?p:D(f.type)||"Memo";case b:p=f._payload,f=f._init;try{return D(f(p))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,R,B;function U(f){if(R===void 0)try{throw Error()}catch(g){var p=g.stack.trim().match(/\n( *(at )?)/);R=p&&p[1]||"",B=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+R+f+B}var V=!1;function j(f,p){if(!f||V)return"";V=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(p){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Ue){var Le=Ue}Reflect.construct(f,[],Ze)}else{try{Ze.call()}catch(Ue){Le=Ue}f.call(Ze.prototype)}}else{try{throw Error()}catch(Ue){Le=Ue}(Ze=f())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Ue){if(Ue&&Le&&typeof Ue.stack=="string")return[Ue.stack,Le.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=w.DetermineComponentFrameRoot(),z=T[0],Q=T[1];if(z&&Q){var de=z.split(`
`),_e=Q.split(`
`);for(N=w=0;w<de.length&&!de[w].includes("DetermineComponentFrameRoot");)w++;for(;N<_e.length&&!_e[N].includes("DetermineComponentFrameRoot");)N++;if(w===de.length||N===_e.length)for(w=de.length-1,N=_e.length-1;1<=w&&0<=N&&de[w]!==_e[N];)N--;for(;1<=w&&0<=N;w--,N--)if(de[w]!==_e[N]){if(w!==1||N!==1)do if(w--,N--,0>N||de[w]!==_e[N]){var We=`
`+de[w].replace(" at new "," at ");return f.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",f.displayName)),We}while(1<=w&&0<=N);break}}}finally{V=!1,Error.prepareStackTrace=g}return(g=f?f.displayName||f.name:"")?U(g):""}function W(f){switch(f.tag){case 26:case 27:case 5:return U(f.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return f=j(f.type,!1),f;case 11:return f=j(f.type.render,!1),f;case 1:return f=j(f.type,!0),f;default:return""}}function J(f){try{var p="";do p+=W(f),f=f.return;while(f);return p}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function q(f){var p=f,g=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(g=p.return),f=p.return;while(f)}return p.tag===3?g:null}function Z(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function M(f){if(q(f)!==f)throw Error(a(188))}function se(f){var p=f.alternate;if(!p){if(p=q(f),p===null)throw Error(a(188));return p!==f?null:f}for(var g=f,w=p;;){var N=g.return;if(N===null)break;var T=N.alternate;if(T===null){if(w=N.return,w!==null){g=w;continue}break}if(N.child===T.child){for(T=N.child;T;){if(T===g)return M(N),f;if(T===w)return M(N),p;T=T.sibling}throw Error(a(188))}if(g.return!==w.return)g=N,w=T;else{for(var z=!1,Q=N.child;Q;){if(Q===g){z=!0,g=N,w=T;break}if(Q===w){z=!0,w=N,g=T;break}Q=Q.sibling}if(!z){for(Q=T.child;Q;){if(Q===g){z=!0,g=T,w=N;break}if(Q===w){z=!0,w=T,g=N;break}Q=Q.sibling}if(!z)throw Error(a(189))}}if(g.alternate!==w)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?f:p}function ue(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=ue(f),p!==null)return p;f=f.sibling}return null}var le=Array.isArray,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ke=[],ge=-1;function G(f){return{current:f}}function te(f){0>ge||(f.current=ke[ge],ke[ge]=null,ge--)}function ee(f,p){ge++,ke[ge]=f.current,f.current=p}var ae=G(null),be=G(null),Y=G(null),Ae=G(null);function Oe(f,p){switch(ee(Y,p),ee(be,f),ee(ae,null),f=p.nodeType,f){case 9:case 11:p=(p=p.documentElement)&&(p=p.namespaceURI)?oF(p):0;break;default:if(f=f===8?p.parentNode:p,p=f.tagName,f=f.namespaceURI)f=oF(f),p=cF(f,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}te(ae),ee(ae,p)}function $e(){te(ae),te(be),te(Y)}function He(f){f.memoizedState!==null&&ee(Ae,f);var p=ae.current,g=cF(p,f.type);p!==g&&(ee(be,f),ee(ae,g))}function Ve(f){be.current===f&&(te(ae),te(be)),Ae.current===f&&(te(Ae),e0._currentValue=ye)}var tt=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,zt=t.unstable_cancelCallback,$t=t.unstable_shouldYield,st=t.unstable_requestPaint,Be=t.unstable_now,Fe=t.unstable_getCurrentPriorityLevel,Dt=t.unstable_ImmediatePriority,Bt=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,Mn=t.unstable_LowPriority,Bn=t.unstable_IdlePriority,it=t.log,qt=t.unstable_setDisableYieldValue,Xt=null,Ht=null;function ur(f){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Xt,f,void 0,(f.current.flags&128)===128)}catch{}}function Ka(f){if(typeof it=="function"&&qt(f),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Xt,f)}catch{}}var Da=Math.clz32?Math.clz32:U1,Sl=Math.log,Hd=Math.LN2;function U1(f){return f>>>=0,f===0?32:31-(Sl(f)/Hd|0)|0}var Kd=128,qd=4194304;function xi(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function Xd(f,p){var g=f.pendingLanes;if(g===0)return 0;var w=0,N=f.suspendedLanes,T=f.pingedLanes,z=f.warmLanes;f=f.finishedLanes!==0;var Q=g&134217727;return Q!==0?(g=Q&~N,g!==0?w=xi(g):(T&=Q,T!==0?w=xi(T):f||(z=Q&~z,z!==0&&(w=xi(z))))):(Q=g&~N,Q!==0?w=xi(Q):T!==0?w=xi(T):f||(z=g&~z,z!==0&&(w=xi(z)))),w===0?0:p!==0&&p!==w&&(p&N)===0&&(N=w&-w,z=p&-p,N>=z||N===32&&(z&4194176)!==0)?p:w}function ju(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function q_(f,p){switch(f){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W1(){var f=Kd;return Kd<<=1,(Kd&4194176)===0&&(Kd=128),f}function V1(){var f=qd;return qd<<=1,(qd&62914560)===0&&(qd=4194304),f}function dm(f){for(var p=[],g=0;31>g;g++)p.push(f);return p}function Hu(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function X_(f,p,g,w,N,T){var z=f.pendingLanes;f.pendingLanes=g,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=g,f.entangledLanes&=g,f.errorRecoveryDisabledLanes&=g,f.shellSuspendCounter=0;var Q=f.entanglements,de=f.expirationTimes,_e=f.hiddenUpdates;for(g=z&~g;0<g;){var We=31-Da(g),Ze=1<<We;Q[We]=0,de[We]=-1;var Le=_e[We];if(Le!==null)for(_e[We]=null,We=0;We<Le.length;We++){var Ue=Le[We];Ue!==null&&(Ue.lane&=-536870913)}g&=~Ze}w!==0&&Yd(f,w,0),T!==0&&N===0&&f.tag!==0&&(f.suspendedLanes|=T&~(z&~p))}function Yd(f,p,g){f.pendingLanes|=p,f.suspendedLanes&=~p;var w=31-Da(p);f.entangledLanes|=p,f.entanglements[w]=f.entanglements[w]|1073741824|g&4194218}function j1(f,p){var g=f.entangledLanes|=p;for(f=f.entanglements;g;){var w=31-Da(g),N=1<<w;N&p|f[w]&p&&(f[w]|=p),g&=~N}}function H1(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function K1(){var f=ie.p;return f!==0?f:(f=window.event,f===void 0?32:SF(f.type))}function H(f,p){var g=ie.p;try{return ie.p=f,p()}finally{ie.p=g}}var oe=Math.random().toString(36).slice(2),ne="__reactFiber$"+oe,re="__reactProps$"+oe,ce="__reactContainer$"+oe,fe="__reactEvents$"+oe,Pe="__reactListeners$"+oe,Ge="__reactHandles$"+oe,Te="__reactResources$"+oe,Ee="__reactMarker$"+oe;function Re(f){delete f[ne],delete f[re],delete f[fe],delete f[Pe],delete f[Ge]}function Qe(f){var p=f[ne];if(p)return p;for(var g=f.parentNode;g;){if(p=g[ce]||g[ne]){if(g=p.alternate,p.child!==null||g!==null&&g.child!==null)for(f=fF(f);f!==null;){if(g=f[ne])return g;f=fF(f)}return p}f=g,g=f.parentNode}return null}function rt(f){if(f=f[ne]||f[ce]){var p=f.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return f}return null}function pt(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f.stateNode;throw Error(a(33))}function Je(f){var p=f[Te];return p||(p=f[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function et(f){f[Ee]=!0}var Kt=new Set,aa={};function Wn(f,p){wa(f,p),wa(f+"Capture",p)}function wa(f,p){for(aa[f]=p,f=0;f<p.length;f++)Kt.add(p[f])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},Mo={};function pm(f){return tt.call(Mo,f)?!0:tt.call(Tl,f)?!1:Ku.test(f)?Mo[f]=!0:(Tl[f]=!0,!1)}function Fs(f,p,g){if(pm(p))if(g===null)f.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":f.removeAttribute(p);return;case"boolean":var w=p.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){f.removeAttribute(p);return}}f.setAttribute(p,""+g)}}function q1(f,p,g){if(g===null)f.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(p);return}f.setAttribute(p,""+g)}}function Sc(f,p,g,w){if(w===null)f.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(g);return}f.setAttributeNS(p,g,""+w)}}function vi(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function uR(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Vq(f){var p=uR(f)?"checked":"value",g=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),w=""+f[p];if(!f.hasOwnProperty(p)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var N=g.get,T=g.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return N.call(this)},set:function(z){w=""+z,T.call(this,z)}}),Object.defineProperty(f,p,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(z){w=""+z},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function X1(f){f._valueTracker||(f._valueTracker=Vq(f))}function fR(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var g=p.getValue(),w="";return f&&(w=uR(f)?f.checked?"true":"false":f.value),f=w,f!==g?(p.setValue(f),!0):!1}function Y1(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var jq=/[\n"\\]/g;function ki(f){return f.replace(jq,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function Y_(f,p,g,w,N,T,z,Q){f.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?f.type=z:f.removeAttribute("type"),p!=null?z==="number"?(p===0&&f.value===""||f.value!=p)&&(f.value=""+vi(p)):f.value!==""+vi(p)&&(f.value=""+vi(p)):z!=="submit"&&z!=="reset"||f.removeAttribute("value"),p!=null?Z_(f,z,vi(p)):g!=null?Z_(f,z,vi(g)):w!=null&&f.removeAttribute("value"),N==null&&T!=null&&(f.defaultChecked=!!T),N!=null&&(f.checked=N&&typeof N!="function"&&typeof N!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?f.name=""+vi(Q):f.removeAttribute("name")}function dR(f,p,g,w,N,T,z,Q){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(f.type=T),p!=null||g!=null){if(!(T!=="submit"&&T!=="reset"||p!=null))return;g=g!=null?""+vi(g):"",p=p!=null?""+vi(p):g,Q||p===f.value||(f.value=p),f.defaultValue=p}w=w??N,w=typeof w!="function"&&typeof w!="symbol"&&!!w,f.checked=Q?f.checked:!!w,f.defaultChecked=!!w,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(f.name=z)}function Z_(f,p,g){p==="number"&&Y1(f.ownerDocument)===f||f.defaultValue===""+g||(f.defaultValue=""+g)}function Zd(f,p,g,w){if(f=f.options,p){p={};for(var N=0;N<g.length;N++)p["$"+g[N]]=!0;for(g=0;g<f.length;g++)N=p.hasOwnProperty("$"+f[g].value),f[g].selected!==N&&(f[g].selected=N),N&&w&&(f[g].defaultSelected=!0)}else{for(g=""+vi(g),p=null,N=0;N<f.length;N++){if(f[N].value===g){f[N].selected=!0,w&&(f[N].defaultSelected=!0);return}p!==null||f[N].disabled||(p=f[N])}p!==null&&(p.selected=!0)}}function pR(f,p,g){if(p!=null&&(p=""+vi(p),p!==f.value&&(f.value=p),g==null)){f.defaultValue!==p&&(f.defaultValue=p);return}f.defaultValue=g!=null?""+vi(g):""}function hR(f,p,g,w){if(p==null){if(w!=null){if(g!=null)throw Error(a(92));if(le(w)){if(1<w.length)throw Error(a(93));w=w[0]}g=w}g==null&&(g=""),p=g}g=vi(p),f.defaultValue=g,w=f.textContent,w===g&&w!==""&&w!==null&&(f.value=w)}function Qd(f,p){if(p){var g=f.firstChild;if(g&&g===f.lastChild&&g.nodeType===3){g.nodeValue=p;return}}f.textContent=p}var Hq=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mR(f,p,g){var w=p.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?f.setProperty(p,""):p==="float"?f.cssFloat="":f[p]="":w?f.setProperty(p,g):typeof g!="number"||g===0||Hq.has(p)?p==="float"?f.cssFloat=g:f[p]=(""+g).trim():f[p]=g+"px"}function gR(f,p,g){if(p!=null&&typeof p!="object")throw Error(a(62));if(f=f.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||p!=null&&p.hasOwnProperty(w)||(w.indexOf("--")===0?f.setProperty(w,""):w==="float"?f.cssFloat="":f[w]="");for(var N in p)w=p[N],p.hasOwnProperty(N)&&g[N]!==w&&mR(f,N,w)}else for(var T in p)p.hasOwnProperty(T)&&mR(f,T,p[T])}function Q_(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kq=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qq=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Z1(f){return qq.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var J_=null;function e2(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Jd=null,ep=null;function yR(f){var p=rt(f);if(p&&(f=p.stateNode)){var g=f[re]||null;e:switch(f=p.stateNode,p.type){case"input":if(Y_(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),p=g.name,g.type==="radio"&&p!=null){for(g=f;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ki(""+p)+'"][type="radio"]'),p=0;p<g.length;p++){var w=g[p];if(w!==f&&w.form===f.form){var N=w[re]||null;if(!N)throw Error(a(90));Y_(w,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(p=0;p<g.length;p++)w=g[p],w.form===f.form&&fR(w)}break e;case"textarea":pR(f,g.value,g.defaultValue);break e;case"select":p=g.value,p!=null&&Zd(f,!!g.multiple,p,!1)}}}var t2=!1;function xR(f,p,g){if(t2)return f(p,g);t2=!0;try{var w=f(p);return w}finally{if(t2=!1,(Jd!==null||ep!==null)&&(Fx(),Jd&&(p=Jd,f=ep,ep=Jd=null,yR(p),f)))for(p=0;p<f.length;p++)yR(f[p])}}function hm(f,p){var g=f.stateNode;if(g===null)return null;var w=g[re]||null;if(w===null)return null;g=w[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(f=f.type,w=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!w;break e;default:f=!1}if(f)return null;if(g&&typeof g!="function")throw Error(a(231,p,typeof g));return g}var n2=!1;if(vs)try{var mm={};Object.defineProperty(mm,"passive",{get:function(){n2=!0}}),window.addEventListener("test",mm,mm),window.removeEventListener("test",mm,mm)}catch{n2=!1}var El=null,a2=null,Q1=null;function vR(){if(Q1)return Q1;var f,p=a2,g=p.length,w,N="value"in El?El.value:El.textContent,T=N.length;for(f=0;f<g&&p[f]===N[f];f++);var z=g-f;for(w=1;w<=z&&p[g-w]===N[T-w];w++);return Q1=N.slice(f,1<w?1-w:void 0)}function J1(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function ex(){return!0}function kR(){return!1}function Os(f){function p(g,w,N,T,z){this._reactName=g,this._targetInst=N,this.type=w,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var Q in f)f.hasOwnProperty(Q)&&(g=f[Q],this[Q]=g?g(T):T[Q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ex:kR,this.isPropagationStopped=kR,this}return P(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ex)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ex)},persist:function(){},isPersistent:ex}),p}var qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tx=Os(qu),gm=P({},qu,{view:0,detail:0}),Xq=Os(gm),r2,s2,ym,nx=P({},gm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o2,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==ym&&(ym&&f.type==="mousemove"?(r2=f.screenX-ym.screenX,s2=f.screenY-ym.screenY):s2=r2=0,ym=f),r2)},movementY:function(f){return"movementY"in f?f.movementY:s2}}),wR=Os(nx),Yq=P({},nx,{dataTransfer:0}),Zq=Os(Yq),Qq=P({},gm,{relatedTarget:0}),i2=Os(Qq),Jq=P({},qu,{animationName:0,elapsedTime:0,pseudoElement:0}),eX=Os(Jq),tX=P({},qu,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),nX=Os(tX),aX=P({},qu,{data:0}),bR=Os(aX),rX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oX(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=iX[f])?!!p[f]:!1}function o2(){return oX}var cX=P({},gm,{key:function(f){if(f.key){var p=rX[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=J1(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?sX[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o2,charCode:function(f){return f.type==="keypress"?J1(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?J1(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),lX=Os(cX),uX=P({},nx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_R=Os(uX),fX=P({},gm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o2}),dX=Os(fX),pX=P({},qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),hX=Os(pX),mX=P({},nx,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),gX=Os(mX),yX=P({},qu,{newState:0,oldState:0}),xX=Os(yX),vX=[9,13,27,32],c2=vs&&"CompositionEvent"in window,xm=null;vs&&"documentMode"in document&&(xm=document.documentMode);var kX=vs&&"TextEvent"in window&&!xm,AR=vs&&(!c2||xm&&8<xm&&11>=xm),NR=" ",SR=!1;function TR(f,p){switch(f){case"keyup":return vX.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ER(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var tp=!1;function wX(f,p){switch(f){case"compositionend":return ER(p);case"keypress":return p.which!==32?null:(SR=!0,NR);case"textInput":return f=p.data,f===NR&&SR?null:f;default:return null}}function bX(f,p){if(tp)return f==="compositionend"||!c2&&TR(f,p)?(f=vR(),Q1=a2=El=null,tp=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return AR&&p.locale!=="ko"?null:p.data;default:return null}}var _X={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CR(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!_X[f.type]:p==="textarea"}function IR(f,p,g,w){Jd?ep?ep.push(w):ep=[w]:Jd=w,p=Bx(p,"onChange"),0<p.length&&(g=new tx("onChange","change",null,g,w),f.push({event:g,listeners:p}))}var vm=null,km=null;function AX(f){nF(f,0)}function ax(f){var p=pt(f);if(fR(p))return f}function DR(f,p){if(f==="change")return p}var RR=!1;if(vs){var l2;if(vs){var u2="oninput"in document;if(!u2){var PR=document.createElement("div");PR.setAttribute("oninput","return;"),u2=typeof PR.oninput=="function"}l2=u2}else l2=!1;RR=l2&&(!document.documentMode||9<document.documentMode)}function FR(){vm&&(vm.detachEvent("onpropertychange",OR),km=vm=null)}function OR(f){if(f.propertyName==="value"&&ax(km)){var p=[];IR(p,km,f,e2(f)),xR(AX,p)}}function NX(f,p,g){f==="focusin"?(FR(),vm=p,km=g,vm.attachEvent("onpropertychange",OR)):f==="focusout"&&FR()}function SX(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return ax(km)}function TX(f,p){if(f==="click")return ax(p)}function EX(f,p){if(f==="input"||f==="change")return ax(p)}function CX(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var ei=typeof Object.is=="function"?Object.is:CX;function wm(f,p){if(ei(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var g=Object.keys(f),w=Object.keys(p);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var N=g[w];if(!tt.call(p,N)||!ei(f[N],p[N]))return!1}return!0}function $R(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function LR(f,p){var g=$R(f);f=0;for(var w;g;){if(g.nodeType===3){if(w=f+g.textContent.length,f<=p&&w>=p)return{node:g,offset:p-f};f=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=$R(g)}}function MR(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?MR(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function BR(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var p=Y1(f.document);p instanceof f.HTMLIFrameElement;){try{var g=typeof p.contentWindow.location.href=="string"}catch{g=!1}if(g)f=p.contentWindow;else break;p=Y1(f.document)}return p}function f2(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}function IX(f,p){var g=BR(p);p=f.focusedElem;var w=f.selectionRange;if(g!==p&&p&&p.ownerDocument&&MR(p.ownerDocument.documentElement,p)){if(w!==null&&f2(p)){if(f=w.start,g=w.end,g===void 0&&(g=f),"selectionStart"in p)p.selectionStart=f,p.selectionEnd=Math.min(g,p.value.length);else if(g=(f=p.ownerDocument||document)&&f.defaultView||window,g.getSelection){g=g.getSelection();var N=p.textContent.length,T=Math.min(w.start,N);w=w.end===void 0?T:Math.min(w.end,N),!g.extend&&T>w&&(N=w,w=T,T=N),N=LR(p,T);var z=LR(p,w);N&&z&&(g.rangeCount!==1||g.anchorNode!==N.node||g.anchorOffset!==N.offset||g.focusNode!==z.node||g.focusOffset!==z.offset)&&(f=f.createRange(),f.setStart(N.node,N.offset),g.removeAllRanges(),T>w?(g.addRange(f),g.extend(z.node,z.offset)):(f.setEnd(z.node,z.offset),g.addRange(f)))}}for(f=[],g=p;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<f.length;p++)g=f[p],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var DX=vs&&"documentMode"in document&&11>=document.documentMode,np=null,d2=null,bm=null,p2=!1;function zR(f,p,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;p2||np==null||np!==Y1(w)||(w=np,"selectionStart"in w&&f2(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),bm&&wm(bm,w)||(bm=w,w=Bx(d2,"onSelect"),0<w.length&&(p=new tx("onSelect","select",null,p,g),f.push({event:p,listeners:w}),p.target=np)))}function Xu(f,p){var g={};return g[f.toLowerCase()]=p.toLowerCase(),g["Webkit"+f]="webkit"+p,g["Moz"+f]="moz"+p,g}var ap={animationend:Xu("Animation","AnimationEnd"),animationiteration:Xu("Animation","AnimationIteration"),animationstart:Xu("Animation","AnimationStart"),transitionrun:Xu("Transition","TransitionRun"),transitionstart:Xu("Transition","TransitionStart"),transitioncancel:Xu("Transition","TransitionCancel"),transitionend:Xu("Transition","TransitionEnd")},h2={},GR={};vs&&(GR=document.createElement("div").style,"AnimationEvent"in window||(delete ap.animationend.animation,delete ap.animationiteration.animation,delete ap.animationstart.animation),"TransitionEvent"in window||delete ap.transitionend.transition);function Yu(f){if(h2[f])return h2[f];if(!ap[f])return f;var p=ap[f],g;for(g in p)if(p.hasOwnProperty(g)&&g in GR)return h2[f]=p[g];return f}var UR=Yu("animationend"),WR=Yu("animationiteration"),VR=Yu("animationstart"),RX=Yu("transitionrun"),PX=Yu("transitionstart"),FX=Yu("transitioncancel"),jR=Yu("transitionend"),HR=new Map,KR="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function so(f,p){HR.set(f,p),Wn(p,[f])}var wi=[],rp=0,m2=0;function rx(){for(var f=rp,p=m2=rp=0;p<f;){var g=wi[p];wi[p++]=null;var w=wi[p];wi[p++]=null;var N=wi[p];wi[p++]=null;var T=wi[p];if(wi[p++]=null,w!==null&&N!==null){var z=w.pending;z===null?N.next=N:(N.next=z.next,z.next=N),w.pending=N}T!==0&&qR(g,N,T)}}function sx(f,p,g,w){wi[rp++]=f,wi[rp++]=p,wi[rp++]=g,wi[rp++]=w,m2|=w,f.lanes|=w,f=f.alternate,f!==null&&(f.lanes|=w)}function g2(f,p,g,w){return sx(f,p,g,w),ix(f)}function Cl(f,p){return sx(f,null,null,p),ix(f)}function qR(f,p,g){f.lanes|=g;var w=f.alternate;w!==null&&(w.lanes|=g);for(var N=!1,T=f.return;T!==null;)T.childLanes|=g,w=T.alternate,w!==null&&(w.childLanes|=g),T.tag===22&&(f=T.stateNode,f===null||f._visibility&1||(N=!0)),f=T,T=T.return;N&&p!==null&&f.tag===3&&(T=f.stateNode,N=31-Da(g),T=T.hiddenUpdates,f=T[N],f===null?T[N]=[p]:f.push(p),p.lane=g|536870912)}function ix(f){if(50<Km)throw Km=0,bA=null,Error(a(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}var sp={},XR=new WeakMap;function bi(f,p){if(typeof f=="object"&&f!==null){var g=XR.get(f);return g!==void 0?g:(p={value:f,source:p,stack:J(p)},XR.set(f,p),p)}return{value:f,source:p,stack:J(p)}}var ip=[],op=0,ox=null,cx=0,_i=[],Ai=0,Zu=null,Tc=1,Ec="";function Qu(f,p){ip[op++]=cx,ip[op++]=ox,ox=f,cx=p}function YR(f,p,g){_i[Ai++]=Tc,_i[Ai++]=Ec,_i[Ai++]=Zu,Zu=f;var w=Tc;f=Ec;var N=32-Da(w)-1;w&=~(1<<N),g+=1;var T=32-Da(p)+N;if(30<T){var z=N-N%5;T=(w&(1<<z)-1).toString(32),w>>=z,N-=z,Tc=1<<32-Da(p)+N|g<<N|w,Ec=T+f}else Tc=1<<T|g<<N|w,Ec=f}function y2(f){f.return!==null&&(Qu(f,1),YR(f,1,0))}function x2(f){for(;f===ox;)ox=ip[--op],ip[op]=null,cx=ip[--op],ip[op]=null;for(;f===Zu;)Zu=_i[--Ai],_i[Ai]=null,Ec=_i[--Ai],_i[Ai]=null,Tc=_i[--Ai],_i[Ai]=null}var ks=null,zr=null,zn=!1,io=null,Bo=!1,v2=Error(a(519));function Ju(f){var p=Error(a(418,""));throw Nm(bi(p,f)),v2}function ZR(f){var p=f.stateNode,g=f.type,w=f.memoizedProps;switch(p[ne]=f,p[re]=w,g){case"dialog":Rn("cancel",p),Rn("close",p);break;case"iframe":case"object":case"embed":Rn("load",p);break;case"video":case"audio":for(g=0;g<Xm.length;g++)Rn(Xm[g],p);break;case"source":Rn("error",p);break;case"img":case"image":case"link":Rn("error",p),Rn("load",p);break;case"details":Rn("toggle",p);break;case"input":Rn("invalid",p),dR(p,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),X1(p);break;case"select":Rn("invalid",p);break;case"textarea":Rn("invalid",p),hR(p,w.value,w.defaultValue,w.children),X1(p)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||p.textContent===""+g||w.suppressHydrationWarning===!0||iF(p.textContent,g)?(w.popover!=null&&(Rn("beforetoggle",p),Rn("toggle",p)),w.onScroll!=null&&Rn("scroll",p),w.onScrollEnd!=null&&Rn("scrollend",p),w.onClick!=null&&(p.onclick=zx),p=!0):p=!1,p||Ju(f)}function QR(f){for(ks=f.return;ks;)switch(ks.tag){case 3:case 27:Bo=!0;return;case 5:case 13:Bo=!1;return;default:ks=ks.return}}function _m(f){if(f!==ks)return!1;if(!zn)return QR(f),zn=!0,!1;var p=!1,g;if((g=f.tag!==3&&f.tag!==27)&&((g=f.tag===5)&&(g=f.type,g=!(g!=="form"&&g!=="button")||BA(f.type,f.memoizedProps)),g=!g),g&&(p=!0),p&&zr&&Ju(f),QR(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));e:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8)if(g=f.data,g==="/$"){if(p===0){zr=co(f.nextSibling);break e}p--}else g!=="$"&&g!=="$!"&&g!=="$?"||p++;f=f.nextSibling}zr=null}}else zr=ks?co(f.stateNode.nextSibling):null;return!0}function Am(){zr=ks=null,zn=!1}function Nm(f){io===null?io=[f]:io.push(f)}var Sm=Error(a(460)),JR=Error(a(474)),k2={then:function(){}};function eP(f){return f=f.status,f==="fulfilled"||f==="rejected"}function lx(){}function tP(f,p,g){switch(g=f[g],g===void 0?f.push(p):g!==p&&(p.then(lx,lx),p=g),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,f===Sm?Error(a(483)):f;default:if(typeof p.status=="string")p.then(lx,lx);else{if(f=la,f!==null&&100<f.shellSuspendCounter)throw Error(a(482));f=p,f.status="pending",f.then(function(w){if(p.status==="pending"){var N=p;N.status="fulfilled",N.value=w}},function(w){if(p.status==="pending"){var N=p;N.status="rejected",N.reason=w}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,f===Sm?Error(a(483)):f}throw Tm=p,Sm}}var Tm=null;function nP(){if(Tm===null)throw Error(a(459));var f=Tm;return Tm=null,f}var cp=null,Em=0;function ux(f){var p=Em;return Em+=1,cp===null&&(cp=[]),tP(cp,f,p)}function Cm(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function fx(f,p){throw p.$$typeof===s?Error(a(525)):(f=Object.prototype.toString.call(p),Error(a(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function aP(f){var p=f._init;return p(f._payload)}function rP(f){function p(Se,we){if(f){var Ie=Se.deletions;Ie===null?(Se.deletions=[we],Se.flags|=16):Ie.push(we)}}function g(Se,we){if(!f)return null;for(;we!==null;)p(Se,we),we=we.sibling;return null}function w(Se){for(var we=new Map;Se!==null;)Se.key!==null?we.set(Se.key,Se):we.set(Se.index,Se),Se=Se.sibling;return we}function N(Se,we){return Se=Gl(Se,we),Se.index=0,Se.sibling=null,Se}function T(Se,we,Ie){return Se.index=Ie,f?(Ie=Se.alternate,Ie!==null?(Ie=Ie.index,Ie<we?(Se.flags|=33554434,we):Ie):(Se.flags|=33554434,we)):(Se.flags|=1048576,we)}function z(Se){return f&&Se.alternate===null&&(Se.flags|=33554434),Se}function Q(Se,we,Ie,Ke){return we===null||we.tag!==6?(we=hA(Ie,Se.mode,Ke),we.return=Se,we):(we=N(we,Ie),we.return=Se,we)}function de(Se,we,Ie,Ke){var kt=Ie.type;return kt===c?We(Se,we,Ie.props.children,Ke,Ie.key):we!==null&&(we.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===b&&aP(kt)===we.type)?(we=N(we,Ie.props),Cm(we,Ie),we.return=Se,we):(we=Cx(Ie.type,Ie.key,Ie.props,null,Se.mode,Ke),Cm(we,Ie),we.return=Se,we)}function _e(Se,we,Ie,Ke){return we===null||we.tag!==4||we.stateNode.containerInfo!==Ie.containerInfo||we.stateNode.implementation!==Ie.implementation?(we=mA(Ie,Se.mode,Ke),we.return=Se,we):(we=N(we,Ie.children||[]),we.return=Se,we)}function We(Se,we,Ie,Ke,kt){return we===null||we.tag!==7?(we=uf(Ie,Se.mode,Ke,kt),we.return=Se,we):(we=N(we,Ie),we.return=Se,we)}function Ze(Se,we,Ie){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=hA(""+we,Se.mode,Ie),we.return=Se,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case i:return Ie=Cx(we.type,we.key,we.props,null,Se.mode,Ie),Cm(Ie,we),Ie.return=Se,Ie;case o:return we=mA(we,Se.mode,Ie),we.return=Se,we;case b:var Ke=we._init;return we=Ke(we._payload),Ze(Se,we,Ie)}if(le(we)||C(we))return we=uf(we,Se.mode,Ie,null),we.return=Se,we;if(typeof we.then=="function")return Ze(Se,ux(we),Ie);if(we.$$typeof===m)return Ze(Se,Sx(Se,we),Ie);fx(Se,we)}return null}function Le(Se,we,Ie,Ke){var kt=we!==null?we.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return kt!==null?null:Q(Se,we,""+Ie,Ke);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case i:return Ie.key===kt?de(Se,we,Ie,Ke):null;case o:return Ie.key===kt?_e(Se,we,Ie,Ke):null;case b:return kt=Ie._init,Ie=kt(Ie._payload),Le(Se,we,Ie,Ke)}if(le(Ie)||C(Ie))return kt!==null?null:We(Se,we,Ie,Ke,null);if(typeof Ie.then=="function")return Le(Se,we,ux(Ie),Ke);if(Ie.$$typeof===m)return Le(Se,we,Sx(Se,Ie),Ke);fx(Se,Ie)}return null}function Ue(Se,we,Ie,Ke,kt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Se=Se.get(Ie)||null,Q(we,Se,""+Ke,kt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case i:return Se=Se.get(Ke.key===null?Ie:Ke.key)||null,de(we,Se,Ke,kt);case o:return Se=Se.get(Ke.key===null?Ie:Ke.key)||null,_e(we,Se,Ke,kt);case b:var wn=Ke._init;return Ke=wn(Ke._payload),Ue(Se,we,Ie,Ke,kt)}if(le(Ke)||C(Ke))return Se=Se.get(Ie)||null,We(we,Se,Ke,kt,null);if(typeof Ke.then=="function")return Ue(Se,we,Ie,ux(Ke),kt);if(Ke.$$typeof===m)return Ue(Se,we,Ie,Sx(we,Ke),kt);fx(we,Ke)}return null}function Et(Se,we,Ie,Ke){for(var kt=null,wn=null,Lt=we,Gt=we=0,Sr=null;Lt!==null&&Gt<Ie.length;Gt++){Lt.index>Gt?(Sr=Lt,Lt=null):Sr=Lt.sibling;var Gn=Le(Se,Lt,Ie[Gt],Ke);if(Gn===null){Lt===null&&(Lt=Sr);break}f&&Lt&&Gn.alternate===null&&p(Se,Lt),we=T(Gn,we,Gt),wn===null?kt=Gn:wn.sibling=Gn,wn=Gn,Lt=Sr}if(Gt===Ie.length)return g(Se,Lt),zn&&Qu(Se,Gt),kt;if(Lt===null){for(;Gt<Ie.length;Gt++)Lt=Ze(Se,Ie[Gt],Ke),Lt!==null&&(we=T(Lt,we,Gt),wn===null?kt=Lt:wn.sibling=Lt,wn=Lt);return zn&&Qu(Se,Gt),kt}for(Lt=w(Lt);Gt<Ie.length;Gt++)Sr=Ue(Lt,Se,Gt,Ie[Gt],Ke),Sr!==null&&(f&&Sr.alternate!==null&&Lt.delete(Sr.key===null?Gt:Sr.key),we=T(Sr,we,Gt),wn===null?kt=Sr:wn.sibling=Sr,wn=Sr);return f&&Lt.forEach(function(ql){return p(Se,ql)}),zn&&Qu(Se,Gt),kt}function Jt(Se,we,Ie,Ke){if(Ie==null)throw Error(a(151));for(var kt=null,wn=null,Lt=we,Gt=we=0,Sr=null,Gn=Ie.next();Lt!==null&&!Gn.done;Gt++,Gn=Ie.next()){Lt.index>Gt?(Sr=Lt,Lt=null):Sr=Lt.sibling;var ql=Le(Se,Lt,Gn.value,Ke);if(ql===null){Lt===null&&(Lt=Sr);break}f&&Lt&&ql.alternate===null&&p(Se,Lt),we=T(ql,we,Gt),wn===null?kt=ql:wn.sibling=ql,wn=ql,Lt=Sr}if(Gn.done)return g(Se,Lt),zn&&Qu(Se,Gt),kt;if(Lt===null){for(;!Gn.done;Gt++,Gn=Ie.next())Gn=Ze(Se,Gn.value,Ke),Gn!==null&&(we=T(Gn,we,Gt),wn===null?kt=Gn:wn.sibling=Gn,wn=Gn);return zn&&Qu(Se,Gt),kt}for(Lt=w(Lt);!Gn.done;Gt++,Gn=Ie.next())Gn=Ue(Lt,Se,Gt,Gn.value,Ke),Gn!==null&&(f&&Gn.alternate!==null&&Lt.delete(Gn.key===null?Gt:Gn.key),we=T(Gn,we,Gt),wn===null?kt=Gn:wn.sibling=Gn,wn=Gn);return f&&Lt.forEach(function(qY){return p(Se,qY)}),zn&&Qu(Se,Gt),kt}function Fa(Se,we,Ie,Ke){if(typeof Ie=="object"&&Ie!==null&&Ie.type===c&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case i:e:{for(var kt=Ie.key;we!==null;){if(we.key===kt){if(kt=Ie.type,kt===c){if(we.tag===7){g(Se,we.sibling),Ke=N(we,Ie.props.children),Ke.return=Se,Se=Ke;break e}}else if(we.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===b&&aP(kt)===we.type){g(Se,we.sibling),Ke=N(we,Ie.props),Cm(Ke,Ie),Ke.return=Se,Se=Ke;break e}g(Se,we);break}else p(Se,we);we=we.sibling}Ie.type===c?(Ke=uf(Ie.props.children,Se.mode,Ke,Ie.key),Ke.return=Se,Se=Ke):(Ke=Cx(Ie.type,Ie.key,Ie.props,null,Se.mode,Ke),Cm(Ke,Ie),Ke.return=Se,Se=Ke)}return z(Se);case o:e:{for(kt=Ie.key;we!==null;){if(we.key===kt)if(we.tag===4&&we.stateNode.containerInfo===Ie.containerInfo&&we.stateNode.implementation===Ie.implementation){g(Se,we.sibling),Ke=N(we,Ie.children||[]),Ke.return=Se,Se=Ke;break e}else{g(Se,we);break}else p(Se,we);we=we.sibling}Ke=mA(Ie,Se.mode,Ke),Ke.return=Se,Se=Ke}return z(Se);case b:return kt=Ie._init,Ie=kt(Ie._payload),Fa(Se,we,Ie,Ke)}if(le(Ie))return Et(Se,we,Ie,Ke);if(C(Ie)){if(kt=C(Ie),typeof kt!="function")throw Error(a(150));return Ie=kt.call(Ie),Jt(Se,we,Ie,Ke)}if(typeof Ie.then=="function")return Fa(Se,we,ux(Ie),Ke);if(Ie.$$typeof===m)return Fa(Se,we,Sx(Se,Ie),Ke);fx(Se,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,we!==null&&we.tag===6?(g(Se,we.sibling),Ke=N(we,Ie),Ke.return=Se,Se=Ke):(g(Se,we),Ke=hA(Ie,Se.mode,Ke),Ke.return=Se,Se=Ke),z(Se)):g(Se,we)}return function(Se,we,Ie,Ke){try{Em=0;var kt=Fa(Se,we,Ie,Ke);return cp=null,kt}catch(Lt){if(Lt===Sm)throw Lt;var wn=Ei(29,Lt,null,Se.mode);return wn.lanes=Ke,wn.return=Se,wn}finally{}}}var ef=rP(!0),sP=rP(!1),lp=G(null),dx=G(0);function iP(f,p){f=Bc,ee(dx,f),ee(lp,p),Bc=f|p.baseLanes}function w2(){ee(dx,Bc),ee(lp,lp.current)}function b2(){Bc=dx.current,te(lp),te(dx)}var Ni=G(null),zo=null;function Il(f){var p=f.alternate;ee(fr,fr.current&1),ee(Ni,f),zo===null&&(p===null||lp.current!==null||p.memoizedState!==null)&&(zo=f)}function oP(f){if(f.tag===22){if(ee(fr,fr.current),ee(Ni,f),zo===null){var p=f.alternate;p!==null&&p.memoizedState!==null&&(zo=f)}}else Dl()}function Dl(){ee(fr,fr.current),ee(Ni,Ni.current)}function Cc(f){te(Ni),zo===f&&(zo=null),te(fr)}var fr=G(0);function px(f){for(var p=f;p!==null;){if(p.tag===13){var g=p.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var OX=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(g,w){f.push(w)}};this.abort=function(){p.aborted=!0,f.forEach(function(g){return g()})}},$X=t.unstable_scheduleCallback,LX=t.unstable_NormalPriority,dr={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _2(){return{controller:new OX,data:new Map,refCount:0}}function Im(f){f.refCount--,f.refCount===0&&$X(LX,function(){f.controller.abort()})}var Dm=null,A2=0,up=0,fp=null;function MX(f,p){if(Dm===null){var g=Dm=[];A2=0,up=IA(),fp={status:"pending",value:void 0,then:function(w){g.push(w)}}}return A2++,p.then(cP,cP),p}function cP(){if(--A2===0&&Dm!==null){fp!==null&&(fp.status="fulfilled");var f=Dm;Dm=null,up=0,fp=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function BX(f,p){var g=[],w={status:"pending",value:null,reason:null,then:function(N){g.push(N)}};return f.then(function(){w.status="fulfilled",w.value=p;for(var N=0;N<g.length;N++)(0,g[N])(p)},function(N){for(w.status="rejected",w.reason=N,N=0;N<g.length;N++)(0,g[N])(void 0)}),w}var lP=I.S;I.S=function(f,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&MX(f,p),lP!==null&&lP(f,p)};var tf=G(null);function N2(){var f=tf.current;return f!==null?f:la.pooledCache}function hx(f,p){p===null?ee(tf,tf.current):ee(tf,p.pool)}function uP(){var f=N2();return f===null?null:{parent:dr._currentValue,pool:f}}var Rl=0,vn=null,Jn=null,qa=null,mx=!1,dp=!1,nf=!1,gx=0,Rm=0,pp=null,zX=0;function Wa(){throw Error(a(321))}function S2(f,p){if(p===null)return!1;for(var g=0;g<p.length&&g<f.length;g++)if(!ei(f[g],p[g]))return!1;return!0}function T2(f,p,g,w,N,T){return Rl=T,vn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,I.H=f===null||f.memoizedState===null?af:Pl,nf=!1,T=g(w,N),nf=!1,dp&&(T=dP(p,g,w,N)),fP(f),T}function fP(f){I.H=Go;var p=Jn!==null&&Jn.next!==null;if(Rl=0,qa=Jn=vn=null,mx=!1,Rm=0,pp=null,p)throw Error(a(300));f===null||Ar||(f=f.dependencies,f!==null&&Nx(f)&&(Ar=!0))}function dP(f,p,g,w){vn=f;var N=0;do{if(dp&&(pp=null),Rm=0,dp=!1,25<=N)throw Error(a(301));if(N+=1,qa=Jn=null,f.updateQueue!=null){var T=f.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}I.H=rf,T=p(g,w)}while(dp);return T}function GX(){var f=I.H,p=f.useState()[0];return p=typeof p.then=="function"?Pm(p):p,f=f.useState()[0],(Jn!==null?Jn.memoizedState:null)!==f&&(vn.flags|=1024),p}function E2(){var f=gx!==0;return gx=0,f}function C2(f,p,g){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~g}function I2(f){if(mx){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}mx=!1}Rl=0,qa=Jn=vn=null,dp=!1,Rm=gx=0,pp=null}function $s(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qa===null?vn.memoizedState=qa=f:qa=qa.next=f,qa}function Xa(){if(Jn===null){var f=vn.alternate;f=f!==null?f.memoizedState:null}else f=Jn.next;var p=qa===null?vn.memoizedState:qa.next;if(p!==null)qa=p,Jn=f;else{if(f===null)throw vn.alternate===null?Error(a(467)):Error(a(310));Jn=f,f={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},qa===null?vn.memoizedState=qa=f:qa=qa.next=f}return qa}var yx;yx=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Pm(f){var p=Rm;return Rm+=1,pp===null&&(pp=[]),f=tP(pp,f,p),p=vn,(qa===null?p.memoizedState:qa.next)===null&&(p=p.alternate,I.H=p===null||p.memoizedState===null?af:Pl),f}function xx(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Pm(f);if(f.$$typeof===m)return Yr(f)}throw Error(a(438,String(f)))}function D2(f){var p=null,g=vn.updateQueue;if(g!==null&&(p=g.memoCache),p==null){var w=vn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(p={data:w.data.map(function(N){return N.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),g===null&&(g=yx(),vn.updateQueue=g),g.memoCache=p,g=p.data[p.index],g===void 0)for(g=p.data[p.index]=Array(f),w=0;w<f;w++)g[w]=A;return p.index++,g}function Ic(f,p){return typeof p=="function"?p(f):p}function vx(f){var p=Xa();return R2(p,Jn,f)}function R2(f,p,g){var w=f.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=g;var N=f.baseQueue,T=w.pending;if(T!==null){if(N!==null){var z=N.next;N.next=T.next,T.next=z}p.baseQueue=N=T,w.pending=null}if(T=f.baseState,N===null)f.memoizedState=T;else{p=N.next;var Q=z=null,de=null,_e=p,We=!1;do{var Ze=_e.lane&-536870913;if(Ze!==_e.lane?(On&Ze)===Ze:(Rl&Ze)===Ze){var Le=_e.revertLane;if(Le===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Ze===up&&(We=!0);else if((Rl&Le)===Le){_e=_e.next,Le===up&&(We=!0);continue}else Ze={lane:0,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},de===null?(Q=de=Ze,z=T):de=de.next=Ze,vn.lanes|=Le,Ul|=Le;Ze=_e.action,nf&&g(T,Ze),T=_e.hasEagerState?_e.eagerState:g(T,Ze)}else Le={lane:Ze,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},de===null?(Q=de=Le,z=T):de=de.next=Le,vn.lanes|=Ze,Ul|=Ze;_e=_e.next}while(_e!==null&&_e!==p);if(de===null?z=T:de.next=Q,!ei(T,f.memoizedState)&&(Ar=!0,We&&(g=fp,g!==null)))throw g;f.memoizedState=T,f.baseState=z,f.baseQueue=de,w.lastRenderedState=T}return N===null&&(w.lanes=0),[f.memoizedState,w.dispatch]}function P2(f){var p=Xa(),g=p.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=f;var w=g.dispatch,N=g.pending,T=p.memoizedState;if(N!==null){g.pending=null;var z=N=N.next;do T=f(T,z.action),z=z.next;while(z!==N);ei(T,p.memoizedState)||(Ar=!0),p.memoizedState=T,p.baseQueue===null&&(p.baseState=T),g.lastRenderedState=T}return[T,w]}function pP(f,p,g){var w=vn,N=Xa(),T=zn;if(T){if(g===void 0)throw Error(a(407));g=g()}else g=p();var z=!ei((Jn||N).memoizedState,g);if(z&&(N.memoizedState=g,Ar=!0),N=N.queue,$2(gP.bind(null,w,N,f),[f]),N.getSnapshot!==p||z||qa!==null&&qa.memoizedState.tag&1){if(w.flags|=2048,hp(9,mP.bind(null,w,N,g,p),{destroy:void 0},null),la===null)throw Error(a(349));T||(Rl&60)!==0||hP(w,p,g)}return g}function hP(f,p,g){f.flags|=16384,f={getSnapshot:p,value:g},p=vn.updateQueue,p===null?(p=yx(),vn.updateQueue=p,p.stores=[f]):(g=p.stores,g===null?p.stores=[f]:g.push(f))}function mP(f,p,g,w){p.value=g,p.getSnapshot=w,yP(p)&&xP(f)}function gP(f,p,g){return g(function(){yP(p)&&xP(f)})}function yP(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!ei(f,g)}catch{return!0}}function xP(f){var p=Cl(f,2);p!==null&&ws(p,f,2)}function F2(f){var p=$s();if(typeof f=="function"){var g=f;if(f=g(),nf){Ka(!0);try{g()}finally{Ka(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:f},p}function vP(f,p,g,w){return f.baseState=g,R2(f,Jn,typeof w=="function"?w:Ic)}function UX(f,p,g,w,N){if(bx(f))throw Error(a(485));if(f=p.action,f!==null){var T={payload:N,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){T.listeners.push(z)}};I.T!==null?g(!0):T.isTransition=!1,w(T),g=p.pending,g===null?(T.next=p.pending=T,kP(p,T)):(T.next=g.next,p.pending=g.next=T)}}function kP(f,p){var g=p.action,w=p.payload,N=f.state;if(p.isTransition){var T=I.T,z={};I.T=z;try{var Q=g(N,w),de=I.S;de!==null&&de(z,Q),wP(f,p,Q)}catch(_e){O2(f,p,_e)}finally{I.T=T}}else try{T=g(N,w),wP(f,p,T)}catch(_e){O2(f,p,_e)}}function wP(f,p,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){bP(f,p,w)},function(w){return O2(f,p,w)}):bP(f,p,g)}function bP(f,p,g){p.status="fulfilled",p.value=g,_P(p),f.state=g,p=f.pending,p!==null&&(g=p.next,g===p?f.pending=null:(g=g.next,p.next=g,kP(f,g)))}function O2(f,p,g){var w=f.pending;if(f.pending=null,w!==null){w=w.next;do p.status="rejected",p.reason=g,_P(p),p=p.next;while(p!==w)}f.action=null}function _P(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function AP(f,p){return p}function NP(f,p){if(zn){var g=la.formState;if(g!==null){e:{var w=vn;if(zn){if(zr){t:{for(var N=zr,T=Bo;N.nodeType!==8;){if(!T){N=null;break t}if(N=co(N.nextSibling),N===null){N=null;break t}}T=N.data,N=T==="F!"||T==="F"?N:null}if(N){zr=co(N.nextSibling),w=N.data==="F!";break e}}Ju(w)}w=!1}w&&(p=g[0])}}return g=$s(),g.memoizedState=g.baseState=p,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AP,lastRenderedState:p},g.queue=w,g=WP.bind(null,vn,w),w.dispatch=g,w=F2(!1),T=G2.bind(null,vn,!1,w.queue),w=$s(),N={state:p,dispatch:null,action:f,pending:null},w.queue=N,g=UX.bind(null,vn,N,T,g),N.dispatch=g,w.memoizedState=f,[p,g,!1]}function SP(f){var p=Xa();return TP(p,Jn,f)}function TP(f,p,g){p=R2(f,p,AP)[0],f=vx(Ic)[0],p=typeof p=="object"&&p!==null&&typeof p.then=="function"?Pm(p):p;var w=Xa(),N=w.queue,T=N.dispatch;return g!==w.memoizedState&&(vn.flags|=2048,hp(9,WX.bind(null,N,g),{destroy:void 0},null)),[p,T,f]}function WX(f,p){f.action=p}function EP(f){var p=Xa(),g=Jn;if(g!==null)return TP(p,g,f);Xa(),p=p.memoizedState,g=Xa();var w=g.queue.dispatch;return g.memoizedState=f,[p,w,!1]}function hp(f,p,g,w){return f={tag:f,create:p,inst:g,deps:w,next:null},p=vn.updateQueue,p===null&&(p=yx(),vn.updateQueue=p),g=p.lastEffect,g===null?p.lastEffect=f.next=f:(w=g.next,g.next=f,f.next=w,p.lastEffect=f),f}function CP(){return Xa().memoizedState}function kx(f,p,g,w){var N=$s();vn.flags|=f,N.memoizedState=hp(1|p,g,{destroy:void 0},w===void 0?null:w)}function wx(f,p,g,w){var N=Xa();w=w===void 0?null:w;var T=N.memoizedState.inst;Jn!==null&&w!==null&&S2(w,Jn.memoizedState.deps)?N.memoizedState=hp(p,g,T,w):(vn.flags|=f,N.memoizedState=hp(1|p,g,T,w))}function IP(f,p){kx(8390656,8,f,p)}function $2(f,p){wx(2048,8,f,p)}function DP(f,p){return wx(4,2,f,p)}function RP(f,p){return wx(4,4,f,p)}function PP(f,p){if(typeof p=="function"){f=f();var g=p(f);return function(){typeof g=="function"?g():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function FP(f,p,g){g=g!=null?g.concat([f]):null,wx(4,4,PP.bind(null,p,f),g)}function L2(){}function OP(f,p){var g=Xa();p=p===void 0?null:p;var w=g.memoizedState;return p!==null&&S2(p,w[1])?w[0]:(g.memoizedState=[f,p],f)}function $P(f,p){var g=Xa();p=p===void 0?null:p;var w=g.memoizedState;if(p!==null&&S2(p,w[1]))return w[0];if(w=f(),nf){Ka(!0);try{f()}finally{Ka(!1)}}return g.memoizedState=[w,p],w}function M2(f,p,g){return g===void 0||(Rl&1073741824)!==0?f.memoizedState=p:(f.memoizedState=g,f=M4(),vn.lanes|=f,Ul|=f,g)}function LP(f,p,g,w){return ei(g,p)?g:lp.current!==null?(f=M2(f,g,w),ei(f,p)||(Ar=!0),f):(Rl&42)===0?(Ar=!0,f.memoizedState=g):(f=M4(),vn.lanes|=f,Ul|=f,p)}function MP(f,p,g,w,N){var T=ie.p;ie.p=T!==0&&8>T?T:8;var z=I.T,Q={};I.T=Q,G2(f,!1,p,g);try{var de=N(),_e=I.S;if(_e!==null&&_e(Q,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var We=BX(de,w);Fm(f,p,We,ri(f))}else Fm(f,p,w,ri(f))}catch(Ze){Fm(f,p,{then:function(){},status:"rejected",reason:Ze},ri())}finally{ie.p=T,I.T=z}}function VX(){}function B2(f,p,g,w){if(f.tag!==5)throw Error(a(476));var N=BP(f).queue;MP(f,N,p,ye,g===null?VX:function(){return zP(f),g(w)})}function BP(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:ye},next:null};var g={};return p.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:g},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function zP(f){var p=BP(f).next.queue;Fm(f,p,{},ri())}function z2(){return Yr(e0)}function GP(){return Xa().memoizedState}function UP(){return Xa().memoizedState}function jX(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var g=ri();f=$l(g);var w=Ll(p,f,g);w!==null&&(ws(w,p,g),Lm(w,p,g)),p={cache:_2()},f.payload=p;return}p=p.return}}function HX(f,p,g){var w=ri();g={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},bx(f)?VP(p,g):(g=g2(f,p,g,w),g!==null&&(ws(g,f,w),jP(g,p,w)))}function WP(f,p,g){var w=ri();Fm(f,p,g,w)}function Fm(f,p,g,w){var N={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(bx(f))VP(p,N);else{var T=f.alternate;if(f.lanes===0&&(T===null||T.lanes===0)&&(T=p.lastRenderedReducer,T!==null))try{var z=p.lastRenderedState,Q=T(z,g);if(N.hasEagerState=!0,N.eagerState=Q,ei(Q,z))return sx(f,p,N,0),la===null&&rx(),!1}catch{}finally{}if(g=g2(f,p,N,w),g!==null)return ws(g,f,w),jP(g,p,w),!0}return!1}function G2(f,p,g,w){if(w={lane:2,revertLane:IA(),action:w,hasEagerState:!1,eagerState:null,next:null},bx(f)){if(p)throw Error(a(479))}else p=g2(f,g,w,2),p!==null&&ws(p,f,2)}function bx(f){var p=f.alternate;return f===vn||p!==null&&p===vn}function VP(f,p){dp=mx=!0;var g=f.pending;g===null?p.next=p:(p.next=g.next,g.next=p),f.pending=p}function jP(f,p,g){if((g&4194176)!==0){var w=p.lanes;w&=f.pendingLanes,g|=w,p.lanes=g,j1(f,g)}}var Go={readContext:Yr,use:xx,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useLayoutEffect:Wa,useInsertionEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useDeferredValue:Wa,useTransition:Wa,useSyncExternalStore:Wa,useId:Wa};Go.useCacheRefresh=Wa,Go.useMemoCache=Wa,Go.useHostTransitionStatus=Wa,Go.useFormState=Wa,Go.useActionState=Wa,Go.useOptimistic=Wa;var af={readContext:Yr,use:xx,useCallback:function(f,p){return $s().memoizedState=[f,p===void 0?null:p],f},useContext:Yr,useEffect:IP,useImperativeHandle:function(f,p,g){g=g!=null?g.concat([f]):null,kx(4194308,4,PP.bind(null,p,f),g)},useLayoutEffect:function(f,p){return kx(4194308,4,f,p)},useInsertionEffect:function(f,p){kx(4,2,f,p)},useMemo:function(f,p){var g=$s();p=p===void 0?null:p;var w=f();if(nf){Ka(!0);try{f()}finally{Ka(!1)}}return g.memoizedState=[w,p],w},useReducer:function(f,p,g){var w=$s();if(g!==void 0){var N=g(p);if(nf){Ka(!0);try{g(p)}finally{Ka(!1)}}}else N=p;return w.memoizedState=w.baseState=N,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:N},w.queue=f,f=f.dispatch=HX.bind(null,vn,f),[w.memoizedState,f]},useRef:function(f){var p=$s();return f={current:f},p.memoizedState=f},useState:function(f){f=F2(f);var p=f.queue,g=WP.bind(null,vn,p);return p.dispatch=g,[f.memoizedState,g]},useDebugValue:L2,useDeferredValue:function(f,p){var g=$s();return M2(g,f,p)},useTransition:function(){var f=F2(!1);return f=MP.bind(null,vn,f.queue,!0,!1),$s().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,g){var w=vn,N=$s();if(zn){if(g===void 0)throw Error(a(407));g=g()}else{if(g=p(),la===null)throw Error(a(349));(On&60)!==0||hP(w,p,g)}N.memoizedState=g;var T={value:g,getSnapshot:p};return N.queue=T,IP(gP.bind(null,w,T,f),[f]),w.flags|=2048,hp(9,mP.bind(null,w,T,g,p),{destroy:void 0},null),g},useId:function(){var f=$s(),p=la.identifierPrefix;if(zn){var g=Ec,w=Tc;g=(w&~(1<<32-Da(w)-1)).toString(32)+g,p=":"+p+"R"+g,g=gx++,0<g&&(p+="H"+g.toString(32)),p+=":"}else g=zX++,p=":"+p+"r"+g.toString(32)+":";return f.memoizedState=p},useCacheRefresh:function(){return $s().memoizedState=jX.bind(null,vn)}};af.useMemoCache=D2,af.useHostTransitionStatus=z2,af.useFormState=NP,af.useActionState=NP,af.useOptimistic=function(f){var p=$s();p.memoizedState=p.baseState=f;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=g,p=G2.bind(null,vn,!0,g),g.dispatch=p,[f,p]};var Pl={readContext:Yr,use:xx,useCallback:OP,useContext:Yr,useEffect:$2,useImperativeHandle:FP,useInsertionEffect:DP,useLayoutEffect:RP,useMemo:$P,useReducer:vx,useRef:CP,useState:function(){return vx(Ic)},useDebugValue:L2,useDeferredValue:function(f,p){var g=Xa();return LP(g,Jn.memoizedState,f,p)},useTransition:function(){var f=vx(Ic)[0],p=Xa().memoizedState;return[typeof f=="boolean"?f:Pm(f),p]},useSyncExternalStore:pP,useId:GP};Pl.useCacheRefresh=UP,Pl.useMemoCache=D2,Pl.useHostTransitionStatus=z2,Pl.useFormState=SP,Pl.useActionState=SP,Pl.useOptimistic=function(f,p){var g=Xa();return vP(g,Jn,f,p)};var rf={readContext:Yr,use:xx,useCallback:OP,useContext:Yr,useEffect:$2,useImperativeHandle:FP,useInsertionEffect:DP,useLayoutEffect:RP,useMemo:$P,useReducer:P2,useRef:CP,useState:function(){return P2(Ic)},useDebugValue:L2,useDeferredValue:function(f,p){var g=Xa();return Jn===null?M2(g,f,p):LP(g,Jn.memoizedState,f,p)},useTransition:function(){var f=P2(Ic)[0],p=Xa().memoizedState;return[typeof f=="boolean"?f:Pm(f),p]},useSyncExternalStore:pP,useId:GP};rf.useCacheRefresh=UP,rf.useMemoCache=D2,rf.useHostTransitionStatus=z2,rf.useFormState=EP,rf.useActionState=EP,rf.useOptimistic=function(f,p){var g=Xa();return Jn!==null?vP(g,Jn,f,p):(g.baseState=f,[f,g.queue.dispatch])};function U2(f,p,g,w){p=f.memoizedState,g=g(w,p),g=g==null?p:P({},p,g),f.memoizedState=g,f.lanes===0&&(f.updateQueue.baseState=g)}var W2={isMounted:function(f){return(f=f._reactInternals)?q(f)===f:!1},enqueueSetState:function(f,p,g){f=f._reactInternals;var w=ri(),N=$l(w);N.payload=p,g!=null&&(N.callback=g),p=Ll(f,N,w),p!==null&&(ws(p,f,w),Lm(p,f,w))},enqueueReplaceState:function(f,p,g){f=f._reactInternals;var w=ri(),N=$l(w);N.tag=1,N.payload=p,g!=null&&(N.callback=g),p=Ll(f,N,w),p!==null&&(ws(p,f,w),Lm(p,f,w))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var g=ri(),w=$l(g);w.tag=2,p!=null&&(w.callback=p),p=Ll(f,w,g),p!==null&&(ws(p,f,g),Lm(p,f,g))}};function HP(f,p,g,w,N,T,z){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,T,z):p.prototype&&p.prototype.isPureReactComponent?!wm(g,w)||!wm(N,T):!0}function KP(f,p,g,w){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(g,w),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(g,w),p.state!==f&&W2.enqueueReplaceState(p,p.state,null)}function sf(f,p){var g=p;if("ref"in p){g={};for(var w in p)w!=="ref"&&(g[w]=p[w])}if(f=f.defaultProps){g===p&&(g=P({},g));for(var N in f)g[N]===void 0&&(g[N]=f[N])}return g}var _x=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function qP(f){_x(f)}function XP(f){console.error(f)}function YP(f){_x(f)}function Ax(f,p){try{var g=f.onUncaughtError;g(p.value,{componentStack:p.stack})}catch(w){setTimeout(function(){throw w})}}function ZP(f,p,g){try{var w=f.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function V2(f,p,g){return g=$l(g),g.tag=3,g.payload={element:null},g.callback=function(){Ax(f,p)},g}function QP(f){return f=$l(f),f.tag=3,f}function JP(f,p,g,w){var N=g.type.getDerivedStateFromError;if(typeof N=="function"){var T=w.value;f.payload=function(){return N(T)},f.callback=function(){ZP(p,g,w)}}var z=g.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(f.callback=function(){ZP(p,g,w),typeof N!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var Q=w.stack;this.componentDidCatch(w.value,{componentStack:Q!==null?Q:""})})}function KX(f,p,g,w,N){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(p=g.alternate,p!==null&&$m(p,g,N,!0),g=Ni.current,g!==null){switch(g.tag){case 13:return zo===null?NA():g.alternate===null&&Pa===0&&(Pa=3),g.flags&=-257,g.flags|=65536,g.lanes=N,w===k2?g.flags|=16384:(p=g.updateQueue,p===null?g.updateQueue=new Set([w]):p.add(w),TA(f,w,N)),!1;case 22:return g.flags|=65536,w===k2?g.flags|=16384:(p=g.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=p):(g=p.retryQueue,g===null?p.retryQueue=new Set([w]):g.add(w)),TA(f,w,N)),!1}throw Error(a(435,g.tag))}return TA(f,w,N),NA(),!1}if(zn)return p=Ni.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=N,w!==v2&&(f=Error(a(422),{cause:w}),Nm(bi(f,g)))):(w!==v2&&(p=Error(a(423),{cause:w}),Nm(bi(p,g))),f=f.current.alternate,f.flags|=65536,N&=-N,f.lanes|=N,w=bi(w,g),N=V2(f.stateNode,w,N),sA(f,N),Pa!==4&&(Pa=2)),!1;var T=Error(a(520),{cause:w});if(T=bi(T,g),jm===null?jm=[T]:jm.push(T),Pa!==4&&(Pa=2),p===null)return!0;w=bi(w,g),g=p;do{switch(g.tag){case 3:return g.flags|=65536,f=N&-N,g.lanes|=f,f=V2(g.stateNode,w,f),sA(g,f),!1;case 1:if(p=g.type,T=g.stateNode,(g.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Wl===null||!Wl.has(T))))return g.flags|=65536,N&=-N,g.lanes|=N,N=QP(N),JP(N,f,g,w),sA(g,N),!1}g=g.return}while(g!==null);return!1}var e4=Error(a(461)),Ar=!1;function Gr(f,p,g,w){p.child=f===null?sP(p,null,g,w):ef(p,f.child,g,w)}function t4(f,p,g,w,N){g=g.render;var T=p.ref;if("ref"in w){var z={};for(var Q in w)Q!=="ref"&&(z[Q]=w[Q])}else z=w;return cf(p),w=T2(f,p,g,z,T,N),Q=E2(),f!==null&&!Ar?(C2(f,p,N),Dc(f,p,N)):(zn&&Q&&y2(p),p.flags|=1,Gr(f,p,w,N),p.child)}function n4(f,p,g,w,N){if(f===null){var T=g.type;return typeof T=="function"&&!pA(T)&&T.defaultProps===void 0&&g.compare===null?(p.tag=15,p.type=T,a4(f,p,T,w,N)):(f=Cx(g.type,null,w,p,p.mode,N),f.ref=p.ref,f.return=p,p.child=f)}if(T=f.child,!J2(f,N)){var z=T.memoizedProps;if(g=g.compare,g=g!==null?g:wm,g(z,w)&&f.ref===p.ref)return Dc(f,p,N)}return p.flags|=1,f=Gl(T,w),f.ref=p.ref,f.return=p,p.child=f}function a4(f,p,g,w,N){if(f!==null){var T=f.memoizedProps;if(wm(T,w)&&f.ref===p.ref)if(Ar=!1,p.pendingProps=w=T,J2(f,N))(f.flags&131072)!==0&&(Ar=!0);else return p.lanes=f.lanes,Dc(f,p,N)}return j2(f,p,g,w,N)}function r4(f,p,g){var w=p.pendingProps,N=w.children,T=(p.stateNode._pendingVisibility&2)!==0,z=f!==null?f.memoizedState:null;if(Om(f,p),w.mode==="hidden"||T){if((p.flags&128)!==0){if(w=z!==null?z.baseLanes|g:g,f!==null){for(N=p.child=f.child,T=0;N!==null;)T=T|N.lanes|N.childLanes,N=N.sibling;p.childLanes=T&~w}else p.childLanes=0,p.child=null;return s4(f,p,w,g)}if((g&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&hx(p,z!==null?z.cachePool:null),z!==null?iP(p,z):w2(),oP(p);else return p.lanes=p.childLanes=536870912,s4(f,p,z!==null?z.baseLanes|g:g,g)}else z!==null?(hx(p,z.cachePool),iP(p,z),Dl(),p.memoizedState=null):(f!==null&&hx(p,null),w2(),Dl());return Gr(f,p,N,g),p.child}function s4(f,p,g,w){var N=N2();return N=N===null?null:{parent:dr._currentValue,pool:N},p.memoizedState={baseLanes:g,cachePool:N},f!==null&&hx(p,null),w2(),oP(p),f!==null&&$m(f,p,w,!0),null}function Om(f,p){var g=p.ref;if(g===null)f!==null&&f.ref!==null&&(p.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(a(284));(f===null||f.ref!==g)&&(p.flags|=2097664)}}function j2(f,p,g,w,N){return cf(p),g=T2(f,p,g,w,void 0,N),w=E2(),f!==null&&!Ar?(C2(f,p,N),Dc(f,p,N)):(zn&&w&&y2(p),p.flags|=1,Gr(f,p,g,N),p.child)}function i4(f,p,g,w,N,T){return cf(p),p.updateQueue=null,g=dP(p,w,g,N),fP(f),w=E2(),f!==null&&!Ar?(C2(f,p,T),Dc(f,p,T)):(zn&&w&&y2(p),p.flags|=1,Gr(f,p,g,T),p.child)}function o4(f,p,g,w,N){if(cf(p),p.stateNode===null){var T=sp,z=g.contextType;typeof z=="object"&&z!==null&&(T=Yr(z)),T=new g(w,T),p.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=W2,p.stateNode=T,T._reactInternals=p,T=p.stateNode,T.props=w,T.state=p.memoizedState,T.refs={},aA(p),z=g.contextType,T.context=typeof z=="object"&&z!==null?Yr(z):sp,T.state=p.memoizedState,z=g.getDerivedStateFromProps,typeof z=="function"&&(U2(p,g,z,w),T.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(z=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),z!==T.state&&W2.enqueueReplaceState(T,T.state,null),Bm(p,w,T,N),Mm(),T.state=p.memoizedState),typeof T.componentDidMount=="function"&&(p.flags|=4194308),w=!0}else if(f===null){T=p.stateNode;var Q=p.memoizedProps,de=sf(g,Q);T.props=de;var _e=T.context,We=g.contextType;z=sp,typeof We=="object"&&We!==null&&(z=Yr(We));var Ze=g.getDerivedStateFromProps;We=typeof Ze=="function"||typeof T.getSnapshotBeforeUpdate=="function",Q=p.pendingProps!==Q,We||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(Q||_e!==z)&&KP(p,T,w,z),Ol=!1;var Le=p.memoizedState;T.state=Le,Bm(p,w,T,N),Mm(),_e=p.memoizedState,Q||Le!==_e||Ol?(typeof Ze=="function"&&(U2(p,g,Ze,w),_e=p.memoizedState),(de=Ol||HP(p,g,de,w,Le,_e,z))?(We||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(p.flags|=4194308)):(typeof T.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=w,p.memoizedState=_e),T.props=w,T.state=_e,T.context=z,w=de):(typeof T.componentDidMount=="function"&&(p.flags|=4194308),w=!1)}else{T=p.stateNode,rA(f,p),z=p.memoizedProps,We=sf(g,z),T.props=We,Ze=p.pendingProps,Le=T.context,_e=g.contextType,de=sp,typeof _e=="object"&&_e!==null&&(de=Yr(_e)),Q=g.getDerivedStateFromProps,(_e=typeof Q=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==Ze||Le!==de)&&KP(p,T,w,de),Ol=!1,Le=p.memoizedState,T.state=Le,Bm(p,w,T,N),Mm();var Ue=p.memoizedState;z!==Ze||Le!==Ue||Ol||f!==null&&f.dependencies!==null&&Nx(f.dependencies)?(typeof Q=="function"&&(U2(p,g,Q,w),Ue=p.memoizedState),(We=Ol||HP(p,g,We,w,Le,Ue,de)||f!==null&&f.dependencies!==null&&Nx(f.dependencies))?(_e||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(w,Ue,de),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(w,Ue,de)),typeof T.componentDidUpdate=="function"&&(p.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof T.componentDidUpdate!="function"||z===f.memoizedProps&&Le===f.memoizedState||(p.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===f.memoizedProps&&Le===f.memoizedState||(p.flags|=1024),p.memoizedProps=w,p.memoizedState=Ue),T.props=w,T.state=Ue,T.context=de,w=We):(typeof T.componentDidUpdate!="function"||z===f.memoizedProps&&Le===f.memoizedState||(p.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===f.memoizedProps&&Le===f.memoizedState||(p.flags|=1024),w=!1)}return T=w,Om(f,p),w=(p.flags&128)!==0,T||w?(T=p.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:T.render(),p.flags|=1,f!==null&&w?(p.child=ef(p,f.child,null,N),p.child=ef(p,null,g,N)):Gr(f,p,g,N),p.memoizedState=T.state,f=p.child):f=Dc(f,p,N),f}function c4(f,p,g,w){return Am(),p.flags|=256,Gr(f,p,g,w),p.child}var H2={dehydrated:null,treeContext:null,retryLane:0};function K2(f){return{baseLanes:f,cachePool:uP()}}function q2(f,p,g){return f=f!==null?f.childLanes&~g:0,p&&(f|=Ci),f}function l4(f,p,g){var w=p.pendingProps,N=!1,T=(p.flags&128)!==0,z;if((z=T)||(z=f!==null&&f.memoizedState===null?!1:(fr.current&2)!==0),z&&(N=!0,p.flags&=-129),z=(p.flags&32)!==0,p.flags&=-33,f===null){if(zn){if(N?Il(p):Dl(),zn){var Q=zr,de;if(de=Q){e:{for(de=Q,Q=Bo;de.nodeType!==8;){if(!Q){Q=null;break e}if(de=co(de.nextSibling),de===null){Q=null;break e}}Q=de}Q!==null?(p.memoizedState={dehydrated:Q,treeContext:Zu!==null?{id:Tc,overflow:Ec}:null,retryLane:536870912},de=Ei(18,null,null,0),de.stateNode=Q,de.return=p,p.child=de,ks=p,zr=null,de=!0):de=!1}de||Ju(p)}if(Q=p.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Q.data==="$!"?p.lanes=16:p.lanes=536870912,null;Cc(p)}return Q=w.children,w=w.fallback,N?(Dl(),N=p.mode,Q=Y2({mode:"hidden",children:Q},N),w=uf(w,N,g,null),Q.return=p,w.return=p,Q.sibling=w,p.child=Q,N=p.child,N.memoizedState=K2(g),N.childLanes=q2(f,z,g),p.memoizedState=H2,w):(Il(p),X2(p,Q))}if(de=f.memoizedState,de!==null&&(Q=de.dehydrated,Q!==null)){if(T)p.flags&256?(Il(p),p.flags&=-257,p=Z2(f,p,g)):p.memoizedState!==null?(Dl(),p.child=f.child,p.flags|=128,p=null):(Dl(),N=w.fallback,Q=p.mode,w=Y2({mode:"visible",children:w.children},Q),N=uf(N,Q,g,null),N.flags|=2,w.return=p,N.return=p,w.sibling=N,p.child=w,ef(p,f.child,null,g),w=p.child,w.memoizedState=K2(g),w.childLanes=q2(f,z,g),p.memoizedState=H2,p=N);else if(Il(p),Q.data==="$!"){if(z=Q.nextSibling&&Q.nextSibling.dataset,z)var _e=z.dgst;z=_e,w=Error(a(419)),w.stack="",w.digest=z,Nm({value:w,source:null,stack:null}),p=Z2(f,p,g)}else if(Ar||$m(f,p,g,!1),z=(g&f.childLanes)!==0,Ar||z){if(z=la,z!==null){if(w=g&-g,(w&42)!==0)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=(w&(z.suspendedLanes|g))!==0?0:w,w!==0&&w!==de.retryLane)throw de.retryLane=w,Cl(f,w),ws(z,f,w),e4}Q.data==="$?"||NA(),p=Z2(f,p,g)}else Q.data==="$?"?(p.flags|=128,p.child=f.child,p=cY.bind(null,f),Q._reactRetry=p,p=null):(f=de.treeContext,zr=co(Q.nextSibling),ks=p,zn=!0,io=null,Bo=!1,f!==null&&(_i[Ai++]=Tc,_i[Ai++]=Ec,_i[Ai++]=Zu,Tc=f.id,Ec=f.overflow,Zu=p),p=X2(p,w.children),p.flags|=4096);return p}return N?(Dl(),N=w.fallback,Q=p.mode,de=f.child,_e=de.sibling,w=Gl(de,{mode:"hidden",children:w.children}),w.subtreeFlags=de.subtreeFlags&31457280,_e!==null?N=Gl(_e,N):(N=uf(N,Q,g,null),N.flags|=2),N.return=p,w.return=p,w.sibling=N,p.child=w,w=N,N=p.child,Q=f.child.memoizedState,Q===null?Q=K2(g):(de=Q.cachePool,de!==null?(_e=dr._currentValue,de=de.parent!==_e?{parent:_e,pool:_e}:de):de=uP(),Q={baseLanes:Q.baseLanes|g,cachePool:de}),N.memoizedState=Q,N.childLanes=q2(f,z,g),p.memoizedState=H2,w):(Il(p),g=f.child,f=g.sibling,g=Gl(g,{mode:"visible",children:w.children}),g.return=p,g.sibling=null,f!==null&&(z=p.deletions,z===null?(p.deletions=[f],p.flags|=16):z.push(f)),p.child=g,p.memoizedState=null,g)}function X2(f,p){return p=Y2({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function Y2(f,p){return O4(f,p,0,null)}function Z2(f,p,g){return ef(p,f.child,null,g),f=X2(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function u4(f,p,g){f.lanes|=p;var w=f.alternate;w!==null&&(w.lanes|=p),tA(f.return,p,g)}function Q2(f,p,g,w,N){var T=f.memoizedState;T===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:N}:(T.isBackwards=p,T.rendering=null,T.renderingStartTime=0,T.last=w,T.tail=g,T.tailMode=N)}function f4(f,p,g){var w=p.pendingProps,N=w.revealOrder,T=w.tail;if(Gr(f,p,w.children,g),w=fr.current,(w&2)!==0)w=w&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&u4(f,g,p);else if(f.tag===19)u4(f,g,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}w&=1}switch(ee(fr,w),N){case"forwards":for(g=p.child,N=null;g!==null;)f=g.alternate,f!==null&&px(f)===null&&(N=g),g=g.sibling;g=N,g===null?(N=p.child,p.child=null):(N=g.sibling,g.sibling=null),Q2(p,!1,N,g,T);break;case"backwards":for(g=null,N=p.child,p.child=null;N!==null;){if(f=N.alternate,f!==null&&px(f)===null){p.child=N;break}f=N.sibling,N.sibling=g,g=N,N=f}Q2(p,!0,g,null,T);break;case"together":Q2(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Dc(f,p,g){if(f!==null&&(p.dependencies=f.dependencies),Ul|=p.lanes,(g&p.childLanes)===0)if(f!==null){if($m(f,p,g,!1),(g&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(a(153));if(p.child!==null){for(f=p.child,g=Gl(f,f.pendingProps),p.child=g,g.return=p;f.sibling!==null;)f=f.sibling,g=g.sibling=Gl(f,f.pendingProps),g.return=p;g.sibling=null}return p.child}function J2(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&Nx(f)))}function qX(f,p,g){switch(p.tag){case 3:Oe(p,p.stateNode.containerInfo),Fl(p,dr,f.memoizedState.cache),Am();break;case 27:case 5:He(p);break;case 4:Oe(p,p.stateNode.containerInfo);break;case 10:Fl(p,p.type,p.memoizedProps.value);break;case 13:var w=p.memoizedState;if(w!==null)return w.dehydrated!==null?(Il(p),p.flags|=128,null):(g&p.child.childLanes)!==0?l4(f,p,g):(Il(p),f=Dc(f,p,g),f!==null?f.sibling:null);Il(p);break;case 19:var N=(f.flags&128)!==0;if(w=(g&p.childLanes)!==0,w||($m(f,p,g,!1),w=(g&p.childLanes)!==0),N){if(w)return f4(f,p,g);p.flags|=128}if(N=p.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),ee(fr,fr.current),w)break;return null;case 22:case 23:return p.lanes=0,r4(f,p,g);case 24:Fl(p,dr,f.memoizedState.cache)}return Dc(f,p,g)}function d4(f,p,g){if(f!==null)if(f.memoizedProps!==p.pendingProps)Ar=!0;else{if(!J2(f,g)&&(p.flags&128)===0)return Ar=!1,qX(f,p,g);Ar=(f.flags&131072)!==0}else Ar=!1,zn&&(p.flags&1048576)!==0&&YR(p,cx,p.index);switch(p.lanes=0,p.tag){case 16:e:{f=p.pendingProps;var w=p.elementType,N=w._init;if(w=N(w._payload),p.type=w,typeof w=="function")pA(w)?(f=sf(w,f),p.tag=1,p=o4(null,p,w,f,g)):(p.tag=0,p=j2(null,p,w,f,g));else{if(w!=null){if(N=w.$$typeof,N===y){p.tag=11,p=t4(null,p,w,f,g);break e}else if(N===k){p.tag=14,p=n4(null,p,w,f,g);break e}}throw p=D(w)||w,Error(a(306,p,""))}}return p;case 0:return j2(f,p,p.type,p.pendingProps,g);case 1:return w=p.type,N=sf(w,p.pendingProps),o4(f,p,w,N,g);case 3:e:{if(Oe(p,p.stateNode.containerInfo),f===null)throw Error(a(387));var T=p.pendingProps;N=p.memoizedState,w=N.element,rA(f,p),Bm(p,T,null,g);var z=p.memoizedState;if(T=z.cache,Fl(p,dr,T),T!==N.cache&&nA(p,[dr],g,!0),Mm(),T=z.element,N.isDehydrated)if(N={element:T,isDehydrated:!1,cache:z.cache},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){p=c4(f,p,T,g);break e}else if(T!==w){w=bi(Error(a(424)),p),Nm(w),p=c4(f,p,T,g);break e}else for(zr=co(p.stateNode.containerInfo.firstChild),ks=p,zn=!0,io=null,Bo=!0,g=sP(p,null,T,g),p.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Am(),T===w){p=Dc(f,p,g);break e}Gr(f,p,T,g)}p=p.child}return p;case 26:return Om(f,p),f===null?(g=mF(p.type,null,p.pendingProps,null))?p.memoizedState=g:zn||(g=p.type,f=p.pendingProps,w=Gx(Y.current).createElement(g),w[ne]=p,w[re]=f,Ur(w,g,f),et(w),p.stateNode=w):p.memoizedState=mF(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:return He(p),f===null&&zn&&(w=p.stateNode=dF(p.type,p.pendingProps,Y.current),ks=p,Bo=!0,zr=co(w.firstChild)),w=p.pendingProps.children,f!==null||zn?Gr(f,p,w,g):p.child=ef(p,null,w,g),Om(f,p),p.child;case 5:return f===null&&zn&&((N=w=zr)&&(w=AY(w,p.type,p.pendingProps,Bo),w!==null?(p.stateNode=w,ks=p,zr=co(w.firstChild),Bo=!1,N=!0):N=!1),N||Ju(p)),He(p),N=p.type,T=p.pendingProps,z=f!==null?f.memoizedProps:null,w=T.children,BA(N,T)?w=null:z!==null&&BA(N,z)&&(p.flags|=32),p.memoizedState!==null&&(N=T2(f,p,GX,null,null,g),e0._currentValue=N),Om(f,p),Gr(f,p,w,g),p.child;case 6:return f===null&&zn&&((f=g=zr)&&(g=NY(g,p.pendingProps,Bo),g!==null?(p.stateNode=g,ks=p,zr=null,f=!0):f=!1),f||Ju(p)),null;case 13:return l4(f,p,g);case 4:return Oe(p,p.stateNode.containerInfo),w=p.pendingProps,f===null?p.child=ef(p,null,w,g):Gr(f,p,w,g),p.child;case 11:return t4(f,p,p.type,p.pendingProps,g);case 7:return Gr(f,p,p.pendingProps,g),p.child;case 8:return Gr(f,p,p.pendingProps.children,g),p.child;case 12:return Gr(f,p,p.pendingProps.children,g),p.child;case 10:return w=p.pendingProps,Fl(p,p.type,w.value),Gr(f,p,w.children,g),p.child;case 9:return N=p.type._context,w=p.pendingProps.children,cf(p),N=Yr(N),w=w(N),p.flags|=1,Gr(f,p,w,g),p.child;case 14:return n4(f,p,p.type,p.pendingProps,g);case 15:return a4(f,p,p.type,p.pendingProps,g);case 19:return f4(f,p,g);case 22:return r4(f,p,g);case 24:return cf(p),w=Yr(dr),f===null?(N=N2(),N===null&&(N=la,T=_2(),N.pooledCache=T,T.refCount++,T!==null&&(N.pooledCacheLanes|=g),N=T),p.memoizedState={parent:w,cache:N},aA(p),Fl(p,dr,N)):((f.lanes&g)!==0&&(rA(f,p),Bm(p,null,null,g),Mm()),N=f.memoizedState,T=p.memoizedState,N.parent!==w?(N={parent:w,cache:w},p.memoizedState=N,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=N),Fl(p,dr,w)):(w=T.cache,Fl(p,dr,w),w!==N.cache&&nA(p,[dr],g,!0))),Gr(f,p,p.pendingProps.children,g),p.child;case 29:throw p.pendingProps}throw Error(a(156,p.tag))}var eA=G(null),of=null,Rc=null;function Fl(f,p,g){ee(eA,p._currentValue),p._currentValue=g}function Pc(f){f._currentValue=eA.current,te(eA)}function tA(f,p,g){for(;f!==null;){var w=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,w!==null&&(w.childLanes|=p)):w!==null&&(w.childLanes&p)!==p&&(w.childLanes|=p),f===g)break;f=f.return}}function nA(f,p,g,w){var N=f.child;for(N!==null&&(N.return=f);N!==null;){var T=N.dependencies;if(T!==null){var z=N.child;T=T.firstContext;e:for(;T!==null;){var Q=T;T=N;for(var de=0;de<p.length;de++)if(Q.context===p[de]){T.lanes|=g,Q=T.alternate,Q!==null&&(Q.lanes|=g),tA(T.return,g,f),w||(z=null);break e}T=Q.next}}else if(N.tag===18){if(z=N.return,z===null)throw Error(a(341));z.lanes|=g,T=z.alternate,T!==null&&(T.lanes|=g),tA(z,g,f),z=null}else z=N.child;if(z!==null)z.return=N;else for(z=N;z!==null;){if(z===f){z=null;break}if(N=z.sibling,N!==null){N.return=z.return,z=N;break}z=z.return}N=z}}function $m(f,p,g,w){f=null;for(var N=p,T=!1;N!==null;){if(!T){if((N.flags&524288)!==0)T=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var z=N.alternate;if(z===null)throw Error(a(387));if(z=z.memoizedProps,z!==null){var Q=N.type;ei(N.pendingProps.value,z.value)||(f!==null?f.push(Q):f=[Q])}}else if(N===Ae.current){if(z=N.alternate,z===null)throw Error(a(387));z.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(f!==null?f.push(e0):f=[e0])}N=N.return}f!==null&&nA(p,f,g,w),p.flags|=262144}function Nx(f){for(f=f.firstContext;f!==null;){if(!ei(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function cf(f){of=f,Rc=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Yr(f){return p4(of,f)}function Sx(f,p){return of===null&&cf(f),p4(f,p)}function p4(f,p){var g=p._currentValue;if(p={context:p,memoizedValue:g,next:null},Rc===null){if(f===null)throw Error(a(308));Rc=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else Rc=Rc.next=p;return g}var Ol=!1;function aA(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rA(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function $l(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Ll(f,p,g){var w=f.updateQueue;if(w===null)return null;if(w=w.shared,(_a&2)!==0){var N=w.pending;return N===null?p.next=p:(p.next=N.next,N.next=p),w.pending=p,p=ix(f),qR(f,null,g),p}return sx(f,w,p,g),ix(f)}function Lm(f,p,g){if(p=p.updateQueue,p!==null&&(p=p.shared,(g&4194176)!==0)){var w=p.lanes;w&=f.pendingLanes,g|=w,p.lanes=g,j1(f,g)}}function sA(f,p){var g=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var N=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var z={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};T===null?N=T=z:T=T.next=z,g=g.next}while(g!==null);T===null?N=T=p:T=T.next=p}else N=T=p;g={baseState:w.baseState,firstBaseUpdate:N,lastBaseUpdate:T,shared:w.shared,callbacks:w.callbacks},f.updateQueue=g;return}f=g.lastBaseUpdate,f===null?g.firstBaseUpdate=p:f.next=p,g.lastBaseUpdate=p}var iA=!1;function Mm(){if(iA){var f=fp;if(f!==null)throw f}}function Bm(f,p,g,w){iA=!1;var N=f.updateQueue;Ol=!1;var T=N.firstBaseUpdate,z=N.lastBaseUpdate,Q=N.shared.pending;if(Q!==null){N.shared.pending=null;var de=Q,_e=de.next;de.next=null,z===null?T=_e:z.next=_e,z=de;var We=f.alternate;We!==null&&(We=We.updateQueue,Q=We.lastBaseUpdate,Q!==z&&(Q===null?We.firstBaseUpdate=_e:Q.next=_e,We.lastBaseUpdate=de))}if(T!==null){var Ze=N.baseState;z=0,We=_e=de=null,Q=T;do{var Le=Q.lane&-536870913,Ue=Le!==Q.lane;if(Ue?(On&Le)===Le:(w&Le)===Le){Le!==0&&Le===up&&(iA=!0),We!==null&&(We=We.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var Et=f,Jt=Q;Le=p;var Fa=g;switch(Jt.tag){case 1:if(Et=Jt.payload,typeof Et=="function"){Ze=Et.call(Fa,Ze,Le);break e}Ze=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Jt.payload,Le=typeof Et=="function"?Et.call(Fa,Ze,Le):Et,Le==null)break e;Ze=P({},Ze,Le);break e;case 2:Ol=!0}}Le=Q.callback,Le!==null&&(f.flags|=64,Ue&&(f.flags|=8192),Ue=N.callbacks,Ue===null?N.callbacks=[Le]:Ue.push(Le))}else Ue={lane:Le,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},We===null?(_e=We=Ue,de=Ze):We=We.next=Ue,z|=Le;if(Q=Q.next,Q===null){if(Q=N.shared.pending,Q===null)break;Ue=Q,Q=Ue.next,Ue.next=null,N.lastBaseUpdate=Ue,N.shared.pending=null}}while(!0);We===null&&(de=Ze),N.baseState=de,N.firstBaseUpdate=_e,N.lastBaseUpdate=We,T===null&&(N.shared.lanes=0),Ul|=z,f.lanes=z,f.memoizedState=Ze}}function h4(f,p){if(typeof f!="function")throw Error(a(191,f));f.call(p)}function m4(f,p){var g=f.callbacks;if(g!==null)for(f.callbacks=null,f=0;f<g.length;f++)h4(g[f],p)}function zm(f,p){try{var g=p.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var N=w.next;g=N;do{if((g.tag&f)===f){w=void 0;var T=g.create,z=g.inst;w=T(),z.destroy=w}g=g.next}while(g!==N)}}catch(Q){ra(p,p.return,Q)}}function Ml(f,p,g){try{var w=p.updateQueue,N=w!==null?w.lastEffect:null;if(N!==null){var T=N.next;w=T;do{if((w.tag&f)===f){var z=w.inst,Q=z.destroy;if(Q!==void 0){z.destroy=void 0,N=p;var de=g;try{Q()}catch(_e){ra(N,de,_e)}}}w=w.next}while(w!==T)}}catch(_e){ra(p,p.return,_e)}}function g4(f){var p=f.updateQueue;if(p!==null){var g=f.stateNode;try{m4(p,g)}catch(w){ra(f,f.return,w)}}}function y4(f,p,g){g.props=sf(f.type,f.memoizedProps),g.state=f.memoizedState;try{g.componentWillUnmount()}catch(w){ra(f,p,w)}}function lf(f,p){try{var g=f.ref;if(g!==null){var w=f.stateNode;switch(f.tag){case 26:case 27:case 5:var N=w;break;default:N=w}typeof g=="function"?f.refCleanup=g(N):g.current=N}}catch(T){ra(f,p,T)}}function ti(f,p){var g=f.ref,w=f.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(N){ra(f,p,N)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(N){ra(f,p,N)}else g.current=null}function x4(f){var p=f.type,g=f.memoizedProps,w=f.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(N){ra(f,f.return,N)}}function v4(f,p,g){try{var w=f.stateNode;vY(w,f.type,g,p),w[re]=p}catch(N){ra(f,f.return,N)}}function k4(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27||f.tag===4}function oA(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||k4(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==27&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function cA(f,p,g){var w=f.tag;if(w===5||w===6)f=f.stateNode,p?g.nodeType===8?g.parentNode.insertBefore(f,p):g.insertBefore(f,p):(g.nodeType===8?(p=g.parentNode,p.insertBefore(f,g)):(p=g,p.appendChild(f)),g=g._reactRootContainer,g!=null||p.onclick!==null||(p.onclick=zx));else if(w!==4&&w!==27&&(f=f.child,f!==null))for(cA(f,p,g),f=f.sibling;f!==null;)cA(f,p,g),f=f.sibling}function Tx(f,p,g){var w=f.tag;if(w===5||w===6)f=f.stateNode,p?g.insertBefore(f,p):g.appendChild(f);else if(w!==4&&w!==27&&(f=f.child,f!==null))for(Tx(f,p,g),f=f.sibling;f!==null;)Tx(f,p,g),f=f.sibling}var Fc=!1,Ra=!1,lA=!1,w4=typeof WeakSet=="function"?WeakSet:Set,Nr=null,b4=!1;function XX(f,p){if(f=f.containerInfo,LA=Kx,f=BR(f),f2(f)){if("selectionStart"in f)var g={start:f.selectionStart,end:f.selectionEnd};else e:{g=(g=f.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var N=w.anchorOffset,T=w.focusNode;w=w.focusOffset;try{g.nodeType,T.nodeType}catch{g=null;break e}var z=0,Q=-1,de=-1,_e=0,We=0,Ze=f,Le=null;t:for(;;){for(var Ue;Ze!==g||N!==0&&Ze.nodeType!==3||(Q=z+N),Ze!==T||w!==0&&Ze.nodeType!==3||(de=z+w),Ze.nodeType===3&&(z+=Ze.nodeValue.length),(Ue=Ze.firstChild)!==null;)Le=Ze,Ze=Ue;for(;;){if(Ze===f)break t;if(Le===g&&++_e===N&&(Q=z),Le===T&&++We===w&&(de=z),(Ue=Ze.nextSibling)!==null)break;Ze=Le,Le=Ze.parentNode}Ze=Ue}g=Q===-1||de===-1?null:{start:Q,end:de}}else g=null}g=g||{start:0,end:0}}else g=null;for(MA={focusedElem:f,selectionRange:g},Kx=!1,Nr=p;Nr!==null;)if(p=Nr,f=p.child,(p.subtreeFlags&1028)!==0&&f!==null)f.return=p,Nr=f;else for(;Nr!==null;){switch(p=Nr,T=p.alternate,f=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&T!==null){f=void 0,g=p,N=T.memoizedProps,T=T.memoizedState,w=g.stateNode;try{var Et=sf(g.type,N,g.elementType===g.type);f=w.getSnapshotBeforeUpdate(Et,T),w.__reactInternalSnapshotBeforeUpdate=f}catch(Jt){ra(g,g.return,Jt)}}break;case 3:if((f&1024)!==0){if(f=p.stateNode.containerInfo,g=f.nodeType,g===9)UA(f);else if(g===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":UA(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(a(163))}if(f=p.sibling,f!==null){f.return=p.return,Nr=f;break}Nr=p.return}return Et=b4,b4=!1,Et}function _4(f,p,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:$c(f,g),w&4&&zm(5,g);break;case 1:if($c(f,g),w&4)if(f=g.stateNode,p===null)try{f.componentDidMount()}catch(Q){ra(g,g.return,Q)}else{var N=sf(g.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(N,p,f.__reactInternalSnapshotBeforeUpdate)}catch(Q){ra(g,g.return,Q)}}w&64&&g4(g),w&512&&lf(g,g.return);break;case 3:if($c(f,g),w&64&&(w=g.updateQueue,w!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{m4(w,f)}catch(Q){ra(g,g.return,Q)}}break;case 26:$c(f,g),w&512&&lf(g,g.return);break;case 27:case 5:$c(f,g),p===null&&w&4&&x4(g),w&512&&lf(g,g.return);break;case 12:$c(f,g);break;case 13:$c(f,g),w&4&&S4(f,g);break;case 22:if(N=g.memoizedState!==null||Fc,!N){p=p!==null&&p.memoizedState!==null||Ra;var T=Fc,z=Ra;Fc=N,(Ra=p)&&!z?Bl(f,g,(g.subtreeFlags&8772)!==0):$c(f,g),Fc=T,Ra=z}w&512&&(g.memoizedProps.mode==="manual"?lf(g,g.return):ti(g,g.return));break;default:$c(f,g)}}function A4(f){var p=f.alternate;p!==null&&(f.alternate=null,A4(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&Re(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Ya=null,ni=!1;function Oc(f,p,g){for(g=g.child;g!==null;)N4(f,p,g),g=g.sibling}function N4(f,p,g){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Xt,g)}catch{}switch(g.tag){case 26:Ra||ti(g,p),Oc(f,p,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Ra||ti(g,p);var w=Ya,N=ni;for(Ya=g.stateNode,Oc(f,p,g),g=g.stateNode,p=g.attributes;p.length;)g.removeAttributeNode(p[0]);Re(g),Ya=w,ni=N;break;case 5:Ra||ti(g,p);case 6:N=Ya;var T=ni;if(Ya=null,Oc(f,p,g),Ya=N,ni=T,Ya!==null)if(ni)try{f=Ya,w=g.stateNode,f.nodeType===8?f.parentNode.removeChild(w):f.removeChild(w)}catch(z){ra(g,p,z)}else try{Ya.removeChild(g.stateNode)}catch(z){ra(g,p,z)}break;case 18:Ya!==null&&(ni?(p=Ya,g=g.stateNode,p.nodeType===8?GA(p.parentNode,g):p.nodeType===1&&GA(p,g),r0(p)):GA(Ya,g.stateNode));break;case 4:w=Ya,N=ni,Ya=g.stateNode.containerInfo,ni=!0,Oc(f,p,g),Ya=w,ni=N;break;case 0:case 11:case 14:case 15:Ra||Ml(2,g,p),Ra||Ml(4,g,p),Oc(f,p,g);break;case 1:Ra||(ti(g,p),w=g.stateNode,typeof w.componentWillUnmount=="function"&&y4(g,p,w)),Oc(f,p,g);break;case 21:Oc(f,p,g);break;case 22:Ra||ti(g,p),Ra=(w=Ra)||g.memoizedState!==null,Oc(f,p,g),Ra=w;break;default:Oc(f,p,g)}}function S4(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{r0(f)}catch(g){ra(p,p.return,g)}}function YX(f){switch(f.tag){case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new w4),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new w4),p;default:throw Error(a(435,f.tag))}}function uA(f,p){var g=YX(f);p.forEach(function(w){var N=lY.bind(null,f,w);g.has(w)||(g.add(w),w.then(N,N))})}function Si(f,p){var g=p.deletions;if(g!==null)for(var w=0;w<g.length;w++){var N=g[w],T=f,z=p,Q=z;e:for(;Q!==null;){switch(Q.tag){case 27:case 5:Ya=Q.stateNode,ni=!1;break e;case 3:Ya=Q.stateNode.containerInfo,ni=!0;break e;case 4:Ya=Q.stateNode.containerInfo,ni=!0;break e}Q=Q.return}if(Ya===null)throw Error(a(160));N4(T,z,N),Ya=null,ni=!1,T=N.alternate,T!==null&&(T.return=null),N.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)T4(p,f),p=p.sibling}var oo=null;function T4(f,p){var g=f.alternate,w=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Si(p,f),Ti(f),w&4&&(Ml(3,f,f.return),zm(3,f),Ml(5,f,f.return));break;case 1:Si(p,f),Ti(f),w&512&&(Ra||g===null||ti(g,g.return)),w&64&&Fc&&(f=f.updateQueue,f!==null&&(w=f.callbacks,w!==null&&(g=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var N=oo;if(Si(p,f),Ti(f),w&512&&(Ra||g===null||ti(g,g.return)),w&4){var T=g!==null?g.memoizedState:null;if(w=f.memoizedState,g===null)if(w===null)if(f.stateNode===null){e:{w=f.type,g=f.memoizedProps,N=N.ownerDocument||N;t:switch(w){case"title":T=N.getElementsByTagName("title")[0],(!T||T[Ee]||T[ne]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=N.createElement(w),N.head.insertBefore(T,N.querySelector("head > title"))),Ur(T,w,g),T[ne]=f,et(T),w=T;break e;case"link":var z=xF("link","href",N).get(w+(g.href||""));if(z){for(var Q=0;Q<z.length;Q++)if(T=z[Q],T.getAttribute("href")===(g.href==null?null:g.href)&&T.getAttribute("rel")===(g.rel==null?null:g.rel)&&T.getAttribute("title")===(g.title==null?null:g.title)&&T.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){z.splice(Q,1);break t}}T=N.createElement(w),Ur(T,w,g),N.head.appendChild(T);break;case"meta":if(z=xF("meta","content",N).get(w+(g.content||""))){for(Q=0;Q<z.length;Q++)if(T=z[Q],T.getAttribute("content")===(g.content==null?null:""+g.content)&&T.getAttribute("name")===(g.name==null?null:g.name)&&T.getAttribute("property")===(g.property==null?null:g.property)&&T.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&T.getAttribute("charset")===(g.charSet==null?null:g.charSet)){z.splice(Q,1);break t}}T=N.createElement(w),Ur(T,w,g),N.head.appendChild(T);break;default:throw Error(a(468,w))}T[ne]=f,et(T),w=T}f.stateNode=w}else vF(N,f.type,f.stateNode);else f.stateNode=yF(N,w,f.memoizedProps);else T!==w?(T===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):T.count--,w===null?vF(N,f.type,f.stateNode):yF(N,w,f.memoizedProps)):w===null&&f.stateNode!==null&&v4(f,f.memoizedProps,g.memoizedProps)}break;case 27:if(w&4&&f.alternate===null){N=f.stateNode,T=f.memoizedProps;try{for(var de=N.firstChild;de;){var _e=de.nextSibling,We=de.nodeName;de[Ee]||We==="HEAD"||We==="BODY"||We==="SCRIPT"||We==="STYLE"||We==="LINK"&&de.rel.toLowerCase()==="stylesheet"||N.removeChild(de),de=_e}for(var Ze=f.type,Le=N.attributes;Le.length;)N.removeAttributeNode(Le[0]);Ur(N,Ze,T),N[ne]=f,N[re]=T}catch(Et){ra(f,f.return,Et)}}case 5:if(Si(p,f),Ti(f),w&512&&(Ra||g===null||ti(g,g.return)),f.flags&32){N=f.stateNode;try{Qd(N,"")}catch(Et){ra(f,f.return,Et)}}w&4&&f.stateNode!=null&&(N=f.memoizedProps,v4(f,N,g!==null?g.memoizedProps:N)),w&1024&&(lA=!0);break;case 6:if(Si(p,f),Ti(f),w&4){if(f.stateNode===null)throw Error(a(162));w=f.memoizedProps,g=f.stateNode;try{g.nodeValue=w}catch(Et){ra(f,f.return,Et)}}break;case 3:if(Vx=null,N=oo,oo=Ux(p.containerInfo),Si(p,f),oo=N,Ti(f),w&4&&g!==null&&g.memoizedState.isDehydrated)try{r0(p.containerInfo)}catch(Et){ra(f,f.return,Et)}lA&&(lA=!1,E4(f));break;case 4:w=oo,oo=Ux(f.stateNode.containerInfo),Si(p,f),Ti(f),oo=w;break;case 12:Si(p,f),Ti(f);break;case 13:Si(p,f),Ti(f),f.child.flags&8192&&f.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(vA=Be()),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,uA(f,w)));break;case 22:if(w&512&&(Ra||g===null||ti(g,g.return)),de=f.memoizedState!==null,_e=g!==null&&g.memoizedState!==null,We=Fc,Ze=Ra,Fc=We||de,Ra=Ze||_e,Si(p,f),Ra=Ze,Fc=We,Ti(f),p=f.stateNode,p._current=f,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,w&8192&&(p._visibility=de?p._visibility&-2:p._visibility|1,de&&(p=Fc||Ra,g===null||_e||p||mp(f)),f.memoizedProps===null||f.memoizedProps.mode!=="manual"))e:for(g=null,p=f;;){if(p.tag===5||p.tag===26||p.tag===27){if(g===null){_e=g=p;try{if(N=_e.stateNode,de)T=N.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{z=_e.stateNode,Q=_e.memoizedProps.style;var Ue=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;z.style.display=Ue==null||typeof Ue=="boolean"?"":(""+Ue).trim()}}catch(Et){ra(_e,_e.return,Et)}}}else if(p.tag===6){if(g===null){_e=p;try{_e.stateNode.nodeValue=de?"":_e.memoizedProps}catch(Et){ra(_e,_e.return,Et)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break e;for(;p.sibling===null;){if(p.return===null||p.return===f)break e;g===p&&(g=null),p=p.return}g===p&&(g=null),p.sibling.return=p.return,p=p.sibling}w&4&&(w=f.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,uA(f,g))));break;case 19:Si(p,f),Ti(f),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,uA(f,w)));break;case 21:break;default:Si(p,f),Ti(f)}}function Ti(f){var p=f.flags;if(p&2){try{if(f.tag!==27){e:{for(var g=f.return;g!==null;){if(k4(g)){var w=g;break e}g=g.return}throw Error(a(160))}switch(w.tag){case 27:var N=w.stateNode,T=oA(f);Tx(f,T,N);break;case 5:var z=w.stateNode;w.flags&32&&(Qd(z,""),w.flags&=-33);var Q=oA(f);Tx(f,Q,z);break;case 3:case 4:var de=w.stateNode.containerInfo,_e=oA(f);cA(f,_e,de);break;default:throw Error(a(161))}}}catch(We){ra(f,f.return,We)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function E4(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;E4(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),f=f.sibling}}function $c(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)_4(f,p.alternate,p),p=p.sibling}function mp(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:Ml(4,p,p.return),mp(p);break;case 1:ti(p,p.return);var g=p.stateNode;typeof g.componentWillUnmount=="function"&&y4(p,p.return,g),mp(p);break;case 26:case 27:case 5:ti(p,p.return),mp(p);break;case 22:ti(p,p.return),p.memoizedState===null&&mp(p);break;default:mp(p)}f=f.sibling}}function Bl(f,p,g){for(g=g&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var w=p.alternate,N=f,T=p,z=T.flags;switch(T.tag){case 0:case 11:case 15:Bl(N,T,g),zm(4,T);break;case 1:if(Bl(N,T,g),w=T,N=w.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(_e){ra(w,w.return,_e)}if(w=T,N=w.updateQueue,N!==null){var Q=w.stateNode;try{var de=N.shared.hiddenCallbacks;if(de!==null)for(N.shared.hiddenCallbacks=null,N=0;N<de.length;N++)h4(de[N],Q)}catch(_e){ra(w,w.return,_e)}}g&&z&64&&g4(T),lf(T,T.return);break;case 26:case 27:case 5:Bl(N,T,g),g&&w===null&&z&4&&x4(T),lf(T,T.return);break;case 12:Bl(N,T,g);break;case 13:Bl(N,T,g),g&&z&4&&S4(N,T);break;case 22:T.memoizedState===null&&Bl(N,T,g),lf(T,T.return);break;default:Bl(N,T,g)}p=p.sibling}}function fA(f,p){var g=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==g&&(f!=null&&f.refCount++,g!=null&&Im(g))}function dA(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Im(f))}function zl(f,p,g,w){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)C4(f,p,g,w),p=p.sibling}function C4(f,p,g,w){var N=p.flags;switch(p.tag){case 0:case 11:case 15:zl(f,p,g,w),N&2048&&zm(9,p);break;case 3:zl(f,p,g,w),N&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Im(f)));break;case 12:if(N&2048){zl(f,p,g,w),f=p.stateNode;try{var T=p.memoizedProps,z=T.id,Q=T.onPostCommit;typeof Q=="function"&&Q(z,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(de){ra(p,p.return,de)}}else zl(f,p,g,w);break;case 23:break;case 22:T=p.stateNode,p.memoizedState!==null?T._visibility&4?zl(f,p,g,w):Gm(f,p):T._visibility&4?zl(f,p,g,w):(T._visibility|=4,gp(f,p,g,w,(p.subtreeFlags&10256)!==0)),N&2048&&fA(p.alternate,p);break;case 24:zl(f,p,g,w),N&2048&&dA(p.alternate,p);break;default:zl(f,p,g,w)}}function gp(f,p,g,w,N){for(N=N&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var T=f,z=p,Q=g,de=w,_e=z.flags;switch(z.tag){case 0:case 11:case 15:gp(T,z,Q,de,N),zm(8,z);break;case 23:break;case 22:var We=z.stateNode;z.memoizedState!==null?We._visibility&4?gp(T,z,Q,de,N):Gm(T,z):(We._visibility|=4,gp(T,z,Q,de,N)),N&&_e&2048&&fA(z.alternate,z);break;case 24:gp(T,z,Q,de,N),N&&_e&2048&&dA(z.alternate,z);break;default:gp(T,z,Q,de,N)}p=p.sibling}}function Gm(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var g=f,w=p,N=w.flags;switch(w.tag){case 22:Gm(g,w),N&2048&&fA(w.alternate,w);break;case 24:Gm(g,w),N&2048&&dA(w.alternate,w);break;default:Gm(g,w)}p=p.sibling}}var Um=8192;function yp(f){if(f.subtreeFlags&Um)for(f=f.child;f!==null;)I4(f),f=f.sibling}function I4(f){switch(f.tag){case 26:yp(f),f.flags&Um&&f.memoizedState!==null&&MY(oo,f.memoizedState,f.memoizedProps);break;case 5:yp(f);break;case 3:case 4:var p=oo;oo=Ux(f.stateNode.containerInfo),yp(f),oo=p;break;case 22:f.memoizedState===null&&(p=f.alternate,p!==null&&p.memoizedState!==null?(p=Um,Um=16777216,yp(f),Um=p):yp(f));break;default:yp(f)}}function D4(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function Wm(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var g=0;g<p.length;g++){var w=p[g];Nr=w,P4(w,f)}D4(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)R4(f),f=f.sibling}function R4(f){switch(f.tag){case 0:case 11:case 15:Wm(f),f.flags&2048&&Ml(9,f,f.return);break;case 3:Wm(f);break;case 12:Wm(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&4&&(f.return===null||f.return.tag!==13)?(p._visibility&=-5,Ex(f)):Wm(f);break;default:Wm(f)}}function Ex(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var g=0;g<p.length;g++){var w=p[g];Nr=w,P4(w,f)}D4(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:Ml(8,p,p.return),Ex(p);break;case 22:g=p.stateNode,g._visibility&4&&(g._visibility&=-5,Ex(p));break;default:Ex(p)}f=f.sibling}}function P4(f,p){for(;Nr!==null;){var g=Nr;switch(g.tag){case 0:case 11:case 15:Ml(8,g,p);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Im(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,Nr=w;else e:for(g=f;Nr!==null;){w=Nr;var N=w.sibling,T=w.return;if(A4(w),w===g){Nr=null;break e}if(N!==null){N.return=T,Nr=N;break e}Nr=T}}}function ZX(f,p,g,w){this.tag=f,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(f,p,g,w){return new ZX(f,p,g,w)}function pA(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Gl(f,p){var g=f.alternate;return g===null?(g=Ei(f.tag,p,f.key,f.mode),g.elementType=f.elementType,g.type=f.type,g.stateNode=f.stateNode,g.alternate=f,f.alternate=g):(g.pendingProps=p,g.type=f.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=f.flags&31457280,g.childLanes=f.childLanes,g.lanes=f.lanes,g.child=f.child,g.memoizedProps=f.memoizedProps,g.memoizedState=f.memoizedState,g.updateQueue=f.updateQueue,p=f.dependencies,g.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},g.sibling=f.sibling,g.index=f.index,g.ref=f.ref,g.refCleanup=f.refCleanup,g}function F4(f,p){f.flags&=31457282;var g=f.alternate;return g===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,p=g.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function Cx(f,p,g,w,N,T){var z=0;if(w=f,typeof f=="function")pA(f)&&(z=1);else if(typeof f=="string")z=$Y(f,g,ae.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case c:return uf(g.children,N,T,p);case l:z=8,N|=24;break;case u:return f=Ei(12,g,p,N|2),f.elementType=u,f.lanes=T,f;case v:return f=Ei(13,g,p,N),f.elementType=v,f.lanes=T,f;case x:return f=Ei(19,g,p,N),f.elementType=x,f.lanes=T,f;case _:return O4(g,N,T,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case d:case m:z=10;break e;case h:z=9;break e;case y:z=11;break e;case k:z=14;break e;case b:z=16,w=null;break e}z=29,g=Error(a(130,f===null?"null":typeof f,"")),w=null}return p=Ei(z,g,p,N),p.elementType=f,p.type=w,p.lanes=T,p}function uf(f,p,g,w){return f=Ei(7,f,w,p),f.lanes=g,f}function O4(f,p,g,w){f=Ei(22,f,w,p),f.elementType=_,f.lanes=g;var N={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var T=N._current;if(T===null)throw Error(a(456));if((N._pendingVisibility&2)===0){var z=Cl(T,2);z!==null&&(N._pendingVisibility|=2,ws(z,T,2))}},attach:function(){var T=N._current;if(T===null)throw Error(a(456));if((N._pendingVisibility&2)!==0){var z=Cl(T,2);z!==null&&(N._pendingVisibility&=-3,ws(z,T,2))}}};return f.stateNode=N,f}function hA(f,p,g){return f=Ei(6,f,null,p),f.lanes=g,f}function mA(f,p,g){return p=Ei(4,f.children!==null?f.children:[],f.key,p),p.lanes=g,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function Lc(f){f.flags|=4}function $4(f,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!kF(p)){if(p=Ni.current,p!==null&&((On&4194176)===On?zo!==null:(On&62914560)!==On&&(On&536870912)===0||p!==zo))throw Tm=k2,JR;f.flags|=8192}}function Ix(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?V1():536870912,f.lanes|=p,vp|=p)}function Vm(f,p){if(!zn)switch(f.tailMode){case"hidden":p=f.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?f.tail=null:g.sibling=null;break;case"collapsed":g=f.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function ba(f){var p=f.alternate!==null&&f.alternate.child===f.child,g=0,w=0;if(p)for(var N=f.child;N!==null;)g|=N.lanes|N.childLanes,w|=N.subtreeFlags&31457280,w|=N.flags&31457280,N.return=f,N=N.sibling;else for(N=f.child;N!==null;)g|=N.lanes|N.childLanes,w|=N.subtreeFlags,w|=N.flags,N.return=f,N=N.sibling;return f.subtreeFlags|=w,f.childLanes=g,p}function QX(f,p,g){var w=p.pendingProps;switch(x2(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ba(p),null;case 1:return ba(p),null;case 3:return g=p.stateNode,w=null,f!==null&&(w=f.memoizedState.cache),p.memoizedState.cache!==w&&(p.flags|=2048),Pc(dr),$e(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(f===null||f.child===null)&&(_m(p)?Lc(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,io!==null&&(_A(io),io=null))),ba(p),null;case 26:return g=p.memoizedState,f===null?(Lc(p),g!==null?(ba(p),$4(p,g)):(ba(p),p.flags&=-16777217)):g?g!==f.memoizedState?(Lc(p),ba(p),$4(p,g)):(ba(p),p.flags&=-16777217):(f.memoizedProps!==w&&Lc(p),ba(p),p.flags&=-16777217),null;case 27:Ve(p),g=Y.current;var N=p.type;if(f!==null&&p.stateNode!=null)f.memoizedProps!==w&&Lc(p);else{if(!w){if(p.stateNode===null)throw Error(a(166));return ba(p),null}f=ae.current,_m(p)?ZR(p):(f=dF(N,w,g),p.stateNode=f,Lc(p))}return ba(p),null;case 5:if(Ve(p),g=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==w&&Lc(p);else{if(!w){if(p.stateNode===null)throw Error(a(166));return ba(p),null}if(f=ae.current,_m(p))ZR(p);else{switch(N=Gx(Y.current),f){case 1:f=N.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:f=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":f=N.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":f=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":f=N.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof w.is=="string"?N.createElement("select",{is:w.is}):N.createElement("select"),w.multiple?f.multiple=!0:w.size&&(f.size=w.size);break;default:f=typeof w.is=="string"?N.createElement(g,{is:w.is}):N.createElement(g)}}f[ne]=p,f[re]=w;e:for(N=p.child;N!==null;){if(N.tag===5||N.tag===6)f.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===p)break e;for(;N.sibling===null;){if(N.return===null||N.return===p)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}p.stateNode=f;e:switch(Ur(f,g,w),g){case"button":case"input":case"select":case"textarea":f=!!w.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Lc(p)}}return ba(p),p.flags&=-16777217,null;case 6:if(f&&p.stateNode!=null)f.memoizedProps!==w&&Lc(p);else{if(typeof w!="string"&&p.stateNode===null)throw Error(a(166));if(f=Y.current,_m(p)){if(f=p.stateNode,g=p.memoizedProps,w=null,N=ks,N!==null)switch(N.tag){case 27:case 5:w=N.memoizedProps}f[ne]=p,f=!!(f.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||iF(f.nodeValue,g)),f||Ju(p)}else f=Gx(f).createTextNode(w),f[ne]=p,p.stateNode=f}return ba(p),null;case 13:if(w=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(N=_m(p),w!==null&&w.dehydrated!==null){if(f===null){if(!N)throw Error(a(318));if(N=p.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(a(317));N[ne]=p}else Am(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ba(p),N=!1}else io!==null&&(_A(io),io=null),N=!0;if(!N)return p.flags&256?(Cc(p),p):(Cc(p),null)}if(Cc(p),(p.flags&128)!==0)return p.lanes=g,p;if(g=w!==null,f=f!==null&&f.memoizedState!==null,g){w=p.child,N=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(N=w.alternate.memoizedState.cachePool.pool);var T=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(T=w.memoizedState.cachePool.pool),T!==N&&(w.flags|=2048)}return g!==f&&g&&(p.child.flags|=8192),Ix(p,p.updateQueue),ba(p),null;case 4:return $e(),f===null&&FA(p.stateNode.containerInfo),ba(p),null;case 10:return Pc(p.type),ba(p),null;case 19:if(te(fr),N=p.memoizedState,N===null)return ba(p),null;if(w=(p.flags&128)!==0,T=N.rendering,T===null)if(w)Vm(N,!1);else{if(Pa!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(T=px(f),T!==null){for(p.flags|=128,Vm(N,!1),f=T.updateQueue,p.updateQueue=f,Ix(p,f),p.subtreeFlags=0,f=g,g=p.child;g!==null;)F4(g,f),g=g.sibling;return ee(fr,fr.current&1|2),p.child}f=f.sibling}N.tail!==null&&Be()>Dx&&(p.flags|=128,w=!0,Vm(N,!1),p.lanes=4194304)}else{if(!w)if(f=px(T),f!==null){if(p.flags|=128,w=!0,f=f.updateQueue,p.updateQueue=f,Ix(p,f),Vm(N,!0),N.tail===null&&N.tailMode==="hidden"&&!T.alternate&&!zn)return ba(p),null}else 2*Be()-N.renderingStartTime>Dx&&g!==536870912&&(p.flags|=128,w=!0,Vm(N,!1),p.lanes=4194304);N.isBackwards?(T.sibling=p.child,p.child=T):(f=N.last,f!==null?f.sibling=T:p.child=T,N.last=T)}return N.tail!==null?(p=N.tail,N.rendering=p,N.tail=p.sibling,N.renderingStartTime=Be(),p.sibling=null,f=fr.current,ee(fr,w?f&1|2:f&1),p):(ba(p),null);case 22:case 23:return Cc(p),b2(),w=p.memoizedState!==null,f!==null?f.memoizedState!==null!==w&&(p.flags|=8192):w&&(p.flags|=8192),w?(g&536870912)!==0&&(p.flags&128)===0&&(ba(p),p.subtreeFlags&6&&(p.flags|=8192)):ba(p),g=p.updateQueue,g!==null&&Ix(p,g.retryQueue),g=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==g&&(p.flags|=2048),f!==null&&te(tf),null;case 24:return g=null,f!==null&&(g=f.memoizedState.cache),p.memoizedState.cache!==g&&(p.flags|=2048),Pc(dr),ba(p),null;case 25:return null}throw Error(a(156,p.tag))}function JX(f,p){switch(x2(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Pc(dr),$e(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return Ve(p),null;case 13:if(Cc(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(a(340));Am()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return te(fr),null;case 4:return $e(),null;case 10:return Pc(p.type),null;case 22:case 23:return Cc(p),b2(),f!==null&&te(tf),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return Pc(dr),null;case 25:return null;default:return null}}function L4(f,p){switch(x2(p),p.tag){case 3:Pc(dr),$e();break;case 26:case 27:case 5:Ve(p);break;case 4:$e();break;case 13:Cc(p);break;case 19:te(fr);break;case 10:Pc(p.type);break;case 22:case 23:Cc(p),b2(),f!==null&&te(tf);break;case 24:Pc(dr)}}var eY={getCacheForType:function(f){var p=Yr(dr),g=p.data.get(f);return g===void 0&&(g=f(),p.data.set(f,g)),g}},tY=typeof WeakMap=="function"?WeakMap:Map,_a=0,la=null,Nn=null,On=0,ua=0,ai=null,Mc=!1,xp=!1,gA=!1,Bc=0,Pa=0,Ul=0,ff=0,yA=0,Ci=0,vp=0,jm=null,Uo=null,xA=!1,vA=0,Dx=1/0,Rx=null,Wl=null,Px=!1,df=null,Hm=0,kA=0,wA=null,Km=0,bA=null;function ri(){if((_a&2)!==0&&On!==0)return On&-On;if(I.T!==null){var f=up;return f!==0?f:IA()}return K1()}function M4(){Ci===0&&(Ci=(On&536870912)===0||zn?W1():536870912);var f=Ni.current;return f!==null&&(f.flags|=32),Ci}function ws(f,p,g){(f===la&&ua===2||f.cancelPendingCommit!==null)&&(kp(f,0),zc(f,On,Ci,!1)),Hu(f,g),((_a&2)===0||f!==la)&&(f===la&&((_a&2)===0&&(ff|=g),Pa===4&&zc(f,On,Ci,!1)),Wo(f))}function B4(f,p,g){if((_a&6)!==0)throw Error(a(327));var w=!g&&(p&60)===0&&(p&f.expiredLanes)===0||ju(f,p),N=w?rY(f,p):SA(f,p,!0),T=w;do{if(N===0){xp&&!w&&zc(f,p,0,!1);break}else if(N===6)zc(f,p,0,!Mc);else{if(g=f.current.alternate,T&&!nY(g)){N=SA(f,p,!1),T=!1;continue}if(N===2){if(T=p,f.errorRecoveryDisabledLanes&T)var z=0;else z=f.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){p=z;e:{var Q=f;N=jm;var de=Q.current.memoizedState.isDehydrated;if(de&&(kp(Q,z).flags|=256),z=SA(Q,z,!1),z!==2){if(gA&&!de){Q.errorRecoveryDisabledLanes|=T,ff|=T,N=4;break e}T=Uo,Uo=N,T!==null&&_A(T)}N=z}if(T=!1,N!==2)continue}}if(N===1){kp(f,0),zc(f,p,0,!0);break}e:{switch(w=f,N){case 0:case 1:throw Error(a(345));case 4:if((p&4194176)===p){zc(w,p,Ci,!Mc);break e}break;case 2:Uo=null;break;case 3:case 5:break;default:throw Error(a(329))}if(w.finishedWork=g,w.finishedLanes=p,(p&62914560)===p&&(T=vA+300-Be(),10<T)){if(zc(w,p,Ci,!Mc),Xd(w,0)!==0)break e;w.timeoutHandle=lF(z4.bind(null,w,g,Uo,Rx,xA,p,Ci,ff,vp,Mc,2,-0,0),T);break e}z4(w,g,Uo,Rx,xA,p,Ci,ff,vp,Mc,0,-0,0)}}break}while(!0);Wo(f)}function _A(f){Uo===null?Uo=f:Uo.push.apply(Uo,f)}function z4(f,p,g,w,N,T,z,Q,de,_e,We,Ze,Le){var Ue=p.subtreeFlags;if((Ue&8192||(Ue&16785408)===16785408)&&(Jm={stylesheets:null,count:0,unsuspend:LY},I4(p),p=BY(),p!==null)){f.cancelPendingCommit=p(K4.bind(null,f,g,w,N,z,Q,de,1,Ze,Le)),zc(f,T,z,!_e);return}K4(f,g,w,N,z,Q,de,We,Ze,Le)}function nY(f){for(var p=f;;){var g=p.tag;if((g===0||g===11||g===15)&&p.flags&16384&&(g=p.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var N=g[w],T=N.getSnapshot;N=N.value;try{if(!ei(T(),N))return!1}catch{return!1}}if(g=p.child,p.subtreeFlags&16384&&g!==null)g.return=p,p=g;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function zc(f,p,g,w){p&=~yA,p&=~ff,f.suspendedLanes|=p,f.pingedLanes&=~p,w&&(f.warmLanes|=p),w=f.expirationTimes;for(var N=p;0<N;){var T=31-Da(N),z=1<<T;w[T]=-1,N&=~z}g!==0&&Yd(f,g,p)}function Fx(){return(_a&6)===0?(qm(0),!1):!0}function AA(){if(Nn!==null){if(ua===0)var f=Nn.return;else f=Nn,Rc=of=null,I2(f),cp=null,Em=0,f=Nn;for(;f!==null;)L4(f.alternate,f),f=f.return;Nn=null}}function kp(f,p){f.finishedWork=null,f.finishedLanes=0;var g=f.timeoutHandle;g!==-1&&(f.timeoutHandle=-1,wY(g)),g=f.cancelPendingCommit,g!==null&&(f.cancelPendingCommit=null,g()),AA(),la=f,Nn=g=Gl(f.current,null),On=p,ua=0,ai=null,Mc=!1,xp=ju(f,p),gA=!1,vp=Ci=yA=ff=Ul=Pa=0,Uo=jm=null,xA=!1,(p&8)!==0&&(p|=p&32);var w=f.entangledLanes;if(w!==0)for(f=f.entanglements,w&=p;0<w;){var N=31-Da(w),T=1<<N;p|=f[N],w&=~T}return Bc=p,rx(),g}function G4(f,p){vn=null,I.H=Go,p===Sm?(p=nP(),ua=3):p===JR?(p=nP(),ua=4):ua=p===e4?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,ai=p,Nn===null&&(Pa=1,Ax(f,bi(p,f.current)))}function U4(){var f=I.H;return I.H=Go,f===null?Go:f}function W4(){var f=I.A;return I.A=eY,f}function NA(){Pa=4,Mc||(On&4194176)!==On&&Ni.current!==null||(xp=!0),(Ul&134217727)===0&&(ff&134217727)===0||la===null||zc(la,On,Ci,!1)}function SA(f,p,g){var w=_a;_a|=2;var N=U4(),T=W4();(la!==f||On!==p)&&(Rx=null,kp(f,p)),p=!1;var z=Pa;e:do try{if(ua!==0&&Nn!==null){var Q=Nn,de=ai;switch(ua){case 8:AA(),z=6;break e;case 3:case 2:case 6:Ni.current===null&&(p=!0);var _e=ua;if(ua=0,ai=null,wp(f,Q,de,_e),g&&xp){z=0;break e}break;default:_e=ua,ua=0,ai=null,wp(f,Q,de,_e)}}aY(),z=Pa;break}catch(We){G4(f,We)}while(!0);return p&&f.shellSuspendCounter++,Rc=of=null,_a=w,I.H=N,I.A=T,Nn===null&&(la=null,On=0,rx()),z}function aY(){for(;Nn!==null;)V4(Nn)}function rY(f,p){var g=_a;_a|=2;var w=U4(),N=W4();la!==f||On!==p?(Rx=null,Dx=Be()+500,kp(f,p)):xp=ju(f,p);e:do try{if(ua!==0&&Nn!==null){p=Nn;var T=ai;t:switch(ua){case 1:ua=0,ai=null,wp(f,p,T,1);break;case 2:if(eP(T)){ua=0,ai=null,j4(p);break}p=function(){ua===2&&la===f&&(ua=7),Wo(f)},T.then(p,p);break e;case 3:ua=7;break e;case 4:ua=5;break e;case 7:eP(T)?(ua=0,ai=null,j4(p)):(ua=0,ai=null,wp(f,p,T,7));break;case 5:var z=null;switch(Nn.tag){case 26:z=Nn.memoizedState;case 5:case 27:var Q=Nn;if(!z||kF(z)){ua=0,ai=null;var de=Q.sibling;if(de!==null)Nn=de;else{var _e=Q.return;_e!==null?(Nn=_e,Ox(_e)):Nn=null}break t}}ua=0,ai=null,wp(f,p,T,5);break;case 6:ua=0,ai=null,wp(f,p,T,6);break;case 8:AA(),Pa=6;break e;default:throw Error(a(462))}}sY();break}catch(We){G4(f,We)}while(!0);return Rc=of=null,I.H=w,I.A=N,_a=g,Nn!==null?0:(la=null,On=0,rx(),Pa)}function sY(){for(;Nn!==null&&!$t();)V4(Nn)}function V4(f){var p=d4(f.alternate,f,Bc);f.memoizedProps=f.pendingProps,p===null?Ox(f):Nn=p}function j4(f){var p=f,g=p.alternate;switch(p.tag){case 15:case 0:p=i4(g,p,p.pendingProps,p.type,void 0,On);break;case 11:p=i4(g,p,p.pendingProps,p.type.render,p.ref,On);break;case 5:I2(p);default:L4(g,p),p=Nn=F4(p,Bc),p=d4(g,p,Bc)}f.memoizedProps=f.pendingProps,p===null?Ox(f):Nn=p}function wp(f,p,g,w){Rc=of=null,I2(p),cp=null,Em=0;var N=p.return;try{if(KX(f,N,p,g,On)){Pa=1,Ax(f,bi(g,f.current)),Nn=null;return}}catch(T){if(N!==null)throw Nn=N,T;Pa=1,Ax(f,bi(g,f.current)),Nn=null;return}p.flags&32768?(zn||w===1?f=!0:xp||(On&536870912)!==0?f=!1:(Mc=f=!0,(w===2||w===3||w===6)&&(w=Ni.current,w!==null&&w.tag===13&&(w.flags|=16384))),H4(p,f)):Ox(p)}function Ox(f){var p=f;do{if((p.flags&32768)!==0){H4(p,Mc);return}f=p.return;var g=QX(p.alternate,p,Bc);if(g!==null){Nn=g;return}if(p=p.sibling,p!==null){Nn=p;return}Nn=p=f}while(p!==null);Pa===0&&(Pa=5)}function H4(f,p){do{var g=JX(f.alternate,f);if(g!==null){g.flags&=32767,Nn=g;return}if(g=f.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!p&&(f=f.sibling,f!==null)){Nn=f;return}Nn=f=g}while(f!==null);Pa=6,Nn=null}function K4(f,p,g,w,N,T,z,Q,de,_e){var We=I.T,Ze=ie.p;try{ie.p=2,I.T=null,iY(f,p,g,w,Ze,N,T,z,Q,de,_e)}finally{I.T=We,ie.p=Ze}}function iY(f,p,g,w,N,T,z,Q){do bp();while(df!==null);if((_a&6)!==0)throw Error(a(327));var de=f.finishedWork;if(w=f.finishedLanes,de===null)return null;if(f.finishedWork=null,f.finishedLanes=0,de===f.current)throw Error(a(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var _e=de.lanes|de.childLanes;if(_e|=m2,X_(f,w,_e,T,z,Q),f===la&&(Nn=la=null,On=0),(de.subtreeFlags&10256)===0&&(de.flags&10256)===0||Px||(Px=!0,kA=_e,wA=g,uY(Rt,function(){return bp(),null})),g=(de.flags&15990)!==0,(de.subtreeFlags&15990)!==0||g?(g=I.T,I.T=null,T=ie.p,ie.p=2,z=_a,_a|=4,XX(f,de),T4(de,f),IX(MA,f.containerInfo),Kx=!!LA,MA=LA=null,f.current=de,_4(f,de.alternate,de),st(),_a=z,ie.p=T,I.T=g):f.current=de,Px?(Px=!1,df=f,Hm=w):q4(f,_e),_e=f.pendingLanes,_e===0&&(Wl=null),ur(de.stateNode),Wo(f),p!==null)for(N=f.onRecoverableError,de=0;de<p.length;de++)_e=p[de],N(_e.value,{componentStack:_e.stack});return(Hm&3)!==0&&bp(),_e=f.pendingLanes,(w&4194218)!==0&&(_e&42)!==0?f===bA?Km++:(Km=0,bA=f):Km=0,qm(0),null}function q4(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,Im(p)))}function bp(){if(df!==null){var f=df,p=kA;kA=0;var g=H1(Hm),w=I.T,N=ie.p;try{if(ie.p=32>g?32:g,I.T=null,df===null)var T=!1;else{g=wA,wA=null;var z=df,Q=Hm;if(df=null,Hm=0,(_a&6)!==0)throw Error(a(331));var de=_a;if(_a|=4,R4(z.current),C4(z,z.current,Q,g),_a=de,qm(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Xt,z)}catch{}T=!0}return T}finally{ie.p=N,I.T=w,q4(f,p)}}return!1}function X4(f,p,g){p=bi(g,p),p=V2(f.stateNode,p,2),f=Ll(f,p,2),f!==null&&(Hu(f,2),Wo(f))}function ra(f,p,g){if(f.tag===3)X4(f,f,g);else for(;p!==null;){if(p.tag===3){X4(p,f,g);break}else if(p.tag===1){var w=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Wl===null||!Wl.has(w))){f=bi(g,f),g=QP(2),w=Ll(p,g,2),w!==null&&(JP(g,w,p,f),Hu(w,2),Wo(w));break}}p=p.return}}function TA(f,p,g){var w=f.pingCache;if(w===null){w=f.pingCache=new tY;var N=new Set;w.set(p,N)}else N=w.get(p),N===void 0&&(N=new Set,w.set(p,N));N.has(g)||(gA=!0,N.add(g),f=oY.bind(null,f,p,g),p.then(f,f))}function oY(f,p,g){var w=f.pingCache;w!==null&&w.delete(p),f.pingedLanes|=f.suspendedLanes&g,f.warmLanes&=~g,la===f&&(On&g)===g&&(Pa===4||Pa===3&&(On&62914560)===On&&300>Be()-vA?(_a&2)===0&&kp(f,0):yA|=g,vp===On&&(vp=0)),Wo(f)}function Y4(f,p){p===0&&(p=V1()),f=Cl(f,p),f!==null&&(Hu(f,p),Wo(f))}function cY(f){var p=f.memoizedState,g=0;p!==null&&(g=p.retryLane),Y4(f,g)}function lY(f,p){var g=0;switch(f.tag){case 13:var w=f.stateNode,N=f.memoizedState;N!==null&&(g=N.retryLane);break;case 19:w=f.stateNode;break;case 22:w=f.stateNode._retryCache;break;default:throw Error(a(314))}w!==null&&w.delete(p),Y4(f,g)}function uY(f,p){return lt(f,p)}var $x=null,_p=null,EA=!1,Lx=!1,CA=!1,pf=0;function Wo(f){f!==_p&&f.next===null&&(_p===null?$x=_p=f:_p=_p.next=f),Lx=!0,EA||(EA=!0,dY(fY))}function qm(f,p){if(!CA&&Lx){CA=!0;do for(var g=!1,w=$x;w!==null;){if(f!==0){var N=w.pendingLanes;if(N===0)var T=0;else{var z=w.suspendedLanes,Q=w.pingedLanes;T=(1<<31-Da(42|f)+1)-1,T&=N&~(z&~Q),T=T&201326677?T&201326677|1:T?T|2:0}T!==0&&(g=!0,J4(w,T))}else T=On,T=Xd(w,w===la?T:0),(T&3)===0||ju(w,T)||(g=!0,J4(w,T));w=w.next}while(g);CA=!1}}function fY(){Lx=EA=!1;var f=0;pf!==0&&(kY()&&(f=pf),pf=0);for(var p=Be(),g=null,w=$x;w!==null;){var N=w.next,T=Z4(w,p);T===0?(w.next=null,g===null?$x=N:g.next=N,N===null&&(_p=g)):(g=w,(f!==0||(T&3)!==0)&&(Lx=!0)),w=N}qm(f)}function Z4(f,p){for(var g=f.suspendedLanes,w=f.pingedLanes,N=f.expirationTimes,T=f.pendingLanes&-62914561;0<T;){var z=31-Da(T),Q=1<<z,de=N[z];de===-1?((Q&g)===0||(Q&w)!==0)&&(N[z]=q_(Q,p)):de<=p&&(f.expiredLanes|=Q),T&=~Q}if(p=la,g=On,g=Xd(f,f===p?g:0),w=f.callbackNode,g===0||f===p&&ua===2||f.cancelPendingCommit!==null)return w!==null&&w!==null&&zt(w),f.callbackNode=null,f.callbackPriority=0;if((g&3)===0||ju(f,g)){if(p=g&-g,p===f.callbackPriority)return p;switch(w!==null&&zt(w),H1(g)){case 2:case 8:g=Bt;break;case 32:g=Rt;break;case 268435456:g=Bn;break;default:g=Rt}return w=Q4.bind(null,f),g=lt(g,w),f.callbackPriority=p,f.callbackNode=g,p}return w!==null&&w!==null&&zt(w),f.callbackPriority=2,f.callbackNode=null,2}function Q4(f,p){var g=f.callbackNode;if(bp()&&f.callbackNode!==g)return null;var w=On;return w=Xd(f,f===la?w:0),w===0?null:(B4(f,w,p),Z4(f,Be()),f.callbackNode!=null&&f.callbackNode===g?Q4.bind(null,f):null)}function J4(f,p){if(bp())return null;B4(f,p,!0)}function dY(f){bY(function(){(_a&6)!==0?lt(Dt,f):f()})}function IA(){return pf===0&&(pf=W1()),pf}function eF(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Z1(""+f)}function tF(f,p){var g=p.ownerDocument.createElement("input");return g.name=p.name,g.value=p.value,f.id&&g.setAttribute("form",f.id),p.parentNode.insertBefore(g,p),f=new FormData(f),g.parentNode.removeChild(g),f}function pY(f,p,g,w,N){if(p==="submit"&&g&&g.stateNode===N){var T=eF((N[re]||null).action),z=w.submitter;z&&(p=(p=z[re]||null)?eF(p.formAction):z.getAttribute("formAction"),p!==null&&(T=p,z=null));var Q=new tx("action","action",null,w,N);f.push({event:Q,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(pf!==0){var de=z?tF(N,z):new FormData(N);B2(g,{pending:!0,data:de,method:N.method,action:T},null,de)}}else typeof T=="function"&&(Q.preventDefault(),de=z?tF(N,z):new FormData(N),B2(g,{pending:!0,data:de,method:N.method,action:T},T,de))},currentTarget:N}]})}}for(var DA=0;DA<KR.length;DA++){var RA=KR[DA],hY=RA.toLowerCase(),mY=RA[0].toUpperCase()+RA.slice(1);so(hY,"on"+mY)}so(UR,"onAnimationEnd"),so(WR,"onAnimationIteration"),so(VR,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(RX,"onTransitionRun"),so(PX,"onTransitionStart"),so(FX,"onTransitionCancel"),so(jR,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xm));function nF(f,p){p=(p&4)!==0;for(var g=0;g<f.length;g++){var w=f[g],N=w.event;w=w.listeners;e:{var T=void 0;if(p)for(var z=w.length-1;0<=z;z--){var Q=w[z],de=Q.instance,_e=Q.currentTarget;if(Q=Q.listener,de!==T&&N.isPropagationStopped())break e;T=Q,N.currentTarget=_e;try{T(N)}catch(We){_x(We)}N.currentTarget=null,T=de}else for(z=0;z<w.length;z++){if(Q=w[z],de=Q.instance,_e=Q.currentTarget,Q=Q.listener,de!==T&&N.isPropagationStopped())break e;T=Q,N.currentTarget=_e;try{T(N)}catch(We){_x(We)}N.currentTarget=null,T=de}}}}function Rn(f,p){var g=p[fe];g===void 0&&(g=p[fe]=new Set);var w=f+"__bubble";g.has(w)||(aF(p,f,2,!1),g.add(w))}function PA(f,p,g){var w=0;p&&(w|=4),aF(g,f,w,p)}var Mx="_reactListening"+Math.random().toString(36).slice(2);function FA(f){if(!f[Mx]){f[Mx]=!0,Kt.forEach(function(g){g!=="selectionchange"&&(gY.has(g)||PA(g,!1,f),PA(g,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[Mx]||(p[Mx]=!0,PA("selectionchange",!1,p))}}function aF(f,p,g,w){switch(SF(p)){case 2:var N=UY;break;case 8:N=WY;break;default:N=KA}g=N.bind(null,p,g,f),N=void 0,!n2||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(N=!0),w?N!==void 0?f.addEventListener(p,g,{capture:!0,passive:N}):f.addEventListener(p,g,!0):N!==void 0?f.addEventListener(p,g,{passive:N}):f.addEventListener(p,g,!1)}function OA(f,p,g,w,N){var T=w;if((p&1)===0&&(p&2)===0&&w!==null)e:for(;;){if(w===null)return;var z=w.tag;if(z===3||z===4){var Q=w.stateNode.containerInfo;if(Q===N||Q.nodeType===8&&Q.parentNode===N)break;if(z===4)for(z=w.return;z!==null;){var de=z.tag;if((de===3||de===4)&&(de=z.stateNode.containerInfo,de===N||de.nodeType===8&&de.parentNode===N))return;z=z.return}for(;Q!==null;){if(z=Qe(Q),z===null)return;if(de=z.tag,de===5||de===6||de===26||de===27){w=T=z;continue e}Q=Q.parentNode}}w=w.return}xR(function(){var _e=T,We=e2(g),Ze=[];e:{var Le=HR.get(f);if(Le!==void 0){var Ue=tx,Et=f;switch(f){case"keypress":if(J1(g)===0)break e;case"keydown":case"keyup":Ue=lX;break;case"focusin":Et="focus",Ue=i2;break;case"focusout":Et="blur",Ue=i2;break;case"beforeblur":case"afterblur":Ue=i2;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=wR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=Zq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=dX;break;case UR:case WR:case VR:Ue=eX;break;case jR:Ue=hX;break;case"scroll":case"scrollend":Ue=Xq;break;case"wheel":Ue=gX;break;case"copy":case"cut":case"paste":Ue=nX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=_R;break;case"toggle":case"beforetoggle":Ue=xX}var Jt=(p&4)!==0,Fa=!Jt&&(f==="scroll"||f==="scrollend"),Se=Jt?Le!==null?Le+"Capture":null:Le;Jt=[];for(var we=_e,Ie;we!==null;){var Ke=we;if(Ie=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Ie===null||Se===null||(Ke=hm(we,Se),Ke!=null&&Jt.push(Ym(we,Ke,Ie))),Fa)break;we=we.return}0<Jt.length&&(Le=new Ue(Le,Et,null,g,We),Ze.push({event:Le,listeners:Jt}))}}if((p&7)===0){e:{if(Le=f==="mouseover"||f==="pointerover",Ue=f==="mouseout"||f==="pointerout",Le&&g!==J_&&(Et=g.relatedTarget||g.fromElement)&&(Qe(Et)||Et[ce]))break e;if((Ue||Le)&&(Le=We.window===We?We:(Le=We.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ue?(Et=g.relatedTarget||g.toElement,Ue=_e,Et=Et?Qe(Et):null,Et!==null&&(Fa=q(Et),Jt=Et.tag,Et!==Fa||Jt!==5&&Jt!==27&&Jt!==6)&&(Et=null)):(Ue=null,Et=_e),Ue!==Et)){if(Jt=wR,Ke="onMouseLeave",Se="onMouseEnter",we="mouse",(f==="pointerout"||f==="pointerover")&&(Jt=_R,Ke="onPointerLeave",Se="onPointerEnter",we="pointer"),Fa=Ue==null?Le:pt(Ue),Ie=Et==null?Le:pt(Et),Le=new Jt(Ke,we+"leave",Ue,g,We),Le.target=Fa,Le.relatedTarget=Ie,Ke=null,Qe(We)===_e&&(Jt=new Jt(Se,we+"enter",Et,g,We),Jt.target=Ie,Jt.relatedTarget=Fa,Ke=Jt),Fa=Ke,Ue&&Et)t:{for(Jt=Ue,Se=Et,we=0,Ie=Jt;Ie;Ie=Ap(Ie))we++;for(Ie=0,Ke=Se;Ke;Ke=Ap(Ke))Ie++;for(;0<we-Ie;)Jt=Ap(Jt),we--;for(;0<Ie-we;)Se=Ap(Se),Ie--;for(;we--;){if(Jt===Se||Se!==null&&Jt===Se.alternate)break t;Jt=Ap(Jt),Se=Ap(Se)}Jt=null}else Jt=null;Ue!==null&&rF(Ze,Le,Ue,Jt,!1),Et!==null&&Fa!==null&&rF(Ze,Fa,Et,Jt,!0)}}e:{if(Le=_e?pt(_e):window,Ue=Le.nodeName&&Le.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Le.type==="file")var kt=DR;else if(CR(Le))if(RR)kt=EX;else{kt=SX;var wn=NX}else Ue=Le.nodeName,!Ue||Ue.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?_e&&Q_(_e.elementType)&&(kt=DR):kt=TX;if(kt&&(kt=kt(f,_e))){IR(Ze,kt,g,We);break e}wn&&wn(f,Le,_e),f==="focusout"&&_e&&Le.type==="number"&&_e.memoizedProps.value!=null&&Z_(Le,"number",Le.value)}switch(wn=_e?pt(_e):window,f){case"focusin":(CR(wn)||wn.contentEditable==="true")&&(np=wn,d2=_e,bm=null);break;case"focusout":bm=d2=np=null;break;case"mousedown":p2=!0;break;case"contextmenu":case"mouseup":case"dragend":p2=!1,zR(Ze,g,We);break;case"selectionchange":if(DX)break;case"keydown":case"keyup":zR(Ze,g,We)}var Lt;if(c2)e:{switch(f){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else tp?TR(f,g)&&(Gt="onCompositionEnd"):f==="keydown"&&g.keyCode===229&&(Gt="onCompositionStart");Gt&&(AR&&g.locale!=="ko"&&(tp||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&tp&&(Lt=vR()):(El=We,a2="value"in El?El.value:El.textContent,tp=!0)),wn=Bx(_e,Gt),0<wn.length&&(Gt=new bR(Gt,f,null,g,We),Ze.push({event:Gt,listeners:wn}),Lt?Gt.data=Lt:(Lt=ER(g),Lt!==null&&(Gt.data=Lt)))),(Lt=kX?wX(f,g):bX(f,g))&&(Gt=Bx(_e,"onBeforeInput"),0<Gt.length&&(wn=new bR("onBeforeInput","beforeinput",null,g,We),Ze.push({event:wn,listeners:Gt}),wn.data=Lt)),pY(Ze,f,_e,g,We)}nF(Ze,p)})}function Ym(f,p,g){return{instance:f,listener:p,currentTarget:g}}function Bx(f,p){for(var g=p+"Capture",w=[];f!==null;){var N=f,T=N.stateNode;N=N.tag,N!==5&&N!==26&&N!==27||T===null||(N=hm(f,g),N!=null&&w.unshift(Ym(f,N,T)),N=hm(f,p),N!=null&&w.push(Ym(f,N,T))),f=f.return}return w}function Ap(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function rF(f,p,g,w,N){for(var T=p._reactName,z=[];g!==null&&g!==w;){var Q=g,de=Q.alternate,_e=Q.stateNode;if(Q=Q.tag,de!==null&&de===w)break;Q!==5&&Q!==26&&Q!==27||_e===null||(de=_e,N?(_e=hm(g,T),_e!=null&&z.unshift(Ym(g,_e,de))):N||(_e=hm(g,T),_e!=null&&z.push(Ym(g,_e,de)))),g=g.return}z.length!==0&&f.push({event:p,listeners:z})}var yY=/\r\n?/g,xY=/\u0000|\uFFFD/g;function sF(f){return(typeof f=="string"?f:""+f).replace(yY,`
`).replace(xY,"")}function iF(f,p){return p=sF(p),sF(f)===p}function zx(){}function ea(f,p,g,w,N,T){switch(g){case"children":typeof w=="string"?p==="body"||p==="textarea"&&w===""||Qd(f,w):(typeof w=="number"||typeof w=="bigint")&&p!=="body"&&Qd(f,""+w);break;case"className":q1(f,"class",w);break;case"tabIndex":q1(f,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":q1(f,g,w);break;case"style":gR(f,w,T);break;case"data":if(p!=="object"){q1(f,"data",w);break}case"src":case"href":if(w===""&&(p!=="a"||g!=="href")){f.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){f.removeAttribute(g);break}w=Z1(""+w),f.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){f.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(g==="formAction"?(p!=="input"&&ea(f,p,"name",N.name,N,null),ea(f,p,"formEncType",N.formEncType,N,null),ea(f,p,"formMethod",N.formMethod,N,null),ea(f,p,"formTarget",N.formTarget,N,null)):(ea(f,p,"encType",N.encType,N,null),ea(f,p,"method",N.method,N,null),ea(f,p,"target",N.target,N,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){f.removeAttribute(g);break}w=Z1(""+w),f.setAttribute(g,w);break;case"onClick":w!=null&&(f.onclick=zx);break;case"onScroll":w!=null&&Rn("scroll",f);break;case"onScrollEnd":w!=null&&Rn("scrollend",f);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(a(61));if(g=w.__html,g!=null){if(N.children!=null)throw Error(a(60));f.innerHTML=g}}break;case"multiple":f.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":f.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){f.removeAttribute("xlink:href");break}g=Z1(""+w),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?f.setAttribute(g,""+w):f.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?f.setAttribute(g,""):f.removeAttribute(g);break;case"capture":case"download":w===!0?f.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?f.setAttribute(g,w):f.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?f.setAttribute(g,w):f.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?f.removeAttribute(g):f.setAttribute(g,w);break;case"popover":Rn("beforetoggle",f),Rn("toggle",f),Fs(f,"popover",w);break;case"xlinkActuate":Sc(f,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Sc(f,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Sc(f,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Sc(f,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Sc(f,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Sc(f,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Sc(f,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Sc(f,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Sc(f,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Fs(f,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Kq.get(g)||g,Fs(f,g,w))}}function $A(f,p,g,w,N,T){switch(g){case"style":gR(f,w,T);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(a(61));if(g=w.__html,g!=null){if(N.children!=null)throw Error(a(60));f.innerHTML=g}}break;case"children":typeof w=="string"?Qd(f,w):(typeof w=="number"||typeof w=="bigint")&&Qd(f,""+w);break;case"onScroll":w!=null&&Rn("scroll",f);break;case"onScrollEnd":w!=null&&Rn("scrollend",f);break;case"onClick":w!=null&&(f.onclick=zx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(N=g.endsWith("Capture"),p=g.slice(2,N?g.length-7:void 0),T=f[re]||null,T=T!=null?T[g]:null,typeof T=="function"&&f.removeEventListener(p,T,N),typeof w=="function")){typeof T!="function"&&T!==null&&(g in f?f[g]=null:f.hasAttribute(g)&&f.removeAttribute(g)),f.addEventListener(p,w,N);break e}g in f?f[g]=w:w===!0?f.setAttribute(g,""):Fs(f,g,w)}}}function Ur(f,p,g){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rn("error",f),Rn("load",f);var w=!1,N=!1,T;for(T in g)if(g.hasOwnProperty(T)){var z=g[T];if(z!=null)switch(T){case"src":w=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:ea(f,p,T,z,g,null)}}N&&ea(f,p,"srcSet",g.srcSet,g,null),w&&ea(f,p,"src",g.src,g,null);return;case"input":Rn("invalid",f);var Q=T=z=N=null,de=null,_e=null;for(w in g)if(g.hasOwnProperty(w)){var We=g[w];if(We!=null)switch(w){case"name":N=We;break;case"type":z=We;break;case"checked":de=We;break;case"defaultChecked":_e=We;break;case"value":T=We;break;case"defaultValue":Q=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(a(137,p));break;default:ea(f,p,w,We,g,null)}}dR(f,T,Q,de,_e,z,N,!1),X1(f);return;case"select":Rn("invalid",f),w=z=T=null;for(N in g)if(g.hasOwnProperty(N)&&(Q=g[N],Q!=null))switch(N){case"value":T=Q;break;case"defaultValue":z=Q;break;case"multiple":w=Q;default:ea(f,p,N,Q,g,null)}p=T,g=z,f.multiple=!!w,p!=null?Zd(f,!!w,p,!1):g!=null&&Zd(f,!!w,g,!0);return;case"textarea":Rn("invalid",f),T=N=w=null;for(z in g)if(g.hasOwnProperty(z)&&(Q=g[z],Q!=null))switch(z){case"value":w=Q;break;case"defaultValue":N=Q;break;case"children":T=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(91));break;default:ea(f,p,z,Q,g,null)}hR(f,w,N,T),X1(f);return;case"option":for(de in g)if(g.hasOwnProperty(de)&&(w=g[de],w!=null))switch(de){case"selected":f.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:ea(f,p,de,w,g,null)}return;case"dialog":Rn("cancel",f),Rn("close",f);break;case"iframe":case"object":Rn("load",f);break;case"video":case"audio":for(w=0;w<Xm.length;w++)Rn(Xm[w],f);break;case"image":Rn("error",f),Rn("load",f);break;case"details":Rn("toggle",f);break;case"embed":case"source":case"link":Rn("error",f),Rn("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in g)if(g.hasOwnProperty(_e)&&(w=g[_e],w!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,p));default:ea(f,p,_e,w,g,null)}return;default:if(Q_(p)){for(We in g)g.hasOwnProperty(We)&&(w=g[We],w!==void 0&&$A(f,p,We,w,g,void 0));return}}for(Q in g)g.hasOwnProperty(Q)&&(w=g[Q],w!=null&&ea(f,p,Q,w,g,null))}function vY(f,p,g,w){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,T=null,z=null,Q=null,de=null,_e=null,We=null;for(Ue in g){var Ze=g[Ue];if(g.hasOwnProperty(Ue)&&Ze!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":de=Ze;default:w.hasOwnProperty(Ue)||ea(f,p,Ue,null,w,Ze)}}for(var Le in w){var Ue=w[Le];if(Ze=g[Le],w.hasOwnProperty(Le)&&(Ue!=null||Ze!=null))switch(Le){case"type":T=Ue;break;case"name":N=Ue;break;case"checked":_e=Ue;break;case"defaultChecked":We=Ue;break;case"value":z=Ue;break;case"defaultValue":Q=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(a(137,p));break;default:Ue!==Ze&&ea(f,p,Le,Ue,w,Ze)}}Y_(f,z,Q,de,_e,We,T,N);return;case"select":Ue=z=Q=Le=null;for(T in g)if(de=g[T],g.hasOwnProperty(T)&&de!=null)switch(T){case"value":break;case"multiple":Ue=de;default:w.hasOwnProperty(T)||ea(f,p,T,null,w,de)}for(N in w)if(T=w[N],de=g[N],w.hasOwnProperty(N)&&(T!=null||de!=null))switch(N){case"value":Le=T;break;case"defaultValue":Q=T;break;case"multiple":z=T;default:T!==de&&ea(f,p,N,T,w,de)}p=Q,g=z,w=Ue,Le!=null?Zd(f,!!g,Le,!1):!!w!=!!g&&(p!=null?Zd(f,!!g,p,!0):Zd(f,!!g,g?[]:"",!1));return;case"textarea":Ue=Le=null;for(Q in g)if(N=g[Q],g.hasOwnProperty(Q)&&N!=null&&!w.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:ea(f,p,Q,null,w,N)}for(z in w)if(N=w[z],T=g[z],w.hasOwnProperty(z)&&(N!=null||T!=null))switch(z){case"value":Le=N;break;case"defaultValue":Ue=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:N!==T&&ea(f,p,z,N,w,T)}pR(f,Le,Ue);return;case"option":for(var Et in g)if(Le=g[Et],g.hasOwnProperty(Et)&&Le!=null&&!w.hasOwnProperty(Et))switch(Et){case"selected":f.selected=!1;break;default:ea(f,p,Et,null,w,Le)}for(de in w)if(Le=w[de],Ue=g[de],w.hasOwnProperty(de)&&Le!==Ue&&(Le!=null||Ue!=null))switch(de){case"selected":f.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:ea(f,p,de,Le,w,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in g)Le=g[Jt],g.hasOwnProperty(Jt)&&Le!=null&&!w.hasOwnProperty(Jt)&&ea(f,p,Jt,null,w,Le);for(_e in w)if(Le=w[_e],Ue=g[_e],w.hasOwnProperty(_e)&&Le!==Ue&&(Le!=null||Ue!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(a(137,p));break;default:ea(f,p,_e,Le,w,Ue)}return;default:if(Q_(p)){for(var Fa in g)Le=g[Fa],g.hasOwnProperty(Fa)&&Le!==void 0&&!w.hasOwnProperty(Fa)&&$A(f,p,Fa,void 0,w,Le);for(We in w)Le=w[We],Ue=g[We],!w.hasOwnProperty(We)||Le===Ue||Le===void 0&&Ue===void 0||$A(f,p,We,Le,w,Ue);return}}for(var Se in g)Le=g[Se],g.hasOwnProperty(Se)&&Le!=null&&!w.hasOwnProperty(Se)&&ea(f,p,Se,null,w,Le);for(Ze in w)Le=w[Ze],Ue=g[Ze],!w.hasOwnProperty(Ze)||Le===Ue||Le==null&&Ue==null||ea(f,p,Ze,Le,w,Ue)}var LA=null,MA=null;function Gx(f){return f.nodeType===9?f:f.ownerDocument}function oF(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cF(f,p){if(f===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&p==="foreignObject"?0:f}function BA(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var zA=null;function kY(){var f=window.event;return f&&f.type==="popstate"?f===zA?!1:(zA=f,!0):(zA=null,!1)}var lF=typeof setTimeout=="function"?setTimeout:void 0,wY=typeof clearTimeout=="function"?clearTimeout:void 0,uF=typeof Promise=="function"?Promise:void 0,bY=typeof queueMicrotask=="function"?queueMicrotask:typeof uF<"u"?function(f){return uF.resolve(null).then(f).catch(_Y)}:lF;function _Y(f){setTimeout(function(){throw f})}function GA(f,p){var g=p,w=0;do{var N=g.nextSibling;if(f.removeChild(g),N&&N.nodeType===8)if(g=N.data,g==="/$"){if(w===0){f.removeChild(N),r0(p);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=N}while(g);r0(p)}function UA(f){var p=f.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var g=p;switch(p=p.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":UA(g),Re(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}f.removeChild(g)}}function AY(f,p,g,w){for(;f.nodeType===1;){var N=g;if(f.nodeName.toLowerCase()!==p.toLowerCase()){if(!w&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(w){if(!f[Ee])switch(p){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(T=f.getAttribute("rel"),T==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(T!==N.rel||f.getAttribute("href")!==(N.href==null?null:N.href)||f.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||f.getAttribute("title")!==(N.title==null?null:N.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(T=f.getAttribute("src"),(T!==(N.src==null?null:N.src)||f.getAttribute("type")!==(N.type==null?null:N.type)||f.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&T&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(p==="input"&&f.type==="hidden"){var T=N.name==null?null:""+N.name;if(N.type==="hidden"&&f.getAttribute("name")===T)return f}else return f;if(f=co(f.nextSibling),f===null)break}return null}function NY(f,p,g){if(p==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!g||(f=co(f.nextSibling),f===null))return null;return f}function co(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return f}function fF(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var g=f.data;if(g==="$"||g==="$!"||g==="$?"){if(p===0)return f;p--}else g==="/$"&&p++}f=f.previousSibling}return null}function dF(f,p,g){switch(p=Gx(g),f){case"html":if(f=p.documentElement,!f)throw Error(a(452));return f;case"head":if(f=p.head,!f)throw Error(a(453));return f;case"body":if(f=p.body,!f)throw Error(a(454));return f;default:throw Error(a(451))}}var Ii=new Map,pF=new Set;function Ux(f){return typeof f.getRootNode=="function"?f.getRootNode():f.ownerDocument}var Gc=ie.d;ie.d={f:SY,r:TY,D:EY,C:CY,L:IY,m:DY,X:PY,S:RY,M:FY};function SY(){var f=Gc.f(),p=Fx();return f||p}function TY(f){var p=rt(f);p!==null&&p.tag===5&&p.type==="form"?zP(p):Gc.r(f)}var Np=typeof document>"u"?null:document;function hF(f,p,g){var w=Np;if(w&&typeof p=="string"&&p){var N=ki(p);N='link[rel="'+f+'"][href="'+N+'"]',typeof g=="string"&&(N+='[crossorigin="'+g+'"]'),pF.has(N)||(pF.add(N),f={rel:f,crossOrigin:g,href:p},w.querySelector(N)===null&&(p=w.createElement("link"),Ur(p,"link",f),et(p),w.head.appendChild(p)))}}function EY(f){Gc.D(f),hF("dns-prefetch",f,null)}function CY(f,p){Gc.C(f,p),hF("preconnect",f,p)}function IY(f,p,g){Gc.L(f,p,g);var w=Np;if(w&&f&&p){var N='link[rel="preload"][as="'+ki(p)+'"]';p==="image"&&g&&g.imageSrcSet?(N+='[imagesrcset="'+ki(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(N+='[imagesizes="'+ki(g.imageSizes)+'"]')):N+='[href="'+ki(f)+'"]';var T=N;switch(p){case"style":T=Sp(f);break;case"script":T=Tp(f)}Ii.has(T)||(f=P({rel:"preload",href:p==="image"&&g&&g.imageSrcSet?void 0:f,as:p},g),Ii.set(T,f),w.querySelector(N)!==null||p==="style"&&w.querySelector(Zm(T))||p==="script"&&w.querySelector(Qm(T))||(p=w.createElement("link"),Ur(p,"link",f),et(p),w.head.appendChild(p)))}}function DY(f,p){Gc.m(f,p);var g=Np;if(g&&f){var w=p&&typeof p.as=="string"?p.as:"script",N='link[rel="modulepreload"][as="'+ki(w)+'"][href="'+ki(f)+'"]',T=N;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Tp(f)}if(!Ii.has(T)&&(f=P({rel:"modulepreload",href:f},p),Ii.set(T,f),g.querySelector(N)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Qm(T)))return}w=g.createElement("link"),Ur(w,"link",f),et(w),g.head.appendChild(w)}}}function RY(f,p,g){Gc.S(f,p,g);var w=Np;if(w&&f){var N=Je(w).hoistableStyles,T=Sp(f);p=p||"default";var z=N.get(T);if(!z){var Q={loading:0,preload:null};if(z=w.querySelector(Zm(T)))Q.loading=5;else{f=P({rel:"stylesheet",href:f,"data-precedence":p},g),(g=Ii.get(T))&&WA(f,g);var de=z=w.createElement("link");et(de),Ur(de,"link",f),de._p=new Promise(function(_e,We){de.onload=_e,de.onerror=We}),de.addEventListener("load",function(){Q.loading|=1}),de.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Wx(z,p,w)}z={type:"stylesheet",instance:z,count:1,state:Q},N.set(T,z)}}}function PY(f,p){Gc.X(f,p);var g=Np;if(g&&f){var w=Je(g).hoistableScripts,N=Tp(f),T=w.get(N);T||(T=g.querySelector(Qm(N)),T||(f=P({src:f,async:!0},p),(p=Ii.get(N))&&VA(f,p),T=g.createElement("script"),et(T),Ur(T,"link",f),g.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},w.set(N,T))}}function FY(f,p){Gc.M(f,p);var g=Np;if(g&&f){var w=Je(g).hoistableScripts,N=Tp(f),T=w.get(N);T||(T=g.querySelector(Qm(N)),T||(f=P({src:f,async:!0,type:"module"},p),(p=Ii.get(N))&&VA(f,p),T=g.createElement("script"),et(T),Ur(T,"link",f),g.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},w.set(N,T))}}function mF(f,p,g,w){var N=(N=Y.current)?Ux(N):null;if(!N)throw Error(a(446));switch(f){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(p=Sp(g.href),g=Je(N).hoistableStyles,w=g.get(p),w||(w={type:"style",instance:null,count:0,state:null},g.set(p,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){f=Sp(g.href);var T=Je(N).hoistableStyles,z=T.get(f);if(z||(N=N.ownerDocument||N,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(f,z),(T=N.querySelector(Zm(f)))&&!T._p&&(z.instance=T,z.state.loading=5),Ii.has(f)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ii.set(f,g),T||OY(N,f,g,z.state))),p&&w===null)throw Error(a(528,""));return z}if(p&&w!==null)throw Error(a(529,""));return null;case"script":return p=g.async,g=g.src,typeof g=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Tp(g),g=Je(N).hoistableScripts,w=g.get(p),w||(w={type:"script",instance:null,count:0,state:null},g.set(p,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,f))}}function Sp(f){return'href="'+ki(f)+'"'}function Zm(f){return'link[rel="stylesheet"]['+f+"]"}function gF(f){return P({},f,{"data-precedence":f.precedence,precedence:null})}function OY(f,p,g,w){f.querySelector('link[rel="preload"][as="style"]['+p+"]")?w.loading=1:(p=f.createElement("link"),w.preload=p,p.addEventListener("load",function(){return w.loading|=1}),p.addEventListener("error",function(){return w.loading|=2}),Ur(p,"link",g),et(p),f.head.appendChild(p))}function Tp(f){return'[src="'+ki(f)+'"]'}function Qm(f){return"script[async]"+f}function yF(f,p,g){if(p.count++,p.instance===null)switch(p.type){case"style":var w=f.querySelector('style[data-href~="'+ki(g.href)+'"]');if(w)return p.instance=w,et(w),w;var N=P({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(f.ownerDocument||f).createElement("style"),et(w),Ur(w,"style",N),Wx(w,g.precedence,f),p.instance=w;case"stylesheet":N=Sp(g.href);var T=f.querySelector(Zm(N));if(T)return p.state.loading|=4,p.instance=T,et(T),T;w=gF(g),(N=Ii.get(N))&&WA(w,N),T=(f.ownerDocument||f).createElement("link"),et(T);var z=T;return z._p=new Promise(function(Q,de){z.onload=Q,z.onerror=de}),Ur(T,"link",w),p.state.loading|=4,Wx(T,g.precedence,f),p.instance=T;case"script":return T=Tp(g.src),(N=f.querySelector(Qm(T)))?(p.instance=N,et(N),N):(w=g,(N=Ii.get(T))&&(w=P({},g),VA(w,N)),f=f.ownerDocument||f,N=f.createElement("script"),et(N),Ur(N,"link",w),f.head.appendChild(N),p.instance=N);case"void":return null;default:throw Error(a(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(w=p.instance,p.state.loading|=4,Wx(w,g.precedence,f));return p.instance}function Wx(f,p,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=w.length?w[w.length-1]:null,T=N,z=0;z<w.length;z++){var Q=w[z];if(Q.dataset.precedence===p)T=Q;else if(T!==N)break}T?T.parentNode.insertBefore(f,T.nextSibling):(p=g.nodeType===9?g.head:g,p.insertBefore(f,p.firstChild))}function WA(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.title==null&&(f.title=p.title)}function VA(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.integrity==null&&(f.integrity=p.integrity)}var Vx=null;function xF(f,p,g){if(Vx===null){var w=new Map,N=Vx=new Map;N.set(g,w)}else N=Vx,w=N.get(g),w||(w=new Map,N.set(g,w));if(w.has(f))return w;for(w.set(f,null),g=g.getElementsByTagName(f),N=0;N<g.length;N++){var T=g[N];if(!(T[Ee]||T[ne]||f==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var z=T.getAttribute(p)||"";z=f+z;var Q=w.get(z);Q?Q.push(T):w.set(z,[T])}}return w}function vF(f,p,g){f=f.ownerDocument||f,f.head.insertBefore(g,p==="title"?f.querySelector("head > title"):null)}function $Y(f,p,g){if(g===1||p.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return f=p.disabled,typeof p.precedence=="string"&&f==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function kF(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var Jm=null;function LY(){}function MY(f,p,g){if(Jm===null)throw Error(a(475));var w=Jm;if(p.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var N=Sp(g.href),T=f.querySelector(Zm(N));if(T){f=T._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(w.count++,w=jx.bind(w),f.then(w,w)),p.state.loading|=4,p.instance=T,et(T);return}T=f.ownerDocument||f,g=gF(g),(N=Ii.get(N))&&WA(g,N),T=T.createElement("link"),et(T);var z=T;z._p=new Promise(function(Q,de){z.onload=Q,z.onerror=de}),Ur(T,"link",g),p.instance=T}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(w.count++,p=jx.bind(w),f.addEventListener("load",p),f.addEventListener("error",p))}}function BY(){if(Jm===null)throw Error(a(475));var f=Jm;return f.stylesheets&&f.count===0&&jA(f,f.stylesheets),0<f.count?function(p){var g=setTimeout(function(){if(f.stylesheets&&jA(f,f.stylesheets),f.unsuspend){var w=f.unsuspend;f.unsuspend=null,w()}},6e4);return f.unsuspend=p,function(){f.unsuspend=null,clearTimeout(g)}}:null}function jx(){if(this.count--,this.count===0){if(this.stylesheets)jA(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Hx=null;function jA(f,p){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Hx=new Map,p.forEach(zY,f),Hx=null,jx.call(f))}function zY(f,p){if(!(p.state.loading&4)){var g=Hx.get(f);if(g)var w=g.get(null);else{g=new Map,Hx.set(f,g);for(var N=f.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<N.length;T++){var z=N[T];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(g.set(z.dataset.precedence,z),w=z)}w&&g.set(null,w)}N=p.instance,z=N.getAttribute("data-precedence"),T=g.get(z)||w,T===w&&g.set(null,N),g.set(z,N),this.count++,w=jx.bind(this),N.addEventListener("load",w),N.addEventListener("error",w),T?T.parentNode.insertBefore(N,T.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(N,f.firstChild)),p.state.loading|=4}}var e0={$$typeof:m,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function GY(f,p,g,w,N,T,z,Q){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.hiddenUpdates=dm(null),this.identifierPrefix=w,this.onUncaughtError=N,this.onCaughtError=T,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function wF(f,p,g,w,N,T,z,Q,de,_e,We,Ze){return f=new GY(f,p,g,z,Q,de,_e,Ze),p=1,T===!0&&(p|=24),T=Ei(3,null,null,p),f.current=T,T.stateNode=f,p=_2(),p.refCount++,f.pooledCache=p,p.refCount++,T.memoizedState={element:w,isDehydrated:g,cache:p},aA(T),f}function bF(f){return f?(f=sp,f):sp}function _F(f,p,g,w,N,T){N=bF(N),w.context===null?w.context=N:w.pendingContext=N,w=$l(p),w.payload={element:g},T=T===void 0?null:T,T!==null&&(w.callback=T),g=Ll(f,w,p),g!==null&&(ws(g,f,p),Lm(g,f,p))}function AF(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var g=f.retryLane;f.retryLane=g!==0&&g<p?g:p}}function HA(f,p){AF(f,p),(f=f.alternate)&&AF(f,p)}function NF(f){if(f.tag===13){var p=Cl(f,67108864);p!==null&&ws(p,f,67108864),HA(f,67108864)}}var Kx=!0;function UY(f,p,g,w){var N=I.T;I.T=null;var T=ie.p;try{ie.p=2,KA(f,p,g,w)}finally{ie.p=T,I.T=N}}function WY(f,p,g,w){var N=I.T;I.T=null;var T=ie.p;try{ie.p=8,KA(f,p,g,w)}finally{ie.p=T,I.T=N}}function KA(f,p,g,w){if(Kx){var N=qA(w);if(N===null)OA(f,p,w,qx,g),TF(f,w);else if(jY(N,f,p,g,w))w.stopPropagation();else if(TF(f,w),p&4&&-1<VY.indexOf(f)){for(;N!==null;){var T=rt(N);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var z=xi(T.pendingLanes);if(z!==0){var Q=T;for(Q.pendingLanes|=2,Q.entangledLanes|=2;z;){var de=1<<31-Da(z);Q.entanglements[1]|=de,z&=~de}Wo(T),(_a&6)===0&&(Dx=Be()+500,qm(0))}}break;case 13:Q=Cl(T,2),Q!==null&&ws(Q,T,2),Fx(),HA(T,2)}if(T=qA(w),T===null&&OA(f,p,w,qx,g),T===N)break;N=T}N!==null&&w.stopPropagation()}else OA(f,p,w,null,g)}}function qA(f){return f=e2(f),XA(f)}var qx=null;function XA(f){if(qx=null,f=Qe(f),f!==null){var p=q(f);if(p===null)f=null;else{var g=p.tag;if(g===13){if(f=Z(p),f!==null)return f;f=null}else if(g===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null)}}return qx=f,null}function SF(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case Dt:return 2;case Bt:return 8;case Rt:case Mn:return 32;case Bn:return 268435456;default:return 32}default:return 32}}var YA=!1,Vl=null,jl=null,Hl=null,t0=new Map,n0=new Map,Kl=[],VY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TF(f,p){switch(f){case"focusin":case"focusout":Vl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":t0.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":n0.delete(p.pointerId)}}function a0(f,p,g,w,N,T){return f===null||f.nativeEvent!==T?(f={blockedOn:p,domEventName:g,eventSystemFlags:w,nativeEvent:T,targetContainers:[N]},p!==null&&(p=rt(p),p!==null&&NF(p)),f):(f.eventSystemFlags|=w,p=f.targetContainers,N!==null&&p.indexOf(N)===-1&&p.push(N),f)}function jY(f,p,g,w,N){switch(p){case"focusin":return Vl=a0(Vl,f,p,g,w,N),!0;case"dragenter":return jl=a0(jl,f,p,g,w,N),!0;case"mouseover":return Hl=a0(Hl,f,p,g,w,N),!0;case"pointerover":var T=N.pointerId;return t0.set(T,a0(t0.get(T)||null,f,p,g,w,N)),!0;case"gotpointercapture":return T=N.pointerId,n0.set(T,a0(n0.get(T)||null,f,p,g,w,N)),!0}return!1}function EF(f){var p=Qe(f.target);if(p!==null){var g=q(p);if(g!==null){if(p=g.tag,p===13){if(p=Z(g),p!==null){f.blockedOn=p,H(f.priority,function(){if(g.tag===13){var w=ri(),N=Cl(g,w);N!==null&&ws(N,g,w),HA(g,w)}});return}}else if(p===3&&g.stateNode.current.memoizedState.isDehydrated){f.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Xx(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var g=qA(f.nativeEvent);if(g===null){g=f.nativeEvent;var w=new g.constructor(g.type,g);J_=w,g.target.dispatchEvent(w),J_=null}else return p=rt(g),p!==null&&NF(p),f.blockedOn=g,!1;p.shift()}return!0}function CF(f,p,g){Xx(f)&&g.delete(p)}function HY(){YA=!1,Vl!==null&&Xx(Vl)&&(Vl=null),jl!==null&&Xx(jl)&&(jl=null),Hl!==null&&Xx(Hl)&&(Hl=null),t0.forEach(CF),n0.forEach(CF)}function Yx(f,p){f.blockedOn===p&&(f.blockedOn=null,YA||(YA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HY)))}var Zx=null;function IF(f){Zx!==f&&(Zx=f,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zx===f&&(Zx=null);for(var p=0;p<f.length;p+=3){var g=f[p],w=f[p+1],N=f[p+2];if(typeof w!="function"){if(XA(w||g)===null)continue;break}var T=rt(g);T!==null&&(f.splice(p,3),p-=3,B2(T,{pending:!0,data:N,method:g.method,action:w},w,N))}}))}function r0(f){function p(de){return Yx(de,f)}Vl!==null&&Yx(Vl,f),jl!==null&&Yx(jl,f),Hl!==null&&Yx(Hl,f),t0.forEach(p),n0.forEach(p);for(var g=0;g<Kl.length;g++){var w=Kl[g];w.blockedOn===f&&(w.blockedOn=null)}for(;0<Kl.length&&(g=Kl[0],g.blockedOn===null);)EF(g),g.blockedOn===null&&Kl.shift();if(g=(f.ownerDocument||f).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var N=g[w],T=g[w+1],z=N[re]||null;if(typeof T=="function")z||IF(g);else if(z){var Q=null;if(T&&T.hasAttribute("formAction")){if(N=T,z=T[re]||null)Q=z.formAction;else if(XA(N)!==null)continue}else Q=z.action;typeof Q=="function"?g[w+1]=Q:(g.splice(w,3),w-=3),IF(g)}}}function ZA(f){this._internalRoot=f}Qx.prototype.render=ZA.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(a(409));var g=p.current,w=ri();_F(g,w,f,p,null,null)},Qx.prototype.unmount=ZA.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;f.tag===0&&bp(),_F(f.current,2,null,f,null,null),Fx(),p[ce]=null}};function Qx(f){this._internalRoot=f}Qx.prototype.unstable_scheduleHydration=function(f){if(f){var p=K1();f={blockedOn:null,target:f,priority:p};for(var g=0;g<Kl.length&&p!==0&&p<Kl[g].priority;g++);Kl.splice(g,0,f),g===0&&EF(f)}};var DF=e.version;if(DF!=="19.0.0")throw Error(a(527,DF,"19.0.0"));ie.findDOMNode=function(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(a(188)):(f=Object.keys(f).join(","),Error(a(268,f)));return f=se(p),f=f!==null?ue(f):null,f=f===null?null:f.stateNode,f};var KY={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:Qe,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jx.isDisabled&&Jx.supportsFiber)try{Xt=Jx.inject(KY),Ht=Jx}catch{}}return i0.createRoot=function(f,p){if(!r(f))throw Error(a(299));var g=!1,w="",N=qP,T=XP,z=YP,Q=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(w=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&(T=p.onCaughtError),p.onRecoverableError!==void 0&&(z=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(Q=p.unstable_transitionCallbacks)),p=wF(f,1,!1,null,null,g,w,N,T,z,Q,null),f[ce]=p.current,FA(f.nodeType===8?f.parentNode:f),new ZA(p)},i0.hydrateRoot=function(f,p,g){if(!r(f))throw Error(a(299));var w=!1,N="",T=qP,z=XP,Q=YP,de=null,_e=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onUncaughtError!==void 0&&(T=g.onUncaughtError),g.onCaughtError!==void 0&&(z=g.onCaughtError),g.onRecoverableError!==void 0&&(Q=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(de=g.unstable_transitionCallbacks),g.formState!==void 0&&(_e=g.formState)),p=wF(f,1,!0,p,g??null,w,N,T,z,Q,de,_e),p.context=bF(null),g=p.current,w=ri(),N=$l(w),N.callback=null,Ll(g,N,w),p.current.lanes=w,Hu(p,w),Wo(p),f[ce]=p.current,FA(f),new Qx(p)},i0.version="19.0.0",i0}var GF;function iZ(){if(GF)return eN.exports;GF=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eN.exports=sZ(),eN.exports}var oZ=iZ();const cZ=(t,e,n,a)=>{var s,i,o,c;const r=[n,{code:e,...a||{}}];if((i=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&i.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);Of(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(c=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&c.warn?t.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},UF={},kS=(t,e,n,a)=>{Of(n)&&UF[n]||(Of(n)&&(UF[n]=new Date),cZ(t,e,n,a))},L5=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},wS=(t,e,n)=>{t.loadNamespaces(e,L5(t,n))},WF=(t,e,n,a)=>{if(Of(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return wS(t,n,a);n.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,L5(t,a))},lZ=(t,e,n={})=>!e.languages||!e.languages.length?(kS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(a,r)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!r(a.isLanguageChangingTo,t))return!1}}),Of=t=>typeof t=="string",uZ=t=>typeof t=="object"&&t!==null,fZ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,dZ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},pZ=t=>dZ[t],hZ=t=>t.replace(fZ,pZ);let bS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:hZ};const mZ=(t={})=>{bS={...bS,...t}},gZ=()=>bS;let M5;const yZ=t=>{M5=t},xZ=()=>M5,vZ={type:"3rdParty",init(t){mZ(t.options.react),yZ(t)}},B5=F.createContext();class kZ{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const wZ=(t,e)=>{const n=F.useRef();return F.useEffect(()=>{n.current=t},[t,e]),n.current},z5=(t,e,n,a)=>t.getFixedT(e,n,a),bZ=(t,e,n,a)=>F.useCallback(z5(t,e,n,a),[t,e,n,a]),Hg=(t,e={})=>{var A,S,C,E;const{i18n:n}=e,{i18n:a,defaultNS:r}=F.useContext(B5)||{},s=n||a||xZ();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new kZ),!s){kS(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const D=(P,R)=>Of(R)?R:uZ(R)&&Of(R.defaultValue)?R.defaultValue:Array.isArray(P)?P[P.length-1]:P,I=[D,{},!1];return I.t=D,I.i18n={},I.ready=!1,I}(A=s.options.react)!=null&&A.wait&&kS(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...gZ(),...s.options.react,...e},{useSuspense:o,keyPrefix:c}=i;let l=t||r||((S=s.options)==null?void 0:S.defaultNS);l=Of(l)?[l]:l||["translation"],(E=(C=s.reportNamespaces).addUsedNamespaces)==null||E.call(C,l);const u=(s.isInitialized||s.initializedStoreOnce)&&l.every(D=>lZ(D,s,i)),d=bZ(s,e.lng||null,i.nsMode==="fallback"?l:l[0],c),h=()=>d,m=()=>z5(s,e.lng||null,i.nsMode==="fallback"?l:l[0],c),[y,v]=F.useState(h);let x=l.join();e.lng&&(x=`${e.lng}${x}`);const k=wZ(x),b=F.useRef(!0);F.useEffect(()=>{const{bindI18n:D,bindI18nStore:I}=i;b.current=!0,!u&&!o&&(e.lng?WF(s,e.lng,l,()=>{b.current&&v(m)}):wS(s,l,()=>{b.current&&v(m)})),u&&k&&k!==x&&b.current&&v(m);const P=()=>{b.current&&v(m)};return D&&(s==null||s.on(D,P)),I&&(s==null||s.store.on(I,P)),()=>{b.current=!1,s&&(D==null||D.split(" ").forEach(R=>s.off(R,P))),I&&s&&I.split(" ").forEach(R=>s.store.off(R,P))}},[s,x]),F.useEffect(()=>{b.current&&u&&v(h)},[s,c,u]);const _=[y,s,u];if(_.t=y,_.i18n=s,_.ready=u,u||!u&&!o)return _;throw new Promise(D=>{e.lng?WF(s,e.lng,l,()=>D()):wS(s,l,()=>D())})};function _Z({i18n:t,defaultNS:e,children:n}){const a=F.useMemo(()=>({i18n:t,defaultNS:e}),[t,e]);return F.createElement(B5.Provider,{value:a},n)}var o0={},VF;function AZ(){if(VF)return o0;VF=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.parse=i,o0.serialize=l;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function i(h,m){const y=new s,v=h.length;if(v<2)return y;const x=(m==null?void 0:m.decode)||u;let k=0;do{const b=h.indexOf("=",k);if(b===-1)break;const _=h.indexOf(";",k),A=_===-1?v:_;if(b>A){k=h.lastIndexOf(";",b-1)+1;continue}const S=o(h,k,b),C=c(h,b,S),E=h.slice(S,C);if(y[E]===void 0){let D=o(h,b+1,A),I=c(h,A,D);const P=x(h.slice(D,I));y[E]=P}k=A+1}while(k<v);return y}function o(h,m,y){do{const v=h.charCodeAt(m);if(v!==32&&v!==9)return m}while(++m<y);return y}function c(h,m,y){for(;m>y;){const v=h.charCodeAt(--m);if(v!==32&&v!==9)return m+1}return y}function l(h,m,y){const v=(y==null?void 0:y.encode)||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const x=v(m);if(!e.test(x))throw new TypeError(`argument val is invalid: ${m}`);let k=h+"="+x;if(!y)return k;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);k+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);k+="; Domain="+y.domain}if(y.path){if(!a.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);k+="; Path="+y.path}if(y.expires){if(!d(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);k+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(k+="; HttpOnly"),y.secure&&(k+="; Secure"),y.partitioned&&(k+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return k}function u(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return r.call(h)==="[object Date]"}return o0}AZ();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jF="popstate";function NZ(t={}){function e(r,s){let{pathname:i="/",search:o="",hash:c=""}=_d(r.location.hash.substring(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),_S("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let i=r.document.querySelector("base"),o="";if(i&&i.getAttribute("href")){let c=r.location.href,l=c.indexOf("#");o=l===-1?c:c.slice(0,l)}return o+"#"+(typeof s=="string"?s:q0(s))}function a(r,s){Ao(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return TZ(e,n,a,t)}function Ta(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ao(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SZ(){return Math.random().toString(36).substring(2,10)}function HF(t,e){return{usr:t.state,key:t.key,idx:e}}function _S(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_d(e):e,state:n,key:e&&e.key||a||SZ()}}function q0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _d(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function TZ(t,e,n,a={}){let{window:r=document.defaultView,v5Compat:s=!1}=a,i=r.history,o="POP",c=null,l=u();l==null&&(l=0,i.replaceState({...i.state,idx:l},""));function u(){return(i.state||{idx:null}).idx}function d(){o="POP";let x=u(),k=x==null?null:x-l;l=x,c&&c({action:o,location:v.location,delta:k})}function h(x,k){o="PUSH";let b=_S(v.location,x,k);n&&n(b,x),l=u()+1;let _=HF(b,l),A=v.createHref(b);try{i.pushState(_,"",A)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(A)}s&&c&&c({action:o,location:v.location,delta:1})}function m(x,k){o="REPLACE";let b=_S(v.location,x,k);n&&n(b,x),l=u();let _=HF(b,l),A=v.createHref(b);i.replaceState(_,"",A),s&&c&&c({action:o,location:v.location,delta:0})}function y(x){let k=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof x=="string"?x:q0(x);return b=b.replace(/ $/,"%20"),Ta(k,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,k)}let v={get action(){return o},get location(){return t(r,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(jF,d),c=x,()=>{r.removeEventListener(jF,d),c=null}},createHref(x){return e(r,x)},createURL:y,encodeLocation(x){let k=y(x);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:h,replace:m,go(x){return i.go(x)}};return v}function G5(t,e,n="/"){return EZ(t,e,n,!1)}function EZ(t,e,n,a){let r=typeof e=="string"?_d(e):e,s=cu(r.pathname||"/",n);if(s==null)return null;let i=U5(t);CZ(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let l=zZ(s);o=MZ(i[c],l,a)}return o}function U5(t,e=[],n=[],a=""){let r=(s,i,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Ta(c.relativePath.startsWith(a),`Absolute route path "${c.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(a.length));let l=el([a,c.relativePath]),u=n.concat(c);s.children&&s.children.length>0&&(Ta(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),U5(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:$Z(l,s.index),routesMeta:u})};return t.forEach((s,i)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,i);else for(let c of W5(s.path))r(s,i,c)}),e}function W5(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return r?[s,""]:[s];let i=W5(a.join("/")),o=[];return o.push(...i.map(c=>c===""?s:[s,c].join("/"))),r&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function CZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LZ(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var IZ=/^:[\w-]+$/,DZ=3,RZ=2,PZ=1,FZ=10,OZ=-2,KF=t=>t==="*";function $Z(t,e){let n=t.split("/"),a=n.length;return n.some(KF)&&(a+=OZ),e&&(a+=RZ),n.filter(r=>!KF(r)).reduce((r,s)=>r+(IZ.test(s)?DZ:s===""?PZ:FZ),a)}function LZ(t,e){return t.length===e.length&&t.slice(0,-1).every((a,r)=>a===e[r])?t[t.length-1]-e[e.length-1]:0}function MZ(t,e,n=!1){let{routesMeta:a}=t,r={},s="/",i=[];for(let o=0;o<a.length;++o){let c=a[o],l=o===a.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=ik({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!d&&l&&n&&!a[a.length-1].route.index&&(d=ik({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:el([s,d.pathname]),pathnameBase:VZ(el([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=el([s,d.pathnameBase]))}return i}function ik(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=BZ(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((l,{paramName:u,isOptional:d},h)=>{if(u==="*"){let y=o[h]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return d&&!m?l[u]=void 0:l[u]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:i,pattern:t}}function BZ(t,e=!1,n=!0){Ao(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function zZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ao(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function GZ(t,e="/"){let{pathname:n,search:a="",hash:r=""}=typeof t=="string"?_d(t):t;return{pathname:n?n.startsWith("/")?n:UZ(n,e):e,search:jZ(a),hash:HZ(r)}}function UZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function rN(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V5(t){let e=WZ(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function j5(t,e,n,a=!1){let r;typeof t=="string"?r=_d(t):(r={...t},Ta(!r.pathname||!r.pathname.includes("?"),rN("?","pathname","search",r)),Ta(!r.pathname||!r.pathname.includes("#"),rN("#","pathname","hash",r)),Ta(!r.search||!r.search.includes("#"),rN("#","search","hash",r)));let s=t===""||r.pathname==="",i=s?"/":r.pathname,o;if(i==null)o=n;else{let d=e.length-1;if(!a&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}o=d>=0?e[d]:"/"}let c=GZ(r,o),l=i&&i!=="/"&&i.endsWith("/"),u=(s||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}var el=t=>t.join("/").replace(/\/\/+/g,"/"),VZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var H5=["POST","PUT","PATCH","DELETE"];new Set(H5);var qZ=["GET",...H5];new Set(qZ);var Oh=F.createContext(null);Oh.displayName="DataRouter";var ww=F.createContext(null);ww.displayName="DataRouterState";var K5=F.createContext({isTransitioning:!1});K5.displayName="ViewTransition";var XZ=F.createContext(new Map);XZ.displayName="Fetchers";var YZ=F.createContext(null);YZ.displayName="Await";var wc=F.createContext(null);wc.displayName="Navigation";var Kg=F.createContext(null);Kg.displayName="Location";var xl=F.createContext({outlet:null,matches:[],isDataRoute:!1});xl.displayName="Route";var kE=F.createContext(null);kE.displayName="RouteError";function ZZ(t,{relative:e}={}){Ta(qg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=F.useContext(wc),{hash:r,pathname:s,search:i}=Xg(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:el([n,s])),a.createHref({pathname:o,search:i,hash:r})}function qg(){return F.useContext(Kg)!=null}function Ad(){return Ta(qg(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Kg).location}var q5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X5(t){F.useContext(wc).static||F.useLayoutEffect(t)}function QZ(){let{isDataRoute:t}=F.useContext(xl);return t?fQ():JZ()}function JZ(){Ta(qg(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Oh),{basename:e,navigator:n}=F.useContext(wc),{matches:a}=F.useContext(xl),{pathname:r}=Ad(),s=JSON.stringify(V5(a)),i=F.useRef(!1);return X5(()=>{i.current=!0}),F.useCallback((c,l={})=>{if(Ao(i.current,q5),!i.current)return;if(typeof c=="number"){n.go(c);return}let u=j5(c,JSON.parse(s),r,l.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:el([e,u.pathname])),(l.replace?n.replace:n.push)(u,l.state,l)},[e,n,s,r,t])}F.createContext(null);function Xg(t,{relative:e}={}){let{matches:n}=F.useContext(xl),{pathname:a}=Ad(),r=JSON.stringify(V5(n));return F.useMemo(()=>j5(t,JSON.parse(r),a,e==="path"),[t,r,a,e])}function eQ(t,e){return Y5(t,e)}function Y5(t,e,n,a){var b;Ta(qg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=F.useContext(wc),{matches:i}=F.useContext(xl),o=i[i.length-1],c=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let _=d&&d.path||"";Z5(l,!d||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let h=Ad(),m;if(e){let _=typeof e=="string"?_d(e):e;Ta(u==="/"||((b=_.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=h;let y=m.pathname||"/",v=y;if(u!=="/"){let _=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=!s&&n&&n.matches&&n.matches.length>0?n.matches:G5(t,{pathname:v});Ao(d||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ao(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=sQ(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:el([u,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:el([u,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,a);return e&&k?F.createElement(Kg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},k):k}function tQ(){let t=uQ(),e=KZ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},s={padding:"2px 4px",backgroundColor:a},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:r},n):null,i)}var nQ=F.createElement(tQ,null),aQ=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(xl.Provider,{value:this.props.routeContext},F.createElement(kE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rQ({routeContext:t,match:e,children:n}){let a=F.useContext(Oh);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(xl.Provider,{value:t},n)}function sQ(t,e=[],n=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,s=n==null?void 0:n.errors;if(s!=null){let c=r.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id])!==void 0);Ta(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let i=!1,o=-1;if(n)for(let c=0;c<r.length;c++){let l=r[c];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(o=c),l.route.id){let{loaderData:u,errors:d}=n,h=l.route.loader&&!u.hasOwnProperty(l.route.id)&&(!d||d[l.route.id]===void 0);if(l.route.lazy||h){i=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}return r.reduceRight((c,l,u)=>{let d,h=!1,m=null,y=null;n&&(d=s&&l.route.id?s[l.route.id]:void 0,m=l.route.errorElement||nQ,i&&(o<0&&u===0?(Z5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):o===u&&(h=!0,y=l.route.hydrateFallbackElement||null)));let v=e.concat(r.slice(0,u+1)),x=()=>{let k;return d?k=m:h?k=y:l.route.Component?k=F.createElement(l.route.Component,null):l.route.element?k=l.route.element:k=c,F.createElement(rQ,{match:l,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:k})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?F.createElement(aQ,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}function wE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iQ(t){let e=F.useContext(Oh);return Ta(e,wE(t)),e}function oQ(t){let e=F.useContext(ww);return Ta(e,wE(t)),e}function cQ(t){let e=F.useContext(xl);return Ta(e,wE(t)),e}function bE(t){let e=cQ(t),n=e.matches[e.matches.length-1];return Ta(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function lQ(){return bE("useRouteId")}function uQ(){var a;let t=F.useContext(kE),e=oQ("useRouteError"),n=bE("useRouteError");return t!==void 0?t:(a=e.errors)==null?void 0:a[n]}function fQ(){let{router:t}=iQ("useNavigate"),e=bE("useNavigate"),n=F.useRef(!1);return X5(()=>{n.current=!0}),F.useCallback(async(r,s={})=>{Ao(n.current,q5),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var qF={};function Z5(t,e,n){!e&&!qF[t]&&(qF[t]=!0,Ao(!1,n))}F.memo(dQ);function dQ({routes:t,future:e,state:n}){return Y5(t,void 0,n,e)}function Bv(t){Ta(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pQ({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:r,static:s=!1}){Ta(!qg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),o=F.useMemo(()=>({basename:i,navigator:r,static:s,future:{}}),[i,r,s]);typeof n=="string"&&(n=_d(n));let{pathname:c="/",search:l="",hash:u="",state:d=null,key:h="default"}=n,m=F.useMemo(()=>{let y=cu(c,i);return y==null?null:{location:{pathname:y,search:l,hash:u,state:d,key:h},navigationType:a}},[i,c,l,u,d,h,a]);return Ao(m!=null,`<Router basename="${i}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:F.createElement(wc.Provider,{value:o},F.createElement(Kg.Provider,{children:e,value:m}))}function hQ({children:t,location:e}){return eQ(AS(t),e)}function AS(t,e=[]){let n=[];return F.Children.forEach(t,(a,r)=>{if(!F.isValidElement(a))return;let s=[...e,r];if(a.type===F.Fragment){n.push.apply(n,AS(a.props.children,s));return}Ta(a.type===Bv,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ta(!a.props.index||!a.props.children,"An index route cannot have child routes.");let i={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=AS(a.props.children,s)),n.push(i)}),n}var zv="get",Gv="application/x-www-form-urlencoded";function bw(t){return t!=null&&typeof t.tagName=="string"}function mQ(t){return bw(t)&&t.tagName.toLowerCase()==="button"}function gQ(t){return bw(t)&&t.tagName.toLowerCase()==="form"}function yQ(t){return bw(t)&&t.tagName.toLowerCase()==="input"}function xQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vQ(t,e){return t.button===0&&(!e||e==="_self")&&!xQ(t)}var ev=null;function kQ(){if(ev===null)try{new FormData(document.createElement("form"),0),ev=!1}catch{ev=!0}return ev}var wQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sN(t){return t!=null&&!wQ.has(t)?(Ao(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gv}"`),null):t}function bQ(t,e){let n,a,r,s,i;if(gQ(t)){let o=t.getAttribute("action");a=o?cu(o,e):null,n=t.getAttribute("method")||zv,r=sN(t.getAttribute("enctype"))||Gv,s=new FormData(t)}else if(mQ(t)||yQ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(a=c?cu(c,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||zv,r=sN(t.getAttribute("formenctype"))||sN(o.getAttribute("enctype"))||Gv,s=new FormData(o,t),!kQ()){let{name:l,type:u,value:d}=t;if(u==="image"){let h=l?`${l}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else l&&s.append(l,d)}}else{if(bw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zv,a=null,r=Gv,i=t}return s&&r==="text/plain"&&(i=s,s=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:s,body:i}}function _E(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function _Q(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AQ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NQ(t,e,n){let a=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let i=await _Q(s,n);return i.links?i.links():[]}return[]}));return CQ(a.flat(1).filter(AQ).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function XF(t,e,n,a,r,s){let i=(c,l)=>n[l]?c.route.id!==n[l].route.id:!0,o=(c,l)=>{var u;return n[l].pathname!==c.pathname||((u=n[l].route.path)==null?void 0:u.endsWith("*"))&&n[l].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,l)=>i(c,l)||o(c,l)):s==="data"?e.filter((c,l)=>{var d;let u=a.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(i(c,l)||o(c,l))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function SQ(t,e,{includeHydrateFallback:n}={}){return TQ(t.map(a=>{let r=e.routes[a.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function TQ(t){return[...new Set(t)]}function EQ(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function CQ(t,e){let n=new Set;return new Set(e),t.reduce((a,r)=>{let s=JSON.stringify(EQ(r));return n.has(s)||(n.add(s),a.push({key:s,link:r})),a},[])}function IQ(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function DQ(){let t=F.useContext(Oh);return _E(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RQ(){let t=F.useContext(ww);return _E(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var AE=F.createContext(void 0);AE.displayName="FrameworkContext";function Q5(){let t=F.useContext(AE);return _E(t,"You must render this element inside a <HydratedRouter> element"),t}function PQ(t,e){let n=F.useContext(AE),[a,r]=F.useState(!1),[s,i]=F.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=e,h=F.useRef(null);F.useEffect(()=>{if(t==="render"&&i(!0),t==="viewport"){let v=k=>{k.forEach(b=>{i(b.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),F.useEffect(()=>{if(a){let v=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(v)}}},[a]);let m=()=>{r(!0)},y=()=>{r(!1),i(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:c0(o,m),onBlur:c0(c,y),onMouseEnter:c0(l,m),onMouseLeave:c0(u,y),onTouchStart:c0(d,m)}]:[!1,h,{}]}function c0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function FQ({page:t,...e}){let{router:n}=DQ(),a=F.useMemo(()=>G5(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?F.createElement($Q,{page:t,matches:a,...e}):null}function OQ(t){let{manifest:e,routeModules:n}=Q5(),[a,r]=F.useState([]);return F.useEffect(()=>{let s=!1;return NQ(t,e,n).then(i=>{s||r(i)}),()=>{s=!0}},[t,e,n]),a}function $Q({page:t,matches:e,...n}){let a=Ad(),{manifest:r,routeModules:s}=Q5(),{loaderData:i,matches:o}=RQ(),c=F.useMemo(()=>XF(t,e,o,r,a,"data"),[t,e,o,r,a]),l=F.useMemo(()=>XF(t,e,o,r,a,"assets"),[t,e,o,r,a]),u=F.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let m=new Set,y=!1;if(e.forEach(x=>{var b;let k=r.routes[x.route.id];!k||!k.hasLoader||(!c.some(_=>_.route.id===x.route.id)&&x.route.id in i&&((b=s[x.route.id])!=null&&b.shouldRevalidate)||k.hasClientLoader?y=!0:m.add(x.route.id))}),m.size===0)return[];let v=IQ(t);return y&&m.size>0&&v.searchParams.set("_routes",e.filter(x=>m.has(x.route.id)).map(x=>x.route.id).join(",")),[v.pathname+v.search]},[i,a,r,c,e,t,s]),d=F.useMemo(()=>SQ(l,r),[l,r]),h=OQ(l);return F.createElement(F.Fragment,null,u.map(m=>F.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),d.map(m=>F.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),h.map(({key:m,link:y})=>F.createElement("link",{key:m,...y})))}function LQ(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var J5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J5&&(window.__reactRouterVersion="7.2.0")}catch{}function MQ({basename:t,children:e,window:n}){let a=F.useRef();a.current==null&&(a.current=NZ({window:n,v5Compat:!0}));let r=a.current,[s,i]=F.useState({action:r.action,location:r.location}),o=F.useCallback(c=>{F.startTransition(()=>i(c))},[i]);return F.useLayoutEffect(()=>r.listen(o),[r,o]),F.createElement(pQ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:r})}var eB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rf=F.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:r,reloadDocument:s,replace:i,state:o,target:c,to:l,preventScrollReset:u,viewTransition:d,...h},m){let{basename:y}=F.useContext(wc),v=typeof l=="string"&&eB.test(l),x,k=!1;if(typeof l=="string"&&v&&(x=l,J5))try{let I=new URL(window.location.href),P=l.startsWith("//")?new URL(I.protocol+l):new URL(l),R=cu(P.pathname,y);P.origin===I.origin&&R!=null?l=R+P.search+P.hash:k=!0}catch{Ao(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=ZZ(l,{relative:r}),[_,A,S]=PQ(a,h),C=UQ(l,{replace:i,state:o,target:c,preventScrollReset:u,relative:r,viewTransition:d});function E(I){e&&e(I),I.defaultPrevented||C(I)}let D=F.createElement("a",{...h,...S,href:x||b,onClick:k||s?e:E,ref:LQ(m,A),target:c,"data-discover":!v&&n==="render"?"true":void 0});return _&&!v?F.createElement(F.Fragment,null,D,F.createElement(FQ,{page:b})):D});Rf.displayName="Link";var BQ=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:r=!1,style:s,to:i,viewTransition:o,children:c,...l},u){let d=Xg(i,{relative:l.relative}),h=Ad(),m=F.useContext(ww),{navigator:y,basename:v}=F.useContext(wc),x=m!=null&&KQ(d)&&o===!0,k=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,b=h.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(b=b.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&v&&(_=cu(_,v)||_);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let S=b===k||!r&&b.startsWith(k)&&b.charAt(A)==="/",C=_!=null&&(_===k||!r&&_.startsWith(k)&&_.charAt(k.length)==="/"),E={isActive:S,isPending:C,isTransitioning:x},D=S?e:void 0,I;typeof a=="function"?I=a(E):I=[a,S?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(E):s;return F.createElement(Rf,{...l,"aria-current":D,className:I,ref:u,style:P,to:i,viewTransition:o},typeof c=="function"?c(E):c)});BQ.displayName="NavLink";var zQ=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:r,state:s,method:i=zv,action:o,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,...h},m)=>{let y=jQ(),v=HQ(o,{relative:l}),x=i.toLowerCase()==="get"?"get":"post",k=typeof o=="string"&&eB.test(o),b=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,S=(A==null?void 0:A.getAttribute("formmethod"))||i;y(A||_.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:r,state:s,relative:l,preventScrollReset:u,viewTransition:d})};return F.createElement("form",{ref:m,method:x,action:v,onSubmit:a?c:b,...h,"data-discover":!k&&t==="render"?"true":void 0})});zQ.displayName="Form";function GQ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tB(t){let e=F.useContext(Oh);return Ta(e,GQ(t)),e}function UQ(t,{target:e,replace:n,state:a,preventScrollReset:r,relative:s,viewTransition:i}={}){let o=QZ(),c=Ad(),l=Xg(t,{relative:s});return F.useCallback(u=>{if(vQ(u,e)){u.preventDefault();let d=n!==void 0?n:q0(c)===q0(l);o(t,{replace:d,state:a,preventScrollReset:r,relative:s,viewTransition:i})}},[c,o,l,n,a,e,t,r,s,i])}var WQ=0,VQ=()=>`__${String(++WQ)}__`;function jQ(){let{router:t}=tB("useSubmit"),{basename:e}=F.useContext(wc),n=lQ();return F.useCallback(async(a,r={})=>{let{action:s,method:i,encType:o,formData:c,body:l}=bQ(a,e);if(r.navigate===!1){let u=r.fetcherKey||VQ();await t.fetch(u,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:l,formMethod:r.method||i,formEncType:r.encType||o,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:l,formMethod:r.method||i,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function HQ(t,{relative:e}={}){let{basename:n}=F.useContext(wc),a=F.useContext(xl);Ta(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),s={...Xg(t||".",{relative:e})},i=Ad();if(t==null){s.search=i.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:el([n,s.pathname])),q0(s)}function KQ(t,e={}){let n=F.useContext(K5);Ta(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=tB("useViewTransitionState"),r=Xg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=cu(n.currentLocation.pathname,a)||n.currentLocation.pathname,i=cu(n.nextLocation.pathname,a)||n.nextLocation.pathname;return ik(r.pathname,i)!=null||ik(r.pathname,s)!=null}new TextEncoder;const qQ="modulepreload",XQ=function(t){return"/"+t},YF={},Yg=function(e,n,a){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=XQ(c),c in YF)return;YF[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":qQ,l||(d.as="script"),d.crossOrigin="",d.href=c,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function nB(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=nB(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function aB(){for(var t,e,n=0,a="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=nB(t))&&(a&&(a+=" "),a+=e);return a}const NE="-",YQ=t=>{const e=QQ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:i=>{const o=i.split(NE);return o[0]===""&&o.length!==1&&o.shift(),rB(o,e)||ZQ(i)},getConflictingClassGroupIds:(i,o)=>{const c=n[i]||[];return o&&a[i]?[...c,...a[i]]:c}}},rB=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],a=e.nextPart.get(n),r=a?rB(t.slice(1),a):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(NE);return(i=e.validators.find(({validator:o})=>o(s)))==null?void 0:i.classGroupId},ZF=/^\[(.+)\]$/,ZQ=t=>{if(ZF.test(t)){const e=ZF.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},QQ=t=>{const{theme:e,classGroups:n}=t,a={nextPart:new Map,validators:[]};for(const r in n)NS(n[r],a,r,e);return a},NS=(t,e,n,a)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:QF(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(JQ(r)){NS(r(a),e,n,a);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,i])=>{NS(i,QF(e,s),n,a)})})},QF=(t,e)=>{let n=t;return e.split(NE).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},JQ=t=>t.isThemeGetter,eJ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,a=new Map;const r=(s,i)=>{n.set(s,i),e++,e>t&&(e=0,a=n,n=new Map)};return{get(s){let i=n.get(s);if(i!==void 0)return i;if((i=a.get(s))!==void 0)return r(s,i),i},set(s,i){n.has(s)?n.set(s,i):r(s,i)}}},SS="!",TS=":",tJ=TS.length,nJ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let a=r=>{const s=[];let i=0,o=0,c=0,l;for(let y=0;y<r.length;y++){let v=r[y];if(i===0&&o===0){if(v===TS){s.push(r.slice(c,y)),c=y+tJ;continue}if(v==="/"){l=y;continue}}v==="["?i++:v==="]"?i--:v==="("?o++:v===")"&&o--}const u=s.length===0?r:r.substring(c),d=aJ(u),h=d!==u,m=l&&l>c?l-c:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:m}};if(e){const r=e+TS,s=a;a=i=>i.startsWith(r)?s(i.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const r=a;a=s=>n({className:s,parseClassName:r})}return a},aJ=t=>t.endsWith(SS)?t.substring(0,t.length-1):t.startsWith(SS)?t.substring(1):t,rJ=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const r=[];let s=[];return a.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},sJ=t=>({cache:eJ(t.cacheSize),parseClassName:nJ(t),sortModifiers:rJ(t),...YQ(t)}),iJ=/\s+/,oJ=(t,e)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:r,sortModifiers:s}=e,i=[],o=t.trim().split(iJ);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{isExternal:d,modifiers:h,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:v}=n(u);if(d){c=u+(c.length>0?" "+c:c);continue}let x=!!v,k=a(x?y.substring(0,v):y);if(!k){if(!x){c=u+(c.length>0?" "+c:c);continue}if(k=a(y),!k){c=u+(c.length>0?" "+c:c);continue}x=!1}const b=s(h).join(":"),_=m?b+SS:b,A=_+k;if(i.includes(A))continue;i.push(A);const S=r(k,x);for(let C=0;C<S.length;++C){const E=S[C];i.push(_+E)}c=u+(c.length>0?" "+c:c)}return c};function cJ(){let t=0,e,n,a="";for(;t<arguments.length;)(e=arguments[t++])&&(n=sB(e))&&(a&&(a+=" "),a+=n);return a}const sB=t=>{if(typeof t=="string")return t;let e,n="";for(let a=0;a<t.length;a++)t[a]&&(e=sB(t[a]))&&(n&&(n+=" "),n+=e);return n};function lJ(t,...e){let n,a,r,s=i;function i(c){const l=e.reduce((u,d)=>d(u),t());return n=sJ(l),a=n.cache.get,r=n.cache.set,s=o,o(c)}function o(c){const l=a(c);if(l)return l;const u=oJ(c,n);return r(c,u),u}return function(){return s(cJ.apply(null,arguments))}}const Tr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},iB=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,oB=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uJ=/^\d+\/\d+$/,fJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ep=t=>uJ.test(t),Tn=t=>!!t&&!Number.isNaN(Number(t)),hf=t=>!!t&&Number.isInteger(Number(t)),JF=t=>t.endsWith("%")&&Tn(t.slice(0,-1)),Xl=t=>fJ.test(t),gJ=()=>!0,yJ=t=>dJ.test(t)&&!pJ.test(t),SE=()=>!1,xJ=t=>hJ.test(t),vJ=t=>mJ.test(t),kJ=t=>!At(t)&&!Nt(t),wJ=t=>$h(t,uB,SE),At=t=>iB.test(t),mf=t=>$h(t,fB,yJ),iN=t=>$h(t,RJ,Tn),bJ=t=>$h(t,cB,SE),_J=t=>$h(t,lB,vJ),AJ=t=>$h(t,SE,xJ),Nt=t=>oB.test(t),tv=t=>Lh(t,fB),NJ=t=>Lh(t,PJ),SJ=t=>Lh(t,cB),TJ=t=>Lh(t,uB),EJ=t=>Lh(t,lB),CJ=t=>Lh(t,FJ,!0),$h=(t,e,n)=>{const a=iB.exec(t);return a?a[1]?e(a[1]):n(a[2]):!1},Lh=(t,e,n=!1)=>{const a=oB.exec(t);return a?a[1]?e(a[1]):n:!1},cB=t=>t==="position",IJ=new Set(["image","url"]),lB=t=>IJ.has(t),DJ=new Set(["length","size","percentage"]),uB=t=>DJ.has(t),fB=t=>t==="length",RJ=t=>t==="number",PJ=t=>t==="family-name",FJ=t=>t==="shadow",OJ=()=>{const t=Tr("color"),e=Tr("font"),n=Tr("text"),a=Tr("font-weight"),r=Tr("tracking"),s=Tr("leading"),i=Tr("breakpoint"),o=Tr("container"),c=Tr("spacing"),l=Tr("radius"),u=Tr("shadow"),d=Tr("inset-shadow"),h=Tr("drop-shadow"),m=Tr("blur"),y=Tr("perspective"),v=Tr("aspect"),x=Tr("ease"),k=Tr("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],C=()=>[Nt,At,c],E=()=>[Ep,"full","auto",...C()],D=()=>[hf,"none","subgrid",Nt,At],I=()=>["auto",{span:["full",hf,Nt,At]},Nt,At],P=()=>[hf,"auto",Nt,At],R=()=>["auto","min","max","fr",Nt,At],B=()=>["start","end","center","between","around","evenly","stretch","baseline"],U=()=>["start","end","center","stretch"],V=()=>["auto",...C()],j=()=>[Ep,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[t,Nt,At],J=()=>[JF,mf],q=()=>["","none","full",l,Nt,At],Z=()=>["",Tn,tv,mf],M=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>["","none",m,Nt,At],le=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nt,At],ie=()=>["none",Tn,Nt,At],ye=()=>["none",Tn,Nt,At],ke=()=>[Tn,Nt,At],ge=()=>[Ep,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xl],breakpoint:[Xl],color:[gJ],container:[Xl],"drop-shadow":[Xl],ease:["in","out","in-out"],font:[kJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xl],shadow:[Xl],spacing:["px",Tn],text:[Xl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ep,At,Nt,v]}],container:["container"],columns:[{columns:[Tn,At,Nt,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),At,Nt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[hf,"auto",Nt,At]}],basis:[{basis:[Ep,"full","auto",o,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Tn,Ep,"auto","initial","none",At]}],grow:[{grow:["",Tn,Nt,At]}],shrink:[{shrink:["",Tn,Nt,At]}],order:[{order:[hf,"first","last","none",Nt,At]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...U(),"baseline"]}],"align-self":[{self:["auto",...U(),"baseline"]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[o,"screen",...j()]}],"min-w":[{"min-w":[o,"screen","none",...j()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...j()]}],h:[{h:["screen",...j()]}],"min-h":[{"min-h":["screen","none",...j()]}],"max-h":[{"max-h":["screen",...j()]}],"font-size":[{text:["base",n,tv,mf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Nt,iN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",JF,At]}],"font-family":[{font:[NJ,At,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Nt,At]}],"line-clamp":[{"line-clamp":[Tn,"none",Nt,iN]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",Nt,At]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Nt,At]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:[Tn,"from-font","auto",Nt,mf]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Tn,"auto",Nt,At]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt,At]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt,At]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),SJ,bJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",TJ,wJ]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hf,Nt,At],radial:["",Nt,At],conic:[hf,Nt,At]},EJ,_J]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...M(),"hidden","none"]}],"divide-style":[{divide:[...M(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...M(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Tn,Nt,At]}],"outline-w":[{outline:["",Tn,tv,mf]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",u,CJ,AJ]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",Nt,At,d]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Tn,mf]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":W()}],opacity:[{opacity:[Tn,Nt,At]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none",Nt,At]}],blur:[{blur:ue()}],brightness:[{brightness:[Tn,Nt,At]}],contrast:[{contrast:[Tn,Nt,At]}],"drop-shadow":[{"drop-shadow":["","none",h,Nt,At]}],grayscale:[{grayscale:["",Tn,Nt,At]}],"hue-rotate":[{"hue-rotate":[Tn,Nt,At]}],invert:[{invert:["",Tn,Nt,At]}],saturate:[{saturate:[Tn,Nt,At]}],sepia:[{sepia:["",Tn,Nt,At]}],"backdrop-filter":[{"backdrop-filter":["","none",Nt,At]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Tn,Nt,At]}],"backdrop-contrast":[{"backdrop-contrast":[Tn,Nt,At]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Tn,Nt,At]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Tn,Nt,At]}],"backdrop-invert":[{"backdrop-invert":["",Tn,Nt,At]}],"backdrop-opacity":[{"backdrop-opacity":[Tn,Nt,At]}],"backdrop-saturate":[{"backdrop-saturate":[Tn,Nt,At]}],"backdrop-sepia":[{"backdrop-sepia":["",Tn,Nt,At]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Nt,At]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Tn,"initial",Nt,At]}],ease:[{ease:["linear","initial",x,Nt,At]}],delay:[{delay:[Tn,Nt,At]}],animate:[{animate:["none",k,Nt,At]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Nt,At]}],"perspective-origin":[{"perspective-origin":le()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[Nt,At,"","none","gpu","cpu"]}],"transform-origin":[{origin:le()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ge()}],"translate-x":[{"translate-x":ge()}],"translate-y":[{"translate-y":ge()}],"translate-z":[{"translate-z":ge()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt,At]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt,At]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Tn,tv,mf,iN]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},$J=lJ(OJ);function ln(...t){return $J(aB(t))}function eO(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zg(...t){return e=>{let n=!1;const a=t.map(r=>{const s=eO(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<a.length;r++){const s=a[r];typeof s=="function"?s():eO(t[r],null)}}}}function xa(...t){return F.useCallback(Zg(...t),t)}var Hf=F.forwardRef((t,e)=>{const{children:n,...a}=t,r=F.Children.toArray(n),s=r.find(MJ);if(s){const i=s.props.children,o=r.map(c=>c===s?F.Children.count(i)>1?F.Children.only(null):F.isValidElement(i)?i.props.children:null:c);return L.jsx(ES,{...a,ref:e,children:F.isValidElement(i)?F.cloneElement(i,void 0,o):null})}return L.jsx(ES,{...a,ref:e,children:n})});Hf.displayName="Slot";var ES=F.forwardRef((t,e)=>{const{children:n,...a}=t;if(F.isValidElement(n)){const r=zJ(n),s=BJ(a,n.props);return n.type!==F.Fragment&&(s.ref=e?Zg(e,r):r),F.cloneElement(n,s)}return F.Children.count(n)>1?F.Children.only(null):null});ES.displayName="SlotClone";var LJ=({children:t})=>L.jsx(L.Fragment,{children:t});function MJ(t){return F.isValidElement(t)&&t.type===LJ}function BJ(t,e){const n={...e};for(const a in e){const r=t[a],s=e[a];/^on[A-Z]/.test(a)?r&&s?n[a]=(...o)=>{s(...o),r(...o)}:r&&(n[a]=r):a==="style"?n[a]={...r,...s}:a==="className"&&(n[a]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function zJ(t){var a,r;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const tO=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nO=aB,Qg=(t,e)=>n=>{var a;if((e==null?void 0:e.variants)==null)return nO(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,i=Object.keys(r).map(l=>{const u=n==null?void 0:n[l],d=s==null?void 0:s[l];if(u===null)return null;const h=tO(u)||tO(d);return r[l][h]}),o=n&&Object.entries(n).reduce((l,u)=>{let[d,h]=u;return h===void 0||(l[d]=h),l},{}),c=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((l,u)=>{let{class:d,className:h,...m}=u;return Object.entries(m).every(y=>{let[v,x]=y;return Array.isArray(x)?x.includes({...s,...o}[v]):{...s,...o}[v]===x})?[...l,d,h]:l},[]);return nO(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},GJ=Qg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 shadow hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white shadow-sm hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 shadow-sm hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ia=F.forwardRef(({className:t,variant:e,size:n,asChild:a=!1,...r},s)=>{const i=a?Hf:"button";return L.jsx(i,{className:ln(GJ({variant:e,size:n,className:t})),ref:s,...r})});ia.displayName="Button";const UJ=()=>{const[t,e]=F.useState(null),[n,a]=F.useState(()=>{const i=localStorage.getItem("showInstall");return JSON.parse(i||"true")}),{t:r}=Hg("header");F.useEffect(()=>{const i=()=>{const o=localStorage.getItem("showInstall");a(JSON.parse(o||"true"))};return window.addEventListener("storage",i),()=>{window.removeEventListener("storage",i)}},[]),F.useEffect(()=>{const i=o=>{o.preventDefault(),e(o)};return window.addEventListener("beforeinstallprompt",i),()=>{window.removeEventListener("beforeinstallprompt",i)}},[]);const s=async()=>{console.log("install clicked",t),t&&(console.log("prompting"),await t.prompt(),console.log("awaiting user choice"),(await t.userChoice).outcome==="accepted"?(console.log("User accepted the install prompt"),a(!1),localStorage.setItem("showInstall","false")):console.log("User dismissed the install prompt"),e(null))};return!n||!t?null:L.jsxs("div",{style:{position:"fixed",bottom:"10px",left:"50%",transform:"translateX(-50%)"},className:"block sm:hidden border-2 border-slate-600 p-2 shadow-sm bg-gray-900 rounded-md",children:[L.jsx("p",{className:"pb-2",children:r("install")}),L.jsxs("div",{className:"justify-between flex",children:[L.jsx(ia,{onClick:s,type:"button",variant:"default",children:r("accept")}),L.jsx(ia,{onClick:()=>{a(!1),localStorage.setItem("showInstall","false")},type:"button",variant:"outline",children:r("cancel")})]})]})},WJ=1,VJ=1e6;let oN=0;function jJ(){return oN=(oN+1)%Number.MAX_SAFE_INTEGER,oN.toString()}const cN=new Map,aO=t=>{if(cN.has(t))return;const e=setTimeout(()=>{cN.delete(t),E0({type:"REMOVE_TOAST",toastId:t})},VJ);cN.set(t,e)},HJ=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,WJ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;if(n)aO(n);else for(const a of t.toasts)aO(a.id);return{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Uv=[];let Wv={toasts:[]};function E0(t){Wv=HJ(Wv,t);for(const e of Uv)e(Wv)}function KJ({...t}){const e=jJ(),n=r=>E0({type:"UPDATE_TOAST",toast:{...r,id:e}}),a=()=>E0({type:"DISMISS_TOAST",toastId:e});return E0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||a()}}}),{id:e,dismiss:a,update:n}}function TE(){const[t,e]=F.useState(Wv);return F.useEffect(()=>(Uv.push(e),()=>{const n=Uv.indexOf(e);n>-1&&Uv.splice(n,1)}),[t]),{...t,toast:KJ,dismiss:n=>E0({type:"DISMISS_TOAST",toastId:n})}}function Pt(t,e,n,a){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function o(u){try{l(a.next(u))}catch(d){i(d)}}function c(u){try{l(a.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((a=a.apply(t,[])).next())})}function qJ(t,e,n,a){if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(t):a?a.value:e.get(t)}class Vt{constructor(e,n,a){this.method=e,this.attribute=n,a!==void 0&&(Array.isArray(a)?this.values=a:this.values=[a])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}Vt.equal=(t,e)=>new Vt("equal",t,e).toString();Vt.notEqual=(t,e)=>new Vt("notEqual",t,e).toString();Vt.lessThan=(t,e)=>new Vt("lessThan",t,e).toString();Vt.lessThanEqual=(t,e)=>new Vt("lessThanEqual",t,e).toString();Vt.greaterThan=(t,e)=>new Vt("greaterThan",t,e).toString();Vt.greaterThanEqual=(t,e)=>new Vt("greaterThanEqual",t,e).toString();Vt.isNull=t=>new Vt("isNull",t).toString();Vt.isNotNull=t=>new Vt("isNotNull",t).toString();Vt.between=(t,e,n)=>new Vt("between",t,[e,n]).toString();Vt.startsWith=(t,e)=>new Vt("startsWith",t,e).toString();Vt.endsWith=(t,e)=>new Vt("endsWith",t,e).toString();Vt.select=t=>new Vt("select",void 0,t).toString();Vt.search=(t,e)=>new Vt("search",t,e).toString();Vt.orderDesc=t=>new Vt("orderDesc",t).toString();Vt.orderAsc=t=>new Vt("orderAsc",t).toString();Vt.cursorAfter=t=>new Vt("cursorAfter",void 0,t).toString();Vt.cursorBefore=t=>new Vt("cursorBefore",void 0,t).toString();Vt.limit=t=>new Vt("limit",void 0,t).toString();Vt.offset=t=>new Vt("offset",void 0,t).toString();Vt.contains=(t,e)=>new Vt("contains",t,e).toString();Vt.or=t=>new Vt("or",void 0,t.map(e=>JSON.parse(e))).toString();Vt.and=t=>new Vt("and",void 0,t.map(e=>JSON.parse(e))).toString();class ht extends Error{constructor(e,n=0,a="",r=""){super(e),this.name="AppwriteException",this.message=e,this.code=n,this.type=a,this.response=r}}class jc{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"17.0.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,n,a;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const r=new URLSearchParams;r.set("project",this.config.project),this.realtime.channels.forEach(i=>{r.append("channels[]",i)});const s=this.config.endpointRealtime+"/realtime?"+r.toString();(s!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((a=this.realtime.socket)===null||a===void 0?void 0:a.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=s,this.realtime.socket=new WebSocket(s),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",i=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",i=>{var o,c,l;if(!this.realtime.reconnect||((c=(o=this.realtime)===null||o===void 0?void 0:o.lastMessage)===null||c===void 0?void 0:c.type)==="error"&&((l=this.realtime)===null||l===void 0?void 0:l.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const u=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${u/1e3} seconds.`,i.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},u)}))},onMessage:e=>{var n,a;try{const r=JSON.parse(e.data);switch(this.realtime.lastMessage=r,r.type){case"connected":const s=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}"),i=s==null?void 0:s[`a_session_${this.config.project}`],o=r.data;i&&!o.user&&((a=this.realtime.socket)===null||a===void 0||a.send(JSON.stringify({type:"authentication",data:{session:i}})));break;case"event":let c=r.data;if(c!=null&&c.channels){if(!c.channels.some(u=>this.realtime.channels.has(u)))return;this.realtime.subscriptions.forEach(u=>{c.channels.some(d=>u.channels.includes(d))&&setTimeout(()=>u.callback(c))})}break;case"pong":break;case"error":throw r.data;default:break}}catch(r){console.error(r)}},cleanUp:e=>{this.realtime.channels.forEach(n=>{e.includes(n)&&(Array.from(this.realtime.subscriptions).some(([r,s])=>s.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,n){let a=typeof e=="string"?[e]:e;a.forEach(s=>this.realtime.channels.add(s));const r=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(r,{channels:a,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(r),this.realtime.cleanUp(a),this.realtime.connect()}}prepareRequest(e,n,a={},r={}){if(e=e.toUpperCase(),a=Object.assign({},this.headers,a),typeof window<"u"&&window.localStorage){const i=window.localStorage.getItem("cookieFallback");i&&(a["X-Fallback-Cookies"]=i)}let s={method:e,headers:a,credentials:"include"};if(e==="GET")for(const[i,o]of Object.entries(jc.flatten(r)))n.searchParams.append(i,o);else switch(a["content-type"]){case"application/json":s.body=JSON.stringify(r);break;case"multipart/form-data":const i=new FormData;for(const[o,c]of Object.entries(r))if(c instanceof File)i.append(o,c,c.name);else if(Array.isArray(c))for(const l of c)i.append(`${o}[]`,l);else i.append(o,c);s.body=i,delete a["content-type"];break}return{uri:n.toString(),options:s}}chunkedUpload(e,n,a={},r={},s){return Pt(this,void 0,void 0,function*(){const i=Object.values(r).find(l=>l instanceof File);if(i.size<=jc.CHUNK_SIZE)return yield this.call(e,n,a,r);let o=0,c=null;for(;o<i.size;){let l=o+jc.CHUNK_SIZE;l>=i.size&&(l=i.size),a["content-range"]=`bytes ${o}-${l-1}/${i.size}`;const u=i.slice(o,l);let d=Object.assign(Object.assign({},r),{file:new File([u],i.name)});c=yield this.call(e,n,a,d),s&&typeof s=="function"&&s({$id:c.$id,progress:Math.round(l/i.size*100),sizeUploaded:l,chunksTotal:Math.ceil(i.size/jc.CHUNK_SIZE),chunksUploaded:Math.ceil(l/jc.CHUNK_SIZE)}),c&&c.$id&&(a["x-appwrite-id"]=c.$id),o=l}return c})}ping(){return Pt(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,n,a={},r={},s="json"){var i;return Pt(this,void 0,void 0,function*(){const{uri:o,options:c}=this.prepareRequest(e,n,a,r);let l=null;const u=yield fetch(o,c),d=u.headers.get("x-appwrite-warning");if(d&&d.split(";").forEach(m=>console.warn("Warning: "+m)),!((i=u.headers.get("content-type"))===null||i===void 0)&&i.includes("application/json")?l=yield u.json():s==="arrayBuffer"?l=yield u.arrayBuffer():l={message:yield u.text()},400<=u.status)throw new ht(l==null?void 0:l.message,u.status,l==null?void 0:l.type,l);const h=u.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&h&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",h)),l})}static flatten(e,n=""){let a={};for(const[r,s]of Object.entries(e)){let i=n?n+"["+r+"]":r;Array.isArray(s)?a=Object.assign(Object.assign({},a),jc.flatten(s,i)):a[i]=s}return a}}jc.CHUNK_SIZE=1024*1024*5;class X0{constructor(e){this.client=e}static flatten(e,n=""){let a={};for(const[r,s]of Object.entries(e)){let i=n?n+"["+r+"]":r;Array.isArray(s)?a=Object.assign(Object.assign({},a),X0.flatten(s,i)):a[i]=s}return a}}X0.CHUNK_SIZE=5*1024*1024;class _w{constructor(e){this.client=e}get(){return Pt(this,void 0,void 0,function*(){const e="/account",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("get",a,r,n)})}create(e,n,a,r){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "email"');if(typeof a>"u")throw new ht('Missing required parameter: "password"');const s="/account",i={};typeof e<"u"&&(i.userId=e),typeof n<"u"&&(i.email=n),typeof a<"u"&&(i.password=a),typeof r<"u"&&(i.name=r);const o=new URL(this.client.config.endpoint+s),c={"content-type":"application/json"};return yield this.client.call("post",o,c,i)})}updateEmail(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "email"');if(typeof n>"u")throw new ht('Missing required parameter: "password"');const a="/account/email",r={};typeof e<"u"&&(r.email=e),typeof n<"u"&&(r.password=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("patch",s,i,r)})}listIdentities(e){return Pt(this,void 0,void 0,function*(){const n="/account/identities",a={};typeof e<"u"&&(a.queries=e);const r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("get",r,s,a)})}deleteIdentity(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "identityId"');const n="/account/identities/{identityId}".replace("{identityId}",e),a={},r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("delete",r,s,a)})}createJWT(){return Pt(this,void 0,void 0,function*(){const e="/account/jwts",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("post",a,r,n)})}listLogs(e){return Pt(this,void 0,void 0,function*(){const n="/account/logs",a={};typeof e<"u"&&(a.queries=e);const r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("get",r,s,a)})}updateMFA(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "mfa"');const n="/account/mfa",a={};typeof e<"u"&&(a.mfa=e);const r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,a)})}createMfaAuthenticator(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "type"');const n="/account/mfa/authenticators/{type}".replace("{type}",e),a={},r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("post",r,s,a)})}updateMfaAuthenticator(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "type"');if(typeof n>"u")throw new ht('Missing required parameter: "otp"');const a="/account/mfa/authenticators/{type}".replace("{type}",e),r={};typeof n<"u"&&(r.otp=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("put",s,i,r)})}deleteMfaAuthenticator(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "type"');const n="/account/mfa/authenticators/{type}".replace("{type}",e),a={},r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("delete",r,s,a)})}createMfaChallenge(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "factor"');const n="/account/mfa/challenge",a={};typeof e<"u"&&(a.factor=e);const r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("post",r,s,a)})}updateMfaChallenge(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "challengeId"');if(typeof n>"u")throw new ht('Missing required parameter: "otp"');const a="/account/mfa/challenge",r={};typeof e<"u"&&(r.challengeId=e),typeof n<"u"&&(r.otp=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("put",s,i,r)})}listMfaFactors(){return Pt(this,void 0,void 0,function*(){const e="/account/mfa/factors",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("get",a,r,n)})}getMfaRecoveryCodes(){return Pt(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("get",a,r,n)})}createMfaRecoveryCodes(){return Pt(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("post",a,r,n)})}updateMfaRecoveryCodes(){return Pt(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("patch",a,r,n)})}updateName(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "name"');const n="/account/name",a={};typeof e<"u"&&(a.name=e);const r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,a)})}updatePassword(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "password"');const a="/account/password",r={};typeof e<"u"&&(r.password=e),typeof n<"u"&&(r.oldPassword=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("patch",s,i,r)})}updatePhone(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "phone"');if(typeof n>"u")throw new ht('Missing required parameter: "password"');const a="/account/phone",r={};typeof e<"u"&&(r.phone=e),typeof n<"u"&&(r.password=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("patch",s,i,r)})}getPrefs(){return Pt(this,void 0,void 0,function*(){const e="/account/prefs",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("get",a,r,n)})}updatePrefs(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "prefs"');const n="/account/prefs",a={};typeof e<"u"&&(a.prefs=e);const r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,a)})}createRecovery(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "email"');if(typeof n>"u")throw new ht('Missing required parameter: "url"');const a="/account/recovery",r={};typeof e<"u"&&(r.email=e),typeof n<"u"&&(r.url=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("post",s,i,r)})}updateRecovery(e,n,a){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "secret"');if(typeof a>"u")throw new ht('Missing required parameter: "password"');const r="/account/recovery",s={};typeof e<"u"&&(s.userId=e),typeof n<"u"&&(s.secret=n),typeof a<"u"&&(s.password=a);const i=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("put",i,o,s)})}listSessions(){return Pt(this,void 0,void 0,function*(){const e="/account/sessions",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("get",a,r,n)})}deleteSessions(){return Pt(this,void 0,void 0,function*(){const e="/account/sessions",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("delete",a,r,n)})}createAnonymousSession(){return Pt(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("post",a,r,n)})}createEmailPasswordSession(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "email"');if(typeof n>"u")throw new ht('Missing required parameter: "password"');const a="/account/sessions/email",r={};typeof e<"u"&&(r.email=e),typeof n<"u"&&(r.password=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("post",s,i,r)})}updateMagicURLSession(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "secret"');const a="/account/sessions/magic-url",r={};typeof e<"u"&&(r.userId=e),typeof n<"u"&&(r.secret=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("put",s,i,r)})}createOAuth2Session(e,n,a,r){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "provider"');const s="/account/sessions/oauth2/{provider}".replace("{provider}",e),i={};typeof n<"u"&&(i.success=n),typeof a<"u"&&(i.failure=a),typeof r<"u"&&(i.scopes=r);const o=new URL(this.client.config.endpoint+s);i.project=this.client.config.project;for(const[c,l]of Object.entries(X0.flatten(i)))o.searchParams.append(c,l);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=o.toString();return}else return o.toString()})}updatePhoneSession(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "secret"');const a="/account/sessions/phone",r={};typeof e<"u"&&(r.userId=e),typeof n<"u"&&(r.secret=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("put",s,i,r)})}createSession(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "secret"');const a="/account/sessions/token",r={};typeof e<"u"&&(r.userId=e),typeof n<"u"&&(r.secret=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("post",s,i,r)})}getSession(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "sessionId"');const n="/account/sessions/{sessionId}".replace("{sessionId}",e),a={},r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("get",r,s,a)})}updateSession(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "sessionId"');const n="/account/sessions/{sessionId}".replace("{sessionId}",e),a={},r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("patch",r,s,a)})}deleteSession(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "sessionId"');const n="/account/sessions/{sessionId}".replace("{sessionId}",e),a={},r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("delete",r,s,a)})}updateStatus(){return Pt(this,void 0,void 0,function*(){const e="/account/status",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("patch",a,r,n)})}createPushTarget(e,n,a){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "targetId"');if(typeof n>"u")throw new ht('Missing required parameter: "identifier"');const r="/account/targets/push",s={};typeof e<"u"&&(s.targetId=e),typeof n<"u"&&(s.identifier=n),typeof a<"u"&&(s.providerId=a);const i=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("post",i,o,s)})}updatePushTarget(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "targetId"');if(typeof n>"u")throw new ht('Missing required parameter: "identifier"');const a="/account/targets/{targetId}/push".replace("{targetId}",e),r={};typeof n<"u"&&(r.identifier=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("put",s,i,r)})}deletePushTarget(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "targetId"');const n="/account/targets/{targetId}/push".replace("{targetId}",e),a={},r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("delete",r,s,a)})}createEmailToken(e,n,a){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "email"');const r="/account/tokens/email",s={};typeof e<"u"&&(s.userId=e),typeof n<"u"&&(s.email=n),typeof a<"u"&&(s.phrase=a);const i=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("post",i,o,s)})}createMagicURLToken(e,n,a,r){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "email"');const s="/account/tokens/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof n<"u"&&(i.email=n),typeof a<"u"&&(i.url=a),typeof r<"u"&&(i.phrase=r);const o=new URL(this.client.config.endpoint+s),c={"content-type":"application/json"};return yield this.client.call("post",o,c,i)})}createOAuth2Token(e,n,a,r){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "provider"');const s="/account/tokens/oauth2/{provider}".replace("{provider}",e),i={};typeof n<"u"&&(i.success=n),typeof a<"u"&&(i.failure=a),typeof r<"u"&&(i.scopes=r);const o=new URL(this.client.config.endpoint+s);i.project=this.client.config.project;for(const[c,l]of Object.entries(X0.flatten(i)))o.searchParams.append(c,l);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=o.toString();return}else return o.toString()})}createPhoneToken(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "phone"');const a="/account/tokens/phone",r={};typeof e<"u"&&(r.userId=e),typeof n<"u"&&(r.phone=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("post",s,i,r)})}createVerification(e){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "url"');const n="/account/verification",a={};typeof e<"u"&&(a.url=e);const r=new URL(this.client.config.endpoint+n),s={"content-type":"application/json"};return yield this.client.call("post",r,s,a)})}updateVerification(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "secret"');const a="/account/verification",r={};typeof e<"u"&&(r.userId=e),typeof n<"u"&&(r.secret=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("put",s,i,r)})}createPhoneVerification(){return Pt(this,void 0,void 0,function*(){const e="/account/verification/phone",n={},a=new URL(this.client.config.endpoint+e),r={"content-type":"application/json"};return yield this.client.call("post",a,r,n)})}updatePhoneVerification(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "userId"');if(typeof n>"u")throw new ht('Missing required parameter: "secret"');const a="/account/verification/phone",r={};typeof e<"u"&&(r.userId=e),typeof n<"u"&&(r.secret=n);const s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("put",s,i,r)})}}class XJ{constructor(e){this.client=e}listDocuments(e,n,a){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ht('Missing required parameter: "collectionId"');const r="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",n),s={};typeof a<"u"&&(s.queries=a);const i=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("get",i,o,s)})}createDocument(e,n,a,r,s){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ht('Missing required parameter: "collectionId"');if(typeof a>"u")throw new ht('Missing required parameter: "documentId"');if(typeof r>"u")throw new ht('Missing required parameter: "data"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",n),o={};typeof a<"u"&&(o.documentId=a),typeof r<"u"&&(o.data=r),typeof s<"u"&&(o.permissions=s);const c=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return yield this.client.call("post",c,l,o)})}getDocument(e,n,a,r){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ht('Missing required parameter: "collectionId"');if(typeof a>"u")throw new ht('Missing required parameter: "documentId"');const s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",n).replace("{documentId}",a),i={};typeof r<"u"&&(i.queries=r);const o=new URL(this.client.config.endpoint+s),c={"content-type":"application/json"};return yield this.client.call("get",o,c,i)})}updateDocument(e,n,a,r,s){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ht('Missing required parameter: "collectionId"');if(typeof a>"u")throw new ht('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",n).replace("{documentId}",a),o={};typeof r<"u"&&(o.data=r),typeof s<"u"&&(o.permissions=s);const c=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return yield this.client.call("patch",c,l,o)})}deleteDocument(e,n,a){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "databaseId"');if(typeof n>"u")throw new ht('Missing required parameter: "collectionId"');if(typeof a>"u")throw new ht('Missing required parameter: "documentId"');const r="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",n).replace("{documentId}",a),s={},i=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,s)})}}class YJ{constructor(e){this.client=e}listExecutions(e,n,a){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "functionId"');const r="/functions/{functionId}/executions".replace("{functionId}",e),s={};typeof n<"u"&&(s.queries=n),typeof a<"u"&&(s.search=a);const i=new URL(this.client.config.endpoint+r),o={"content-type":"application/json"};return yield this.client.call("get",i,o,s)})}createExecution(e,n,a,r,s,i,o){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "functionId"');const c="/functions/{functionId}/executions".replace("{functionId}",e),l={};typeof n<"u"&&(l.body=n),typeof a<"u"&&(l.async=a),typeof r<"u"&&(l.path=r),typeof s<"u"&&(l.method=s),typeof i<"u"&&(l.headers=i),typeof o<"u"&&(l.scheduledAt=o);const u=new URL(this.client.config.endpoint+c),d={"content-type":"application/json"};return yield this.client.call("post",u,d,l)})}getExecution(e,n){return Pt(this,void 0,void 0,function*(){if(typeof e>"u")throw new ht('Missing required parameter: "functionId"');if(typeof n>"u")throw new ht('Missing required parameter: "executionId"');const a="/functions/{functionId}/executions/{executionId}".replace("{functionId}",e).replace("{executionId}",n),r={},s=new URL(this.client.config.endpoint+a),i={"content-type":"application/json"};return yield this.client.call("get",s,i,r)})}}var dB,pB;class ol{static custom(e){return e}static unique(e=7){const n=qJ(ol,dB,"m",pB).call(ol);let a="";for(let r=0;r<e;r++){const s=Math.floor(Math.random()*16).toString(16);a+=s}return n+a}}dB=ol,pB=function(){const e=new Date,n=Math.floor(e.getTime()/1e3),a=e.getMilliseconds();return n.toString(16)+a.toString(16).padStart(5,"0")};var rO;(function(t){t.Totp="totp"})(rO||(rO={}));var sO;(function(t){t.Email="email",t.Phone="phone",t.Totp="totp",t.Recoverycode="recoverycode"})(sO||(sO={}));var iO;(function(t){t.Amazon="amazon",t.Apple="apple",t.Auth0="auth0",t.Authentik="authentik",t.Autodesk="autodesk",t.Bitbucket="bitbucket",t.Bitly="bitly",t.Box="box",t.Dailymotion="dailymotion",t.Discord="discord",t.Disqus="disqus",t.Dropbox="dropbox",t.Etsy="etsy",t.Facebook="facebook",t.Github="github",t.Gitlab="gitlab",t.Google="google",t.Linkedin="linkedin",t.Microsoft="microsoft",t.Notion="notion",t.Oidc="oidc",t.Okta="okta",t.Paypal="paypal",t.PaypalSandbox="paypalSandbox",t.Podio="podio",t.Salesforce="salesforce",t.Slack="slack",t.Spotify="spotify",t.Stripe="stripe",t.Tradeshift="tradeshift",t.TradeshiftBox="tradeshiftBox",t.Twitch="twitch",t.Wordpress="wordpress",t.Yahoo="yahoo",t.Yammer="yammer",t.Yandex="yandex",t.Zoho="zoho",t.Zoom="zoom",t.Mock="mock"})(iO||(iO={}));var oO;(function(t){t.AvantBrowser="aa",t.AndroidWebViewBeta="an",t.GoogleChrome="ch",t.GoogleChromeIOS="ci",t.GoogleChromeMobile="cm",t.Chromium="cr",t.MozillaFirefox="ff",t.Safari="sf",t.MobileSafari="mf",t.MicrosoftEdge="ps",t.MicrosoftEdgeIOS="oi",t.OperaMini="om",t.Opera="op",t.OperaNext="on"})(oO||(oO={}));var cO;(function(t){t.AmericanExpress="amex",t.Argencard="argencard",t.Cabal="cabal",t.Cencosud="cencosud",t.DinersClub="diners",t.Discover="discover",t.Elo="elo",t.Hipercard="hipercard",t.JCB="jcb",t.Mastercard="mastercard",t.Naranja="naranja",t.TarjetaShopping="targeta-shopping",t.UnionChinaPay="union-china-pay",t.Visa="visa",t.MIR="mir",t.Maestro="maestro"})(cO||(cO={}));var lO;(function(t){t.Afghanistan="af",t.Angola="ao",t.Albania="al",t.Andorra="ad",t.UnitedArabEmirates="ae",t.Argentina="ar",t.Armenia="am",t.AntiguaAndBarbuda="ag",t.Australia="au",t.Austria="at",t.Azerbaijan="az",t.Burundi="bi",t.Belgium="be",t.Benin="bj",t.BurkinaFaso="bf",t.Bangladesh="bd",t.Bulgaria="bg",t.Bahrain="bh",t.Bahamas="bs",t.BosniaAndHerzegovina="ba",t.Belarus="by",t.Belize="bz",t.Bolivia="bo",t.Brazil="br",t.Barbados="bb",t.BruneiDarussalam="bn",t.Bhutan="bt",t.Botswana="bw",t.CentralAfricanRepublic="cf",t.Canada="ca",t.Switzerland="ch",t.Chile="cl",t.China="cn",t.CoteDIvoire="ci",t.Cameroon="cm",t.DemocraticRepublicOfTheCongo="cd",t.RepublicOfTheCongo="cg",t.Colombia="co",t.Comoros="km",t.CapeVerde="cv",t.CostaRica="cr",t.Cuba="cu",t.Cyprus="cy",t.CzechRepublic="cz",t.Germany="de",t.Djibouti="dj",t.Dominica="dm",t.Denmark="dk",t.DominicanRepublic="do",t.Algeria="dz",t.Ecuador="ec",t.Egypt="eg",t.Eritrea="er",t.Spain="es",t.Estonia="ee",t.Ethiopia="et",t.Finland="fi",t.Fiji="fj",t.France="fr",t.MicronesiaFederatedStatesOf="fm",t.Gabon="ga",t.UnitedKingdom="gb",t.Georgia="ge",t.Ghana="gh",t.Guinea="gn",t.Gambia="gm",t.GuineaBissau="gw",t.EquatorialGuinea="gq",t.Greece="gr",t.Grenada="gd",t.Guatemala="gt",t.Guyana="gy",t.Honduras="hn",t.Croatia="hr",t.Haiti="ht",t.Hungary="hu",t.Indonesia="id",t.India="in",t.Ireland="ie",t.IranIslamicRepublicOf="ir",t.Iraq="iq",t.Iceland="is",t.Israel="il",t.Italy="it",t.Jamaica="jm",t.Jordan="jo",t.Japan="jp",t.Kazakhstan="kz",t.Kenya="ke",t.Kyrgyzstan="kg",t.Cambodia="kh",t.Kiribati="ki",t.SaintKittsAndNevis="kn",t.SouthKorea="kr",t.Kuwait="kw",t.LaoPeopleSDemocraticRepublic="la",t.Lebanon="lb",t.Liberia="lr",t.Libya="ly",t.SaintLucia="lc",t.Liechtenstein="li",t.SriLanka="lk",t.Lesotho="ls",t.Lithuania="lt",t.Luxembourg="lu",t.Latvia="lv",t.Morocco="ma",t.Monaco="mc",t.Moldova="md",t.Madagascar="mg",t.Maldives="mv",t.Mexico="mx",t.MarshallIslands="mh",t.NorthMacedonia="mk",t.Mali="ml",t.Malta="mt",t.Myanmar="mm",t.Montenegro="me",t.Mongolia="mn",t.Mozambique="mz",t.Mauritania="mr",t.Mauritius="mu",t.Malawi="mw",t.Malaysia="my",t.Namibia="na",t.Niger="ne",t.Nigeria="ng",t.Nicaragua="ni",t.Netherlands="nl",t.Norway="no",t.Nepal="np",t.Nauru="nr",t.NewZealand="nz",t.Oman="om",t.Pakistan="pk",t.Panama="pa",t.Peru="pe",t.Philippines="ph",t.Palau="pw",t.PapuaNewGuinea="pg",t.Poland="pl",t.FrenchPolynesia="pf",t.NorthKorea="kp",t.Portugal="pt",t.Paraguay="py",t.Qatar="qa",t.Romania="ro",t.Russia="ru",t.Rwanda="rw",t.SaudiArabia="sa",t.Sudan="sd",t.Senegal="sn",t.Singapore="sg",t.SolomonIslands="sb",t.SierraLeone="sl",t.ElSalvador="sv",t.SanMarino="sm",t.Somalia="so",t.Serbia="rs",t.SouthSudan="ss",t.SaoTomeAndPrincipe="st",t.Suriname="sr",t.Slovakia="sk",t.Slovenia="si",t.Sweden="se",t.Eswatini="sz",t.Seychelles="sc",t.Syria="sy",t.Chad="td",t.Togo="tg",t.Thailand="th",t.Tajikistan="tj",t.Turkmenistan="tm",t.TimorLeste="tl",t.Tonga="to",t.TrinidadAndTobago="tt",t.Tunisia="tn",t.Turkey="tr",t.Tuvalu="tv",t.Tanzania="tz",t.Uganda="ug",t.Ukraine="ua",t.Uruguay="uy",t.UnitedStates="us",t.Uzbekistan="uz",t.VaticanCity="va",t.SaintVincentAndTheGrenadines="vc",t.Venezuela="ve",t.Vietnam="vn",t.Vanuatu="vu",t.Samoa="ws",t.Yemen="ye",t.SouthAfrica="za",t.Zambia="zm",t.Zimbabwe="zw"})(lO||(lO={}));var uO;(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE",t.OPTIONS="OPTIONS"})(uO||(uO={}));var fO;(function(t){t.Center="center",t.Topleft="top-left",t.Top="top",t.Topright="top-right",t.Left="left",t.Right="right",t.Bottomleft="bottom-left",t.Bottom="bottom",t.Bottomright="bottom-right"})(fO||(fO={}));var dO;(function(t){t.Jpg="jpg",t.Jpeg="jpeg",t.Gif="gif",t.Png="png",t.Webp="webp",t.Heic="heic",t.Avif="avif"})(dO||(dO={}));const Mh=new jc().setProject("679d358b0013b9a1797f").setEndpoint("https://api.tcgpocketcollectiontracker.com/v1"),ZJ=new XJ(Mh),QJ=new YJ(Mh),fc="679f7ce60013c742add3",cl="679f7cf50003d1a172c5",JJ="67b1e20b0032c6efb057",hB=async()=>{try{const e=await new _w(Mh).get();return console.log("user is logged in",e),e}catch{return null}},eee=async t=>(await new _w(Mh).createEmailToken(ol.unique(),t)).userId,tee=async(t,e)=>(await new _w(Mh).createSession(t,e),await hB()),mB=async()=>{const e=await new _w(Mh).deleteSession("current");console.log("logged out",e)},Bh=async()=>ZJ,nee=async(t,e)=>{const n=await QJ.createExecution("67ba4433001821690693",JSON.stringify({sso:t,sig:e}));window.location.href=JSON.parse(n.responseBody).redirectUrl};async function aee(t){const e=await Bh(),{documents:n}=await e.listDocuments(fc,JJ,[Vt.select(["$id","username","friend_id"]),Vt.equal("email",t),Vt.limit(1)]);return n.length>0?n[0]:null}function ree({selected:t,setIsSelected:e,card:n,size:a="default"}){var _;const r=F.useRef(null),[s,i]=F.useState({x:0,y:0}),[o,c]=F.useState(!1),l=F.useRef(see(A=>i(A),50)),u=A=>{l.current({x:A.clientX,y:A.clientY})},d=F.useCallback(()=>{c(!0),window.addEventListener("mousemove",u)},[]),h=F.useCallback(()=>{c(!1),window.removeEventListener("mousemove",u)},[]);let m=0,y=0;if(r.current&&o){const A=r.current.getBoundingClientRect(),S=A.left+A.width/2,C=A.top+A.height/2;m=s.x-S,y=s.y-C}const v=(A,S,C)=>Math.min(Math.max(A,S),C),x=o?v(m/4,-10,10):0,k=o?v(-y/4,-10,10):0,b={transform:`perspective(1000px)
                   rotateY(${x}deg)
                   rotateX(${k}deg)
                   scale(${o?1.04:1})`,transition:"transform 0.3s cubic-bezier(0.17, 0.67, 0.5, 1.03)",transformStyle:"preserve-3d",cursor:"pointer",opacity:t?1:.5,width:a==="small"?"80px":"100%",height:a==="small"?"112px":"auto"};return L.jsx("div",{style:{flex:"1 0 20%",perspective:"1000px",transformStyle:"preserve-3d",display:"flex",justifyContent:"center",alignItems:"center",zIndex:o?10:0},children:L.jsx("img",{draggable:!1,onMouseDown:()=>e==null?void 0:e(!t),ref:r,className:"card-test",style:b,src:`/images/${(_=n.image)==null?void 0:_.split("/").at(-1)}`,alt:n.name,onMouseEnter:d,onMouseLeave:h})})}const see=(t,e)=>{let n=0,a=null;return(...r)=>{const s=performance.now(),i=s-n;if(i<e){a||(a=setTimeout(()=>{n=performance.now(),a=null,t(...r)},e-i));return}n=s,t(...r)}},Jg=F.createContext({ownedCards:[],setOwnedCards:()=>{},selectedCardId:"",setSelectedCardId:()=>{}}),vl=F.createContext({user:null,setUser:()=>{},account:null,setAccount:()=>{},isLoginDialogOpen:!1,setIsLoginDialogOpen:()=>{},isProfileDialogOpen:!1,setIsProfileDialogOpen:()=>{}});/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gB=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:s,iconNode:i,...o},c)=>F.createElement("svg",{ref:c,...oee,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:gB("lucide",r),...o},[...i.map(([l,u])=>F.createElement(l,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=(t,e)=>{const n=F.forwardRef(({className:a,...r},s)=>F.createElement(cee,{ref:s,iconNode:e,className:gB(`lucide-${iee(t)}`,a),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uee=Po("Check",lee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dee=Po("ChevronDown",fee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hee=Po("ChevronRight",pee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gee=Po("Circle",mee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],xee=Po("Globe",yee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],yB=Po("LogOut",vee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],wee=Po("Menu",kee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=[["path",{d:"M5 12h14",key:"1ays0h"}]],EE=Po("Minus",bee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xB=Po("Plus",_ee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]],vB=Po("UserRoundPen",Aee);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CE=Po("X",Nee),lN={};function See({card:t,useMaxWidth:e=!1}){const{user:n,setIsLoginDialogOpen:a}=F.use(vl),{ownedCards:r,setOwnedCards:s,setSelectedCardId:i}=F.use(Jg);let o=F.useMemo(()=>{var y;return((y=r.find(v=>v.card_id===t.card_id))==null?void 0:y.amount_owned)||0},[r]);const[c,l]=F.useState(0);F.useEffect(()=>{l(o)},[o]);const u=F.useCallback(async(y,v)=>{o=Math.max(0,v),l(o),lN[y]&&window.clearTimeout(lN[y]),lN[y]=window.setTimeout(async()=>{const x=await Bh(),k=r.find(b=>b.card_id===y);if(k)console.log("updating",k),k.amount_owned=Math.max(0,v),s([...r]),await x.updateDocument(fc,cl,k.$id,{amount_owned:k.amount_owned});else if(!k&&v>0){console.log("adding new card",y);const b=await x.createDocument(fc,cl,ol.unique(),{email:n==null?void 0:n.email,card_id:y,amount_owned:v});s([...r,{$id:b.$id,email:b.email,card_id:b.card_id,amount_owned:b.amount_owned}])}},1e3)},[r,n,s,o]),d=F.useCallback(async y=>{if(!n){a(!0);return}await u(y,o+1)},[u]),h=F.useCallback(async y=>{if(!n){a(!0);return}await u(y,o-1)},[u]),m=async y=>{const v=y.target.value===""?0:Number.parseInt(y.target.value,10);!Number.isNaN(v)&&v>=0&&await u(t.card_id,v)};return L.jsxs("div",{className:`group flex w-fit ${e?"":"max-w-32 md:max-w-40"} flex-col items-center rounded-lg cursor-pointer`,children:[L.jsx("div",{onClick:()=>i(t.card_id),children:L.jsx(ree,{card:t,selected:o>0})}),L.jsxs("p",{className:"max-w-[130px] overflow-hidden text-ellipsis whitespace-nowrap font-semibold text-[12px] pt-2",children:[t.card_id," - ",t.name]}),L.jsxs("div",{className:"flex items-center gap-x-1",children:[L.jsx(ia,{variant:"ghost",size:"icon",onClick:()=>h(t.card_id),className:"rounded-full",children:L.jsx(EE,{})}),L.jsx("input",{min:"0",max:"99",type:"text",value:c,onChange:m,className:"w-7 text-center border-none rounded",onFocus:y=>y.target.select()}),L.jsx(ia,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>d(t.card_id),children:L.jsx(xB,{})})]})]})}const RVe=async(t,e,n,a,r)=>{const s=await Bh(),i=[...n];for(const o of t){const c=i.find(l=>l.card_id===o);if(c)console.log("Updating existing card:",o),c.amount_owned=Math.max(0,e),await s.updateDocument(fc,cl,c.$id,{amount_owned:c.amount_owned});else if(!c&&e>0){console.log("Adding new card:",o);const l=await s.createDocument(fc,cl,ol.unique(),{card_id:o,amount_owned:e,email:r==null?void 0:r.email});i.push({$id:l.$id,email:l.email,card_id:l.card_id,amount_owned:l.amount_owned})}}a([...i])},Tee=async(t,e,n,a,r)=>{const s=await Bh(),i=[...n];for(const o of t){const c=i.find(d=>d.card_id===o),l=(c==null?void 0:c.amount_owned)||0,u=Math.max(0,l+e);if(c)console.log("Incrementing existing card:",o,"from",l,"to",u),c.amount_owned=u,await s.updateDocument(fc,cl,c.$id,{amount_owned:c.amount_owned});else if(!c&&u>0){console.log("Adding new card:",o,"with amount",u);const d=await s.createDocument(fc,cl,ol.unique(),{card_id:o,amount_owned:u,email:r==null?void 0:r.email});i.push({$id:d.$id,email:d.email,card_id:d.card_id,amount_owned:d.amount_owned})}}a([...i])};function wt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Eee(t,e){const n=F.createContext(e),a=s=>{const{children:i,...o}=s,c=F.useMemo(()=>o,Object.values(o));return L.jsx(n.Provider,{value:c,children:i})};a.displayName=t+"Provider";function r(s){const i=F.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[a,r]}function Du(t,e=[]){let n=[];function a(s,i){const o=F.createContext(i),c=n.length;n=[...n,i];const l=d=>{var k;const{scope:h,children:m,...y}=d,v=((k=h==null?void 0:h[t])==null?void 0:k[c])||o,x=F.useMemo(()=>y,Object.values(y));return L.jsx(v.Provider,{value:x,children:m})};l.displayName=s+"Provider";function u(d,h){var v;const m=((v=h==null?void 0:h[t])==null?void 0:v[c])||o,y=F.useContext(m);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[l,u]}const r=()=>{const s=n.map(i=>F.createContext(i));return function(o){const c=(o==null?void 0:o[t])||s;return F.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return r.scopeName=t,[a,Cee(r,...e)]}function Cee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const i=a.reduce((o,{useScope:c,scopeName:l})=>{const d=c(s)[`__scope${l}`];return{...o,...d}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var No=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},Iee=tZ.useId||(()=>{}),Dee=0;function nu(t){const[e,n]=F.useState(Iee());return No(()=>{n(a=>a??String(Dee++))},[t]),e?`radix-${e}`:""}function $a(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t}),F.useMemo(()=>(...n)=>{var a;return(a=e.current)==null?void 0:a.call(e,...n)},[])}function zh({prop:t,defaultProp:e,onChange:n=()=>{}}){const[a,r]=Ree({defaultProp:e,onChange:n}),s=t!==void 0,i=s?t:a,o=$a(n),c=F.useCallback(l=>{if(s){const d=typeof l=="function"?l(t):l;d!==t&&o(d)}else r(l)},[s,t,r,o]);return[i,c]}function Ree({defaultProp:t,onChange:e}){const n=F.useState(t),[a]=n,r=F.useRef(a),s=$a(e);return F.useEffect(()=>{r.current!==a&&(s(a),r.current=a)},[a,r,s]),n}var Aw=$5();const kB=Fh(Aw);var Pee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_n=Pee.reduce((t,e)=>{const n=F.forwardRef((a,r)=>{const{asChild:s,...i}=a,o=s?Hf:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(o,{...i,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Y0(t,e){t&&Aw.flushSync(()=>t.dispatchEvent(e))}function Fee(t,e=globalThis==null?void 0:globalThis.document){const n=$a(t);F.useEffect(()=>{const a=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var Oee="DismissableLayer",CS="dismissableLayer.update",$ee="dismissableLayer.pointerDownOutside",Lee="dismissableLayer.focusOutside",pO,wB=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ey=F.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:i,onDismiss:o,...c}=t,l=F.useContext(wB),[u,d]=F.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=F.useState({}),y=xa(e,E=>d(E)),v=Array.from(l.layers),[x]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(x),b=u?v.indexOf(u):-1,_=l.layersWithOutsidePointerEventsDisabled.size>0,A=b>=k,S=Bee(E=>{const D=E.target,I=[...l.branches].some(P=>P.contains(D));!A||I||(r==null||r(E),i==null||i(E),E.defaultPrevented||o==null||o())},h),C=zee(E=>{const D=E.target;[...l.branches].some(P=>P.contains(D))||(s==null||s(E),i==null||i(E),E.defaultPrevented||o==null||o())},h);return Fee(E=>{b===l.layers.size-1&&(a==null||a(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},h),F.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(pO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),hO(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=pO)}},[u,h,n,l]),F.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),hO())},[u,l]),F.useEffect(()=>{const E=()=>m({});return document.addEventListener(CS,E),()=>document.removeEventListener(CS,E)},[]),L.jsx(_n.div,{...c,ref:y,style:{pointerEvents:_?A?"auto":"none":void 0,...t.style},onFocusCapture:wt(t.onFocusCapture,C.onFocusCapture),onBlurCapture:wt(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:wt(t.onPointerDownCapture,S.onPointerDownCapture)})});ey.displayName=Oee;var Mee="DismissableLayerBranch",bB=F.forwardRef((t,e)=>{const n=F.useContext(wB),a=F.useRef(null),r=xa(e,a);return F.useEffect(()=>{const s=a.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),L.jsx(_n.div,{...t,ref:r})});bB.displayName=Mee;function Bee(t,e=globalThis==null?void 0:globalThis.document){const n=$a(t),a=F.useRef(!1),r=F.useRef(()=>{});return F.useEffect(()=>{const s=o=>{if(o.target&&!a.current){let c=function(){_B($ee,n,l,{discrete:!0})};const l={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);a.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function zee(t,e=globalThis==null?void 0:globalThis.document){const n=$a(t),a=F.useRef(!1);return F.useEffect(()=>{const r=s=>{s.target&&!a.current&&_B(Lee,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function hO(){const t=new CustomEvent(CS);document.dispatchEvent(t)}function _B(t,e,n,{discrete:a}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),a?Y0(r,s):r.dispatchEvent(s)}var Gee=ey,Uee=bB,uN="focusScope.autoFocusOnMount",fN="focusScope.autoFocusOnUnmount",mO={bubbles:!1,cancelable:!0},Wee="FocusScope",IE=F.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...i}=t,[o,c]=F.useState(null),l=$a(r),u=$a(s),d=F.useRef(null),h=xa(e,v=>c(v)),m=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(a){let v=function(_){if(m.paused||!o)return;const A=_.target;o.contains(A)?d.current=A:Zl(d.current,{select:!0})},x=function(_){if(m.paused||!o)return;const A=_.relatedTarget;A!==null&&(o.contains(A)||Zl(d.current,{select:!0}))},k=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&Zl(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const b=new MutationObserver(k);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),b.disconnect()}}},[a,o,m.paused]),F.useEffect(()=>{if(o){yO.add(m);const v=document.activeElement;if(!o.contains(v)){const k=new CustomEvent(uN,mO);o.addEventListener(uN,l),o.dispatchEvent(k),k.defaultPrevented||(Vee(Xee(AB(o)),{select:!0}),document.activeElement===v&&Zl(o))}return()=>{o.removeEventListener(uN,l),setTimeout(()=>{const k=new CustomEvent(fN,mO);o.addEventListener(fN,u),o.dispatchEvent(k),k.defaultPrevented||Zl(v??document.body,{select:!0}),o.removeEventListener(fN,u),yO.remove(m)},0)}}},[o,l,u,m]);const y=F.useCallback(v=>{if(!n&&!a||m.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(x&&k){const b=v.currentTarget,[_,A]=jee(b);_&&A?!v.shiftKey&&k===A?(v.preventDefault(),n&&Zl(_,{select:!0})):v.shiftKey&&k===_&&(v.preventDefault(),n&&Zl(A,{select:!0})):k===b&&v.preventDefault()}},[n,a,m.paused]);return L.jsx(_n.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});IE.displayName=Wee;function Vee(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(Zl(a,{select:e}),document.activeElement!==n)return}function jee(t){const e=AB(t),n=gO(e,t),a=gO(e.reverse(),t);return[n,a]}function AB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gO(t,e){for(const n of t)if(!Hee(n,{upTo:e}))return n}function Hee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Kee(t){return t instanceof HTMLInputElement&&"select"in t}function Zl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Kee(t)&&e&&t.select()}}var yO=qee();function qee(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=xO(t,e),t.unshift(e)},remove(e){var n;t=xO(t,e),(n=t[0])==null||n.resume()}}}function xO(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function Xee(t){return t.filter(e=>e.tagName!=="A")}var Yee="Portal",Nw=F.forwardRef((t,e)=>{var o;const{container:n,...a}=t,[r,s]=F.useState(!1);No(()=>s(!0),[]);const i=n||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?kB.createPortal(L.jsx(_n.div,{...a,ref:e}),i):null});Nw.displayName=Yee;function Zee(t,e){return F.useReducer((n,a)=>e[n][a]??n,t)}var mi=t=>{const{present:e,children:n}=t,a=Qee(e),r=typeof n=="function"?n({present:a.isPresent}):F.Children.only(n),s=xa(a.ref,Jee(r));return typeof n=="function"||a.isPresent?F.cloneElement(r,{ref:s}):null};mi.displayName="Presence";function Qee(t){const[e,n]=F.useState(),a=F.useRef({}),r=F.useRef(t),s=F.useRef("none"),i=t?"mounted":"unmounted",[o,c]=Zee(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const l=nv(a.current);s.current=o==="mounted"?l:"none"},[o]),No(()=>{const l=a.current,u=r.current;if(u!==t){const h=s.current,m=nv(l);t?c("MOUNT"):m==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),No(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=m=>{const v=nv(a.current).includes(m.animationName);if(m.target===e&&v&&(c("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=m=>{m.target===e&&(s.current=nv(a.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:F.useCallback(l=>{l&&(a.current=getComputedStyle(l)),n(l)},[])}}function nv(t){return(t==null?void 0:t.animationName)||"none"}function Jee(t){var a,r;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dN=0;function NB(){F.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??vO()),document.body.insertAdjacentElement("beforeend",t[1]??vO()),dN++,()=>{dN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dN--}},[])}function vO(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ec=function(){return ec=Object.assign||function(e){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ec.apply(this,arguments)};function SB(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n}function Nd(t,e,n,a){function r(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function o(u){try{l(a.next(u))}catch(d){i(d)}}function c(u){try{l(a.throw(u))}catch(d){i(d)}}function l(u){u.done?s(u.value):r(u.value).then(o,c)}l((a=a.apply(t,e||[])).next())})}function ete(t,e,n){if(n||arguments.length===2)for(var a=0,r=e.length,s;a<r;a++)(s||!(a in e))&&(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return t.concat(s||Array.prototype.slice.call(e))}var Vv="right-scroll-bar-position",jv="width-before-scroll-bar",tte="with-scroll-bars-hidden",nte="--removed-body-scroll-bar-size";function pN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ate(t,e){var n=F.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var r=n.value;r!==a&&(n.value=a,n.callback(a,r))}}}})[0];return n.callback=e,n.facade}var rte=typeof window<"u"?F.useLayoutEffect:F.useEffect,kO=new WeakMap;function ste(t,e){var n=ate(null,function(a){return t.forEach(function(r){return pN(r,a)})});return rte(function(){var a=kO.get(n);if(a){var r=new Set(a),s=new Set(t),i=n.current;r.forEach(function(o){s.has(o)||pN(o,null)}),s.forEach(function(o){r.has(o)||pN(o,i)})}kO.set(n,t)},[t]),n}function ite(t){return t}function ote(t,e){e===void 0&&(e=ite);var n=[],a=!1,r={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var i=e(s,a);return n.push(i),function(){n=n.filter(function(o){return o!==i})}},assignSyncMedium:function(s){for(a=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){a=!0;var i=[];if(n.length){var o=n;n=[],o.forEach(s),i=n}var c=function(){var u=i;i=[],u.forEach(s)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){i.push(u),l()},filter:function(u){return i=i.filter(u),n}}}};return r}function cte(t){t===void 0&&(t={});var e=ote(null);return e.options=ec({async:!0,ssr:!1},t),e}var TB=function(t){var e=t.sideCar,n=SB(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return F.createElement(a,ec({},n))};TB.isSideCarExport=!0;function lte(t,e){return t.useMedium(e),TB}var EB=cte(),hN=function(){},Sw=F.forwardRef(function(t,e){var n=F.useRef(null),a=F.useState({onScrollCapture:hN,onWheelCapture:hN,onTouchMoveCapture:hN}),r=a[0],s=a[1],i=t.forwardProps,o=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,v=t.allowPinchZoom,x=t.as,k=x===void 0?"div":x,b=t.gapMode,_=SB(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,S=ste([n,e]),C=ec(ec({},_),r);return F.createElement(F.Fragment,null,u&&F.createElement(A,{sideCar:EB,removeScrollBar:l,shards:d,noIsolation:m,inert:y,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:b}),i?F.cloneElement(F.Children.only(o),ec(ec({},C),{ref:S})):F.createElement(k,ec({},C,{className:c,ref:S}),o))});Sw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sw.classNames={fullWidth:jv,zeroRight:Vv};var ute=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ute();return e&&t.setAttribute("nonce",e),t}function dte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var hte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fte())&&(dte(e,n),pte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mte=function(){var t=hte();return function(e,n){F.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},CB=function(){var t=mte(),e=function(n){var a=n.styles,r=n.dynamic;return t(a,r),null};return e},gte={left:0,top:0,right:0,gap:0},mN=function(t){return parseInt(t||"",10)||0},yte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[mN(n),mN(a),mN(r)]},xte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return gte;var e=yte(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},vte=CB(),Xp="data-scroll-locked",kte=function(t,e,n,a){var r=t.left,s=t.top,i=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tte,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(o,"px ").concat(a,`;
  }
  body[`).concat(Xp,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vv,` {
    right: `).concat(o,"px ").concat(a,`;
  }
  
  .`).concat(jv,` {
    margin-right: `).concat(o,"px ").concat(a,`;
  }
  
  .`).concat(Vv," .").concat(Vv,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(jv," .").concat(jv,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Xp,`] {
    `).concat(nte,": ").concat(o,`px;
  }
`)},wO=function(){var t=parseInt(document.body.getAttribute(Xp)||"0",10);return isFinite(t)?t:0},wte=function(){F.useEffect(function(){return document.body.setAttribute(Xp,(wO()+1).toString()),function(){var t=wO()-1;t<=0?document.body.removeAttribute(Xp):document.body.setAttribute(Xp,t.toString())}},[])},bte=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,r=a===void 0?"margin":a;wte();var s=F.useMemo(function(){return xte(r)},[r]);return F.createElement(vte,{styles:kte(s,!e,r,n?"":"!important")})},IS=!1;if(typeof window<"u")try{var av=Object.defineProperty({},"passive",{get:function(){return IS=!0,!0}});window.addEventListener("test",av,av),window.removeEventListener("test",av,av)}catch{IS=!1}var Cp=IS?{passive:!1}:!1,_te=function(t){return t.tagName==="TEXTAREA"},IB=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_te(t)&&n[e]==="visible")},Ate=function(t){return IB(t,"overflowY")},Nte=function(t){return IB(t,"overflowX")},bO=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var r=DB(t,a);if(r){var s=RB(t,a),i=s[1],o=s[2];if(i>o)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Ste=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},Tte=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},DB=function(t,e){return t==="v"?Ate(e):Nte(e)},RB=function(t,e){return t==="v"?Ste(e):Tte(e)},Ete=function(t,e){return t==="h"&&e==="rtl"?-1:1},Cte=function(t,e,n,a,r){var s=Ete(t,window.getComputedStyle(e).direction),i=s*a,o=n.target,c=e.contains(o),l=!1,u=i>0,d=0,h=0;do{var m=RB(t,o),y=m[0],v=m[1],x=m[2],k=v-x-s*y;(y||k)&&DB(t,o)&&(d+=k,h+=y),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(l=!0),l},rv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_O=function(t){return[t.deltaX,t.deltaY]},AO=function(t){return t&&"current"in t?t.current:t},Ite=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Dte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Rte=0,Ip=[];function Pte(t){var e=F.useRef([]),n=F.useRef([0,0]),a=F.useRef(),r=F.useState(Rte++)[0],s=F.useState(CB)[0],i=F.useRef(t);F.useEffect(function(){i.current=t},[t]),F.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var v=ete([t.lockRef.current],(t.shards||[]).map(AO),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=F.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var k=rv(v),b=n.current,_="deltaX"in v?v.deltaX:b[0]-k[0],A="deltaY"in v?v.deltaY:b[1]-k[1],S,C=v.target,E=Math.abs(_)>Math.abs(A)?"h":"v";if("touches"in v&&E==="h"&&C.type==="range")return!1;var D=bO(E,C);if(!D)return!0;if(D?S=E:(S=E==="v"?"h":"v",D=bO(E,C)),!D)return!1;if(!a.current&&"changedTouches"in v&&(_||A)&&(a.current=S),!S)return!0;var I=a.current||S;return Cte(I,x,v,I==="h"?_:A)},[]),c=F.useCallback(function(v){var x=v;if(!(!Ip.length||Ip[Ip.length-1]!==s)){var k="deltaY"in x?_O(x):rv(x),b=e.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&Ite(S.delta,k)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var _=(i.current.shards||[]).map(AO).filter(Boolean).filter(function(S){return S.contains(x.target)}),A=_.length>0?o(x,_[0]):!i.current.noIsolation;A&&x.cancelable&&x.preventDefault()}}},[]),l=F.useCallback(function(v,x,k,b){var _={name:v,delta:x,target:k,should:b,shadowParent:Fte(k)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(A){return A!==_})},1)},[]),u=F.useCallback(function(v){n.current=rv(v),a.current=void 0},[]),d=F.useCallback(function(v){l(v.type,_O(v),v.target,o(v,t.lockRef.current))},[]),h=F.useCallback(function(v){l(v.type,rv(v),v.target,o(v,t.lockRef.current))},[]);F.useEffect(function(){return Ip.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Cp),document.addEventListener("touchmove",c,Cp),document.addEventListener("touchstart",u,Cp),function(){Ip=Ip.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,Cp),document.removeEventListener("touchmove",c,Cp),document.removeEventListener("touchstart",u,Cp)}},[]);var m=t.removeScrollBar,y=t.inert;return F.createElement(F.Fragment,null,y?F.createElement(s,{styles:Dte(r)}):null,m?F.createElement(bte,{gapMode:t.gapMode}):null)}function Fte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ote=lte(EB,Pte);var DE=F.forwardRef(function(t,e){return F.createElement(Sw,ec({},t,{ref:e,sideCar:Ote}))});DE.classNames=Sw.classNames;var $te=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Dp=new WeakMap,sv=new WeakMap,iv={},gN=0,PB=function(t){return t&&(t.host||PB(t.parentNode))},Lte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=PB(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Mte=function(t,e,n,a){var r=Lte(e,Array.isArray(t)?t:[t]);iv[n]||(iv[n]=new WeakMap);var s=iv[n],i=[],o=new Set,c=new Set(r),l=function(d){!d||o.has(d)||(o.add(d),l(d.parentNode))};r.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(o.has(h))u(h);else try{var m=h.getAttribute(a),y=m!==null&&m!=="false",v=(Dp.get(h)||0)+1,x=(s.get(h)||0)+1;Dp.set(h,v),s.set(h,x),i.push(h),v===1&&y&&sv.set(h,!0),x===1&&h.setAttribute(n,"true"),y||h.setAttribute(a,"true")}catch(k){console.error("aria-hidden: cannot operate on ",h,k)}})};return u(e),o.clear(),gN++,function(){i.forEach(function(d){var h=Dp.get(d)-1,m=s.get(d)-1;Dp.set(d,h),s.set(d,m),h||(sv.has(d)||d.removeAttribute(a),sv.delete(d)),m||d.removeAttribute(n)}),gN--,gN||(Dp=new WeakMap,Dp=new WeakMap,sv=new WeakMap,iv={})}},FB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),r=$te(t);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live]"))),Mte(a,r,n,"aria-hidden")):function(){return null}},RE="Dialog",[OB,PVe]=Du(RE),[Bte,Fo]=OB(RE),$B=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:r,onOpenChange:s,modal:i=!0}=t,o=F.useRef(null),c=F.useRef(null),[l=!1,u]=zh({prop:a,defaultProp:r,onChange:s});return L.jsx(Bte,{scope:e,triggerRef:o,contentRef:c,contentId:nu(),titleId:nu(),descriptionId:nu(),open:l,onOpenChange:u,onOpenToggle:F.useCallback(()=>u(d=>!d),[u]),modal:i,children:n})};$B.displayName=RE;var LB="DialogTrigger",MB=F.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=Fo(LB,n),s=xa(e,r.triggerRef);return L.jsx(_n.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":OE(r.open),...a,ref:s,onClick:wt(t.onClick,r.onOpenToggle)})});MB.displayName=LB;var PE="DialogPortal",[zte,BB]=OB(PE,{forceMount:void 0}),zB=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:r}=t,s=Fo(PE,e);return L.jsx(zte,{scope:e,forceMount:n,children:F.Children.map(a,i=>L.jsx(mi,{present:n||s.open,children:L.jsx(Nw,{asChild:!0,container:r,children:i})}))})};zB.displayName=PE;var ok="DialogOverlay",GB=F.forwardRef((t,e)=>{const n=BB(ok,t.__scopeDialog),{forceMount:a=n.forceMount,...r}=t,s=Fo(ok,t.__scopeDialog);return s.modal?L.jsx(mi,{present:a||s.open,children:L.jsx(Gte,{...r,ref:e})}):null});GB.displayName=ok;var Gte=F.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=Fo(ok,n);return L.jsx(DE,{as:Hf,allowPinchZoom:!0,shards:[r.contentRef],children:L.jsx(_n.div,{"data-state":OE(r.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),Kf="DialogContent",UB=F.forwardRef((t,e)=>{const n=BB(Kf,t.__scopeDialog),{forceMount:a=n.forceMount,...r}=t,s=Fo(Kf,t.__scopeDialog);return L.jsx(mi,{present:a||s.open,children:s.modal?L.jsx(Ute,{...r,ref:e}):L.jsx(Wte,{...r,ref:e})})});UB.displayName=Kf;var Ute=F.forwardRef((t,e)=>{const n=Fo(Kf,t.__scopeDialog),a=F.useRef(null),r=xa(e,n.contentRef,a);return F.useEffect(()=>{const s=a.current;if(s)return FB(s)},[]),L.jsx(WB,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(t.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:wt(t.onPointerDownOutside,s=>{const i=s.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&s.preventDefault()}),onFocusOutside:wt(t.onFocusOutside,s=>s.preventDefault())})}),Wte=F.forwardRef((t,e)=>{const n=Fo(Kf,t.__scopeDialog),a=F.useRef(!1),r=F.useRef(!1);return L.jsx(WB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,o;(i=t.onCloseAutoFocus)==null||i.call(t,s),s.defaultPrevented||(a.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:s=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=s.target;((l=n.triggerRef.current)==null?void 0:l.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),WB=F.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:s,...i}=t,o=Fo(Kf,n),c=F.useRef(null),l=xa(e,c);return NB(),L.jsxs(L.Fragment,{children:[L.jsx(IE,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:s,children:L.jsx(ey,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":OE(o.open),...i,ref:l,onDismiss:()=>o.onOpenChange(!1)})}),L.jsxs(L.Fragment,{children:[L.jsx(Vte,{titleId:o.titleId}),L.jsx(Hte,{contentRef:c,descriptionId:o.descriptionId})]})]})}),FE="DialogTitle",VB=F.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=Fo(FE,n);return L.jsx(_n.h2,{id:r.titleId,...a,ref:e})});VB.displayName=FE;var jB="DialogDescription",HB=F.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=Fo(jB,n);return L.jsx(_n.p,{id:r.descriptionId,...a,ref:e})});HB.displayName=jB;var KB="DialogClose",qB=F.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,r=Fo(KB,n);return L.jsx(_n.button,{type:"button",...a,ref:e,onClick:wt(t.onClick,()=>r.onOpenChange(!1))})});qB.displayName=KB;function OE(t){return t?"open":"closed"}var XB="DialogTitleWarning",[FVe,YB]=Eee(XB,{contentName:Kf,titleName:FE,docsSlug:"dialog"}),Vte=({titleId:t})=>{const e=YB(XB),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return F.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jte="DialogDescriptionWarning",Hte=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YB(jte).contentName}}.`;return F.useEffect(()=>{var s;const r=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},ZB=$B,QB=MB,JB=zB,Tw=GB,Ew=UB,Cw=VB,Iw=HB,e6=qB;const t6=ZB,Kte=QB,qte=JB,n6=F.forwardRef(({className:t,...e},n)=>L.jsx(Tw,{className:ln("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80 data-[state=closed]:animate-out data-[state=open]:animate-in",t),...e,ref:n}));n6.displayName=Tw.displayName;const Xte=Qg("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out dark:bg-neutral-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$E=F.forwardRef(({side:t="right",className:e,children:n,...a},r)=>L.jsxs(qte,{children:[L.jsx(n6,{}),L.jsxs(Ew,{ref:r,className:ln(Xte({side:t}),e),...a,children:[L.jsxs(e6,{className:"absolute top-4 right-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-neutral-100 dark:ring-offset-neutral-950 dark:data-[state=open]:bg-neutral-800 dark:focus:ring-neutral-300",children:[L.jsx(CE,{className:"h-4 w-4"}),L.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));$E.displayName=Ew.displayName;const a6=({className:t,...e})=>L.jsx("div",{className:ln("flex flex-col space-y-2 text-center sm:text-left",t),...e});a6.displayName="SheetHeader";const r6=F.forwardRef(({className:t,...e},n)=>L.jsx(Cw,{ref:n,className:ln("font-semibold text-lg text-neutral-950 dark:text-neutral-50",t),...e}));r6.displayName=Cw.displayName;const Yte=F.forwardRef(({className:t,...e},n)=>L.jsx(Iw,{ref:n,className:ln("text-neutral-500 text-sm dark:text-neutral-400",t),...e}));Yte.displayName=Iw.displayName;const Zte=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_001_EN.webp","hp":"70","name":"Bulbasaur","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #1","rarity":""},{"version":"Genetic Apex #227","rarity":""},{"version":"Promo-A #23","rarity":""}],"artist":"Narumi Sato","crafting_cost":35},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_002_EN.webp","hp":"90","name":"Ivysaur","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Razor Leaf","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #2","rarity":""}],"artist":"Kurata So","crafting_cost":70},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_003_EN.webp","hp":"160","name":"Venusaur","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Mega Drain","damage":"80","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #3","rarity":""},{"version":"Promo-A #18","rarity":""}],"artist":"Ryota Murayama","crafting_cost":150},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_004_EN.webp","hp":"190","name":"Venusaur ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Razor Leaf","damage":"60","effect":"No effect"},{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Giant Bloom","damage":"100","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #4","rarity":""},{"version":"Genetic Apex #251","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_005_EN.webp","hp":"50","name":"Caterpie","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Find a","damage":"Friend","effect":"Put 1 random [G] Pokmon from your deck into your hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #5","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_006_EN.webp","hp":"80","name":"Metapod","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Bug Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #6","rarity":""}],"artist":"Yuka Morii","crafting_cost":35},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_007_EN.webp","hp":"120","name":"Butterfree","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Gust","damage":"60","effect":"No effect"}],"ability":{"name":"Powder Heal","effect":"Once during your turn, you may heal 20 damage from each of your Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #7","rarity":""},{"version":"Promo-A #13","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":150},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_008_EN.webp","hp":"50","name":"Weedle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Sting","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #8","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":35},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_009_EN.webp","hp":"80","name":"Kakuna","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Bug Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #9","rarity":""}],"artist":"miki kudo","crafting_cost":35},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_010_EN.webp","hp":"120","name":"Beedrill","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass"],"name":"Sharp Sting","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #10","rarity":""}],"artist":"You Iribi","crafting_cost":150},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_011_EN.webp","hp":"60","name":"Oddish","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Ram","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #11","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":35},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_012_EN.webp","hp":"80","name":"Gloom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Drool","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #12","rarity":""},{"version":"Genetic Apex #228","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":70},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_013_EN.webp","hp":"140","name":"Vileplume","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Soothing Scent","damage":"80","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #13","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":150},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_014_EN.webp","hp":"70","name":"Paras","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Scratch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #14","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_015_EN.webp","hp":"120","name":"Parasect","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Slash","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #15","rarity":""}],"artist":"Eri Yamaki","crafting_cost":70},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_016_EN.webp","hp":"60","name":"Venonat","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #16","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":35},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_017_EN.webp","hp":"80","name":"Venomoth","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Poison Powder","damage":"30","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #17","rarity":""}],"artist":"Mina Nakai","crafting_cost":70},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_018_EN.webp","hp":"60","name":"Bellsprout","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Vine Whip","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #18","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":35},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_019_EN.webp","hp":"90","name":"Weepinbell","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Razor Leaf","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #19","rarity":""}],"artist":"Miki Tanaka","crafting_cost":70},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_020_EN.webp","hp":"140","name":"Victreebel","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"60","effect":"No effect"}],"ability":{"name":"Fragrance Trap","effect":"If this Pokmon is in the Active Spot, once during your turn, you may switch in 1 of your opponent's Benched Basic Pokmon to the Active Spot."},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #20","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":150},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_021_EN.webp","hp":"50","name":"Exeggcute","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Seed Bomb","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #21","rarity":""}],"artist":"kawayoo","crafting_cost":35},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_022_EN.webp","hp":"130","name":"Exeggutor","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Stomp","damage":"30+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #22","rarity":""}],"artist":"Yukiko Baba","crafting_cost":150},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_023_EN.webp","hp":"160","name":"Exeggutor ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Tropical Swing","damage":"40+","effect":"Flip a coin. If heads, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #23","rarity":""},{"version":"Genetic Apex #252","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_024_EN.webp","hp":"80","name":"Tangela","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Absorb","damage":"40","effect":"Heal 10 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #24","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_025_EN.webp","hp":"70","name":"Scyther","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Sharp Scythe","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #25","rarity":""}],"artist":"Hasuno","crafting_cost":35},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_026_EN.webp","hp":"90","name":"Pinsir","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Grass"],"name":"Double Horn","damage":"50x","effect":"Flip 2 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #26","rarity":""},{"version":"Genetic Apex #229","rarity":""}],"artist":"Eri Yamaki","crafting_cost":70},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_027_EN.webp","hp":"50","name":"Cottonee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Attach","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #27","rarity":""}],"artist":"Kanako Eo","crafting_cost":35},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_028_EN.webp","hp":"80","name":"Whimsicott","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Rolling Tackle","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #28","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":70},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_029_EN.webp","hp":"60","name":"Petilil","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Blot","damage":"10","effect":"Heal 10 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #29","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_030_EN.webp","hp":"100","name":"Lilligant","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Leaf Supply","damage":"50","effect":"Take a [G] Energy from your Energy Zone and attach it to 1 of your Benched [G] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #30","rarity":""}],"artist":"You Iribi","crafting_cost":70},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_031_EN.webp","hp":"70","name":"Skiddo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Surprise Attack","damage":"40","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #31","rarity":""}],"artist":"Naoki Saito","crafting_cost":35},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_032_EN.webp","hp":"120","name":"Gogoat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Razor Leaf","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #32","rarity":""}],"artist":"You Iribi","crafting_cost":35},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_033_EN.webp","hp":"60","name":"Charmander","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Ember","damage":"30","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #33","rarity":""},{"version":"Genetic Apex #230","rarity":""},{"version":"Promo-A #32","rarity":""}],"artist":"Teeziro","crafting_cost":35},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_034_EN.webp","hp":"90","name":"Charmeleon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Fire Claws","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #34","rarity":""}],"artist":"kantaro","crafting_cost":70},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_035_EN.webp","hp":"150","name":"Charizard","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Fire Spin","damage":"150","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #35","rarity":""}],"artist":"takuyoa","crafting_cost":150},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_036_EN.webp","hp":"180","name":"Charizard ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Slash","damage":"60","effect":"No effect"},{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Crimson Storm","damage":"200","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #36","rarity":""},{"version":"Genetic Apex #253","rarity":""},{"version":"Genetic Apex #280","rarity":""},{"version":"Genetic Apex #284","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":500},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_037_EN.webp","hp":"50","name":"Vulpix","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tail","damage":"Whip","effect":"Flip a coin. If heads, the Defending Pokmon can't attack during your opponent's next turn."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #37","rarity":""}],"artist":"Toshinao Aoki","crafting_cost":35},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_038_EN.webp","hp":"90","name":"Ninetales","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire"],"name":"Flamethrower","damage":"90","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #38","rarity":""}],"artist":"You Iribi","crafting_cost":70},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_039_EN.webp","hp":"70","name":"Growlithe","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #39","rarity":""}],"artist":"Mizue","crafting_cost":35},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_040_EN.webp","hp":"130","name":"Arcanine","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Heat Tackle","damage":"100","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #40","rarity":""}],"artist":"kodama","crafting_cost":150},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_041_EN.webp","hp":"150","name":"Arcanine ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Inferno Onrush","damage":"120","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #41","rarity":""},{"version":"Genetic Apex #254","rarity":""}],"artist":"PLANETA Saito","crafting_cost":500},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_042_EN.webp","hp":"60","name":"Ponyta","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Flare","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #42","rarity":""}],"artist":"Uta","crafting_cost":35},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_043_EN.webp","hp":"100","name":"Rapidash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire"],"name":"Fire Mane","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #43","rarity":""},{"version":"Genetic Apex #231","rarity":""}],"artist":"Misa Tsutsui","crafting_cost":70},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_044_EN.webp","hp":"80","name":"Magmar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Fire"],"name":"Magma Punch","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #44","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":35},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_045_EN.webp","hp":"120","name":"Flareon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Flamethrower","damage":"110","effect":"Discard 1 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #45","rarity":""}],"artist":"sui","crafting_cost":150},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_046_EN.webp","hp":"100","name":"Moltres","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Sky Attack","damage":"130","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #46","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_047_EN.webp","hp":"140","name":"Moltres ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Inferno","damage":"Dance","effect":"Flip 3 coins. Take an amount of [R] Energy from your Energy Zone equal to the number of heads and attach it to your Benched [R] Pokmon in any way you like."},{"cost":["Fire","Colorless","Colorless"],"name":"Heat Blast","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #47","rarity":""},{"version":"Genetic Apex #255","rarity":""},{"version":"Genetic Apex #274","rarity":""},{"version":"Promo-A #25","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_048_EN.webp","hp":"80","name":"Heatmor","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Combustion","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #48","rarity":""}],"artist":"Suwama Chiaki","crafting_cost":35},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_049_EN.webp","hp":"60","name":"Salandit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Scratch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #49","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"50","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_050_EN.webp","hp":"90","name":"Salazzle","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Fire Claws","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #50","rarity":""}],"artist":"hatachu","crafting_cost":35},{"id":"51","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_051_EN.webp","hp":"60","name":"Sizzlipede","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gnaw","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #51","rarity":""}],"artist":"Teeziro","crafting_cost":35},{"id":"52","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_052_EN.webp","hp":"130","name":"Centiskorch","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless","Colorless","Colorless"],"name":"Fire Blast","damage":"130","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #52","rarity":""}],"artist":"GOSSAN","crafting_cost":70},{"id":"53","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_053_EN.webp","hp":"60","name":"Squirtle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #53","rarity":""},{"version":"Genetic Apex #232","rarity":""},{"version":"Promo-A #33","rarity":""}],"artist":"Mizue","crafting_cost":35},{"id":"54","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_054_EN.webp","hp":"80","name":"Wartortle","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Wave Splash","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #54","rarity":""}],"artist":"Nelnal","crafting_cost":70},{"id":"55","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_055_EN.webp","hp":"150","name":"Blastoise","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless"],"name":"Hydro Pump","damage":"80+","effect":"If this Pokmon has at least 2 extra [W] Energy attached, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #55","rarity":""},{"version":"Promo-A #29","rarity":""}],"artist":"Nurikabe","crafting_cost":150},{"id":"56","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_056_EN.webp","hp":"180","name":"Blastoise ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless"],"name":"Surf","damage":"40","effect":"No effect"},{"cost":["Water","Water","Colorless"],"name":"Hydro Bazooka","damage":"100+","effect":"If this Pokmon has at least 2 extra [W] Energy attached, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #56","rarity":""},{"version":"Genetic Apex #256","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"57","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_057_EN.webp","hp":"60","name":"Psyduck","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Headache","damage":"10","effect":"Your opponent can't use any Supporter cards from their hand during their next turn."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #57","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"58","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_058_EN.webp","hp":"90","name":"Golduck","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Aqua Edge","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #58","rarity":""}],"artist":"Naoki Saito","crafting_cost":70},{"id":"59","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_059_EN.webp","hp":"60","name":"Poliwag","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Razor Fin","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #59","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"60","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_060_EN.webp","hp":"90","name":"Poliwhirl","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Knuckle Punch","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #60","rarity":""}],"artist":"Yuka Morii","crafting_cost":70},{"id":"61","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_061_EN.webp","hp":"150","name":"Poliwrath","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Mega Punch","damage":"80","effect":"No effect"}],"ability":{"name":"Counterattack","effect":"If this Pokmon is in the Active Spot and is damaged by an attack from your opponent's Pokmon, do 20 damage to the attacking Pokmon."},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #61","rarity":""}],"artist":"Akira Komayama","crafting_cost":150},{"id":"62","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_062_EN.webp","hp":"60","name":"Tentacool","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Gentle Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #62","rarity":""}],"artist":"Shinya Komatsu","crafting_cost":35},{"id":"63","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_063_EN.webp","hp":"110","name":"Tentacruel","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Poison Tentacles","damage":"50","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #63","rarity":""}],"artist":"kodama","crafting_cost":70},{"id":"64","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_064_EN.webp","hp":"80","name":"Seel","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Headbutt","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #64","rarity":""}],"artist":"Masako Yamashita","crafting_cost":35},{"id":"65","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_065_EN.webp","hp":"120","name":"Dewgong","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water"],"name":"Surf","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #65","rarity":""}],"artist":"Kanako Eo","crafting_cost":70},{"id":"66","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_066_EN.webp","hp":"60","name":"Shellder","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Tongue Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #66","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":35},{"id":"67","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_067_EN.webp","hp":"120","name":"Cloyster","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Surf","damage":"70","effect":"No effect"}],"ability":{"name":"Shell Armor","effect":"This Pokmon takes -10 damage from attacks."},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #67","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":70},{"id":"68","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_068_EN.webp","hp":"70","name":"Krabby","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Vise Grip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #68","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":35},{"id":"69","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_069_EN.webp","hp":"120","name":"Kingler","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"KO Crab","damage":"80+","effect":"Flip 2 coins. If both of them are heads, this attack does 80 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #69","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":70},{"id":"70","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_070_EN.webp","hp":"60","name":"Horsea","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #70","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":35},{"id":"71","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_071_EN.webp","hp":"70","name":"Seadra","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water"],"name":"Water","damage":"Arrow","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #71","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":70},{"id":"72","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_072_EN.webp","hp":"60","name":"Goldeen","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Flop","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #72","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"73","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_073_EN.webp","hp":"100","name":"Seaking","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Horn Hazard","damage":"80","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #73","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"74","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_074_EN.webp","hp":"50","name":"Staryu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Smack","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #74","rarity":""}],"artist":"Hiroki Asanuma","crafting_cost":35},{"id":"75","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_075_EN.webp","hp":"90","name":"Starmie","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Wave Splash","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #75","rarity":""}],"artist":"Yukiko Baba","crafting_cost":70},{"id":"76","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_076_EN.webp","hp":"130","name":"Starmie ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Hydro Splash","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #76","rarity":""},{"version":"Genetic Apex #257","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":500},{"id":"77","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_077_EN.webp","hp":"30","name":"Magikarp","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Splash","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #77","rarity":""}],"artist":"Sekio","crafting_cost":35},{"id":"78","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_078_EN.webp","hp":"150","name":"Gyarados","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Water"],"name":"Hyper Beam","damage":"100","effect":"Discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #78","rarity":""},{"version":"Genetic Apex #233","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":150},{"id":"79","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_079_EN.webp","hp":"100","name":"Lapras","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Hydro Pump","damage":"20+","effect":"If this Pokmon has at least 3 extra [W] Energy attached, this attack does 70 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #79","rarity":""},{"version":"Genetic Apex #234","rarity":""}],"artist":"Sekio","crafting_cost":150},{"id":"80","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_080_EN.webp","hp":"130","name":"Vaporeon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Bubble Drain","damage":"60","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #80","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":150},{"id":"81","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_081_EN.webp","hp":"90","name":"Omanyte","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #81","rarity":""}],"artist":"Suwama Chiaki","crafting_cost":70},{"id":"82","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_082_EN.webp","hp":"140","name":"Omastar","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Ancient Whirlpool","damage":"70","effect":"During your opponent's next turn, the Defending Pokmon can't attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #82","rarity":""}],"artist":"kirisAki","crafting_cost":150},{"id":"83","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_083_EN.webp","hp":"100","name":"Articuno","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water","Colorless"],"name":"Ice Beam","damage":"60","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #83","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"84","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_084_EN.webp","hp":"140","name":"Articuno ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Ice Wing","damage":"40","effect":"No effect"},{"cost":["Water","Water","Water"],"name":"Blizzard","damage":"80","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #84","rarity":""},{"version":"Genetic Apex #258","rarity":""},{"version":"Genetic Apex #275","rarity":""}],"artist":"PLANETA Saito","crafting_cost":500},{"id":"85","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_085_EN.webp","hp":"50","name":"Ducklett","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Flap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #85","rarity":""}],"artist":"Yumi","crafting_cost":35},{"id":"86","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_086_EN.webp","hp":"90","name":"Swanna","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Wing Attack","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #86","rarity":""}],"artist":"sui","crafting_cost":70},{"id":"87","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_087_EN.webp","hp":"60","name":"Froakie","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Flop","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #87","rarity":""}],"artist":"Aya Kusube","crafting_cost":35},{"id":"88","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_088_EN.webp","hp":"80","name":"Frogadier","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Water Drip","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #88","rarity":""}],"artist":"Akira Komayama","crafting_cost":70},{"id":"89","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_089_EN.webp","hp":"120","name":"Greninja","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless"],"name":"Mist Slash","damage":"60","effect":"No effect"}],"ability":{"name":"Water Shuriken","effect":"Once during your turn, you may do 20 damage to 1 of your opponent's Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #89","rarity":""},{"version":"Promo-A #19","rarity":""}],"artist":"5ban Graphics","crafting_cost":150},{"id":"90","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_090_EN.webp","hp":"70","name":"Pyukumuku","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Rain Splash","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #90","rarity":""}],"artist":"OOYAMA","crafting_cost":35},{"id":"91","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_091_EN.webp","hp":"90","name":"Bruxish","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Second Strike","damage":"10+","effect":"If your opponent's Active Pokmon has damage on it, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #91","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"92","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_092_EN.webp","hp":"50","name":"Snom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Ram","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #92","rarity":""}],"artist":"ryoma uratsuka","crafting_cost":35},{"id":"93","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_093_EN.webp","hp":"90","name":"Frosmoth","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Powder Snow","damage":"40","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #93","rarity":""}],"artist":"aoki","crafting_cost":70},{"id":"94","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_094_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #94","rarity":""},{"version":"Promo-A #9","rarity":""},{"version":"Promo-A #15","rarity":""},{"version":"Promo-A #26","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":35},{"id":"95","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_095_EN.webp","hp":"100","name":"Raichu","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning","Lightning"],"name":"Thunderbolt","damage":"140","effect":"Discard all Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #95","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":150},{"id":"96","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_096_EN.webp","hp":"120","name":"Pikachu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Circle Circuit","damage":"30x","effect":"This attack does 30 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #96","rarity":""},{"version":"Genetic Apex #259","rarity":""},{"version":"Genetic Apex #281","rarity":""},{"version":"Genetic Apex #285","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"97","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_097_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Lightning Ball","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #97","rarity":""},{"version":"Promo-A #24","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"98","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_098_EN.webp","hp":"80","name":"Magneton","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Colorless","Colorless","Colorless"],"name":"Spinning Attack","damage":"60","effect":"No effect"}],"ability":{"name":"Volt Charge","effect":"Once during your turn, you may take a  Energy from your Energy Zone and attach it to this Pokmon."},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #98","rarity":""}],"artist":"kirisAki","crafting_cost":150},{"id":"99","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_099_EN.webp","hp":"60","name":"Voltorb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #99","rarity":""}],"artist":"SATOSHI NAKAI","crafting_cost":35},{"id":"100","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_100_EN.webp","hp":"80","name":"Electrode","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Electro Ball","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #100","rarity":""},{"version":"Genetic Apex #235","rarity":""}],"artist":"Asako Ito","crafting_cost":70},{"id":"101","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_101_EN.webp","hp":"70","name":"Electabuzz","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Thunder Punch","damage":"40+","effect":"Flip a coin. If heads, this attack does 40 more damage. If tails, this Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #101","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":35},{"id":"102","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_102_EN.webp","hp":"90","name":"Jolteon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Colorless"],"name":"Pin Missile","damage":"40x","effect":"Flip 4 coins. This attack does 40 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #102","rarity":""}],"artist":"Kouki Saitou","crafting_cost":150},{"id":"103","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_103_EN.webp","hp":"100","name":"Zapdos","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning","Colorless"],"name":"Raging Thunder","damage":"100","effect":"This attack also does 30 damage to 1 of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #103","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"104","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_104_EN.webp","hp":"130","name":"Zapdos ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Peck","damage":"20","effect":"No effect"},{"cost":["Lightning","Lightning","Lightning"],"name":"Thundering Hurricane","damage":"50x","effect":"Flip 4 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #104","rarity":""},{"version":"Genetic Apex #260","rarity":""},{"version":"Genetic Apex #276","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"105","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_105_EN.webp","hp":"60","name":"Blitzle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Zap Kick","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #105","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"106","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_106_EN.webp","hp":"90","name":"Zebstrika","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning"],"name":"Thunder","damage":"Spear","effect":"This attack does 30 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #106","rarity":""}],"artist":"Misa Tsutsui","crafting_cost":70},{"id":"107","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_107_EN.webp","hp":"30","name":"Tynamo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Tiny Charge","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #107","rarity":""}],"artist":"Asako Ito","crafting_cost":35},{"id":"108","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_108_EN.webp","hp":"80","name":"Eelektrik","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning"],"name":"Head Bolt","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #108","rarity":""}],"artist":"Midori Harada","crafting_cost":70},{"id":"109","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_109_EN.webp","hp":"140","name":"Eelektross","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Lightning","Lightning","Colorless"],"name":"Thunder Fang","damage":"80","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #109","rarity":""}],"artist":"hatachu","crafting_cost":150},{"id":"110","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_110_EN.webp","hp":"60","name":"Helioptile","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Tail Whap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #110","rarity":""}],"artist":"5ban Graphics","crafting_cost":35},{"id":"111","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_111_EN.webp","hp":"90","name":"Heliolisk","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Quick Attack","damage":"40+","effect":"Flip a coin. If heads, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #111","rarity":""}],"artist":"otumami","crafting_cost":35},{"id":"112","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_112_EN.webp","hp":"70","name":"Pincurchin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Thunder Shock","damage":"30","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #112","rarity":""}],"artist":"Tika Matsuno","crafting_cost":70},{"id":"113","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_113_EN.webp","hp":"60","name":"Clefairy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #113","rarity":""},{"version":"Promo-A #16","rarity":""}],"artist":"kirisAki","crafting_cost":35},{"id":"114","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_114_EN.webp","hp":"100","name":"Clefable","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Magical Shot","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #114","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":70},{"id":"115","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_115_EN.webp","hp":"60","name":"Abra","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Teleport","effect":"Switch this Pokmon with 1 of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #115","rarity":""}],"artist":"Aya Kusube","crafting_cost":35},{"id":"116","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_116_EN.webp","hp":"80","name":"Kadabra","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Super Psy Bolt","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #116","rarity":""}],"artist":"Ken Sugimori","crafting_cost":70},{"id":"117","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_117_EN.webp","hp":"130","name":"Alakazam","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Psychic","damage":"60+","effect":"This attack does 30 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #117","rarity":""},{"version":"Genetic Apex #236","rarity":""}],"artist":"Kouki Saitou","crafting_cost":150},{"id":"118","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_118_EN.webp","hp":"70","name":"Slowpoke","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Tail Whap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #118","rarity":""},{"version":"Genetic Apex #237","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"119","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_119_EN.webp","hp":"130","name":"Slowbro","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Super Psy Bolt","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #119","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"120","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_120_EN.webp","hp":"60","name":"Gastly","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Suffocating Gas","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #120","rarity":""}],"artist":"Masako Yamashita","crafting_cost":35},{"id":"121","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_121_EN.webp","hp":"80","name":"Haunter","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Will-O-Wisp","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #121","rarity":""}],"artist":"Nisata Niso","crafting_cost":70},{"id":"122","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_122_EN.webp","hp":"130","name":"Gengar","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic"],"name":"Bother","damage":"50","effect":"Your opponent can't use any Supporter cards from their hand during their next turn."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #122","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":150},{"id":"123","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_123_EN.webp","hp":"170","name":"Gengar ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Spooky Shot","damage":"100","effect":"No effect"}],"ability":{"name":"Shadowy Spellbind","effect":"As long as this Pokmon is in the Active Spot, your opponent can't use any Supporter cards from their hand."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #123","rarity":""},{"version":"Genetic Apex #261","rarity":""},{"version":"Genetic Apex #277","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"124","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_124_EN.webp","hp":"70","name":"Drowzee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Mumble","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #124","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"125","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_125_EN.webp","hp":"100","name":"Hypno","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Psypunch","damage":"50","effect":"No effect"}],"ability":{"name":"Sleep Pendulum","effect":"Once during your turn, you may flip a coin. If heads, your opponent's Active Pokmon is now Asleep."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #125","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":150},{"id":"126","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_126_EN.webp","hp":"80","name":"Mr. Mime","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Barrier Attack","damage":"30","effect":"During your opponent's next turn, this Pokmon takes -20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #126","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"127","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_127_EN.webp","hp":"80","name":"Jynx","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic","damage":"30+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #127","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":35},{"id":"128","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_128_EN.webp","hp":"120","name":"Mewtwo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Power Blast","damage":"120","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #128","rarity":""},{"version":"Promo-A #10","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"129","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_129_EN.webp","hp":"150","name":"Mewtwo ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic Sphere","damage":"50","effect":"No effect"},{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Psydrive","damage":"150","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #129","rarity":""},{"version":"Genetic Apex #262","rarity":""},{"version":"Genetic Apex #282","rarity":""},{"version":"Genetic Apex #286","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":500},{"id":"130","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_130_EN.webp","hp":"60","name":"Ralts","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Ram","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #130","rarity":""}],"artist":"Yuka Morii","crafting_cost":35},{"id":"131","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_131_EN.webp","hp":"80","name":"Kirlia","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless"],"name":"Smack","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #131","rarity":""}],"artist":"sowsow","crafting_cost":70},{"id":"132","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_132_EN.webp","hp":"110","name":"Gardevoir","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Psyshot","damage":"60","effect":"No effect"}],"ability":{"name":"Psy Shadow","effect":"Once during your turn, you may take 1  Energy from your Energy Zone and attach it to the  Pokmon in the Active Spot."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #132","rarity":""}],"artist":"Yuu Nishida","crafting_cost":150},{"id":"133","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_133_EN.webp","hp":"60","name":"Woobat","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gnaw","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #133","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"134","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_134_EN.webp","hp":"90","name":"Swoobat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless"],"name":"Heart Stamp","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #134","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":35},{"id":"135","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_135_EN.webp","hp":"90","name":"Golett","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Mega Punch","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #135","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"136","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_136_EN.webp","hp":"140","name":"Golurk","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Double Lariat","damage":"100x","effect":"Flip 2 coins. This attack does 100 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #136","rarity":""}],"artist":"match","crafting_cost":70},{"id":"137","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_137_EN.webp","hp":"70","name":"Sandshrew","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Scratch","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #137","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"138","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_138_EN.webp","hp":"100","name":"Sandslash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Slash","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #138","rarity":""}],"artist":"Miki Tanaka","crafting_cost":70},{"id":"139","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_139_EN.webp","hp":"50","name":"Diglett","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Mud-Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #139","rarity":""},{"version":"Genetic Apex #238","rarity":""}],"artist":"Masako Yamashita","crafting_cost":35},{"id":"140","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_140_EN.webp","hp":"70","name":"Dugtrio","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Dig","damage":"40","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #140","rarity":""}],"artist":"Akira Komayama","crafting_cost":70},{"id":"141","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_141_EN.webp","hp":"60","name":"Mankey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Low Kick","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #141","rarity":""}],"artist":"Kanako Eo","crafting_cost":35},{"id":"142","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_142_EN.webp","hp":"90","name":"Primeape","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Fight Back","damage":"40+","effect":"If this Pokmon has damage on it, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #142","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"143","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_143_EN.webp","hp":"70","name":"Machop","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Knuckle Punch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #143","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"144","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_144_EN.webp","hp":"100","name":"Machoke","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Strength","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #144","rarity":""}],"artist":"match","crafting_cost":70},{"id":"145","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_145_EN.webp","hp":"150","name":"Machamp","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Seismic Toss","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #145","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"146","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_146_EN.webp","hp":"180","name":"Machamp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Mega Punch","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #146","rarity":""},{"version":"Genetic Apex #263","rarity":""},{"version":"Genetic Apex #278","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"147","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_147_EN.webp","hp":"70","name":"Geodude","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #147","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"148","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_148_EN.webp","hp":"100","name":"Graveler","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless","Colorless"],"name":"Rollout","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #148","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":70},{"id":"149","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_149_EN.webp","hp":"160","name":"Golem","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Colorless","Colorless","Colorless"],"name":"Double-Edge","damage":"150","effect":"This Pokmon also does 50 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #149","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":150},{"id":"150","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_150_EN.webp","hp":"110","name":"Onix","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Land Crush","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #150","rarity":""},{"version":"Promo-A #21","rarity":""}],"artist":"otumami","crafting_cost":70},{"id":"151","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_151_EN.webp","hp":"60","name":"Cubone","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Growl","effect":"During your opponent's next turn, attacks used by the Defending Pokmon do -20 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #151","rarity":""},{"version":"Genetic Apex #239","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"152","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_152_EN.webp","hp":"100","name":"Marowak","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Bone Beatdown","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #152","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":70},{"id":"153","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_153_EN.webp","hp":"140","name":"Marowak ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Bonemerang","damage":"80x","effect":"Flip 2 coins. This attack does 80 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #153","rarity":""},{"version":"Genetic Apex #264","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":500},{"id":"154","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_154_EN.webp","hp":"80","name":"Hitmonlee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Stretch","damage":"Kick","effect":"This attack does 30 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #154","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"155","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_155_EN.webp","hp":"80","name":"Hitmonchan","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Jab","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #155","rarity":""}],"artist":"Ken Sugimori","crafting_cost":35},{"id":"156","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_156_EN.webp","hp":"80","name":"Rhyhorn","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Tackle","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #156","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"157","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_157_EN.webp","hp":"120","name":"Rhydon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Horn Drill","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #157","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"158","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_158_EN.webp","hp":"90","name":"Kabuto","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Shell Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #158","rarity":""}],"artist":"sui","crafting_cost":70},{"id":"159","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_159_EN.webp","hp":"140","name":"Kabutops","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Leech Life","damage":"50","effect":"Heal from this Pokmon the same amount of damage you did to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #159","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":150},{"id":"160","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_160_EN.webp","hp":"60","name":"Mienfoo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pound","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #160","rarity":""}],"artist":"match","crafting_cost":35},{"id":"161","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_161_EN.webp","hp":"80","name":"Mienshao","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Spiral Kick","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #161","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":70},{"id":"162","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_162_EN.webp","hp":"80","name":"Clobbopus","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Knuckle Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #162","rarity":""}],"artist":"Yuu Nishida","crafting_cost":35},{"id":"163","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_163_EN.webp","hp":"130","name":"Grapploct","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Knock Back","damage":"70","effect":"Switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #163","rarity":""}],"artist":"kurumitsu","crafting_cost":70},{"id":"164","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_164_EN.webp","hp":"60","name":"Ekans","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #164","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"165","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_165_EN.webp","hp":"100","name":"Arbok","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Colorless"],"name":"Corner","damage":"60","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #165","rarity":""}],"artist":"Naoki Saito","crafting_cost":70},{"id":"166","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_166_EN.webp","hp":"60","name":"Nidoran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Call for","damage":"Family","effect":"Put 1 random Nidoran from your deck onto your Bench."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #166","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"167","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_167_EN.webp","hp":"80","name":"Nidorina","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #167","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"168","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_168_EN.webp","hp":"140","name":"Nidoqueen","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Lovestrike","damage":"80+","effect":"This attack does 50 more damage for each of your Benched Nidoking."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #168","rarity":""},{"version":"Genetic Apex #240","rarity":""}],"artist":"nagimiso","crafting_cost":150},{"id":"169","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_169_EN.webp","hp":"60","name":"Nidoran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #169","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"170","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_170_EN.webp","hp":"90","name":"Nidorino","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Colorless"],"name":"Horn Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #170","rarity":""}],"artist":"Kouki Saitou","crafting_cost":70},{"id":"171","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_171_EN.webp","hp":"150","name":"Nidoking","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Poison Horn","damage":"90","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #171","rarity":""},{"version":"Genetic Apex #241","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"172","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_172_EN.webp","hp":"50","name":"Zubat","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Glide","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #172","rarity":""}],"artist":"match","crafting_cost":35},{"id":"173","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_173_EN.webp","hp":"70","name":"Golbat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Wing Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #173","rarity":""},{"version":"Genetic Apex #242","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"174","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_174_EN.webp","hp":"70","name":"Grimer","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Poison Gas","damage":"10","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #174","rarity":""}],"artist":"Pani Kobayashi","crafting_cost":35},{"id":"175","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_175_EN.webp","hp":"130","name":"Muk","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Venoshock","damage":"70+","effect":"If your opponent's Active Pokmon is Poisoned, this attack does 50 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #175","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":150},{"id":"176","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_176_EN.webp","hp":"70","name":"Koffing","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Suffocating Gas","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #176","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":35},{"id":"177","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_177_EN.webp","hp":"110","name":"Weezing","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Tackle","damage":"30","effect":"No effect"}],"ability":{"name":"Gas Leak","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may make your opponent's Active Pokmon Poisoned."},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #177","rarity":""},{"version":"Genetic Apex #243","rarity":""}],"artist":"OOYAMA","crafting_cost":150},{"id":"178","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_178_EN.webp","hp":"70","name":"Mawile","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Crunch","damage":"20","effect":"Flip a coin. If heads, discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #178","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"179","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_179_EN.webp","hp":"50","name":"Pawniard","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Pierce","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #179","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"180","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_180_EN.webp","hp":"90","name":"Bisharp","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal"],"name":"Metal Claw","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #180","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":70},{"id":"181","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_181_EN.webp","hp":"60","name":"Meltan","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Unknown","damage":"Amass","effect":"Take 1 [M] Energy from your Energy Zone and attach it to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #181","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"182","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_182_EN.webp","hp":"130","name":"Melmetal","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Metal","Colorless"],"name":"Heavy Impact","damage":"120","effect":"No effect"}],"ability":{"name":"Hard Coat","effect":"This Pokmon takes -20 damage from attacks."},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #182","rarity":""}],"artist":"Kouki Saitou","crafting_cost":150},{"id":"183","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_183_EN.webp","hp":"70","name":"Dratini","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Lightning"],"name":"Ram","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #183","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":35},{"id":"184","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_184_EN.webp","hp":"100","name":"Dragonair","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Lightning","Colorless"],"name":"Tail Smack","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #184","rarity":""}],"artist":"kirisAki","crafting_cost":70},{"id":"185","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_185_EN.webp","hp":"160","name":"Dragonite","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Lightning","Colorless","Colorless"],"name":"Draco","damage":"Meteor","effect":"1 of your opponent's Pokmon is chosen at random 4 times. For each time a Pokmon was chosen, do 50 damage to it."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #185","rarity":""},{"version":"Genetic Apex #244","rarity":""}],"artist":"Hiroyuki Yamamoto","crafting_cost":150},{"id":"186","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_186_EN.webp","hp":"60","name":"Pidgey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gust","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #186","rarity":""}],"artist":"Scav","crafting_cost":35},{"id":"187","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_187_EN.webp","hp":"80","name":"Pidgeotto","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Gust","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #187","rarity":""}],"artist":"Scav","crafting_cost":35},{"id":"188","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_188_EN.webp","hp":"130","name":"Pidgeot","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless"],"name":"Wing Attack","damage":"70","effect":"No effect"}],"ability":{"name":"Drive Off","effect":"Once during your turn, you may switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #188","rarity":""},{"version":"Genetic Apex #245","rarity":""}],"artist":"Scav","crafting_cost":150},{"id":"189","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_189_EN.webp","hp":"40","name":"Rattata","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #189","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":35},{"id":"190","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_190_EN.webp","hp":"80","name":"Raticate","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Bite","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #190","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":35},{"id":"191","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_191_EN.webp","hp":"60","name":"Spearow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #191","rarity":""}],"artist":"Shiburingaru","crafting_cost":35},{"id":"192","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_192_EN.webp","hp":"100","name":"Fearow","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Drill Run","damage":"50","effect":"Flip a coin. If heads, discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #192","rarity":""}],"artist":"Satoshi Shirai","crafting_cost":35},{"id":"193","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_193_EN.webp","hp":"60","name":"Jigglypuff","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Pound","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #193","rarity":""}],"artist":"Mizue","crafting_cost":35},{"id":"194","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_194_EN.webp","hp":"100","name":"Wigglytuff","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Hyper Voice","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #194","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"195","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_195_EN.webp","hp":"140","name":"Wigglytuff ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Sleepy Song","damage":"80","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #195","rarity":""},{"version":"Genetic Apex #265","rarity":""},{"version":"Genetic Apex #279","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":500},{"id":"196","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_196_EN.webp","hp":"60","name":"Meowth","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pay Day","damage":"10","effect":"Draw 1 card."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #196","rarity":""},{"version":"Genetic Apex #246","rarity":""},{"version":"Promo-A #12","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":35},{"id":"197","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_197_EN.webp","hp":"90","name":"Persian","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Shadow Claw","damage":"40","effect":"Flip a coin. If heads, discard a random card from your opponent's hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #197","rarity":""}],"artist":"nagimiso","crafting_cost":70},{"id":"198","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_198_EN.webp","hp":"60","name":"Farfetch'd","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Leek Slap","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #198","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"199","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_199_EN.webp","hp":"60","name":"Doduo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #199","rarity":""}],"artist":"Yuya Oka","crafting_cost":35},{"id":"200","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_200_EN.webp","hp":"80","name":"Dodrio","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Drill Peck","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #200","rarity":""}],"artist":"Miki Tanaka","crafting_cost":70},{"id":"201","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_201_EN.webp","hp":"90","name":"Lickitung","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Continuous Lick","damage":"60x","effect":"Flip a coin until you get tails. This attack does 60 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #201","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"202","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_202_EN.webp","hp":"120","name":"Chansey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Gentle Slap","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #202","rarity":""},{"version":"Promo-A #11","rarity":""}],"artist":"MAHOU","crafting_cost":70},{"id":"203","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_203_EN.webp","hp":"100","name":"Kangaskhan","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Dizzy Punch","damage":"30x","effect":"Flip 2 coins. This attack does 30 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #203","rarity":""}],"artist":"Ken Sugimori","crafting_cost":150},{"id":"204","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_204_EN.webp","hp":"100","name":"Tauros","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Horn Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #204","rarity":""}],"artist":"kodama","crafting_cost":70},{"id":"205","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_205_EN.webp","hp":"70","name":"Ditto","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Copy","damage":"Anything","effect":"Choose 1 of your opponent's Pokmon's attacks and use it as this attack. If this Pokmon doesn't have the necessary Energy to use that attack, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #205","rarity":""},{"version":"Genetic Apex #247","rarity":""}],"artist":"Miki Tanaka","crafting_cost":150},{"id":"206","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_206_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #206","rarity":""},{"version":"Genetic Apex #207","rarity":""},{"version":"Genetic Apex #208","rarity":""},{"version":"Genetic Apex #248","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"207","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_207_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #206","rarity":""},{"version":"Genetic Apex #207","rarity":""},{"version":"Genetic Apex #208","rarity":""},{"version":"Genetic Apex #248","rarity":""}],"artist":"Hasuno","crafting_cost":35},{"id":"208","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_208_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #206","rarity":""},{"version":"Genetic Apex #207","rarity":""},{"version":"Genetic Apex #208","rarity":""},{"version":"Genetic Apex #248","rarity":""}],"artist":"Sekio","crafting_cost":35},{"id":"209","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_209_EN.webp","hp":"50","name":"Porygon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Sharpen","damage":"20","effect":"No effect"}],"ability":{"name":"Data Scan","effect":"Once during your turn, you may look at the top card of your deck."},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #209","rarity":""},{"version":"Genetic Apex #249","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":70},{"id":"210","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_210_EN.webp","hp":"100","name":"Aerodactyl","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Primal","damage":"Wingbeat","effect":"Flip a coin. If heads, your opponent shuffles their Active Pokmon back into their deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #210","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":150},{"id":"211","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_211_EN.webp","hp":"150","name":"Snorlax","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Rollout","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #211","rarity":""},{"version":"Genetic Apex #250","rarity":""}],"artist":"Naoki Saito","crafting_cost":150},{"id":"212","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_212_EN.webp","hp":"60","name":"Minccino","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tail Smack","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #212","rarity":""}],"artist":"sui","crafting_cost":35},{"id":"213","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_213_EN.webp","hp":"90","name":"Cinccino","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Do the Wave","damage":"30x","effect":"This attack does 30 damage for each of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #213","rarity":""},{"version":"Promo-A #31","rarity":""}],"artist":"0313","crafting_cost":70},{"id":"214","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_214_EN.webp","hp":"70","name":"Wooloo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Tackle","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #214","rarity":""}],"artist":"Yoriyuki Ikegami","crafting_cost":35},{"id":"215","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_215_EN.webp","hp":"120","name":"Dubwool","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Rolling Tackle","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #215","rarity":""}],"artist":"saino misaki","crafting_cost":35},{"id":"216","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_216_EN.webp","hp":"40","name":"Helix Fossil","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #216","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"217","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_217_EN.webp","hp":"40","name":"Dome Fossil","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #217","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"218","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_218_EN.webp","hp":"40","name":"Old Amber","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #218","rarity":""},{"version":"Mythical Island #63","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"219","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_219_EN.webp","hp":"Unknown","name":"Erika","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Heal 50 damage from 1 of your [G] Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                kirisAki","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #219","rarity":""},{"version":"Genetic Apex #266","rarity":""}],"artist":"kirisAki","crafting_cost":70},{"id":"220","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_220_EN.webp","hp":"Unknown","name":"Misty","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Choose 1 of your[W] Pokmon, and flip a coin until you get tails. For each heads, take a[W] Energy from your Energy Zone and attach it to that Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Sanosuke Sakuma","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #220","rarity":""},{"version":"Genetic Apex #267","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":70},{"id":"221","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_221_EN.webp","hp":"Unknown","name":"Blaine","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Ninetales, Rapidash, or Magmar do +30 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GOSSAN","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #221","rarity":""},{"version":"Genetic Apex #268","rarity":""}],"artist":"GOSSAN","crafting_cost":70},{"id":"222","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_222_EN.webp","hp":"Unknown","name":"Koga","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put your Muk or Weezing in the Active Spot into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Souichirou Gunjima","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #222","rarity":""},{"version":"Genetic Apex #269","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":70},{"id":"223","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_223_EN.webp","hp":"Unknown","name":"Giovanni","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Pokmon do +10 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Hideki Ishikawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #223","rarity":""},{"version":"Genetic Apex #270","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":70},{"id":"224","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_224_EN.webp","hp":"Unknown","name":"Brock","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Take a [F] Energy from your Energy Zone and attach it to Golem or Onix.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Taira Akitsu","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #224","rarity":""},{"version":"Genetic Apex #271","rarity":""}],"artist":"Taira Akitsu","crafting_cost":70},{"id":"225","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_225_EN.webp","hp":"Unknown","name":"Sabrina","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #225","rarity":""},{"version":"Genetic Apex #272","rarity":""}],"artist":"Yuu Nishida","crafting_cost":70},{"id":"226","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_226_EN.webp","hp":"Unknown","name":"Lt. Surge","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Move all [L] Energy from your Benched Pokmon to your Raichu, Electrode, or Electabuzz in the Active Spot.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                nagimiso","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #226","rarity":""},{"version":"Genetic Apex #273","rarity":""}],"artist":"nagimiso","crafting_cost":70},{"id":"227","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_227_EN.webp","hp":"70","name":"Bulbasaur","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #1","rarity":""},{"version":"Genetic Apex #227","rarity":""},{"version":"Promo-A #23","rarity":""}],"artist":"Ryota Murayama","crafting_cost":400},{"id":"228","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_228_EN.webp","hp":"80","name":"Gloom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Drool","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #12","rarity":""},{"version":"Genetic Apex #228","rarity":""}],"artist":"OKACHEKE","crafting_cost":400},{"id":"229","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_229_EN.webp","hp":"90","name":"Pinsir","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Grass"],"name":"Double Horn","damage":"50x","effect":"Flip 2 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #26","rarity":""},{"version":"Genetic Apex #229","rarity":""}],"artist":"Scav","crafting_cost":400},{"id":"230","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_230_EN.webp","hp":"60","name":"Charmander","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Ember","damage":"30","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #33","rarity":""},{"version":"Genetic Apex #230","rarity":""},{"version":"Promo-A #32","rarity":""}],"artist":"GIDORA","crafting_cost":400},{"id":"231","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_231_EN.webp","hp":"100","name":"Rapidash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire"],"name":"Fire Mane","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #43","rarity":""},{"version":"Genetic Apex #231","rarity":""}],"artist":"Taira Akitsu","crafting_cost":400},{"id":"232","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_232_EN.webp","hp":"60","name":"Squirtle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #53","rarity":""},{"version":"Genetic Apex #232","rarity":""},{"version":"Promo-A #33","rarity":""}],"artist":"Taira Akitsu","crafting_cost":400},{"id":"233","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_233_EN.webp","hp":"150","name":"Gyarados","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Water"],"name":"Hyper Beam","damage":"100","effect":"Discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #78","rarity":""},{"version":"Genetic Apex #233","rarity":""}],"artist":"Nurikabe","crafting_cost":400},{"id":"234","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_234_EN.webp","hp":"100","name":"Lapras","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Hydro Pump","damage":"20+","effect":"If this Pokmon has at least 3 extra [W] Energy attached, this attack does 70 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #79","rarity":""},{"version":"Genetic Apex #234","rarity":""}],"artist":"Haru Akasaka","crafting_cost":400},{"id":"235","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_235_EN.webp","hp":"80","name":"Electrode","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Electro Ball","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"0","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #100","rarity":""},{"version":"Genetic Apex #235","rarity":""}],"artist":"DOM","crafting_cost":400},{"id":"236","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_236_EN.webp","hp":"130","name":"Alakazam","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Psychic","damage":"60+","effect":"This attack does 30 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #117","rarity":""},{"version":"Genetic Apex #236","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":400},{"id":"237","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_237_EN.webp","hp":"70","name":"Slowpoke","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Tail Whap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #118","rarity":""},{"version":"Genetic Apex #237","rarity":""}],"artist":"Miki Tanaka","crafting_cost":400},{"id":"238","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_238_EN.webp","hp":"50","name":"Diglett","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Mud-Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #139","rarity":""},{"version":"Genetic Apex #238","rarity":""}],"artist":"Shinya Komatsu","crafting_cost":400},{"id":"239","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_239_EN.webp","hp":"60","name":"Cubone","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Growl","effect":"During your opponent's next turn, attacks used by the Defending Pokmon do -20 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #151","rarity":""},{"version":"Genetic Apex #239","rarity":""}],"artist":"Teeziro","crafting_cost":400},{"id":"240","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_240_EN.webp","hp":"140","name":"Nidoqueen","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Lovestrike","damage":"80+","effect":"This attack does 50 more damage for each of your Benched Nidoking."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #168","rarity":""},{"version":"Genetic Apex #240","rarity":""}],"artist":"aoki","crafting_cost":400},{"id":"241","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_241_EN.webp","hp":"150","name":"Nidoking","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Poison Horn","damage":"90","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #171","rarity":""},{"version":"Genetic Apex #241","rarity":""}],"artist":"nagimiso","crafting_cost":400},{"id":"242","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_242_EN.webp","hp":"70","name":"Golbat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Wing Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #173","rarity":""},{"version":"Genetic Apex #242","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":400},{"id":"243","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_243_EN.webp","hp":"110","name":"Weezing","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Tackle","damage":"30","effect":"No effect"}],"ability":{"name":"Gas Leak","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may make your opponent's Active Pokmon Poisoned."},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #177","rarity":""},{"version":"Genetic Apex #243","rarity":""}],"artist":"KEIICHIRO ITO","crafting_cost":400},{"id":"244","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_244_EN.webp","hp":"160","name":"Dragonite","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Lightning","Colorless","Colorless"],"name":"Draco","damage":"Meteor","effect":"1 of your opponent's Pokmon is chosen at random 4 times. For each time a Pokmon was chosen, do 50 damage to it."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #185","rarity":""},{"version":"Genetic Apex #244","rarity":""}],"artist":"Gemi","crafting_cost":400},{"id":"245","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_245_EN.webp","hp":"130","name":"Pidgeot","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless"],"name":"Wing Attack","damage":"70","effect":"No effect"}],"ability":{"name":"Drive Off","effect":"Once during your turn, you may switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #188","rarity":""},{"version":"Genetic Apex #245","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":400},{"id":"246","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_246_EN.webp","hp":"60","name":"Meowth","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pay Day","damage":"10","effect":"Draw 1 card."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #196","rarity":""},{"version":"Genetic Apex #246","rarity":""},{"version":"Promo-A #12","rarity":""}],"artist":"Mina Nakai","crafting_cost":400},{"id":"247","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_247_EN.webp","hp":"70","name":"Ditto","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Copy","damage":"Anything","effect":"Choose 1 of your opponent's Pokmon's attacks and use it as this attack. If this Pokmon doesn't have the necessary Energy to use that attack, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #205","rarity":""},{"version":"Genetic Apex #247","rarity":""}],"artist":"Jerky","crafting_cost":400},{"id":"248","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_248_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #206","rarity":""},{"version":"Genetic Apex #207","rarity":""},{"version":"Genetic Apex #208","rarity":""},{"version":"Genetic Apex #248","rarity":""}],"artist":"sowsow","crafting_cost":400},{"id":"249","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_249_EN.webp","hp":"50","name":"Porygon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Sharpen","damage":"20","effect":"No effect"}],"ability":{"name":"Data Scan","effect":"Once during your turn, you may look at the top card of your deck."},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #209","rarity":""},{"version":"Genetic Apex #249","rarity":""}],"artist":"Akira Komayama","crafting_cost":400},{"id":"250","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_250_EN.webp","hp":"150","name":"Snorlax","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Rollout","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #211","rarity":""},{"version":"Genetic Apex #250","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":400},{"id":"251","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_251_EN.webp","hp":"190","name":"Venusaur ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Razor Leaf","damage":"60","effect":"No effect"},{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Giant Bloom","damage":"100","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #4","rarity":""},{"version":"Genetic Apex #251","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"252","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_252_EN.webp","hp":"160","name":"Exeggutor ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Tropical Swing","damage":"40+","effect":"Flip a coin. If heads, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #23","rarity":""},{"version":"Genetic Apex #252","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"253","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_253_EN.webp","hp":"180","name":"Charizard ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Slash","damage":"60","effect":"No effect"},{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Crimson Storm","damage":"200","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #36","rarity":""},{"version":"Genetic Apex #253","rarity":""},{"version":"Genetic Apex #280","rarity":""},{"version":"Genetic Apex #284","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"254","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_254_EN.webp","hp":"150","name":"Arcanine ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Inferno Onrush","damage":"120","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #41","rarity":""},{"version":"Genetic Apex #254","rarity":""}],"artist":"PLANETA Saito","crafting_cost":1250},{"id":"255","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_255_EN.webp","hp":"140","name":"Moltres ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Inferno","damage":"Dance","effect":"Flip 3 coins. Take an amount of [R] Energy from your Energy Zone equal to the number of heads and attach it to your Benched [R] Pokmon in any way you like."},{"cost":["Fire","Colorless","Colorless"],"name":"Heat Blast","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #47","rarity":""},{"version":"Genetic Apex #255","rarity":""},{"version":"Genetic Apex #274","rarity":""},{"version":"Promo-A #25","rarity":""}],"artist":"PLANETA Saito","crafting_cost":1250},{"id":"256","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_256_EN.webp","hp":"180","name":"Blastoise ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless"],"name":"Surf","damage":"40","effect":"No effect"},{"cost":["Water","Water","Colorless"],"name":"Hydro Bazooka","damage":"100+","effect":"If this Pokmon has at least 2 extra [W] Energy attached, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #56","rarity":""},{"version":"Genetic Apex #256","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"257","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_257_EN.webp","hp":"130","name":"Starmie ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Hydro Splash","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #76","rarity":""},{"version":"Genetic Apex #257","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":1250},{"id":"258","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_258_EN.webp","hp":"140","name":"Articuno ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Ice Wing","damage":"40","effect":"No effect"},{"cost":["Water","Water","Water"],"name":"Blizzard","damage":"80","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #84","rarity":""},{"version":"Genetic Apex #258","rarity":""},{"version":"Genetic Apex #275","rarity":""}],"artist":"PLANETA Saito","crafting_cost":1250},{"id":"259","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_259_EN.webp","hp":"120","name":"Pikachu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Circle Circuit","damage":"30x","effect":"This attack does 30 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #96","rarity":""},{"version":"Genetic Apex #259","rarity":""},{"version":"Genetic Apex #281","rarity":""},{"version":"Genetic Apex #285","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"260","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_260_EN.webp","hp":"130","name":"Zapdos ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Peck","damage":"20","effect":"No effect"},{"cost":["Lightning","Lightning","Lightning"],"name":"Thundering Hurricane","damage":"50x","effect":"Flip 4 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #104","rarity":""},{"version":"Genetic Apex #260","rarity":""},{"version":"Genetic Apex #276","rarity":""}],"artist":"PLANETA Saito","crafting_cost":1250},{"id":"261","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_261_EN.webp","hp":"170","name":"Gengar ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Spooky Shot","damage":"100","effect":"No effect"}],"ability":{"name":"Shadowy Spellbind","effect":"As long as this Pokmon is in the Active Spot, your opponent can't use any Supporter cards from their hand."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #123","rarity":""},{"version":"Genetic Apex #261","rarity":""},{"version":"Genetic Apex #277","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"262","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_262_EN.webp","hp":"150","name":"Mewtwo ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic Sphere","damage":"50","effect":"No effect"},{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Psydrive","damage":"150","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #129","rarity":""},{"version":"Genetic Apex #262","rarity":""},{"version":"Genetic Apex #282","rarity":""},{"version":"Genetic Apex #286","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":1250},{"id":"263","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_263_EN.webp","hp":"180","name":"Machamp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Mega Punch","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #146","rarity":""},{"version":"Genetic Apex #263","rarity":""},{"version":"Genetic Apex #278","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":1250},{"id":"264","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_264_EN.webp","hp":"140","name":"Marowak ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Bonemerang","damage":"80x","effect":"Flip 2 coins. This attack does 80 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #153","rarity":""},{"version":"Genetic Apex #264","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":1250},{"id":"265","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_265_EN.webp","hp":"140","name":"Wigglytuff ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Sleepy Song","damage":"80","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #195","rarity":""},{"version":"Genetic Apex #265","rarity":""},{"version":"Genetic Apex #279","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":1250},{"id":"266","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_266_EN.webp","hp":"Unknown","name":"Erika","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Heal 50 damage from 1 of your [G] Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                saino misaki","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #219","rarity":""},{"version":"Genetic Apex #266","rarity":""}],"artist":"saino misaki","crafting_cost":1250},{"id":"267","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_267_EN.webp","hp":"Unknown","name":"Misty","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Choose 1 of your[W] Pokmon, and flip a coin until you get tails. For each heads, take a[W] Energy from your Energy Zone and attach it to that Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Sanosuke Sakuma","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #220","rarity":""},{"version":"Genetic Apex #267","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":1250},{"id":"268","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_268_EN.webp","hp":"Unknown","name":"Blaine","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Ninetales, Rapidash, or Magmar do +30 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GOSSAN","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #221","rarity":""},{"version":"Genetic Apex #268","rarity":""}],"artist":"GOSSAN","crafting_cost":1250},{"id":"269","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_269_EN.webp","hp":"Unknown","name":"Koga","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put your Muk or Weezing in the Active Spot into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Souichirou Gunjima","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #222","rarity":""},{"version":"Genetic Apex #269","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":1250},{"id":"270","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_270_EN.webp","hp":"Unknown","name":"Giovanni","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Pokmon do +10 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Hideki Ishikawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #223","rarity":""},{"version":"Genetic Apex #270","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":1250},{"id":"271","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_271_EN.webp","hp":"Unknown","name":"Brock","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Take a [F] Energy from your Energy Zone and attach it to Golem or Onix.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #224","rarity":""},{"version":"Genetic Apex #271","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":1250},{"id":"272","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_272_EN.webp","hp":"Unknown","name":"Sabrina","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Switch out your opponent's Active Pokmon to the Bench. (Your opponent chooses the new Active Pokmon.)\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GIDORA","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #225","rarity":""},{"version":"Genetic Apex #272","rarity":""}],"artist":"GIDORA","crafting_cost":1250},{"id":"273","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_273_EN.webp","hp":"Unknown","name":"Lt. Surge","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Move all [L] Energy from your Benched Pokmon to your Raichu, Electrode, or Electabuzz in the Active Spot.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                nagimiso","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #226","rarity":""},{"version":"Genetic Apex #273","rarity":""}],"artist":"nagimiso","crafting_cost":1250},{"id":"274","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_274_EN.webp","hp":"140","name":"Moltres ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Inferno","damage":"Dance","effect":"Flip 3 coins. Take an amount of [R] Energy from your Energy Zone equal to the number of heads and attach it to your Benched [R] Pokmon in any way you like."},{"cost":["Fire","Colorless","Colorless"],"name":"Heat Blast","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #47","rarity":""},{"version":"Genetic Apex #255","rarity":""},{"version":"Genetic Apex #274","rarity":""},{"version":"Promo-A #25","rarity":""}],"artist":"hncl","crafting_cost":1250},{"id":"275","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_275_EN.webp","hp":"140","name":"Articuno ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Ice Wing","damage":"40","effect":"No effect"},{"cost":["Water","Water","Water"],"name":"Blizzard","damage":"80","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #84","rarity":""},{"version":"Genetic Apex #258","rarity":""},{"version":"Genetic Apex #275","rarity":""}],"artist":"kodama","crafting_cost":1250},{"id":"276","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_276_EN.webp","hp":"130","name":"Zapdos ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Peck","damage":"20","effect":"No effect"},{"cost":["Lightning","Lightning","Lightning"],"name":"Thundering Hurricane","damage":"50x","effect":"Flip 4 coins. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #104","rarity":""},{"version":"Genetic Apex #260","rarity":""},{"version":"Genetic Apex #276","rarity":""}],"artist":"GOSSAN","crafting_cost":1250},{"id":"277","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_277_EN.webp","hp":"170","name":"Gengar ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Spooky Shot","damage":"100","effect":"No effect"}],"ability":{"name":"Shadowy Spellbind","effect":"As long as this Pokmon is in the Active Spot, your opponent can't use any Supporter cards from their hand."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #123","rarity":""},{"version":"Genetic Apex #261","rarity":""},{"version":"Genetic Apex #277","rarity":""}],"artist":"NC Empire","crafting_cost":1250},{"id":"278","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_278_EN.webp","hp":"180","name":"Machamp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Mega Punch","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #146","rarity":""},{"version":"Genetic Apex #263","rarity":""},{"version":"Genetic Apex #278","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":1250},{"id":"279","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_279_EN.webp","hp":"140","name":"Wigglytuff ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Sleepy Song","damage":"80","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #195","rarity":""},{"version":"Genetic Apex #265","rarity":""},{"version":"Genetic Apex #279","rarity":""}],"artist":"Shibuzoh.","crafting_cost":1250},{"id":"280","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_280_EN.webp","hp":"180","name":"Charizard ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Slash","damage":"60","effect":"No effect"},{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Crimson Storm","damage":"200","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Charizard pack","alternate_versions":[{"version":"Genetic Apex #36","rarity":""},{"version":"Genetic Apex #253","rarity":""},{"version":"Genetic Apex #280","rarity":""},{"version":"Genetic Apex #284","rarity":""}],"artist":"kantaro","crafting_cost":1500},{"id":"281","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_281_EN.webp","hp":"120","name":"Pikachu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Circle Circuit","damage":"30x","effect":"This attack does 30 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Pikachu pack","alternate_versions":[{"version":"Genetic Apex #96","rarity":""},{"version":"Genetic Apex #259","rarity":""},{"version":"Genetic Apex #281","rarity":""},{"version":"Genetic Apex #285","rarity":""}],"artist":"Ryota Murayama","crafting_cost":1500},{"id":"282","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_282_EN.webp","hp":"150","name":"Mewtwo ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic Sphere","damage":"50","effect":"No effect"},{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Psydrive","damage":"150","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Mewtwo pack","alternate_versions":[{"version":"Genetic Apex #129","rarity":""},{"version":"Genetic Apex #262","rarity":""},{"version":"Genetic Apex #282","rarity":""},{"version":"Genetic Apex #286","rarity":""}],"artist":"Nurikabe","crafting_cost":1500},{"id":"283","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_283_EN.webp","hp":"60","name":"Mew","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psy Report","damage":"20","effect":"Your opponent reveals their hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #283","rarity":""},{"version":"Mythical Island #31","rarity":""}],"artist":"Amelicart","crafting_cost":1500},{"id":"284","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_284_EN.webp","hp":"180","name":"Charizard ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Colorless","Colorless"],"name":"Slash","damage":"60","effect":"No effect"},{"cost":["Fire","Fire","Colorless","Colorless"],"name":"Crimson Storm","damage":"200","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #36","rarity":""},{"version":"Genetic Apex #253","rarity":""},{"version":"Genetic Apex #280","rarity":""},{"version":"Genetic Apex #284","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"},{"id":"285","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_285_EN.webp","hp":"120","name":"Pikachu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Circle Circuit","damage":"30x","effect":"This attack does 30 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #96","rarity":""},{"version":"Genetic Apex #259","rarity":""},{"version":"Genetic Apex #281","rarity":""},{"version":"Genetic Apex #285","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"},{"id":"286","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1/A1_286_EN.webp","hp":"150","name":"Mewtwo ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Psychic Sphere","damage":"50","effect":"No effect"},{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Psydrive","damage":"150","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Genetic Apex  (A1)","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #129","rarity":""},{"version":"Genetic Apex #262","rarity":""},{"version":"Genetic Apex #282","rarity":""},{"version":"Genetic Apex #286","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":"Unknown"}]`),Qte=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_001_EN.webp","hp":"50","name":"Exeggcute","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Growth","damage":"Spurt","effect":"Take a [G] Energy from your Energy Zone and attach it to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #1","rarity":""}],"artist":"Yuka Morii","crafting_cost":35},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_002_EN.webp","hp":"130","name":"Exeggutor","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless","Colorless"],"name":"Psychic","damage":"80+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #2","rarity":""},{"version":"Mythical Island #69","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_003_EN.webp","hp":"130","name":"Celebi ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Powerful Bloom","damage":"50x","effect":"Flip a coin for each Energy attached to this Pokmon. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #3","rarity":""},{"version":"Mythical Island #75","rarity":""},{"version":"Mythical Island #85","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_004_EN.webp","hp":"70","name":"Snivy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #4","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_005_EN.webp","hp":"80","name":"Servine","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #5","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":70},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_006_EN.webp","hp":"110","name":"Serperior","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Jungle Totem","effect":"Each  Energy attached to your  Pokmon provides 2  Energy. This effect doesn't stack."},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #6","rarity":""},{"version":"Mythical Island #70","rarity":""}],"artist":"Yoshioka","crafting_cost":150},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_007_EN.webp","hp":"60","name":"Morelull","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Ram","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #7","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":35},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_008_EN.webp","hp":"90","name":"Shiinotic","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Flickering Spores","damage":"50","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #8","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_009_EN.webp","hp":"100","name":"Dhelmise","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Energy Whip","damage":"20+","effect":"If this Pokmon has at least 3 extra [G] Energy attached, this attack does 70 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #9","rarity":""}],"artist":"Hasuno","crafting_cost":70},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_010_EN.webp","hp":"60","name":"Ponyta","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Stomp","damage":"10+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #10","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":35},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_011_EN.webp","hp":"100","name":"Rapidash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Rising Lunge","damage":"40+","effect":"Flip a coin. If heads, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #11","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":70},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_012_EN.webp","hp":"80","name":"Magmar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Fire"],"name":"Fire Blast","damage":"80","effect":"Discard 2 [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #12","rarity":""}],"artist":"sui","crafting_cost":70},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_013_EN.webp","hp":"80","name":"Larvesta","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Colorless"],"name":"Combustion","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #13","rarity":""}],"artist":"kawayoo","crafting_cost":35},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_014_EN.webp","hp":"120","name":"Volcarona","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Volcanic","damage":"Ash","effect":"Discard 2 [R] Energy from this Pokmon. This attack does 80 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #14","rarity":""},{"version":"Promo-A #28","rarity":""}],"artist":"DOM","crafting_cost":150},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_015_EN.webp","hp":"60","name":"Salandit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Venoshock","damage":"10+","effect":"If your opponent's Active Pokmon is Poisoned, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #15","rarity":""},{"version":"Mythical Island #71","rarity":""}],"artist":"Naoki Saito","crafting_cost":35},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_016_EN.webp","hp":"80","name":"Salazzle","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire"],"name":"Poison Claws","damage":"30","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #16","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":35},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_017_EN.webp","hp":"30","name":"Magikarp","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Leap","damage":"Out","effect":"Switch this Pokmon with 1 of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #17","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":35},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_018_EN.webp","hp":"180","name":"Gyarados ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Colorless"],"name":"Rampaging Whirlpool","damage":"140","effect":"Discard a random Energy from among the Energy attached to all Pokmon (both yours and your opponent's)."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #18","rarity":""},{"version":"Mythical Island #76","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_019_EN.webp","hp":"120","name":"Vaporeon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Wave Splash","damage":"60","effect":"No effect"}],"ability":{"name":"Wash Out","effect":"As often as you like during your turn, you may move a  Energy from 1 of your Benched  Pokmon to your Active  Pokmon."},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #19","rarity":""},{"version":"Mythical Island #72","rarity":""}],"artist":"LINNE","crafting_cost":150},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_020_EN.webp","hp":"60","name":"Finneon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #20","rarity":""}],"artist":"sui","crafting_cost":35},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_021_EN.webp","hp":"80","name":"Lumineon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Aqua","damage":"Liner","effect":"This attack does 50 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #21","rarity":""}],"artist":"Sekio","crafting_cost":70},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_022_EN.webp","hp":"80","name":"Chewtle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #22","rarity":""}],"artist":"Taiga Kayama","crafting_cost":35},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_023_EN.webp","hp":"130","name":"Drednaw","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water"],"name":"Crunch","damage":"70","effect":"Flip a coin. If heads, discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #23","rarity":""}],"artist":"nisimono","crafting_cost":70},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_024_EN.webp","hp":"80","name":"Cramorant","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water","Colorless"],"name":"Dive","damage":"60","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #24","rarity":""}],"artist":"Jerky","crafting_cost":35},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_025_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Circle Circuit","damage":"10x","effect":"This attack does 10 damage for each of your Benched [L] Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #25","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_026_EN.webp","hp":"120","name":"Raichu","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning","Lightning"],"name":"Gigashock","damage":"60","effect":"This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #26","rarity":""}],"artist":"hncl","crafting_cost":150},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_027_EN.webp","hp":"70","name":"Electabuzz","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Thunder","damage":"Spear","effect":"This attack does 40 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #27","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":70},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_028_EN.webp","hp":"40","name":"Joltik","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Bug Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #28","rarity":""}],"artist":"MINAMINAMI Take","crafting_cost":35},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_029_EN.webp","hp":"80","name":"Galvantula","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Electroweb","damage":"70","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #29","rarity":""}],"artist":"Mitsuhiro Arita","crafting_cost":70},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_030_EN.webp","hp":"60","name":"Dedenne","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Thunder Shock","damage":"10","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #30","rarity":""},{"version":"Mythical Island #73","rarity":""}],"artist":"Taiga Kayama","crafting_cost":35},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_031_EN.webp","hp":"60","name":"Mew","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psy Report","damage":"20","effect":"Your opponent reveals their hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Genetic Apex #283","rarity":""},{"version":"Mythical Island #31","rarity":""}],"artist":"Saya Tsuruta","crafting_cost":150},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_032_EN.webp","hp":"130","name":"Mew ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psyshot","damage":"20","effect":"No effect"},{"cost":["Colorless","Colorless","Colorless"],"name":"Genome","damage":"Hacking","effect":"Choose 1 of your opponent's Active Pokmon's attacks and use it as this attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #32","rarity":""},{"version":"Mythical Island #77","rarity":""},{"version":"Mythical Island #83","rarity":""},{"version":"Mythical Island #86","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_033_EN.webp","hp":"80","name":"Sigilyph","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Spike Draw","damage":"10","effect":"Draw a card."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #33","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":70},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_034_EN.webp","hp":"60","name":"Elgyem","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Headbutt","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #34","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_035_EN.webp","hp":"90","name":"Beheeyem","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Mind Jack","damage":"10+","effect":"This attack does 20 more damage for each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #35","rarity":""}],"artist":"sowsow","crafting_cost":70},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_036_EN.webp","hp":"40","name":"Flabb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Hypnotic","damage":"Gaze","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #36","rarity":""}],"artist":"Cona Nitanda","crafting_cost":35},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_037_EN.webp","hp":"70","name":"Floette","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Leaf Drain","damage":"40","effect":"Heal 10 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #37","rarity":""}],"artist":"Cona Nitanda","crafting_cost":35},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_038_EN.webp","hp":"120","name":"Florges","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic"],"name":"Bloomshine","damage":"80","effect":"Heal 20 damage from each of your Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #38","rarity":""}],"artist":"Cona Nitanda","crafting_cost":70},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_039_EN.webp","hp":"60","name":"Swirlix","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Fairy Wind","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #39","rarity":""}],"artist":"5ban Graphics","crafting_cost":35},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_040_EN.webp","hp":"100","name":"Slurpuff","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless"],"name":"Magical Shot","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #40","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_041_EN.webp","hp":"50","name":"Mankey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Focus Fist","damage":"50","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #41","rarity":""}],"artist":"Akira Komayama","crafting_cost":35},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_042_EN.webp","hp":"80","name":"Primeape","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Punch","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #42","rarity":""}],"artist":"Taiga Kayama","crafting_cost":35},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_043_EN.webp","hp":"70","name":"Geodude","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Light Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #43","rarity":""}],"artist":"GOSSAN","crafting_cost":35},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_044_EN.webp","hp":"100","name":"Graveler","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless"],"name":"Lunge Out","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #44","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":70},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_045_EN.webp","hp":"160","name":"Golem","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Guard Press","damage":"120","effect":"During your opponent's next turn, this Pokmon takes 30 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #45","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":150},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_046_EN.webp","hp":"140","name":"Aerodactyl ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless"],"name":"Land Crush","damage":"80","effect":"No effect"}],"ability":{"name":"Primeval Law","effect":"Your opponent can't play any Pokmon from their hand to evolve their Active Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #46","rarity":""},{"version":"Mythical Island #78","rarity":""},{"version":"Mythical Island #84","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_047_EN.webp","hp":"80","name":"Marshadow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Revenge","damage":"40+","effect":"If any of your Pokmon were Knocked Out by damage from an attack during your opponent's last turn, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #47","rarity":""},{"version":"Mythical Island #74","rarity":""}],"artist":"kantaro","crafting_cost":150},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_048_EN.webp","hp":"120","name":"Stonjourner","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Mega Kick","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #48","rarity":""}],"artist":"Teeziro","crafting_cost":70},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_049_EN.webp","hp":"70","name":"Koffing","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Unknown","damage":"Division","effect":"Put 1 random Koffing from your deck onto your Bench."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #49","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"50","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_050_EN.webp","hp":"110","name":"Weezing","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness"],"name":"Smokescreen","damage":"50","effect":"During your opponent's next turn, if the Defending Pokmon tries to use an attack, your opponent flips a coin. If tails, that attack doesn't happen."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #50","rarity":""}],"artist":"Mousho","crafting_cost":70},{"id":"51","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_051_EN.webp","hp":"60","name":"Purrloin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Scratch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #51","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"52","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_052_EN.webp","hp":"90","name":"Liepard","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Slash","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #52","rarity":""}],"artist":"GIDORA","crafting_cost":35},{"id":"53","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_053_EN.webp","hp":"60","name":"Venipede","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Ram","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #53","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"54","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_054_EN.webp","hp":"90","name":"Whirlipede","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Poison Sting","damage":"20","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #54","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"55","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_055_EN.webp","hp":"140","name":"Scolipede","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness","Colorless"],"name":"Venoshock","damage":"70+","effect":"If your opponent's Active Pokmon is Poisoned, this attack does 50 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #55","rarity":""}],"artist":"5ban Graphics","crafting_cost":70},{"id":"56","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_056_EN.webp","hp":"100","name":"Druddigon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Water","Colorless"],"name":"Dragon Claw","damage":"90","effect":"No effect"}],"ability":{"name":"Rough Skin","effect":"If this Pokmon is in the Active Spot and is damaged by an attack from your opponent's Pokmon, do 20 damage to the Attacking Pokmon."},"weakness":"none","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #56","rarity":""}],"artist":"Ryota Murayama","crafting_cost":70},{"id":"57","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_057_EN.webp","hp":"50","name":"Pidgey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Flap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #57","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":35},{"id":"58","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_058_EN.webp","hp":"90","name":"Pidgeotto","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Wing Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #58","rarity":""}],"artist":"Taiga Kayama","crafting_cost":35},{"id":"59","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_059_EN.webp","hp":"170","name":"Pidgeot ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Scattering Cyclone","damage":"80+","effect":"This attack does 20 more damage for each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #59","rarity":""},{"version":"Mythical Island #79","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"60","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_060_EN.webp","hp":"100","name":"Tauros","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Fighting Tackle","damage":"40+","effect":"If your opponent's Active Pokmon is a Pokmon ex, this attack does 80  more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #60","rarity":""}],"artist":"KEIICHIRO ITO","crafting_cost":150},{"id":"61","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_061_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Continuous Steps","damage":"20x","effect":"Flip a coin until you get tails. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #61","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":35},{"id":"62","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_062_EN.webp","hp":"60","name":"Chatot","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Mimic","effect":"Shuffle your hand into your deck. Draw a card for each card in your opponent's hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #62","rarity":""}],"artist":"Masako Tomii","crafting_cost":35},{"id":"63","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_063_EN.webp","hp":"40","name":"Old Amber","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Genetic Apex #218","rarity":""},{"version":"Mythical Island #63","rarity":""}],"artist":"Toyste Beach","crafting_cost":35,"linkedCardID":"A1-218"},{"id":"64","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_064_EN.webp","hp":"Unknown","name":"Pokmon Flute","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Put a Basic Pokmon from your opponent's discard pile onto their Bench.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #64","rarity":""}],"artist":"Toyste Beach","crafting_cost":70},{"id":"65","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_065_EN.webp","hp":"Unknown","name":"Mythical Slab","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Look at the top card of your deck. If that card is a [P] Pokmon, put it into your hand. If it is not a [P] Pokmon, put it on the bottom of your deck.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                AYUMI ODASHIMA","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #65","rarity":""}],"artist":"AYUMI ODASHIMA","crafting_cost":70},{"id":"66","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_066_EN.webp","hp":"Unknown","name":"Budding Expeditioner","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put your Mew ex in the Active Spot into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #66","rarity":""},{"version":"Mythical Island #80","rarity":""}],"artist":"Yuu Nishida","crafting_cost":70},{"id":"67","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_067_EN.webp","hp":"Unknown","name":"Blue","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During your opponent's next turn, all of your Pokmon take 10 damage from attacks from your opponent's Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #67","rarity":""},{"version":"Mythical Island #81","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":70},{"id":"68","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_068_EN.webp","hp":"Unknown","name":"Leaf","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, the Retreat Cost of your Active Pokmon is 2 less.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                En Morikura","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #68","rarity":""},{"version":"Mythical Island #82","rarity":""}],"artist":"En Morikura","crafting_cost":70},{"id":"69","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_069_EN.webp","hp":"130","name":"Exeggutor","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless","Colorless"],"name":"Psychic","damage":"80+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #2","rarity":""},{"version":"Mythical Island #69","rarity":""}],"artist":"Gapao","crafting_cost":400},{"id":"70","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_070_EN.webp","hp":"110","name":"Serperior","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Jungle Totem","effect":"Each  Energy attached to your  Pokmon provides 2  Energy. This effect doesn't stack."},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #6","rarity":""},{"version":"Mythical Island #70","rarity":""}],"artist":"rika","crafting_cost":400},{"id":"71","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_071_EN.webp","hp":"60","name":"Salandit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Venoshock","damage":"10+","effect":"If your opponent's Active Pokmon is Poisoned, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #15","rarity":""},{"version":"Mythical Island #71","rarity":""}],"artist":"Nurikabe","crafting_cost":400},{"id":"72","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_072_EN.webp","hp":"120","name":"Vaporeon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Wave Splash","damage":"60","effect":"No effect"}],"ability":{"name":"Wash Out","effect":"As often as you like during your turn, you may move a  Energy from 1 of your Benched  Pokmon to your Active  Pokmon."},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #19","rarity":""},{"version":"Mythical Island #72","rarity":""}],"artist":"aspara","crafting_cost":400},{"id":"73","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_073_EN.webp","hp":"60","name":"Dedenne","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Thunder Shock","damage":"10","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #30","rarity":""},{"version":"Mythical Island #73","rarity":""}],"artist":"Yuu Nishida","crafting_cost":400},{"id":"74","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_074_EN.webp","hp":"80","name":"Marshadow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Revenge","damage":"40+","effect":"If any of your Pokmon were Knocked Out by damage from an attack during your opponent's last turn, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #47","rarity":""},{"version":"Mythical Island #74","rarity":""}],"artist":"OKACHEKE","crafting_cost":400},{"id":"75","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_075_EN.webp","hp":"130","name":"Celebi ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Powerful Bloom","damage":"50x","effect":"Flip a coin for each Energy attached to this Pokmon. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #3","rarity":""},{"version":"Mythical Island #75","rarity":""},{"version":"Mythical Island #85","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"76","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_076_EN.webp","hp":"180","name":"Gyarados ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Colorless"],"name":"Rampaging Whirlpool","damage":"140","effect":"Discard a random Energy from among the Energy attached to all Pokmon (both yours and your opponent's)."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #18","rarity":""},{"version":"Mythical Island #76","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"77","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_077_EN.webp","hp":"130","name":"Mew ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psyshot","damage":"20","effect":"No effect"},{"cost":["Colorless","Colorless","Colorless"],"name":"Genome","damage":"Hacking","effect":"Choose 1 of your opponent's Active Pokmon's attacks and use it as this attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #32","rarity":""},{"version":"Mythical Island #77","rarity":""},{"version":"Mythical Island #83","rarity":""},{"version":"Mythical Island #86","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"78","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_078_EN.webp","hp":"140","name":"Aerodactyl ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless"],"name":"Land Crush","damage":"80","effect":"No effect"}],"ability":{"name":"Primeval Law","effect":"Your opponent can't play any Pokmon from their hand to evolve their Active Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #46","rarity":""},{"version":"Mythical Island #78","rarity":""},{"version":"Mythical Island #84","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"79","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_079_EN.webp","hp":"170","name":"Pidgeot ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Scattering Cyclone","damage":"80+","effect":"This attack does 20 more damage for each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #59","rarity":""},{"version":"Mythical Island #79","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"80","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_080_EN.webp","hp":"Unknown","name":"Budding Expeditioner","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put your Mew ex in the Active Spot into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #66","rarity":""},{"version":"Mythical Island #80","rarity":""}],"artist":"Yuu Nishida","crafting_cost":1250},{"id":"81","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_081_EN.webp","hp":"Unknown","name":"Blue","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During your opponent's next turn, all of your Pokmon take 10 damage from attacks from your opponent's Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #67","rarity":""},{"version":"Mythical Island #81","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":1250},{"id":"82","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_082_EN.webp","hp":"Unknown","name":"Leaf","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, the Retreat Cost of your Active Pokmon is 2 less.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                En Morikura","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #68","rarity":""},{"version":"Mythical Island #82","rarity":""}],"artist":"En Morikura","crafting_cost":1250},{"id":"83","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_083_EN.webp","hp":"130","name":"Mew ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psyshot","damage":"20","effect":"No effect"},{"cost":["Colorless","Colorless","Colorless"],"name":"Genome","damage":"Hacking","effect":"Choose 1 of your opponent's Active Pokmon's attacks and use it as this attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #32","rarity":""},{"version":"Mythical Island #77","rarity":""},{"version":"Mythical Island #83","rarity":""},{"version":"Mythical Island #86","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":1250},{"id":"84","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_084_EN.webp","hp":"140","name":"Aerodactyl ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless"],"name":"Land Crush","damage":"80","effect":"No effect"}],"ability":{"name":"Primeval Law","effect":"Your opponent can't play any Pokmon from their hand to evolve their Active Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #46","rarity":""},{"version":"Mythical Island #78","rarity":""},{"version":"Mythical Island #84","rarity":""}],"artist":"danciao","crafting_cost":1250},{"id":"85","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_085_EN.webp","hp":"130","name":"Celebi ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Powerful Bloom","damage":"50x","effect":"Flip a coin for each Energy attached to this Pokmon. This attack does 50 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #3","rarity":""},{"version":"Mythical Island #75","rarity":""},{"version":"Mythical Island #85","rarity":""}],"artist":"kantaro","crafting_cost":1500},{"id":"86","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A1a/A1a_086_EN.webp","hp":"130","name":"Mew ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psyshot","damage":"20","effect":"No effect"},{"cost":["Colorless","Colorless","Colorless"],"name":"Genome","damage":"Hacking","effect":"Choose 1 of your opponent's Active Pokmon's attacks and use it as this attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Mythical Island  (A1a)","pack":"Mew pack","alternate_versions":[{"version":"Mythical Island #32","rarity":""},{"version":"Mythical Island #77","rarity":""},{"version":"Mythical Island #83","rarity":""},{"version":"Mythical Island #86","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"}]`),Jte=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_001_EN.webp","hp":"60","name":"Oddish","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Blot","damage":"10","effect":"Heal 10 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #1","rarity":""}],"artist":"Asako Ito","crafting_cost":35},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_002_EN.webp","hp":"80","name":"Gloom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Razor Leaf","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #2","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_003_EN.webp","hp":"130","name":"Bellossom","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass"],"name":"Leaf Step","damage":"80","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #3","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":70},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_004_EN.webp","hp":"70","name":"Tangela","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #4","rarity":""}],"artist":"Narumi Sato","crafting_cost":35},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_005_EN.webp","hp":"130","name":"Tangrowth","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Grass","Colorless"],"name":"Mega Drain","damage":"90","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #5","rarity":""},{"version":"Space-Time Smackdown #156","rarity":""}],"artist":"kodama","crafting_cost":70},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_006_EN.webp","hp":"50","name":"Yanma","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Flap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #6","rarity":""}],"artist":"Eri Yamaki","crafting_cost":35},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_007_EN.webp","hp":"140","name":"Yanmega ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Air Slash","damage":"120","effect":"Discard a random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #7","rarity":""},{"version":"Space-Time Smackdown #180","rarity":""},{"version":"Space-Time Smackdown #196","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_008_EN.webp","hp":"70","name":"Roselia","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Sting","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #8","rarity":""}],"artist":"kirisAki","crafting_cost":35},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_009_EN.webp","hp":"100","name":"Roserade","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Poisonous Whip","damage":"50","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #9","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_010_EN.webp","hp":"80","name":"Turtwig","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #10","rarity":""},{"version":"Promo-A #35","rarity":""}],"artist":"OOYAMA","crafting_cost":35},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_011_EN.webp","hp":"100","name":"Grotle","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Razor Leaf","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #11","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":70},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_012_EN.webp","hp":"160","name":"Torterra","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Frenzy Plant","damage":"150","effect":"During your next turn, this Pokmon can't use Frenzy Plant."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #12","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_013_EN.webp","hp":"60","name":"Kricketot","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Bug Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #13","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":35},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_014_EN.webp","hp":"90","name":"Kricketune","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Entrancing Melody","damage":"50","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #14","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_015_EN.webp","hp":"60","name":"Burmy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #15","rarity":""}],"artist":"Mugi Hamada","crafting_cost":35},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_016_EN.webp","hp":"120","name":"Wormadam","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Leaf Cutter","damage":"60+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #16","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_017_EN.webp","hp":"50","name":"Combee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Call for","damage":"Family","effect":"Put 1 random Basic Pokmon from your deck onto your Bench."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #17","rarity":""},{"version":"Space-Time Smackdown #157","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_018_EN.webp","hp":"100","name":"Vespiquen","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Pierce","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #18","rarity":""}],"artist":"chibi","crafting_cost":70},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_019_EN.webp","hp":"90","name":"Carnivine","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Flog","damage":"40+","effect":"Flip a coin. If heads, this attack does 50 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #19","rarity":""},{"version":"Space-Time Smackdown #158","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":70},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_020_EN.webp","hp":"90","name":"Leafeon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless"],"name":"Leafy Cyclone","damage":"90","effect":"During your next turn, this Pokmon can't attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #20","rarity":""}],"artist":"Kouki Saitou","crafting_cost":150},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_021_EN.webp","hp":"80","name":"Mow Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Energy Cutoff","damage":"30","effect":"Flip a coin. If heads, discard a random Energy from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #21","rarity":""}],"artist":"kawayoo","crafting_cost":35},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_022_EN.webp","hp":"60","name":"Shaymin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Flop","damage":"30","effect":"No effect"}],"ability":{"name":"Fragrant Flower Garden","effect":"Once during your turn, you may heal 10 damage from each of your Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #22","rarity":""},{"version":"Space-Time Smackdown #159","rarity":""}],"artist":"Narumi Sato","crafting_cost":150},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_023_EN.webp","hp":"80","name":"Magmar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Unknown","damage":"Stoke","effect":"Take a [R] Energy from your Energy Zone and attach it to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #23","rarity":""}],"artist":"Hiroki Asanuma","crafting_cost":35},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_024_EN.webp","hp":"130","name":"Magmortar","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Fire","Fire"],"name":"Bursting Inferno","damage":"100","effect":"Your opponent's Active Pokmon is now Burned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #24","rarity":""}],"artist":"KEIICHIRO ITO","crafting_cost":150},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_025_EN.webp","hp":"70","name":"Slugma","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Flare","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #25","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_026_EN.webp","hp":"120","name":"Magcargo","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Searing Flame","damage":"30","effect":"Your opponent's Active Pokmon is now Burned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #26","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":70},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_027_EN.webp","hp":"60","name":"Chimchar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Scratch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #27","rarity":""},{"version":"Promo-A #40","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_028_EN.webp","hp":"80","name":"Monferno","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire"],"name":"Fiery Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #28","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":70},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_029_EN.webp","hp":"170","name":"Infernape ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Fire"],"name":"Flare Blitz","damage":"140","effect":"Discard all [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"0","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #29","rarity":""},{"version":"Space-Time Smackdown #181","rarity":""},{"version":"Space-Time Smackdown #197","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_030_EN.webp","hp":"80","name":"Heat Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Colorless"],"name":"Heat Breath","damage":"30+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #30","rarity":""}],"artist":"Kedamahadaitai Yawarakai","crafting_cost":35},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_031_EN.webp","hp":"60","name":"Swinub","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Headbutt","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #31","rarity":""}],"artist":"Eri Yamaki","crafting_cost":35},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_032_EN.webp","hp":"110","name":"Piloswine","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Hammer In","damage":"60","effect":"No effect"}],"ability":{"name":"Thick Fat","effect":"This Pokmon takes 20 damage from attacks from  or  Pokmon."},"weakness":"Metal","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #32","rarity":""}],"artist":"Suwama Chiaki","crafting_cost":70},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_033_EN.webp","hp":"160","name":"Mamoswine","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless","Colorless"],"name":"Frosty Flattening","damage":"120","effect":"No effect"}],"ability":{"name":"Thick Fat","effect":"This Pokmon takes 30 damage from attacks from  or  Pokmon."},"weakness":"Metal","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #33","rarity":""},{"version":"Space-Time Smackdown #160","rarity":""}],"artist":"match","crafting_cost":150},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_034_EN.webp","hp":"110","name":"Regice","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water"],"name":"Frost Smash","damage":"50","effect":"No effect"}],"ability":{"name":"Crystal Body","effect":"Prevent all effects of attacks used by your opponent's Pokmon done to this Pokmon."},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #34","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":70},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_035_EN.webp","hp":"60","name":"Piplup","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Nap","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #35","rarity":""},{"version":"Promo-A #34","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":35},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_036_EN.webp","hp":"90","name":"Prinplup","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Surf","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #36","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_037_EN.webp","hp":"150","name":"Empoleon","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless"],"name":"Aqua Jet","damage":"80","effect":"This attack also does 30 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #37","rarity":""}],"artist":"Satoshi Shirai","crafting_cost":150},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_038_EN.webp","hp":"60","name":"Buizel","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #38","rarity":""}],"artist":"OKUBO","crafting_cost":35},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_039_EN.webp","hp":"90","name":"Floatzel","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Jet Screw","damage":"30+","effect":"Flip a coin. If heads, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #39","rarity":""}],"artist":"Kanako Eo","crafting_cost":70},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_040_EN.webp","hp":"70","name":"Shellos","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Mud-Slap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #40","rarity":""}],"artist":"Teeziro","crafting_cost":35},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_041_EN.webp","hp":"120","name":"Gastrodon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Muddy Water","damage":"60","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #41","rarity":""},{"version":"Space-Time Smackdown #161","rarity":""}],"artist":"Aya Kusube","crafting_cost":70},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_042_EN.webp","hp":"50","name":"Finneon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Elegant Swim","damage":"10","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #42","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":35},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_043_EN.webp","hp":"90","name":"Lumineon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water"],"name":"Waterfall","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #43","rarity":""}],"artist":"rika","crafting_cost":70},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_044_EN.webp","hp":"70","name":"Snover","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Ice Shard","damage":"10+","effect":"If your opponent's Active Pokmon is a [F] Pokmon, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #44","rarity":""}],"artist":"match","crafting_cost":35},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_045_EN.webp","hp":"140","name":"Abomasnow","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Water","Colorless"],"name":"Frost Breath","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #45","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":70},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_046_EN.webp","hp":"90","name":"Glaceon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water"],"name":"Ice Beam","damage":"60","effect":"Flip a coin. If heads, your opponent's Active Pokmon is now Paralyzed."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #46","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":150},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_047_EN.webp","hp":"80","name":"Wash Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Wave Splash","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #47","rarity":""}],"artist":"Saboteri","crafting_cost":35},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_048_EN.webp","hp":"80","name":"Frost Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water"],"name":"Blizzard","damage":"30","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #48","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_049_EN.webp","hp":"150","name":"Palkia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Slash","damage":"30","effect":"No effect"},{"cost":["Water","Water","Water","Colorless"],"name":"Dimensional Storm","damage":"150","effect":"Discard 3 [W] Energy from this Pokmon. This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #49","rarity":""},{"version":"Space-Time Smackdown #182","rarity":""},{"version":"Space-Time Smackdown #204","rarity":""},{"version":"Space-Time Smackdown #206","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"50","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_050_EN.webp","hp":"50","name":"Manaphy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Oceanic","damage":"Gift","effect":"Choose 2 of your Benched Pokmon. For each of those Pokmon, take a [W] Energy from your Energy Zone and attach it to that Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #50","rarity":""},{"version":"Space-Time Smackdown #162","rarity":""},{"version":"Promo-A #48","rarity":""}],"artist":"MINAMINAMI Take","crafting_cost":70},{"id":"51","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_051_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Ram","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #51","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"52","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_052_EN.webp","hp":"80","name":"Magneton","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Lightning Ball","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #52","rarity":""}],"artist":"Yumi","crafting_cost":70},{"id":"53","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_053_EN.webp","hp":"140","name":"Magnezone","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Lightning","Colorless","Colorless"],"name":"Thunder Blast","damage":"110","effect":"Discard a [L] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #53","rarity":""}],"artist":"Yoshinobu Saito","crafting_cost":150},{"id":"54","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_054_EN.webp","hp":"60","name":"Voltorb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Big Explosion","damage":"30","effect":"This Pokmon also does 10 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #54","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"55","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_055_EN.webp","hp":"80","name":"Electrode","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning"],"name":"Rolling Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #55","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":70},{"id":"56","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_056_EN.webp","hp":"80","name":"Electabuzz","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Unknown","damage":"Charge","effect":"Take a [L] Energy from your Energy Zone and attach it to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #56","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"57","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_057_EN.webp","hp":"120","name":"Electivire","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Exciting Voltage","damage":"40+","effect":"If this Pokmon has at least 2 extra [L] Energy attached, this attack does 80 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #57","rarity":""},{"version":"Promo-A #36","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"58","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_058_EN.webp","hp":"60","name":"Shinx","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Unknown","damage":"Hide","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #58","rarity":""},{"version":"Space-Time Smackdown #163","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"59","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_059_EN.webp","hp":"90","name":"Luxio","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Colorless"],"name":"Electric Claws","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #59","rarity":""}],"artist":"Naoki Saito","crafting_cost":70},{"id":"60","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_060_EN.webp","hp":"130","name":"Luxray","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Lightning","Lightning","Lightning"],"name":"Volt","damage":"Bolt","effect":"Discard all [L] Energy from this Pokmon. This attack does 120 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #60","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":150},{"id":"61","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_061_EN.webp","hp":"120","name":"Pachirisu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Sparking Gadget","damage":"40+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #61","rarity":""},{"version":"Space-Time Smackdown #183","rarity":""},{"version":"Space-Time Smackdown #198","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"62","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_062_EN.webp","hp":"70","name":"Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Assault Laser","damage":"20+","effect":"If your opponent's Active Pokmon has a Pokmon Tool attached, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #62","rarity":""},{"version":"Space-Time Smackdown #164","rarity":""}],"artist":"Krgc","crafting_cost":35},{"id":"63","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_063_EN.webp","hp":"50","name":"Togepi","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Pound","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #63","rarity":""},{"version":"Promo-A #41","rarity":""}],"artist":"Narumi Sato","crafting_cost":35},{"id":"64","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_064_EN.webp","hp":"80","name":"Togetic","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Fairy Wind","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #64","rarity":""}],"artist":"Kanako Eo","crafting_cost":70},{"id":"65","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_065_EN.webp","hp":"140","name":"Togekiss","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic"],"name":"Overdrive Smash","damage":"60","effect":"During your next turn, this Pokmon's Overdrive Smash attack does +60 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #65","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"66","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_066_EN.webp","hp":"60","name":"Misdreavus","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Mumble","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #66","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":35},{"id":"67","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_067_EN.webp","hp":"140","name":"Mismagius ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Magical Delusion","damage":"70","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #67","rarity":""},{"version":"Space-Time Smackdown #184","rarity":""},{"version":"Space-Time Smackdown #199","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":500},{"id":"68","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_068_EN.webp","hp":"60","name":"Ralts","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Teleport","effect":"Switch this Pokmon with 1 of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #68","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"69","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_069_EN.webp","hp":"80","name":"Kirlia","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #69","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"70","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_070_EN.webp","hp":"60","name":"Duskull","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Will-O-Wisp","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #70","rarity":""}],"artist":"ryoma uratsuka","crafting_cost":35},{"id":"71","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_071_EN.webp","hp":"90","name":"Dusclops","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Psypunch","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #71","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":70},{"id":"72","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_072_EN.webp","hp":"130","name":"Dusknoir","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Devour Soul","damage":"70","effect":"No effect"}],"ability":{"name":"Shadow Void","effect":"As often as you like during your turn, you may choose 1 of your Pokmon that has damage on it, and move all of its damage to this Pokmon."},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #72","rarity":""}],"artist":"Suwama Chiaki","crafting_cost":150},{"id":"73","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_073_EN.webp","hp":"50","name":"Drifloon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Expand","damage":"10","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #73","rarity":""},{"version":"Space-Time Smackdown #165","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"74","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_074_EN.webp","hp":"100","name":"Drifblim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Balloon Strike","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #74","rarity":""}],"artist":"Miki Tanaka","crafting_cost":70},{"id":"75","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_075_EN.webp","hp":"70","name":"Uxie","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Mind Boost","damage":"20","effect":"Take a [P] Energy from your Energy Zone and attach it to Mesprit or Azelf."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #75","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":70},{"id":"76","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_076_EN.webp","hp":"70","name":"Mesprit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Supreme Blast","damage":"160","effect":"You can use this attack only if you have Uxie and Azelf on your Bench. Discard all Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #76","rarity":""},{"version":"Space-Time Smackdown #166","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":150},{"id":"77","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_077_EN.webp","hp":"70","name":"Azelf","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Psychic","damage":"Arrow","effect":"This attack does 20 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #77","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":70},{"id":"78","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_078_EN.webp","hp":"120","name":"Giratina","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Spooky Shot","damage":"70","effect":"No effect"}],"ability":{"name":"Levitate","effect":"If this Pokmon has any Energy attached, it has no Retreat Cost."},"weakness":"Darkness","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #78","rarity":""},{"version":"Space-Time Smackdown #167","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":150},{"id":"79","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_079_EN.webp","hp":"110","name":"Cresselia","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic"],"name":"Moonlight Gain","damage":"50","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #79","rarity":""},{"version":"Space-Time Smackdown #168","rarity":""}],"artist":"Masako Tomii","crafting_cost":150},{"id":"80","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_080_EN.webp","hp":"80","name":"Rhyhorn","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Horn Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #80","rarity":""}],"artist":"otumami","crafting_cost":35},{"id":"81","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_081_EN.webp","hp":"110","name":"Rhydon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Wrack Down","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #81","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":70},{"id":"82","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_082_EN.webp","hp":"160","name":"Rhyperior","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Mountain Swing","damage":"150","effect":"Discard the top 3 cards of your deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #82","rarity":""},{"version":"Space-Time Smackdown #169","rarity":""}],"artist":"Naoki Saito","crafting_cost":150},{"id":"83","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_083_EN.webp","hp":"60","name":"Gligar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Pierce","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #83","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":35},{"id":"84","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_084_EN.webp","hp":"100","name":"Gliscor","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Acrobatics","damage":"20+","effect":"Flip 2 coins. This attack does 20 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #84","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"85","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_085_EN.webp","hp":"80","name":"Hitmontop","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting"],"name":"Spinning Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #85","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"86","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_086_EN.webp","hp":"70","name":"Nosepass","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Ram","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #86","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"87","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_087_EN.webp","hp":"120","name":"Regirock","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Boulder Crush","damage":"100","effect":"No effect"}],"ability":{"name":"Exoskeleton","effect":"This Pokmon takes 20 damage from attacks."},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #87","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":70},{"id":"88","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_088_EN.webp","hp":"90","name":"Cranidos","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Headbutt","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #88","rarity":""}],"artist":"Kouki Saitou","crafting_cost":70},{"id":"89","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_089_EN.webp","hp":"150","name":"Rampardos","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Head Smash","damage":"130","effect":"If your opponent's Pokmon is Knocked Out by damage from this attack, this Pokmon also does 50 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #89","rarity":""}],"artist":"Yoshinobu Saito","crafting_cost":150},{"id":"90","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_090_EN.webp","hp":"120","name":"Wormadam","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless","Colorless"],"name":"Land Crush","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #90","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":35},{"id":"91","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_091_EN.webp","hp":"60","name":"Riolu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Jab","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #91","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":35},{"id":"92","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_092_EN.webp","hp":"100","name":"Lucario","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Submarine Blow","damage":"40","effect":"No effect"}],"ability":{"name":"Fighting Coach","effect":"Attacks used by your  Pokmon do +20 damage to your opponent's Active Pokmon."},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #92","rarity":""},{"version":"Space-Time Smackdown #170","rarity":""}],"artist":"nagimiso","crafting_cost":150},{"id":"93","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_093_EN.webp","hp":"80","name":"Hippopotas","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Rolling Tackle","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #93","rarity":""},{"version":"Space-Time Smackdown #171","rarity":""}],"artist":"Akira Komayama","crafting_cost":35},{"id":"94","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_094_EN.webp","hp":"140","name":"Hippowdon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Earthen Press","damage":"120","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #94","rarity":""}],"artist":"KEIICHIRO ITO","crafting_cost":70},{"id":"95","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_095_EN.webp","hp":"170","name":"Gallade ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting"],"name":"Energized Blade","damage":"70+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #95","rarity":""},{"version":"Space-Time Smackdown #185","rarity":""},{"version":"Space-Time Smackdown #200","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"96","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_096_EN.webp","hp":"60","name":"Murkrow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #96","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"97","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_097_EN.webp","hp":"100","name":"Honchkrow","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness"],"name":"Skill","damage":"Dive","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #97","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":70},{"id":"98","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_098_EN.webp","hp":"60","name":"Sneasel","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Double Scratch","damage":"20x","effect":"Flip 2 coins. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #98","rarity":""}],"artist":"Hasuno","crafting_cost":35},{"id":"99","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_099_EN.webp","hp":"140","name":"Weavile ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Scratching Nails","damage":"30+","effect":"If your opponent's Active Pokmon has damage on it, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #99","rarity":""},{"version":"Space-Time Smackdown #186","rarity":""},{"version":"Space-Time Smackdown #201","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"100","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_100_EN.webp","hp":"60","name":"Poochyena","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #100","rarity":""}],"artist":"Midori Harada","crafting_cost":35},{"id":"101","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_101_EN.webp","hp":"90","name":"Mightyena","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Colorless"],"name":"Darkness Fang","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #101","rarity":""}],"artist":"Kouki Saitou","crafting_cost":70},{"id":"102","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_102_EN.webp","hp":"70","name":"Stunky","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Scratch","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #102","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"103","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_103_EN.webp","hp":"100","name":"Skuntank","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Colorless"],"name":"Poison Gas","damage":"50","effect":"Your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #103","rarity":""}],"artist":"kirisAki","crafting_cost":70},{"id":"104","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_104_EN.webp","hp":"80","name":"Spiritomb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Swirling","damage":"Disaster","effect":"This attack does 10 damage to each of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #104","rarity":""},{"version":"Space-Time Smackdown #172","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":70},{"id":"105","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_105_EN.webp","hp":"70","name":"Skorupi","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Colorless"],"name":"Pierce","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #105","rarity":""}],"artist":"Naoki Saito","crafting_cost":35},{"id":"106","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_106_EN.webp","hp":"120","name":"Drapion","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness","Darkness"],"name":"Cross Poison","damage":"40x","effect":"Flip 4 coins. This attack does 40 damage for each heads. If at least 2 of them are heads, your opponent's Active Pokmon is now Poisoned."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #106","rarity":""}],"artist":"Hitoshi Ariga","crafting_cost":70},{"id":"107","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_107_EN.webp","hp":"60","name":"Croagunk","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness"],"name":"Group Beatdown","damage":"20x","effect":"Flip a coin for each Pokmon you have in play. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #107","rarity":""},{"version":"Space-Time Smackdown #173","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":35},{"id":"108","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_108_EN.webp","hp":"90","name":"Toxicroak","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness","Darkness"],"name":"Group Beatdown","damage":"40x","effect":"Flip a coin for each Pokmon you have in play. This attack does 40 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #108","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":70},{"id":"109","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_109_EN.webp","hp":"110","name":"Darkrai","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Void","damage":"60","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #109","rarity":""}],"artist":"Masako Tomii","crafting_cost":150},{"id":"110","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_110_EN.webp","hp":"140","name":"Darkrai ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Prism","damage":"80","effect":"No effect"}],"ability":{"name":"Nightmare Aura","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, do 20 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #110","rarity":""},{"version":"Space-Time Smackdown #187","rarity":""},{"version":"Space-Time Smackdown #202","rarity":""},{"version":"Promo-A #42","rarity":""}],"artist":"PLANETA Yamashita","crafting_cost":500},{"id":"111","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_111_EN.webp","hp":"80","name":"Skarmory","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Metal Arms","damage":"20+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #111","rarity":""},{"version":"Promo-A #39","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":70},{"id":"112","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_112_EN.webp","hp":"110","name":"Registeel","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal","Metal"],"name":"Metal Claw","damage":"90","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #112","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":70},{"id":"113","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_113_EN.webp","hp":"100","name":"Shieldon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Colorless"],"name":"Headbutt","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #113","rarity":""}],"artist":"Kouki Saitou","crafting_cost":70},{"id":"114","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_114_EN.webp","hp":"160","name":"Bastiodon","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Headbang","damage":"80","effect":"No effect"}],"ability":{"name":"Guarded Grill","effect":"If any damage is done to this Pokmon by attacks, flip a coin. If heads, this Pokmon takes 100 damage from that attack."},"weakness":"Fire","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #114","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":150},{"id":"115","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_115_EN.webp","hp":"110","name":"Wormadam","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal"],"name":"Iron Head","damage":"50+","effect":"Flip a coin until you get tails. This attack does 30 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #115","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"116","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_116_EN.webp","hp":"60","name":"Bronzor","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Colorless"],"name":"Tackle","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #116","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"117","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_117_EN.webp","hp":"120","name":"Bronzong","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Guard Press","damage":"60","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #117","rarity":""}],"artist":"Yuka Morii","crafting_cost":70},{"id":"118","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_118_EN.webp","hp":"130","name":"Probopass","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Metal","Colorless"],"name":"Triple Nose","damage":"30+","effect":"Flip 3 coins. This attack does 50 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #118","rarity":""}],"artist":"MAHOU","crafting_cost":70},{"id":"119","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_119_EN.webp","hp":"150","name":"Dialga ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal"],"name":"Metallic Turbo","damage":"30","effect":"Take 2 [M] Energy from your Energy Zone and attach it to 1 of your Benched Pokmon."},{"cost":["Metal","Metal","Colorless","Colorless"],"name":"Heavy Impact","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #119","rarity":""},{"version":"Space-Time Smackdown #188","rarity":""},{"version":"Space-Time Smackdown #205","rarity":""},{"version":"Space-Time Smackdown #207","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"120","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_120_EN.webp","hp":"120","name":"Heatran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal","Metal"],"name":"Steel Tackle","damage":"110","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #120","rarity":""},{"version":"Space-Time Smackdown #174","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":150},{"id":"121","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_121_EN.webp","hp":"60","name":"Gible","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #121","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"122","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_122_EN.webp","hp":"90","name":"Gabite","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Fighting"],"name":"Slash","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #122","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":70},{"id":"123","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_123_EN.webp","hp":"140","name":"Garchomp","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Fighting"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"Reckless Shearing","effect":"You must discard a card from your hand in order to use this Ability. Once during your turn, you may draw a card."},"weakness":"none","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #123","rarity":""},{"version":"Space-Time Smackdown #175","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":150},{"id":"124","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_124_EN.webp","hp":"80","name":"Lickitung","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Tongue Slap","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #124","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"125","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_125_EN.webp","hp":"160","name":"Lickilicky ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Licking Fury","damage":"100+","effect":"Flip a coin until you get tails. This attack does 40 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"No","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #125","rarity":""},{"version":"Space-Time Smackdown #189","rarity":""},{"version":"Space-Time Smackdown #203","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":500},{"id":"126","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_126_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Quick Attack","damage":"10+","effect":"Flip a coin. If heads, this attack does 20 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #126","rarity":""}],"artist":"Shibuzoh.","crafting_cost":35},{"id":"127","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_127_EN.webp","hp":"60","name":"Porygon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Beam","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #127","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"128","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_128_EN.webp","hp":"80","name":"Porygon2","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Sharpen","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #128","rarity":""}],"artist":"sowsow","crafting_cost":70},{"id":"129","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_129_EN.webp","hp":"140","name":"Porygon-Z","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Buggy Beam","damage":"80","effect":"Change the type of the next Energy that will be generated for your opponent to 1 of the following at random: [G],[R],[W],[L],[P],[F],[D], or [M]."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #129","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":150},{"id":"130","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_130_EN.webp","hp":"60","name":"Aipom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tail Jab","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #130","rarity":""}],"artist":"Miki Tanaka","crafting_cost":35},{"id":"131","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_131_EN.webp","hp":"90","name":"Ambipom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Double Hit","damage":"40x","effect":"Flip 2 coins. This attack does 40 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #131","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"132","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_132_EN.webp","hp":"50","name":"Starly","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pluck","damage":"20","effect":"Before doing damage, discard all Pokmon Tools from your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #132","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"133","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_133_EN.webp","hp":"80","name":"Staravia","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Wing Attack","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #133","rarity":""}],"artist":"REND","crafting_cost":35},{"id":"134","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_134_EN.webp","hp":"140","name":"Staraptor","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Clutch","damage":"80","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #134","rarity":""},{"version":"Space-Time Smackdown #176","rarity":""}],"artist":"Sekio","crafting_cost":70},{"id":"135","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_135_EN.webp","hp":"60","name":"Bidoof","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Super","damage":"Fang","effect":"Halve your opponent's Active Pokmon's remaining HP, rounded down."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #135","rarity":""},{"version":"Space-Time Smackdown #177","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":35},{"id":"136","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_136_EN.webp","hp":"110","name":"Bibarel","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Rolling Tackle","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #136","rarity":""}],"artist":"kirisAki","crafting_cost":35},{"id":"137","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_137_EN.webp","hp":"60","name":"Buneary","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Splash","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #137","rarity":""}],"artist":"Narumi Sato","crafting_cost":35},{"id":"138","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_138_EN.webp","hp":"90","name":"Lopunny","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Jump Kick","damage":"20","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #138","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":35},{"id":"139","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_139_EN.webp","hp":"60","name":"Glameow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pose","damage":"40","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #139","rarity":""},{"version":"Space-Time Smackdown #178","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"140","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_140_EN.webp","hp":"110","name":"Purugly","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Interrupt","damage":"60","effect":"Your opponent reveals their hand. Choose a card you find there and shuffle it into your opponent's deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #140","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"141","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_141_EN.webp","hp":"70","name":"Chatot","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Fury Attack","damage":"20x","effect":"Flip 3 coins. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #141","rarity":""}],"artist":"HYOGONOSUKE","crafting_cost":35},{"id":"142","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_142_EN.webp","hp":"80","name":"Fan Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Spin","damage":"Storm","effect":"Flip a coin. If heads, put your opponent's Active Pokmon into their hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #142","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":35},{"id":"143","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_143_EN.webp","hp":"140","name":"Regigigas","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Raging Hammer","damage":"50+","effect":"This attack does more damage equal to the damage this Pokmon has on it."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #143","rarity":""},{"version":"Space-Time Smackdown #179","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":150},{"id":"144","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_144_EN.webp","hp":"Unknown","name":"Skull Fossil","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #144","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"145","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_145_EN.webp","hp":"Unknown","name":"Armor Fossil","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Play this card as if it were a 40-HP Basic [C] Pokmon.At any time during your turn, you may discard this card from play.This card can't retreat.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #145","rarity":""}],"artist":"Toyste Beach","crafting_cost":35},{"id":"146","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_146_EN.webp","hp":"Unknown","name":"Pokmon Communication","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Choose a Pokmon in your hand and switch it with a random Pokmon in your deck.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ayaka Yoshida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #146","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":70},{"id":"147","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_147_EN.webp","hp":"Unknown","name":"Giant Cape","card_type":"Trainer","evolution_type":"Tool","attacks":[],"ability":"The Pokmon this card is attached to gets +20 HP.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryo Ueda","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #147","rarity":""}],"artist":"Ryo Ueda","crafting_cost":70},{"id":"148","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_148_EN.webp","hp":"Unknown","name":"Rocky Helmet","card_type":"Trainer","evolution_type":"Tool","attacks":[],"ability":"If the Pokmon this card is attached to is in the Active Spot and is damaged by an attack from your opponent's Pokmon, do 20 damage to the Attacking Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ayaka Yoshida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #148","rarity":""}],"artist":"Ayaka Yoshida","crafting_cost":70},{"id":"149","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_149_EN.webp","hp":"Unknown","name":"Lum Berry","card_type":"Trainer","evolution_type":"Tool","attacks":[],"ability":"At the end of each turn, if the Pokmon this card is attached to is affected by any Special Conditions, it recovers from all of them, and discard this card.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yoshinobu Saito","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #149","rarity":""}],"artist":"Yoshinobu Saito","crafting_cost":70},{"id":"150","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_150_EN.webp","hp":"Unknown","name":"Cyrus","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Switch in 1 of your opponent's Benched Pokmon that has damage on it to the Active Spot.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                akagi","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #150","rarity":""},{"version":"Space-Time Smackdown #190","rarity":""}],"artist":"akagi","crafting_cost":70},{"id":"151","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_151_EN.webp","hp":"Unknown","name":"Team Galactic Grunt","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put 1 random Glameow, Stunky, or Croagunk from your deck into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GOSSAN","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #151","rarity":""},{"version":"Space-Time Smackdown #191","rarity":""}],"artist":"GOSSAN","crafting_cost":70},{"id":"152","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_152_EN.webp","hp":"Unknown","name":"Cynthia","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Garchomp or Togekiss do +50 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #152","rarity":""},{"version":"Space-Time Smackdown #192","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":70},{"id":"153","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_153_EN.webp","hp":"Unknown","name":"Volkner","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Choose 1 of your Electivire or Luxray. Attach 2 [L] Energy from your discard pile to that Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GIDORA","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #153","rarity":""},{"version":"Space-Time Smackdown #193","rarity":""}],"artist":"GIDORA","crafting_cost":70},{"id":"154","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_154_EN.webp","hp":"Unknown","name":"Dawn","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Move an Energy from 1 of your Benched Pokmon to your Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                saino misaki","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #154","rarity":""},{"version":"Space-Time Smackdown #194","rarity":""}],"artist":"saino misaki","crafting_cost":70},{"id":"155","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_155_EN.webp","hp":"Unknown","name":"Mars","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Your opponent shuffles their hand into their deck and draws a card for each of their remaining points needed to win.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #155","rarity":""},{"version":"Space-Time Smackdown #195","rarity":""}],"artist":"Yuu Nishida","crafting_cost":70},{"id":"156","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_156_EN.webp","hp":"130","name":"Tangrowth","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Grass","Colorless"],"name":"Mega Drain","damage":"90","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #5","rarity":""},{"version":"Space-Time Smackdown #156","rarity":""}],"artist":"Saboteri","crafting_cost":400},{"id":"157","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_157_EN.webp","hp":"50","name":"Combee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Call for","damage":"Family","effect":"Put 1 random Basic Pokmon from your deck onto your Bench."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #17","rarity":""},{"version":"Space-Time Smackdown #157","rarity":""}],"artist":"Shibuzoh.","crafting_cost":400},{"id":"158","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_158_EN.webp","hp":"90","name":"Carnivine","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Grass","Colorless"],"name":"Flog","damage":"40+","effect":"Flip a coin. If heads, this attack does 50 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #19","rarity":""},{"version":"Space-Time Smackdown #158","rarity":""}],"artist":"Yoriyuki Ikegami","crafting_cost":400},{"id":"159","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_159_EN.webp","hp":"60","name":"Shaymin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Flop","damage":"30","effect":"No effect"}],"ability":{"name":"Fragrant Flower Garden","effect":"Once during your turn, you may heal 10 damage from each of your Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #22","rarity":""},{"version":"Space-Time Smackdown #159","rarity":""}],"artist":"REND","crafting_cost":400},{"id":"160","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_160_EN.webp","hp":"160","name":"Mamoswine","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless","Colorless"],"name":"Frosty Flattening","damage":"120","effect":"No effect"}],"ability":{"name":"Thick Fat","effect":"This Pokmon takes 30 damage from attacks from  or  Pokmon."},"weakness":"Metal","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #33","rarity":""},{"version":"Space-Time Smackdown #160","rarity":""}],"artist":"OKACHEKE","crafting_cost":400},{"id":"161","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_161_EN.webp","hp":"120","name":"Gastrodon","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Muddy Water","damage":"60","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #41","rarity":""},{"version":"Space-Time Smackdown #161","rarity":""}],"artist":"takashi shiraishi","crafting_cost":400},{"id":"162","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_162_EN.webp","hp":"50","name":"Manaphy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Oceanic","damage":"Gift","effect":"Choose 2 of your Benched Pokmon. For each of those Pokmon, take a [W] Energy from your Energy Zone and attach it to that Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #50","rarity":""},{"version":"Space-Time Smackdown #162","rarity":""},{"version":"Promo-A #48","rarity":""}],"artist":"miki kudo","crafting_cost":400},{"id":"163","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_163_EN.webp","hp":"60","name":"Shinx","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Unknown","damage":"Hide","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage fromand effects ofattacks done to this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #58","rarity":""},{"version":"Space-Time Smackdown #163","rarity":""}],"artist":"Yuu Nishida","crafting_cost":400},{"id":"164","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_164_EN.webp","hp":"70","name":"Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Assault Laser","damage":"20+","effect":"If your opponent's Active Pokmon has a Pokmon Tool attached, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #62","rarity":""},{"version":"Space-Time Smackdown #164","rarity":""}],"artist":"Shimaris Yukichi","crafting_cost":400},{"id":"165","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_165_EN.webp","hp":"50","name":"Drifloon","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Expand","damage":"10","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #73","rarity":""},{"version":"Space-Time Smackdown #165","rarity":""}],"artist":"Orca","crafting_cost":400},{"id":"166","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_166_EN.webp","hp":"70","name":"Mesprit","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Psychic"],"name":"Supreme Blast","damage":"160","effect":"You can use this attack only if you have Uxie and Azelf on your Bench. Discard all Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #76","rarity":""},{"version":"Space-Time Smackdown #166","rarity":""}],"artist":"Orca","crafting_cost":400},{"id":"167","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_167_EN.webp","hp":"120","name":"Giratina","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Spooky Shot","damage":"70","effect":"No effect"}],"ability":{"name":"Levitate","effect":"If this Pokmon has any Energy attached, it has no Retreat Cost."},"weakness":"Darkness","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #78","rarity":""},{"version":"Space-Time Smackdown #167","rarity":""}],"artist":"Rond","crafting_cost":400},{"id":"168","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_168_EN.webp","hp":"110","name":"Cresselia","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic"],"name":"Moonlight Gain","damage":"50","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #79","rarity":""},{"version":"Space-Time Smackdown #168","rarity":""}],"artist":"rika","crafting_cost":400},{"id":"169","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_169_EN.webp","hp":"160","name":"Rhyperior","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Mountain Swing","damage":"150","effect":"Discard the top 3 cards of your deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #82","rarity":""},{"version":"Space-Time Smackdown #169","rarity":""}],"artist":"Taiga Kayama","crafting_cost":400},{"id":"170","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_170_EN.webp","hp":"100","name":"Lucario","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting"],"name":"Submarine Blow","damage":"40","effect":"No effect"}],"ability":{"name":"Fighting Coach","effect":"Attacks used by your  Pokmon do +20 damage to your opponent's Active Pokmon."},"weakness":"Psychic","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #92","rarity":""},{"version":"Space-Time Smackdown #170","rarity":""}],"artist":"Akira Komayama","crafting_cost":400},{"id":"171","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_171_EN.webp","hp":"80","name":"Hippopotas","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Colorless"],"name":"Rolling Tackle","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #93","rarity":""},{"version":"Space-Time Smackdown #171","rarity":""}],"artist":"Teeziro","crafting_cost":400},{"id":"172","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_172_EN.webp","hp":"80","name":"Spiritomb","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Swirling","damage":"Disaster","effect":"This attack does 10 damage to each of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #104","rarity":""},{"version":"Space-Time Smackdown #172","rarity":""}],"artist":"Shinji Kanda","crafting_cost":400},{"id":"173","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_173_EN.webp","hp":"60","name":"Croagunk","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness"],"name":"Group Beatdown","damage":"20x","effect":"Flip a coin for each Pokmon you have in play. This attack does 20 damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #107","rarity":""},{"version":"Space-Time Smackdown #173","rarity":""}],"artist":"GOSSAN","crafting_cost":400},{"id":"174","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_174_EN.webp","hp":"120","name":"Heatran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal","Metal"],"name":"Steel Tackle","damage":"110","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #120","rarity":""},{"version":"Space-Time Smackdown #174","rarity":""}],"artist":"OKUBO","crafting_cost":400},{"id":"175","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_175_EN.webp","hp":"140","name":"Garchomp","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Fighting"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"Reckless Shearing","effect":"You must discard a card from your hand in order to use this Ability. Once during your turn, you may draw a card."},"weakness":"none","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #123","rarity":""},{"version":"Space-Time Smackdown #175","rarity":""}],"artist":"MINAMINAMI Take","crafting_cost":400},{"id":"176","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_176_EN.webp","hp":"140","name":"Staraptor","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Clutch","damage":"80","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #134","rarity":""},{"version":"Space-Time Smackdown #176","rarity":""}],"artist":"Ryota Murayama","crafting_cost":400},{"id":"177","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_177_EN.webp","hp":"60","name":"Bidoof","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Super","damage":"Fang","effect":"Halve your opponent's Active Pokmon's remaining HP, rounded down."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #135","rarity":""},{"version":"Space-Time Smackdown #177","rarity":""}],"artist":"Shinya Komatsu","crafting_cost":400},{"id":"178","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_178_EN.webp","hp":"60","name":"Glameow","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pose","damage":"40","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #139","rarity":""},{"version":"Space-Time Smackdown #178","rarity":""}],"artist":"matazo","crafting_cost":400},{"id":"179","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_179_EN.webp","hp":"140","name":"Regigigas","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Raging Hammer","damage":"50+","effect":"This attack does more damage equal to the damage this Pokmon has on it."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #143","rarity":""},{"version":"Space-Time Smackdown #179","rarity":""}],"artist":"Tetsu Kayama","crafting_cost":400},{"id":"180","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_180_EN.webp","hp":"140","name":"Yanmega ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Air Slash","damage":"120","effect":"Discard a random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #7","rarity":""},{"version":"Space-Time Smackdown #180","rarity":""},{"version":"Space-Time Smackdown #196","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"181","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_181_EN.webp","hp":"170","name":"Infernape ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Fire"],"name":"Flare Blitz","damage":"140","effect":"Discard all [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"0","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #29","rarity":""},{"version":"Space-Time Smackdown #181","rarity":""},{"version":"Space-Time Smackdown #197","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"182","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_182_EN.webp","hp":"150","name":"Palkia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Slash","damage":"30","effect":"No effect"},{"cost":["Water","Water","Water","Colorless"],"name":"Dimensional Storm","damage":"150","effect":"Discard 3 [W] Energy from this Pokmon. This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #49","rarity":""},{"version":"Space-Time Smackdown #182","rarity":""},{"version":"Space-Time Smackdown #204","rarity":""},{"version":"Space-Time Smackdown #206","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"183","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_183_EN.webp","hp":"120","name":"Pachirisu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Sparking Gadget","damage":"40+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #61","rarity":""},{"version":"Space-Time Smackdown #183","rarity":""},{"version":"Space-Time Smackdown #198","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"184","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_184_EN.webp","hp":"140","name":"Mismagius ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Magical Delusion","damage":"70","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #67","rarity":""},{"version":"Space-Time Smackdown #184","rarity":""},{"version":"Space-Time Smackdown #199","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"185","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_185_EN.webp","hp":"170","name":"Gallade ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting"],"name":"Energized Blade","damage":"70+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #95","rarity":""},{"version":"Space-Time Smackdown #185","rarity":""},{"version":"Space-Time Smackdown #200","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"186","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_186_EN.webp","hp":"140","name":"Weavile ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Scratching Nails","damage":"30+","effect":"If your opponent's Active Pokmon has damage on it, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #99","rarity":""},{"version":"Space-Time Smackdown #186","rarity":""},{"version":"Space-Time Smackdown #201","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"187","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_187_EN.webp","hp":"140","name":"Darkrai ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Prism","damage":"80","effect":"No effect"}],"ability":{"name":"Nightmare Aura","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, do 20 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #110","rarity":""},{"version":"Space-Time Smackdown #187","rarity":""},{"version":"Space-Time Smackdown #202","rarity":""},{"version":"Promo-A #42","rarity":""}],"artist":"PLANETA Yamashita","crafting_cost":1250},{"id":"188","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_188_EN.webp","hp":"150","name":"Dialga ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal"],"name":"Metallic Turbo","damage":"30","effect":"Take 2 [M] Energy from your Energy Zone and attach it to 1 of your Benched Pokmon."},{"cost":["Metal","Metal","Colorless","Colorless"],"name":"Heavy Impact","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #119","rarity":""},{"version":"Space-Time Smackdown #188","rarity":""},{"version":"Space-Time Smackdown #205","rarity":""},{"version":"Space-Time Smackdown #207","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"189","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_189_EN.webp","hp":"160","name":"Lickilicky ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Licking Fury","damage":"100+","effect":"Flip a coin until you get tails. This attack does 40 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #125","rarity":""},{"version":"Space-Time Smackdown #189","rarity":""},{"version":"Space-Time Smackdown #203","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"190","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_190_EN.webp","hp":"Unknown","name":"Cyrus","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Switch in 1 of your opponent's Benched Pokmon that has damage on it to the Active Spot.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                akagi","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #150","rarity":""},{"version":"Space-Time Smackdown #190","rarity":""}],"artist":"akagi","crafting_cost":1250},{"id":"191","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_191_EN.webp","hp":"Unknown","name":"Team Galactic Grunt","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put 1 random Glameow, Stunky, or Croagunk from your deck into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GOSSAN","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #151","rarity":""},{"version":"Space-Time Smackdown #191","rarity":""}],"artist":"GOSSAN","crafting_cost":1250},{"id":"192","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_192_EN.webp","hp":"Unknown","name":"Cynthia","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Garchomp or Togekiss do +50 damage to your opponent's Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryuta Fuse","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #152","rarity":""},{"version":"Space-Time Smackdown #192","rarity":""}],"artist":"Ryuta Fuse","crafting_cost":1250},{"id":"193","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_193_EN.webp","hp":"Unknown","name":"Volkner","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Choose 1 of your Electivire or Luxray. Attach 2 [L] Energy from your discard pile to that Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                GIDORA","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #153","rarity":""},{"version":"Space-Time Smackdown #193","rarity":""}],"artist":"GIDORA","crafting_cost":1250},{"id":"194","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_194_EN.webp","hp":"Unknown","name":"Dawn","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Move an Energy from 1 of your Benched Pokmon to your Active Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                saino misaki","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #154","rarity":""},{"version":"Space-Time Smackdown #194","rarity":""}],"artist":"saino misaki","crafting_cost":1250},{"id":"195","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_195_EN.webp","hp":"Unknown","name":"Mars","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Your opponent shuffles their hand into their deck and draws a card for each of their remaining points needed to win.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #155","rarity":""},{"version":"Space-Time Smackdown #195","rarity":""}],"artist":"Yuu Nishida","crafting_cost":1250},{"id":"196","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_196_EN.webp","hp":"140","name":"Yanmega ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Air Slash","damage":"120","effect":"Discard a random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #7","rarity":""},{"version":"Space-Time Smackdown #180","rarity":""},{"version":"Space-Time Smackdown #196","rarity":""}],"artist":"Mina Nakai","crafting_cost":1250},{"id":"197","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_197_EN.webp","hp":"170","name":"Infernape ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fire","Fire"],"name":"Flare Blitz","damage":"140","effect":"Discard all [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"0","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #29","rarity":""},{"version":"Space-Time Smackdown #181","rarity":""},{"version":"Space-Time Smackdown #197","rarity":""}],"artist":"nagimiso","crafting_cost":1250},{"id":"198","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_198_EN.webp","hp":"120","name":"Pachirisu ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning","Lightning"],"name":"Sparking Gadget","damage":"40+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #61","rarity":""},{"version":"Space-Time Smackdown #183","rarity":""},{"version":"Space-Time Smackdown #198","rarity":""}],"artist":"Nurikabe","crafting_cost":1250},{"id":"199","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_199_EN.webp","hp":"140","name":"Mismagius ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Magical Delusion","damage":"70","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #67","rarity":""},{"version":"Space-Time Smackdown #184","rarity":""},{"version":"Space-Time Smackdown #199","rarity":""}],"artist":"Kuroimori","crafting_cost":1250},{"id":"200","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_200_EN.webp","hp":"170","name":"Gallade ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting"],"name":"Energized Blade","damage":"70+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #95","rarity":""},{"version":"Space-Time Smackdown #185","rarity":""},{"version":"Space-Time Smackdown #200","rarity":""}],"artist":"Takumi Wada","crafting_cost":1250},{"id":"201","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_201_EN.webp","hp":"140","name":"Weavile ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Scratching Nails","damage":"30+","effect":"If your opponent's Active Pokmon has damage on it, this attack does 40 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #99","rarity":""},{"version":"Space-Time Smackdown #186","rarity":""},{"version":"Space-Time Smackdown #201","rarity":""}],"artist":"hncl","crafting_cost":1250},{"id":"202","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_202_EN.webp","hp":"140","name":"Darkrai ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Prism","damage":"80","effect":"No effect"}],"ability":{"name":"Nightmare Aura","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, do 20 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #110","rarity":""},{"version":"Space-Time Smackdown #187","rarity":""},{"version":"Space-Time Smackdown #202","rarity":""},{"version":"Promo-A #42","rarity":""}],"artist":"Oswaldo KATO","crafting_cost":1250},{"id":"203","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_203_EN.webp","hp":"160","name":"Lickilicky ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Licking Fury","damage":"100+","effect":"Flip a coin until you get tails. This attack does 40 more damage for each heads."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #125","rarity":""},{"version":"Space-Time Smackdown #189","rarity":""},{"version":"Space-Time Smackdown #203","rarity":""}],"artist":"Jerky","crafting_cost":1250},{"id":"204","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_204_EN.webp","hp":"150","name":"Palkia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Slash","damage":"30","effect":"No effect"},{"cost":["Water","Water","Water","Colorless"],"name":"Dimensional Storm","damage":"150","effect":"Discard 3 [W] Energy from this Pokmon. This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Palkia pack","alternate_versions":[{"version":"Space-Time Smackdown #49","rarity":""},{"version":"Space-Time Smackdown #182","rarity":""},{"version":"Space-Time Smackdown #204","rarity":""},{"version":"Space-Time Smackdown #206","rarity":""}],"artist":"N-DESIGN Inc.","crafting_cost":1500},{"id":"205","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_205_EN.webp","hp":"150","name":"Dialga ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal"],"name":"Metallic Turbo","damage":"30","effect":"Take 2 [M] Energy from your Energy Zone and attach it to 1 of your Benched Pokmon."},{"cost":["Metal","Metal","Colorless","Colorless"],"name":"Heavy Impact","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Dialga pack","alternate_versions":[{"version":"Space-Time Smackdown #119","rarity":""},{"version":"Space-Time Smackdown #188","rarity":""},{"version":"Space-Time Smackdown #205","rarity":""},{"version":"Space-Time Smackdown #207","rarity":""}],"artist":"N-DESIGN Inc.","crafting_cost":1500},{"id":"206","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_206_EN.webp","hp":"150","name":"Palkia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Slash","damage":"30","effect":"No effect"},{"cost":["Water","Water","Water","Colorless"],"name":"Dimensional Storm","damage":"150","effect":"Discard 3 [W] Energy from this Pokmon. This attack also does 20 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #49","rarity":""},{"version":"Space-Time Smackdown #182","rarity":""},{"version":"Space-Time Smackdown #204","rarity":""},{"version":"Space-Time Smackdown #206","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"},{"id":"207","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2/A2_207_EN.webp","hp":"150","name":"Dialga ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal"],"name":"Metallic Turbo","damage":"30","effect":"Take 2 [M] Energy from your Energy Zone and attach it to 1 of your Benched Pokmon."},{"cost":["Metal","Metal","Colorless","Colorless"],"name":"Heavy Impact","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Space-Time Smackdown  (A2)","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #119","rarity":""},{"version":"Space-Time Smackdown #188","rarity":""},{"version":"Space-Time Smackdown #205","rarity":""},{"version":"Space-Time Smackdown #207","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"}]`),ene=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_001_EN.webp","hp":"100","name":"Heracross","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Single-Horn Throw","damage":"50+","effect":"Flip 2 coins. If both of them are heads, this attack does 70 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #1","rarity":""}],"artist":"Satoshi Shirai","crafting_cost":70},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_002_EN.webp","hp":"50","name":"Burmy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Ram","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #2","rarity":""}],"artist":"miki kudo","crafting_cost":35},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_003_EN.webp","hp":"90","name":"Mothim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Gust","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #3","rarity":""}],"artist":"MAHOU","crafting_cost":70},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_004_EN.webp","hp":"50","name":"Combee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Bug Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #4","rarity":""}],"artist":"Akira Komayama","crafting_cost":35},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_005_EN.webp","hp":"100","name":"Vespiquen","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass","Grass"],"name":"Reckless Charge","damage":"120","effect":"This Pokmon also does 30 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #5","rarity":""}],"artist":"kawayoo","crafting_cost":70},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_006_EN.webp","hp":"50","name":"Cherubi","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Leafage","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #6","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":35},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_007_EN.webp","hp":"80","name":"Cherrim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass"],"name":"Worry Seed","damage":"40","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #7","rarity":""}],"artist":"Midori Harada","crafting_cost":70},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_008_EN.webp","hp":"80","name":"Cherrim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Leech Seed","damage":"60","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #8","rarity":""},{"version":"Promo-A #43","rarity":""}],"artist":"Kagemaru Himeno","crafting_cost":70},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_009_EN.webp","hp":"80","name":"Carnivine","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Vine Whip","damage":"20","effect":"No effect"}],"ability":{"name":"Power Link","effect":"If you have Arceus or Arceus ex in play, attacks used by this Pokmon do +30 damage to your opponent's Active Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #9","rarity":""}],"artist":"Shiburingaru","crafting_cost":150},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_010_EN.webp","hp":"140","name":"Leafeon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Forest Breath","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may take a  Energy from your Energy Zone and attach it to 1 of your  Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #10","rarity":""},{"version":"Triumphant Light #82","rarity":""},{"version":"Triumphant Light #91","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_011_EN.webp","hp":"60","name":"Houndour","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Flare","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #11","rarity":""}],"artist":"Kouki Saitou","crafting_cost":35},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_012_EN.webp","hp":"100","name":"Houndoom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Corner","damage":"60","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #12","rarity":""},{"version":"Triumphant Light #76","rarity":""}],"artist":"Hajime Kusajima","crafting_cost":70},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_013_EN.webp","hp":"110","name":"Heatran","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire","Fire"],"name":"Ragin Mad Strike","damage":"40+","effect":"If this Pokmon has damage on it, this attack does 40 more damage."}],"ability":{"name":"Speed Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon has no Retreat Cost."},"weakness":"Water","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #13","rarity":""}],"artist":"Kazumasa Yasukuni","crafting_cost":150},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_014_EN.webp","hp":"60","name":"Marill","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #14","rarity":""},{"version":"Triumphant Light #77","rarity":""}],"artist":"Tika Matsuno","crafting_cost":35},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_015_EN.webp","hp":"100","name":"Azumarill","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Waterfall","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #15","rarity":""}],"artist":"miki kudo","crafting_cost":35},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_016_EN.webp","hp":"60","name":"Barboach","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Mud-Slap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #16","rarity":""}],"artist":"sui","crafting_cost":35},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_017_EN.webp","hp":"120","name":"Whiscash","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless","Colorless"],"name":"Thrash","damage":"80+","effect":"Flip a coin. If heads, this attack does 60 more damage. If tails, this Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #17","rarity":""}],"artist":"Shinya Komatsu","crafting_cost":70},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_018_EN.webp","hp":"60","name":"Snorunt","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Icicle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #18","rarity":""}],"artist":"sowsow","crafting_cost":35},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_019_EN.webp","hp":"90","name":"Froslass","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Colorless"],"name":"Blizzard","damage":"40","effect":"This attack also does 10 damage to each of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #19","rarity":""}],"artist":"Mizue","crafting_cost":70},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_020_EN.webp","hp":"70","name":"Snover","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Colorless"],"name":"Corkscrew Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #20","rarity":""}],"artist":"otumami","crafting_cost":35},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_021_EN.webp","hp":"120","name":"Abomasnow","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Mega Punch","damage":"80","effect":"No effect"}],"ability":{"name":"Vigor Link","effect":"If you have Arceus or Arceus ex in play, attacks used by this Pokmon cost 1 less  Energy."},"weakness":"Metal","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #21","rarity":""}],"artist":"nagimiso","crafting_cost":150},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_022_EN.webp","hp":"140","name":"Glaceon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Freezing Wind","damage":"90","effect":"No effect"}],"ability":{"name":"Snowy Terrain","effect":"During Pokmon Checkup, if this Pokmon is in the Active Spot, do 10 damage to your opponent's Active Pokmon."},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #22","rarity":""},{"version":"Triumphant Light #83","rarity":""},{"version":"Triumphant Light #92","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_023_EN.webp","hp":"120","name":"Origin Forme Palkia","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water","Water"],"name":"Zone Smash","damage":"60+","effect":"Flip a coin. If heads, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #23","rarity":""}],"artist":"toriyufu","crafting_cost":150},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_024_EN.webp","hp":"60","name":"Phione","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water"],"name":"Water Pulse","damage":"40","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #24","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":70},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_025_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Spark","damage":"10","effect":"This attack also does 10 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #25","rarity":""}],"artist":"MAHOU","crafting_cost":35},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_026_EN.webp","hp":"90","name":"Raichu","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Spark","damage":"40","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"Resilience Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon takes 30 damage from attacks."},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #26","rarity":""},{"version":"Promo-A #44","rarity":""}],"artist":"Nisota Niso","crafting_cost":150},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_027_EN.webp","hp":"60","name":"Electrike","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Zap Kick","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #27","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":35},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_028_EN.webp","hp":"90","name":"Manectric","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning"],"name":"Flash","damage":"40","effect":"During your opponent's next turn, if the Defending Pokmon tries to use an attack, your opponent flips a coin. If tails, that attack doesn't happen."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #28","rarity":""}],"artist":"match","crafting_cost":70},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_029_EN.webp","hp":"60","name":"Clefairy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Colorless"],"name":"Smack","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #29","rarity":""}],"artist":"rika","crafting_cost":35},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_030_EN.webp","hp":"100","name":"Clefable","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Colorless","Colorless"],"name":"Moonblast","damage":"60","effect":"During your opponent's next turn, attacks used by the Defending Pokmon do 30 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #30","rarity":""}],"artist":"sui","crafting_cost":70},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_031_EN.webp","hp":"50","name":"Gastly","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Astonish","effect":"Flip a coin. If heads, your opponent reveals a random card from their hand and shuffles it into their deck."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #31","rarity":""}],"artist":"Yuu Nishida","crafting_cost":35},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_032_EN.webp","hp":"80","name":"Haunter","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic","Psychic"],"name":"Mumble","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #32","rarity":""}],"artist":"Eri Yamaki","crafting_cost":35},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_033_EN.webp","hp":"140","name":"Gengar","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Psychic","Psychic"],"name":"Hypnoblast","damage":"70","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #33","rarity":""}],"artist":"Midori Harada","crafting_cost":70},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_034_EN.webp","hp":"60","name":"Unown","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Hidden Power","damage":"20","effect":"No effect"}],"ability":{"name":"CHECK","effect":"Once during your turn, you may choose either player. Look at the top card of that player's deck."},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #34","rarity":""},{"version":"Triumphant Light #78","rarity":""}],"artist":"Tetsu Kayama","crafting_cost":70},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_035_EN.webp","hp":"70","name":"Rotom","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Dash","damage":"Attack","effect":"This attack does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"Speed Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon has no Retreat Cost."},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #35","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":150},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_036_EN.webp","hp":"80","name":"Sudowoodo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Fighting Headbutt","damage":"20+","effect":"If your opponent's Active Pokmon is a Pokmon ex, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #36","rarity":""},{"version":"Triumphant Light #79","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":70},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_037_EN.webp","hp":"60","name":"Phanpy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Rollout","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #37","rarity":""}],"artist":"Asako Ito","crafting_cost":35},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_038_EN.webp","hp":"120","name":"Donphan","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Rolling Spin","damage":"60","effect":"During your next turn, this Pokmon's Rolling Spin attack does +60 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #38","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":70},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_039_EN.webp","hp":"60","name":"Larvitar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Colorless"],"name":"Corkscrew Punch","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #39","rarity":""}],"artist":"Yukiko Baba","crafting_cost":35},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_040_EN.webp","hp":"80","name":"Pupitar","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting","Colorless","Colorless"],"name":"Speed Attack","damage":"50","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #40","rarity":""}],"artist":"match","crafting_cost":70},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_041_EN.webp","hp":"160","name":"Tyranitar","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting","Fighting","Fighting","Colorless"],"name":"Land Crush","damage":"130","effect":"No effect"}],"ability":{"name":"Power Link","effect":"If you have Arceus or Arceus ex in play, attacks used by this Pokmon do +30 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #41","rarity":""}],"artist":"kawayoo","crafting_cost":150},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_042_EN.webp","hp":"80","name":"Nosepass","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Tackle","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #42","rarity":""}],"artist":"Satoshi Shirai","crafting_cost":35},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_043_EN.webp","hp":"60","name":"Meditite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Kick","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #43","rarity":""}],"artist":"Mina Nakai","crafting_cost":35},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_044_EN.webp","hp":"100","name":"Medicham","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Kick Shot","damage":"80","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #44","rarity":""}],"artist":"Tetsu Kayama","crafting_cost":70},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_045_EN.webp","hp":"60","name":"Gible","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #45","rarity":""},{"version":"Promo-A #46","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_046_EN.webp","hp":"80","name":"Gabite","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fighting"],"name":"Sharp Scythe","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #46","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":35},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_047_EN.webp","hp":"170","name":"Garchomp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Linear","damage":"Attack","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."},{"cost":["Fighting","Fighting","Colorless"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #47","rarity":""},{"version":"Triumphant Light #84","rarity":""},{"version":"Triumphant Light #93","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_048_EN.webp","hp":"50","name":"Zubat","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #48","rarity":""}],"artist":"Sekio","crafting_cost":35},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_049_EN.webp","hp":"80","name":"Golbat","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #49","rarity":""}],"artist":"Kyoko Umemoto","crafting_cost":35},{"id":"50","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_050_EN.webp","hp":"110","name":"Crobat","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Darkness"],"name":"Darkness Fang","damage":"50","effect":"No effect"}],"ability":{"name":"Cunning Link","effect":"Once during your turn, if you have Arceus or Arceus ex in play, you may do 30 damage to your opponent's Active Pokmon."},"weakness":"Fighting","retreat":"0","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #50","rarity":""}],"artist":"AKIRA EGAWA","crafting_cost":150},{"id":"51","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_051_EN.webp","hp":"60","name":"Croagunk","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness"],"name":"Beat","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #51","rarity":""}],"artist":"SATOSHI NAKAI","crafting_cost":35},{"id":"52","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_052_EN.webp","hp":"100","name":"Toxicroak","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Darkness"],"name":"Unknown","damage":"Toxic","effect":"Your opponent's Active Pokmon is now Poisoned. Do 20 damage to this Pokmon instead of the usual amount for this Special Condition."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #52","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":70},{"id":"53","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_053_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #53","rarity":""},{"version":"Triumphant Light #80","rarity":""}],"artist":"OKACHEKE","crafting_cost":35},{"id":"54","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_054_EN.webp","hp":"90","name":"Magneton","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Colorless"],"name":"Rolling Attack","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #54","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":35},{"id":"55","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_055_EN.webp","hp":"140","name":"Magnezone","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Power Beam","damage":"80","effect":"No effect"}],"ability":{"name":"Resilience Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon takes 30 damage from attacks."},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #55","rarity":""}],"artist":"toriyufu","crafting_cost":150},{"id":"56","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_056_EN.webp","hp":"70","name":"Mawile","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Iron Beam Breaker","damage":"20+","effect":"If your opponent's Active Pokmon is a [M] Pokmon, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #56","rarity":""}],"artist":"tetsuya koizumi","crafting_cost":35},{"id":"57","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_057_EN.webp","hp":"160","name":"Probopass ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Defensive Unit","damage":"90","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #57","rarity":""},{"version":"Triumphant Light #85","rarity":""},{"version":"Triumphant Light #94","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":500},{"id":"58","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_058_EN.webp","hp":"60","name":"Bronzor","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Ram","damage":"10","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #58","rarity":""}],"artist":"Akira Komayama","crafting_cost":35},{"id":"59","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_059_EN.webp","hp":"120","name":"Bronzong","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Psychic","damage":"50+","effect":"This attack does 20 more damage for each Energy attached to your opponent's Active Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #59","rarity":""}],"artist":"Naoki Saito","crafting_cost":70},{"id":"60","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_060_EN.webp","hp":"120","name":"Origin Forme Dialga","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Time Mash","damage":"100","effect":"Flip a coin. If tails, during your next turn, this Pokmon can't attack."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #60","rarity":""}],"artist":"akagi","crafting_cost":150},{"id":"61","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_061_EN.webp","hp":"120","name":"Giratina","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Psychic","Colorless"],"name":"Crisis Dive","damage":"120","effect":"Discard 2 random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"none","retreat":"3","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #61","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":150},{"id":"62","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_062_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Tail Whap","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #62","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":35},{"id":"63","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_063_EN.webp","hp":"140","name":"Snorlax","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Collapse","damage":"100","effect":"This Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #63","rarity":""},{"version":"Promo-A #49","rarity":""}],"artist":"burari","crafting_cost":70},{"id":"64","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_064_EN.webp","hp":"60","name":"Hoothoot","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Peck","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #64","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":35},{"id":"65","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_065_EN.webp","hp":"100","name":"Noctowl","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless"],"name":"Silent Wing","damage":"50","effect":"Your opponent reveals their hand."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #65","rarity":""}],"artist":"DOM","crafting_cost":70},{"id":"66","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_066_EN.webp","hp":"60","name":"Starly","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Glide","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #66","rarity":""}],"artist":"Apios","crafting_cost":35},{"id":"67","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_067_EN.webp","hp":"80","name":"Staravia","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless"],"name":"Wing Attack","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #67","rarity":""}],"artist":"Masakazu Fukuda","crafting_cost":35},{"id":"68","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_068_EN.webp","hp":"150","name":"Staraptor","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Brave Bird","damage":"130","effect":"This Pokmon also does 20 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #68","rarity":""}],"artist":"Minahamu","crafting_cost":70},{"id":"69","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_069_EN.webp","hp":"70","name":"Shaymin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Flap","damage":"30","effect":"No effect"}],"ability":{"name":"Sky Support","effect":"As long as this Pokmon is on your Bench, your Active Basic Pokemon's Retreat Cost is 1 less."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #69","rarity":""},{"version":"Triumphant Light #81","rarity":""}],"artist":"Mizue","crafting_cost":150},{"id":"70","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_070_EN.webp","hp":"120","name":"Arceus","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Power Blast","damage":"100","effect":"Discard a random Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #70","rarity":""}],"artist":"Nurikabe","crafting_cost":150},{"id":"71","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_071_EN.webp","hp":"140","name":"Arceus ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Ultimate Force","damage":"70+","effect":"This attack does 20 more damage for each of your Benched Pokmon."}],"ability":{"name":"Fabled Luster","effect":"This Pokmon can't be affected by any Special Conditions."},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"No","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #71","rarity":""},{"version":"Triumphant Light #86","rarity":""},{"version":"Triumphant Light #95","rarity":""},{"version":"Triumphant Light #96","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":500},{"id":"72","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_072_EN.webp","hp":"Unknown","name":"Irida","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Heal 40 damage from each of your Pokmon that has any [W] Energy attached.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Atsushi Furusawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #72","rarity":""},{"version":"Triumphant Light #87","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":70},{"id":"73","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_073_EN.webp","hp":"Unknown","name":"Celestic Town Elder","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put 1 random Basic Pokemon from your discard pile into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #73","rarity":""},{"version":"Triumphant Light #88","rarity":""}],"artist":"Yuu Nishida","crafting_cost":70},{"id":"74","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_074_EN.webp","hp":"Unknown","name":"Barry","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Snorlax, Heracross, and Staraptor cost 2 less [C] Energy.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Hideki Ishikawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #74","rarity":""},{"version":"Triumphant Light #89","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":70},{"id":"75","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_075_EN.webp","hp":"Unknown","name":"Adaman","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During your opponent's next turn, all of your [M] Pokmon take 20 damage from attacks from your opponent's Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                akagi","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"No","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #75","rarity":""},{"version":"Triumphant Light #90","rarity":""}],"artist":"akagi","crafting_cost":70},{"id":"76","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_076_EN.webp","hp":"100","name":"Houndoom","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Colorless"],"name":"Corner","damage":"60","effect":"During your opponent's next turn, the Defending Pokmon can't retreat."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #12","rarity":""},{"version":"Triumphant Light #76","rarity":""}],"artist":"matazo","crafting_cost":400},{"id":"77","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_077_EN.webp","hp":"60","name":"Marill","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #14","rarity":""},{"version":"Triumphant Light #77","rarity":""}],"artist":"Taiga Kayama","crafting_cost":400},{"id":"78","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_078_EN.webp","hp":"60","name":"Unown","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Hidden Power","damage":"20","effect":"No effect"}],"ability":{"name":"CHECK","effect":"Once during your turn, you may choose either player. Look at the top card of that player's deck."},"weakness":"Darkness","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #34","rarity":""},{"version":"Triumphant Light #78","rarity":""}],"artist":"IKEDA Saki","crafting_cost":400},{"id":"79","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_079_EN.webp","hp":"80","name":"Sudowoodo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Fighting Headbutt","damage":"20+","effect":"If your opponent's Active Pokmon is a Pokmon ex, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"2","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #36","rarity":""},{"version":"Triumphant Light #79","rarity":""}],"artist":"Yuriko Akase","crafting_cost":400},{"id":"80","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_080_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #53","rarity":""},{"version":"Triumphant Light #80","rarity":""}],"artist":"Yukihiro Tada","crafting_cost":400},{"id":"81","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_081_EN.webp","hp":"70","name":"Shaymin","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Flap","damage":"30","effect":"No effect"}],"ability":{"name":"Sky Support","effect":"As long as this Pokmon is on your Bench, your Active Basic Pokemon's Retreat Cost is 1 less."},"weakness":"Lightning","retreat":"1","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #69","rarity":""},{"version":"Triumphant Light #81","rarity":""}],"artist":"MINAMINAMI Take","crafting_cost":400},{"id":"82","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_082_EN.webp","hp":"140","name":"Leafeon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Forest Breath","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may take a  Energy from your Energy Zone and attach it to 1 of your  Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #10","rarity":""},{"version":"Triumphant Light #82","rarity":""},{"version":"Triumphant Light #91","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"83","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_083_EN.webp","hp":"140","name":"Glaceon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Freezing Wind","damage":"90","effect":"No effect"}],"ability":{"name":"Snowy Terrain","effect":"During Pokmon Checkup, if this Pokmon is in the Active Spot, do 10 damage to your opponent's Active Pokmon."},"weakness":"Metal","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #22","rarity":""},{"version":"Triumphant Light #83","rarity":""},{"version":"Triumphant Light #92","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"84","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_084_EN.webp","hp":"170","name":"Garchomp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Linear","damage":"Attack","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."},{"cost":["Fighting","Fighting","Colorless"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #47","rarity":""},{"version":"Triumphant Light #84","rarity":""},{"version":"Triumphant Light #93","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"85","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_085_EN.webp","hp":"160","name":"Probopass ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Defensive Unit","damage":"90","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #57","rarity":""},{"version":"Triumphant Light #85","rarity":""},{"version":"Triumphant Light #94","rarity":""}],"artist":"PLANETA Tsuji","crafting_cost":1250},{"id":"86","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_086_EN.webp","hp":"140","name":"Arceus ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Ultimate Force","damage":"70+","effect":"This attack does 20 more damage for each of your Benched Pokmon."}],"ability":{"name":"Fabled Luster","effect":"This Pokmon can't be affected by any Special Conditions."},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #71","rarity":""},{"version":"Triumphant Light #86","rarity":""},{"version":"Triumphant Light #95","rarity":""},{"version":"Triumphant Light #96","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":1250},{"id":"87","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_087_EN.webp","hp":"Unknown","name":"Irida","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Heal 40 damage from each of your Pokmon that has any [W] Energy attached.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Atsushi Furusawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #72","rarity":""},{"version":"Triumphant Light #87","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":1250},{"id":"88","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_088_EN.webp","hp":"Unknown","name":"Celestic Town Elder","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Put 1 random Basic Pokemon from your discard pile into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #73","rarity":""},{"version":"Triumphant Light #88","rarity":""}],"artist":"Yuu Nishida","crafting_cost":1250},{"id":"89","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_089_EN.webp","hp":"Unknown","name":"Barry","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During this turn, attacks used by your Snorlax, Heracross, and Staraptor cost 2 less [C] Energy.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Hideki Ishikawa","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #74","rarity":""},{"version":"Triumphant Light #89","rarity":""}],"artist":"Hideki Ishikawa","crafting_cost":1250},{"id":"90","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_090_EN.webp","hp":"Unknown","name":"Adaman","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"During your opponent's next turn, all of your [M] Pokmon take 20 damage from attacks from your opponent's Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                akagi","weakness":"N/A","retreat":"N/A","rarity":"","fullart":"Yes","ex":"No","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #75","rarity":""},{"version":"Triumphant Light #90","rarity":""}],"artist":"akagi","crafting_cost":1250},{"id":"91","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_091_EN.webp","hp":"140","name":"Leafeon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Solar Beam","damage":"70","effect":"No effect"}],"ability":{"name":"Forest Breath","effect":"Once during your turn, if this Pokmon is in the Active Spot, you may take a  Energy from your Energy Zone and attach it to 1 of your  Pokmon."},"weakness":"Fire","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #10","rarity":""},{"version":"Triumphant Light #82","rarity":""},{"version":"Triumphant Light #91","rarity":""}],"artist":"saino misaki","crafting_cost":1250},{"id":"92","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_092_EN.webp","hp":"140","name":"Glaceon ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Freezing Wind","damage":"90","effect":"No effect"}],"ability":{"name":"Snowy Terrain","effect":"During Pokmon Checkup, if this Pokmon is in the Active Spot, do 10 damage to your opponent's Active Pokmon."},"weakness":"Metal","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #22","rarity":""},{"version":"Triumphant Light #83","rarity":""},{"version":"Triumphant Light #92","rarity":""}],"artist":"rika","crafting_cost":1250},{"id":"93","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_093_EN.webp","hp":"170","name":"Garchomp ex","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Fighting"],"name":"Linear","damage":"Attack","effect":"This attack does 50 damage to 1 of your opponent's Pokmon."},{"cost":["Fighting","Fighting","Colorless"],"name":"Dragon Claw","damage":"100","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #47","rarity":""},{"version":"Triumphant Light #84","rarity":""},{"version":"Triumphant Light #93","rarity":""}],"artist":"toriyufu","crafting_cost":1250},{"id":"94","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_094_EN.webp","hp":"160","name":"Probopass ex","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Metal","Metal","Colorless"],"name":"Defensive Unit","damage":"90","effect":"During your opponent's next turn, this Pokmon takes 20 damage from attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #57","rarity":""},{"version":"Triumphant Light #85","rarity":""},{"version":"Triumphant Light #94","rarity":""}],"artist":"Masa","crafting_cost":1250},{"id":"95","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_095_EN.webp","hp":"140","name":"Arceus ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Ultimate Force","damage":"70+","effect":"This attack does 20 more damage for each of your Benched Pokmon."}],"ability":{"name":"Fabled Luster","effect":"This Pokmon can't be affected by any Special Conditions."},"weakness":"Fighting","retreat":"2","rarity":"","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #71","rarity":""},{"version":"Triumphant Light #86","rarity":""},{"version":"Triumphant Light #95","rarity":""},{"version":"Triumphant Light #96","rarity":""}],"artist":"Takumi Wada","crafting_cost":1500},{"id":"96","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/A2a/A2a_096_EN.webp","hp":"140","name":"Arceus ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Ultimate Force","damage":"70+","effect":"This attack does 20 more damage for each of your Benched Pokmon."}],"ability":{"name":"Fabled Luster","effect":"This Pokmon can't be affected by any Special Conditions."},"weakness":"Fighting","retreat":"2","rarity":"Crown Rare","fullart":"Yes","ex":"Yes","set_details":"Triumphant Light  (A2a)","pack":"Arceus pack","alternate_versions":[{"version":"Triumphant Light #71","rarity":""},{"version":"Triumphant Light #86","rarity":""},{"version":"Triumphant Light #95","rarity":""},{"version":"Triumphant Light #96","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"}]`),tne=JSON.parse(`[{"id":"1","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_001_EN.webp","hp":"Unknown","name":"Potion","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Heal 20 damage from 1 of your Pokmon.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                5ban Graphics","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #1","rarity":""}],"artist":"5ban Graphics","crafting_cost":"Unknown"},{"id":"2","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_002_EN.webp","hp":"Unknown","name":"X Speed","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"During this turn, the Retreat Cost of your Active Pokmon is 1 less.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #2","rarity":""}],"artist":"Toyste Beach","crafting_cost":"Unknown"},{"id":"3","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_003_EN.webp","hp":"Unknown","name":"Hand Scope","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Your opponent reveals their hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Toyste Beach","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #3","rarity":""}],"artist":"Toyste Beach","crafting_cost":"Unknown"},{"id":"4","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_004_EN.webp","hp":"Unknown","name":"Pokdex","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Look at the top 3 cards of your deck.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryo Ueda","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #4","rarity":""},{"version":"Promo-A #8","rarity":""}],"artist":"Ryo Ueda","crafting_cost":"Unknown"},{"id":"5","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_005_EN.webp","hp":"Unknown","name":"Pok Ball","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Put 1 random Basic Pokemon from your deck into your hand.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Ryo Ueda","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #5","rarity":""}],"artist":"Ryo Ueda","crafting_cost":"Unknown"},{"id":"6","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_006_EN.webp","hp":"Unknown","name":"Red Card","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Your opponent shuffles their hand into their deck and draws 3 cards.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                5ban Graphics","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #6","rarity":""}],"artist":"5ban Graphics","crafting_cost":"Unknown"},{"id":"7","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_007_EN.webp","hp":"Unknown","name":"Professor's Research","card_type":"Trainer","evolution_type":"Supporter","attacks":[],"ability":"Draw 2 cards.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Naoki Saito","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #7","rarity":""}],"artist":"Naoki Saito","crafting_cost":"Unknown"},{"id":"8","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_008_EN.webp","hp":"Unknown","name":"Pokdex","card_type":"Trainer","evolution_type":"Item","attacks":[],"ability":"Look at the top 3 cards of your deck.\\n\\n            \\n                    \\n    \\n            Illustrated by \\n            \\n                Yuu Nishida","weakness":"N/A","retreat":"N/A","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #4","rarity":""},{"version":"Promo-A #8","rarity":""}],"artist":"Yuu Nishida","crafting_cost":"Unknown"},{"id":"9","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_009_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #94","rarity":""},{"version":"Promo-A #9","rarity":""},{"version":"Promo-A #15","rarity":""},{"version":"Promo-A #26","rarity":""}],"artist":"Atsushi Furusawa","crafting_cost":"Unknown"},{"id":"10","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_010_EN.webp","hp":"120","name":"Mewtwo","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless","Colorless"],"name":"Power Blast","damage":"120","effect":"Discard 2 [P] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"2","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #128","rarity":""},{"version":"Promo-A #10","rarity":""}],"artist":"Krgc","crafting_cost":"Unknown"},{"id":"11","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_011_EN.webp","hp":"120","name":"Chansey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Gentle Slap","damage":"60","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #202","rarity":""},{"version":"Promo-A #11","rarity":""}],"artist":"sowsow","crafting_cost":"Unknown"},{"id":"12","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_012_EN.webp","hp":"60","name":"Meowth","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Pay Day","damage":"10","effect":"Draw 1 card."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #196","rarity":""},{"version":"Genetic Apex #246","rarity":""},{"version":"Promo-A #12","rarity":""}],"artist":"Shigenori Negishi","crafting_cost":"Unknown"},{"id":"13","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_013_EN.webp","hp":"120","name":"Butterfree","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Colorless","Colorless"],"name":"Gust","damage":"60","effect":"No effect"}],"ability":{"name":"Powder Heal","effect":"Once during your turn, you may heal 20 damage from each of your Pokmon."},"weakness":"Fire","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #7","rarity":""},{"version":"Promo-A #13","rarity":""}],"artist":"miki kudo","crafting_cost":"Unknown"},{"id":"14","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_014_EN.webp","hp":"140","name":"Lapras ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water","Water","Colorless"],"name":"Bubble Drain","damage":"80","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #14","rarity":""}],"artist":"PLANETA CG Works","crafting_cost":"Unknown"},{"id":"15","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_015_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #94","rarity":""},{"version":"Promo-A #9","rarity":""},{"version":"Promo-A #15","rarity":""},{"version":"Promo-A #26","rarity":""}],"artist":"Kouki Saitou","crafting_cost":"Unknown"},{"id":"16","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_016_EN.webp","hp":"60","name":"Clefairy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Slap","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #113","rarity":""},{"version":"Promo-A #16","rarity":""}],"artist":"Shibuzoh.","crafting_cost":"Unknown"},{"id":"17","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_017_EN.webp","hp":"60","name":"Mankey","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Reckless Charge","damage":"30","effect":"This Pokmon also does 10 damage to itself."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Psychic","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #17","rarity":""}],"artist":"Souichirou Gunjima","crafting_cost":"Unknown"},{"id":"18","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_018_EN.webp","hp":"160","name":"Venusaur","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Grass","Grass","Colorless","Colorless"],"name":"Mega Drain","damage":"80","effect":"Heal 30 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"3","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #3","rarity":""},{"version":"Promo-A #18","rarity":""}],"artist":"Kuroimori","crafting_cost":"Unknown"},{"id":"19","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_019_EN.webp","hp":"120","name":"Greninja","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Colorless"],"name":"Mist Slash","damage":"60","effect":"No effect"}],"ability":{"name":"Water Shuriken","effect":"Once during your turn, you may do 20 damage to 1 of your opponent's Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #89","rarity":""},{"version":"Promo-A #19","rarity":""}],"artist":"Sanosuke Sakuma","crafting_cost":"Unknown"},{"id":"20","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_020_EN.webp","hp":"70","name":"Haunter","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Psychic"],"name":"Surprise Attack","damage":"50","effect":"Flip a coin. If tails, this attack does nothing."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #20","rarity":""}],"artist":"Mkayu","crafting_cost":"Unknown"},{"id":"21","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_021_EN.webp","hp":"110","name":"Onix","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting","Fighting","Fighting"],"name":"Land Crush","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"4","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #150","rarity":""},{"version":"Promo-A #21","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":"Unknown"},{"id":"22","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_022_EN.webp","hp":"60","name":"Jigglypuff","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Sing","effect":"Your opponent's Active Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #22","rarity":""}],"artist":"Kurata So","crafting_cost":"Unknown"},{"id":"23","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_023_EN.webp","hp":"70","name":"Bulbasaur","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Vine Whip","damage":"40","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #1","rarity":""},{"version":"Genetic Apex #227","rarity":""},{"version":"Promo-A #23","rarity":""}],"artist":"Kouki Saitou","crafting_cost":"Unknown"},{"id":"24","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_024_EN.webp","hp":"60","name":"Magnemite","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Lightning Ball","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #97","rarity":""},{"version":"Promo-A #24","rarity":""}],"artist":"Miki Tanaka","crafting_cost":"Unknown"},{"id":"25","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_025_EN.webp","hp":"140","name":"Moltres ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Inferno","damage":"Dance","effect":"Flip 3 coins. Take an amount of [R] Energy from your Energy Zone equal to the number of heads and attach it to your Benched [R] Pokmon in any way you like."},{"cost":["Fire","Colorless","Colorless"],"name":"Heat Blast","damage":"70","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"2","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #47","rarity":""},{"version":"Genetic Apex #255","rarity":""},{"version":"Genetic Apex #274","rarity":""},{"version":"Promo-A #25","rarity":""}],"artist":"PLANETA Igarashi","crafting_cost":"Unknown"},{"id":"26","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_026_EN.webp","hp":"60","name":"Pikachu","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Lightning"],"name":"Gnaw","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #94","rarity":""},{"version":"Promo-A #9","rarity":""},{"version":"Promo-A #15","rarity":""},{"version":"Promo-A #26","rarity":""}],"artist":"Kouki Saitou","crafting_cost":"Unknown"},{"id":"27","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_027_EN.webp","hp":"60","name":"Snivy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #27","rarity":""}],"artist":"Yoriyuki Ikegami","crafting_cost":"Unknown"},{"id":"28","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_028_EN.webp","hp":"120","name":"Volcarona","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Fire","Fire","Colorless"],"name":"Volcanic","damage":"Ash","effect":"Discard 2 [R] Energy from this Pokmon. This attack does 80 damage to 1 of your opponent's Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"2","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Mythical Island #14","rarity":""},{"version":"Promo-A #28","rarity":""}],"artist":"Shin Nagasawa","crafting_cost":"Unknown"},{"id":"29","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_029_EN.webp","hp":"150","name":"Blastoise","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Water","Water","Colorless"],"name":"Hydro Pump","damage":"80+","effect":"If this Pokmon has at least 2 extra [W] Energy attached, this attack does 60 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"3","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #55","rarity":""},{"version":"Promo-A #29","rarity":""}],"artist":"danciao","crafting_cost":"Unknown"},{"id":"30","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_030_EN.webp","hp":"60","name":"Eevee","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Growl","effect":"During your opponent's next turn, attacks used by the Defending Pokmon do 20 damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #30","rarity":""}],"artist":"En Morikura","crafting_cost":"Unknown"},{"id":"31","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_031_EN.webp","hp":"90","name":"Cinccino","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Do the Wave","damage":"30x","effect":"This attack does 30 damage for each of your Benched Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #213","rarity":""},{"version":"Promo-A #31","rarity":""}],"artist":"MAHOU","crafting_cost":"Unknown"},{"id":"32","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_032_EN.webp","hp":"60","name":"Charmander","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Ember","damage":"30","effect":"Discard a [R] Energy from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #33","rarity":""},{"version":"Genetic Apex #230","rarity":""},{"version":"Promo-A #32","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":"Unknown"},{"id":"33","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_033_EN.webp","hp":"60","name":"Squirtle","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Water Gun","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Genetic Apex #53","rarity":""},{"version":"Genetic Apex #232","rarity":""},{"version":"Promo-A #33","rarity":""}],"artist":"Kanako Eo","crafting_cost":"Unknown"},{"id":"34","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_034_EN.webp","hp":"60","name":"Piplup","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless"],"name":"Unknown","damage":"Nap","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #35","rarity":""},{"version":"Promo-A #34","rarity":""}],"artist":"Kariya","crafting_cost":"Unknown"},{"id":"35","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_035_EN.webp","hp":"80","name":"Turtwig","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Grass","Colorless"],"name":"Bite","damage":"30","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"2","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #10","rarity":""},{"version":"Promo-A #35","rarity":""}],"artist":"Atsuko Nishida","crafting_cost":"Unknown"},{"id":"36","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_036_EN.webp","hp":"120","name":"Electivire","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Exciting Voltage","damage":"40+","effect":"If this Pokmon has at least 2 extra [L] Energy attached, this attack does 80 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"3","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #57","rarity":""},{"version":"Promo-A #36","rarity":""}],"artist":"Sumiyoshi Kizuki","crafting_cost":"Unknown"},{"id":"37","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_037_EN.webp","hp":"140","name":"Cresselia ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic","Psychic","Colorless"],"name":"Psychic Flash","damage":"80","effect":"No effect"}],"ability":{"name":"Lunar Plumage","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, heal 20 damage from this Pokmon."},"weakness":"Darkness","retreat":"2","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #37","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":"Unknown"},{"id":"38","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_038_EN.webp","hp":"60","name":"Misdreavus","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Confuse","damage":"Ray","effect":"Your opponent's Active Pokmon is now Confused."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Darkness","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #38","rarity":""}],"artist":"Miki Tanaka","crafting_cost":"Unknown"},{"id":"39","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_039_EN.webp","hp":"80","name":"Skarmory","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Metal"],"name":"Metal Arms","damage":"20+","effect":"If this Pokmon has a Pokmon Tool attached, this attack does 30 more damage."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #111","rarity":""},{"version":"Promo-A #39","rarity":""}],"artist":"Anesaki Dynamic","crafting_cost":"Unknown"},{"id":"40","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_040_EN.webp","hp":"60","name":"Chimchar","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fire"],"name":"Scratch","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Water","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #27","rarity":""},{"version":"Promo-A #40","rarity":""}],"artist":"sui","crafting_cost":"Unknown"},{"id":"41","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_041_EN.webp","hp":"50","name":"Togepi","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Psychic"],"name":"Pound","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Metal","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #63","rarity":""},{"version":"Promo-A #41","rarity":""}],"artist":"Naoyo Kimura","crafting_cost":"Unknown"},{"id":"42","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_042_EN.webp","hp":"140","name":"Darkrai ex","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Darkness","Darkness","Colorless"],"name":"Dark Prism","damage":"80","effect":"No effect"}],"ability":{"name":"Nightmare Aura","effect":"Whenever you attach a  Energy from your Energy Zone to this Pokmon, do 20 damage to your opponent's Active Pokmon."},"weakness":"Grass","retreat":"2","rarity":"Unknown","fullart":"No","ex":"Yes","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #110","rarity":""},{"version":"Space-Time Smackdown #187","rarity":""},{"version":"Space-Time Smackdown #202","rarity":""},{"version":"Promo-A #42","rarity":""}],"artist":"PLANETA Mochizuki","crafting_cost":"Unknown"},{"id":"43","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_043_EN.webp","hp":"80","name":"Cherrim","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Grass","Grass"],"name":"Leech Seed","damage":"60","effect":"Heal 20 damage from this Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fire","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Triumphant Light #8","rarity":""},{"version":"Promo-A #43","rarity":""}],"artist":"MAHOU","crafting_cost":"Unknown"},{"id":"44","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_044_EN.webp","hp":"90","name":"Raichu","card_type":"Pokmon","evolution_type":"Stage 1","attacks":[{"cost":["Lightning","Lightning"],"name":"Spark","damage":"40","effect":"This attack also does 20 damage to 1 of your opponent's Benched Pokmon."}],"ability":{"name":"Resilience Link","effect":"If you have Arceus or Arceus ex in play, this Pokmon takes 30 damage from attacks."},"weakness":"Fighting","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Triumphant Light #26","rarity":""},{"version":"Promo-A #44","rarity":""}],"artist":"Kazumasa Yasukuni","crafting_cost":"Unknown"},{"id":"45","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_045_EN.webp","hp":"60","name":"Nosepass","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless"],"name":"Iron","damage":"Defense","effect":"Flip a coin. If heads, during your opponent's next turn, prevent all damage done to this Pokmon by attacks."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #45","rarity":""}],"artist":"Tomokazu Komiya","crafting_cost":"Unknown"},{"id":"46","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_046_EN.webp","hp":"60","name":"Gible","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Fighting"],"name":"Tackle","damage":"20","effect":"No effect"}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Grass","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Triumphant Light #45","rarity":""},{"version":"Promo-A #46","rarity":""}],"artist":"Uninori","crafting_cost":"Unknown"},{"id":"47","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_047_EN.webp","hp":"140","name":"Staraptor","card_type":"Pokmon","evolution_type":"Stage 2","attacks":[{"cost":["Colorless","Colorless","Colorless"],"name":"Wing Attack","damage":"90","effect":"No effect"}],"ability":{"name":"Defensive Whirlwind","effect":"This Pokmon takes 30 damage from attacks from  Pokmon."},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Promo-A #47","rarity":""}],"artist":"Hasuno","crafting_cost":"Unknown"},{"id":"48","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_048_EN.webp","hp":"50","name":"Manaphy","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Water"],"name":"Oceanic","damage":"Gift","effect":"Choose 2 of your Benched Pokmon. For each of those Pokmon, take a [W] Energy from your Energy Zone and attach it to that Pokmon."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Lightning","retreat":"1","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Space-Time Smackdown #50","rarity":""},{"version":"Space-Time Smackdown #162","rarity":""},{"version":"Promo-A #48","rarity":""}],"artist":"sui","crafting_cost":"Unknown"},{"id":"49","image":"https://limitlesstcg.nyc3.cdn.digitaloceanspaces.com/pocket/P-A/P-A_049_EN.webp","hp":"140","name":"Snorlax","card_type":"Pokmon","evolution_type":"Basic","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Collapse","damage":"100","effect":"This Pokmon is now Asleep."}],"ability":{"name":"No ability","effect":"N/A"},"weakness":"Fighting","retreat":"4","rarity":"Unknown","fullart":"No","ex":"No","set_details":"Promo-A","pack":"Every pack","alternate_versions":[{"version":"Triumphant Light #63","rarity":""},{"version":"Promo-A #49","rarity":""}],"artist":"okayamatakatoshi","crafting_cost":"Unknown"}]`),ty=(t,e)=>{for(const n of t)n.card_id=n.linkedCardID||`${e}-${n.id}`,n.expansion=e;return t},s6=ty(Zte,"A1"),i6=ty(Qte,"A1a"),o6=ty(Jte,"A2"),c6=ty(ene,"A2a"),l6=ty(tne,"P-A"),uh=[...s6,...i6,...o6,...c6,...l6],nne=t=>uh.find(e=>e.card_id===t),OVe=[{name:"Genetic Apex",id:"A1",cards:s6,packs:[{name:"Mewtwo pack",color:"#986C88"},{name:"Charizard pack",color:"#E2711B"},{name:"Pikachu pack",color:"#EDC12A"},{name:"Every pack",color:"#CCCCCC"}],tradeable:!0},{name:"Mythical Island",id:"A1a",cards:i6,packs:[{name:"Mew pack",color:"#FFC1EA"}],tradeable:!0},{name:"Space-Time Smackdown",id:"A2",cards:o6,packs:[{name:"Dialga pack",color:"#A0C5E8"},{name:"Palkia pack",color:"#D5A6BD"},{name:"Every pack",color:"#CCCCCC"}],tradeable:!0},{name:"Triumphant Light",id:"A2a",cards:c6,packs:[{name:"Arceus pack",color:"#E4D7CA"}],tradeable:!1},{name:"Promo-A",id:"P-A",cards:l6,packs:[{name:"Every pack",color:"#CCCCCC"}],tradeable:!1,promo:!0}],$Ve={"":0,"":0,"":120,"":500,"":500},ane={"":25,"":125,"":100,"":300,"":300,"Crown Rare":1500},LVe=({ownedCards:t,rarityFilter:e,numberFilter:n,expansion:a,packName:r})=>{let s=t.filter(i=>i.amount_owned>n-1).map(i=>{var o;return{...i,rarity:((o=uh.find(c=>c.card_id===i.card_id))==null?void 0:o.rarity)||""}});return e.length>0&&(s=s.filter(i=>e.includes(i.rarity))),a?s.filter(i=>r?a.cards.find(o=>o.pack===r&&o.card_id===i.card_id):a.cards.find(o=>o.card_id===i.card_id)).length:s.length},MVe=({rarityFilter:t,expansion:e,packName:n})=>{let a=[...uh].filter(r=>!r.linkedCardID);return e&&(a=e.cards),n&&(a=a.filter(r=>r.pack===n)),t.length>0&&(a=a.filter(r=>t.includes(r.rarity))),a.length},rne={"":100,"":0,"":0,"":0,"":0,"":0,"":0,"Crown Rare":0},sne={"":0,"":90,"":5,"":1.666,"":2.572,"":.5,"":.222,"Crown Rare":.04},ine={"":0,"":60,"":20,"":6.664,"":10.288,"":2,"":.888,"Crown Rare":.16},BVe=({ownedCards:t,expansion:e,pack:n,rarityFilter:a=[],numberFilter:r=1})=>{if(t.length===0)return 1;const s=e.cards.filter(d=>d.pack===n.name||d.pack==="Every pack");let i=s.filter(d=>!t.find(h=>h.card_id===d.card_id&&h.amount_owned>r-1));a.length>0&&(i=i.filter(d=>a.includes(d.rarity)));let o=0,c=0,l=0;for(const d of i){const h=d.rarity,m=s.filter(k=>k.rarity===h).length,y=rne[h]/100/m,v=sne[h]/100/m,x=ine[h]/100/m;o+=y,c+=v,l+=x}return 1-(1-o)**3*(1-c)*(1-l)};function one({cardId:t,onClose:e}){var a,r;const n=nne(t)||{};return L.jsx(t6,{open:!!t,onOpenChange:s=>{s||e()},children:L.jsxs($E,{className:"transition-all duration-300 ease-in-out border-slate-600 overflow-y-auto",children:[L.jsx(a6,{children:L.jsxs(r6,{children:[n.name," ",n.rarity]})}),L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("div",{className:"px-10 py-4 w-full",children:L.jsx(See,{card:n,useMaxWidth:!0})}),L.jsxs("div",{className:"p-4 w-full",children:[L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Trade tokens:"})," ",ane[n.rarity]||"N/A"]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"HP:"})," ",n.hp]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Card Type:"})," ",n.card_type]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Evolution Type:"})," ",n.evolution_type]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"EX:"})," ",n.ex]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Crafting Cost:"})," ",n.crafting_cost]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Artist:"})," ",n.artist]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Set Details:"})," ",n.set_details]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Expansion:"})," ",n.expansion]}),L.jsxs("p",{className:"text-lg mb-1",children:[L.jsx("strong",{children:"Pack:"})," ",n.pack]}),L.jsxs("div",{className:"mt-4",children:[L.jsx("h2",{className:"text-xl font-semibold",children:"Details"}),L.jsxs("p",{children:[L.jsx("strong",{children:"Weakness:"})," ",n.weakness||"N/A"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Retreat:"})," ",n.retreat||"N/A"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Ability:"})," ",((a=n.ability)==null?void 0:a.name)||"No ability"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Ability Effect:"})," ",((r=n.ability)==null?void 0:r.effect)||"N/A"]})]})]})]})]})})}function NO(t,e){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},C0.apply(null,arguments)}function SO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DS(t,e)}function cne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,DS(t,e)}var yN={exports:{}},Hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TO;function lne(){if(TO)return Hn;TO=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,a=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,l=t?Symbol.for("react.concurrent_mode"):60111,u=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,m=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,k=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function _(S){if(typeof S=="object"&&S!==null){var C=S.$$typeof;switch(C){case e:switch(S=S.type,S){case c:case l:case a:case s:case r:case d:return S;default:switch(S=S&&S.$$typeof,S){case o:case u:case y:case m:case i:return S;default:return C}}case n:return C}}}function A(S){return _(S)===l}return Hn.AsyncMode=c,Hn.ConcurrentMode=l,Hn.ContextConsumer=o,Hn.ContextProvider=i,Hn.Element=e,Hn.ForwardRef=u,Hn.Fragment=a,Hn.Lazy=y,Hn.Memo=m,Hn.Portal=n,Hn.Profiler=s,Hn.StrictMode=r,Hn.Suspense=d,Hn.isAsyncMode=function(S){return A(S)||_(S)===c},Hn.isConcurrentMode=A,Hn.isContextConsumer=function(S){return _(S)===o},Hn.isContextProvider=function(S){return _(S)===i},Hn.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},Hn.isForwardRef=function(S){return _(S)===u},Hn.isFragment=function(S){return _(S)===a},Hn.isLazy=function(S){return _(S)===y},Hn.isMemo=function(S){return _(S)===m},Hn.isPortal=function(S){return _(S)===n},Hn.isProfiler=function(S){return _(S)===s},Hn.isStrictMode=function(S){return _(S)===r},Hn.isSuspense=function(S){return _(S)===d},Hn.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===a||S===l||S===s||S===r||S===d||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===y||S.$$typeof===m||S.$$typeof===i||S.$$typeof===o||S.$$typeof===u||S.$$typeof===x||S.$$typeof===k||S.$$typeof===b||S.$$typeof===v)},Hn.typeOf=_,Hn}var EO;function une(){return EO||(EO=1,yN.exports=lne()),yN.exports}var xN,CO;function fne(){if(CO)return xN;CO=1;var t=une(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=a,s[t.Memo]=r;function i(y){return t.isMemo(y)?r:s[y.$$typeof]||e}var o=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;function m(y,v,x){if(typeof v!="string"){if(h){var k=d(v);k&&k!==h&&m(y,k,x)}var b=c(v);l&&(b=b.concat(l(v)));for(var _=i(y),A=i(v),S=0;S<b.length;++S){var C=b[S];if(!n[C]&&!(x&&x[C])&&!(A&&A[C])&&!(_&&_[C])){var E=u(v,C);try{o(y,C,E)}catch{}}}}return y}return xN=m,xN}var dne=fne();const pne=Fh(dne);function hne(t,e){if(!t){var n=new Error("loadable: "+e);throw n.framesToPop=1,n.name="Invariant Violation",n}}var mne=ns.createContext(),gne={initialChunks:{}},IO="PENDING",yne="RESOLVED",vN="REJECTED";function xne(t){return typeof t=="function"?{requireAsync:t,resolve:function(){},chunkName:function(){}}:t}var vne=function(e){var n=function(r){return ns.createElement(mne.Consumer,null,function(s){return ns.createElement(e,Object.assign({__chunkExtractor:s},r))})};return e.displayName&&(n.displayName=e.displayName+"WithChunkExtractor"),n},kne=function(e){return e};function u6(t){var e=t.defaultResolveComponent,n=e===void 0?kne:e,a=t.render,r=t.onLoad;function s(o,c){c===void 0&&(c={});var l=xne(o),u={};function d(k){return c.cacheKey?c.cacheKey(k):l.resolve?l.resolve(k):"static"}function h(k,b,_){var A=c.resolveComponent?c.resolveComponent(k,b):n(k);return pne(_,A,{preload:!0}),A}var m=function(b){var _=d(b),A=u[_];return(!A||A.status===vN)&&(A=l.requireAsync(b),A.status=IO,u[_]=A,A.then(function(){A.status=yne},function(S){console.error("loadable-components: failed to asynchronously load component",{fileName:l.resolve(b),chunkName:l.chunkName(b),error:S&&S.message}),A.status=vN})),A},y=function(k){cne(b,k),b.getDerivedStateFromProps=function(S,C){var E=d(S);return C0({},C,{cacheKey:E,loading:C.loading||C.cacheKey!==E})};function b(A){var S;return S=k.call(this,A)||this,S.state={result:null,error:null,loading:!0,cacheKey:d(A)},hne(!A.__chunkExtractor||l.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),A.__chunkExtractor?(c.ssr===!1||(l.requireAsync(A).catch(function(){return null}),S.loadSync(),A.__chunkExtractor.addChunk(l.chunkName(A))),SO(S)):(c.ssr!==!1&&(l.isReady&&l.isReady(A)||l.chunkName&&gne.initialChunks[l.chunkName(A)])&&S.loadSync(),S)}var _=b.prototype;return _.componentDidMount=function(){this.mounted=!0;var S=this.getCache();S&&S.status===vN&&this.setCache(),this.state.loading&&this.loadAsync()},_.componentDidUpdate=function(S,C){C.cacheKey!==this.state.cacheKey&&this.loadAsync()},_.componentWillUnmount=function(){this.mounted=!1},_.safeSetState=function(S,C){this.mounted&&this.setState(S,C)},_.getCacheKey=function(){return d(this.props)},_.getCache=function(){return u[this.getCacheKey()]},_.setCache=function(S){S===void 0&&(S=void 0),u[this.getCacheKey()]=S},_.triggerOnLoad=function(){var S=this;r&&setTimeout(function(){r(S.state.result,S.props)})},_.loadSync=function(){if(this.state.loading)try{var S=l.requireSync(this.props),C=h(S,this.props,x);this.state.result=C,this.state.loading=!1}catch(E){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:l.resolve(this.props),chunkName:l.chunkName(this.props),error:E&&E.message}),this.state.error=E}},_.loadAsync=function(){var S=this,C=this.resolveAsync();return C.then(function(E){var D=h(E,S.props,x);S.safeSetState({result:D,loading:!1},function(){return S.triggerOnLoad()})}).catch(function(E){return S.safeSetState({error:E,loading:!1})}),C},_.resolveAsync=function(){var S=this.props;S.__chunkExtractor,S.forwardedRef;var C=NO(S,["__chunkExtractor","forwardedRef"]);return m(C)},_.render=function(){var S=this.props,C=S.forwardedRef,E=S.fallback;S.__chunkExtractor;var D=NO(S,["forwardedRef","fallback","__chunkExtractor"]),I=this.state,P=I.error,R=I.loading,B=I.result;if(c.suspense){var U=this.getCache()||this.loadAsync();if(U.status===IO)throw this.loadAsync()}if(P)throw P;var V=E||c.fallback||null;return R?V:a({fallback:V,result:B,options:c,props:C0({},D,{ref:C})})},b}(ns.Component),v=vne(y),x=ns.forwardRef(function(k,b){return ns.createElement(v,Object.assign({forwardedRef:b},k))});return x.displayName="Loadable",x.preload=function(k){x.load(k)},x.load=function(k){return m(k)},x}function i(o,c){return s(o,C0({},c,{suspense:!0}))}return{loadable:s,lazy:i}}function wne(t){return t.__esModule?t.default:t.default||t}var f6=u6({defaultResolveComponent:wne,render:function(e){var n=e.result,a=e.props;return ns.createElement(n,a)}}),bne=f6.loadable,_ne=f6.lazy,d6=u6({onLoad:function(e,n){e&&n.forwardedRef&&(typeof n.forwardedRef=="function"?n.forwardedRef(e):n.forwardedRef.current=e)},render:function(e){var n=e.result,a=e.props;return a.children?a.children(n):null}}),Ane=d6.loadable,Nne=d6.lazy,ny=bne;ny.lib=Ane;var Sne=_ne;Sne.lib=Nne;const Tne=F.createContext(null),kN={didCatch:!1,error:null};class Ene extends F.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=kN}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,a,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];(n=(a=this.props).onReset)===null||n===void 0||n.call(a,{args:s,reason:"imperative-api"}),this.setState(kN)}}componentDidCatch(e,n){var a,r;(a=(r=this.props).onError)===null||a===void 0||a.call(r,e,n)}componentDidUpdate(e,n){const{didCatch:a}=this.state,{resetKeys:r}=this.props;if(a&&n.error!==null&&Cne(e.resetKeys,r)){var s,i;(s=(i=this.props).onReset)===null||s===void 0||s.call(i,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(kN)}}render(){const{children:e,fallbackRender:n,FallbackComponent:a,fallback:r}=this.props,{didCatch:s,error:i}=this.state;let o=e;if(s){const c={error:i,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")o=n(c);else if(a)o=F.createElement(a,c);else if(r!==void 0)o=r;else throw i}return F.createElement(Tne.Provider,{value:{didCatch:s,error:i,resetErrorBoundary:this.resetErrorBoundary}},o)}}function Cne(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,a)=>!Object.is(n,e[a]))}const Ine=[{title:"overview",href:"/"},{title:"collection",href:"/collection"},{title:"trade",href:"/trade"},{title:"community",href:"https://community.tcgpocketcollectiontracker.com"}],Dne=({item:t,setOpen:e})=>{const{t:n}=Hg("hamburguer-menu");return L.jsx(Rf,{to:t.href,className:ln("block py-2 text-lg font-medium transition-colors hover:text-primary",t.href==="/"&&"text-primary"),onClick:()=>{e(!1)},children:n(t.title)})};function Rne(){const{t}=Hg("hamburguer-menu"),[e,n]=F.useState(!1),{user:a,setUser:r,setIsLoginDialogOpen:s,setIsProfileDialogOpen:i}=F.use(vl);return L.jsxs(t6,{open:e,onOpenChange:n,children:[L.jsx(Kte,{asChild:!0,children:L.jsxs(ia,{variant:"ghost",size:"icon",className:"sm:hidden",children:[L.jsx(wee,{className:"h-5 w-5"}),L.jsx("span",{className:"sr-only",children:t("toggle")})]})}),L.jsxs($E,{side:"left",className:"flex flex-col w-[240px] sm:w-[300px]",children:[L.jsx("nav",{className:"flex flex-col space-y-4 grow-1",children:Ine.map(o=>L.jsx(Dne,{item:o,setOpen:n},o.title))}),L.jsxs(ia,{variant:"secondary",onClick:()=>{i(!0),n(!1)},children:[t("editProfile"),L.jsx(vB,{})]}),a?L.jsxs(ia,{variant:"default",onClick:async()=>{await mB(),r(null),n(!1)},children:[t("logOut"),L.jsx(yB,{})]}):L.jsx(ia,{variant:"default",onClick:()=>{s(!0),n(!1)},children:t("login")})]})]})}var $n;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const s={};for(const i of r)s[i]=i;return s},t.getValidEnumValues=r=>{const s=t.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),i={};for(const o of s)i[o]=r[o];return t.objectValues(i)},t.objectValues=r=>t.objectKeys(r).map(function(s){return r[s]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&s.push(i);return s},t.find=(r,s)=>{for(const i of r)if(s(i))return i},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function a(r,s=" | "){return r.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}t.joinValues=a,t.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})($n||($n={}));var RS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(RS||(RS={}));const gt=$n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hc=t=>{switch(typeof t){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return isNaN(t)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(t)?gt.array:t===null?gt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?gt.promise:typeof Map<"u"&&t instanceof Map?gt.map:typeof Set<"u"&&t instanceof Set?gt.set:typeof Date<"u"&&t instanceof Date?gt.date:gt.object;default:return gt.unknown}},nt=$n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Pne=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ci extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},a={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(r);else if(i.code==="invalid_return_type")r(i.returnTypeError);else if(i.code==="invalid_arguments")r(i.argumentsError);else if(i.path.length===0)a._errors.push(n(i));else{let o=a,c=0;for(;c<i.path.length;){const l=i.path[c];c===i.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(n(i))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return r(this),a}static assert(e){if(!(e instanceof ci))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,$n.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},a=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):a.push(e(r));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}ci.create=t=>new ci(t);const fh=(t,e)=>{let n;switch(t.code){case nt.invalid_type:t.received===gt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case nt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,$n.jsonStringifyReplacer)}`;break;case nt.unrecognized_keys:n=`Unrecognized key(s) in object: ${$n.joinValues(t.keys,", ")}`;break;case nt.invalid_union:n="Invalid input";break;case nt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${$n.joinValues(t.options)}`;break;case nt.invalid_enum_value:n=`Invalid enum value. Expected ${$n.joinValues(t.options)}, received '${t.received}'`;break;case nt.invalid_arguments:n="Invalid function arguments";break;case nt.invalid_return_type:n="Invalid function return type";break;case nt.invalid_date:n="Invalid date";break;case nt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:$n.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case nt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case nt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case nt.custom:n="Invalid input";break;case nt.invalid_intersection_types:n="Intersection results could not be merged";break;case nt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case nt.not_finite:n="Number must be finite";break;default:n=e.defaultError,$n.assertNever(t)}return{message:n}};let p6=fh;function Fne(t){p6=t}function ck(){return p6}const lk=t=>{const{data:e,path:n,errorMaps:a,issueData:r}=t,s=[...n,...r.path||[]],i={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let o="";const c=a.filter(l=>!!l).slice().reverse();for(const l of c)o=l(i,{data:e,defaultError:o}).message;return{...r,path:s,message:o}},One=[];function ft(t,e){const n=ck(),a=lk({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===fh?void 0:fh].filter(r=>!!r)});t.common.issues.push(a)}class hs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const a=[];for(const r of n){if(r.status==="aborted")return jt;r.status==="dirty"&&e.dirty(),a.push(r.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,n){const a=[];for(const r of n){const s=await r.key,i=await r.value;a.push({key:s,value:i})}return hs.mergeObjectSync(e,a)}static mergeObjectSync(e,n){const a={};for(const r of n){const{key:s,value:i}=r;if(s.status==="aborted"||i.status==="aborted")return jt;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||r.alwaysSet)&&(a[s.value]=i.value)}return{status:e.value,value:a}}}const jt=Object.freeze({status:"aborted"}),Hp=t=>({status:"dirty",value:t}),Is=t=>({status:"valid",value:t}),PS=t=>t.status==="aborted",FS=t=>t.status==="dirty",qf=t=>t.status==="valid",Z0=t=>typeof Promise<"u"&&t instanceof Promise;function uk(t,e,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function h6(t,e,n,a,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Tt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Tt||(Tt={}));var g0,y0;class dc{constructor(e,n,a,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=a,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const DO=(t,e)=>{if(qf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ci(t.common.issues);return this._error=n,this._error}}};function on(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:a,description:r}=t;if(e&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(i,o)=>{var c,l;const{message:u}=t;return i.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??a)!==null&&c!==void 0?c:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:o.defaultError}},description:r}}class gn{get description(){return this._def.description}_getType(e){return Hc(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Hc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new hs,ctx:{common:e.parent.common,data:e.data,parsedType:Hc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Z0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const a=this.safeParse(e,n);if(a.success)return a.data;throw a.error}safeParse(e,n){var a;const r={common:{issues:[],async:(a=n==null?void 0:n.async)!==null&&a!==void 0?a:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hc(e)},s=this._parseSync({data:e,path:r.path,parent:r});return DO(r,s)}"~validate"(e){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hc(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return qf(s)?{value:s.value}:{issues:r.common.issues}}catch(s){!((a=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>qf(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,n){const a=await this.safeParseAsync(e,n);if(a.success)return a.data;throw a.error}async safeParseAsync(e,n){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hc(e)},r=this._parse({data:e,path:a.path,parent:a}),s=await(Z0(r)?r:Promise.resolve(r));return DO(a,s)}refine(e,n){const a=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,s)=>{const i=e(r),o=()=>s.addIssue({code:nt.custom,...a(r)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,n){return this._refinement((a,r)=>e(a)?!0:(r.addIssue(typeof n=="function"?n(a,r):n),!1))}_refinement(e){return new So({schema:this,typeName:Wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return rc.create(this,this._def)}nullable(){return du.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vo.create(this)}promise(){return ph.create(this,this._def)}or(e){return tg.create([this,e],this._def)}and(e){return ng.create(this,e,this._def)}transform(e){return new So({...on(this._def),schema:this,typeName:Wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new og({...on(this._def),innerType:this,defaultValue:n,typeName:Wt.ZodDefault})}brand(){return new LE({typeName:Wt.ZodBranded,type:this,...on(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new cg({...on(this._def),innerType:this,catchValue:n,typeName:Wt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ay.create(this,e)}readonly(){return lg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $ne=/^c[^\s-]{8,}$/i,Lne=/^[0-9a-z]+$/,Mne=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Bne=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zne=/^[a-z0-9_-]{21}$/i,Gne=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Une=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Wne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vne="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wN;const jne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Hne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Kne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xne=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Yne=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,m6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zne=new RegExp(`^${m6}$`);function g6(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Qne(t){return new RegExp(`^${g6(t)}$`)}function y6(t){let e=`${m6}T${g6(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Jne(t,e){return!!((e==="v4"||!e)&&jne.test(t)||(e==="v6"||!e)&&Kne.test(t))}function eae(t,e){if(!Gne.test(t))return!1;try{const[n]=t.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(a));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function tae(t,e){return!!((e==="v4"||!e)&&Hne.test(t)||(e==="v6"||!e)&&qne.test(t))}class yo extends gn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==gt.string){const s=this._getOrReturnCtx(e);return ft(s,{code:nt.invalid_type,expected:gt.string,received:s.parsedType}),jt}const a=new hs;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="length"){const i=e.data.length>s.value,o=e.data.length<s.value;(i||o)&&(r=this._getOrReturnCtx(e,r),i?ft(r,{code:nt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&ft(r,{code:nt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if(s.kind==="email")Wne.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"email",code:nt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="emoji")wN||(wN=new RegExp(Vne,"u")),wN.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"emoji",code:nt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="uuid")Bne.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"uuid",code:nt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="nanoid")zne.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"nanoid",code:nt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid")$ne.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"cuid",code:nt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid2")Lne.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"cuid2",code:nt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="ulid")Mne.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"ulid",code:nt.invalid_string,message:s.message}),a.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),ft(r,{validation:"url",code:nt.invalid_string,message:s.message}),a.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"regex",code:nt.invalid_string,message:s.message}),a.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty()):s.kind==="datetime"?y6(s).test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.invalid_string,validation:"datetime",message:s.message}),a.dirty()):s.kind==="date"?Zne.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.invalid_string,validation:"date",message:s.message}),a.dirty()):s.kind==="time"?Qne(s).test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.invalid_string,validation:"time",message:s.message}),a.dirty()):s.kind==="duration"?Une.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"duration",code:nt.invalid_string,message:s.message}),a.dirty()):s.kind==="ip"?Jne(e.data,s.version)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"ip",code:nt.invalid_string,message:s.message}),a.dirty()):s.kind==="jwt"?eae(e.data,s.alg)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"jwt",code:nt.invalid_string,message:s.message}),a.dirty()):s.kind==="cidr"?tae(e.data,s.version)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"cidr",code:nt.invalid_string,message:s.message}),a.dirty()):s.kind==="base64"?Xne.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"base64",code:nt.invalid_string,message:s.message}),a.dirty()):s.kind==="base64url"?Yne.test(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{validation:"base64url",code:nt.invalid_string,message:s.message}),a.dirty()):$n.assertNever(s);return{status:a.value,value:e.data}}_regex(e,n,a){return this.refinement(r=>e.test(r),{validation:n,code:nt.invalid_string,...Tt.errToObj(a)})}_addCheck(e){return new yo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Tt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Tt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Tt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Tt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Tt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Tt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Tt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Tt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Tt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Tt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Tt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Tt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Tt.errToObj(e)})}datetime(e){var n,a;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(a=e==null?void 0:e.local)!==null&&a!==void 0?a:!1,...Tt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Tt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Tt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Tt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Tt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Tt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Tt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Tt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Tt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Tt.errToObj(n)})}nonempty(e){return this.min(1,Tt.errToObj(e))}trim(){return new yo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yo.create=t=>{var e;return new yo({checks:[],typeName:Wt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...on(t)})};function nae(t,e){const n=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,r=n>a?n:a,s=parseInt(t.toFixed(r).replace(".","")),i=parseInt(e.toFixed(r).replace(".",""));return s%i/Math.pow(10,r)}class lu extends gn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==gt.number){const s=this._getOrReturnCtx(e);return ft(s,{code:nt.invalid_type,expected:gt.number,received:s.parsedType}),jt}let a;const r=new hs;for(const s of this._def.checks)s.kind==="int"?$n.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),ft(a,{code:nt.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(a=this._getOrReturnCtx(e,a),ft(a,{code:nt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(a=this._getOrReturnCtx(e,a),ft(a,{code:nt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?nae(e.data,s.value)!==0&&(a=this._getOrReturnCtx(e,a),ft(a,{code:nt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),ft(a,{code:nt.not_finite,message:s.message}),r.dirty()):$n.assertNever(s);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Tt.toString(n))}setLimit(e,n,a,r){return new lu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:a,message:Tt.toString(r)}]})}_addCheck(e){return new lu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Tt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Tt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Tt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Tt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&$n.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(n)&&Number.isFinite(e)}}lu.create=t=>new lu({checks:[],typeName:Wt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...on(t)});class uu extends gn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==gt.bigint)return this._getInvalidInput(e);let a;const r=new hs;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(a=this._getOrReturnCtx(e,a),ft(a,{code:nt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(a=this._getOrReturnCtx(e,a),ft(a,{code:nt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),ft(a,{code:nt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):$n.assertNever(s);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ft(n,{code:nt.invalid_type,expected:gt.bigint,received:n.parsedType}),jt}gte(e,n){return this.setLimit("min",e,!0,Tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Tt.toString(n))}setLimit(e,n,a,r){return new uu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:a,message:Tt.toString(r)}]})}_addCheck(e){return new uu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Tt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}uu.create=t=>{var e;return new uu({checks:[],typeName:Wt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...on(t)})};class Q0 extends gn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==gt.boolean){const a=this._getOrReturnCtx(e);return ft(a,{code:nt.invalid_type,expected:gt.boolean,received:a.parsedType}),jt}return Is(e.data)}}Q0.create=t=>new Q0({typeName:Wt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...on(t)});class Xf extends gn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==gt.date){const s=this._getOrReturnCtx(e);return ft(s,{code:nt.invalid_type,expected:gt.date,received:s.parsedType}),jt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ft(s,{code:nt.invalid_date}),jt}const a=new hs;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),a.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),ft(r,{code:nt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),a.dirty()):$n.assertNever(s);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Tt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Tt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Xf.create=t=>new Xf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Wt.ZodDate,...on(t)});class fk extends gn{_parse(e){if(this._getType(e)!==gt.symbol){const a=this._getOrReturnCtx(e);return ft(a,{code:nt.invalid_type,expected:gt.symbol,received:a.parsedType}),jt}return Is(e.data)}}fk.create=t=>new fk({typeName:Wt.ZodSymbol,...on(t)});class J0 extends gn{_parse(e){if(this._getType(e)!==gt.undefined){const a=this._getOrReturnCtx(e);return ft(a,{code:nt.invalid_type,expected:gt.undefined,received:a.parsedType}),jt}return Is(e.data)}}J0.create=t=>new J0({typeName:Wt.ZodUndefined,...on(t)});class eg extends gn{_parse(e){if(this._getType(e)!==gt.null){const a=this._getOrReturnCtx(e);return ft(a,{code:nt.invalid_type,expected:gt.null,received:a.parsedType}),jt}return Is(e.data)}}eg.create=t=>new eg({typeName:Wt.ZodNull,...on(t)});class dh extends gn{constructor(){super(...arguments),this._any=!0}_parse(e){return Is(e.data)}}dh.create=t=>new dh({typeName:Wt.ZodAny,...on(t)});class $f extends gn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Is(e.data)}}$f.create=t=>new $f({typeName:Wt.ZodUnknown,...on(t)});class ll extends gn{_parse(e){const n=this._getOrReturnCtx(e);return ft(n,{code:nt.invalid_type,expected:gt.never,received:n.parsedType}),jt}}ll.create=t=>new ll({typeName:Wt.ZodNever,...on(t)});class dk extends gn{_parse(e){if(this._getType(e)!==gt.undefined){const a=this._getOrReturnCtx(e);return ft(a,{code:nt.invalid_type,expected:gt.void,received:a.parsedType}),jt}return Is(e.data)}}dk.create=t=>new dk({typeName:Wt.ZodVoid,...on(t)});class vo extends gn{_parse(e){const{ctx:n,status:a}=this._processInputParams(e),r=this._def;if(n.parsedType!==gt.array)return ft(n,{code:nt.invalid_type,expected:gt.array,received:n.parsedType}),jt;if(r.exactLength!==null){const i=n.data.length>r.exactLength.value,o=n.data.length<r.exactLength.value;(i||o)&&(ft(n,{code:i?nt.too_big:nt.too_small,minimum:o?r.exactLength.value:void 0,maximum:i?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),a.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(ft(n,{code:nt.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),a.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(ft(n,{code:nt.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>r.type._parseAsync(new dc(n,i,n.path,o)))).then(i=>hs.mergeArray(a,i));const s=[...n.data].map((i,o)=>r.type._parseSync(new dc(n,i,n.path,o)));return hs.mergeArray(a,s)}get element(){return this._def.type}min(e,n){return new vo({...this._def,minLength:{value:e,message:Tt.toString(n)}})}max(e,n){return new vo({...this._def,maxLength:{value:e,message:Tt.toString(n)}})}length(e,n){return new vo({...this._def,exactLength:{value:e,message:Tt.toString(n)}})}nonempty(e){return this.min(1,e)}}vo.create=(t,e)=>new vo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Wt.ZodArray,...on(e)});function zp(t){if(t instanceof Na){const e={};for(const n in t.shape){const a=t.shape[n];e[n]=rc.create(zp(a))}return new Na({...t._def,shape:()=>e})}else return t instanceof vo?new vo({...t._def,type:zp(t.element)}):t instanceof rc?rc.create(zp(t.unwrap())):t instanceof du?du.create(zp(t.unwrap())):t instanceof pc?pc.create(t.items.map(e=>zp(e))):t}class Na extends gn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=$n.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==gt.object){const l=this._getOrReturnCtx(e);return ft(l,{code:nt.invalid_type,expected:gt.object,received:l.parsedType}),jt}const{status:a,ctx:r}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof ll&&this._def.unknownKeys==="strip"))for(const l in r.data)i.includes(l)||o.push(l);const c=[];for(const l of i){const u=s[l],d=r.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new dc(r,d,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof ll){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")o.length>0&&(ft(r,{code:nt.unrecognized_keys,keys:o}),a.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const d=r.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new dc(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key,h=await u.value;l.push({key:d,value:h,alwaysSet:u.alwaysSet})}return l}).then(l=>hs.mergeObjectSync(a,l)):hs.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(e){return Tt.errToObj,new Na({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,a)=>{var r,s,i,o;const c=(i=(s=(r=this._def).errorMap)===null||s===void 0?void 0:s.call(r,n,a).message)!==null&&i!==void 0?i:a.defaultError;return n.code==="unrecognized_keys"?{message:(o=Tt.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Na({...this._def,unknownKeys:"strip"})}passthrough(){return new Na({...this._def,unknownKeys:"passthrough"})}extend(e){return new Na({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Na({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Wt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Na({...this._def,catchall:e})}pick(e){const n={};return $n.objectKeys(e).forEach(a=>{e[a]&&this.shape[a]&&(n[a]=this.shape[a])}),new Na({...this._def,shape:()=>n})}omit(e){const n={};return $n.objectKeys(this.shape).forEach(a=>{e[a]||(n[a]=this.shape[a])}),new Na({...this._def,shape:()=>n})}deepPartial(){return zp(this)}partial(e){const n={};return $n.objectKeys(this.shape).forEach(a=>{const r=this.shape[a];e&&!e[a]?n[a]=r:n[a]=r.optional()}),new Na({...this._def,shape:()=>n})}required(e){const n={};return $n.objectKeys(this.shape).forEach(a=>{if(e&&!e[a])n[a]=this.shape[a];else{let s=this.shape[a];for(;s instanceof rc;)s=s._def.innerType;n[a]=s}}),new Na({...this._def,shape:()=>n})}keyof(){return x6($n.objectKeys(this.shape))}}Na.create=(t,e)=>new Na({shape:()=>t,unknownKeys:"strip",catchall:ll.create(),typeName:Wt.ZodObject,...on(e)});Na.strictCreate=(t,e)=>new Na({shape:()=>t,unknownKeys:"strict",catchall:ll.create(),typeName:Wt.ZodObject,...on(e)});Na.lazycreate=(t,e)=>new Na({shape:t,unknownKeys:"strip",catchall:ll.create(),typeName:Wt.ZodObject,...on(e)});class tg extends gn{_parse(e){const{ctx:n}=this._processInputParams(e),a=this._def.options;function r(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=s.map(o=>new ci(o.ctx.common.issues));return ft(n,{code:nt.invalid_union,unionErrors:i}),jt}if(n.common.async)return Promise.all(a.map(async s=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(r);{let s;const i=[];for(const c of a){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(c=>new ci(c));return ft(n,{code:nt.invalid_union,unionErrors:o}),jt}}get options(){return this._def.options}}tg.create=(t,e)=>new tg({options:t,typeName:Wt.ZodUnion,...on(e)});const Uc=t=>t instanceof rg?Uc(t.schema):t instanceof So?Uc(t.innerType()):t instanceof sg?[t.value]:t instanceof fu?t.options:t instanceof ig?$n.objectValues(t.enum):t instanceof og?Uc(t._def.innerType):t instanceof J0?[void 0]:t instanceof eg?[null]:t instanceof rc?[void 0,...Uc(t.unwrap())]:t instanceof du?[null,...Uc(t.unwrap())]:t instanceof LE||t instanceof lg?Uc(t.unwrap()):t instanceof cg?Uc(t._def.innerType):[];class Dw extends gn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==gt.object)return ft(n,{code:nt.invalid_type,expected:gt.object,received:n.parsedType}),jt;const a=this.discriminator,r=n.data[a],s=this.optionsMap.get(r);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ft(n,{code:nt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),jt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,a){const r=new Map;for(const s of n){const i=Uc(s.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,s)}}return new Dw({typeName:Wt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...on(a)})}}function OS(t,e){const n=Hc(t),a=Hc(e);if(t===e)return{valid:!0,data:t};if(n===gt.object&&a===gt.object){const r=$n.objectKeys(e),s=$n.objectKeys(t).filter(o=>r.indexOf(o)!==-1),i={...t,...e};for(const o of s){const c=OS(t[o],e[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(n===gt.array&&a===gt.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let s=0;s<t.length;s++){const i=t[s],o=e[s],c=OS(i,o);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===gt.date&&a===gt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ng extends gn{_parse(e){const{status:n,ctx:a}=this._processInputParams(e),r=(s,i)=>{if(PS(s)||PS(i))return jt;const o=OS(s.value,i.value);return o.valid?((FS(s)||FS(i))&&n.dirty(),{status:n.value,value:o.data}):(ft(a,{code:nt.invalid_intersection_types}),jt)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([s,i])=>r(s,i)):r(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}ng.create=(t,e,n)=>new ng({left:t,right:e,typeName:Wt.ZodIntersection,...on(n)});class pc extends gn{_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==gt.array)return ft(a,{code:nt.invalid_type,expected:gt.array,received:a.parsedType}),jt;if(a.data.length<this._def.items.length)return ft(a,{code:nt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),jt;!this._def.rest&&a.data.length>this._def.items.length&&(ft(a,{code:nt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...a.data].map((i,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new dc(a,i,a.path,o)):null}).filter(i=>!!i);return a.common.async?Promise.all(s).then(i=>hs.mergeArray(n,i)):hs.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new pc({...this._def,rest:e})}}pc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pc({items:t,typeName:Wt.ZodTuple,rest:null,...on(e)})};class ag extends gn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==gt.object)return ft(a,{code:nt.invalid_type,expected:gt.object,received:a.parsedType}),jt;const r=[],s=this._def.keyType,i=this._def.valueType;for(const o in a.data)r.push({key:s._parse(new dc(a,o,a.path,o)),value:i._parse(new dc(a,a.data[o],a.path,o)),alwaysSet:o in a.data});return a.common.async?hs.mergeObjectAsync(n,r):hs.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,a){return n instanceof gn?new ag({keyType:e,valueType:n,typeName:Wt.ZodRecord,...on(a)}):new ag({keyType:yo.create(),valueType:e,typeName:Wt.ZodRecord,...on(n)})}}class pk extends gn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==gt.map)return ft(a,{code:nt.invalid_type,expected:gt.map,received:a.parsedType}),jt;const r=this._def.keyType,s=this._def.valueType,i=[...a.data.entries()].map(([o,c],l)=>({key:r._parse(new dc(a,o,a.path,[l,"key"])),value:s._parse(new dc(a,c,a.path,[l,"value"]))}));if(a.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return jt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of i){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return jt;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}}}}pk.create=(t,e,n)=>new pk({valueType:e,keyType:t,typeName:Wt.ZodMap,...on(n)});class Yf extends gn{_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.parsedType!==gt.set)return ft(a,{code:nt.invalid_type,expected:gt.set,received:a.parsedType}),jt;const r=this._def;r.minSize!==null&&a.data.size<r.minSize.value&&(ft(a,{code:nt.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&a.data.size>r.maxSize.value&&(ft(a,{code:nt.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const s=this._def.valueType;function i(c){const l=new Set;for(const u of c){if(u.status==="aborted")return jt;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const o=[...a.data.values()].map((c,l)=>s._parse(new dc(a,c,a.path,l)));return a.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(e,n){return new Yf({...this._def,minSize:{value:e,message:Tt.toString(n)}})}max(e,n){return new Yf({...this._def,maxSize:{value:e,message:Tt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Yf.create=(t,e)=>new Yf({valueType:t,minSize:null,maxSize:null,typeName:Wt.ZodSet,...on(e)});class Yp extends gn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==gt.function)return ft(n,{code:nt.invalid_type,expected:gt.function,received:n.parsedType}),jt;function a(o,c){return lk({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ck(),fh].filter(l=>!!l),issueData:{code:nt.invalid_arguments,argumentsError:c}})}function r(o,c){return lk({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ck(),fh].filter(l=>!!l),issueData:{code:nt.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof ph){const o=this;return Is(async function(...c){const l=new ci([]),u=await o._def.args.parseAsync(c,s).catch(m=>{throw l.addIssue(a(c,m)),l}),d=await Reflect.apply(i,this,u);return await o._def.returns._def.type.parseAsync(d,s).catch(m=>{throw l.addIssue(r(d,m)),l})})}else{const o=this;return Is(function(...c){const l=o._def.args.safeParse(c,s);if(!l.success)throw new ci([a(c,l.error)]);const u=Reflect.apply(i,this,l.data),d=o._def.returns.safeParse(u,s);if(!d.success)throw new ci([r(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Yp({...this._def,args:pc.create(e).rest($f.create())})}returns(e){return new Yp({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,a){return new Yp({args:e||pc.create([]).rest($f.create()),returns:n||$f.create(),typeName:Wt.ZodFunction,...on(a)})}}class rg extends gn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}rg.create=(t,e)=>new rg({getter:t,typeName:Wt.ZodLazy,...on(e)});class sg extends gn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ft(n,{received:n.data,code:nt.invalid_literal,expected:this._def.value}),jt}return{status:"valid",value:e.data}}get value(){return this._def.value}}sg.create=(t,e)=>new sg({value:t,typeName:Wt.ZodLiteral,...on(e)});function x6(t,e){return new fu({values:t,typeName:Wt.ZodEnum,...on(e)})}class fu extends gn{constructor(){super(...arguments),g0.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),a=this._def.values;return ft(n,{expected:$n.joinValues(a),received:n.parsedType,code:nt.invalid_type}),jt}if(uk(this,g0)||h6(this,g0,new Set(this._def.values)),!uk(this,g0).has(e.data)){const n=this._getOrReturnCtx(e),a=this._def.values;return ft(n,{received:n.data,code:nt.invalid_enum_value,options:a}),jt}return Is(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return fu.create(e,{...this._def,...n})}exclude(e,n=this._def){return fu.create(this.options.filter(a=>!e.includes(a)),{...this._def,...n})}}g0=new WeakMap;fu.create=x6;class ig extends gn{constructor(){super(...arguments),y0.set(this,void 0)}_parse(e){const n=$n.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==gt.string&&a.parsedType!==gt.number){const r=$n.objectValues(n);return ft(a,{expected:$n.joinValues(r),received:a.parsedType,code:nt.invalid_type}),jt}if(uk(this,y0)||h6(this,y0,new Set($n.getValidEnumValues(this._def.values))),!uk(this,y0).has(e.data)){const r=$n.objectValues(n);return ft(a,{received:a.data,code:nt.invalid_enum_value,options:r}),jt}return Is(e.data)}get enum(){return this._def.values}}y0=new WeakMap;ig.create=(t,e)=>new ig({values:t,typeName:Wt.ZodNativeEnum,...on(e)});class ph extends gn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==gt.promise&&n.common.async===!1)return ft(n,{code:nt.invalid_type,expected:gt.promise,received:n.parsedType}),jt;const a=n.parsedType===gt.promise?n.data:Promise.resolve(n.data);return Is(a.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ph.create=(t,e)=>new ph({type:t,typeName:Wt.ZodPromise,...on(e)});class So extends gn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:a}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:i=>{ft(a,i),i.fatal?n.abort():n.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const i=r.transform(a.data,s);if(a.common.async)return Promise.resolve(i).then(async o=>{if(n.value==="aborted")return jt;const c=await this._def.schema._parseAsync({data:o,path:a.path,parent:a});return c.status==="aborted"?jt:c.status==="dirty"||n.value==="dirty"?Hp(c.value):c});{if(n.value==="aborted")return jt;const o=this._def.schema._parseSync({data:i,path:a.path,parent:a});return o.status==="aborted"?jt:o.status==="dirty"||n.value==="dirty"?Hp(o.value):o}}if(r.type==="refinement"){const i=o=>{const c=r.refinement(o,s);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?jt:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>o.status==="aborted"?jt:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(r.type==="transform")if(a.common.async===!1){const i=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!qf(i))return i;const o=r.transform(i.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(i=>qf(i)?Promise.resolve(r.transform(i.value,s)).then(o=>({status:n.value,value:o})):i);$n.assertNever(r)}}So.create=(t,e,n)=>new So({schema:t,typeName:Wt.ZodEffects,effect:e,...on(n)});So.createWithPreprocess=(t,e,n)=>new So({schema:e,effect:{type:"preprocess",transform:t},typeName:Wt.ZodEffects,...on(n)});class rc extends gn{_parse(e){return this._getType(e)===gt.undefined?Is(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rc.create=(t,e)=>new rc({innerType:t,typeName:Wt.ZodOptional,...on(e)});class du extends gn{_parse(e){return this._getType(e)===gt.null?Is(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}du.create=(t,e)=>new du({innerType:t,typeName:Wt.ZodNullable,...on(e)});class og extends gn{_parse(e){const{ctx:n}=this._processInputParams(e);let a=n.data;return n.parsedType===gt.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}og.create=(t,e)=>new og({innerType:t,typeName:Wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...on(e)});class cg extends gn{_parse(e){const{ctx:n}=this._processInputParams(e),a={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Z0(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ci(a.common.issues)},input:a.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new ci(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}cg.create=(t,e)=>new cg({innerType:t,typeName:Wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...on(e)});class hk extends gn{_parse(e){if(this._getType(e)!==gt.nan){const a=this._getOrReturnCtx(e);return ft(a,{code:nt.invalid_type,expected:gt.nan,received:a.parsedType}),jt}return{status:"valid",value:e.data}}}hk.create=t=>new hk({typeName:Wt.ZodNaN,...on(t)});const aae=Symbol("zod_brand");class LE extends gn{_parse(e){const{ctx:n}=this._processInputParams(e),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class ay extends gn{_parse(e){const{status:n,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?jt:s.status==="dirty"?(n.dirty(),Hp(s.value)):this._def.out._parseAsync({data:s.value,path:a.path,parent:a})})();{const r=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return r.status==="aborted"?jt:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:a.path,parent:a})}}static create(e,n){return new ay({in:e,out:n,typeName:Wt.ZodPipeline})}}class lg extends gn{_parse(e){const n=this._def.innerType._parse(e),a=r=>(qf(r)&&(r.value=Object.freeze(r.value)),r);return Z0(n)?n.then(r=>a(r)):a(n)}unwrap(){return this._def.innerType}}lg.create=(t,e)=>new lg({innerType:t,typeName:Wt.ZodReadonly,...on(e)});function RO(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function v6(t,e={},n){return t?dh.create().superRefine((a,r)=>{var s,i;const o=t(a);if(o instanceof Promise)return o.then(c=>{var l,u;if(!c){const d=RO(e,a),h=(u=(l=d.fatal)!==null&&l!==void 0?l:n)!==null&&u!==void 0?u:!0;r.addIssue({code:"custom",...d,fatal:h})}});if(!o){const c=RO(e,a),l=(i=(s=c.fatal)!==null&&s!==void 0?s:n)!==null&&i!==void 0?i:!0;r.addIssue({code:"custom",...c,fatal:l})}}):dh.create()}const rae={object:Na.lazycreate};var Wt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Wt||(Wt={}));const sae=(t,e={message:`Input not instance of ${t.name}`})=>v6(n=>n instanceof t,e),k6=yo.create,w6=lu.create,iae=hk.create,oae=uu.create,b6=Q0.create,cae=Xf.create,lae=fk.create,uae=J0.create,fae=eg.create,dae=dh.create,pae=$f.create,hae=ll.create,mae=dk.create,gae=vo.create,yae=Na.create,xae=Na.strictCreate,vae=tg.create,kae=Dw.create,wae=ng.create,bae=pc.create,_ae=ag.create,Aae=pk.create,Nae=Yf.create,Sae=Yp.create,Tae=rg.create,Eae=sg.create,Cae=fu.create,Iae=ig.create,Dae=ph.create,PO=So.create,Rae=rc.create,Pae=du.create,Fae=So.createWithPreprocess,Oae=ay.create,$ae=()=>k6().optional(),Lae=()=>w6().optional(),Mae=()=>b6().optional(),Bae={string:t=>yo.create({...t,coerce:!0}),number:t=>lu.create({...t,coerce:!0}),boolean:t=>Q0.create({...t,coerce:!0}),bigint:t=>uu.create({...t,coerce:!0}),date:t=>Xf.create({...t,coerce:!0})},zae=jt;var Gae=Object.freeze({__proto__:null,defaultErrorMap:fh,setErrorMap:Fne,getErrorMap:ck,makeIssue:lk,EMPTY_PATH:One,addIssueToContext:ft,ParseStatus:hs,INVALID:jt,DIRTY:Hp,OK:Is,isAborted:PS,isDirty:FS,isValid:qf,isAsync:Z0,get util(){return $n},get objectUtil(){return RS},ZodParsedType:gt,getParsedType:Hc,ZodType:gn,datetimeRegex:y6,ZodString:yo,ZodNumber:lu,ZodBigInt:uu,ZodBoolean:Q0,ZodDate:Xf,ZodSymbol:fk,ZodUndefined:J0,ZodNull:eg,ZodAny:dh,ZodUnknown:$f,ZodNever:ll,ZodVoid:dk,ZodArray:vo,ZodObject:Na,ZodUnion:tg,ZodDiscriminatedUnion:Dw,ZodIntersection:ng,ZodTuple:pc,ZodRecord:ag,ZodMap:pk,ZodSet:Yf,ZodFunction:Yp,ZodLazy:rg,ZodLiteral:sg,ZodEnum:fu,ZodNativeEnum:ig,ZodPromise:ph,ZodEffects:So,ZodTransformer:So,ZodOptional:rc,ZodNullable:du,ZodDefault:og,ZodCatch:cg,ZodNaN:hk,BRAND:aae,ZodBranded:LE,ZodPipeline:ay,ZodReadonly:lg,custom:v6,Schema:gn,ZodSchema:gn,late:rae,get ZodFirstPartyTypeKind(){return Wt},coerce:Bae,any:dae,array:gae,bigint:oae,boolean:b6,date:cae,discriminatedUnion:kae,effect:PO,enum:Cae,function:Sae,instanceof:sae,intersection:wae,lazy:Tae,literal:Eae,map:Aae,nan:iae,nativeEnum:Iae,never:hae,null:fae,nullable:Pae,number:w6,object:yae,oboolean:Mae,onumber:Lae,optional:Rae,ostring:$ae,pipeline:Oae,preprocess:Fae,promise:Dae,record:_ae,set:Nae,strictObject:xae,string:k6,symbol:lae,transformer:PO,tuple:bae,undefined:uae,union:vae,unknown:pae,void:mae,NEVER:zae,ZodIssueCode:nt,quotelessJson:Pne,ZodError:ci}),Uae=Object.defineProperty,Wae=Object.defineProperties,Vae=Object.getOwnPropertyDescriptors,mk=Object.getOwnPropertySymbols,_6=Object.prototype.hasOwnProperty,A6=Object.prototype.propertyIsEnumerable,FO=(t,e,n)=>e in t?Uae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jae=(t,e)=>{for(var n in e||(e={}))_6.call(e,n)&&FO(t,n,e[n]);if(mk)for(var n of mk(e))A6.call(e,n)&&FO(t,n,e[n]);return t},Hae=(t,e)=>Wae(t,Vae(e)),Kae=(t,e)=>{var n={};for(var a in t)_6.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&mk)for(var a of mk(t))e.indexOf(a)<0&&A6.call(t,a)&&(n[a]=t[a]);return n};function qae(t){let e=setTimeout(t,0),n=setTimeout(t,10),a=setTimeout(t,50);return[e,n,a]}function Xae(t){let e=F.useRef();return F.useEffect(()=>{e.current=t}),e.current}var Yae=18,N6=40,Zae=`${N6}px`,Qae=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Jae({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:a}){let[r,s]=F.useState(!1),[i,o]=F.useState(!1),[c,l]=F.useState(!1),u=F.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&r&&i,[r,i,n]),d=F.useCallback(()=>{let h=t.current,m=e.current;if(!h||!m||c||n==="none")return;let y=h,v=y.getBoundingClientRect().left+y.offsetWidth,x=y.getBoundingClientRect().top+y.offsetHeight/2,k=v-Yae,b=x;document.querySelectorAll(Qae).length===0&&document.elementFromPoint(k,b)===h||(s(!0),l(!0))},[t,e,c,n]);return F.useEffect(()=>{let h=t.current;if(!h||n==="none")return;function m(){let v=window.innerWidth-h.getBoundingClientRect().right;o(v>=N6)}m();let y=setInterval(m,1e3);return()=>{clearInterval(y)}},[t,n]),F.useEffect(()=>{let h=a||document.activeElement===e.current;if(n==="none"||!h)return;let m=setTimeout(d,0),y=setTimeout(d,2e3),v=setTimeout(d,5e3),x=setTimeout(()=>{l(!0)},6e3);return()=>{clearTimeout(m),clearTimeout(y),clearTimeout(v),clearTimeout(x)}},[e,a,n,d]),{hasPWMBadge:r,willPushPWMBadge:u,PWM_BADGE_SPACE_WIDTH:Zae}}var S6=F.createContext({}),T6=F.forwardRef((t,e)=>{var n=t,{value:a,onChange:r,maxLength:s,textAlign:i="left",pattern:o,placeholder:c,inputMode:l="numeric",onComplete:u,pushPasswordManagerStrategy:d="increase-width",pasteTransformer:h,containerClassName:m,noScriptCSSFallback:y=ere,render:v,children:x}=n,k=Kae(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),b,_,A,S,C;let[E,D]=F.useState(typeof k.defaultValue=="string"?k.defaultValue:""),I=a??E,P=Xae(I),R=F.useCallback(Ae=>{r==null||r(Ae),D(Ae)},[r]),B=F.useMemo(()=>o?typeof o=="string"?new RegExp(o):o:null,[o]),U=F.useRef(null),V=F.useRef(null),j=F.useRef({value:I,onChange:R,isIOS:typeof window<"u"&&((_=(b=window==null?void 0:window.CSS)==null?void 0:b.supports)==null?void 0:_.call(b,"-webkit-touch-callout","none"))}),W=F.useRef({prev:[(A=U.current)==null?void 0:A.selectionStart,(S=U.current)==null?void 0:S.selectionEnd,(C=U.current)==null?void 0:C.selectionDirection]});F.useImperativeHandle(e,()=>U.current,[]),F.useEffect(()=>{let Ae=U.current,Oe=V.current;if(!Ae||!Oe)return;j.current.value!==Ae.value&&j.current.onChange(Ae.value),W.current.prev=[Ae.selectionStart,Ae.selectionEnd,Ae.selectionDirection];function $e(){if(document.activeElement!==Ae){ue(null),ie(null);return}let tt=Ae.selectionStart,lt=Ae.selectionEnd,zt=Ae.selectionDirection,$t=Ae.maxLength,st=Ae.value,Be=W.current.prev,Fe=-1,Dt=-1,Bt;if(st.length!==0&&tt!==null&&lt!==null){let it=tt===lt,qt=tt===st.length&&st.length<$t;if(it&&!qt){let Xt=tt;if(Xt===0)Fe=0,Dt=1,Bt="forward";else if(Xt===$t)Fe=Xt-1,Dt=Xt,Bt="backward";else if($t>1&&st.length>1){let Ht=0;if(Be[0]!==null&&Be[1]!==null){Bt=Xt<Be[1]?"backward":"forward";let ur=Be[0]===Be[1]&&Be[0]<$t;Bt==="backward"&&!ur&&(Ht=-1)}Fe=Ht+Xt,Dt=Ht+Xt+1}}Fe!==-1&&Dt!==-1&&Fe!==Dt&&U.current.setSelectionRange(Fe,Dt,Bt)}let Rt=Fe!==-1?Fe:tt,Mn=Dt!==-1?Dt:lt,Bn=Bt??zt;ue(Rt),ie(Mn),W.current.prev=[Rt,Mn,Bn]}if(document.addEventListener("selectionchange",$e,{capture:!0}),$e(),document.activeElement===Ae&&M(!0),!document.getElementById("input-otp-style")){let tt=document.createElement("style");if(tt.id="input-otp-style",document.head.appendChild(tt),tt.sheet){let lt="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";l0(tt.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),l0(tt.sheet,`[data-input-otp]:autofill { ${lt} }`),l0(tt.sheet,`[data-input-otp]:-webkit-autofill { ${lt} }`),l0(tt.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),l0(tt.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let He=()=>{Oe&&Oe.style.setProperty("--root-height",`${Ae.clientHeight}px`)};He();let Ve=new ResizeObserver(He);return Ve.observe(Ae),()=>{document.removeEventListener("selectionchange",$e,{capture:!0}),Ve.disconnect()}},[]);let[J,q]=F.useState(!1),[Z,M]=F.useState(!1),[se,ue]=F.useState(null),[le,ie]=F.useState(null);F.useEffect(()=>{qae(()=>{var Ae,Oe,$e,He;(Ae=U.current)==null||Ae.dispatchEvent(new Event("input"));let Ve=(Oe=U.current)==null?void 0:Oe.selectionStart,tt=($e=U.current)==null?void 0:$e.selectionEnd,lt=(He=U.current)==null?void 0:He.selectionDirection;Ve!==null&&tt!==null&&(ue(Ve),ie(tt),W.current.prev=[Ve,tt,lt])})},[I,Z]),F.useEffect(()=>{P!==void 0&&I!==P&&P.length<s&&I.length===s&&(u==null||u(I))},[s,u,P,I]);let ye=Jae({containerRef:V,inputRef:U,pushPasswordManagerStrategy:d,isFocused:Z}),ke=F.useCallback(Ae=>{let Oe=Ae.currentTarget.value.slice(0,s);if(Oe.length>0&&B&&!B.test(Oe)){Ae.preventDefault();return}typeof P=="string"&&Oe.length<P.length&&document.dispatchEvent(new Event("selectionchange")),R(Oe)},[s,R,P,B]),ge=F.useCallback(()=>{var Ae;if(U.current){let Oe=Math.min(U.current.value.length,s-1),$e=U.current.value.length;(Ae=U.current)==null||Ae.setSelectionRange(Oe,$e),ue(Oe),ie($e)}M(!0)},[s]),G=F.useCallback(Ae=>{var Oe,$e;let He=U.current;if(!h&&(!j.current.isIOS||!Ae.clipboardData||!He))return;let Ve=Ae.clipboardData.getData("text/plain"),tt=h?h(Ve):Ve;Ae.preventDefault();let lt=(Oe=U.current)==null?void 0:Oe.selectionStart,zt=($e=U.current)==null?void 0:$e.selectionEnd,$t=(lt!==zt?I.slice(0,lt)+tt+I.slice(zt):I.slice(0,lt)+tt+I.slice(lt)).slice(0,s);if($t.length>0&&B&&!B.test($t))return;He.value=$t,R($t);let st=Math.min($t.length,s-1),Be=$t.length;He.setSelectionRange(st,Be),ue(st),ie(Be)},[s,R,B,I]),te=F.useMemo(()=>({position:"relative",cursor:k.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[k.disabled]),ee=F.useMemo(()=>({position:"absolute",inset:0,width:ye.willPushPWMBadge?`calc(100% + ${ye.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ye.willPushPWMBadge?`inset(0 ${ye.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ye.PWM_BADGE_SPACE_WIDTH,ye.willPushPWMBadge,i]),ae=F.useMemo(()=>F.createElement("input",Hae(jae({autoComplete:k.autoComplete||"one-time-code"},k),{"data-input-otp":!0,"data-input-otp-placeholder-shown":I.length===0||void 0,"data-input-otp-mss":se,"data-input-otp-mse":le,inputMode:l,pattern:B==null?void 0:B.source,"aria-placeholder":c,style:ee,maxLength:s,value:I,ref:U,onPaste:Ae=>{var Oe;G(Ae),(Oe=k.onPaste)==null||Oe.call(k,Ae)},onChange:ke,onMouseOver:Ae=>{var Oe;q(!0),(Oe=k.onMouseOver)==null||Oe.call(k,Ae)},onMouseLeave:Ae=>{var Oe;q(!1),(Oe=k.onMouseLeave)==null||Oe.call(k,Ae)},onFocus:Ae=>{var Oe;ge(),(Oe=k.onFocus)==null||Oe.call(k,Ae)},onBlur:Ae=>{var Oe;M(!1),(Oe=k.onBlur)==null||Oe.call(k,Ae)}})),[ke,ge,G,l,ee,s,le,se,k,B==null?void 0:B.source,I]),be=F.useMemo(()=>({slots:Array.from({length:s}).map((Ae,Oe)=>{var $e;let He=Z&&se!==null&&le!==null&&(se===le&&Oe===se||Oe>=se&&Oe<le),Ve=I[Oe]!==void 0?I[Oe]:null,tt=I[0]!==void 0?null:($e=c==null?void 0:c[Oe])!=null?$e:null;return{char:Ve,placeholderChar:tt,isActive:He,hasFakeCaret:He&&Ve===null}}),isFocused:Z,isHovering:!k.disabled&&J}),[Z,J,s,le,se,k.disabled,I]),Y=F.useMemo(()=>v?v(be):F.createElement(S6.Provider,{value:be},x),[x,be,v]);return F.createElement(F.Fragment,null,y!==null&&F.createElement("noscript",null,F.createElement("style",null,y)),F.createElement("div",{ref:V,"data-input-otp-container":!0,style:te,className:m},Y,F.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ae)))});T6.displayName="Input";function l0(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var ere=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const E6=F.forwardRef(({className:t,containerClassName:e,...n},a)=>L.jsx(T6,{ref:a,containerClassName:ln("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:ln("disabled:cursor-not-allowed",t),...n}));E6.displayName="InputOTP";const $S=F.forwardRef(({className:t,...e},n)=>L.jsx("div",{ref:n,className:ln("flex items-center",t),...e}));$S.displayName="InputOTPGroup";const wf=F.forwardRef(({index:t,className:e,...n},a)=>{const r=F.useContext(S6),{char:s,hasFakeCaret:i,isActive:o}=r.slots[t];return L.jsxs("div",{ref:a,className:ln("relative flex h-9 w-9 items-center justify-center border-y border-r border-neutral-200 text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md dark:border-neutral-800",o&&"z-10 ring-1 ring-neutral-950 dark:ring-neutral-300",e),...n,children:[s,i&&L.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:L.jsx("div",{className:"h-4 w-px animate-caret-blink bg-neutral-950 duration-1000 dark:bg-neutral-50"})})]})});wf.displayName="InputOTPSlot";const C6=F.forwardRef(({...t},e)=>L.jsx("div",{ref:e,...t,children:L.jsx(EE,{})}));C6.displayName="InputOTPSeparator";const I6=F.forwardRef(({className:t,type:e,...n},a)=>L.jsx("input",{type:e,className:ln("flex h-9 w-full rounded-md border border-neutral-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:font-medium file:text-neutral-950 file:text-sm placeholder:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-neutral-800 dark:focus-visible:ring-neutral-300 dark:placeholder:text-neutral-400 dark:file:text-neutral-50",t),ref:a,...n}));I6.displayName="Input";const tre=Gae.string().nonempty("Email is required").email("Email must be valid").max(255,"Email must be less than 255 characters"),nre=()=>{const{setUser:t,setIsLoginDialogOpen:e}=F.use(vl),{toast:n}=TE(),{t:a}=Hg("login"),[r,s]=F.useState(""),[i,o]=F.useState(""),c=async u=>{try{const d=await tee(i,u);t(d),e(!1)}catch{n({title:a("invalidCode"),variant:"destructive"})}},l=async()=>{if(!tre.safeParse(r).success){n({title:a("validEmail"),variant:"destructive"});return}const d=await eee(r);o(d)};return i?L.jsxs(L.Fragment,{children:[L.jsx("p",{className:"pt-4",children:a("fill6Digit")}),L.jsx("div",{children:L.jsxs(E6,{maxLength:6,autoFocus:!0,onComplete:c,children:[L.jsxs($S,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(wf,{index:0}),L.jsx(wf,{index:1}),L.jsx(wf,{index:2})]}),L.jsx(C6,{}),L.jsxs($S,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(wf,{index:3}),L.jsx(wf,{index:4}),L.jsx(wf,{index:5})]})]})})]}):L.jsxs("div",{className:"pt-4",children:[L.jsx("p",{children:a("fillEmail")}),L.jsxs("div",{className:"flex justify-center gap-2 pt-4 align-center",children:[L.jsx(I6,{type:"email",placeholder:"Email",onChange:u=>s(u.target.value),onKeyDown:async u=>{u.key==="Enter"&&await l()}}),L.jsx(ia,{onClick:l,children:a("button")})]})]})},are=Qg("relative w-full rounded-lg border border-neutral-200 px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-neutral-950 [&>svg~*]:pl-7 dark:border-neutral-800 dark:[&>svg]:text-neutral-50",{variants:{variant:{default:"bg-white text-neutral-950 dark:bg-neutral-950 dark:text-neutral-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900"}},defaultVariants:{variant:"default"}}),D6=F.forwardRef(({className:t,variant:e,...n},a)=>L.jsx("div",{ref:a,role:"alert",className:ln(are({variant:e}),t),...n}));D6.displayName="Alert";const rre=F.forwardRef(({className:t,...e},n)=>L.jsx("h5",{ref:n,className:ln("mb-1 font-medium leading-none tracking-tight",t),...e}));rre.displayName="AlertTitle";const LS=F.forwardRef(({className:t,...e},n)=>L.jsx("div",{ref:n,className:ln("text-sm [&_p]:leading-relaxed",t),...e}));LS.displayName="AlertDescription";const Hv=ZB,sre=QB,ire=JB,ME=F.forwardRef(({className:t,...e},n)=>L.jsx(Tw,{ref:n,className:ln("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80 data-[state=closed]:animate-out data-[state=open]:animate-in",t),...e}));ME.displayName=Tw.displayName;const I0=F.forwardRef(({className:t,children:e,...n},a)=>L.jsxs(ire,{children:[L.jsx(ME,{}),L.jsxs(Ew,{ref:a,className:ln("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%] fixed top-[50%] left-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-200 bg-white p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:rounded-lg dark:border-neutral-800 dark:bg-neutral-950",t),...n,children:[e,L.jsxs(e6,{className:"absolute top-4 right-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-neutral-100 data-[state=open]:text-neutral-500 dark:ring-offset-neutral-950 dark:data-[state=open]:bg-neutral-800 dark:data-[state=open]:text-neutral-400 dark:focus:ring-neutral-300",children:[L.jsx(CE,{className:"h-4 w-4"}),L.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));I0.displayName=Ew.displayName;const D0=({className:t,...e})=>L.jsx("div",{className:ln("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});D0.displayName="DialogHeader";const R6=({className:t,...e})=>L.jsx("div",{className:ln("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});R6.displayName="DialogFooter";const R0=F.forwardRef(({className:t,...e},n)=>L.jsx(Cw,{ref:n,className:ln("font-semibold text-lg leading-none tracking-tight",t),...e}));R0.displayName=Cw.displayName;const ore=F.forwardRef(({className:t,...e},n)=>L.jsx(Iw,{ref:n,className:ln("text-neutral-500 text-sm dark:text-neutral-400",t),...e}));ore.displayName=Iw.displayName;const Cf=class Cf{constructor(){lo(this,"db",null);lo(this,"DB_NAME","PokemonCardHashes");lo(this,"STORE_NAME","cardHashes")}static getInstance(){return Cf.instance||(Cf.instance=new Cf),Cf.instance}async initDB(){return new Promise((e,n)=>{const a=indexedDB.open(this.DB_NAME,1);a.onerror=()=>n(a.error),a.onsuccess=()=>{this.db=a.result,e()},a.onupgradeneeded=r=>{const s=r.target.result;s.objectStoreNames.contains(this.STORE_NAME)||s.createObjectStore(this.STORE_NAME,{keyPath:"id"})}})}async storeHashes(e){if(!this.db)throw new Error("Database not initialized");const n=this.db.transaction(this.STORE_NAME,"readwrite"),a=n.objectStore(this.STORE_NAME);return new Promise((r,s)=>{for(const i of e)a.put(i);n.oncomplete=()=>r(),n.onerror=()=>s(n.error)})}async getAllHashes(){if(!this.db)throw new Error("Database not initialized");const a=this.db.transaction(this.STORE_NAME,"readonly").objectStore(this.STORE_NAME).getAll();return new Promise((r,s)=>{a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}async getHashCount(){if(!this.db)throw new Error("Database not initialized");const a=this.db.transaction(this.STORE_NAME,"readonly").objectStore(this.STORE_NAME).count();return new Promise((r,s)=>{a.onsuccess=()=>r(a.result),a.onerror=()=>s(a.error)})}};lo(Cf,"instance");let MS=Cf;const If=class If{constructor(){lo(this,"hashSize",24)}static getInstance(){return If.instance||(If.instance=new If),If.instance}async calculatePerceptualHash(e){const n=await this.ensureImage(e),a=document.createElement("canvas"),r=a.getContext("2d");if(a.width=this.hashSize,a.height=this.hashSize,r){r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high",r.drawImage(n,0,0,this.hashSize,this.hashSize);const i=r.getImageData(0,0,this.hashSize,this.hashSize).data,o={r:new Array(this.hashSize*this.hashSize),g:new Array(this.hashSize*this.hashSize),b:new Array(this.hashSize*this.hashSize)};for(let y=0;y<i.length;y+=4){const v=y/4;o.r[v]=i[y],o.g[v]=i[y+1],o.b[v]=i[y+2]}const c=this.computeDCT(o.r),l=this.computeDCT(o.g),u=this.computeDCT(o.b),d=Math.floor(this.hashSize/4),h=this.calculateChannelAverages(c,l,u,d);let m="";for(let y=0;y<d;y++)for(let v=0;v<d;v++)if(!(v===0&&y===0)){const x=y*this.hashSize+v;m+=c[x]>h.r?"1":"0",m+=l[x]>h.g?"1":"0",m+=u[x]>h.b?"1":"0"}return m}throw new Error("Failed to process image")}calculateChannelAverages(e,n,a,r){let s=0,i=0,o=0,c=0;for(let l=0;l<r;l++)for(let u=0;u<r;u++)if(!(u===0&&l===0)){const d=l*this.hashSize+u;s+=e[d],i+=n[d],o+=a[d],c++}return{r:s/c,g:i/c,b:o/c}}computeDCT(e){const n=this.hashSize,a=new Array(n*n);for(let r=0;r<n;r++)for(let s=0;s<n;s++){let i=0;for(let l=0;l<n;l++)for(let u=0;u<n;u++)i+=e[l*n+u]*Math.cos((2*u+1)*r*Math.PI/(2*n))*Math.cos((2*l+1)*s*Math.PI/(2*n));const o=r===0?1/Math.sqrt(2):1,c=s===0?1/Math.sqrt(2):1;a[r*n+s]=2*o*c/n*i}return a}calculateHammingDistance(e,n){let a=0;const r=Math.min(e.length,n.length);for(let s=0;s<r;s++)e[s]!==n[s]&&a++;return a+=Math.abs(e.length-n.length),a}ensureImage(e){return new Promise((n,a)=>{if(e instanceof HTMLImageElement)e.complete?n(e):(e.onload=()=>n(e),e.onerror=()=>a(new Error("Failed to load image")));else{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>n(r),r.onerror=()=>a(new Error("Failed to load image from URL")),r.src=e}})}};lo(If,"instance");let gk=If;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cre=1e-7,lre=1e-4;class P6{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class BE{refCount(e){return Ls("refCount")}incRef(e){return Ls("incRef")}timerAvailable(){return!0}time(e){return Ls("time")}read(e){return Ls("read")}readSync(e){return Ls("readSync")}readToGPU(e,n){return Ls("readToGPU")}numDataIds(){return Ls("numDataIds")}disposeData(e,n){return Ls("disposeData")}write(e,n,a){return Ls("write")}move(e,n,a,r,s){return Ls("move")}createTensorFromGPUData(e,n,a){return Ls("createTensorFromGPUData")}memory(){return Ls("memory")}floatPrecision(){return Ls("floatPrecision")}epsilon(){return this.floatPrecision()===32?cre:lre}dispose(){return Ls("dispose")}}function Ls(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ure(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,Gp(t,e,n)}function Zf(t,e,n){return Math.max(t,Math.min(e,n))}function zE(t){return t%2===0?t:t+1}function Gp(t,e,n){const a=t[e];t[e]=t[n],t[n]=a}function fre(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function K(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Qs(t,e,n=""){K(Sn(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Gh(t){K(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Me(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function dre(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function Sn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function hh(t){return t%1===0}function BS(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Zp(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function OO(t,e=r=>0,n,a){return new Promise((r,s)=>{let i=0;const o=()=>{if(t()){r();return}i++;const c=e(i);if(n!=null&&i>=n){s();return}a!=null?a(o,c):setTimeout(o,c)};o()})}function F6(t,e){let n=1,a=-1;for(let s=0;s<t.length;++s)if(t[s]>=0)n*=t[s];else if(t[s]===-1){if(a!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${a} and dim ${s}`);a=s}else if(t[s]<0)throw Error(`Shapes can not be < 0. Found ${t[s]} at dim ${s}`);if(a===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const r=t.slice();return r[a]=e/n,r}function yn(t,e){const n=e.length;return t=t==null?e.map((a,r)=>r):[].concat(t),K(t.every(a=>a>=-n&&a<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),K(t.every(a=>hh(a)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(a=>a<0?n+a:a)}function Ru(t,e){const n=[],a=[],r=e!=null&&Array.isArray(e)&&e.length===0,s=e==null||r?null:yn(e,t).sort();let i=0;for(let o=0;o<t.length;++o){if(s!=null){if(s[i]===o&&t[o]!==1)throw new Error(`Can't squeeze axis ${o} since its dim '${t[o]}' is not 1`);(s[i]==null||s[i]>o)&&t[o]===1&&(n.push(t[o]),a.push(o)),s[i]<=o&&i++}t[o]!==1&&(n.push(t[o]),a.push(o))}return{newShape:n,keptDims:a}}function Fr(t,e){return La(t,e)}function La(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function pre(t,e){for(let n=0;n<t.length;n++){const a=t[n];if(isNaN(a)||!isFinite(a))throw Error(`A tensor of type ${e} being uploaded contains ${a}.`)}}function hre(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function O6(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function yk(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function mre(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function ry(t){return typeof t=="string"||t instanceof String}function gre(t){return typeof t=="boolean"}function zS(t){return typeof t=="number"}function Uh(t){return Array.isArray(t)?Uh(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":zS(t)?"float32":ry(t)?"string":gre(t)?"bool":"float32"}function GS(t){return!!(t&&t.constructor&&t.call&&t.apply)}function US(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function Ft(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let a=e-3;a>=0;--a)n[a]=n[a+1]*t[a+1];return n}function $6(t,e,n,a=!1){const r=new Array;if(e.length===1){const s=e[0]*(a?2:1);for(let i=0;i<s;i++)r[i]=n[t+i]}else{const s=e[0],i=e.slice(1),o=i.reduce((c,l)=>c*l)*(a?2:1);for(let c=0;c<s;c++)r[c]=$6(t+c*o,i,n,a)}return r}function Ki(t,e,n=!1){if(t.length===0)return e[0];const a=t.reduce((r,s)=>r*s)*(n?2:1);if(a===0)return[];if(a!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return $6(0,t,e,n)}function yre(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function GE(t,e){const n=jr(t,e);for(let a=0;a<n.length;a++)n[a]=1;return n}function jr(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function L6(t,e){const n=t.reduce((a,r)=>a*r,1);if(e==null||e==="float32")return Ki(t,new Float32Array(n));if(e==="int32")return Ki(t,new Int32Array(n));if(e==="bool")return Ki(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function gi(t){t.forEach(e=>{K(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function sc(t,e,n){if(e===0)return 0;if(e===1)return t[0];let a=t[t.length-1];for(let r=0;r<t.length-1;++r)a+=n[r]*t[r];return a}function Wh(t,e,n){if(e===0)return[];if(e===1)return[t];const a=new Array(e);for(let r=0;r<a.length-1;++r)a[r]=Math.floor(t/n[r]),t-=a[r]*n[r];return a[a.length-1]=t,a}function Qf(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $O="tfjsflags";class xre{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=vre,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(Ce().getBool("IS_TEST")||Ce().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,a){if(this.flagRegistry[e]={evaluationFn:n,setHook:a},this.urlFlags[e]!=null){const r=this.urlFlags[e];Ce().getBool("IS_TEST")||Ce().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${r}.`),this.set(e,r)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Qf(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);$O in e&&e[$O].split(",").forEach(a=>{const[r,s]=a.split(":");this.urlFlags[r]=wre(r,s)})}}function vre(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...a)=>(kre(e,a[0],a[1]),a.join("="))),e}function kre(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function wre(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function Ce(){return M6}let M6=null;function bre(t){M6=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let bN;function B6(){if(bN==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");bN=t}return bN}function _re(){const t=B6();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function UE(t,e){const n=_re();if(n.has(t))return n.get(t);{const a=e();return n.set(t,a),n.get(t)}}const Rw="Abs",sy="Acos",iy="Acosh",Vh="Add",Pw="AddN",WE="All",VE="Any",Fw="ArgMax",Ow="ArgMin",oy="Asin",cy="Asinh",ly="Atan",uy="Atanh",fy="Atan2",$w="AvgPool",jE="AvgPoolGrad",Lw="AvgPool3D",HE="AvgPool3DGrad",Mw="BatchMatMul",Bw="BatchToSpaceND",KE="Bincount",zw="BitwiseAnd",Are="BroadcastTo",qE="BroadcastArgs",dy="Cast",py="Ceil",hy="ClipByValue",XE="Complex",Gw="ComplexAbs",Uw="Concat",Ww="Conv2D",YE="Conv2DBackpropFilter",Vw="Conv2DBackpropInput",jw="Conv3D",ZE="Conv3DBackpropFilterV2",QE="Conv3DBackpropInputV2",my="Cos",gy="Cosh",JE="Cumprod",Hw="Cumsum",eC="CropAndResize",tC="DenseBincount",nC="DepthToSpace",Kw="DepthwiseConv2dNative",aC="DepthwiseConv2dNativeBackpropFilter",rC="DepthwiseConv2dNativeBackpropInput",sC="Diag",qw="Dilation2D",WS="Dilation2DBackpropInput",VS="Dilation2DBackpropFilter",Nre="Draw",yy="RealDiv",iC="Einsum",xy="Elu",oC="EluGrad",vy="Erf",Xw="Equal",ky="Exp",Yw="ExpandDims",wy="Expm1",cC="FFT",lC="Fill",uC="FlipLeftRight",by="Floor",_y="FloorDiv",Zw="FusedBatchNorm",Qw="GatherV2",fC="GatherNd",Jw="Greater",Ay="GreaterEqual",Ny="Identity",dC="IFFT",pC="Imag",Sy="IsFinite",Ty="IsInf",Ey="IsNan",eb="LeakyRelu",tb="Less",nb="LessEqual",hC="LinSpace",Cy="Log",Iy="Log1p",ab="LogicalAnd",rb="LogicalNot",sb="LogicalOr",Sre="LogSoftmax",ib="LRN",mC="LRNGrad",ob="Max",Dy="Maximum",cb="MaxPool",gC="MaxPoolGrad",lb="MaxPool3D",yC="MaxPool3DGrad",xC="MaxPoolWithArgmax",ub="Mean",fb="Min",Ry="Minimum",db="MirrorPad",Py="Mod",vC="Multinomial",Fy="Multiply",pb="Neg",hb="NotEqual",kC="NonMaxSuppressionV3",wC="NonMaxSuppressionV4",bC="NonMaxSuppressionV5",mb="OnesLike",gb="OneHot",yb="Pack",xb="PadV2",Oy="Pow",vb="Prelu",kb="Prod",_C="RaggedGather",AC="RaggedRange",NC="RaggedTensorToTensor",SC="Range",TC="Real",$y="Reciprocal",Ly="Relu",wb="Reshape",bb="ResizeNearestNeighbor",EC="ResizeNearestNeighborGrad",_b="ResizeBilinear",CC="ResizeBilinearGrad",My="Relu6",Ab="Reverse",By="Round",zy="Rsqrt",IC="ScatterNd",DC="TensorScatterUpdate",RC="SearchSorted",Nb="Select",Gy="Selu",Sb="Slice",Uy="Sin",Wy="Sinh",Vy="Sign",jy="Sigmoid",Hy="Softplus",Ky="Sqrt",Tb="Sum",Eb="SpaceToBatchND",Cb="SplitV",Ib="Softmax",PC="SparseFillEmptyRows",FC="SparseReshape",OC="SparseSegmentMean",$C="SparseSegmentSum",LC="SparseToDense",qy="SquaredDifference",MC="Square",Db="StaticRegexReplace",BC="StridedSlice",zC="StringNGrams",GC="StringSplit",UC="StringToHashBucketFast",Xy="Sub",Yy="Tan",Zy="Tanh",Qy="Tile",WC="TopK",VC="Transform",Qp="Transpose",jC="Unique",Rb="Unpack",Pb="UnsortedSegmentSum",Fb="ZerosLike",Jy="Step",jS="FromPixels",HC="RotateWithOffset",xk="_FusedMatMul",vk="FusedConv2D",kk="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ii(...t){Ce().getBool("IS_TEST")||Ce().getBool("PROD")||console.warn(...t)}function Tre(...t){Ce().getBool("IS_TEST")||Ce().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wk=UE("kernelRegistry",()=>new Map),HS=UE("gradRegistry",()=>new Map);function KS(t,e){const n=G6(t,e);return wk.get(n)}function LO(t){return HS.get(t)}function MO(t){const e=wk.entries(),n=[];for(;;){const{done:a,value:r}=e.next();if(a)break;const[s,i]=r,[o]=s.split("_");o===t&&n.push(i)}return n}function z6(t){const{kernelName:e,backendName:n}=t,a=G6(e,n);wk.has(a)&&ii(`The kernel '${e}' for backend '${n}' is already registered`),wk.set(a,t)}function Ere(t){const{kernelName:e}=t;HS.has(e)&&Ce().getBool("DEBUG")&&ii(`Overriding the gradient for '${e}'`),HS.set(e,t)}function G6(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U6(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var _N,BO;function Cre(){if(BO)return _N;BO=1,_N=e;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(P,R,B){this.low=P|0,this.high=R|0,this.unsigned=!!B}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0});function n(P){return(P&&P.__isLong__)===!0}e.isLong=n;var a={},r={};function s(P,R){var B,U,V;return R?(P>>>=0,(V=0<=P&&P<256)&&(U=r[P],U)?U:(B=o(P,(P|0)<0?-1:0,!0),V&&(r[P]=B),B)):(P|=0,(V=-128<=P&&P<128)&&(U=a[P],U)?U:(B=o(P,P<0?-1:0,!1),V&&(a[P]=B),B))}e.fromInt=s;function i(P,R){if(isNaN(P))return R?b:k;if(R){if(P<0)return b;if(P>=y)return E}else{if(P<=-9223372036854776e3)return D;if(P+1>=v)return C}return P<0?i(-P,R).neg():o(P%m|0,P/m|0,R)}e.fromNumber=i;function o(P,R,B){return new e(P,R,B)}e.fromBits=o;var c=Math.pow;function l(P,R,B){if(P.length===0)throw Error("empty string");if(P==="NaN"||P==="Infinity"||P==="+Infinity"||P==="-Infinity")return k;if(typeof R=="number"?(B=R,R=!1):R=!!R,B=B||10,B<2||36<B)throw RangeError("radix");var U;if((U=P.indexOf("-"))>0)throw Error("interior hyphen");if(U===0)return l(P.substring(1),R,B).neg();for(var V=i(c(B,8)),j=k,W=0;W<P.length;W+=8){var J=Math.min(8,P.length-W),q=parseInt(P.substring(W,W+J),B);if(J<8){var Z=i(c(B,J));j=j.mul(Z).add(i(q))}else j=j.mul(V),j=j.add(i(q))}return j.unsigned=R,j}e.fromString=l;function u(P,R){return typeof P=="number"?i(P,R):typeof P=="string"?l(P,R):o(P.low,P.high,typeof R=="boolean"?R:P.unsigned)}e.fromValue=u;var d=65536,h=1<<24,m=d*d,y=m*m,v=y/2,x=s(h),k=s(0);e.ZERO=k;var b=s(0,!0);e.UZERO=b;var _=s(1);e.ONE=_;var A=s(1,!0);e.UONE=A;var S=s(-1);e.NEG_ONE=S;var C=o(-1,2147483647,!1);e.MAX_VALUE=C;var E=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=E;var D=o(0,-2147483648,!1);e.MIN_VALUE=D;var I=e.prototype;return I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},I.toString=function(R){if(R=R||10,R<2||36<R)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(D)){var B=i(R),U=this.div(B),V=U.mul(B).sub(this);return U.toString(R)+V.toInt().toString(R)}else return"-"+this.neg().toString(R);for(var j=i(c(R,6),this.unsigned),W=this,J="";;){var q=W.div(j),Z=W.sub(q.mul(j)).toInt()>>>0,M=Z.toString(R);if(W=q,W.isZero())return M+J;for(;M.length<6;)M="0"+M;J=""+M+J}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(D)?64:this.neg().getNumBitsAbs();for(var R=this.high!=0?this.high:this.low,B=31;B>0&&(R&1<<B)==0;B--);return this.high!=0?B+33:B+1},I.isZero=function(){return this.high===0&&this.low===0},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return(this.low&1)===1},I.isEven=function(){return(this.low&1)===0},I.equals=function(R){return n(R)||(R=u(R)),this.unsigned!==R.unsigned&&this.high>>>31===1&&R.high>>>31===1?!1:this.high===R.high&&this.low===R.low},I.eq=I.equals,I.notEquals=function(R){return!this.eq(R)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(R){return this.comp(R)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(R){return this.comp(R)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(R){return this.comp(R)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(R){return this.comp(R)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(R){if(n(R)||(R=u(R)),this.eq(R))return 0;var B=this.isNegative(),U=R.isNegative();return B&&!U?-1:!B&&U?1:this.unsigned?R.high>>>0>this.high>>>0||R.high===this.high&&R.low>>>0>this.low>>>0?-1:1:this.sub(R).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(D)?D:this.not().add(_)},I.neg=I.negate,I.add=function(R){n(R)||(R=u(R));var B=this.high>>>16,U=this.high&65535,V=this.low>>>16,j=this.low&65535,W=R.high>>>16,J=R.high&65535,q=R.low>>>16,Z=R.low&65535,M=0,se=0,ue=0,le=0;return le+=j+Z,ue+=le>>>16,le&=65535,ue+=V+q,se+=ue>>>16,ue&=65535,se+=U+J,M+=se>>>16,se&=65535,M+=B+W,M&=65535,o(ue<<16|le,M<<16|se,this.unsigned)},I.subtract=function(R){return n(R)||(R=u(R)),this.add(R.neg())},I.sub=I.subtract,I.multiply=function(R){if(this.isZero())return k;if(n(R)||(R=u(R)),t){var B=t.mul(this.low,this.high,R.low,R.high);return o(B,t.get_high(),this.unsigned)}if(R.isZero())return k;if(this.eq(D))return R.isOdd()?D:k;if(R.eq(D))return this.isOdd()?D:k;if(this.isNegative())return R.isNegative()?this.neg().mul(R.neg()):this.neg().mul(R).neg();if(R.isNegative())return this.mul(R.neg()).neg();if(this.lt(x)&&R.lt(x))return i(this.toNumber()*R.toNumber(),this.unsigned);var U=this.high>>>16,V=this.high&65535,j=this.low>>>16,W=this.low&65535,J=R.high>>>16,q=R.high&65535,Z=R.low>>>16,M=R.low&65535,se=0,ue=0,le=0,ie=0;return ie+=W*M,le+=ie>>>16,ie&=65535,le+=j*M,ue+=le>>>16,le&=65535,le+=W*Z,ue+=le>>>16,le&=65535,ue+=V*M,se+=ue>>>16,ue&=65535,ue+=j*Z,se+=ue>>>16,ue&=65535,ue+=W*q,se+=ue>>>16,ue&=65535,se+=U*M+V*Z+j*q+W*J,se&=65535,o(le<<16|ie,se<<16|ue,this.unsigned)},I.mul=I.multiply,I.divide=function(R){if(n(R)||(R=u(R)),R.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-2147483648&&R.low===-1&&R.high===-1)return this;var B=(this.unsigned?t.div_u:t.div_s)(this.low,this.high,R.low,R.high);return o(B,t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?b:k;var U,V,j;if(this.unsigned){if(R.unsigned||(R=R.toUnsigned()),R.gt(this))return b;if(R.gt(this.shru(1)))return A;j=b}else{if(this.eq(D)){if(R.eq(_)||R.eq(S))return D;if(R.eq(D))return _;var W=this.shr(1);return U=W.div(R).shl(1),U.eq(k)?R.isNegative()?_:S:(V=this.sub(R.mul(U)),j=U.add(V.div(R)),j)}else if(R.eq(D))return this.unsigned?b:k;if(this.isNegative())return R.isNegative()?this.neg().div(R.neg()):this.neg().div(R).neg();if(R.isNegative())return this.div(R.neg()).neg();j=k}for(V=this;V.gte(R);){U=Math.max(1,Math.floor(V.toNumber()/R.toNumber()));for(var J=Math.ceil(Math.log(U)/Math.LN2),q=J<=48?1:c(2,J-48),Z=i(U),M=Z.mul(R);M.isNegative()||M.gt(V);)U-=q,Z=i(U,this.unsigned),M=Z.mul(R);Z.isZero()&&(Z=_),j=j.add(Z),V=V.sub(M)}return j},I.div=I.divide,I.modulo=function(R){if(n(R)||(R=u(R)),t){var B=(this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,R.low,R.high);return o(B,t.get_high(),this.unsigned)}return this.sub(this.div(R).mul(R))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return o(~this.low,~this.high,this.unsigned)},I.and=function(R){return n(R)||(R=u(R)),o(this.low&R.low,this.high&R.high,this.unsigned)},I.or=function(R){return n(R)||(R=u(R)),o(this.low|R.low,this.high|R.high,this.unsigned)},I.xor=function(R){return n(R)||(R=u(R)),o(this.low^R.low,this.high^R.high,this.unsigned)},I.shiftLeft=function(R){return n(R)&&(R=R.toInt()),(R&=63)===0?this:R<32?o(this.low<<R,this.high<<R|this.low>>>32-R,this.unsigned):o(0,this.low<<R-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(R){return n(R)&&(R=R.toInt()),(R&=63)===0?this:R<32?o(this.low>>>R|this.high<<32-R,this.high>>R,this.unsigned):o(this.high>>R-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(R){if(n(R)&&(R=R.toInt()),R&=63,R===0)return this;var B=this.high;if(R<32){var U=this.low;return o(U>>>R|B<<32-R,B>>>R,this.unsigned)}else return R===32?o(B,0,this.unsigned):o(B>>>R-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},I.toBytes=function(R){return R?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var R=this.high,B=this.low;return[B&255,B>>>8&255,B>>>16&255,B>>>24,R&255,R>>>8&255,R>>>16&255,R>>>24]},I.toBytesBE=function(){var R=this.high,B=this.low;return[R>>>24,R>>>16&255,R>>>8&255,R&255,B>>>24,B>>>16&255,B>>>8&255,B&255]},e.fromBytes=function(R,B,U){return U?e.fromBytesLE(R,B):e.fromBytesBE(R,B)},e.fromBytesLE=function(R,B){return new e(R[0]|R[1]<<8|R[2]<<16|R[3]<<24,R[4]|R[5]<<8|R[6]<<16|R[7]<<24,B)},e.fromBytesBE=function(R,B){return new e(R[4]<<24|R[5]<<16|R[6]<<8|R[7],R[0]<<24|R[1]<<16|R[2]<<8|R[3],B)},_N}var W6=Cre();const V6=Fh(W6),Ire=O5({__proto__:null,default:V6},[W6]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _f=V6||Ire;function Ob(t){return _f.fromString(t,!0,16)}const j6=Ob("c3a5c85c97cb3127"),bf=Ob("b492b66fbe98f273"),ss=Ob("9ae16a3b2f90404f");function qS(t){return t.xor(t.shru(47))}function H6(t,e,n){const a=t.slice(e,e+n);return _f.fromBytes(Array.from(a),!0,!0)}function oa(t,e){return H6(t,e,8)}function zO(t,e){return H6(t,e,4)}function hr(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function au(t,e,n=Ob("9ddfea08eb382d69")){let a=t.xor(e).mul(n);a=a.xor(a.shru(47));let r=e.xor(a).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function Dre(t,e,n,a,r,s){r=r.add(t),s=hr(s.add(r).add(a),21);const i=r;return r=r.add(e),r=r.add(n),s=s.add(hr(r,44)),[r.add(a),s.add(i)]}function ov(t,e,n,a){return Dre(oa(t,e),oa(t,e+8),oa(t,e+16),oa(t,e+24),n,a)}function Rre(t,e=t.length){if(e>=8){const n=ss.add(e*2),a=oa(t,0).add(ss),r=oa(t,e-8),s=hr(r,37).mul(n).add(a),i=hr(a,25).add(r).mul(n);return au(s,i,n)}if(e>=4){const n=ss.add(e*2),a=zO(t,0);return au(a.shl(3).add(e),zO(t,e-4),n)}if(e>0){const n=t[0],a=t[e>>1],r=t[e-1],s=n+(a<<8),i=e+(r<<2);return qS(ss.mul(s).xor(j6.mul(i))).mul(ss)}return ss}function Pre(t,e=t.length){const n=ss.add(e*2),a=oa(t,0).mul(bf),r=oa(t,8),s=oa(t,e-8).mul(n),i=oa(t,e-16).mul(ss);return au(hr(a.add(r),43).add(hr(s,30)).add(i),a.add(hr(r.add(ss),18)).add(s),n)}function Fre(t,e=t.length){const n=ss.add(e*2),a=oa(t,0).mul(ss),r=oa(t,8),s=oa(t,e-8).mul(n),i=oa(t,e-16).mul(ss),o=hr(a.add(r),43).add(hr(s,30)).add(i),c=au(o,a.add(hr(r.add(ss),18)).add(s),n),l=oa(t,16).mul(n),u=oa(t,24),d=o.add(oa(t,e-32)).mul(n),h=c.add(oa(t,e-24)).mul(n);return au(hr(l.add(u),43).add(hr(d,30)).add(h),l.add(hr(u.add(a),18)).add(d),n)}function Ore(t,e=t.length){const n=_f.fromNumber(81,!0);if(e<=32)return e<=16?Rre(t,e):Pre(t,e);if(e<=64)return Fre(t,e);let a=n,r=n.mul(bf).add(113),s=qS(r.mul(ss).add(113)).mul(ss),i=[_f.UZERO,_f.UZERO],o=[_f.UZERO,_f.UZERO];a=a.mul(ss).add(oa(t,0));let c=0;const l=(e-1>>6)*64,u=l+(e-1&63)-63;do a=hr(a.add(r).add(i[0]).add(oa(t,c+8)),37).mul(bf),r=hr(r.add(i[1]).add(oa(t,c+48)),42).mul(bf),a=a.xor(o[1]),r=r.add(i[0]).add(oa(t,c+40)),s=hr(s.add(o[0]),33).mul(bf),i=ov(t,c,i[1].mul(bf),a.add(o[0])),o=ov(t,c+32,s.add(o[1]),r.add(oa(t,c+16))),[s,a]=[a,s],c+=64;while(c!==l);const d=bf.add(s.and(255).shl(1));return c=u,o[0]=o[0].add(e-1&63),i[0]=i[0].add(o[0]),o[0]=o[0].add(i[0]),a=hr(a.add(r).add(i[0]).add(oa(t,c+8)),37).mul(d),r=hr(r.add(i[1]).add(oa(t,c+48)),42).mul(d),a=a.xor(o[1].mul(9)),r=r.add(i[0].mul(9).add(oa(t,c+40))),s=hr(s.add(o[0]),33).mul(d),i=ov(t,c,i[1].mul(d),a.add(o[0])),o=ov(t,c+32,s.add(o[1]),r.add(oa(t,c+16))),[s,a]=[a,s],au(au(i[0],o[0],d).add(qS(r).mul(j6)).add(s),au(i[1],o[1],d).add(a),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pu(t,e){return e==="string"?ru(t):Sd([t],e)}function $re(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Sd(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Jf(t)),Ce().getBool("DEBUG")&&pre(t,e),$re(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let a=0;a<n.length;++a)Math.round(t[a])!==0&&(n[a]=1);return n}else throw new Error(`Unknown data type ${e}`)}function As(){return Ce().platform.now()}function ru(t,e="utf-8"){return e=e||"utf-8",Ce().platform.encode(t,e)}function pu(t,e="utf-8"){return e=e||"utf-8",Ce().platform.decode(t,e)}function Yi(t){return Ce().platform.isTypedArray!=null?Ce().platform.isTypedArray(t):U6(t)}function Jf(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Qf(t)||t==null||Yi(t)&&n)e.push(t);else if(Array.isArray(t)||Yi(t))for(let a=0;a<t.length;++a)Jf(t[a],e,n);else{let a=-1;for(const r of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(r)&&(a=Math.max(a,Number(r)));for(let r=0;r<=a;r++)Jf(t[r],e,n)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lre{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new Bre)}profileKernel(e,n,a){let r;const s=()=>{r=a()};let i;const o=As();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(s);else{s();for(const l of r)l.dataSync();i=Promise.resolve({kernelMs:As()-o})}if(Ce().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let l=0;l<r.length;l++){const u=r[l];u.data().then(d=>{Mre(d,u.dtype,e)})}return{kernelName:e,outputs:r,inputs:n,timeMs:i.then(l=>l.kernelMs),extraInfo:i.then(l=>l.getExtraProfileInfo!=null?l.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:a,timeMs:r,inputs:s,extraInfo:i}=e;a.forEach(o=>{Promise.all([o.data(),r,i]).then(c=>{this.logger.logKernelProfile(n,o,c[0],c[1],s,c[2])})})}}function Mre(t,e,n){if(e!=="float32")return!1;for(let a=0;a<t.length;a++){const r=t[a];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${n}'`),!0}return!1}let Bre=class{logKernelProfile(e,n,a,r,s,i){const o=typeof r=="number"?Zp(`${r}ms`,9):r.error,c=Zp(e,25),l=n.rank,u=n.size,d=Zp(n.shape.toString(),14);let h="";for(const m in s){const y=s[m];if(y!=null){const v=y.shape||n.shape,x=v.length;h+=`${m}: ${x}D ${x>0?v:""} `}}console.log(`%c${c}	%c${o}	%c${l}D ${d}	%c${u}	%c${h}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zre(t,e,n){const a={},r={};for(let c=0;c<e.length;c++)a[e[c].id]=!0;for(let c=0;c<t.length;c++){const l=t[c],u=l.inputs;for(const d in u){const h=u[d];let m=!1;for(let y=0;y<e.length;y++)if(a[h.id]){l.outputs.forEach(v=>a[v.id]=!0),m=!0,r[l.id]=!0;break}if(m)break}}const s={};s[n.id]=!0;const i={};for(let c=t.length-1;c>=0;c--){const l=t[c],u=l.inputs;for(let d=0;d<l.outputs.length;d++)if(s[l.outputs[d].id]){for(const h in u)s[u[h].id]=!0,i[l.id]=!0;break}}const o=[];for(let c=0;c<t.length;c++){const l=t[c];if(r[l.id]&&i[l.id]){const u={};for(const h in l.inputs){const m=l.inputs[h];a[m.id]&&(u[h]=m)}const d=Object.assign({},l);d.inputs=u,d.outputs=l.outputs,o.push(d)}}return o}function Gre(t,e,n,a){for(let r=e.length-1;r>=0;r--){const s=e[r],i=[];if(s.outputs.forEach(c=>{const l=t[c.id];l!=null?i.push(l):i.push(null)}),s.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const o=s.gradient(i);for(const c in s.inputs){if(!(c in o))throw new Error(`Cannot backprop through input ${c}. Available gradients found: ${Object.keys(o)}.`);const l=n(()=>o[c]());if(l.dtype!=="float32")throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${c} must have 'float32' dtype, but has '${l.dtype}'`);const u=s.inputs[c];if(!Sn(l.shape,u.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${c}' has shape '${l.shape}', which does not match the shape of the input '${u.shape}'`);if(t[u.id]==null)t[u.id]=l;else{const d=t[u.id];t[u.id]=a(d,l),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GO=20,u0=3,AN=7;function Ure(t,e,n,a){const r=Ft(e),s=Wre(t,e,n,r),i=e.length,o=Kv(t,e,n,r,s),c=["Tensor"];return a&&(c.push(`  dtype: ${n}`),c.push(`  rank: ${i}`),c.push(`  shape: [${e}]`),c.push("  values:")),c.push(o.map(l=>"    "+l).join(`
`)),c.join(`
`)}function Wre(t,e,n,a){const r=Me(e),s=a[a.length-1],i=new Array(s).fill(0),o=e.length,c=n==="complex64"?v0(t):t;if(o>1)for(let l=0;l<r/s;l++){const u=l*s;for(let d=0;d<s;d++)i[d]=Math.max(i[d],x0(c[u+d],0,n).length)}return i}function x0(t,e,n){let a;return Array.isArray(t)?a=`${parseFloat(t[0].toFixed(AN))} + ${parseFloat(t[1].toFixed(AN))}j`:ry(t)?a=`'${t}'`:n==="bool"?a=K6(t):a=parseFloat(t.toFixed(AN)).toString(),Zp(a,e)}function K6(t){return t===0?"false":"true"}function Kv(t,e,n,a,r,s=!0){const i=n==="complex64"?2:1,o=e[0],c=e.length;if(c===0){if(n==="complex64"){const v=v0(t);return[x0(v[0],0,n)]}return n==="bool"?[K6(t[0])]:[t[0].toString()]}if(c===1){if(o>GO){const x=u0*i;let k=Array.from(t.slice(0,x)),b=Array.from(t.slice((o-u0)*i,o*i));return n==="complex64"&&(k=v0(k),b=v0(b)),["["+k.map((_,A)=>x0(_,r[A],n)).join(", ")+", ..., "+b.map((_,A)=>x0(_,r[o-u0+A],n)).join(", ")+"]"]}return["["+(n==="complex64"?v0(t):Array.from(t)).map((x,k)=>x0(x,r[k],n)).join(", ")+"]"]}const l=e.slice(1),u=a.slice(1),d=a[0]*i,h=[];if(o>GO){for(let v=0;v<u0;v++){const x=v*d,k=x+d;h.push(...Kv(t.slice(x,k),l,n,u,r,!1))}h.push("...");for(let v=o-u0;v<o;v++){const x=v*d,k=x+d;h.push(...Kv(t.slice(x,k),l,n,u,r,v===o-1))}}else for(let v=0;v<o;v++){const x=v*d,k=x+d;h.push(...Kv(t.slice(x,k),l,n,u,r,v===o-1))}const m=c===2?",":"";h[0]="["+(o>0?h[0]+m:"");for(let v=1;v<h.length-1;v++)h[v]=" "+h[v]+m;let y=`,
`;for(let v=2;v<c;v++)y+=`
`;return h[h.length-1]=" "+h[h.length-1]+"]"+(s?"":y),h}function v0(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rr{constructor(e,n,a){if(this.dtype=n,this.shape=e.slice(),this.size=Me(e),a!=null){const r=a.length;K(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=a||La(n,this.size),this.strides=Ft(e)}set(e,...n){n.length===0&&(n=[0]),K(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const a=this.locToIndex(n);this.values[a]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const r of e){if(r<0||r>=this.shape[n]){const s=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(s)}n++}let a=e[e.length-1];for(let r=0;r<e.length-1;++r)a+=this.strides[r]*e[r];return this.values[a]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let a=0;a<e.length-1;++a)n+=this.strides[a]*e[a];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let a=0;a<n.length-1;++a)n[a]=Math.floor(e/this.strides[a]),e-=n[a]*this.strides[a];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return mo().makeTensor(this.values,this.shape,this.dtype)}}let mo=null,Up=null;function Vre(t){mo=t}function jre(t){Up=t}class ga{constructor(e,n,a,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Me(e),this.strides=Ft(e),this.dataId=a,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Up.buffer(this.shape,this.dtype,e)}bufferSync(){return Up.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Ki(this.shape,e,this.dtype==="complex64")}arraySync(){return Ki(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=mo().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(a=>pu(a))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),mo().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=mo().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>pu(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await mo().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),mo().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Up.print(this,e)}clone(){return this.throwIfDisposed(),Up.clone(this)}toString(e=!1){const n=this.dataSync();return Ure(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Up.cast(this,e)}variable(e=!0,n,a){return this.throwIfDisposed(),mo().makeVariable(this,e,n,a)}}Object.defineProperty(ga,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function ze(){return UE("Tensor",()=>ga)}ze();class bk extends ga{constructor(e,n,a,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=n,this.name=a}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Sn(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);mo().disposeTensor(this),this.dataId=e.dataId,mo().incRef(this,null)}dispose(){mo().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(bk,Symbol.hasInstance,{value:t=>t instanceof ga&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var UO;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(UO||(UO={}));var XS;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(XS||(XS={}));var YS;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(YS||(YS={}));var ZS;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(ZS||(ZS={}));var QS;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(QS||(QS={}));const Hre={float32:ZS,int32:XS,bool:YS,complex64:QS};function js(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return Hre[t][e]}function KC(t){return js(t,"int32")}function q6(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function X6(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ca(t,e){if(t.dtype===e.dtype)return[t,e];const n=js(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Kre(t,e){K(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function Y6(t){const e=[];return Z6(t,e,new Set),e}function Z6(t,e,n){if(t==null)return;if(t instanceof ga){e.push(t);return}if(!qre(t))return;const a=t;for(const r in a){const s=a[r];n.has(s)||(n.add(s),Z6(s,e,n))}}function qre(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NN(t){return t.kernelName!=null}class WO{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class mh{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new WO}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const a=e[n];if(await this.initializeBackend(a).success){await this.setBackend(a);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,a=1){return e in this.registryFactory?(ii(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:a},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:a}=this.initializeBackend(e);if(!(a?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Lre(this.backendInstance),!0}setupRegisteredKernels(){MO(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){MO(e).forEach(a=>{a.disposeFunc!=null&&a.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const a=n.factory();if(a&&!(a instanceof BE)&&typeof a.then=="function"){const r=++this.pendingBackendInitId,s=a.then(i=>r<this.pendingBackendInitId?!1:(this.registry[e]=i,this.pendingBackendInit=null,!0)).catch(i=>(r<this.pendingBackendInitId||(this.pendingBackendInit=null,ii(`Initialization of backend ${e} failed`),ii(i.stack||i.message)),!1));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[e]=a,{success:!0,asyncInit:!1}}catch(a){return ii(`Initialization of backend ${e} failed`),ii(a.stack||a.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const a=e[n],{success:r,asyncInit:s}=this.initializeBackend(a);if(s||r)return{name:a,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const a=this.state.tensorInfo.get(n),r=a.backend,s=this.readSync(n),i=r.refCount(n);r.disposeData(n,!0),a.backend=e,e.move(n,s,a.shape,a.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let a=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}let r;return this.scopedRun(()=>this.startScope(a),()=>this.endScope(r),()=>(r=n(),r instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r))}scopedRun(e,n,a){e();try{const r=a();return n(),r}catch(r){throw n(),r}}nextTensorId(){return mh.nextTensorId++}nextVariableId(){return mh.nextVariableId++}clone(e){const n=he.runKernel(Ny,{x:e}),a={x:e},r=i=>({x:()=>{const o="float32",c={x:i},l={dtype:o};return he.runKernel(dy,c,l)}}),s=[];return this.addTapeNode(this.state.activeScope.name,a,[n],r,s,{}),n}runKernel(e,n,a){if(this.backendName==null&&this.backend,!(KS(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:a})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,a){const r=this.backend.numDataIds();let s=0;a.forEach(c=>{s+=c.dtype==="complex64"?3:1});const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-n-s-i;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let n,a=[];const r=this.isTapeOn(),s=this.state.numBytes,i=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let o;this.backendName==null&&this.backend;let c;const l=NN(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(NN(e)){const{kernelName:y,inputs:v,attrs:x}=e;this.backendName==null&&this.backend;const k=KS(y,this.backendName);K(k!=null,()=>`Cannot find registered kernel '${y}' for backend '${this.backendName}'`),o=()=>{const b=this.backend.numDataIds();c=k.kernelFunc({inputs:v,attrs:x,backend:this.backend});const _=Array.isArray(c)?c:[c];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(y,b,_);const A=_.map(S=>S.rank!=null?S:this.makeTensorFromTensorInfo(S));if(r){const S=this.getTensorsForGradient(y,v,A);a=this.saveTensorsForBackwardMode(S)}return A}}else{const{forwardFunc:y}=e,v=x=>{r&&(a=x.map(k=>this.keep(this.clone(k))))};o=()=>{const x=this.backend.numDataIds();c=this.tidy(()=>y(this.backend,v));const k=Array.isArray(c)?c:[c];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,x,k),k}}const{inputs:u,attrs:d}=e,h=NN(e)?null:e.backwardsFunc;let m;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=o():(m=this.profiler.profileKernel(l,u,()=>o()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),n=m.outputs)}),r&&this.addTapeNode(l,u,n,h,a,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(y=>u[y]!=null?u[y].shape:null),outputShapes:n.map(y=>y.shape),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(c)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(a=>this.keep(this.clone(a)))}getTensorsForGradient(e,n,a){const r=LO(e);if(r!=null){const s=r.inputsToSave||[],i=r.outputsToSave||[];let o;r.saveAllInputs?(K(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(n).map(l=>n[l])):o=s.map(l=>n[l]);const c=a.filter((l,u)=>i[u]);return o.concat(c)}return[]}makeTensor(e,n,a,r){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");a=a||"float32",r=r||this.backend;let s=e;a==="string"&&ry(e[0])&&(s=e.map(c=>ru(c)));const i=r.write(s,n,a),o=new ga(n,a,i,this.nextTensorId());if(this.trackTensor(o,r),a==="string"){const c=this.state.tensorInfo.get(i),l=mre(s);this.state.numBytes+=l-c.bytes,c.bytes=l}return o}makeTensorFromDataId(e,n,a,r){a=a||"float32";const s={dataId:e,shape:n,dtype:a};return this.makeTensorFromTensorInfo(s,r)}makeTensorFromTensorInfo(e,n){const{dataId:a,shape:r,dtype:s}=e,i=new ga(r,s,a,this.nextTensorId());return this.trackTensor(i,n),i}makeVariable(e,n=!0,a,r){a=a||this.nextVariableId().toString(),r!=null&&r!==e.dtype&&(e=e.cast(r));const s=new bk(e,n,a,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let a=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(a=e.size*yk(e.dtype)),this.state.numBytes+=a,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:a})),e instanceof bk||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const a=e.size*yk(e.dtype);this.state.numBytes-=a}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,a=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(r=>r.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-a;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,a,r,s,i){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:a,saved:s},c=LO(e);c!=null&&(r=c.gradFunc),r!=null&&(o.gradient=l=>(l=l.map((u,d)=>{if(u==null){const h=a[d],m=jr(h.size,h.dtype);return this.makeTensor(m,h.shape,h.dtype)}return u}),r(l.length>1?l:l[0],s,i))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=Y6(e),a=new Set(n.map(s=>s.id));for(let s=0;s<this.state.activeScope.track.length;s++){const i=this.state.activeScope.track[s];!i.kept&&!a.has(i.id)&&i.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(s=>{!s.kept&&s.scopeId===r.id&&this.track(s)})}gradients(e,n,a,r=!1){if(K(n.length>0,()=>"gradients() received an empty list of xs."),a!=null&&a.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${a.dtype}'`);const s=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));K(s instanceof ga,()=>"The result y returned by f() must be a tensor.");const i=zre(this.state.activeTape,n,s);if(!r&&i.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const o={};o[s.id]=a??Xre(s.shape),Gre(o,i,l=>this.tidy(l),Yre);const c=n.map(l=>o[l.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(l=>{for(const u of l.saved)u.dispose()}),this.state.activeTape=null),{value:s,grads:c}})}customGrad(e){return K(GS(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{K(n.every(o=>o instanceof ga),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let a;const r={};n.forEach((o,c)=>{r[c]=o});const s=(o,c)=>(a=e(...n,c),K(a.value instanceof ga,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),K(GS(a.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),a.value),i=(o,c)=>{const l=a.gradFunc(o,c),u=Array.isArray(l)?l:[l];K(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),K(u.every(h=>h instanceof ga),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return u.forEach((h,m)=>{d[m]=()=>h}),d};return this.runKernelFunc({forwardFunc:s,backwardsFunc:i,inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=As(),a=await this.backend.time(e);return a.wallMs=As()-n,a}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new WO;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}mh.nextTensorId=0;mh.nextVariableId=0;function Xre(t){const e=GE(Me(t),"float32");return he.makeTensor(e,t,"float32")}function Q6(){const t=B6();if(t._tfengine==null){const e=new xre(t);t._tfengine=new mh(e)}return bre(t._tfengine.ENV),Vre(()=>t._tfengine),t._tfengine}const he=Q6();function Yre(t,e){const n={a:t,b:e};return he.runKernel(Vh,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zre(){return typeof navigator<"u"&&navigator!=null}function J6(t){if(t||Zre()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function e8(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ds=Ce();Ds.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Ds.registerFlag("IS_BROWSER",()=>e8());Ds.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Ds.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Ds.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Ds.registerFlag("PROD",()=>!1);Ds.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ds.getBool("DEBUG"));Ds.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Ds.registerFlag("IS_TEST",()=>!1);Ds.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Ds.getBool("DEBUG"));Ds.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Ds.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Ds.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fu(t,e){let n=t;if(Yi(t))return e==="string"?[]:[t.length];if(q6(t)){const r=t.channels||"RGBA";return[t.height,t.width*r.length]}else if(X6(t))return[t.buffer.size/(e==null?4:yk(e))];if(!Array.isArray(t))return[];const a=[];for(;Array.isArray(n)||Yi(n)&&e!=="string";)a.push(n.length),n=n[0];return Array.isArray(t)&&Ce().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&t8(t,a,[]),a}function t8(t,e,n){if(n=n||[],!Array.isArray(t)&&!Yi(t)){K(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}K(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),K(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const a=e.slice(1);for(let r=0;r<t.length;++r)t8(t[r],a,n.concat(r))}function VO(t,e,n,a){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${a}' must be ${t} tensor, but got ${e} tensor`)}}function X(t,e,n,a="numeric"){if(t instanceof ze())return VO(a,t.dtype,e,n),t;let r=Uh(t);if(r!=="string"&&["bool","int32","float32"].indexOf(a)>=0&&(r=a),VO(a,r,e,n),t==null||!Yi(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const c=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${c}'`)}const s=Fu(t,r);!Yi(t)&&!Array.isArray(t)&&(t=[t]);const o=r!=="string"?Sd(t,r):Jf(t,[],!0);return he.makeTensor(o,s,r)}function _k(t,e,n,a="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((s,i)=>X(s,`${e}[${i}]`,n,a))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n8="__op";function pe(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const a=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+n8;const r=(...s)=>{he.startScope(n);try{const i=a(...s);return Qf(i)&&console.error("Cannot return a Promise inside of tidy."),he.endScope(i),i}catch(i){throw he.endScope(null),i}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qre(t,e){const n=X(t,"real","complex"),a=X(e,"imag","complex");Qs(n.shape,a.shape,`real and imag shapes, ${n.shape} and ${a.shape}, must match in call to tf.complex().`);const r={real:n,imag:a};return he.runKernel(XE,r)}const hu=pe({complex_:Qre});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ou(t,e,n,a){if(a==null)a=Uh(t);else if(a==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(X6(t)||q6(t)){if(a!=="float32"&&a!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${a}.`);return he.backend.createTensorFromGPUData(t,e||n,a)}if(!Yi(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){gi(e);const r=Me(e),s=Me(n);K(r===s,()=>`Based on the provided shape, [${e}], the tensor should have ${r} values but has ${s}`);for(let i=0;i<n.length;++i){const o=n[i],c=i===n.length-1?o!==Me(e.slice(i)):!0;K(n[i]===e[i]||!c,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!Yi(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=a!=="string"?Sd(t,a):Jf(t,[],!0),he.makeTensor(t,e,a)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ko(t,e,n){const a=Fu(t,n);return Ou(t,e,a,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ed={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Oo{static join(e){return new Oo(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(a=>Yi(a)?a.buffer:a),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let a=0;a<e.length;a++){const r=e[a];a!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const s=n+r.byteLength;this.shards.push({buffer:r,start:n,end:s}),n=s}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const a=this.findShardForByte(e);if(a===-1)throw new Error(`Could not find start shard for byte ${e}`);const r=n-e,s=new ArrayBuffer(r),i=new Uint8Array(s);let o=0;for(let c=a;c<this.shards.length;c++){const l=this.shards[c],d=e+o-l.start,h=o,y=Math.min(n,l.end)-l.start,v=new Uint8Array(l.buffer,d,y-d);if(i.set(v,h),o+=v.length,n<l.end)break}return s}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(r){return e<r.start?-1:e>=r.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const a=Jre(this.shards,n);return a===-1?-1:(this.previousShardIndex=a,this.previousShardIndex)}}function Jre(t,e){let n=0,a=t.length;for(;n<=a;){const r=Math.floor((a-n)/2)+n,s=e(t[r]);if(s===0)return r;s<0?a=r:n=r+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mi(){return he}function jO(){return he.memory()}function Ne(t,e){return he.tidy(t,e)}function mn(t){Y6(t).forEach(n=>n.dispose())}function xr(t){return he.keep(t)}function ese(){return he.backendName}function a8(t,e,n=1){return he.registerBackend(t,e,n)}function r8(){return he.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mu=4;async function JS(t,e){const n=[],a=[],r=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);for(let i=0;i<r.length;++i){const o=r[i],c=Array.isArray(t)?t[i].tensor:t[o];if(c.dtype!=="float32"&&c.dtype!=="int32"&&c.dtype!=="bool"&&c.dtype!=="string"&&c.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${o}': ${c.dtype}`);const l={name:o,shape:c.shape,dtype:c.dtype};if(c.dtype==="string"){const u=new Promise(async d=>{const h=await c.bytes(),m=h.reduce((x,k)=>x+k.length,0)+mu*h.length,y=new Uint8Array(m);let v=0;for(let x=0;x<h.length;x++){const k=h[x],b=new Uint8Array(new Uint32Array([k.length]).buffer);y.set(b,v),v+=mu,y.set(k,v),v+=k.length}d(y)});a.push(u)}else a.push(c.data());e!=null&&(l.group=e),n.push(l)}const s=await Promise.all(a);return{data:ase(s),specs:n}}function s8(t,e){const n=new Oo(t),a={};let r=0;for(const s of e){const i=tse(s,(o,c)=>n.slice(r+o,r+c));a[s.name]=i8(s,n.slice(r,r+i)),r+=i}return a}function tse(t,e){const n=Me(t.shape);let a;if("quantization"in t){const r=t.quantization;a=ed[r.dtype]}else if(t.dtype==="string"){let r=0;for(let s=0;s<n;s++)r+=mu+new Uint32Array(e(r,r+mu))[0];return r}else a=ed[t.dtype];return n*a}async function nse(t,e){const n=Me(t.shape);let a;if("quantization"in t){const r=t.quantization;a=ed[r.dtype]}else if(t.dtype==="string"){let r=0;for(let s=0;s<n;s++)r+=mu+new Uint32Array(await e(r,r+mu))[0];return r}else a=ed[t.dtype];return n*a}function i8(t,e){const n=t.name,a=t.dtype,r=t.shape,s=Me(r);let i,o=0;if("quantization"in t){const c=t.quantization;if(c.dtype==="uint8"||c.dtype==="uint16"){if(!("min"in c&&"scale"in c))throw new Error(`Weight ${t.name} with quantization ${c.dtype} doesn't have corresponding metadata min and scale.`)}else if(c.dtype==="float16"){if(a!=="float32")throw new Error(`Weight ${t.name} is quantized with ${c.dtype} which only supports weights of type float32 not ${a}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${c.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const l=ed[c.dtype],u=c.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(a==="float32")if(c.dtype==="uint8"||c.dtype==="uint16"){i=new Float32Array(u.length);for(let d=0;d<u.length;d++){const h=u[d];i[d]=h*c.scale+c.min}}else if(c.dtype==="float16")i=lse()(u);else throw new Error(`Unsupported quantization type ${c.dtype} for weight type float32.`);else if(a==="int32"){if(c.dtype!=="uint8"&&c.dtype!=="uint16")throw new Error(`Unsupported quantization type ${c.dtype} for weight type int32.`);i=new Int32Array(u.length);for(let d=0;d<u.length;d++){const h=u[d];i[d]=Math.round(h*c.scale+c.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${a}`);o+=s*l}else if(a==="string"){const c=Me(t.shape);i=[];for(let l=0;l<c;l++){const u=new Uint32Array(e.slice(o,o+mu))[0];o+=mu;const d=new Uint8Array(e.slice(o,o+u));i.push(d),o+=u}}else{const c=ed[a];if(a==="float32")i=new Float32Array(e);else if(a==="int32")i=new Int32Array(e);else if(a==="bool")i=new Uint8Array(e);else if(a==="complex64"){i=new Float32Array(e);const l=new Float32Array(i.length/2),u=new Float32Array(i.length/2);for(let y=0;y<l.length;y++)l[y]=i[y*2],u[y]=i[y*2+1];const d=ko(l,r,"float32"),h=ko(u,r,"float32"),m=hu(d,h);return d.dispose(),h.dispose(),m}else throw new Error(`Unsupported dtype in weight '${n}': ${a}`);o+=s*c}return ko(i,r,a)}async function HO(t,e,n){let a=new Uint8Array(e);for(;a.byteLength<n;){const{done:r,value:s}=await t.read();if(r&&s==null){const o=n-a.byteLength;throw new Error(`Reader is done but ${o} bytes are still expected`)}const i=new Uint8Array(a.length+s.byteLength);i.set(a,0),i.set(new Uint8Array(s),a.length),a=i}return a.buffer}async function o8(t,e){const n={},a=t.getReader();let r=new ArrayBuffer(0);for(const s of e){const i=await nse(s,async(l,u)=>(r=await HO(a,r,u),r.slice(l,u)));r=await HO(a,r,i);const o=r.slice(0,i);r=r.slice(i);const c=i8(s,o);if(n[s.name]=c,ese()==="webgpu"){const l=r8();"uploadToGPU"in l&&Me(c.shape)>=Ce().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&l.uploadToGPU(c.dataId)}}return n}function ase(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(s=>{if(e+=s.byteLength,n.push(s.byteLength===s.buffer.byteLength?s:new s.constructor(s)),!(s instanceof Float32Array||s instanceof Int32Array||s instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${s.constructor.name}`)});const a=new Uint8Array(e);let r=0;return n.forEach(s=>{a.set(new Uint8Array(s.buffer),r),r+=s.byteLength}),a.buffer}const qC=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function KO(t){return qC?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function rse(t){if(qC)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let a=0,r=e.length;a<r;a++)n+=String.fromCharCode(e[a]);return btoa(n)}function sse(t){if(qC){const a=Buffer.from(t,"base64");return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let a=0;a<e.length;++a)n.set([e.charCodeAt(a)],a);return n.buffer}function c8(t){return Oo.join(t)}function qO(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function l8(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function u8(t,e,n){const a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(a.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");a.weightSpecs=e,a.weightData=n}return t.signature!=null&&(a.signature=t.signature),t.userDefinedMetadata!=null&&(a.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(a.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(a.initializerSignature=t.initializerSignature),a}async function XC(t,e){let n,a;return t.weightsManifest!=null&&([n,a]=await e(t.weightsManifest)),u8(t,n,a)}function e1(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:KO(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:KO(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new Oo(t.weightData).byteLength}}function eT(t){const e=[];for(const n of t)e.push(...n.weights);return e}function ise(){const t=n=>{let a=n<<13,r=0;for(;(a&8388608)===0;)r-=8388608,a<<=1;return a&=-8388609,r+=947912704,a|r},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function ose(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function cse(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function lse(){const t=ise(),e=ose(),n=cse();return a=>{const r=new ArrayBuffer(4*a.length),s=new Uint32Array(r);for(let i=0;i<a.length;i++){const o=a[i],c=t[n[o>>10]+(o&1023)]+e[o>>10];s[i]=c}return new Float32Array(r)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ma{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return ma.instance==null&&(ma.instance=new ma),ma.instance}static registerSaveRouter(e){ma.getInstance().saveRouters.push(e)}static registerLoadRouter(e){ma.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return ma.getHandlers(e,"save")}static getLoadHandlers(e,n){return ma.getHandlers(e,"load",n)}static getHandlers(e,n,a){const r=[];return(n==="load"?ma.getInstance().loadRouters:ma.getInstance().saveRouters).forEach(i=>{const o=i(e,a);o!==null&&r.push(o)}),r}}const use=t=>ma.registerSaveRouter(t),fse=t=>ma.registerLoadRouter(t),f8=t=>ma.getSaveHandlers(t),dse=(t,e)=>ma.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tT="tensorflowjs",nT=1,Pf="models_store",Jl="model_info_store";function d8(){if(!Ce().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function aT(t){const e=t.result;e.createObjectStore(Pf,{keyPath:"modelPath"}),e.createObjectStore(Jl,{keyPath:"modelPath"})}class td{constructor(e){if(this.indexedDB=d8(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((a,r)=>{const s=this.indexedDB.open(tT,nT);s.onupgradeneeded=()=>aT(s),s.onsuccess=()=>{const i=s.result;if(n==null){const o=i.transaction(Pf,"readonly"),l=o.objectStore(Pf).get(this.modelPath);l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));a(l.result.modelArtifacts)},l.onerror=u=>(i.close(),r(l.error)),o.oncomplete=()=>i.close()}else{n.weightData=Oo.join(n.weightData);const o=e1(n),c=i.transaction(Jl,"readwrite");let l=c.objectStore(Jl),u;try{u=l.put({modelPath:this.modelPath,modelArtifactsInfo:o})}catch(h){return r(h)}let d;u.onsuccess=()=>{d=i.transaction(Pf,"readwrite");const h=d.objectStore(Pf);let m;try{m=h.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:o})}catch(y){return r(y)}m.onsuccess=()=>a({modelArtifactsInfo:o}),m.onerror=y=>{l=c.objectStore(Jl);const v=l.delete(this.modelPath);v.onsuccess=()=>(i.close(),r(m.error)),v.onerror=x=>(i.close(),r(m.error))}},u.onerror=h=>(i.close(),r(u.error)),c.oncomplete=()=>{d==null?i.close():d.oncomplete=()=>i.close()}}},s.onerror=i=>r(s.error)})}}td.URL_SCHEME="indexeddb://";const p8=t=>Ce().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(td.URL_SCHEME)?pse(t.slice(td.URL_SCHEME.length)):null;ma.registerSaveRouter(p8);ma.registerLoadRouter(p8);function pse(t){return new td(t)}function hse(t){return t.startsWith(td.URL_SCHEME)?t.slice(td.URL_SCHEME.length):t}class mse{constructor(){this.indexedDB=d8()}async listModels(){return new Promise((e,n)=>{const a=this.indexedDB.open(tT,nT);a.onupgradeneeded=()=>aT(a),a.onsuccess=()=>{const r=a.result,s=r.transaction(Jl,"readonly"),o=s.objectStore(Jl).getAll();o.onsuccess=()=>{const c={};for(const l of o.result)c[l.modelPath]=l.modelArtifactsInfo;e(c)},o.onerror=c=>(r.close(),n(o.error)),s.oncomplete=()=>r.close()},a.onerror=r=>n(a.error)})}async removeModel(e){return e=hse(e),new Promise((n,a)=>{const r=this.indexedDB.open(tT,nT);r.onupgradeneeded=()=>aT(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(Jl,"readwrite"),o=i.objectStore(Jl),c=o.get(e);let l;c.onsuccess=()=>{if(c.result==null)return s.close(),a(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const u=o.delete(e),d=()=>{l=s.transaction(Pf,"readwrite");const m=l.objectStore(Pf).delete(e);m.onsuccess=()=>n(c.result.modelArtifactsInfo),m.onerror=y=>a(c.error)};u.onsuccess=d,u.onerror=h=>(d(),s.close(),a(c.error))}},c.onerror=u=>(s.close(),a(c.error)),i.oncomplete=()=>{l==null?s.close():l.oncomplete=()=>s.close()}},r.onerror=s=>a(r.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yc="/",Wp="tensorflowjs_models",h8="info",gse="model_topology",yse="weight_specs",xse="weight_data",vse="model_metadata";function m8(t){return{info:[Wp,t,h8].join(Yc),topology:[Wp,t,gse].join(Yc),weightSpecs:[Wp,t,yse].join(Yc),weightData:[Wp,t,xse].join(Yc),modelMetadata:[Wp,t,vse].join(Yc)}}function g8(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function kse(t){const e=t.split(Yc);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Yc)}function wse(t){return t.startsWith(nd.URL_SCHEME)?t.slice(nd.URL_SCHEME.length):t}class nd{constructor(e){if(!Ce().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=m8(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),a=JSON.stringify(e.weightSpecs),r=e1(e),s=Oo.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,a),this.LS.setItem(this.keys.weightData,rse(s));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:r}}catch{throw g8(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},a=JSON.parse(this.LS.getItem(this.keys.topology));if(a==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=a;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(r==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=r;const s=this.LS.getItem(this.keys.modelMetadata);if(s!=null){const o=JSON.parse(s);n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,o.signature!=null&&(n.signature=o.signature),o.userDefinedMetadata!=null&&(n.userDefinedMetadata=o.userDefinedMetadata),o.modelInitializer!=null&&(n.modelInitializer=o.modelInitializer),o.initializerSignature!=null&&(n.initializerSignature=o.initializerSignature),o.trainingConfig!=null&&(n.trainingConfig=o.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(i==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=sse(i),n}}nd.URL_SCHEME="localstorage://";const y8=t=>Ce().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(nd.URL_SCHEME)?bse(t.slice(nd.URL_SCHEME.length)):null;ma.registerSaveRouter(y8);ma.registerLoadRouter(y8);function bse(t){return new nd(t)}class _se{constructor(){K(Ce().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),K(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Wp+Yc,a=Yc+h8;for(let r=0;r<this.LS.length;++r){const s=this.LS.key(r);if(s.startsWith(n)&&s.endsWith(a)){const i=kse(s);e[i]=JSON.parse(this.LS.getItem(s))}}return e}async removeModel(e){e=wse(e);const n=m8(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const a=JSON.parse(this.LS.getItem(n.info));return g8(n),a}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jp="://";class as{constructor(){this.managers={}}static getInstance(){return as.instance==null&&(as.instance=new as),as.instance}static registerManager(e,n){K(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Jp)&&(e=e.slice(0,e.indexOf(Jp))),K(e.length>0,()=>"scheme must not be an empty string.");const a=as.getInstance();K(a.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),a.managers[e]=n}static getManager(e){const n=as.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(as.getInstance().managers)}}function qv(t){if(t.indexOf(Jp)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${as.getSchemes().join(",")}`);return{scheme:t.split(Jp)[0],path:t.split(Jp)[1]}}async function x8(t,e,n=!1){K(t!==e,()=>`Old path and new path are the same: '${t}'`);const a=ma.getLoadHandlers(t);K(a.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),K(a.length<2,()=>`Copying failed because more than one (${a.length}) load handlers for source URL ${t}.`);const r=a[0],s=ma.getSaveHandlers(e);K(s.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),K(s.length<2,()=>`Copying failed because more than one (${a.length}) save handlers for destination URL ${e}.`);const i=s[0],o=qv(t).scheme,c=qv(t).path,l=o===qv(t).scheme,u=await r.load();n&&l&&await as.getManager(o).removeModel(c);const d=await i.save(u);return n&&!l&&await as.getManager(o).removeModel(c),d.modelArtifactsInfo}async function Ase(){const t=as.getSchemes(),e={};for(const n of t){const a=await as.getManager(n).listModels();for(const r in a){const s=n+Jp+r;e[s]=a[r]}}return e}async function Nse(t){const e=qv(t);return as.getManager(e.scheme).removeModel(e.path)}async function Sse(t,e){return x8(t,e,!1)}async function Tse(t,e){return x8(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ese{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!Ce().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",a=>{if(a.source===window&&a.data.name===this.messageName){a.stopPropagation();const r=this.functionRefs[a.data.index];r(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return U6(e)}}if(Ce().get("IS_BROWSER")){Ce().setPlatform("browser",new Ese);try{as.registerManager(nd.URL_SCHEME,new _se)}catch{}try{as.registerManager(td.URL_SCHEME,new mse)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cse={importFetch:()=>require("node-fetch")};let SN;class Ise{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return Ce().global.fetch!=null?Ce().global.fetch(e,n):(SN==null&&(SN=Cse.importFetch()),SN(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}Ce().get("IS_NODE")&&!Ce().get("IS_BROWSER")&&Ce().setPlatform("node",new Ise);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cn(t,e="float32",n){return e=e||"float32",gi(t),new rr(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dse(t,e){const n=X(t,"x","cast");if(!hre(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const a={x:n},r={dtype:e};return he.runKernel(dy,a,r)}const ut=pe({cast_:Dse});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rse(t){const n={x:X(t,"x","clone","string_or_numeric")};return he.runKernel(Ny,n)}const tl=pe({clone_:Rse});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v8(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Q6();const Pse={buffer:cn,cast:ut,clone:tl,print:v8};jre(Pse);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fse(t,e){let n=X(t,"a","add"),a=X(e,"b","add");[n,a]=Ca(n,a);const r={a:n,b:a};return he.runKernel(Vh,r)}const qe=pe({add_:Fse});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ose(t,e){let n=X(t,"a","floorDiv"),a=X(e,"b","floorDiv");[n,a]=Ca(n,a);const r={a:n,b:a};return he.runKernel(_y,r)}const YC=pe({floorDiv_:Ose});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $se(t,e){let n=X(t,"a","div"),a=X(e,"b","div");if([n,a]=Ca(n,a),n.dtype==="int32"&&a.dtype==="int32")return YC(n,a);const r={a:n,b:a},s={};return he.runKernel(yy,r,s)}const bt=pe({div_:$se});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lse(t,e){let n=X(t,"a","mul"),a=X(e,"b","mul");[n,a]=Ca(n,a);const r={a:n,b:a};return he.runKernel(Fy,r)}const me=pe({mul_:Lse});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mse(t){const e=X(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return he.runKernel(Gw,n)}else{const n={x:e};return he.runKernel(Rw,n)}}const er=pe({abs_:Mse});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bse(t){const n={x:X(t,"x","acos")};return he.runKernel(sy,n)}const k8=pe({acos_:Bse});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zse(t){const n={x:X(t,"x","acosh")};return he.runKernel(iy,n)}const w8=pe({acosh_:zse});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gse(t){K(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),K(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((r,s)=>X(r,`tensors${s}`,"addN")),n=e[0];e.forEach(r=>{if(r.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(r=>{if(!Sn(r.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const a=e;return he.runKernel(Pw,a)}const Use=pe({addN_:Gse});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wse(t,e=null,n=!1){const r={x:X(t,"x","all","bool")},s={axis:e,keepDims:n};return he.runKernel(WE,r,s)}const ZC=pe({all_:Wse});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vse(t,e=null,n=!1){const r={x:X(t,"x","any","bool")},s={axis:e,keepDims:n};return he.runKernel(VE,r,s)}const Ak=pe({any_:Vse});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jse(t,e=0){const a={x:X(t,"x","argMax")},r={axis:e};return he.runKernel(Fw,a,r)}const ad=pe({argMax_:jse});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hse(t,e=0){const a={x:X(t,"x","argMin")},r={axis:e};return he.runKernel(Ow,a,r)}const b8=pe({argMin_:Hse});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kse(t){const n={x:X(t,"x","asin")};return he.runKernel(oy,n)}const _8=pe({asin_:Kse});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qse(t){const n={x:X(t,"x","asinh")};return he.runKernel(cy,n)}const A8=pe({asinh_:qse});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xse(t){const n={x:X(t,"x","atan")};return he.runKernel(ly,n)}const N8=pe({atan_:Xse});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yse(t,e){let n=X(t,"a","atan2"),a=X(e,"b","atan2");[n,a]=Ca(n,a);const r={a:n,b:a};return he.runKernel(fy,r)}const S8=pe({atan2_:Yse});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zse(t){const n={x:X(t,"x","atanh")};return he.runKernel(uy,n)}const T8=pe({atanh_:Zse});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t1(t,e,n,a,r="NHWC",s){const i=t[3],o=[...e,i],c=wl(r);return br(t,o,n,s,a,null,null,c)}function Ji(t,e,n,a,r,s,i="channelsLast"){const[o,c]=ug(e);let l;if(i==="channelsLast")l=[o,c,t[3],t[3]];else if(i==="channelsFirst")l=[o,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${i}`);return br(t,l,n,a,r,s,!1,i)}function kl(t,e,n,a,r,s,i="NDHWC"){const[o,c,l]=rT(e);let u,d;if(i==="NDHWC")d="channelsLast",u=[o,c,l,t[4],t[4]];else if(i==="NCDHW")d="channelsFirst",u=[o,c,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${i}`);return $u(t,u,n,a,r,!1,d,s)}function br(t,e,n,a,r,s,i=!1,o="channelsLast"){let[c,l,u,d]=[-1,-1,-1,-1];if(o==="channelsLast")[c,l,u,d]=t;else if(o==="channelsFirst")[c,d,l,u]=t;else throw new Error(`Unknown dataFormat ${o}`);const[h,m,,y]=e,[v,x]=ug(n),[k,b]=ug(a),_=eh(h,k),A=eh(m,b),{padInfo:S,outHeight:C,outWidth:E}=eie(r,l,u,v,x,_,A,s,o),D=i?y*d:y;let I;return o==="channelsFirst"?I=[c,D,C,E]:o==="channelsLast"&&(I=[c,C,E,D]),{batchSize:c,dataFormat:o,inHeight:l,inWidth:u,inChannels:d,outHeight:C,outWidth:E,outChannels:D,padInfo:S,strideHeight:v,strideWidth:x,filterHeight:h,filterWidth:m,effectiveFilterHeight:_,effectiveFilterWidth:A,dilationHeight:k,dilationWidth:b,inShape:t,outShape:I,filterShape:e}}function $u(t,e,n,a,r,s=!1,i="channelsLast",o){let[c,l,u,d,h]=[-1,-1,-1,-1,-1];if(i==="channelsLast")[c,l,u,d,h]=t;else if(i==="channelsFirst")[c,h,l,u,d]=t;else throw new Error(`Unknown dataFormat ${i}`);const[m,y,v,,x]=e,[k,b,_]=rT(n),[A,S,C]=rT(a),E=eh(m,A),D=eh(y,S),I=eh(v,C),{padInfo:P,outDepth:R,outHeight:B,outWidth:U}=tie(r,l,u,d,k,b,_,E,D,I,o),V=s?x*h:x;let j;return i==="channelsFirst"?j=[c,V,R,B,U]:i==="channelsLast"&&(j=[c,R,B,U,V]),{batchSize:c,dataFormat:i,inDepth:l,inHeight:u,inWidth:d,inChannels:h,outDepth:R,outHeight:B,outWidth:U,outChannels:V,padInfo:P,strideDepth:k,strideHeight:b,strideWidth:_,filterDepth:m,filterHeight:y,filterWidth:v,effectiveFilterDepth:E,effectiveFilterHeight:D,effectiveFilterWidth:I,dilationDepth:A,dilationHeight:S,dilationWidth:C,inShape:t,outShape:j,filterShape:e}}function Qse(t,e,n,a,r){a==null&&(a=QC(t,e,n));const s=t[0],i=t[1],o=fg((s-e+2*a)/n+1,r),c=fg((i-e+2*a)/n+1,r);return[o,c]}function Jse(t,e,n,a,r,s){r==null&&(r=QC(t,e[0],a[0]));const i=[0,0,0,n];for(let o=0;o<3;o++)t[o]+2*r>=e[o]&&(i[o]=fg((t[o]-e[o]+2*r)/a[o]+1,s));return i}function QC(t,e,n,a=1){const r=eh(e,a);return Math.floor((t[0]*(n-1)-n+r)/2)}function ug(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function rT(t){return typeof t=="number"?[t,t,t]:t}function eh(t,e){return e<=1?t:t+(t-1)*(e-1)}function eie(t,e,n,a,r,s,i,o,c){let l,u,d;if(typeof t=="number"){l={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const m=Qse([e,n],s,a,t,o);u=m[0],d=m[1]}else if(t==="same"){u=Math.ceil(e/a),d=Math.ceil(n/r);const h=Math.max(0,(u-1)*a+s-e),m=Math.max(0,(d-1)*r+i-n),y=Math.floor(h/2),v=h-y,x=Math.floor(m/2),k=m-x;l={top:y,bottom:v,left:x,right:k,type:"SAME"}}else if(t==="valid")l={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-s+1)/a),d=Math.ceil((n-i+1)/r);else if(typeof t=="object"){const h=c==="channelsLast"?t[1][0]:t[2][0],m=c==="channelsLast"?t[1][1]:t[2][1],y=c==="channelsLast"?t[2][0]:t[3][0],v=c==="channelsLast"?t[2][1]:t[3][1];l={top:h,bottom:m,left:y,right:v,type:h===0&&m===0&&y===0&&v===0?"VALID":"EXPLICIT"},u=fg((e-s+h+m)/a+1,o),d=fg((n-i+y+v)/r+1,o)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:l,outHeight:u,outWidth:d}}function tie(t,e,n,a,r,s,i,o,c,l,u){let d,h,m,y;if(t==="valid"&&(t=0),typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const x=Jse([e,n,a,1],[o,c,l],1,[r,s,i],t,u);h=x[0],m=x[1],y=x[2]}else if(t==="same"){h=Math.ceil(e/r),m=Math.ceil(n/s),y=Math.ceil(a/i);const v=(h-1)*r+o-e,x=(m-1)*s+c-n,k=(y-1)*i+l-a,b=Math.floor(v/2),_=v-b,A=Math.floor(x/2),S=x-A,C=Math.floor(k/2),E=k-C;d={top:A,bottom:S,left:C,right:E,front:b,back:_,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outDepth:h,outHeight:m,outWidth:y}}function fg(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function gu(t){const[e,n,a]=ug(t);return e===1&&n===1&&a===1}function $r(t,e){return gu(t)||gu(e)}function rd(t){return ug(t).every(e=>e>0)}function wl(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function ys(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")K(hh(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(a=>{a.forEach(r=>{K(hh(r),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${r}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nie(t,e){const a={x:X(t,"x","reshape","string_or_numeric")},r={shape:e};return he.runKernel(wb,a,r)}const xe=pe({reshape_:nie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aie(t,e,n,a,r){const s=X(t,"x","avgPool","float32"),i=1;K($r(n,i),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);let o=s,c=!1;s.rank===3&&(c=!0,o=xe(s,[1,s.shape[0],s.shape[1],s.shape[2]])),K(o.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`),ys("avgPool",a,r);const l={x:o},u={filterSize:e,strides:n,pad:a,dimRoundingMode:r};let d=he.runKernel($w,l,u);return d=ut(d,s.dtype),c?xe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const $b=pe({avgPool_:aie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rie(t,e,n,a,r,s="NDHWC"){const i=X(t,"x","avgPool3d","float32");let o=i,c=!1;i.rank===4&&(c=!0,o=xe(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),K(o.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),K(s==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),K(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),ys("avgPool3d",a,r);const l={x:o},u={filterSize:e,strides:n,pad:a,dimRoundingMode:r,dataFormat:s};let d=he.runKernel(Lw,l,u);return d=ut(d,o.dtype),c?xe(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const E8=pe({avgPool3d_:rie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sie(t,e=0){K(t.length>=1,()=>"Pass at least one tensor to concat");const n=_k(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(s=>{if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${s.dtype}. `)}),n.length===1)return tl(n[0]);const a=n,r={axis:e};return he.runKernel(Uw,a,r)}const Ea=pe({concat_:sie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iie(t,e,n=!1,a=!1){let r=X(t,"a","matMul"),s=X(e,"b","matMul");[r,s]=Ca(r,s);const i={a:r,b:s},o={transposeA:n,transposeB:a};return he.runKernel(Mw,i,o)}const kn=pe({matMul_:iie});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oie(t){const n={x:X(t,"x","sigmoid","float32")};return he.runKernel(jy,n)}const ic=pe({sigmoid_:oie});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cie(t,e,n){const a=X(t,"x","slice","string_or_numeric");if(a.rank===0)throw new Error("Slicing scalar is not possible");const r={x:a},s={begin:e,size:n};return he.runKernel(Sb,r,s)}const En=pe({slice_:cie});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lie(t){const n={x:X(t,"x","tanh","float32")};return he.runKernel(Zy,n)}const sd=pe({tanh_:lie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uie(t,e,n,a,r,s){const i=X(t,"forgetBias","basicLSTMCell"),o=X(e,"lstmKernel","basicLSTMCell"),c=X(n,"lstmBias","basicLSTMCell"),l=X(a,"data","basicLSTMCell"),u=X(r,"c","basicLSTMCell"),d=X(s,"h","basicLSTMCell"),h=Ea([l,d],1),m=kn(h,o),y=qe(m,c),v=y.shape[0],x=y.shape[1]/4,k=[v,x],b=En(y,[0,0],k),_=En(y,[0,x],k),A=En(y,[0,x*2],k),S=En(y,[0,x*3],k),C=qe(me(ic(b),sd(_)),me(u,ic(qe(i,A)))),E=me(sd(C),ic(S));return[C,E]}const fie=pe({basicLSTMCell_:uie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function die(t,e,n){const a=X(t,"x","batchToSpaceND"),r=e.reduce((o,c)=>o*c);K(a.rank>=1+e.length,()=>`input rank is ${a.rank} but should be > than blockShape.length ${e.length}`),K(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),K(a.shape[0]%r===0,()=>`input tensor batch is ${a.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${r}`);const s={x:a},i={blockShape:e,crops:n};return he.runKernel(Bw,s,i)}const Lb=pe({batchToSpaceND_:die});function pie(t){let e;return t.rank===0||t.rank===1?e=xe(t,[1,1,1,t.size]):t.rank===2?e=xe(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=xe(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hie(t,e,n,a,r,s){s==null&&(s=.001);const i=X(t,"x","batchNorm"),o=X(e,"mean","batchNorm"),c=X(n,"variance","batchNorm");let l;r!=null&&(l=X(r,"scale","batchNorm"));let u;a!=null&&(u=X(a,"offset","batchNorm")),K(o.rank===c.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),K(u==null||o.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),K(l==null||o.rank===l.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:pie(i),scale:l,offset:u,mean:o,variance:c},m={varianceEpsilon:s},y=he.runKernel(Zw,h,m);return xe(y,i.shape)}const n1=pe({batchNorm_:hie});function mie(t,e,n,a,r,s){const i=X(t,"x","batchNorm"),o=X(e,"mean","batchNorm"),c=X(n,"variance","batchNorm");let l;r!=null&&(l=X(r,"scale","batchNorm"));let u;return a!=null&&(u=X(a,"offset","batchNorm")),K(i.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),K(o.rank===2||o.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`),K(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${c.rank}.`),l!=null&&K(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&K(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`),n1(i,o,c,u,l,s)}const C8=pe({batchNorm2d_:mie});function gie(t,e,n,a,r,s){const i=X(t,"x","batchNorm"),o=X(e,"mean","batchNorm"),c=X(n,"variance","batchNorm");let l;r!=null&&(l=X(r,"scale","batchNorm"));let u;return a!=null&&(u=X(a,"offset","batchNorm")),K(i.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),K(o.rank===3||o.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`),K(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${c.rank}.`),l!=null&&K(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&K(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`),n1(i,o,c,u,l,s)}const I8=pe({batchNorm3d_:gie});function yie(t,e,n,a,r,s){const i=X(t,"x","batchNorm"),o=X(e,"mean","batchNorm"),c=X(n,"variance","batchNorm");let l;r!=null&&(l=X(r,"scale","batchNorm"));let u;return a!=null&&(u=X(a,"offset","batchNorm")),K(i.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),K(o.rank===4||o.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`),K(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${c.rank}.`),l!=null&&K(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&K(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`),n1(i,o,c,u,l,s)}const D8=pe({batchNorm4d_:yie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xie(t,e,n){const a=X(t,"x","bincount"),r=X(e,"weights","bincount");K(a.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${a.dtype}`),K(n>=0,()=>`size must be non-negative, but got ${n}.`),K(r.size===a.size||r.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${a.shape}, weights shape: ${r.shape}.`);const s={x:a,weights:r},i={size:n};return he.runKernel(KE,s,i)}const R8=pe({bincount_:xie});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vie(t,e){const n=X(t,"x","bitwiseAnd"),a=X(e,"y","bitwiseAnd");if(!Sn(n.shape,a.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${a.shape}`);if(n.dtype!=="int32"||a.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${a.dtype}`);const r={a:n,b:a};return he.runKernel(zw,r)}const kie=pe({bitwiseAnd_:vie});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wie(t,e){const n=X(t,"s0","broadcastArgs","int32"),a=X(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(a.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${a.rank}`);const r={s0:n,s1:a};return he.runKernel(qE,r)}const bie=pe({broadcastArgs_:wie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ie(t,e){let n=X(t,"broadcastTo","x");const a=n.shape;if(gi(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const l=n.shape.slice();for(;l.length<e.length;)l.unshift(1);n=xe(n,l)}const r=n.shape,s=Array.from(e);for(let l=e.length-1;l>=0;l--)if(r[l]===e[l])s[l]=1;else if(n.shape[l]!==1)throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${e}].`);if(s.map((l,u)=>l>1?u:-1).filter(l=>l>=0).length===0)return tl(n);const o={x:n},c={reps:s};return he.runKernel(Qy,o,c)}const th=pe({broadcastTo_:_ie});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aie(t){const n={x:X(t,"x","ceil","float32")};return he.runKernel(py,n)}const P8=pe({ceil_:Aie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jh(t,e,n){gi(t),n=n||Uh(e);const a={shape:t,value:e,dtype:n};return he.runKernel(lC,{},a)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nie(t,e,n){const a=X(t,"x","clipByValue");if(K(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return jh(a.shape,e,a.dtype);const r={x:a},s={clipValueMin:e,clipValueMax:n};return he.runKernel(hy,r,s)}const Hs=pe({clipByValue_:Nie});function Sie(t){return Ea(t,0)}const F8=pe({concat1d_:Sie});function Tie(t,e){return Ea(t,e)}const O8=pe({concat2d_:Tie});function Eie(t,e){return Ea(t,e)}const $8=pe({concat3d_:Eie});function Cie(t,e){return Ea(t,e)}const L8=pe({concat4d_:Cie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iie(t,e,n,a,r="NHWC",s=[1,1],i){const o=X(t,"x","conv2d","float32"),c=X(e,"filter","conv2d","float32");let l=o,u=!1;o.rank===3&&(u=!0,l=xe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),K(l.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${l.rank}.`),K(c.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${c.rank}.`),ys("conv2d",a,i);const d=r==="NHWC"?l.shape[3]:l.shape[1];K(d===c.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${c.shape[2]}.`),K($r(n,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),K(rd(s),()=>"Error in conv2D: Dilated rates should be larger than 0."),K(rd(n),()=>"Error in conv2D: Strides should be larger than 0.");const h={x:l,filter:c},m={strides:n,pad:a,dataFormat:r,dilations:s,dimRoundingMode:i},y=he.runKernel(Ww,h,m);return u?xe(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const yu=pe({conv2d_:Iie});function Die(t,e,n,a,r="NWC",s=1,i){const o=X(t,"x","conv1d"),c=X(e,"filter","conv1d");let l=o,u=!1;o.rank===2&&(u=!0,l=xe(o,[1,o.shape[0],o.shape[1]])),K(l.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${l.rank}.`),K(c.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${c.rank}.`),ys("conv1d",a,i),K(l.shape[2]===c.shape[1],()=>`Error in conv1d: depth of input (${l.shape[2]}) must match input depth for filter ${c.shape[1]}.`),K($r(n,s),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${s}'`),K(rd(s),()=>"Error in conv1D: Dilated rates should be larger than 0."),K(rd(n),()=>"Error in conv1D: Stride should be larger than 0."),K(r==="NWC",()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`);const d=xe(c,[1,c.shape[0],c.shape[1],c.shape[2]]),h=xe(l,[l.shape[0],1,l.shape[1],l.shape[2]]),x=yu(h,d,[1,n],a,"NHWC",[1,s],i);return u?xe(x,[x.shape[2],x.shape[3]]):xe(x,[x.shape[0],x.shape[2],x.shape[3]])}const JC=pe({conv1d_:Die});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rie(t,e,n,a,r,s="NHWC",i){K(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,c=e,l=!1;e.rank===3&&(l=!0,c=xe(e,[1,e.shape[0],e.shape[1],e.shape[2]]),o=[1,t[0],t[1],t[2]]),K(o.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),K(c.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${c.rank}`),K(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const u=s==="NHWC"?o[3]:o[1],d=s==="NHWC"?c.shape[3]:c.shape[1];K(u===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`),K(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),ys("conv2dDerInput",r,i);const h={dy:c,filter:n},m={strides:a,pad:r,dataFormat:s,dimRoundingMode:i,inputShape:o},y=he.runKernel(Vw,h,m);return l?xe(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const eI=pe({conv2DBackpropInput_:Rie});function Pie(t,e,n,a,r,s){const i=X(t,"x","conv2dTranspose"),o=X(e,"filter","conv2dTranspose");return eI(n,i,o,a,r,"NHWC",s)}const tI=pe({conv2dTranspose_:Pie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fie(t,e,n,a,r="NDHWC",s=[1,1,1]){const i=X(t,"x","conv3d"),o=X(e,"filter","conv3d");let c=i,l=!1;i.rank===4&&(l=!0,c=xe(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),K(c.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${c.rank}.`),K(o.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),K(c.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${c.shape[4]}) must match input depth for filter ${o.shape[3]}.`),K($r(n,s),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),K(r==="NDHWC",()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`),K(rd(s),()=>"Error in conv3D: Dilated rates should be larger than 0."),K(rd(n),()=>"Error in conv3D: Strides should be larger than 0.");const u={x:c,filter:o},d={strides:n,pad:a,dataFormat:r,dilations:s},h=he.runKernel(jw,u,d);return l?xe(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const M8=pe({conv3d_:Fie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oie(t,e,n,a,r){K(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let s=t,i=e,o=!1;e.rank===4&&(o=!0,i=xe(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),s=[1,t[0],t[1],t[2],t[3]]);const c=s[4],l=i.shape[4];K(s.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`),K(i.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`),K(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),K(c===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[3]}.`),K(l===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${l}) must match output depth for filter ${n.shape[4]}.`);const u={dy:i,filter:n},d={pad:r,strides:a,inputShape:s},h=he.runKernel(QE,u,d);return o?xe(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const B8=pe({conv3DBackpropInput_:Oie});function $ie(t,e,n,a,r){const s=X(t,"x","conv3dTranspose"),i=X(e,"filter","conv3dTranspose");return B8(n,s,i,a,r)}const z8=pe({conv3dTranspose_:$ie});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lie(t){const n={x:X(t,"x","cos","float32")};return he.runKernel(my,n)}const Mb=pe({cos_:Lie});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mie(t){const n={x:X(t,"x","cosh","float32")};return he.runKernel(gy,n)}const nI=pe({cosh_:Mie});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bie(t,e=0,n=!1,a=!1){const s={x:X(t,"x","cumprod")},i={axis:e,exclusive:n,reverse:a};return he.runKernel(JE,s,i)}const Nk=pe({cumprod_:Bie});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zie(t,e=0,n=!1,a=!1){const s={x:X(t,"x","cumsum")},i={axis:e,exclusive:n,reverse:a};return he.runKernel(Hw,s,i)}const aI=pe({cumsum_:zie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gie(t,e,n,a=!1){const r=X(t,"x","denseBincount"),s=X(e,"weights","denseBincount");K(r.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`),K(r.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`),K(n>=0,()=>`size must be non-negative, but got ${n}.`),K(s.size===r.size||s.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${s.shape}.`);const i={x:r,weights:s},o={size:n,binaryOutput:a};return he.runKernel(tC,i,o)}const sT=pe({denseBincount_:Gie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uie(t,e,n="NHWC"){const a=X(t,"x","depthToSpace","float32"),r=n==="NHWC"?a.shape[1]:a.shape[2],s=n==="NHWC"?a.shape[2]:a.shape[3],i=n==="NHWC"?a.shape[3]:a.shape[1];K(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),K(r*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${r} and ${e}  for depthToSpace with input shape
    ${a.shape}`),K(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e} for depthToSpace with input shape
        ${a.shape}`),K(i%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${i} for depthToSpace with input shape ${a.shape}`);const o={x:a},c={blockSize:e,dataFormat:n};return he.runKernel(nC,o,c)}const G8=pe({depthToSpace_:Uie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wie(t,e,n,a,r="NHWC",s=[1,1],i){const o=X(t,"x","depthwiseConv2d","float32"),c=X(e,"filter","depthwiseConv2d","float32");let l=o,u=!1;o.rank===3&&(u=!0,l=xe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),K(l.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${l.rank}.`),K(c.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${c.rank}.`);const d=r==="NHWC"?l.shape[3]:l.shape[1];K(d===c.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${c.shape[2]}.`),ys("depthwiseConv2d",a,i);const h={x:l,filter:c},m={strides:n,pad:a,dataFormat:r,dilations:s,dimRoundingMode:i},y=he.runKernel(Kw,h,m);return u?xe(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const a1=pe({depthwiseConv2d_:Wie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vie(t){const n={x:X(t,"x","diag")};return he.runKernel(sC,n)}const jie=pe({diag_:Vie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hie(t,e,n,a,r=[1,1],s="NHWC"){const i=X(t,"x","dilation2d"),o=X(e,"filter","dilation2d");K(i.rank===3||i.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`),K(o.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),K(s==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`);let c=i,l=!1;i.rank===3&&(c=xe(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=!0),K(c.shape[3]===o.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${c.shape[3]} vs ${o.shape[2]}`);const u={x:c,filter:o},d={strides:n,pad:a,dilations:r},h=he.runKernel(qw,u,d);return l?xe(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const U8=pe({dilation2d_:Hie});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gh(t,e){const n=t.length,a=[];for(let r=0;r<n;r++){const s=n-1-r,i=t[s]||1;(e[e.length-1-r]||1)>1&&i===1&&a.unshift(s)}return a}function cr(t,e){const n=[];for(let a=0;a<e.length;a++){const r=t[t.length-a-1],s=e.length-a-1,i=e[s];(r==null||r===1&&i>1)&&n.unshift(s)}return n}function Qt(t,e){const n=Math.max(t.length,e.length),a=new Array(n);for(let r=0;r<n;r++){let s=t[t.length-r-1];s==null&&(s=1);let i=e[e.length-r-1];if(i==null&&(i=1),s===1)a[n-r-1]=i;else if(i===1)a[n-r-1]=s;else if(s!==i){const o=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(o)}else a[n-r-1]=s}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kie(t,e){let n=X(t,"a","equal","string_or_numeric"),a=X(e,"b","equal","string_or_numeric");[n,a]=Ca(n,a),Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(Xw,r)}const To=pe({equal_:Kie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qie(t,e,n){const a=X(e,"a","where"),r=X(n,"b","where"),s=X(t,"condition","where","bool"),i=Qt(Qt(s.shape,a.shape),r.shape),o=th(s,i),c=th(a,i),l=th(r,i),u={condition:o,t:c,e:l};return he.runKernel(Nb,u)}const Vr=pe({where_:qie});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xie(t){const n={x:X(t,"x","zerosLike")};return he.runKernel(Fb,n)}const Dn=pe({zerosLike_:Xie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yie(t,e){let n=X(t,"a","div"),a=X(e,"b","div");[n,a]=Ca(n,a);const r=bt(n,a),s=Dn(r),i=To(a,s);return Vr(i,s,r)}const W8=pe({divNoNan_:Yie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zie(t,e){const n=X(t,"t1","dot"),a=X(e,"t2","dot");K((n.rank===1||n.rank===2)&&(a.rank===1||a.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${a.rank}.`);const r=n.rank===1?n.size:n.shape[1],s=a.rank===1?a.size:a.shape[0];if(K(r===s,()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${s}.`),n.rank===1&&a.rank===1){const i=xe(n,[1,-1]),o=xe(a,[-1,1]),c=kn(i,o);return xe(c,[])}else if(n.rank===1&&a.rank===2){const i=xe(n,[1,-1]),o=xe(a,[a.shape[0],a.shape[1]]),c=kn(i,o);return xe(c,[c.size])}else if(n.rank===2&&a.rank===1){const i=xe(a,[-1,1]),o=kn(n,i);return xe(o,[o.size])}else{const i=xe(a,[a.shape[0],a.shape[1]]);return kn(n,i)}}const V8=pe({dot_:Zie});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qie(t,...e){const n=e.map((r,s)=>X(r,`tensors${s}`,"einsum")),a={equation:t};return he.runKernel(iC,n,a)}const Vp=pe({einsum_:Qie});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jie(t){const n={x:X(t,"x","elu","float32")};return he.runKernel(xy,n)}const r1=pe({elu_:Jie});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eoe(t,e){const n=X(t,"x","ensureShape","string_or_numeric");if(!dre(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const toe=pe({ensureShape_:eoe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function noe(t){let e=X(t,"x","erf");K(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=ut(e,"float32"));const n={x:e};return he.runKernel(vy,n)}const rI=pe({erf_:noe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sI(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function j8(t,e,n){const a=t.length+e.length,r=[];let s=0,i=0;for(let o=0;o<a;o++)n.indexOf(o)===-1?r.push(t[s++]):r.push(e[i++]);return r}function _r(t,e){const n=[],a=t.length;for(let s=0;s<a;s++)e.indexOf(s)===-1&&n.push(t[s]);const r=e.map(s=>t[s]);return[n,r]}function Ma(t,e){const n=e.map(a=>1);return j8(t,n,e)}function Lr(t,e,n){K(sI(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function ka(t,e){if(sI(t,e))return null;const n=[];for(let a=0;a<e;++a)t.indexOf(a)===-1&&n.push(a);return t.forEach(a=>n.push(a)),n}function Lu(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function Ba(t,e){const n=[];for(let a=e-t;a<e;++a)n.push(a);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aoe(t,e=null,n=!1){const r={x:X(t,"x","max")},s={reductionIndices:e,keepDims:n};return he.runKernel(ob,r,s)}const qi=pe({max_:aoe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function roe(t,e=null,n=!1){const r={x:X(t,"x","min")},s={axis:e,keepDims:n};return he.runKernel(fb,r,s)}const dg=pe({min_:roe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function soe(t,e){let n=X(t,"base","pow"),a=X(e,"exp","pow");[n,a]=Ca(n,a);const r={a:n,b:a};return he.runKernel(Oy,r)}const ul=pe({pow_:soe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ot(t,e){if((Yi(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Yi(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ou(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ioe(t){const n={x:X(t,"x","sqrt","float32")};return he.runKernel(Ky,n)}const Or=pe({sqrt_:ioe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ooe(t){const e=X(t,"x","square"),n={};return he.runKernel("Square",{x:e},n)}const ta=pe({square_:ooe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function coe(t,e=null,n=!1){let a=X(t,"x","sum");a.dtype==="bool"&&(a=ut(a,"int32"));const r={x:a},s={axis:e,keepDims:n};return he.runKernel(Tb,r,s)}const xt=pe({sum_:coe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function loe(t,e="euclidean",n=null,a=!1){t=X(t,"x","norm");const r=H8(t,e,n);let s=r.shape;if(a){const i=yn(n,t.shape);s=Ma(r.shape,i)}return xe(r,s)}function H8(t,e,n=null){if(t.rank===0)return er(t);if(t.rank!==1&&n===null)return H8(xe(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return xt(er(t),n);if(e===1/0)return qi(er(t),n);if(e===-1/0)return dg(er(t),n);if(e==="euclidean"||e===2)return Or(xt(ul(er(t),Ot(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return qi(xt(er(t),n[0]),n[1]-1);if(e===1/0)return qi(xt(er(t),n[1]),n[0]);if(e===-1/0)return dg(xt(er(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return Or(xt(ta(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const s1=pe({norm_:loe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uoe(t,e=null,n=!1){return s1(t,"euclidean",e,n)}const K8=pe({euclideanNorm_:uoe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function foe(t){const n={x:X(t,"x","exp")};return he.runKernel(ky,n)}const Ks=pe({exp_:foe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function doe(t,e=0){const n=X(t,"x","expandDims","string_or_numeric");K(e<=n.rank,()=>"Axis must be <= rank of the tensor");const a={input:n},r={dim:e};return he.runKernel(Yw,a,r)}const is=pe({expandDims_:doe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function poe(t){const n={x:X(t,"x","expm1")};return he.runKernel(wy,n)}const q8=pe({expm1_:poe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hoe(t,e){const n=X(t,"x","tile","string_or_numeric");K(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const a={x:n},r={reps:e};return he.runKernel(Qy,a,r)}const Ui=pe({tile_:hoe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function moe(t,e,n,a="float32"){e==null&&(e=t);const r=cn([t,e],a),s=t<=e?t:e;for(let o=0;o<s;++o)r.set(1,o,o);const i=xe(r.toTensor(),[t,e]);if(n==null)return i;if(n.length===1)return Ui(is(i,0),[n[0],1,1]);if(n.length===2)return Ui(is(is(i,0),0),[n[0],n[1],1,1]);if(n.length===3)return Ui(is(is(is(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const iI=pe({eye_:moe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function goe(t){const n={x:X(t,"x","floor","float32")};return he.runKernel(by,n)}const i1=pe({floor_:goe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yoe(t,e,n=0,a=0){const r=X(t,"x","gather"),s=X(e,"indices","gather","int32"),i={x:r,indices:s},o={axis:n,batchDims:a};return he.runKernel(Qw,i,o)}const o1=pe({gather_:yoe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xoe(t,e){let n=X(t,"a","greater","string_or_numeric"),a=X(e,"b","greater","string_or_numeric");[n,a]=Ca(n,a),Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(Jw,r)}const Js=pe({greater_:xoe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function voe(t,e){let n=X(t,"a","greaterEqual","string_or_numeric"),a=X(e,"b","greaterEqual","string_or_numeric");[n,a]=Ca(n,a),Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(Ay,r)}const Mu=pe({greaterEqual_:voe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function koe(t){const n={input:X(t,"input","imag")};return he.runKernel(pC,n)}const Bb=pe({imag_:koe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function woe(t){const n={x:X(t,"x","isFinite")};return he.runKernel(Sy,n)}const X8=pe({isFinite_:woe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function boe(t){const n={x:X(t,"x","isInf")};return he.runKernel(Ty,n)}const Y8=pe({isInf_:boe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _oe(t){const n={x:X(t,"x","isNaN")};return he.runKernel(Ey,n)}const Z8=pe({isNaN_:_oe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Aoe(t,e=.2){const a={x:X(t,"x","leakyRelu")},r={alpha:e};return he.runKernel(eb,a,r)}const zb=pe({leakyRelu_:Aoe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Noe(t,e){let n=X(t,"a","less","string_or_numeric"),a=X(e,"b","less","string_or_numeric");[n,a]=Ca(n,a),Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(tb,r)}const pg=pe({less_:Noe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Soe(t,e){let n=X(t,"a","lessEqual","string_or_numeric"),a=X(e,"b","lessEqual","string_or_numeric");[n,a]=Ca(n,a),Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(nb,r)}const Td=pe({lessEqual_:Soe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Toe(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const a={start:t,stop:e,num:n};return he.runKernel(hC,{},a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eoe(t,e=5,n=1,a=1,r=.5){const s=X(t,"x","localResponseNormalization");K(s.rank===4||s.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${s.rank}.`),K(hh(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let i=s,o=!1;s.rank===3&&(o=!0,i=xe(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const c={x:i},l={depthRadius:e,bias:n,alpha:a,beta:r},u=he.runKernel(ib,c,l);return o?xe(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Q8=pe({localResponseNormalization_:Eoe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Coe(t){const n={x:X(t,"x","log","float32")};return he.runKernel(Cy,n)}const fi=pe({log_:Coe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ioe(t){const n={x:X(t,"x","log1p")};return he.runKernel(Iy,n)}const Gb=pe({log1p_:Ioe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Doe(t,e){K(GS(t),()=>"The f passed in variableGrads(f) must be a function"),K(e==null||Array.isArray(e)&&e.every(l=>l instanceof bk),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const l in he.registeredVariables)e.push(he.registeredVariables[l])}const a=n?e.filter(l=>!l.trainable):null,r=e.length;e=e.filter(l=>l.trainable),K(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`);const s=!0,{value:i,grads:o}=he.gradients(t,e,null,s);K(o.some(l=>l!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),K(i.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);const c={};return e.forEach((l,u)=>{o[u]!=null&&(c[l.name]=o[u])}),a!=null&&a.forEach(l=>c[l.name]=null),{value:i,grads:c}}function fl(t){return he.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Roe(t){const n={x:X(t,"x","neg")};return he.runKernel(pb,n)}const fa=pe({neg_:Roe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Poe(t){const n={x:X(t,"x","softplus")};return he.runKernel(Hy,n)}const Hh=pe({softplus_:Poe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Foe(t){const e=X(t,"x","logSigmoid");return fl(a=>({value:fa(Hh(fa(a))),gradFunc:i=>me(i,ic(fa(a)))}))(e)}const J8=pe({logSigmoid_:Foe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ooe(t,e){let n=X(t,"a","sub"),a=X(e,"b","sub");[n,a]=Ca(n,a);const r={a:n,b:a};return he.runKernel(Xy,r)}const mt=pe({sub_:Ooe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $oe(t,e=-1){const n=X(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return fl((r,s)=>{const o=qi(r,e,!0),c=mt(r,o),l=mt(ut(c,"float32"),fi(xt(Ks(c),e,!0)));return s([l]),{value:l,gradFunc:(d,h)=>{const[m]=h,y=!0,v=Ks(m);return mt(d,me(xt(d,e,y),v))}}})(n)}const oI=pe({logSoftmax_:$oe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Loe(t,e=null,n=!1){const a=X(t,"x","logSumExp"),r=yn(e,a.shape),s=qi(a,r,!0),i=mt(a,s),o=Ks(i),c=xt(o,r),l=fi(c),u=qe(xe(s,l.shape),l);if(n){const d=Ma(u.shape,r);return xe(u,d)}return u}const Ub=pe({logSumExp_:Loe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Moe(t,e){const n=X(t,"a","logicalAnd","bool"),a=X(e,"b","logicalAnd","bool");Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(ab,r)}const hc=pe({logicalAnd_:Moe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Boe(t){const n={x:X(t,"x","logicalNot","bool")};return he.runKernel(rb,n)}const Wb=pe({logicalNot_:Boe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zoe(t,e){const n=X(t,"a","logicalOr","bool"),a=X(e,"b","logicalOr","bool");Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(sb,r)}const cI=pe({logicalOr_:zoe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Goe(t,e){const n=X(t,"a","logicalXor","bool"),a=X(e,"b","logicalXor","bool");return Qt(n.shape,a.shape),hc(cI(t,e),Wb(hc(t,e)))}const ez=pe({logicalXor_:Goe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cv=2147483648;function Uoe(t,e,n="left"){const a=X(t,"sortedSequence","searchSorted"),r=X(e,"values","searchSorted"),s=a.shape[a.shape.length-1],i=r.shape[r.shape.length-1],o=xe(a,[-1,s]),c=xe(r,[-1,i]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==c.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Me(c.shape)>=cv)throw new Error(`values tensor size must less than ${cv}`);if(o.shape[1]>=cv)throw new Error(`trailing dim_size must less than ${cv} for int32 output type, was ${o.shape[1]}`);const l={sortedSequence:o,values:c},u={side:n};return he.runKernel(RC,l,u)}const lI=pe({searchSorted_:Uoe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Woe(t,e){return lI(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Voe(t,e,n,a,r){const s=X(t,"x","maxPool"),i=1;let o=s,c=!1;s.rank===3&&(c=!0,o=xe(s,[1,s.shape[0],s.shape[1],s.shape[2]])),K(o.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`),K($r(n,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ys("maxPool",a,r);const l={x:o},u={filterSize:e,strides:n,pad:a,dimRoundingMode:r},d=he.runKernel(cb,l,u);return c?xe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Vb=pe({maxPool_:Voe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function joe(t,e=[1,1,1],n,a,r,s="NDHWC"){const i=X(t,"x","maxPool3d");let o=i,c=!1;i.rank===4&&(c=!0,o=xe(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),K(o.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),K(s==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),ys("maxPool3d",a,r);const l={x:o},u={filterSize:e,strides:n,pad:a,dimRoundingMode:r,dataFormat:s},d=he.runKernel(lb,l,u);return c?xe(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const tz=pe({maxPool3d_:joe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hoe(t,e,n,a,r=!1){const i={x:X(t,"x","maxPoolWithArgmax")},o={filterSize:e,strides:n,pad:a,includeBatchInIndex:r},c=he.runKernel(xC,i,o);return{result:c[0],indexes:c[1]}}const Koe=pe({maxPoolWithArgmax_:Hoe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qoe(t,e){let n=X(t,"a","maximum"),a=X(e,"b","maximum");[n,a]=Ca(n,a),n.dtype==="bool"&&(n=ut(n,"int32"),a=ut(a,"int32")),Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(Dy,r)}const bl=pe({maximum_:qoe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xoe(t,e=null,n=!1){const r={x:X(t,"x","mean")},s={axis:e,keepDims:n};return he.runKernel(ub,r,s)}const Sa=pe({mean_:Xoe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tr(t,e="float32"){if(gi(t),e==="complex64"){const a=tr(t,"float32"),r=tr(t,"float32");return hu(a,r)}const n=jr(Me(t),e);return he.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ws(t,e="float32"){if(gi(t),e==="complex64"){const a=Ws(t,"float32"),r=tr(t,"float32");return hu(a,r)}const n=GE(Me(t),e);return he.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yoe(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let a=X(t,"x","meshgrid",t instanceof ga?t.dtype:"float32");if(e===void 0)return[a];let r=X(e,"y","meshgrid",e instanceof ga?e.dtype:"float32");const s=Me(a.shape),i=Me(r.shape);return n==="xy"?(a=xe(a,[1,-1]),r=xe(r,[-1,1]),[kn(Ws([i,1],a.dtype),a),kn(r,Ws([1,s],r.dtype))]):(a=xe(a,[-1,1]),r=xe(r,[1,-1]),[kn(a,Ws([1,i],a.dtype)),kn(Ws([s,1],r.dtype),r)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zoe(t,e){let n=X(t,"a","minimum"),a=X(e,"b","minimum");[n,a]=Ca(n,a),n.dtype==="bool"&&(n=ut(n,"int32"),a=ut(a,"int32")),Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(Ry,r)}const id=pe({minimum_:Zoe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qoe(t,e,n){K(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const a=X(t,"x","mirrorPad");if(a.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");K(e.length===a.rank,()=>`Padding doesn't match input. Must be ${a.rank}. Got ${e.length}.`);const r=n==="reflect"?1:0;for(let o=0;o<a.rank;o++)K(e[o].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),K(e[o][0]>=0&&e[o][0]<=a.shape[o]-r&&e[o][1]>=0&&e[o][1]<=a.shape[o]-r,()=>`Padding in dimension ${o} cannot be greater than or equal to ${a.shape[o]-r} or less than 0 for input of shape ${a.shape}`);const s={paddings:e,mode:n},i={x:a};return he.runKernel(db,i,s)}const nz=pe({mirrorPad_:Qoe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Joe(t,e){let n=X(t,"a","mod"),a=X(e,"b","mod");[n,a]=Ca(n,a);const r={a:n,b:a};return he.runKernel(Py,r)}const az=pe({mod_:Joe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ece(t,e=null,n=!1){t=X(t,"x","moments");const a=yn(e,t.shape),r=Sa(t,a,n);let s=r.shape;n||(s=Ma(r.shape,a));const i=ta(mt(ut(t,"float32"),xe(r,s))),o=Sa(i,a,n);return{mean:r,variance:o}}const jb=pe({moments_:ece});function tce(t,e,n,a){const r=X(e,"data","multiRNNCell"),s=_k(n,"c","multiRNNCell"),i=_k(a,"h","multiRNNCell");let o=r;const c=[];for(let d=0;d<t.length;d++){const h=t[d](o,s[d],i[d]);c.push(h[0]),c.push(h[1]),o=h[1]}const l=[],u=[];for(let d=0;d<c.length;d+=2)l.push(c[d]),u.push(c[d+1]);return[l,u]}const nce=pe({multiRNNCell_:tce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ace(t,e,n,a=!1){const r=X(t,"logits","multinomial"),s=r.size,i=r.rank;if(s<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${s}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const c={logits:i===1?xe(r,[1,-1]):r},l={numSamples:e,seed:n,normalized:a},u=he.runKernel(vC,c,l);return i===1?xe(u,[u.size]):u}const rce=pe({multinomial_:ace});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sce(t,e){let n=X(t,"a","notEqual","string_or_numeric"),a=X(e,"b","notEqual","string_or_numeric");[n,a]=Ca(n,a),Qt(n.shape,a.shape);const r={a:n,b:a};return he.runKernel(hb,r)}const yh=pe({notEqual_:sce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ice(t,e,n=1,a=0,r="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const i={indices:X(t,"indices","oneHot","int32")},o={dtype:r,depth:e,onValue:n,offValue:a};return he.runKernel(gb,i,o)}const uI=pe({oneHot_:ice});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oce(t){const n={x:X(t,"x","onesLike")};return he.runKernel(mb,n)}const di=pe({onesLike_:oce});function cce(t,e){const n=X(t,"v1","outerProduct"),a=X(e,"v2","outerProduct");K(n.rank===1&&a.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${a.rank}.`);const r=xe(n,[-1,1]),s=xe(a,[1,-1]);return kn(r,s)}const lce=pe({outerProduct_:cce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uce(t,e,n=0){const a=X(t,"x","pad");if(a.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:e,constantValue:n},s={x:a};return he.runKernel(xb,s,r)}const Bu=pe({pad_:uce});function fce(t,e,n=0){return K(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Bu(t,[e],n)}const dce=pe({pad1d_:fce});function pce(t,e,n=0){return K(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Bu(t,e,n)}const hce=pe({pad2d_:pce});function mce(t,e,n=0){return K(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Bu(t,e,n)}const gce=pe({pad3d_:mce});function yce(t,e,n=0){return K(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Bu(t,e,n)}const xce=pe({pad4d_:yce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vce(t,e,n){const a=X(t,"x","spaceToBatchND");K(a.rank>=1+e.length,()=>`input rank ${a.rank} should be > than [blockShape] ${e.length}`),K(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),K(a.shape.reduce((i,o,c)=>c>0&&c<=e.length?i&&(o+n[c-1][0]+n[c-1][1])%e[c-1]===0:i,!0),()=>`input spatial dimensions ${a.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const r={x:a},s={blockShape:e,paddings:n};return he.runKernel(Eb,r,s)}const Hb=pe({spaceToBatchND_:vce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kce(t,e,n,a,r,s,i){r==null&&(r=[1,1]),s==null&&(s=1),a===0&&(a="valid");const o=X(t,"x","maxPool");let c=o,l=!1;o.rank===3&&(l=!0,c=xe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),K($r(s,r),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${s} and dilations '${r}'`);const u=Ji(c.shape,e,s,r,a),d=[u.dilationHeight,u.dilationWidth];let h;a==="same"?h=bce([u.filterHeight,u.filterWidth],d):h=[[0,0],[0,0]];const m=d[0]===1&&d[1]===1,[y,v]=wce([u.inHeight,u.inWidth],d,h),x=m?a:"valid",k=m?c:Hb(c,d,y),_=(n==="avg"?()=>$b(k,e,s,x,i):()=>Vb(k,e,s,x,i))(),A=m?_:Lb(_,d,v);return l?xe(A,[A.shape[1],A.shape[2],A.shape[3]]):A}function wce(t,e,n){const a=n.map(u=>u[0]),r=n.map(u=>u[1]),s=t.concat(a,r),i=e.map((u,d)=>(u-s[d]%u)%u),o=r.map((u,d)=>u+i[d]),c=e.map((u,d)=>[a[d],o[d]]),l=e.map((u,d)=>[0,i[d]]);return[c,l]}function bce(t,e){const a=t.map((i,o)=>i+(i-1)*(e[o]-1)).map(i=>i-1),r=a.map(i=>Math.floor(i/2)),s=a.map((i,o)=>i-r[o]);return a.map((i,o)=>[r[o],s[o]])}const rz=pe({pool_:kce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ce(t,e){const n=X(t,"x","prelu"),a=X(e,"alpha","prelu"),r={x:n,alpha:a};return he.runKernel(vb,r)}const Kb=pe({prelu_:_ce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ace(t,e=null,n=!1){let a=X(t,"x","prod");a.dtype==="bool"&&(a=ut(a,"int32"));const r={x:a},s={axis:e,keepDims:n};return he.runKernel(kb,r,s)}const sz=pe({prod_:Ace});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nce(t,e,n,a){const r=t.map((u,d)=>X(u,`tensors${d}`,"raggedGather","int32")),s=X(e,"paramsDenseValues","raggedGather"),i=X(n,"indices","raggedGather","int32"),o={paramsNestedSplits:r,paramsDenseValues:s,indices:i},c={outputRaggedRank:a},l=he.runKernel(_C,o,c);return{outputNestedSplits:l.slice(0,l.length-1),outputDenseValues:l[l.length-1]}}const Sce=pe({raggedGather_:Nce});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tce(t,e,n){const a=X(t,"starts","raggedRange"),r=X(e,"limits","raggedRange",a.dtype),s=X(n,"deltas","raggedRange",a.dtype),i={starts:a,limits:r,deltas:s},o=he.runKernel(AC,i);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}const Ece=pe({raggedRange_:Tce});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cce(t,e,n,a,r){const s=X(t,"shape","raggedTensorToTensor","int32"),i=X(e,"values","raggedTensorToTensor"),o=X(n,"defaultValue","raggedTensorToTensor",i.dtype),c=a.map((d,h)=>X(d,`tensors${h}`,"raggedTensorToTensor","int32")),l={shape:s,values:i,defaultValue:o,rowPartitionTensors:c},u={rowPartitionTypes:r};return he.runKernel(NC,l,u)}const Ice=pe({raggedTensorToTensor_:Cce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dce(t,e,n){gi(t);const a=Me(t);let r=null;if(n==null||n==="float32")r=new Float32Array(a);else if(n==="int32")r=new Int32Array(a);else if(n==="bool")r=new Uint8Array(a);else throw new Error(`Unknown data type ${n}`);for(let s=0;s<a;s++)r[s]=e();return he.makeTensor(r,t,n)}const Rce=pe({rand_:Dce});var Xv={exports:{}},Pce=Xv.exports,XO;function Fce(){return XO||(XO=1,function(t){(function(e,n,a){function r(c){var l=this,u=o();l.next=function(){var d=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=d|0)},l.c=1,l.s0=u(" "),l.s1=u(" "),l.s2=u(" "),l.s0-=u(c),l.s0<0&&(l.s0+=1),l.s1-=u(c),l.s1<0&&(l.s1+=1),l.s2-=u(c),l.s2<0&&(l.s2+=1),u=null}function s(c,l){return l.c=c.c,l.s0=c.s0,l.s1=c.s1,l.s2=c.s2,l}function i(c,l){var u=new r(c),d=l&&l.state,h=u.next;return h.int32=function(){return u.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d=="object"&&s(d,u),h.state=function(){return s(u,{})}),h}function o(){var c=4022871197,l=function(u){u=String(u);for(var d=0;d<u.length;d++){c+=u.charCodeAt(d);var h=.02519603282416938*c;c=h>>>0,h-=c,h*=c,c=h>>>0,h-=c,c+=h*4294967296}return(c>>>0)*23283064365386963e-26};return l}n&&n.exports?n.exports=i:this.alea=i})(Pce,t)}(Xv)),Xv.exports}var Yv={exports:{}},Oce=Yv.exports,YO;function $ce(){return YO||(YO=1,function(t){(function(e,n,a){function r(o){var c=this,l="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var d=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^d^d>>>8},o===(o|0)?c.x=o:l+=o;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,c.next()}function s(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c}function i(o,c){var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var h=l.next()>>>11,m=(l.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=i:this.xor128=i})(Oce,t)}(Yv)),Yv.exports}var Zv={exports:{}},Lce=Zv.exports,ZO;function Mce(){return ZO||(ZO=1,function(t){(function(e,n,a){function r(o){var c=this,l="";c.next=function(){var d=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(d^d<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,o===(o|0)?c.x=o:l+=o;for(var u=0;u<l.length+64;u++)c.x^=l.charCodeAt(u)|0,u==l.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function s(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c.v=o.v,c.d=o.d,c}function i(o,c){var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var h=l.next()>>>11,m=(l.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=i:this.xorwow=i})(Lce,t)}(Zv)),Zv.exports}var Qv={exports:{}},Bce=Qv.exports,QO;function zce(){return QO||(QO=1,function(t){(function(e,n,a){function r(o){var c=this;c.next=function(){var u=c.x,d=c.i,h,m;return h=u[d],h^=h>>>7,m=h^h<<24,h=u[d+1&7],m^=h^h>>>10,h=u[d+3&7],m^=h^h>>>3,h=u[d+4&7],m^=h^h<<7,h=u[d+7&7],h=h^h<<13,m^=h^h<<9,u[d]=m,c.i=d+1&7,m};function l(u,d){var h,m=[];if(d===(d|0))m[0]=d;else for(d=""+d,h=0;h<d.length;++h)m[h&7]=m[h&7]<<15^d.charCodeAt(h)+m[h+1&7]<<13;for(;m.length<8;)m.push(0);for(h=0;h<8&&m[h]===0;++h);for(h==8?m[7]=-1:m[h],u.x=m,u.i=0,h=256;h>0;--h)u.next()}l(c,o)}function s(o,c){return c.x=o.x.slice(),c.i=o.i,c}function i(o,c){o==null&&(o=+new Date);var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var h=l.next()>>>11,m=(l.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},d.int32=l.next,d.quick=d,u&&(u.x&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=i:this.xorshift7=i})(Bce,t)}(Qv)),Qv.exports}var Jv={exports:{}},Gce=Jv.exports,JO;function Uce(){return JO||(JO=1,function(t){(function(e,n,a){function r(o){var c=this;c.next=function(){var u=c.w,d=c.X,h=c.i,m,y;return c.w=u=u+1640531527|0,y=d[h+34&127],m=d[h=h+1&127],y^=y<<13,m^=m<<17,y^=y>>>15,m^=m>>>12,y=d[h]=y^m,c.i=h,y+(u^u>>>16)|0};function l(u,d){var h,m,y,v,x,k=[],b=128;for(d===(d|0)?(m=d,d=null):(d=d+"\0",m=0,b=Math.max(b,d.length)),y=0,v=-32;v<b;++v)d&&(m^=d.charCodeAt((v+32)%d.length)),v===0&&(x=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,v>=0&&(x=x+1640531527|0,h=k[v&127]^=m+x,y=h==0?y+1:0);for(y>=128&&(k[(d&&d.length||0)&127]=-1),y=127,v=4*128;v>0;--v)m=k[y+34&127],h=k[y=y+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,k[y]=m^h;u.w=x,u.X=k,u.i=y}l(c,o)}function s(o,c){return c.i=o.i,c.w=o.w,c.X=o.X.slice(),c}function i(o,c){o==null&&(o=+new Date);var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var h=l.next()>>>11,m=(l.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},d.int32=l.next,d.quick=d,u&&(u.X&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=i:this.xor4096=i})(Gce,t)}(Jv)),Jv.exports}var ek={exports:{}},Wce=ek.exports,e$;function Vce(){return e$||(e$=1,function(t){(function(e,n,a){function r(o){var c=this,l="";c.next=function(){var d=c.b,h=c.c,m=c.d,y=c.a;return d=d<<25^d>>>7^h,h=h-m|0,m=m<<24^m>>>8^y,y=y-d|0,c.b=d=d<<20^d>>>12^h,c.c=h=h-m|0,c.d=m<<16^h>>>16^y,c.a=y-d|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,o===Math.floor(o)?(c.a=o/4294967296|0,c.b=o|0):l+=o;for(var u=0;u<l.length+20;u++)c.b^=l.charCodeAt(u)|0,c.next()}function s(o,c){return c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c}function i(o,c){var l=new r(o),u=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var h=l.next()>>>11,m=(l.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},d.int32=l.next,d.quick=d,u&&(typeof u=="object"&&s(u,l),d.state=function(){return s(l,{})}),d}n&&n.exports?n.exports=i:this.tychei=i})(Wce,t)}(ek)),ek.exports}var tk={exports:{}};const jce={},Hce=Object.freeze(Object.defineProperty({__proto__:null,default:jce},Symbol.toStringTag,{value:"Module"})),Kce=ZY(Hce);var qce=tk.exports,t$;function Xce(){return t$||(t$=1,function(t){(function(e,n,a){var r=256,s=6,i=52,o="random",c=a.pow(r,s),l=a.pow(2,i),u=l*2,d=r-1,h;function m(A,S,C){var E=[];S=S==!0?{entropy:!0}:S||{};var D=k(x(S.entropy?[A,_(n)]:A??b(),3),E),I=new y(E),P=function(){for(var R=I.g(s),B=c,U=0;R<l;)R=(R+U)*r,B*=r,U=I.g(1);for(;R>=u;)R/=2,B/=2,U>>>=1;return(R+U)/B};return P.int32=function(){return I.g(4)|0},P.quick=function(){return I.g(4)/4294967296},P.double=P,k(_(I.S),n),(S.pass||C||function(R,B,U,V){return V&&(V.S&&v(V,I),R.state=function(){return v(I,{})}),U?(a[o]=R,B):R})(P,D,"global"in S?S.global:this==a,S.state)}function y(A){var S,C=A.length,E=this,D=0,I=E.i=E.j=0,P=E.S=[];for(C||(A=[C++]);D<r;)P[D]=D++;for(D=0;D<r;D++)P[D]=P[I=d&I+A[D%C]+(S=P[D])],P[I]=S;(E.g=function(R){for(var B,U=0,V=E.i,j=E.j,W=E.S;R--;)B=W[V=d&V+1],U=U*r+W[d&(W[V]=W[j=d&j+B])+(W[j]=B)];return E.i=V,E.j=j,U})(r)}function v(A,S){return S.i=A.i,S.j=A.j,S.S=A.S.slice(),S}function x(A,S){var C=[],E=typeof A,D;if(S&&E=="object")for(D in A)try{C.push(x(A[D],S-1))}catch{}return C.length?C:E=="string"?A:A+"\0"}function k(A,S){for(var C=A+"",E,D=0;D<C.length;)S[d&D]=d&(E^=S[d&D]*19)+C.charCodeAt(D++);return _(S)}function b(){try{var A;return h&&(A=h.randomBytes)?A=A(r):(A=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(A)),_(A)}catch{var S=e.navigator,C=S&&S.plugins;return[+new Date,e,C,e.screen,_(n)]}}function _(A){return String.fromCharCode.apply(0,A)}if(k(a.random(),n),t.exports){t.exports=m;try{h=Kce}catch{}}else a["seed"+o]=m})(typeof self<"u"?self:qce,[],Math)}(tk)),tk.exports}var TN,n$;function Yce(){if(n$)return TN;n$=1;var t=Fce(),e=$ce(),n=Mce(),a=zce(),r=Uce(),s=Vce(),i=Xce();return i.alea=t,i.xor128=e,i.xorwow=n,i.xorshift7=a,i.xor4096=r,i.tychei=s,TN=i,TN}var qb=Yce();/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fI{constructor(e,n,a,r,s){this.mean=e,this.stdDev=n,this.dtype=a,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const i=s||Math.random();this.random=qb.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const r=this.nextVal;return this.nextVal=NaN,r}let e,n,a=!1;for(;!a;){let r,s,i;do r=2*this.random()-1,s=2*this.random()-1,i=r*r+s*s;while(i>=1||i===0);const o=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*o,n=this.mean+this.stdDev*s*o,(!this.truncated||this.isValidTruncated(e))&&(a=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Zce{constructor(e,n,a,r){this.alpha=e,this.beta=1/n,this.dtype=a;const s=r||Math.random();this.randu=qb.alea(s.toString()),this.randn=new fI(0,1,a,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,a,r,s,i;for(;;){do r=this.randn.nextValue(),i=1+this.c*r;while(i<=0);if(i*=i*i,e=r*r,n=1-.331*e*e,a=.5*e+this.d*(1-i+Math.log(i)),s=this.randu(),s<n||Math.log(s)<a)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class Qce{constructor(e=0,n=1,a,r){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=a,r==null&&(r=Math.random()),typeof r=="number"&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=qb.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jce(t,e,n=1,a="float32",r){if(gi(t),n==null&&(n=1),a==null&&(a="float32"),a!=="float32"&&a!=="int32")throw new Error(`Unsupported data type ${a}`);const s=new Zce(e,n,a,r),i=cn(t,a);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}const ele=pe({randomGamma_:Jce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tle(t,e=0,n=1,a,r){if(gi(t),a!=null&&a==="bool")throw new Error(`Unsupported data type ${a}`);const s=new fI(e,n,a,!1,r),i=cn(t,a);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}const dI=pe({randomNormal_:tle});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nle(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return dI(t,0,1,e,n)}const ale=pe({randomStandardNormal_:nle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rle(t,e=0,n=1,a="float32",r){gi(t);const s=cn(t,a),i=new Qce(e,n,null,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}const Ed=pe({randomUniform_:rle});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sle(t,e,n,a){return Ed(t,e,n,"int32",a)}const ile=pe({randomUniformInt_:sle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xh(t,e,n=1,a="float32"){if(n===0)throw new Error("Cannot have a step of zero");const r={start:t,stop:e,step:n,dtype:a};return he.runKernel(SC,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ole(t){const n={input:X(t,"input","real")};return he.runKernel(TC,n)}const hg=pe({real_:ole});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cle(t){const n={x:X(t,"x","reciprocal")};return he.runKernel($y,n)}const iz=pe({reciprocal_:cle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lle(t){const n={x:X(t,"x","relu")};return he.runKernel(Ly,n)}const bc=pe({relu_:lle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ule(t){const n={x:X(t,"x","relu6")};return he.runKernel(My,n)}const pI=pe({relu6_:ule});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fle(t,e){const a={x:X(t,"x","reverse")},r={dims:e};return he.runKernel(Ab,a,r)}const Zi=pe({reverse_:fle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dle(t){const e=X(t,"x","reverse");return K(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Zi(e,0)}const ple=pe({reverse1d_:dle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hle(t,e){const n=X(t,"x","reverse");return K(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Zi(n,e)}const mle=pe({reverse2d_:hle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gle(t,e){const n=X(t,"x","reverse");return K(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Zi(n,e)}const yle=pe({reverse3d_:gle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xle(t,e){const n=X(t,"x","reverse");return K(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Zi(n,e)}const vle=pe({reverse4d_:xle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kle(t){const n={x:X(t,"x","round")};return he.runKernel(By,n)}const hI=pe({round_:kle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wle(t){const n={x:X(t,"x","rsqrt","float32")};return he.runKernel(zy,n)}const mI=pe({rsqrt_:wle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ble(t){const n={x:X(t,"x","selu")};return he.runKernel(Gy,n)}const gI=pe({selu_:ble});function _le(t,e,n,a,r,s=[1,1],i="NHWC"){const o=X(t,"x","separableConv2d"),c=X(e,"depthwiseFilter","separableConv2d"),l=X(n,"pointwiseFilter","separableConv2d");let u=o,d=!1;if(o.rank===3&&(d=!0,u=xe(o,[1,o.shape[0],o.shape[1],o.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");K(u.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`),K(c.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${c.rank}.`),K(l.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${c.rank}.`),K(l.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${l.shape[0]}.`),K(l.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${l.shape[1]}.`);const h=c.shape[2],m=c.shape[3];K(l.shape[2]===h*m,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*m}, but got ${l.shape[2]}.`);const y=a1(u,c,a,r,i,s),x=yu(y,l,1,"valid",i);return d?xe(x,[x.shape[1],x.shape[2],x.shape[3]]):x}const yI=pe({separableConv2d_:_le});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Ale(t,e){const n=X(t,"x","setdiff1d"),a=X(e,"y","setdiff1d");K(n.dtype===a.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${a.dtype}).`),K(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),K(a.rank===1,()=>`y should be 1D tensor, but got y (${a.shape}).`);const r=await n.data(),s=await a.data(),i=new Set(s);let o=0;for(let u=0;u<r.length;u++)i.has(r[u])||o++;const c=new rr([o],n.dtype),l=new rr([o],"int32");for(let u=0,d=0;u<r.length;u++)i.has(r[u])||(c.values[d]=r[u],l.values[d]=u,d++);return[c.toTensor(),l.toTensor()]}const Nle=Ale;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sle(t){const n={x:X(t,"x","sign")};return he.runKernel(Vy,n)}const oz=pe({sign_:Sle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tle(t){const n={x:X(t,"x","sin","float32")};return he.runKernel(Uy,n)}const xI=pe({sin_:Tle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ele(t){const n={x:X(t,"x","sinh")};return he.runKernel(Wy,n)}const vI=pe({sinh_:Ele});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cle(t,e,n){const a=X(t,"x","slice1d");return K(a.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${a.rank} tensor`),En(a,[e],[n])}const Xb=pe({slice1d_:Cle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ile(t,e,n){const a=X(t,"x","slice2d");return K(a.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${a.rank} tensor`),En(a,e,n)}const kI=pe({slice2d_:Ile});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dle(t,e,n){const a=X(t,"x","slice3d");return K(a.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${a.rank} tensor`),En(a,e,n)}const Yb=pe({slice3d_:Dle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rle(t,e,n){const a=X(t,"x","slice4d");return K(a.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${a.rank} tensor`),En(a,e,n)}const mg=pe({slice4d_:Rle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ple(t,e=-1){const n=X(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const a={logits:n},r={dim:e};return he.runKernel(Ib,a,r)}const Zb=pe({softmax_:Ple});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fle(t){K(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return he.runKernel(cC,e)}const Qb=pe({fft_:Fle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ole(t){K(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return he.runKernel(dC,e)}const gg=pe({ifft_:Ole});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $le(t){const e=t.shape[t.shape.length-1],n=t.size/e;let a;if(e<=2){const r=xe(t,[n,e]);a=gg(r)}else{const r=[n,2*(e-1)],s=xe(hg(t),[n,e]),i=xe(Bb(t),[n,e]),o=Zi(En(s,[0,1],[n,e-2]),1),c=me(Zi(En(i,[0,1],[n,e-2]),1),Ot(-1)),l=Ea([s,o],1),u=Ea([i,c],1),d=xe(hu(l,u),[r[0],r[1]]);a=gg(d)}if(a=hg(a),t.rank===3&&t.shape[0]!==0){const r=a,s=t.shape[0];a=xe(a,[s,a.shape[0]/s,a.shape[1]]),r.dispose()}return a}const wI=pe({irfft_:$le});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lle(t,e,n=0){const r={x:X(t,"x","split")},s={numOrSizeSplits:e,axis:n};return he.runKernel(Cb,r,s)}const Vs=pe({split_:Lle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mle(t,e){K(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const a=t.size/n;let r;if(e!=null&&e<n){const y=t.shape.map(x=>0),v=t.shape.map(x=>x);v[t.shape.length-1]=e,r=En(t,y,v),n=e}else if(e!=null&&e>n){const y=t.shape.map(v=>v);y[t.shape.length-1]=e-n,r=Ea([t,tr(y)],t.shape.length-1),n=e}else r=t;const s=Dn(r),i=xe(hu(r,s),[a,n]),o=Qb(i),c=Math.floor(n/2)+1,l=hg(o),u=Bb(o),d=Vs(l,[c,n-c],l.shape.length-1),h=Vs(u,[c,n-c],u.shape.length-1),m=r.shape.slice();return m[r.shape.length-1]=c,xe(hu(d[0],h[0]),m)}const Jb=pe({rfft_:Mle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ble(t,e){let n=X(t,"a","squaredDifference"),a=X(e,"b","squaredDifference");[n,a]=Ca(n,a),Qt(n.shape,a.shape);const r={a:n,b:a},s={};return he.runKernel(qy,r,s)}const bI=pe({squaredDifference_:Ble});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zle(t,e){const n=X(t,"x","squeeze","string_or_numeric");return xe(n,Ru(n.shape,e).newShape)}const Cd=pe({squeeze_:zle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gle(t,e=0){const n=_k(t,"tensors","stack","string_or_numeric");K(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&K(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const a=n,r={axis:e};return he.runKernel(yb,a,r)}const qs=pe({stack_:Gle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ule(t,e=0){const a={x:X(t,"x","step")},r={alpha:e};return he.runKernel(Jy,a,r)}const Kh=pe({step_:Ule});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wle(t,e,n,a,r=0,s=0,i=0,o=0,c=0){const u={x:X(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:a,beginMask:r,endMask:s,ellipsisMask:i,newAxisMask:o,shrinkAxisMask:c};return he.runKernel(BC,u,d)}const cz=pe({stridedSlice_:Wle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vle(t){const n={x:X(t,"x","tan","float32")};return he.runKernel(Yy,n)}const lz=pe({tan_:Vle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function us(t,e){Gh(t);const n=Fu(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ou(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P0(t,e,n){if(Gh(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const a=Fu(t,n);if(a.length!==2&&a.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(a.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ou(t,e,a,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uz(t,e,n){if(Gh(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const a=Fu(t,n);if(a.length!==3&&a.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(a.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ou(t,e,a,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jle(t,e,n){if(Gh(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const a=Fu(t,n);if(a.length!==4&&a.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(a.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ou(t,e,a,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hle(t,e,n){if(Gh(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const a=Fu(t,n);if(a.length!==5&&a.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(a.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ou(t,e,a,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kle(t,e,n){if(Gh(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const a=Fu(t,n);if(a.length!==6&&a.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(a.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||a,Ou(t,e,a,n)}function fz(t,e,n){const a=e.rank>1?e.shape[e.rank-1]:1,r=e.rank>1?e.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${a}, and batchDim: ${r}.`;if(n.rank<r)throw new Error(s+` update.rank < ${r}. `);if(t.length<a+(n.rank-r))throw new Error(s+` Output shape length < ${a+(n.rank-r)}`);if(n.rank!==r+t.length-a)throw new Error(s+` update.rank != ${r+t.length-a}`);for(let i=0;i<r;++i)if(n.shape[i]!==e.shape[i])throw new Error(s+` updates.shape[${i}] (${n.shape[i]}) != indices.shape[${i}] (${e.shape[i]}).`);for(let i=0;i<n.rank-r;++i)if(n.shape[i+r]!==t[i+a])throw new Error(s+` updates.shape[${i+r}] (${n.shape[i+r]}) != shape[${i+r}] (${t[i+r]})`)}function _I(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}fz(n,e,t)}function Id(t,e,n){const a=e.shape.length,r=a>1?e.shape[a-1]:1,s=n.length;let i=1;for(let d=r;d<s;++d)i*=n[d];const o=r<1?1:r,c=Me(e.shape)/o,l=[...Ft(n.slice(0,r)),1],u=Me(n);return{sliceRank:r,numUpdates:c,sliceSize:i,strides:l,outputSize:u}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qle(t,e,n){const a=X(t,"tensor","tensorScatterupdate"),r=X(e,"indices","tensorScatterupdate","int32"),s=X(n,"updates","tensorScatterupdate");if(_I(s,r,a.shape),a.dtype!==s.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${a.dtype} and ${s.dtype}.`);const i={tensor:a,indices:r,updates:s},o={};return he.runKernel(DC,i,o)}const Xle=pe({tensorScatterUpdate_:qle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yle(t,e=1,n=!0){const a=X(t,"x","topk");if(a.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const r=a.shape[a.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${e}`);const s={x:a},i={k:e,sorted:n},[o,c]=he.runKernel(WC,s,i);return{values:o,indices:c}}const dz=pe({topk_:Yle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zle(t,e=0,n=1,a,r){if(gi(t),a!=null&&a==="bool")throw new Error("Unsupported data type $ { dtype }");const s=new fI(e,n,a,!0,r),i=cn(t,a);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}const AI=pe({truncatedNormal_:Zle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qle(t,e=0){const n=X(t,"x","unique","string_or_numeric");K(n.rank>0,()=>"The input tensor must be at least 1D");const a={x:n},r={axis:e},[s,i]=he.runKernel(jC,a,r);return{values:s,indices:i}}const pz=pe({unique_:Qle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jle(t,e,n){const a=X(t,"x","unsortedSegmentSum"),r=X(e,"segmentIds","unsortedSegmentSum","int32");K(hh(n),()=>"numSegments must be of dtype int");const s={x:a,segmentIds:r},i={numSegments:n};return he.runKernel(Pb,s,i)}const NI=pe({unsortedSegmentSum_:Jle});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eue(t,e=0){const n=X(t,"x","unstack","string_or_numeric");K(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const a={value:n},r={axis:e};return he.runKernel(Rb,a,r)}const Qi=pe({unstack_:eue});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tue(t,e){return lI(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hz(t,e=!0,n,a){return he.makeVariable(t,e,n,a)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SI(t,e){const n=[];for(let s=0;s<e.length;s++)e[s]&&n.push(s);const a=cn(t,"int32"),r=cn([n.length,t.length],"int32");for(let s=0;s<n.length;s++){const i=a.indexToLoc(n[s]),o=s*t.length;r.values.set(i,o)}return r.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function nue(t){const e=X(t,"condition","whereAsync","bool"),n=await e.data(),a=SI(e.shape,n);return t!==e&&e.dispose(),a}const mz=nue;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function aue(t,e,n){const a=X(t,"tensor","boolMask"),r=X(e,"mask","boolMask","bool"),s=n??0,i=r.rank,o=a.shape;K(i>0,()=>"mask cannot be scalar"),Qs(o.slice(s,s+i),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let c=1;for(let v=s;v<s+i;v++)c*=o[v];const l=o.slice(0,s).concat([c],o.slice(s+i)),u=xe(a,l),d=xe(r,[-1]),h=await mz(d),m=Cd(h,[1]),y=o1(u,m,s);return t!==a&&a.dispose(),e!==r&&r.dispose(),m.dispose(),u.dispose(),d.dispose(),h.dispose(),y}const rue=aue;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sue(t,e,n){const a=X(t,"x","transpose");if(e==null&&(e=a.shape.map((i,o)=>o).reverse()),K(a.rank===e.length,()=>`Error in transpose: rank of input ${a.rank} must match length of perm ${e}.`),e.forEach(i=>{K(i>=0&&i<a.rank,()=>`All entries in 'perm' must be between 0 and ${a.rank-1} but got ${e}`)}),a.rank<=1)return a.clone();const r={x:a},s={perm:e};return a.dtype==="complex64"?Ne(()=>{let i=hg(a),o=Bb(a);return i=he.runKernel(Qp,{x:i},s),o=he.runKernel(Qp,{x:o},s),n&&(o=fa(o)),hu(i,o)}):he.runKernel(Qp,r,s)}const In=pe({transpose_:sue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iue(t,e,n,a,r=!0){const s=X(t,"v","movingAverage"),i=X(e,"x","movingAverage"),o=X(n,"decay","movingAverage");Kre(s,i),K(Sn(s.shape,i.shape),()=>"Shape mismatch in v and x");const c=Ot(1),l=mt(c,o);let u=me(mt(i,s),l);if(r){K(a!=null,()=>"When using zeroDebias: true, step is required.");const d=X(a,"step","movingAverage");u=bt(u,mt(c,ul(o,d)))}return qe(s,u)}const oue=pe({movingAverage_:iue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cue(t,e,n){gi(n);const a=X(t,"indices","scatterND","int32"),r=X(e,"updates","scatterND");_I(r,a,n);const s={indices:a,updates:r},i={shape:n};return he.runKernel(IC,s,i)}const lue=pe({scatterND_:cue});function uue(t,e,n,a){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const r=t.rank>0?t.shape[0]:1,s=t.rank>1?t.shape[1]:1;if(n.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${s}.`);const i=e.size;if(!(e.rank===0||e.rank===1&&i===r))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${r}]`);if(e.dtype!==a.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fue(t,e,n,a=0){gi(n);const r=X(t,"sparseIndices","sparseToDense","int32"),s=X(e,"sparseValues","sparseToDense","string_or_numeric"),i=X(a,"defaultValue","sparseToDense",s.dtype);uue(r,s,n,i);const o={sparseIndices:r,sparseValues:s,defaultValue:i},c={outputShape:n};return he.runKernel(LC,o,c)}const due=pe({sparseToDense_:fue});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pue(t,e){const n=X(e,"indices","gatherND","int32"),r={params:X(t,"x","gatherND","string_or_numeric"),indices:n};return he.runKernel(fC,r)}const hue=pe({gatherND_:pue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mue(t,e){if(e==null)return t.shape.slice();if(Sn(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let a=0;a<t.shape.length;a++)e[a]==null&&t.shape[a]!=null?n.push(t.shape[a]):n.push(e[a]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gue(t,e,n,a){const r=X(t,"x","dropout");if(K(r.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`),K(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof ga?r.clone():r;const s=mue(r,n),i=1-e,o=bt(i1(qe(Ed(s,0,1,"float32",a),i)),i);return me(r,o)}const gz=pe({dropout_:gue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yz(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function TI(t,e,n){const a=1-t%2,r=new Float32Array(t);for(let s=0;s<t;++s){const i=2*Math.PI*s/(t+a-1);r[s]=e-n*Math.cos(i)}return us(r,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function yue(t,e,n=1){const a=X(t,"predictions","inTopK"),r=X(e,"targets","inTopK");K(a.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${a.rank}`),K(a.rank-1===r.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${a.rank} and targets rank ${r.rank}`),Qs(a.shape.slice(0,a.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const s=a.shape[a.shape.length-1];K(n>0&&n<=s,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${s}), but got ${n}`);const i=await a.data(),o=await r.data(),[c,l]=[i.length/s,s],u=Fr("bool",c);for(let d=0;d<c;d++){const h=d*l,m=i.subarray(h,h+l),y=[];for(let v=0;v<m.length;v++)y.push({value:m[v],index:v});y.sort((v,x)=>x.value-v.value),u[d]=0;for(let v=0;v<n;v++)if(y[v].index===o[d]){u[d]=1;break}}return t!==a&&a.dispose(),e!==r&&r.dispose(),ko(u,r.shape,"bool")}const xue=yue;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vue(t,e,n,a,r,s="NHWC",i){let o=t;t.rank===3&&(o=xe(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let c=e;c.rank===3&&(c=xe(e,[1,e.shape[0],e.shape[1],e.shape[2]])),K(o.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),K(c.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${c.shape}.`),K(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const l=s==="NHWC"?o.shape[3]:o.shape[1],u=s==="NHWC"?c.shape[3]:c.shape[1];K(l===n[2],()=>`Error in conv2dDerFilter: depth of input ${l}) must match input depth in filter (${n[2]}.`),K(u===n[3],()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`),ys("conv2dDerFilter",r,i);const d={x:o,dy:c},h={strides:a,pad:r,dataFormat:s,dimRoundingMode:i,filterShape:n};return he.runKernel(YE,d,h)}const EI=pe({conv2DBackpropFilter_:vue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e_(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return me(t,Kh(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function t_(t,e){let n=e;const a=cr(t.shape,e.shape);return a.length>0&&(n=xt(n,a)),xe(n,t.shape)}function n_(t,e,n,a){if(e==="linear")return t;if(e==="relu")return bc(t);if(e==="elu")return r1(t);if(e==="relu6")return pI(t);if(e==="prelu")return Kb(t,n);if(e==="leakyrelu")return zb(t,a);if(e==="sigmoid")return ic(t);throw new Error(`Unknown fused activation ${e}.`)}const a_=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kue({x:t,filter:e,strides:n,pad:a,dataFormat:r="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:o,activation:c="linear",preluActivationWeights:l,leakyreluAlpha:u}){if(c=c||"linear",a_(he.state.gradientDepth,c)===!1){K(r==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let C=yu(t,e,n,a,r,s,i);return o!=null&&(C=qe(C,o)),n_(C,c,l,u)}const d=X(t,"x","conv2d","float32"),h=X(e,"filter","conv2d","float32");let m=d,y=!1;d.rank===3&&(y=!0,m=xe(d,[1,d.shape[0],d.shape[1],d.shape[2]])),K(m.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${m.rank}.`),K(h.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`),ys("fused conv2d",a,i);const v=r==="NHWC"?m.shape[3]:m.shape[1];K(h.shape[2]===v,()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${h.shape[2]}.`),K($r(n,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`);const x=br(m.shape,h.shape,n,s,a,i);let k;o!=null&&(k=X(o,"bias","fused conv2d"),[k]=Ca(k,d),r==="NHWC"?Qt(x.outShape,k.shape):(K(k.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${k.shape.length}.`),K(k.shape.length===0||k.shape[0]===x.outChannels||k.shape[0]===1,()=>`Error in fused conv2d: bias shape (${k.shape}) is not compatible with the number of output channels (${x.outChannels})`)));let b;if(l!=null){const C=l.shape;if(K(C.length<=1||C.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${C.length}.`),C.length===1)K(C[0]===1||C[0]===x.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${C}) is not compatible with the number of output channels (${x.outChannels}).`);else if(C.length===3)try{Qt(C,x.outShape)}catch{const D=`Error in fused conv2d: PReLU activation weights (${C}) is not compatible with the output shape of the conv2d (${x.outShape}).`;throw Error(D)}b=X(l,"prelu weights","fused conv2d")}const _=(C,E)=>{K(r==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`);const[D,I,P,R]=E,B=e_(C,P,c);K(gu(s),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);const U=eI(I.shape,B,D,n,a),V=EI(I,B,D.shape,n,a),j=[U,V];if(R!=null){const W=t_(R,B);j.push(W)}return j},A={x:m,filter:h,bias:k,preluActivationWeights:b},S={strides:n,pad:a,dataFormat:r,dilations:s,dimRoundingMode:i,activation:c,leakyreluAlpha:u};return o==null?fl((E,D,I)=>{let P=he.runKernel(vk,A,S);return I([D,E,P]),y&&(P=xe(P,[P.shape[1],P.shape[2],P.shape[3]])),{value:P,gradFunc:_}})(m,h):fl((E,D,I,P)=>{let R=he.runKernel(vk,A,S);return P([D,E,R,I]),y&&(R=xe(R,[R.shape[1],R.shape[2],R.shape[3]])),{value:R,gradFunc:_}})(m,h,k)}const xz=pe({fusedConv2d_:kue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wue(t,e,n,a,r,s=[1,1],i){let o=t;t.rank===3&&(o=xe(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let c=e;c.rank===3&&(c=xe(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const l={x:o,dy:c},u={strides:a,pad:r,dimRoundingMode:i,dilations:s,filterShape:n};return he.runKernel(aC,l,u)}const vz=pe({depthwiseConv2dNativeBackpropFilter_:wue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bue(t,e,n,a,r,s=[1,1],i){let o=e,c=!1;e.rank===3&&(c=!0,o=xe(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const l={dy:o,filter:n},u={strides:a,pad:r,dimRoundingMode:i,dilations:s,inputShape:t},d=he.runKernel(rC,l,u);return c?xe(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const kz=pe({depthwiseConv2dNativeBackpropInput_:bue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ue({x:t,filter:e,strides:n,pad:a,dataFormat:r="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:o,activation:c="linear",preluActivationWeights:l,leakyreluAlpha:u}){if(a_(he.state.gradientDepth,c)===!1){let S=a1(t,e,n,a,r,s,i);return o!=null&&(S=qe(S,o)),n_(S,c,l,u)}const d=X(t,"x","depthwiseConv2d","float32"),h=X(e,"filter","depthwiseConv2d","float32");let m=d,y=!1;d.rank===3&&(y=!0,m=xe(d,[1,d.shape[0],d.shape[1],d.shape[2]])),K(m.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`),K(h.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`),K(m.shape[3]===h.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`),s==null&&(s=[1,1]),K($r(n,s),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),ys("fused depthwiseConv2d",a,i);const v=br(m.shape,h.shape,n,s,a,i,!0);let x;o!=null&&(x=X(o,"bias","fused conv2d"),[x]=Ca(x,d),Qt(v.outShape,x.shape));let k;l!=null&&(k=X(l,"prelu weights","fused depthwiseConv2d"));const b=(S,C)=>{K(gu(s),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);const[E,D,I,P]=C,R=e_(S,I,c),B=kz(D.shape,R,E,n,a,s,i),U=vz(D,R,E.shape,n,a,s,i);if(P!=null){const V=t_(x,R);return[B,U,V]}return[B,U]},_={x:m,filter:h,bias:x,preluActivationWeights:k},A={strides:n,pad:a,dataFormat:r,dilations:s,dimRoundingMode:i,activation:c,leakyreluAlpha:u};return o==null?fl((C,E,D)=>{let I=he.runKernel(kk,_,A);return D([E,C,I]),y&&(I=xe(I,[I.shape[1],I.shape[2],I.shape[3]])),{value:I,gradFunc:b}})(m,h):fl((C,E,D,I)=>{let P=he.runKernel(kk,_,A);return I([E,C,P,D]),y&&(P=xe(P,[P.shape[1],P.shape[2],P.shape[3]])),{value:P,gradFunc:b}})(m,h,x)}const Aue=pe({fusedDepthwiseConv2d_:_ue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nue({a:t,b:e,transposeA:n=!1,transposeB:a=!1,bias:r,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:o=.2}){if(a_(he.state.gradientDepth,s)===!1){let R=kn(t,e,n,a);return r!=null&&(R=qe(R,r)),n_(R,s,i,o)}let c=X(t,"a","fused matMul"),l=X(e,"b","fused matMul");[c,l]=Ca(c,l);const u=n?c.shape[c.rank-2]:c.shape[c.rank-1],d=a?l.shape[l.rank-1]:l.shape[l.rank-2],h=n?c.shape[c.rank-1]:c.shape[c.rank-2],m=a?l.shape[l.rank-2]:l.shape[l.rank-1],y=c.shape.slice(0,-2),v=l.shape.slice(0,-2),x=Me(y),k=Me(v);K(u===d,()=>`Error in fused matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${c.shape} and ${l.shape} and transposeA=${n} and transposeB=${a} must match.`);const _=Qt(c.shape.slice(0,-2),l.shape.slice(0,-2)).concat([h,m]),A=n?xe(c,[x,u,h]):xe(c,[x,h,u]),S=a?xe(l,[k,m,d]):xe(l,[k,d,m]);let C;r!=null&&(C=X(r,"bias","fused matMul"),[C]=Ca(C,c),Qt(_,C.shape));let E;i!=null&&(E=X(i,"prelu weights","fused matMul"));const D=(R,B)=>{const[U,V,j,W]=B,J=e_(xe(R,j.shape),j,s);let q,Z;if(!n&&!a?(q=kn(J,V,!1,!0),Z=kn(U,J,!0,!1)):!n&&a?(q=kn(J,V,!1,!1),Z=kn(J,U,!0,!1)):n&&!a?(q=kn(V,J,!1,!0),Z=kn(U,J,!1,!1)):(q=kn(V,J,!0,!0),Z=kn(J,U,!0,!0)),r!=null){const M=t_(W,J);return[q,Z,M]}else return[q,Z]},I={a:A,b:S,bias:C,preluActivationWeights:E},P={transposeA:n,transposeB:a,activation:s,leakyreluAlpha:o};return r==null?fl((B,U,V)=>{const j=he.runKernel(xk,I,P);return V([B,U,j]),{value:xe(j,_),gradFunc:D}})(A,S):fl((B,U,V,j)=>{const W=he.runKernel(xk,I,P);return j([B,U,W,V]),{value:xe(W,_),gradFunc:D}})(A,S,C)}const iT=pe({fusedMatMul_:Nue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sue=Object.freeze(Object.defineProperty({__proto__:null,conv2d:xz,depthwiseConv2d:Aue,matMul:iT},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tue(t){return TI(t,.54,.46)}const Eue=pe({hammingWindow_:Tue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cue(t){return TI(t,.5,.5)}const wz=pe({hannWindow_:Cue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iue(t,e,n,a=!1,r=0){let s=0;const i=[];for(;s+e<=t.size;)i.push(En(t,s,e)),s+=n;if(a)for(;s<t.size;){const o=s+e-t.size,c=Ea([En(t,s,e-o),jh([o],r)]);i.push(c),s+=n}return i.length===0?P0([],[0,e]):xe(Ea(i),[i.length,e])}const bz=pe({frame_:Iue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Due(t,e,n,a,r=wz){a==null&&(a=yz(e));const s=bz(t,e,n),i=me(s,r(e));return Jb(i,a)}const Rue=pe({stft_:Due});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pue(t,e,n,a,r="bilinear",s=0){const i=X(t,"image","cropAndResize"),o=X(e,"boxes","cropAndResize","float32"),c=X(n,"boxInd","cropAndResize","int32"),l=o.shape[0];K(i.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`),K(o.rank===2&&o.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${l},4] but had shape ${o.shape}.`),K(c.rank===1&&c.shape[0]===l,()=>`Error in cropAndResize: boxInd must be have size [${l}] but had shape ${o.shape}.`),K(a.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${a.length}.`),K(a[0]>=1&&a[1]>=1,()=>`cropSize must be atleast [1,1], but was ${a}`),K(r==="bilinear"||r==="nearest",()=>`method must be bilinear or nearest, but was ${r}`);const u={image:i,boxes:o,boxInd:c},d={method:r,extrapolationValue:s,cropSize:a};return he.runKernel(eC,u,d)}const Fue=pe({cropAndResize_:Pue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oue(t){const e=X(t,"image","flipLeftRight","float32");K(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return he.runKernel(uC,n,{})}const $ue=pe({flipLeftRight_:Oue});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lue(t){const e=X(t,"image","grayscaleToRGB"),n=e.rank-1,a=e.shape[n];K(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),K(a===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${a}.`);const r=new Array(e.rank);return r.fill(1,0,n),r[n]=3,Ui(e,r)}const Mue=pe({grayscaleToRGB_:Lue});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bue(t){const e=X(t,"image","RGBToGrayscale"),n=e.rank-1,a=e.shape[n];K(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),K(a===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${a}.`);const r=e.dtype,s=ut(e,"float32"),i=us([.2989,.587,.114]);let o;switch(e.rank){case 2:o=Vp("ij,j->i",s,i);break;case 3:o=Vp("ijk,k->ij",s,i);break;case 4:o=Vp("ijkl,l->ijk",s,i);break;case 5:o=Vp("ijklm,m->ijkl",s,i);break;case 6:o=Vp("ijklmn,n->ijklm",s,i);break;default:throw new Error("Not a valid tensor rank.")}return o=is(o,-1),ut(o,r)}const zue=pe({rgbToGrayscale_:Bue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gue(t,e,n=0,a=.5){const r=X(t,"image","rotateWithOffset","float32");K(r.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`);const s={image:r},i={radians:e,fillValue:n,center:a};return he.runKernel(HC,s,i)}const Uue=pe({rotateWithOffset_:Gue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qh(t,e,n,a,r,s){a==null&&(a=.5),r==null&&(r=Number.NEGATIVE_INFINITY),s==null&&(s=0);const i=t.shape[0];return n=Math.min(n,i),K(0<=a&&a<=1,()=>`iouThreshold must be in [0, 1], but was '${a}'`),K(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),K(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),K(e.rank===1,()=>"scores must be a 1D tensor"),K(e.shape[0]===i,()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${e.shape[0]}`),K(0<=s&&s<=1,()=>`softNmsSigma must be in [0, 1], but was '${s}'`),{maxOutputSize:n,iouThreshold:a,scoreThreshold:r,softNmsSigma:s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wue(t,e,n,a=.5,r=Number.NEGATIVE_INFINITY){const s=X(t,"boxes","nonMaxSuppression","float32"),i=X(e,"scores","nonMaxSuppression","float32"),o=qh(s,i,n,a,r);n=o.maxOutputSize,a=o.iouThreshold,r=o.scoreThreshold;const c={maxOutputSize:n,iouThreshold:a,scoreThreshold:r};return he.runKernel(kC,{boxes:s,scores:i},c)}const Vue=pe({nonMaxSuppression_:Wue});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jue(t,e,n){const a=Hue(t,e,n),r=a<0?-(a+1):a;t.splice(r,0,e)}function Hue(t,e,n){return que(t,e,n||Kue)}function Kue(t,e){return t>e?1:t<e?-1:0}function que(t,e,n){let a=0,r=t.length,s=0,i=!1;for(;a<r;){s=a+(r-a>>>1);const o=n(e,t[s]);o>0?a=s+1:(r=s,i=!o)}return i?a:-a-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CI(t,e,n,a,r){return RI(t,e,n,a,r,0)}function II(t,e,n,a,r,s){return RI(t,e,n,a,r,0,!1,s,!0)}function DI(t,e,n,a,r,s){return RI(t,e,n,a,r,s,!0)}function RI(t,e,n,a,r,s,i=!1,o=!1,c=!1){const l=[];for(let x=0;x<e.length;x++)e[x]>r&&l.push({score:e[x],boxIndex:x,suppressBeginIndex:0});l.sort(a$);const u=s>0?-.5/s:0,d=[],h=[];for(;d.length<n&&l.length>0;){const x=l.pop(),{score:k,boxIndex:b,suppressBeginIndex:_}=x;if(k<r)break;let A=!1;for(let S=d.length-1;S>=_;--S){const C=Xue(t,b,d[S]);if(C>=a){A=!0;break}if(x.score=x.score*Yue(a,u,C),x.score<=r)break}x.suppressBeginIndex=d.length,A||(x.score===k?(d.push(b),h.push(x.score)):x.score>r&&jue(l,x,a$))}const m=d.length,y=n-m;o&&y>0&&(d.push(...new Array(y).fill(0)),h.push(...new Array(y).fill(0)));const v={selectedIndices:d};return i&&(v.selectedScores=h),c&&(v.validOutputs=m),v}function Xue(t,e,n){const a=t.subarray(e*4,e*4+4),r=t.subarray(n*4,n*4+4),s=Math.min(a[0],a[2]),i=Math.min(a[1],a[3]),o=Math.max(a[0],a[2]),c=Math.max(a[1],a[3]),l=Math.min(r[0],r[2]),u=Math.min(r[1],r[3]),d=Math.max(r[0],r[2]),h=Math.max(r[1],r[3]),m=(o-s)*(c-i),y=(d-l)*(h-u);if(m<=0||y<=0)return 0;const v=Math.max(s,l),x=Math.max(i,u),k=Math.min(o,d),b=Math.min(c,h),_=Math.max(k-v,0)*Math.max(b-x,0);return _/(m+y-_)}function Yue(t,e,n){const a=Math.exp(e*n*n);return n<=t?a:0}function a$(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Zue(t,e,n,a=.5,r=Number.NEGATIVE_INFINITY){const s=X(t,"boxes","nonMaxSuppressionAsync"),i=X(e,"scores","nonMaxSuppressionAsync"),o=qh(s,i,n,a,r);n=o.maxOutputSize,a=o.iouThreshold,r=o.scoreThreshold;const c=await Promise.all([s.data(),i.data()]),l=c[0],u=c[1],{selectedIndices:d}=CI(l,u,n,a,r);return s!==t&&s.dispose(),i!==e&&i.dispose(),us(d,"int32")}const Que=Zue;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jue(t,e,n,a=.5,r=Number.NEGATIVE_INFINITY,s=0){const i=X(t,"boxes","nonMaxSuppression"),o=X(e,"scores","nonMaxSuppression"),c=qh(i,o,n,a,r,s);n=c.maxOutputSize,a=c.iouThreshold,r=c.scoreThreshold,s=c.softNmsSigma;const l={boxes:i,scores:o},u={maxOutputSize:n,iouThreshold:a,scoreThreshold:r,softNmsSigma:s},d=he.runKernel(bC,l,u);return{selectedIndices:d[0],selectedScores:d[1]}}const efe=pe({nonMaxSuppressionWithScore_:Jue});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function tfe(t,e,n,a=.5,r=Number.NEGATIVE_INFINITY,s=0){const i=X(t,"boxes","nonMaxSuppressionAsync"),o=X(e,"scores","nonMaxSuppressionAsync"),c=qh(i,o,n,a,r,s);n=c.maxOutputSize,a=c.iouThreshold,r=c.scoreThreshold,s=c.softNmsSigma;const l=await Promise.all([i.data(),o.data()]),u=l[0],d=l[1],{selectedIndices:h,selectedScores:m}=DI(u,d,n,a,r,s);return i!==t&&i.dispose(),o!==e&&o.dispose(),{selectedIndices:us(h,"int32"),selectedScores:us(m)}}const nfe=tfe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function afe(t,e,n,a=.5,r=Number.NEGATIVE_INFINITY,s=!1){const i=X(t,"boxes","nonMaxSuppression"),o=X(e,"scores","nonMaxSuppression"),c=qh(i,o,n,a,r,null),l=c.maxOutputSize,u=c.iouThreshold,d=c.scoreThreshold,h={boxes:i,scores:o},m={maxOutputSize:l,iouThreshold:u,scoreThreshold:d,padToMaxOutputSize:s},y=he.runKernel(wC,h,m);return{selectedIndices:y[0],validOutputs:y[1]}}const rfe=pe({nonMaxSuppressionPadded_:afe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function sfe(t,e,n,a=.5,r=Number.NEGATIVE_INFINITY,s=!1){const i=X(t,"boxes","nonMaxSuppressionAsync"),o=X(e,"scores","nonMaxSuppressionAsync"),c=qh(i,o,n,a,r,null),l=c.maxOutputSize,u=c.iouThreshold,d=c.scoreThreshold,[h,m]=await Promise.all([i.data(),o.data()]),{selectedIndices:y,validOutputs:v}=II(h,m,l,u,d,s);return i!==t&&i.dispose(),o!==e&&o.dispose(),{selectedIndices:us(y,"int32"),validOutputs:Ot(v,"int32")}}const ife=sfe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ofe(t,e,n=!1,a=!1){const r=X(t,"images","resizeBilinear");K(r.rank===3||r.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`),K(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),K(a===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let s=r,i=!1;r.rank===3&&(i=!0,s=xe(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const o={images:s},c={alignCorners:n,halfPixelCenters:a,size:e},l=he.runKernel(_b,o,c);return i?xe(l,[l.shape[1],l.shape[2],l.shape[3]]):l}const _z=pe({resizeBilinear_:ofe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cfe(t,e,n=!1,a=!1){const r=X(t,"images","resizeNearestNeighbor");K(r.rank===3||r.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`),K(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),K(r.dtype==="float32"||r.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),K(a===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let s=r,i=!1;r.rank===3&&(i=!0,s=xe(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const o={images:s},c={alignCorners:n,halfPixelCenters:a,size:e},l=he.runKernel(bb,o,c);return i?xe(l,[l.shape[1],l.shape[2],l.shape[3]]):l}const Az=pe({resizeNearestNeighbor_:cfe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lfe(t,e="binary",n=!1,a=.5){const r=X(t,"image","threshold"),s=.2989,i=.587,o=.114,c=r.shape[0]*r.shape[1];let l=me(us([a]),255),u,d,h,m;if(K(r.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`),K(r.shape[2]===3||r.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`),K(r.dtype==="int32"||r.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`),K(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),r.shape[2]===3){[u,d,h]=Vs(r,[1,1,1],-1);const x=me(u,s),k=me(d,i),b=me(h,o);m=qe(qe(x,k),b)}else m=t;if(e==="otsu"){const x=R8(ut(hI(m),"int32"),ko([]),256);l=ufe(x,c)}const y=n?Td(m,l):Js(m,l);return ut(me(y,255),"int32")}function ufe(t,e){let n=us([-1]),a=us([0]),r=us([0]),s,i,o,c,l,u;for(let d=0;d<t.size-1;d++){s=En(t,0,d+1),i=En(t,d+1),l=bt(xt(s),e),u=bt(xt(i),e);const h=xt(me(s,xh(0,s.size)));o=bt(h,xt(s));const m=jh(i.shape,s.size),y=qe(xh(0,i.size),m),v=me(i,y);c=bt(xt(v),xt(i));const x=mt(o,c),k=mt(o,c),b=me(l,u);r=me(me(b,x),k);const _=Js(r,a);a=Vr(_,r,a),n=Vr(_,us([d]),n)}return n}const ffe=pe({threshold_:lfe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dfe(t,e,n="nearest",a="constant",r=0,s){const i=X(t,"image","transform","float32"),o=X(e,"transforms","transform","float32");K(i.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`),K(o.rank===2&&(o.shape[0]===i.shape[0]||o.shape[0]===1)&&o.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),K(s==null||s.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${s}.`);const c={image:i,transforms:o},l={interpolation:n,fillMode:a,fillValue:r,outputShape:s};return he.runKernel(VC,c,l)}const pfe=pe({transform_:dfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hfe(t,e,n){const a=X(t,"a","bandPart");K(a.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${a.rank}.`);const r=a.shape,[s,i]=a.shape.slice(-2);let o,c;typeof e=="number"?(K(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),K(e<=s,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${s}).`),o=X(e<0?s:e,"numLower","bandPart")):(K(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),o=Vr(pg(e,0),s,id(e,s))),typeof n=="number"?(K(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),K(n<=i,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`),c=X(n<0?i:n,"numUpper","bandPart")):(K(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),c=Vr(pg(n,0),i,id(n,i)));const l=xe(xh(0,s,1,"int32"),[-1,1]),u=xh(0,i,1,"int32"),d=mt(l,u),h=hc(Td(d,o),Mu(d,fa(c))),m=tr([s,i],a.dtype);return xe(qs(Qi(xe(a,[-1,s,i])).map(y=>Vr(h,y,m))),r)}const mfe=pe({bandPart_:hfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gfe(t){let e;if(Array.isArray(t)){e=!1,K(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const r=t[0].shape[0];for(let s=1;s<t.length;++s)K(t[s].shape[0]===r,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[s].shape[0]} vs. ${r})`)}else e=!0,t=Vs(t,t.shape[0],0).map(r=>Cd(r,[0]));K(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],a=t;for(let r=0;r<t.length;++r)n.push(he.tidy(()=>{let s=a[r];if(r>0)for(let i=0;i<r;++i){const o=me(xt(me(n[i],s)),n[i]);s=mt(s,o)}return bt(s,s1(s,"euclidean"))}));return e?qs(n,0):n}const yfe=pe({gramSchmidt_:gfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xfe(t,e=!1){if(K(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return r$(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((c,l)=>c*l),a=Qi(xe(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),r=[],s=[];a.forEach(c=>{const[l,u]=r$(c,e);r.push(l),s.push(u)});const i=xe(qs(r,0),t.shape),o=xe(qs(s,0),t.shape);return[i,o]}}function r$(t,e=!1){return he.tidy(()=>{K(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],a=t.shape[1];let r=iI(n),s=tl(t);const i=P0([[1]],[1,1]);let o=tl(i);const c=n>=a?a:n;for(let l=0;l<c;++l){const u=s,d=o,h=r;[o,s,r]=he.tidy(()=>{const m=En(s,[l,l],[n-l,1]),y=s1(m),v=En(s,[l,l],[1,1]),x=Vr(Js(v,0),P0([[-1]]),P0([[1]])),k=mt(v,me(x,y)),b=bt(m,k);b.shape[0]===1?o=tl(i):o=Ea([i,En(b,[1,0],[b.shape[0]-1,b.shape[1]])],0);const _=fa(bt(kn(x,k),y)),A=En(s,[l,0],[n-l,a]),S=me(_,o),C=In(o);if(l===0)s=mt(A,kn(S,kn(C,A)));else{const I=mt(A,kn(S,kn(C,A)));s=Ea([En(s,[0,0],[l,a]),I],0)}const E=In(S),D=En(r,[0,l],[n,r.shape[1]-l]);if(l===0)r=mt(D,kn(kn(D,o),E));else{const I=mt(D,kn(kn(D,o),E));r=Ea([En(r,[0,0],[n,l]),I],1)}return[o,s,r]}),mn([u,d,h])}return!e&&n>a&&(r=En(r,[0,0],[n,a]),s=En(s,[0,0],[a,a])),[r,s]})}const vfe=pe({qr_:xfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ts;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Ts||(Ts={}));function kfe(t,e,n=Ts.SUM_BY_NONZERO_WEIGHTS){const a=X(t,"losses","computeWeightedLoss");let r=null;e!=null&&(r=X(e,"weights","computeWeightedLoss"));const s=r==null?a:me(a,r);if(n===Ts.NONE)return s;if(n===Ts.SUM)return xt(s);if(n===Ts.MEAN){if(r==null)return Sa(s);{const i=a.size/r.size,o=bt(xt(s),xt(r));return i>1?bt(o,Ot(i)):o}}if(n===Ts.SUM_BY_NONZERO_WEIGHTS){if(r==null)return bt(xt(s),Ot(a.size));{const i=me(r,Ws(a.shape)),o=ut(xt(yh(i,Ot(0))),"float32");return bt(xt(s),o)}}throw Error(`Unknown reduction: ${n}`)}const _l=pe({computeWeightedLoss_:kfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wfe(t,e,n,a=Ts.SUM_BY_NONZERO_WEIGHTS){const r=X(t,"labels","absoluteDifference"),s=X(e,"predictions","absoluteDifference");let i=null;n!=null&&(i=X(n,"weights","absoluteDifference")),Qs(r.shape,s.shape,"Error in absoluteDifference: ");const o=er(mt(r,s));return _l(o,i,a)}const bfe=pe({absoluteDifference_:wfe});function _fe(t,e,n,a,r=Ts.SUM_BY_NONZERO_WEIGHTS){const s=X(t,"labels","cosineDistance"),i=X(e,"predictions","cosineDistance");let o=null;a!=null&&(o=X(a,"weights","cosineDistance")),Qs(s.shape,i.shape,"Error in cosineDistance: ");const c=Ot(1),l=mt(c,xt(me(s,i),n,!0));return _l(l,o,r)}const Afe=pe({cosineDistance_:_fe});function Nfe(t,e,n,a=Ts.SUM_BY_NONZERO_WEIGHTS){let r=X(t,"labels","hingeLoss");const s=X(e,"predictions","hingeLoss");let i=null;n!=null&&(i=X(n,"weights","hingeLoss")),Qs(r.shape,s.shape,"Error in hingeLoss: ");const o=Ot(1);r=mt(me(Ot(2),r),o);const c=bc(mt(o,me(r,s)));return _l(c,i,a)}const Sfe=pe({hingeLoss_:Nfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tfe(t,e,n,a=1,r=Ts.SUM_BY_NONZERO_WEIGHTS){const s=X(t,"labels","huberLoss"),i=X(e,"predictions","huberLoss");let o=null;n!=null&&(o=X(n,"weights","huberLoss")),Qs(s.shape,i.shape,"Error in huberLoss: ");const c=Ot(a),l=er(mt(i,s)),u=id(l,c),d=mt(l,u),h=qe(me(Ot(.5),ta(u)),me(c,d));return _l(h,o,r)}const Efe=pe({huberLoss_:Tfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cfe(t,e,n,a=1e-7,r=Ts.SUM_BY_NONZERO_WEIGHTS){const s=X(t,"labels","logLoss"),i=X(e,"predictions","logLoss");let o=null;n!=null&&(o=X(n,"weights","logLoss")),Qs(s.shape,i.shape,"Error in logLoss: ");const c=Ot(1),l=Ot(a),u=fa(me(s,fi(qe(i,l)))),d=me(mt(c,s),fi(qe(mt(c,i),l))),h=mt(u,d);return _l(h,o,r)}const Ife=pe({logLoss_:Cfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dfe(t,e,n,a=Ts.SUM_BY_NONZERO_WEIGHTS){const r=X(t,"labels","meanSquaredError"),s=X(e,"predictions","meanSquaredError");let i=null;n!=null&&(i=X(n,"weights","meanSquaredError")),Qs(r.shape,s.shape,"Error in meanSquaredError: ");const o=bI(r,s);return _l(o,i,a)}const Rfe=pe({meanSquaredError_:Dfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pfe(t,e){const n=X(t,"labels","sigmoidCrossEntropyWithLogits"),a=X(e,"logits","sigmoidCrossEntropyWithLogits");Qs(n.shape,a.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=bc(a),s=me(a,n),i=Gb(Ks(fa(er(a))));return qe(mt(r,s),i)}function Ffe(t,e,n,a=0,r=Ts.SUM_BY_NONZERO_WEIGHTS){let s=X(t,"multiClassLabels","sigmoidCrossEntropy");const i=X(e,"logits","sigmoidCrossEntropy");let o=null;if(n!=null&&(o=X(n,"weights","sigmoidCrossEntropy")),Qs(s.shape,i.shape,"Error in sigmoidCrossEntropy: "),a>0){const l=Ot(a),u=Ot(1),d=Ot(.5);s=qe(me(s,mt(u,l)),me(d,l))}const c=Pfe(s,i);return _l(c,o,r)}const Ofe=pe({sigmoidCrossEntropy_:Ffe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $fe(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return fl((r,s,i)=>{const c=Ub(s,[n],!0),l=mt(ut(s,"float32"),c);i([r,l]);const u=fa(me(l,r));return{value:xt(u,[n]),gradFunc:(m,y)=>{const[v,x]=y,k=Ma(m.shape,[n]);return[me(xe(m,k),mt(ut(v,"float32"),Ks(x))),me(xe(m,k),mt(Ks(x),ut(v,"float32")))]}}})(t,e)}function Lfe(t,e,n,a=0,r=Ts.SUM_BY_NONZERO_WEIGHTS){let s=X(t,"onehotLabels","softmaxCrossEntropy");const i=X(e,"logits","softmaxCrossEntropy");let o=null;if(n!=null&&(o=X(n,"weights","softmaxCrossEntropy")),Qs(s.shape,i.shape,"Error in softmaxCrossEntropy: "),a>0){const l=Ot(a),u=Ot(1),d=Ot(s.shape[1]);s=qe(me(s,mt(u,l)),bt(l,d))}const c=$fe(s,i);return _l(c,o,r)}const Mfe=pe({softmaxCrossEntropy_:Lfe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bfe(t,e,n,a){const r=X(t,"indices","sparseFillEmptyRows","int32"),s=X(e,"values","sparseFillEmptyRows"),i=X(n,"denseShape","sparseFillEmptyRows","int32"),o=X(a,"defaultValue","sparseFillEmptyRows",s.dtype);if(r.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(o.rank!==0)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const c={indices:r,values:s,denseShape:i,defaultValue:o},l=he.runKernel(PC,c);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}const zfe=pe({sparseFillEmptyRows_:Bfe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gfe(t,e,n){const a=X(t,"inputIndices","sparseReshape","int32"),r=X(e,"inputShape","sparseReshape","int32"),s=X(n,"newShape","sparseReshape","int32");if(a.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${a.shape}`);if(r.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(s.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${s.shape}`);const i={inputIndices:a,inputShape:r,newShape:s},o=he.runKernel(FC,i);return{outputIndices:o[0],outputShape:o[1]}}const Ufe=pe({sparseReshape_:Gfe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wfe(t,e,n){const a=X(t,"data","sparseSegmentMean"),r=X(e,"indices","sparseSegmentMean","int32"),s=X(n,"segmentIds","sparseSegmentMean","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${r.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${s.shape}`);const i={data:a,indices:r,segmentIds:s};return he.runKernel(OC,i)}const Vfe=pe({sparseSegmentMean_:Wfe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jfe(t,e,n){const a=X(t,"data","sparseSegmentSum"),r=X(e,"indices","sparseSegmentSum","int32"),s=X(n,"segmentIds","sparseSegmentSum","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${r.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${s.shape}`);const i={data:a,indices:r,segmentIds:s};return he.runKernel($C,i)}const Hfe=pe({sparseSegmentSum_:jfe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kfe(t,e,n,a,r,s,i,o){const c=X(t,"data","stringNGrams","string");if(c.dtype!=="string")throw new Error("Data must be of datatype string");if(c.shape.length!==1)throw new Error(`Data must be a vector, saw: ${c.shape}`);const l=X(e,"dataSplits","stringNGrams");if(l.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:a,leftPad:r,rightPad:s,padWidth:i,preserveShortSequences:o},d={data:c,dataSplits:l},h=he.runKernel(zC,d,u);return{nGrams:h[0],nGramsSplits:h[1]}}const qfe=pe({stringNGrams_:Kfe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xfe(t,e,n=!0){const a=X(t,"input","stringSplit","string"),r=X(e,"delimiter","stringSplit","string");if(a.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${a.shape}`);if(r.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const s={skipEmpty:n},i={input:a,delimiter:r},o=he.runKernel(GC,i,s);return{indices:o[0],values:o[1],shape:o[2]}}const Yfe=pe({stringSplit_:Xfe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zfe(t,e){const n=X(t,"input","stringToHashBucketFast","string"),a={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return he.runKernel(UC,r,a)}const Qfe=pe({stringToHashBucketFast_:Zfe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jfe(t,e,n,a=!0){const r=X(t,"input","staticRegexReplace","string"),s={pattern:e,rewrite:n,replaceGlobal:a};return he.runKernel(Db,{x:r},s)}const ede=pe({staticRegexReplace_:Jfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tde={fft:Qb,ifft:gg,rfft:Jb,irfft:wI},nde={hammingWindow:Eue,hannWindow:wz,frame:bz,stft:Rue},Wi={flipLeftRight:$ue,grayscaleToRGB:Mue,resizeNearestNeighbor:Az,resizeBilinear:_z,rgbToGrayscale:zue,rotateWithOffset:Uue,cropAndResize:Fue,nonMaxSuppression:Vue,nonMaxSuppressionAsync:Que,nonMaxSuppressionWithScore:efe,nonMaxSuppressionWithScoreAsync:nfe,nonMaxSuppressionPadded:rfe,nonMaxSuppressionPaddedAsync:ife,threshold:ffe,transform:pfe},Nz={bandPart:mfe,gramSchmidt:yfe,qr:vfe},ade={absoluteDifference:bfe,computeWeightedLoss:_l,cosineDistance:Afe,hingeLoss:Sfe,huberLoss:Efe,logLoss:Ife,meanSquaredError:Rfe,sigmoidCrossEntropy:Ofe,softmaxCrossEntropy:Mfe},rde={sparseFillEmptyRows:zfe,sparseReshape:Ufe,sparseSegmentMean:Vfe,sparseSegmentSum:Hfe},sde={stringNGrams:qfe,stringSplit:Yfe,stringToHashBucketFast:Qfe,staticRegexReplace:ede};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ide=new Map,ode=new Map;class Xh{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class Gi{constructor(){this.classNameMap={}}static getMap(){return Gi.instance==null&&(Gi.instance=new Gi),Gi.instance}static register(e){Gi.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Ye(t,e,n){K(t.className!=null,()=>"Class being registered does not have the static className property defined."),K(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),K(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const a=n,r=e+">"+a;return Gi.register(t),ide.set(r,t),ode.set(t,r),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zu extends Xh{minimize(e,n=!1,a){const{value:r,grads:s}=this.computeGradients(e,a);if(a!=null){const i=a.map(o=>({name:o.name,tensor:s[o.name]}));this.applyGradients(i)}else this.applyGradients(s);return mn(s),n?r:(r.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return Doe(e,n)}dispose(){this.iterations_!=null&&mn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Ot(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(zu,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sz extends zu{static get className(){return"Adadelta"}constructor(e,n,a=null){super(),this.learningRate=e,this.rho=n,this.epsilon=a,this.accumulatedGrads=[],this.accumulatedUpdates=[],a==null&&(this.epsilon=he.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(a=>a.name):Object.keys(e)).forEach((a,r)=>{const s=he.registeredVariables[a],i=!1;this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${a}/accum_grad`,variable:Ne(()=>Dn(s).variable(i))}),this.accumulatedUpdates[r]==null&&(this.accumulatedUpdates[r]={originalName:`${a}/accum_var`,variable:Ne(()=>Dn(s).variable(i))});const o=Array.isArray(e)?e[r].tensor:e[a];if(o==null)return;const c=this.accumulatedGrads[r].variable,l=this.accumulatedUpdates[r].variable;Ne(()=>{const u=qe(me(c,this.rho),me(ta(o),1-this.rho)),d=me(bt(Or(qe(l,this.epsilon)),Or(qe(c,this.epsilon))),o),h=qe(me(l,this.rho),me(ta(d),1-this.rho));c.assign(u),l.assign(h);const m=qe(me(d,-this.learningRate),s);s.assign(m)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(mn(this.accumulatedGrads.map(e=>e.variable)),mn(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,a=!1;this.accumulatedGrads=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(a)})),this.accumulatedUpdates=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tz extends zu{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(a=>a.name):Object.keys(e)).forEach((a,r)=>{const s=he.registeredVariables[a];this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${a}/accumulator`,variable:Ne(()=>jh(s.shape,this.initialAccumulatorValue).variable(!1))});const i=Array.isArray(e)?e[r].tensor:e[a];if(i==null)return;const o=this.accumulatedGrads[r].variable;Ne(()=>{const c=qe(o,ta(i));o.assign(c);const l=qe(me(bt(i,Or(qe(c,he.backend.epsilon()))),-this.learningRate),s);s.assign(l)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&mn(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(a=>({originalName:a.name,variable:a.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ez extends zu{static get className(){return"Adam"}constructor(e,n,a,r=null){super(),this.learningRate=e,this.beta1=n,this.beta2=a,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Ne(()=>{this.accBeta1=Ot(n).variable(),this.accBeta2=Ot(a).variable()}),r==null&&(this.epsilon=he.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(a=>a.name):Object.keys(e);Ne(()=>{const a=mt(1,this.accBeta1),r=mt(1,this.accBeta2);n.forEach((s,i)=>{const o=he.registeredVariables[s],c=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${s}/m`,variable:Ne(()=>Dn(o).variable(c))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${s}/v`,variable:Ne(()=>Dn(o).variable(c))});const l=Array.isArray(e)?e[i].tensor:e[s];if(l==null)return;const u=this.accumulatedFirstMoment[i].variable,d=this.accumulatedSecondMoment[i].variable,h=qe(me(u,this.beta1),me(l,1-this.beta1)),m=qe(me(d,this.beta2),me(ta(l),1-this.beta2)),y=bt(h,a),v=bt(m,r);u.assign(h),d.assign(m);const x=qe(me(bt(y,qe(Or(v),this.epsilon)),-this.learningRate),o);o.assign(x)}),this.accBeta1.assign(me(this.accBeta1,this.beta1)),this.accBeta2.assign(me(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&mn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&mn(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),Ne(()=>{this.accBeta1.assign(ul(this.beta1,this.iterations_+1)),this.accBeta2.assign(ul(this.beta2,this.iterations_+1))});const n=e.length/2,a=!1;this.accumulatedFirstMoment=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(a)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cz extends zu{static get className(){return"Adamax"}constructor(e,n,a,r=null,s=0){super(),this.learningRate=e,this.beta1=n,this.beta2=a,this.epsilon=r,this.decay=s,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Ne(()=>{this.iteration=Ot(0).variable(),this.accBeta1=Ot(n).variable()}),r==null&&(this.epsilon=he.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(a=>a.name):Object.keys(e);Ne(()=>{const a=mt(1,this.accBeta1),r=bt(-this.learningRate,qe(me(this.iteration,this.decay),1));n.forEach((s,i)=>{const o=he.registeredVariables[s],c=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${s}/m`,variable:Dn(o).variable(c)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${s}/v`,variable:Dn(o).variable(c)});const l=Array.isArray(e)?e[i].tensor:e[s];if(l==null)return;const u=this.accumulatedFirstMoment[i].variable,d=this.accumulatedWeightedInfNorm[i].variable,h=qe(me(u,this.beta1),me(l,1-this.beta1)),m=me(d,this.beta2),y=er(l),v=bl(m,y);u.assign(h),d.assign(v);const x=qe(me(bt(r,a),bt(h,qe(v,this.epsilon))),o);o.assign(x)}),this.iteration.assign(qe(this.iteration,1)),this.accBeta1.assign(me(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&mn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&mn(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PI extends zu{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(a=>a.name):Object.keys(e)).forEach((a,r)=>{const s=Array.isArray(e)?e[r].tensor:e[a];if(s==null)return;const i=he.registeredVariables[a];Ne(()=>{const o=qe(me(this.c,s),i);i.assign(o)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=xr(Ot(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Iz extends PI{static get className(){return"Momentum"}constructor(e,n,a=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=a,this.accumulations=[],this.m=Ot(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(a=>a.name):Object.keys(e)).forEach((a,r)=>{const s=he.registeredVariables[a];this.accumulations[r]==null&&(this.accumulations[r]={originalName:`${a}/momentum`,variable:Ne(()=>Dn(s).variable(!1))});const i=this.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[a];o!=null&&Ne(()=>{let c;const l=qe(me(this.m,i),o);this.useNesterov?c=qe(me(this.c,qe(o,me(l,this.m))),s):c=qe(me(this.c,l),s),i.assign(l),s.assign(c)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&mn(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(a=>({originalName:a.name,variable:a.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Dz extends zu{static get className(){return"RMSProp"}constructor(e,n=.9,a=0,r=null,s=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=a,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=s,r==null&&(this.epsilon=he.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(a=>a.name):Object.keys(e)).forEach((a,r)=>{const s=he.registeredVariables[a],i=!1;this.accumulatedMeanSquares[r]==null&&(this.accumulatedMeanSquares[r]={originalName:`${a}/rms`,variable:Ne(()=>Dn(s).variable(i))}),this.accumulatedMoments[r]==null&&(this.accumulatedMoments[r]={originalName:`${a}/momentum`,variable:Ne(()=>Dn(s).variable(i))}),this.accumulatedMeanGrads[r]==null&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${a}/mg`,variable:Ne(()=>Dn(s).variable(i))});const o=Array.isArray(e)?e[r].tensor:e[a];if(o==null)return;const c=this.accumulatedMeanSquares[r].variable,l=this.accumulatedMoments[r].variable;Ne(()=>{const u=qe(me(c,this.decay),me(ta(o),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[r].variable,h=qe(me(d,this.decay),me(o,1-this.decay)),m=bt(me(o,this.learningRate),Or(mt(u,qe(ta(h),this.epsilon)))),y=qe(me(l,this.momentum),m);c.assign(u),d.assign(h),l.assign(y);const v=mt(s,y);s.assign(v)}else{const d=qe(me(c,this.decay),me(ta(o),1-this.decay)),h=qe(me(l,this.momentum),bt(me(o,this.learningRate),Or(qe(d,this.epsilon))));c.assign(d),l.assign(h);const m=mt(s,h);s.assign(m)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&mn(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&mn(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&mn(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,a=!1;this.accumulatedMeanSquares=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(a)})),this.accumulatedMoments=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(a)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(r=>({originalName:r.name,variable:r.tensor.variable(a)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cde=[Sz,Tz,Ez,Cz,Iz,Dz,PI];function lde(){for(const t of cde)Ye(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ude="model",fde=".json",dde=".weights.bin";function s$(t){return new Promise(e=>setTimeout(e)).then(t)}class od{constructor(e){if(!Ce().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(od.URL_SCHEME)&&(e=e.slice(od.URL_SCHEME.length)),(e==null||e.length===0)&&(e=ude),this.modelJsonFileName=e+fde,this.weightDataFileName=e+dde}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=Oo.join(e.weightData),a=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],s=l8(e,r),i=window.URL.createObjectURL(new Blob([JSON.stringify(s)],{type:"application/json"})),o=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=i,await s$(()=>o.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const c=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;c.download=this.weightDataFileName,c.href=a,await s$(()=>c.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:e1(e)}}}}od.URL_SCHEME="downloads://";class pde{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const a=new FileReader;a.onload=r=>{const s=JSON.parse(r.target.result),i=s.modelTopology;if(i==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(s.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:i});return}const c=XC(s,l=>this.loadWeights(l));e(c)},a.onerror=r=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),a.readAsText(this.jsonFile)})}loadWeights(e){const n=[],a=[];for(const i of e)n.push(...i.weights),a.push(...i.paths);const r=this.checkManifestAndWeightFiles(e),s=a.map(i=>this.loadWeightsFile(i,r[i]));return Promise.all(s).then(i=>[n,i])}loadWeightsFile(e,n){return new Promise((a,r)=>{const s=new FileReader;s.onload=i=>{const o=i.target.result;a(o)},s.onerror=i=>r(`Failed to weights data from file of path '${e}'.`),s.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],a=this.weightsFiles.map(s=>qO(s.name)),r={};for(const s of e)s.paths.forEach(i=>{const o=qO(i);if(n.indexOf(o)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${o}'`);if(n.push(o),a.indexOf(o)===-1)throw new Error(`Weight file with basename '${o}' is not provided.`);r[i]=this.weightsFiles[a.indexOf(o)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}const hde=t=>Ce().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(od.URL_SCHEME)?mde(t.slice(od.URL_SCHEME.length)):null;ma.registerSaveRouter(hde);function mde(t="model"){return new od(t)}function gde(t){return new pde(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i$(t,e,n,a){i(t),n=n??0,a=a??1,o(n,a);let r=0;const s=c=>(c.then(l=>{const u=n+ ++r/t.length*(a-n);return e(u),l}),c);function i(c){K(c!=null&&Array.isArray(c)&&c.length>0,()=>"promises must be a none empty array")}function o(c,l){K(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${c}`),K(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${l}`),K(l>=c,()=>`startFraction must be no more than endFraction, but got startFraction ${c} and endFraction ${l}`)}return Promise.all(t.map(s))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Rz(t,e){e==null&&(e={});const n=e.fetchFunc==null?Ce().platform.fetch:e.fetchFunc,a=t.map(d=>n(d,e.requestInit,{isBinary:!0})),o=(e.onProgress==null?await Promise.all(a):await i$(a,e.onProgress,0,.5)).map(d=>d.arrayBuffer());return e.onProgress==null?await Promise.all(o):await i$(o,e.onProgress,.5,1)}function yde(t,e){var n;const a=e.fetchFunc==null?Ce().platform.fetch:e.fetchFunc;let r=0,s;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async i=>{for(var o;r<t.length;){s||(s=(await a(t[r],e.requestInit,{isBinary:!0})).body.getReader());const{done:c,value:l}=await s.read();if(c){r++,s=void 0,(o=e.onProgress)===null||o===void 0||o.call(e,r/t.length);continue}i.enqueue(l);return}i.close()}})}async function xde(t,e="",n,a){return Pz(i=>Rz(i,{requestInit:a}))(t,e,n)}function Pz(t){return async(e,n="",a)=>{const r=e.map(()=>!1),s={},i=a!=null?a.map(()=>!1):[],o=[];if(e.forEach((m,y)=>{let v=0;m.weights.forEach(x=>{const k="quantization"in x?x.quantization.dtype:x.dtype,b=ed[k]*Me(x.shape),_=()=>{r[y]=!0,s[y]==null&&(s[y]=[]),s[y].push({manifestEntry:x,groupOffset:v,sizeBytes:b})};a!=null?a.forEach((A,S)=>{A===x.name&&(_(),i[S]=!0)}):_(),o.push(x.name),v+=b})}),!i.every(m=>m)){const m=a.filter((y,v)=>!i[v]);throw new Error(`Could not find weights in manifest with names: ${m.join(", ")}. 
Manifest JSON has weights with names: ${o.join(", ")}.`)}const c=r.reduce((m,y,v)=>(y&&m.push(v),m),[]),l=[];c.forEach(m=>{e[m].paths.forEach(y=>{const v=n+(n.endsWith("/")?"":"/")+y;l.push(v)})});const u=await t(l),d={};let h=0;return c.forEach(m=>{const y=e[m].paths.length,v=new Oo(u.slice(h,h+y));s[m].forEach(k=>{const b=v.slice(k.groupOffset,k.groupOffset+k.sizeBytes),_=s8(b,[k.manifestEntry]);for(const A in _)d[A]=_[A]}),h+=y}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vde="application/octet-stream",kde="application/json";class FI{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(K(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Ce().platform.fetch,K(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&K(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const a=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=l8(e,a);if(n.body.append("model.json",new Blob([JSON.stringify(r)],{type:kde}),"model.json"),e.weightData!=null){const i=Oo.join(e.weightData);n.body.append("model.weights.bin",new Blob([i],{type:vde}),"model.weights.bin")}const s=await this.fetch(this.path,n);if(s.ok)return{modelArtifactsInfo:e1(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let i=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?i+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":i+=" Please make sure the server is serving valid JSON for this request.",new Error(i)}const a=n.modelTopology,r=n.weightsManifest;if(a==null&&r==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return XC(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),a=eT(e.weightsManifest),r=()=>yde(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:a,getWeightStream:r})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[a,r]=wde(n),s=this.weightPathPrefix||a,i=[],o=[];for(const c of e)for(const l of c.paths)this.weightUrlConverter!=null?o.push(this.weightUrlConverter(l)):i.push(s+l+r);return this.weightUrlConverter&&i.push(...await Promise.all(o)),i}async loadWeights(e){const n=await this.getWeightUrls(e),a=eT(e),r=await Rz(n,this.loadOptions);return[a,r]}}FI.URL_SCHEME_REGEX=/^https?:\/\//;function wde(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),a=t.substring(0,e),r=n>e?t.substring(n):"";return[a+"/",r]}function oT(t){return t.match(FI.URL_SCHEME_REGEX)!=null}const Fz=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(a=>oT(a)):n=oT(t),n)return OI(t,e)}return null};ma.registerSaveRouter(Fz);ma.registerLoadRouter(Fz);function OI(t,e){return new FI(t,e)}function bde(t,e){return OI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EN{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class Oz{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class _de{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function Ade(t,e,n,a){const r=arguments;return new _de($z(...r))}function $z(t,e,n,a){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new EN(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new EN({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new EN({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:a}))}function Nde(t){return new Oz(t)}function Sde(t){return new Oz(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lz=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Oo,browserFiles:gde,browserHTTPRequest:bde,concatenateArrayBuffers:c8,copyModel:Sse,decodeWeights:s8,decodeWeightsStream:o8,encodeWeights:JS,fromMemory:Ade,fromMemorySync:$z,getLoadHandlers:dse,getModelArtifactsForJSON:XC,getModelArtifactsForJSONSync:u8,getModelArtifactsInfoForJSON:e1,getSaveHandlers:f8,getWeightSpecs:eT,http:OI,isHTTPScheme:oT,listModels:Ase,loadWeights:xde,moveModel:Tse,registerLoadRouter:fse,registerSaveRouter:use,removeModel:Nse,weightsLoaderFactory:Pz,withSaveHandler:Nde,withSaveHandlerSync:Sde},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let gf;function Tde(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,a=!1,r=!1,s=!1,i=!1,o=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)a=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)s=!0;else if(t.getContext!=null)i=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)o=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(KS(jS,he.backendName)!=null){const y={pixels:t},v={numChannels:e};return he.runKernel(jS,y,v)}const[l,u]=r?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(i)d=t.getContext("2d").getImageData(0,0,l,u).data;else if(a||n)d=t.data;else if(s||r||o){if(gf==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")gf=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else gf=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});gf.canvas.width=l,gf.canvas.height=u,gf.drawImage(t,0,0,l,u),d=gf.getImageData(0,0,l,u).data}let h;if(e===4)h=new Int32Array(d);else{const y=l*u;h=new Int32Array(y*e);for(let v=0;v<y;v++)for(let x=0;x<e;++x)h[v*e+x]=d[v*4+x]}return uz(h,[u,l,e],"int32")}const Ede=pe({fromPixels_:Tde});function $I(t,e){const n=t.shape.length,a=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(a<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${a}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[a-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[a-1]} vs. ${n}`);if(Me(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const r=e.shape,s=r[r.length-1];let i=1;for(let d=0;d<r.length-1;++d)i*=r[d];const o=t.shape,c=r.slice();c.pop();let l=1;for(let d=s;d<n;++d)l*=o[d],c.push(o[d]);const u=[...Ft(t.shape).map(d=>d/l),1].slice(0,s);return[c,i,l,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cT=-2,Cde=-1;function LI(t,e,n){const a=t.shape.length;K(a===e.length,()=>`Error in slice${a}D: Length of begin ${e} must match the rank of the array (${a}).`),K(a===n.length,()=>`Error in slice${a}D: Length of size ${n} must match the rank of the array (${a}).`);for(let r=0;r<a;++r)K(e[r]+n[r]<=t.shape[r],()=>`Error in slice${a}D: begin[${r}] + size[${r}] (${e[r]+n[r]}) would overflow input.shape[${r}] (${t.shape[r]})`)}function Ide(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function MI(t,e,n){const a=[];for(let r=0;r<t.length;r++)a[r]=Math.ceil((e[r]-t[r])/n[r]);return a}function Mz(t,e,n,a){const r=[...t];for(let s=r.length;s<a.length;s++)r.push(1);for(let s=0;s<n;s++)s===0?r[e]=1:(r.splice(e,0,1),r.pop());return r}function Bz(t,e,n){return n<=t?n:n-(e-1)}function zz(t,e){const n=[];for(let a=0;a<t;a++)n.push(e+a);return n}function Dde(t,e,n,a,r,s,i,o,c){const l=t.length;let u=new Array(l),d=new Array(l),h=new Array(l);if(e.length&&n>0){const m=e[0],y=n+1;u=Gz(i,m,y,a,t),d=Uz(o,m,y,r,t),h=Mz(s,m,y,t)}else for(let m=0;m<l;m++)u[m]=Vz(i,a,s,t,m,c),d[m]=jz(o,r,s,t,m,c),h[m]=Wz(s,m,c);return{begin:u,end:d,strides:h}}function Gz(t,e,n,a,r){const s=[...r],i=zz(n,e);for(let o=0;o<s.length;o++)if(i.indexOf(o)>-1)s[o]=0;else{const c=Bz(e,n,o);let l=a[c];t&1<<c&&(l=0),s[o]=l}return s}function Uz(t,e,n,a,r){const s=[...r],i=zz(n,e);for(let o=0;o<s.length;o++)if(i.indexOf(o)>-1)s[o]=Number.MAX_SAFE_INTEGER;else{const c=Bz(e,n,o);let l=a[c];t&1<<c&&(l=Number.MAX_SAFE_INTEGER),s[o]=l}for(let o=0;o<s.length;o++){const c=r[o];s[o]<0&&(s[o]+=c),s[o]=Zf(0,s[o],r[o])}return s}function Wz(t,e,n){let a=t[e];return(n&1<<e||a==null)&&(a=1),a}function Vz(t,e,n,a,r,s){let i=e[r];const o=n[r]||1;(t&1<<r||s&1<<r||i==null)&&(o>0?i=Number.MIN_SAFE_INTEGER:i=Number.MAX_SAFE_INTEGER);const c=a[r];return i<0&&(i+=c),i=Zf(0,i,c-1),i}function jz(t,e,n,a,r,s){let i=e[r];const o=n[r]||1;(t&1<<r||s&1<<r||i==null)&&(o>0?i=Number.MAX_SAFE_INTEGER:i=Number.MIN_SAFE_INTEGER);const c=a[r];return i<0&&(i+=c),o>0?i=Zf(0,i,c):i=Zf(-1,i,c-1),i}function BI(t,e,n){let a=n.length;for(let r=0;r<n.length;r++)if(n[r]>1){a=r;break}for(let r=a+1;r<n.length;r++)if(e[r]>0||n[r]!==t[r])return!1;return!0}function zI(t,e){let n=t.length>0?t[t.length-1]:1;for(let a=0;a<t.length-1;a++)n+=t[a]*e[a];return n}function r_(t,e,n){let a;const r=t.shape.length;typeof e=="number"?a=[e,...new Array(r-1).fill(0)]:e.length<r?a=e.concat(new Array(r-e.length).fill(0)):a=e.slice(),a.forEach(i=>{K(i!==-1,()=>"slice() does not support negative begin indexing.")});let s;return n==null?s=new Array(r).fill(-1):typeof n=="number"?s=[n,...new Array(r-1).fill(-1)]:n.length<r?s=n.concat(new Array(r-n.length).fill(-1)):s=n,s=s.map((i,o)=>i>=0?i:(K(i===-1,()=>`Negative size values should be exactly -1 but got ${i} for the slice() size at index ${o}.`),t.shape[o]-a[o])),[a,s]}function GI(t,e,n,a,r,s,i,o,c){let l;if(a==null?(l=new Array(e.length),l.fill(1)):l=a,i!=null&&(i&i-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:l.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:l.slice(),beginMask:r,endMask:s,ellipsisMask:i,newAxisMask:o,shrinkAxisMask:c};for(let _=0;_<d.dims;_++)u&&(1<<_&o)!==0&&d.numAddAxisAfterEllipsis++,1<<_&i&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Rde(d,h);let m=!0,y=!0,v=!0;const x=[],k=[];for(let _=0;_<t.length;++_){if(h.strides[_]===0)throw Error(`strides[${_}] must be non-zero`);const A=!!(h.shrinkAxisMask&1<<_),S=t[_];if(S===-1){x.push(A?1:-1);continue}const C=[h.beginMask&1<<_,h.endMask&1<<_],E=[h.strides[_]>0?0:-1,h.strides[_]>0?S:S-1];if(A&&h.strides[_]<=0)throw Error("only stride 1 allowed on non-range indexing.");v=v&&h.strides[_]===1;const D=!!(h.beginMask&1<<_&&h.endMask&1<<_);if(h.beginValid&&h.endValid){if(A){const B=h.begin[_]<0?S+h.begin[_]:h.begin[_];if(h.begin[_]=B,h.end[_]=h.begin[_]+1,B<0||B>=S)throw Error(`slice index ${h.begin[_]} of dimension ${_} out of bounds.`)}else h.begin[_]=o$(h.begin[_],0,h.strides[_],S,C,E),h.end[_]=o$(h.end[_],1,h.strides[_],S,C,E);const R=h.strides[_]===1&&h.begin[_]===0&&h.end[_]===S;m=m&&R,y=y&&(_===0&&h.strides[_]===1||R)}else m=m&&h.strides[_]===1&&D,y=y&&(_===0&&h.strides[_]===1||D);let I,P=!1;if(h.beginValid&&h.endValid?(I=h.end[_]-h.begin[_],P=!0):A?(I=1,P=!0):D&&S>=0&&(h.strides[_]<0?I=-S:I=S,P=!0),P){let R;I===0||I<0!=h.strides[_]<0?R=0:R=Math.trunc(I/h.strides[_])+(I%h.strides[_]!==0?1:0),x.push(R)}else x.push(-1)}for(let _=0;_<h.finalShapeGatherIndices.length;++_){const A=h.finalShapeGatherIndices[_];A>=0?k.push(x[A]):A===cT&&k.push(1)}return{finalShapeSparse:k.filter((_,A)=>h.finalShapeGatherIndices[A]!==cT),finalShape:k,isIdentity:m,sliceDim0:y,isSimpleSlice:v,begin:h.begin,end:h.end,strides:h.strides}}function Rde(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let a=0;a<t.dims;a++)if(1<<a&t.ellipsisMask){const r=Math.min(e.dims-(t.dims-a)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<r;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=a}else if(1<<a&t.newAxisMask)e.finalShapeGatherIndices.push(cT),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[a]),t.end!=null&&(e.end[n]=t.end[a]),e.strides[n]=t.strides[a],t.beginMask&1<<a&&(e.beginMask|=1<<n),t.endMask&1<<a&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<a?(e.finalShapeGatherIndices.push(Cde),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(a)),e.inputShapeGatherIndicesSparse[n]=a,n++}}function o$(t,e,n,a,r,s){if(r[e])return n>0?s[e]:s[e+1&1];{const i=t<0?a+t:t;return i<s[0]?s[0]:i>s[1]?s[1]:i}}const Pde=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:LI,computeFlatOffset:zI,computeOutShape:MI,getNormalizedAxes:Dde,isSliceContinous:BI,maskToAxes:Ide,parseSliceParams:r_,sliceInfo:GI,startForAxis:Vz,startIndicesWithElidedDims:Gz,stopForAxis:jz,stopIndicesWithElidedDims:Uz,stridesForAxis:Wz,stridesWithElidedDims:Mz},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Fde{static sgd(e){return new PI(e)}static momentum(e,n,a=!1){return new Iz(e,n,a)}static rmsprop(e,n=.9,a=0,r=null,s=!1){return new Dz(e,n,a,r,s)}static adam(e=.001,n=.9,a=.999,r=null){return new Ez(e,n,a,r)}static adadelta(e=.001,n=.95,a=null){return new Sz(e,n,a)}static adamax(e=.002,n=.9,a=.999,r=null,s=0){return new Cz(e,n,a,r,s)}static adagrad(e,n=.1){return new Tz(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rp=Fde;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ode=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function Hz(){return new Promise(t=>Ode(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UI(t,e){const n=t[0].length;t.forEach((r,s)=>{K(r.length===n,()=>`Error in concat${n}D: rank of tensors[${s}] must be the same as the rank of the rest (${n})`)}),K(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const a=t[0];t.forEach((r,s)=>{for(let i=0;i<n;i++)K(i===e||r[i]===a[i],()=>`Error in concat${n}D: Shape of tensors[${s}] (${r}) does not match the shape of the rest (${a}) along the non-concatenated axis ${s}.`)})}function oc(t,e){const n=t[0].slice();for(let a=1;a<t.length;a++)n[e]+=t[a][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var go;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(go||(go={}));function Kz(t,e,n){let a=new Array;if(n==null&&e==null)return a;if(e==null)for(;a.length<t+n.length;)a.push(-1);else a=e.slice();if(n==null)return a;if(t+n.length!==a.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${a.length}`);for(let r=1;r<n.length;++r){const s=n[r],i=a[a.length-n.length+r],o=a[i];if(s>=0)if(o>=0){if(o!==s)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${r+t}] = ${s} but shape[${r+t}] = ${o}`)}else a[i]=s}return a}function qz(t){const e={FIRST_DIM_SIZE:go.FIRST_DIM_SIZE,VALUE_ROWIDS:go.VALUE_ROWIDS,ROW_LENGTHS:go.ROW_LENGTHS,ROW_SPLITS:go.ROW_SPLITS,ROW_LIMITS:go.ROW_LIMITS,ROW_STARTS:go.ROW_STARTS},n=[];for(const a of t)if(a in e)n.push(e[a]);else break;return n}function Xz(t){return t.length===0?0:t[0]===go.FIRST_DIM_SIZE?t.length-1:t.length}function Yz(t,e){if(t==null||e==null)return;const n=t.length,a=e.length;if(n>=a)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${a})`);for(let r=0;r<Math.min(n,a-1);++r){const s=t[r],i=e[r+1];if(s>=0&&i>=0&&s!==1&&s!==i)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${r-t.length}] = ${s} but ragged tensor input.flatValues.shape[${r-t.length}] = ${i}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WI=30;function s_(t){return t<=WI?t:US(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VI(t,e,n){const a=n*(typeof t=="number"?t:t[0]),r=e*(typeof t=="number"?t:t[1]);return[a,r]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c1(t,e,n,a=!0){let r=[];if(a)r=r.concat(e.slice(0)),r.push(t[0]/n),r=r.concat(t.slice(1));else{r=r.concat(t[0]);const s=e.length;for(let i=0;i<s;++i)r=r.concat([t[i+1]/e[i],e[i]]);r=r.concat(t.slice(s+1))}return r}function l1(t,e,n=!0){const a=[];if(n){a.push(e);for(let r=e+1;r<t;++r)r<=2*e?(a.push(r),a.push(r-(e+1))):a.push(r)}else{const r=[],s=[];for(let i=1;i<t;++i)i>=e*2+1||i%2===1?s.push(i):r.push(i);a.push(...r),a.push(0),a.push(...s)}return a}function u1(t,e,n,a=!0){const r=[];a?r.push(t[0]/n):r.push(t[0]*n);for(let s=1;s<t.length;++s)s<=e.length?a?r.push(e[s-1]*t[s]):r.push(t[s]/e[s-1]):r.push(t[s]);return r}function jI(t,e){const n=[0];for(let a=0;a<e;++a)n.push(t[a][0]);return n}function HI(t,e,n){const a=t.slice(0,1);for(let r=0;r<n;++r)a.push(t[r+1]-e[r][0]-e[r][1]);return a}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i_=1.7580993408473768,o_=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KI=.3275911,qI=.254829592,XI=-.284496736,YI=1.421413741,ZI=-1.453152027,QI=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dl(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let a=0;a<n.length;a+=2)n[a]=t[a/2],n[a+1]=e[a/2];return n}function Zz(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let a=0;a<t.length;a+=2)e[a/2]=t[a],n[a/2]=t[a+1];return{real:e,imag:n}}function Qz(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),a=new Float32Array(e);for(let r=0;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],a[Math.floor(r/4)]=t[r+1];return{real:n,imag:a}}function Jz(t){const e=Math.floor(t.length/4),n=new Float32Array(e),a=new Float32Array(e);for(let r=2;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],a[Math.floor(r/4)]=t[r+1];return{real:n,imag:a}}function JI(t,e){const n=t[e*2],a=t[e*2+1];return{real:n,imag:a}}function eG(t,e,n,a){t[a*2]=e,t[a*2+1]=n}function tG(t,e){const n=new Float32Array(t/2),a=new Float32Array(t/2);for(let r=0;r<Math.ceil(t/2);r++){const s=(e?2:-2)*Math.PI*(r/t);n[r]=Math.cos(s),a[r]=Math.sin(s)}return{real:n,imag:a}}function nG(t,e,n){const a=(n?2:-2)*Math.PI*(t/e),r=Math.cos(a),s=Math.sin(a);return{real:r,imag:s}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CN="->",$de=/->/g,c$=",",l$="...";function e3(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace($de,"").length)/CN.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${CN}").`);const[a,r]=t.split(CN);K(a.indexOf(l$)===-1,()=>`The ellipsis notation ("${l$}") is not supported yet.`);const s=a.split(c$),i=s.length;if(e!==i)throw new Error(`Expected ${i} input tensors, received ${e}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let h=0;h<r.length;++h){const m=r[h];if(!s.some(y=>y.indexOf(m)!==-1))throw new Error(`Output subscripts contain the label ${m} not present in the input subscripts.`);o.indexOf(m)===-1&&o.push(m)}for(let h=0;h<a.length;++h){const m=a[h];o.indexOf(m)===-1&&m!==c$&&o.push(m)}const c=new Array(s.length);for(let h=0;h<i;++h){if(new Set(s[h].split("")).size!==s[h].length)throw new Error(`Found duplicate axes in input component ${s[h]}. Support for duplicate axes in input is not implemented yet.`);c[h]=[];for(let m=0;m<s[h].length;++m)c[h].push(o.indexOf(s[h][m]))}const l=o.length,u=r.length,d=[];for(let h=u;h<l;++h)d.push(h);return{allDims:o,summedDims:d,idDims:c}}function t3(t,e){let n=new Array(t);n.fill(-1);for(let r=0;r<e.length;++r)n[e[r]]=r;const a=[];for(let r=0;r<t;++r)n[r]===-1&&a.push(r);return n=n.filter(r=>r!==-1),{permutationIndices:n,expandDims:a}}function n3(t,e,n){const a=new Array(t);for(let r=0;r<n.length;++r){const s=n[r].shape;for(let i=0;i<e[r].length;++i)a[e[r][i]]===void 0?a[e[r][i]]=s[i]:K(a[e[r][i]]===s[i],()=>`Expected dimension ${a[e[r][i]]} at axis ${i} of input shaped ${JSON.stringify(s)}, but got dimension ${s[i]}`)}}function a3(t,e){const n=t,a=[];let r=0;t.length===0&&n.push(-1),r=t.length+1;for(let i=0;i<r;++i)a.push([]);const s=[];for(let i=0;i<n.length;++i){const o=n[i],c=Lde(e,o);for(const l of c)s.indexOf(l)===-1&&(a[i].push(l),s.push(l))}return{path:n,steps:a}}function r3(t){return t.every((e,n)=>e===n)}function Lde(t,e){const n=[];for(let a=0;a<t.length;++a)(t[a].length===0||t[a].indexOf(e)!==-1||e===-1)&&n.push(a);return n}function s3(t,e,n=0){let a=[];if(typeof e=="number")K(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),a=new Array(e).fill(t.shape[n]/e);else{const r=e.reduce((i,o)=>(o===-1&&(i+=1),i),0);K(r<=1,()=>"There should be only one negative value in split array.");const s=e.indexOf(-1);if(s!==-1){const i=e.reduce((o,c)=>c>0?o+c:o);e[s]=t.shape[n]-i}K(t.shape[n]===e.reduce((i,o)=>i+o),()=>"The sum of sizes must match the size of the axis dimension."),a=e}return a}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aG(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function rG(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function sG(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iG(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function oG(t,e){return`size ${t} must be non-negative, not ${e}`}function cG(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function lG(t,e){const n=Me(t),a=Me(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${a}. inputShape=${t} outputShape= ${e}`}function uG(t,e){const n=Me(t),a=Me(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${a}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lT(){return"segment ids must be >= 0"}function fG(){return"segment ids are not increasing"}function dG(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function pG(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hG(t,e){let n=!1,a;for(t<=WI?(a=t,n=!0):a=US(t,Math.floor(Math.sqrt(t)));!n;)a>e||a===t?n=!0:a=US(t,a+1);return a}function mG(t,e,n){const a=[],r=t.length;for(let s=0;s<r;s++)s!==e?a.push(t[s]):a.push(n);return a}function i3(t,e,n,a){const r=e.shape.length,s=t.shape.length;if(a!==0&&(a<-r||a>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${a}`);if(a<0&&(a+=r),a>s)throw new Error(`batchDims (${a}) must be less than rank(x) (
    ${s}).`);if(n<a)throw new Error(`batchDims (${a}) must be less than or equal to axis (${n}).`);for(let d=0;d<a;++d)if(t.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${t.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const i=t.shape[n],o=[];let c=1,l=1,u=1;for(let d=0;d<a;++d)o.push(t.shape[d]),c*=t.shape[d];for(let d=a;d<n;d++)o.push(t.shape[d]),l*=t.shape[d];for(let d=a;d<r;d++)o.push(e.shape[d]);for(let d=n+1;d<s;d++)o.push(t.shape[d]),u*=t.shape[d];return{batchSize:c,sliceSize:u,outerSize:l,dimSize:i,outputShape:o}}const Mde=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:i3,computeOutShape:mG,segOpComputeOptimalWindowSize:hG},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pl(t){try{return t.map(e=>pu(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function gG(t){return t.map(e=>ru(e))}const Bde=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:qI,ERF_A2:XI,ERF_A3:YI,ERF_A4:ZI,ERF_A5:QI,ERF_P:KI,PARALLELIZE_THRESHOLD:WI,get RowPartitionType(){return go},SELU_SCALE:o_,SELU_SCALEALPHA:i_,applyActivation:n_,assertAndGetBroadcastShape:Qt,assertAxesAreInnerMostDims:Lr,assertParamsConsistent:UI,assignToTypedArray:eG,axesAreInnerMostDims:sI,calculateShapes:Id,checkEinsumDimSizes:n3,checkPadOnDimRoundingMode:ys,combineLocations:j8,combineRaggedTensorToTensorShapes:Kz,complexWithEvenIndex:Qz,complexWithOddIndex:Jz,computeConv2DInfo:br,computeConv3DInfo:$u,computeDefaultPad:QC,computeDilation2DInfo:t1,computeOptimalWindowSize:s_,computeOutAndReduceShapes:_r,computeOutShape:oc,computePool2DInfo:Ji,computePool3DInfo:kl,convertConv2DDataFormat:wl,decodeEinsumEquation:e3,eitherStridesOrDilationsAreOne:$r,expandShapeToKeepDim:Ma,exponent:nG,exponents:tG,fromStringArrayToUint8:gG,fromUint8ToStringArray:pl,getAxesPermutation:ka,getBroadcastDims:gh,getComplexWithIndex:JI,getEinsumComputePath:a3,getEinsumPermutation:t3,getFusedBiasGradient:t_,getFusedDyActivation:e_,getImageCenter:VI,getInnerMostAxes:Ba,getPermuted:l1,getRaggedRank:Xz,getReductionAxes:cr,getReshaped:c1,getReshapedPermuted:u1,getRowPartitionTypesHelper:qz,getSliceBeginCoords:jI,getSliceSize:HI,getSparseFillEmptyRowsIndicesDenseShapeMismatch:aG,getSparseFillEmptyRowsNegativeIndexErrorMessage:rG,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:sG,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:cG,getSparseReshapeInputOutputMismatchErrorMessage:uG,getSparseReshapeInputOutputMultipleErrorMessage:lG,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:iG,getSparseReshapeNegativeOutputDimErrorMessage:oG,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:pG,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:lT,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:fG,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:dG,getUndoAxesPermutation:Lu,isIdentityPermutation:r3,log:Tre,mergeRealAndImagArrays:dl,prepareAndValidate:$I,prepareSplitSize:s3,segment_util:Mde,shouldFuse:a_,slice_util:Pde,splitRealAndImagArrays:Zz,stridesOrDilationsArePositive:rd,tupleValuesAreOne:gu,upcastType:js,validateDefaultValueShape:Yz,validateInput:_I,validateUpdateShape:fz,warn:ii},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */lde();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yG={kernelName:Rw,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(t,Kh(ut(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zde={kernelName:sy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const a=ta(ut(n,"float32")),r=Or(mt(Ot(1),a));return fa(bt(t,r))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gde={kernelName:iy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const a=Or(mt(ta(ut(n,"float32")),1));return bt(t,a)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ude={kernelName:Vh,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e,r=Qt(n.shape,a.shape);return{a:()=>{let o=t;const c=cr(n.shape,r);return c.length>0&&(o=xt(o,c)),xe(o,n.shape)},b:()=>{let o=t;const c=cr(a.shape,r);return c.length>0&&(o=xt(o,c)),xe(o,a.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wde={kernelName:Pw,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((a,r)=>{n[r]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vde={kernelName:Fw,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Dn(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jde={kernelName:Ow,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Dn(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hde={kernelName:oy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>bt(t,Or(mt(Ot(1),ta(ut(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kde={kernelName:cy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const a=Or(qe(Ot(1),ta(ut(n,"float32"))));return bt(t,a)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qde={kernelName:fy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e,r=Qt(n.shape,a.shape);return{a:()=>{const o=qe(ta(n),ta(a));let c=me(t,bt(a,o));const l=cr(n.shape,r);return l.length>0&&(c=xt(c,l)),xe(c,n.shape)},b:()=>{const o=qe(ta(n),ta(a));let c=fa(me(t,bt(n,o)));const l=cr(a.shape,r);return l.length>0&&(c=xt(c,l)),xe(c,a.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xde={kernelName:ly,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>bt(t,qe(ta(ut(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yde={kernelName:uy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>bt(t,mt(Ot(1),ta(ut(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zde(t,e,n,a,r,s){const i=X(t,"dy","avgPool3dGrad"),o=X(e,"input","avgPool3dGrad");let c=i,l=o,u=!1;o.rank===4&&(u=!0,c=xe(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),l=xe(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),K(c.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),K(l.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${l.rank}.`),ys("avgPool3dGrad",r,s);const d={dy:c,input:l},h={filterSize:n,strides:a,pad:r,dimRoundingMode:s},m=he.runKernel(HE,d,h);return u?xe(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const Qde=pe({avgPool3dGrad_:Zde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jde={kernelName:Lw,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,{filterSize:r,strides:s,pad:i,dimRoundingMode:o}=n;return{x:()=>Qde(t,a,r,s,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function epe(t,e,n,a,r){const s=X(t,"dy","avgPoolGrad"),i=X(e,"input","avgPoolGrad");K(i.rank===s.rank,()=>`Rank of input (${i.rank}) does not match rank of dy (${s.rank})`);let o=i,c=s,l=!1;i.rank===3&&(l=!0,o=xe(i,[1,i.shape[0],i.shape[1],i.shape[2]]),c=xe(s,[1,s.shape[0],s.shape[1],s.shape[2]])),K(c.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${c.rank}.`),K(o.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);const u={dy:c,input:o},d={filterSize:n,strides:a,pad:r},h=he.runKernel(jE,u,d);return l?xe(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const tpe=pe({avgPoolGrad_:epe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const npe={kernelName:$w,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,{filterSize:r,strides:s,pad:i}=n;return{x:()=>tpe(t,a,r,s,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ape={kernelName:Mw,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[a,r]=e,{transposeA:s,transposeB:i}=n;return!s&&!i?{a:()=>kn(t,r,!1,!0),b:()=>kn(a,t,!0,!1)}:!s&&i?{a:()=>kn(t,r,!1,!1),b:()=>kn(t,a,!0,!1)}:s&&!i?{a:()=>kn(r,t,!1,!0),b:()=>kn(a,t,!1,!1)}:{a:()=>kn(r,t,!0,!0),b:()=>kn(t,a,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rpe={kernelName:Bw,gradFunc:(t,e,n)=>{const{blockShape:a,crops:r}=n;return{x:()=>Hb(t,a,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const spe={kernelName:Are,gradFunc:(t,e,n)=>{const a=n,r=a.inputShape,s=a.shape,i=Array.from(s);for(let c=r.length-1;c>=0;c--)if(r[c]===s[c])i[c]=1;else if(r[c]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${s}].`);const o=[];for(let c=0;c<i.length;c++)i[c]>1&&o.push(c);return{x:()=>xt(t,o,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ipe={kernelName:dy,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ope={kernelName:py,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cpe={kernelName:hy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,{clipValueMin:r,clipValueMax:s}=n;return{x:()=>Vr(hc(Mu(a,r),Td(a,s)),t,Dn(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lpe={kernelName:Gw,inputsToSave:["x"],gradFunc:yG.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const upe={kernelName:Uw,saveAllInputs:!0,gradFunc:(t,e,n)=>{const a=e.map(c=>c.shape),{axis:r}=n,s=yn(r,e[0].shape)[0],i=a.map(c=>c[s]);return Vs(t,i,s).map(c=>()=>c)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fpe={kernelName:Ww,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[a,r]=e,{dilations:s,strides:i,pad:o,dataFormat:c}=n;return K(gu(s),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`),{x:()=>eI(a.shape,t,r,i,o,c),filter:()=>EI(a,t,r.shape,i,o,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dpe={kernelName:Vw,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[a,r]=e,{strides:s,pad:i,dataFormat:o,dimRoundingMode:c}=n;return{dy:()=>yu(t,r,s,i,o,1,c),filter:()=>EI(t,a,r.shape,s,i,o,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ppe(t,e,n,a,r){let s=t;t.rank===4&&(s=xe(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let i=e;i.rank===4&&(i=xe(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),K(s.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${s.shape}.`),K(i.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${i.shape}.`),K(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),K(s.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${s.shape[4]}) must match input depth in filter (${n[3]}.`),K(i.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${i.shape[4]}) must match output depth for filter (${n[4]}).`);const o={x:s,dy:i},c={strides:a,pad:r,filterShape:n};return he.runKernel(ZE,o,c)}const hpe=pe({conv3DBackpropFilter_:ppe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mpe={kernelName:jw,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:a,strides:r,pad:s}=n;K(gu(a),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`);const[i,o]=e;return{x:()=>B8(i.shape,t,o,r,s),filter:()=>hpe(i,t,o.shape,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gpe={kernelName:my,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(fa(xI(ut(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ype={kernelName:gy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(vI(ut(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xpe={kernelName:Hw,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,{axis:r,exclusive:s,reverse:i}=n;return{x:()=>{const o=ka([r],a.rank);let c=aI(t,r,s,!i);return o!=null&&(c=In(c,o)),c}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vpe={kernelName:Kw,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:a,strides:r,pad:s,dimRoundingMode:i}=n,o=a??[1,1];K(gu(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[c,l]=e;return K(c.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${c.rank}.`),K(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${l.rank}.`),K(c.shape[3]===l.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${c.shape[3]}) must match the inChannels dimension in filter ${l.shape[2]}.`),K($r(r,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${r} and dilations '${o}'.`),ys("depthwiseConv2d",s,i),{x:()=>kz(c.shape,t,l,r,s,o,i),filter:()=>vz(c,t,l.shape,r,s,o,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kpe={kernelName:qw,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[a,r]=e,s={x:a,filter:r,dy:t},i={x:a,filter:r,dy:t};return{x:()=>he.runKernel(WS,s,n),filter:()=>he.runKernel(VS,i,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wpe={kernelName:xy,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,a={dy:t,y:n};return{x:()=>he.runKernel(oC,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bpe={kernelName:vy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,a=me(Ks(fa(ta(n))),2/Math.sqrt(Math.PI));return{x:()=>me(t,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _pe={kernelName:ky,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ape={kernelName:Yw,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>xe(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Npe={kernelName:wy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(t,Ks(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Spe={kernelName:by,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tpe={kernelName:_y,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e,r=Qt(n.shape,a.shape);return{a:()=>{const o=bt(t,ut(a,"float32")),c=cr(n.shape,r);return c.length>0?xe(xt(o,c),n.shape):o},b:()=>{let o=me(t,ut(n,"float32"));const c=cr(a.shape,r);c.length>0&&(o=xe(xt(o,c),a.shape));const l=ta(a);return fa(bt(o,ut(l,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Epe={kernelName:Zw,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:a}=n,[r,s,i,o]=e,c=o??Ot(1),l=cr(s.shape,r.shape),u=[];if(s.rank===1){for(let A=0;A<r.shape.length-1;++A)u.push(r.shape[A]);u.push(1)}const d=mt(r,s),h=me(t,c),m=mI(qe(i,Ot(a))),y=me(me(me(m,m),m),Ot(-.5));return{x:()=>s.rank===1?xe(me(me(t,Ui(xe(m,[1,1,1,s.shape[0]]),u)),c),r.shape):xe(me(me(t,m),c),r.shape),mean:()=>{let A=me(me(m,Ot(-1)),h);return s.rank===1&&(A=xt(A,l)),xe(A,s.shape)},variance:()=>{let A=me(me(y,d),h);return s.rank===1&&(A=xt(A,l)),xe(A,s.shape)},scale:()=>{const A=me(d,m);let S=me(t,A);return s.rank===1&&(S=xt(S,l)),xe(S,s.shape)},offset:()=>{let A=t;return s.rank===1&&(A=xt(A,l)),xe(A,s.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cpe={kernelName:Qw,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[a,r]=e,{axis:s,batchDims:i}=n,o=yn(s,a.shape)[0],c=(l,u,d)=>()=>{const h=l.shape,m=u.size,y=h.slice(0,o),v=y.length,x=h.slice(s,h.length).slice(1),k=x.length,b=u$(0,v),_=u$(v+1,v+1+k),A=f$([y,[m],x]),S=xe(d,A),C=xe(u,[m]),E=f$([[v],b,_]),D=In(S,E);let I=NI(D,C,l.shape[o]);const P=Lu(E);return I=In(I,P),I};if(i===1){const l=a.shape[0],u=a.split(l,0);return{x:()=>qs(u.map((m,y)=>c(m,r.slice(y,1),t.slice(y,1))())).reshape(a.shape),indices:()=>r}}else return{x:c(a,r,t),indices:()=>r}}};function u$(t,e){const n=[];for(let a=t;a<e;++a)n.push(a);return n}function f$(t){const e=[];for(let n=0;n<t.length;++n)for(let a=0;a<t[n].length;++a)e.push(t[n][a]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ipe={kernelName:Ay,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e;return{a:()=>Dn(n),b:()=>Dn(a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dpe={kernelName:Ny,gradFunc:t=>({x:()=>ut(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rpe={kernelName:Sy,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ppe={kernelName:Ty,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fpe={kernelName:Ey,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ope={kernelName:eb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,{alpha:r}=n,s=Js(a,0);return{x:()=>Vr(s,t,me(t,r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $pe={kernelName:Iy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>bt(t,qe(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lpe={kernelName:Cy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>bt(t,ut(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mpe={kernelName:Sre,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[a]=e,{axis:r}=n;return{logits:()=>{const i=Ks(a);return mt(t,me(xt(t,r,!0),i))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bpe(t,e,n,a=5,r=1,s=1,i=.5){const o={x:t,y:e,dy:n},c={depthRadius:a,bias:r,alpha:s,beta:i};return he.runKernel(mC,o,c)}const zpe=pe({localResponseNormalizationBackprop_:Bpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gpe={kernelName:ib,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[a,r]=e,{depthRadius:s,bias:i,alpha:o,beta:c}=n;return{x:()=>zpe(a,r,t,s,i,o,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xG(t,e,n,a){return e.rank<n.rank&&(e=xe(e,Ma(e.shape,a))),t.rank<n.rank&&(t=xe(t,Ma(t.shape,a))),{x:()=>me(t,ut(To(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d$={kernelName:ob,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const a=n,{reductionIndices:r}=a,s=e[0],i=e[1],o=yn(r,s.shape),c=xG(t,i,s,o);return{x:()=>c.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Upe={kernelName:Dy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e;return{a:()=>me(t,ut(Mu(n,a),"float32")),b:()=>me(t,ut(pg(n,a),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wpe(t,e,n,a,r,s,i){const o=X(t,"dy","maxPool3dGrad"),c=X(e,"input","maxPool3dGrad"),l=X(n,"output","maxPool3dGrad");let u=o,d=c,h=l,m=!1;c.rank===4&&(m=!0,u=xe(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),d=xe(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),h=xe(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),K(u.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`),K(d.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`),K(h.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${h.rank}.`),ys("maxPool3dGrad",s,i);const y={dy:u,input:d,output:h},v={filterSize:a,strides:r,pad:s,dimRoundingMode:i},x=he.runKernel(yC,y,v);return m?xe(x,[x.shape[1],x.shape[2],x.shape[3],x.shape[4]]):x}const Vpe=pe({maxPool3dGrad_:Wpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jpe={kernelName:lb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[a,r]=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=n;return{x:()=>Vpe(t,a,r,s,i,o,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hpe(t,e,n,a,r,s,i){const o=X(t,"dy","maxPoolGrad"),c=X(e,"input","maxPoolGrad"),l=X(n,"output","maxPoolGrad");K(c.rank===o.rank,()=>`Rank of input (${c.rank}) does not match rank of dy (${o.rank})`),K(o.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),K(c.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${c.rank}.`),ys("maxPoolGrad",s,i);const u={dy:o,input:c,output:l},d={filterSize:a,strides:r,pad:s,dimRoundingMode:i};return he.runKernel(gC,u,d)}const Kpe=pe({maxPoolGrad_:Hpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qpe={kernelName:cb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[a,r]=e,{filterSize:s,strides:i,pad:o}=n;return{x:()=>Kpe(t,a,r,s,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xpe={kernelName:ub,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,{axis:r}=n,s=yn(r,a.shape),o=_r(a.shape,s)[1],c=Me(o);return{x:()=>{const u=a.shape.slice();s.forEach(m=>{u[m]=1});const d=xe(t,u);return bt(me(d,Ws(a.shape,"float32")),c)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ype={kernelName:fb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const a=n,{axis:r}=a,[s,i]=e,o=yn(r,s.shape),c=xG(t,i,s,o);return{x:()=>c.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zpe={kernelName:Ry,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e;return{a:()=>me(t,ut(Td(n,a),"float32")),b:()=>me(t,ut(Js(n,a),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qpe={kernelName:db,inputsToSave:["x"],gradFunc:(t,e,n)=>{const a=e[0],{paddings:r}=n,s=r.map(i=>i[0]);return{x:()=>En(t,s,a.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jpe={kernelName:Py,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e,r=Qt(n.shape,a.shape);return{a:()=>{const o=cr(n.shape,r);return o.length>0?xe(xt(t,o),n.shape):t},b:()=>{const o=me(t,fa(i1(bt(n,a)))),c=cr(a.shape,r);return c.length>0?xe(xt(o,c),a.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ehe={kernelName:Fy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e,r=Qt(n.shape,a.shape);return{a:()=>{const o=me(t,ut(a,"float32")),c=cr(n.shape,r);return c.length>0?xe(xt(o,c),n.shape):o},b:()=>{const o=me(t,ut(n,"float32")),c=cr(a.shape,r);return c.length>0?xe(xt(o,c),a.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const the={kernelName:pb,gradFunc:t=>({x:()=>fa(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nhe={kernelName:gb,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>tr(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ahe={kernelName:mb,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rhe={kernelName:yb,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:a}=n;return Qi(t,a).map(s=>()=>s)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p$={kernelName:xb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const a=e[0],{paddings:r}=n,s=r.map(i=>i[0]);return{x:()=>En(t,s,a.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const she={kernelName:Oy,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,a,r]=e,s=n,i=a,o=Qt(s.shape,i.shape);return{a:()=>{const u=ut(i,"float32");let d=me(t,me(u,ul(s,mt(u,Ot(1)))));const h=cr(s.shape,o);return h.length>0&&(d=xt(d,h)),xe(d,s.shape)},b:()=>{const u=Js(s,0),d=Vr(u,fi(s),Dn(s));let h=me(t,me(r,d));const m=cr(i.shape,o);return m.length>0&&(h=xt(h,m)),xe(h,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ihe={kernelName:vb,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,a]=e,r=Js(n,0);return{x:()=>Vr(r,t,me(t,a)),alpha:()=>{let s=Vr(r,Dn(t),me(t,n));const i=cr(a.shape,t.shape);return i.length>0&&(s=xt(s,i)),xe(s,a.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ohe(t,e,n){const a=t.shape.slice();a[n]=1;const r=xe(e,a),s=Nk(t,n,!0,!1),i=Nk(t,n,!0,!0),o=me(s,i);return me(r,o)}function che(t,e,n){const a=t.shape.length,r=a-n.length,s=ka(n,a);let i=t;s!=null&&(i=In(t,s));const o=i.shape.slice(),l=o.splice(a-n.length,n.length).reduce((h,m)=>h*m,1);o.push(l);const u=i.reshape(o);let d=ohe(u,e,r);if(d=d.reshape(i.shape),s!=null){const h=Lu(s);d=In(d,h)}return d}const lhe={kernelName:kb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,{axis:r}=n;let s=[];return r==null?s=a.shape.map((i,o)=>o):typeof r=="number"?s=[r]:s=r,{x:()=>che(a,t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uhe={kernelName:yy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e,r=Qt(n.shape,a.shape);return{a:()=>{const o=bt(t,ut(a,"float32")),c=cr(n.shape,r);return c.length>0?xe(xt(o,c),n.shape):o},b:()=>{let o=me(t,ut(n,"float32"));const c=cr(a.shape,r);c.length>0&&(o=xe(xt(o,c),a.shape));const l=ta(a);return fa(bt(o,ut(l,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fhe={kernelName:$y,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>bt(t,fa(ta(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dhe={kernelName:My,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,a=me(Td(n,6),Kh(n));return{x:()=>me(t,ut(a,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const phe={kernelName:Ly,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(t,ut(Kh(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hhe={kernelName:wb,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>xe(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mhe={kernelName:_b,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[a]=e,r={dy:t,images:a};return{images:()=>he.runKernel(CC,r,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ghe={kernelName:bb,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[a]=e,r={dy:t,images:a};return{images:()=>he.runKernel(EC,r,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yhe={kernelName:Ab,gradFunc:(t,e,n)=>{const{dims:a}=n,r=yn(a,t.shape);return{x:()=>Zi(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xhe={kernelName:By,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vhe={kernelName:zy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>fa(bt(t,me(ul(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const khe={kernelName:Nb,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>ut(Dn(n),"float32"),t:()=>me(t,ut(n,t.dtype)),e:()=>me(t,ut(Wb(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const whe={kernelName:Gy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const a=Js(n,Ot(0)),r=Ot(i_),s=Ot(o_),i=me(t,s),o=me(me(t,r),Ks(ut(n,"float32")));return Vr(a,i,o)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bhe={kernelName:jy,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(t,me(n,mt(Ot(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _he={kernelName:Vy,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ahe={kernelName:Uy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(Mb(ut(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nhe={kernelName:Wy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(nI(ut(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const She={kernelName:Sb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,{begin:r,size:s}=n,i=a.shape,[o,c]=r_(a,r,s),l=[];for(let u=0;u<t.rank;u++)l.push([o[u],i[u]-o[u]-c[u]]);return{x:()=>Bu(t,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const The={kernelName:Ib,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[a]=e,{dim:r}=n,s=!0,i=me(t,a);return{logits:()=>mt(i,me(xt(i,[r],s),a))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ehe={kernelName:Hy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(t,ic(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h$={kernelName:Eb,gradFunc:(t,e,n)=>{const{blockShape:a,paddings:r}=n;return{x:()=>Lb(t,a,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m$={kernelName:Cb,gradFunc:(t,e,n)=>{const{axis:a}=n;return{x:()=>Ea(t,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Che={kernelName:Ky,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>bt(t,me(Or(ut(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ihe={kernelName:MC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(t,me(ut(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dhe={kernelName:qy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e,r=Ot(2);return{a:()=>me(t,me(r,mt(n,a))),b:()=>me(t,me(r,mt(a,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rhe={kernelName:Jy,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Phe={kernelName:Xy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,a]=e,r=Qt(n.shape,a.shape);return{a:()=>{let o=t;const c=cr(n.shape,r);return c.length>0&&(o=xt(o,c)),xe(o,n.shape)},b:()=>{let o=t;const c=cr(a.shape,r);return c.length>0&&(o=xt(o,c)),xe(fa(o),a.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fhe={kernelName:Tb,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,r=a.shape.slice(),{axis:s}=n;yn(s,a.shape).forEach(l=>{r[l]=1});const o=xe(t,r),c=me(o,Ws(a.shape,"float32"));return{x:()=>c}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ohe={kernelName:Yy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>bt(t,ta(Mb(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $he={kernelName:Zy,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>me(mt(Ot(1),ta(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lhe={kernelName:Qy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[a]=e,{reps:r}=n;return{x:()=>{let i=Dn(a);if(a.rank===1)for(let o=0;o<r[0];++o)i=qe(i,En(t,[o*a.shape[0]],[a.shape[0]]));else if(a.rank===2)for(let o=0;o<r[0];++o)for(let c=0;c<r[1];++c)i=qe(i,En(t,[o*a.shape[0],c*a.shape[1]],[a.shape[0],a.shape[1]]));else if(a.rank===3)for(let o=0;o<r[0];++o)for(let c=0;c<r[1];++c)for(let l=0;l<r[2];++l)i=qe(i,En(t,[o*a.shape[0],c*a.shape[1],l*a.shape[2]],[a.shape[0],a.shape[1],a.shape[2]]));else if(a.rank===4)for(let o=0;o<r[0];++o)for(let c=0;c<r[1];++c)for(let l=0;l<r[2];++l)for(let u=0;u<r[3];++u)i=qe(i,En(t,[o*a.shape[0],c*a.shape[1],l*a.shape[2],u*a.shape[3]],[a.shape[0],a.shape[1],a.shape[2],a.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${a.rank} tensors yet.`);return i}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mhe={kernelName:Qp,gradFunc:(t,e,n)=>{const a=n,{perm:r}=a,s=Lu(r);return{x:()=>In(t,s)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bhe={kernelName:Rb,gradFunc:(t,e,n)=>{const a=n,{axis:r}=a;return{value:()=>qs(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zhe={kernelName:Pb,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ghe(t,n)}}};function Ghe(t,e){const n=bl(e,Dn(e)),a=o1(t,n);let r=Mu(e,Ot(0,"int32"));const s=a.rank-r.rank;for(let o=0;o<s;++o)r=is(r,o+1);r=hc(r,Ws(a.shape,"bool"));const i=Dn(a);return Vr(r,a,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uhe={kernelName:Fb,gradFunc:t=>({x:()=>Dn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Whe=[yG,zde,Gde,Ude,Wde,Vde,jde,Hde,Kde,qde,Xde,Yde,Jde,npe,ape,rpe,spe,ipe,ope,cpe,lpe,upe,dpe,fpe,mpe,gpe,ype,xpe,vpe,kpe,uhe,wpe,bpe,_pe,Ape,Npe,Tpe,Spe,Epe,Cpe,Ipe,Dpe,Rpe,Ppe,Fpe,Ope,$pe,Lpe,Mpe,Gpe,d$,d$,Upe,jpe,qpe,Xpe,Ype,Zpe,Qpe,Jpe,ehe,the,nhe,ahe,rhe,p$,p$,she,ihe,lhe,fhe,dhe,phe,hhe,mhe,ghe,yhe,xhe,vhe,khe,whe,bhe,_he,Ahe,Nhe,She,The,Ehe,h$,h$,m$,m$,Che,Dhe,Ihe,Rhe,Phe,Fhe,Ohe,$he,Lhe,Mhe,Bhe,zhe,Uhe];for(const t of Whe)Ere(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.abs=function(){return this.throwIfDisposed(),er(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.acos=function(){return this.throwIfDisposed(),k8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.acosh=function(){return this.throwIfDisposed(),w8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.add=function(t){return this.throwIfDisposed(),qe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.all=function(t,e){return this.throwIfDisposed(),ZC(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.any=function(t,e){return this.throwIfDisposed(),Ak(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.argMax=function(t){return this.throwIfDisposed(),ad(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.argMin=function(t){return this.throwIfDisposed(),b8(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.asScalar=function(){return this.throwIfDisposed(),K(this.size===1,()=>"The array must have only 1 element."),xe(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.asType=function(t){return this.throwIfDisposed(),ut(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as1D=function(){return this.throwIfDisposed(),xe(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as2D=function(t,e){return this.throwIfDisposed(),xe(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),xe(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as4D=function(t,e,n,a){return this.throwIfDisposed(),xe(this,[t,e,n,a])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.as5D=function(t,e,n,a,r){return this.throwIfDisposed(),xe(this,[t,e,n,a,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.asin=function(){return this.throwIfDisposed(),_8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.asinh=function(){return this.throwIfDisposed(),A8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.atan=function(){return this.throwIfDisposed(),N8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.atan2=function(t){return this.throwIfDisposed(),S8(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.atanh=function(){return this.throwIfDisposed(),T8(this)};ze().prototype.avgPool=function(t,e,n,a){return this.throwIfDisposed(),$b(this,t,e,n,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),Lb(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.batchNorm=function(t,e,n,a,r){return this.throwIfDisposed(),n1(this,t,e,n,a,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.broadcastTo=function(t){return this.throwIfDisposed(),th(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cast=function(t){return this.throwIfDisposed(),ut(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.ceil=function(){return this.throwIfDisposed(),P8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Hs(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof ga&&(t=[t]),Ea([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.conv1d=function(t,e,n,a,r,s){return this.throwIfDisposed(),JC(this,t,e,n,a,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.conv2dTranspose=function(t,e,n,a,r){return this.throwIfDisposed(),tI(this,t,e,n,a,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.conv2d=function(t,e,n,a,r,s){return this.throwIfDisposed(),yu(this,t,e,n,a,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cos=function(){return this.throwIfDisposed(),Mb(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cosh=function(){return this.throwIfDisposed(),nI(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),Nk(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),aI(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),G8(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.depthwiseConv2d=function(t,e,n,a,r,s){return this.throwIfDisposed(),a1(this,t,e,n,a,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.dilation2d=function(t,e,n,a,r){return this.throwIfDisposed(),U8(this,t,e,n,a,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.divNoNan=function(t){return this.throwIfDisposed(),W8(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.div=function(t){return this.throwIfDisposed(),bt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.dot=function(t){return this.throwIfDisposed(),V8(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.elu=function(){return this.throwIfDisposed(),r1(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.equal=function(t){return this.throwIfDisposed(),To(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.erf=function(){return this.throwIfDisposed(),rI(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),K8(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.exp=function(){return this.throwIfDisposed(),Ks(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.expandDims=function(t){return this.throwIfDisposed(),is(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.expm1=function(){return this.throwIfDisposed(),q8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.fft=function(){return this.throwIfDisposed(),Qb(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.flatten=function(){return this.throwIfDisposed(),xe(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.floor=function(){return this.throwIfDisposed(),i1(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.floorDiv=function(t){return this.throwIfDisposed(),YC(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.gather=function(t,e,n){return this.throwIfDisposed(),o1(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.greaterEqual=function(t){return this.throwIfDisposed(),Mu(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.greater=function(t){return this.throwIfDisposed(),Js(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.ifft=function(){return this.throwIfDisposed(),gg(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.irfft=function(){return this.throwIfDisposed(),wI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.isFinite=function(){return this.throwIfDisposed(),X8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.isInf=function(){return this.throwIfDisposed(),Y8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.isNaN=function(){return this.throwIfDisposed(),Z8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.leakyRelu=function(t){return this.throwIfDisposed(),zb(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.lessEqual=function(t){return this.throwIfDisposed(),Td(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.less=function(t){return this.throwIfDisposed(),pg(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.localResponseNormalization=function(t,e,n,a){return this.throwIfDisposed(),Q8(this,t,e,n,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logSigmoid=function(){return this.throwIfDisposed(),J8(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logSoftmax=function(t){return this.throwIfDisposed(),oI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),Ub(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.log=function(){return this.throwIfDisposed(),fi(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.log1p=function(){return this.throwIfDisposed(),Gb(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logicalAnd=function(t){return this.throwIfDisposed(),hc(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logicalNot=function(){return this.throwIfDisposed(),Wb(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logicalOr=function(t){return this.throwIfDisposed(),cI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.logicalXor=function(t){return this.throwIfDisposed(),ez(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),kn(this,t,e,n)};ze().prototype.maxPool=function(t,e,n,a){return this.throwIfDisposed(),Vb(this,t,e,n,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.max=function(t,e){return this.throwIfDisposed(),qi(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.maximum=function(t){return this.throwIfDisposed(),bl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.mean=function(t,e){return this.throwIfDisposed(),Sa(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.min=function(t,e){return this.throwIfDisposed(),dg(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.minimum=function(t){return this.throwIfDisposed(),id(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),nz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.mod=function(t){return this.throwIfDisposed(),az(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.mul=function(t){return this.throwIfDisposed(),me(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.neg=function(){return this.throwIfDisposed(),fa(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.norm=function(t,e,n){return this.throwIfDisposed(),s1(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.notEqual=function(t){return this.throwIfDisposed(),yh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),uI(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.onesLike=function(){return this.throwIfDisposed(),di(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.pad=function(t,e){return this.throwIfDisposed(),Bu(this,t,e)};ze().prototype.pool=function(t,e,n,a,r,s){return this.throwIfDisposed(),rz(this,t,e,n,a,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.pow=function(t){return this.throwIfDisposed(),ul(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.prelu=function(t){return this.throwIfDisposed(),Kb(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.prod=function(t,e){return this.throwIfDisposed(),sz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.reciprocal=function(){return this.throwIfDisposed(),iz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.relu=function(){return this.throwIfDisposed(),bc(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.relu6=function(){return this.throwIfDisposed(),pI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.reshapeAs=function(t){return this.throwIfDisposed(),xe(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.reshape=function(t){return this.throwIfDisposed(),xe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),_z(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),Az(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.reverse=function(t){return this.throwIfDisposed(),Zi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.rfft=function(){return this.throwIfDisposed(),Jb(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.round=function(){return this.throwIfDisposed(),hI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.rsqrt=function(){return this.throwIfDisposed(),mI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.selu=function(){return this.throwIfDisposed(),gI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.separableConv2d=function(t,e,n,a,r,s){return this.throwIfDisposed(),yI(this,t,e,n,a,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sigmoid=function(){return this.throwIfDisposed(),ic(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sign=function(){return this.throwIfDisposed(),oz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sin=function(){return this.throwIfDisposed(),xI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sinh=function(){return this.throwIfDisposed(),vI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.slice=function(t,e){return this.throwIfDisposed(),En(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.softmax=function(t){return this.throwIfDisposed(),Zb(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.softplus=function(){return this.throwIfDisposed(),Hh(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),Hb(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.split=function(t,e){return this.throwIfDisposed(),Vs(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sqrt=function(){return this.throwIfDisposed(),Or(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.square=function(){return this.throwIfDisposed(),ta(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.squaredDifference=function(t){return this.throwIfDisposed(),bI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.squeeze=function(t){return this.throwIfDisposed(),Cd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof ga?[this,t]:[this,...t];return qs(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.step=function(t){return this.throwIfDisposed(),Kh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.stridedSlice=function(t,e,n,a,r,s,i,o){return this.throwIfDisposed(),cz(this,t,e,n,a,r,s,i,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sub=function(t){return this.throwIfDisposed(),mt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.sum=function(t,e){return this.throwIfDisposed(),xt(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.tan=function(){return this.throwIfDisposed(),lz(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.tanh=function(){return this.throwIfDisposed(),sd(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.tile=function(t){return this.throwIfDisposed(),Ui(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.toBool=function(){return this.throwIfDisposed(),ut(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.toFloat=function(){return this.throwIfDisposed(),ut(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.toInt=function(){return this.throwIfDisposed(),ut(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.topk=function(t,e){return this.throwIfDisposed(),dz(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.transpose=function(t){return this.throwIfDisposed(),In(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.unique=function(t){return this.throwIfDisposed(),pz(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),NI(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.unstack=function(t){return this.throwIfDisposed(),Qi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.where=function(t,e){return this.throwIfDisposed(),Vr(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ze().prototype.zerosLike=function(){return this.throwIfDisposed(),Dn(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class qo extends Error{constructor(e){super(e),Object.setPrototypeOf(this,qo.prototype)}}class Vi extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Vi.prototype)}}class ve extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ve.prototype)}}class sn extends Error{constructor(e){super(e),Object.setPrototypeOf(this,sn.prototype)}}class o3 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o3.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class vG{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const a=this.cache.keys().next().value;this.cache.delete(a)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function cd(t,e){if(Array.isArray(t)){let n=[];for(let a=0;a<e;a++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function Xo(t,e){if(!t)throw new o3(e)}function g$(t,e){let n=0;for(const a of t)a===e&&n++;return n}function Ns(t){return t.length===1?t[0]:t}function Kn(t){return Array.isArray(t)?t:[t]}function Kc(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function Af(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let Di={};function c3(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function uT(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>uT(e));else{const e=Object.keys(t);for(const n of e){const a=t[n];a!=null&&typeof a=="object"&&(!Array.isArray(a)&&a.type==="ndarray"&&typeof a.value=="number"?t[n]=a.value:uT(a))}}}function f1(t,e={},n={},a="object",r=!1){if(typeof t=="string"){const s=t;let i;if(s in n)i=n[s];else if(s in Di)i=Di[s];else if(i=e[s],i==null)throw new ve(`Unknown ${a}: ${t}. This may be due to one of the following reasons:
1. The ${a} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${a} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}else{const s=t;if(s.className==null||s.config==null)throw new ve(`${a}: Improper config format: ${JSON.stringify(s)}.
'className' and 'config' must set.`);const i=s.className;let o,c;if(i in n?[o,c]=n[i]:i in Di?[o,c]=Di.className:i in e&&([o,c]=e[i]),o==null)throw new ve(`Unknown ${a}: ${i}. This may be due to one of the following reasons:
1. The ${a} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${a} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(c!=null){const l={};for(const m of Object.keys(Di))l[m]=Di[m];for(const m of Object.keys(n))l[m]=n[m];const u=s.config;u.customObjects=l;const d=Object.assign({},Di);for(const m of Object.keys(n))Di[m]=n[m];uT(s.config);const h=c(o,s.config,n,r);return Di=Object.assign({},d),h}else{const l=Object.assign({},Di);for(const d of Object.keys(n))Di[d]=n[d];const u=new o(s.config);return Di=Object.assign({},l),u}}}function Vhe(t,e){return t<e?-1:t>e?1:0}function lv(t,e){return-1*Vhe(t,e)}function su(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function jhe(t){if(t==null)throw new ve(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function Dd(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new ve(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function l3(t,e,n=0,a=1/0){return Xo(n>=0),Xo(a>=n),Array.isArray(t)&&t.length>=n&&t.length<=a&&t.every(r=>typeof r===e)}function vr(t,e){Array.isArray(t)?(K(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,a)=>vr(n,`element ${a+1} of ${e}`))):K(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${kG(t)}.`)}function kG(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>kG(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function Hhe(t,e,n){let a=n!=null?n():As(),r;return(...i)=>{const o=n!=null?n():As();return o-a<e||(a=o,r=t(...i)),r}}function wG(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Khe=0;function bG(){return Khe++}const uv={};function c_(t=""){return t in uv||(uv[t]=0),uv[t]+=1,t+uv[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const qhe=["channelsFirst","channelsLast"],Xhe=["nearest","bilinear"],Yhe=["valid","same","causal"],Zhe=["max","avg"],Qhe=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Pp=new Map;function za(t){Dd(qhe,"DataFormat",t)}function Jhe(t){Dd(Xhe,"InterpolationFormat",t)}function yi(t){Dd(Yhe,"PaddingMode",t)}function _G(t){Dd(Zhe,"PoolMode",t)}const F0=[],y$="/";function Lf(t,e){F0.push(t);try{const n=e();return F0.pop(),n}catch(n){throw F0.pop(),n}}function eme(){return F0.length===0?"":F0.join(y$)+y$}function AG(t){if(!SG(t))throw new Error("Not a valid tensor name: '"+t+"'");return eme()+t}function NG(t){if(!SG(t))throw new Error("Not a valid tensor name: '"+t+"'");Pp.has(t)||Pp.set(t,0);const e=Pp.get(t);if(Pp.set(t,Pp.get(t)+1),e>0){const n=`${t}_${e}`;return Pp.set(n,1),n}else return t}const tme=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function SG(t){return!!t.match(tme)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function nme(t){return t===parseInt(t.toString(),10)}function iu(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let a=1;for(let r=e;r<n;++r)a*=t[r];return a}function vh(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const a=t[n];a<e&&(e=a)}return e}function xu(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const a=t[n];a>e&&(e=a)}return e}function Eo(t,e){if(e<t)throw new ve(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let a=t;a<e;++a)n.push(a);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let IN;function nr(){return IN==null&&(IN=r8().epsilon()),IN}function Co(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function cc(t,e){return ut(t,e)}function d1(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),xe(t,n)}function ame(t,e){return Ne(()=>{if(t.shape.length!==2)throw new ve(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=d1(t,1);return fT(n,[1,e,1])})}function rme(t){const e=[iu(t.shape)];return xe(t,e)}function sme(t){if(t.rank<=1)throw new ve(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],iu(t.shape,1)];return xe(t,e)}function Mf(t,e,n){return Ne(()=>{switch(t.rank){case 1:return Xb(t,e,n);case 2:return kI(t,[e,0],[n,t.shape[1]]);case 3:return Yb(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return mg(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return En(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return En(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new ve(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function DN(t,e,n){return Ne(()=>{switch(t.rank){case 1:return Xb(t,e,n);case 2:return kI(t,[0,e],[t.shape[0],n]);case 3:return Yb(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return mg(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new ve(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function fv(t,e,n,a){return Ne(()=>{switch(t.rank){case 1:return Xb(t,e,n);case 2:switch(a){case 1:return Mf(t,e,n);case 2:return DN(t,e,n);default:throw new ve(`The axis is not within the rank of the tensor ${a}`)}case 3:switch(a){case 1:return Mf(t,e,n);case 2:return Yb(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return DN(t,e,n);default:throw new ve(`The axis is not within the rank of the tensor ${a}`)}case 4:switch(a){case 1:return Mf(t,e,n);case 2:return mg(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return mg(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return DN(t,e,n);default:throw new ve(`The axis is not within the rank of the tensor ${a}`)}default:throw new ve(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function u3(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),Ea(t,e)}function x$(t,e){switch(t.rank){case 1:return F8([t,e]);case 2:return O8([t,e],0);case 3:return $8([t,e],0);case 4:return L8([t,e],0);default:throw new ve(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function fT(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new ve(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return Ui(t,e)}function l_(t,e=0,n=1,a,r){return dI(t,e,n,a,r)}function lc(t,e,n,a){if(t.rank<2||e.rank<2)throw new sn(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const r=t.shape.slice(-1)[0],s=e.shape.slice(-2)[0];if(r!==s)throw new sn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return iT({a:t,b:e,transposeA:!1,transposeB:!1,bias:a?dT(t.rank,a,Co()):null,activation:n});{const r=t.shape.slice(),s=r.pop();t=xe(t,[-1,s]);const i=e.shape.slice(),o=i.pop(),c=i.pop(),l=[...i,o],u=Array.from({length:e.rank},(y,v)=>v===0?e.rank-2:v<=e.rank-2?v-1:v);e=xe(In(e,u),[c,-1]);const d=[...r,...l];return xe(iT({a:t,b:e,transposeA:!1,transposeB:!1,bias:a?dT(t.rank,a,Co()):null,activation:n}),d)}}function TG(t,e,n){return Ne(()=>(Array.isArray(e)?e=us(e,"int32"):e=ut(e,"int32"),o1(t,e,n)))}function p1(t){return me(t,t)}function dT(t,e,n){const a=e.shape;if(e.rank!==1&&e.rank!==t)throw new ve(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return a.length===1?xe(e,[1,a[0],1,1,1]):xe(e,[1,a[3],a[0],a[1],a[2]]);if(n==="channelsLast")return a.length===1?xe(e,[1,1,1,1,a[0]]):xe(e,[1].concat(a))}else if(t===4){if(n==="channelsFirst")return a.length===1?xe(e,[1,a[0],1,1]):xe(e,[1,a[2],a[0],a[1]]);if(n==="channelsLast")return a.length===1?xe(e,[1,1,1,a[0]]):xe(e,[1].concat(a))}else if(t===3){if(n==="channelsFirst")return a.length===1?xe(e,[1,a[0],1]):xe(e,[1,a[1],a[0]]);if(n==="channelsLast")return a.length===1?xe(e,[1,1,a[0]]):xe(e,[1].concat(a))}else if(t<3)return e;throw new ve(`Unsupported input rank by biasAdd: ${e.rank}`)}function $o(t,e,n){return Ne(()=>(n==null&&(n=Co()),za(n),qe(t,dT(t.rank,e,n))))}function ime(t,e=1){if(e!==1)throw new sn(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return r1(t)}function ome(t){return Ne(()=>bt(t,qe(er(t),1)))}function EG(t,e,n,a){return Ne(()=>gz(t,e,n,a))}function cme(t){return Ne(()=>{const e=qe(.5,me(.2,t));return Hs(e,0,1)})}function h1(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const lme=["fanIn","fanOut","fanAvg"],ume=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function fme(t){Dd(lme,"FanMode",t)}function dme(t){Dd(ume,"Distribution",t)}class eo extends Xh{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class CG extends eo{apply(e,n){return tr(e,n)}}CG.className="Zeros";Ye(CG);class f3 extends eo{apply(e,n){return Ws(e,n)}}f3.className="Ones";Ye(f3);class IG extends eo{constructor(e){if(super(),typeof e!="object")throw new ve(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new ve(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return Ne(()=>me(Ot(this.value),Ws(e,n)))}getConfig(){return{value:this.value}}}IG.className="Constant";Ye(IG);class DG extends eo{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return Ed(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}DG.className="RandomUniform";Ye(DG);class RG extends eo{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new sn(`randomNormal does not support dType ${n}.`);return l_(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}RG.className="RandomNormal";Ye(RG);class PG extends eo{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new sn(`truncatedNormal does not support dType ${n}.`);return AI(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}PG.className="TruncatedNormal";Ye(PG);class FG extends eo{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return Ne(()=>{if(e.length!==2||e[0]!==e[1])throw new ve("Identity matrix initializer can only be used for 2D square matrices.");return me(this.gain,iI(e[0]))})}getConfig(){return{gain:this.gain}}}FG.className="Identity";Ye(FG);function pme(t,e="channelsLast"){let n,a;if(za(e),t.length===2)n=t[0],a=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const r=iu(t,2);n=t[1]*r,a=t[0]*r}else if(e==="channelsLast"){const r=iu(t,0,t.length-2);n=t[t.length-2]*r,a=t[t.length-1]*r}}else{const r=iu(t);n=Math.sqrt(r),a=Math.sqrt(r)}return[n,a]}class Xs extends eo{constructor(e){if(super(),e.scale<0)throw new ve(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,fme(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,dme(this.distribution),this.seed=e.seed}apply(e,n){const a=pme(e),r=a[0],s=a[1];let i=this.scale;if(this.mode==="fanIn"?i/=Math.max(1,r):this.mode==="fanOut"?i/=Math.max(1,s):i/=Math.max(1,(r+s)/2),this.distribution==="normal"){const o=Math.sqrt(i);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new sn(`${this.getClassName()} does not support dType ${n}.`);return AI(e,0,o,n,this.seed)}else{const o=Math.sqrt(3*i);return Ed(e,-o,o,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Xs.className="VarianceScaling";Ye(Xs);class d3 extends Xs{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Xs.className}}d3.className="GlorotUniform";Ye(d3);class p3 extends Xs{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Xs.className}}p3.className="GlorotNormal";Ye(p3);class h3 extends Xs{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Xs.className}}h3.className="HeNormal";Ye(h3);class m3 extends Xs{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Xs.className}}m3.className="HeUniform";Ye(m3);class g3 extends Xs{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Xs.className}}g3.className="LeCunNormal";Ye(g3);class y3 extends Xs{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Xs.className}}y3.className="LeCunUniform";Ye(y3);class OG extends eo{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return Ne(()=>{if(e.length<2)throw new sn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const a=Me(e.slice(0,-1)),r=e[e.length-1],s=a*r;s>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${s}) elements: Slowness may result.`);const i=[Math.max(r,a),Math.min(r,a)],o=l_(i,0,1,n,this.seed),c=Nz.qr(o,!1);let l=c[0];const d=c[1].flatten().stridedSlice([0],[Math.min(r,a)*Math.min(r,a)],[Math.min(r,a)+1]);return l=me(l,d.sign()),a<r&&(l=l.transpose()),me(Ot(this.gain),l.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}OG.className="Orthogonal";Ye(OG);const v$={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function k$(t,e={}){return f1(t,Gi.getMap().classNameMap,e,"initializer")}function ya(t){return c3(t)}function da(t){if(typeof t=="string"){const e=t in v$?v$[t]:t;if(e==="GlorotNormal")return new p3;if(e==="GlorotUniform")return new d3;if(e==="HeNormal")return new h3;if(e==="HeUniform")return new m3;if(e==="LeCunNormal")return new g3;if(e==="LeCunUniform")return new y3;{const n={};return n.className=e,n.config={},k$(n)}}else return t instanceof eo?t:k$(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function pT(t){return Array.isArray(t)&&Array.isArray(t[0])}function Sk(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function Ut(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new ve(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function Ln(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new ve(`Expected exactly 1 Shape; got ${t.length}`)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Tk(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((a,r)=>a*r);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const w$="Variable";class hme{constructor(e,n="float32",a=w$,r=!0,s=null){this.dtype=n??"float32",this.shape=e.shape,this.id=bG(),a=a??w$,this.originalName=AG(a),this.name=NG(this.originalName),this.trainable_=r,this.constraint=s,this.val=hz(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),mme(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function mme(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function hT(t){return t.map(e=>e.read())}function x3(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ar{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class mc{constructor(e,n,a,r,s,i,o){this.dtype=e,this.shape=n,this.sourceLayer=a,this.inputs=r,this.callArgs=s,this.outputTensorIndex=o,this.id=bG(),i!=null&&(this.originalName=AG(i),this.name=NG(this.originalName)),this.rank=n.length}}let gme=0,u_=class{constructor(e,n){this.callArgs=n,this.id=gme++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const a of e.inboundLayers)a!=null&&a.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},yme=0;class xn extends Xh{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=yme++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const a=this.getClassName();n=Kc(a)+"_"+c_(a)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let a;if(e.batchInputShape!=null)a=e.batchInputShape;else if(e.inputShape!=null){let s=null;e.batchSize!=null&&(s=e.batchSize),a=[s].concat(e.inputShape)}this.batchInputShape=a;let r=e.dtype;r==null&&(r=e.inputDType),r==null&&(r="float32"),this.dtype=r}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new Vi(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new ve(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Ns(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Ns(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new qo(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new qo(`Layer ${this.name} is not connected, no input to return.`);return Ns(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new qo(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new qo(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Ns(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const n=Kn(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const a=Kn(this.inputSpec);if(n.length!==a.length)throw new ve(`Layer ${this.name} expects ${a.length} inputs, but it received ${n.length} input tensors. Input received: ${e}`);for(let r=0;r<n.length;r++){const s=n[r],i=a[r];if(i==null)continue;const o=s.rank;if(i.ndim!=null&&o!==i.ndim)throw new ve(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${o}`);if(i.maxNDim!=null&&o>i.maxNDim)throw new ve(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${o}`);if(i.minNDim!=null&&o<i.minNDim)throw new ve(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${o}.`);if(i.dtype!=null&&s.dtype!==i.dtype)throw new ve(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${s.dtype}.`);if(i.axes){const c=s.shape;for(const l in i.axes){const u=Number(l),d=i.axes[l],h=u>=0?c[u]:c[c.length+u];if(d!=null&&[d,null].indexOf(h)===-1)throw new ve(`Input ${r} is incompatible with layer ${this.name}: expected axis ${u} of input shape to have value ${d} but got shape ${c}.`)}}if(i.shape!=null)for(let c=0;c<i.shape.length;++c){const l=i.shape[c],u=s.shape[c];if(l!=null&&u!=null&&l!==u)throw new ve(`Input ${r} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${s.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const a=Kn(e),r=kme(e),s=wme(e);if(r===s)throw new ve("Arguments to apply() must be all SymbolicTensors or all Tensors");return Lf(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const i=[];for(const o of Kn(e))i.push(o.shape);this.build(Ns(i)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&s&&(this._refCount=1)}if(this.assertInputCompatibility(e),s){let i=this.call(e,n);this.supportsMasking&&this.setMaskMetadata(e,i);const o=Kn(i),c=[];for(let l of o)a.indexOf(l)!==-1&&(l=l.clone()),c.push(l);if(i=Ns(c),this.activityRegularizer!=null)throw new sn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return i}else{const i=xme(e),o=this.computeOutputShape(i);let c;const l=vme(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?i[0]:i),o!=null&&o.length>0&&Array.isArray(o[0])?c=o.map((u,d)=>new mc(l,u,this,Kn(e),n,this.name,d)):c=new mc(l,o,this,Kn(e),n,this.name),this.addInboundNode(e,c,null,null,i,o,n),this._refCount++,this.activityRegularizer!=null)throw new sn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return c}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((a,r)=>{a!=null&&e[r]!=null&&e[r]!==a&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new qo(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const a=JSON.stringify(n.outputShapes);e.indexOf(a)===-1&&e.push(a)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new qo(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Vi(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Tk(this.weights)}build(e){this.built=!0}getWeights(e=!1){return hT(e?this.trainableWeights:this.weights)}setWeights(e){Ne(()=>{const n=this.weights;if(n.length!==e.length)throw new ve(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const a=[],r=hT(n);for(let s=0;s<r.length;++s){const i=r[s],o=n[s],c=e[s];if(!Sn(i.shape,c.shape))throw new ve(`Layer weight shape ${i.shape} not compatible with provided weight shape ${c.shape}`);a.push([o,c])}x3(a)})}addWeight(e,n,a,r,s,i,o,c){if(this._addedWeightNames.indexOf(e)!==-1)throw new ve(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),a==null&&(a="float32"),this.fastWeightInitDuringBuild&&(r=c!=null?c():da("zeros"));const l=r.apply(n,a),u=new hme(l,a,e,i,o);return l.dispose(),s!=null&&this.addLoss(()=>s.apply(u.read())),i==null&&(i=!0),i?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=Kn(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(a=>{if(a!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(e,n,a){if(!this.supportsMasking)return;const r=this.computeMask(e,a),s=Kn(n),i=Kn(r);if(s.length!==i.length)throw new Error(`${this.name} outputs ${s.length} tensors but ${s.length} masks for those tensors`);for(let o=0;o<s.length;o++)s[o].kerasMask=i[o]}addInboundNode(e,n,a,r,s,i,o=null){const c=Kn(e);n=Kn(n),a=Kn(a),r=Kn(r),s=Sk(s),i=Sk(i);const l=[],u=[],d=[];for(const h of c)l.push(h.sourceLayer),u.push(h.nodeIndex),d.push(h.tensorIndex);new u_({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:d,inputTensors:c,outputTensors:n,inputMasks:a,outputMasks:r,inputShapes:s,outputShapes:i},o);for(let h=0;h<n.length;h++)n[h].sourceLayer=this,n[h].nodeIndex=this.inboundNodes.length-1,n[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function xme(t){t=Kn(t);const e=[];for(const n of t)e.push(n.shape);return Ns(e)}function vme(t){return"float32"}function $G(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const a=e.inboundNodes[n];if(a.inboundLayers.length===0)return a.inputTensors;{const r=[];for(let s=0;s<a.inboundLayers.length;s++){const i=a.inputTensors[s],o=a.inboundLayers[s],c=a.nodeIndices[s],l=$G(i,o,c);for(const u of l)r.indexOf(u)===-1&&r.push(u)}return r}}}function kme(t){let e=!0;for(const n of Kn(t))if(!(n instanceof mc)){e=!1;break}return e}function wme(t){let e=!0;for(const n of Kn(t))if(n instanceof mc){e=!1;break}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class m1 extends xn{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:c_("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new ve("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new ve("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new ve("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const a=e.dtype||"float32";this.batchInputShape=n,this.dtype=a,this.inputSpec=[{shape:n}];const r=new mc(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new u_({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new ve(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}m1.className="InputLayer";Ye(m1);function bme(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new ve("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new m1({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function _me(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return ut(e,t.dtype)}catch{throw new ve(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class eu{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof eu)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,a){if(this.id2Value[e.id]==null)this.id2Value[e.id]=_me(e,n),this.name2Id[e.name]=e.id,a!=null&&(this.id2Mask[e.id]=a);else throw new ve(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof mc){if(this.id2Value[e.id]==null)throw new ve(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new ve(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof mc){if(this.id2Value[e.id]==null)throw new ve(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new ve(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&mn(this.id2Mask)}}const Ek=new vG,Ck=new vG;function Ame(t){Ek!=null&&Ek.setMaxEntries(t),Ck!=null&&Ck.setMaxEntries(t)}function k0(t,e,n,a){const r=n==null?!1:n.training,s=Array.isArray(t),i=s?t:[t],o=i.map(y=>y.name),c=[],l=e.names();for(const y of o)l.indexOf(y)!==-1?c.push(e.getValue(y)):c.push(null);const u=o.join(",")+"|"+e.names().sort().join(",");let d=Ek.get(u),h;if(d==null){const y=Nme(i,e);d=y.sorted,h=y.recipientCounts,Ek.put(u,d),Ck.put(u,h)}h={},r||Object.assign(h,Ck.get(u));const m=new eu(e);for(let y=0;y<d.length;++y){const v=d[y],x=v.sourceLayer;if(x instanceof m1)continue;const k=[],b=[],_=[];let A=!1;for(const I of v.inputs){const P=m.getValue(I),R=m.getMask(I);k.push(P),b.push(R),R!=null&&(A=!0),r||(h[I.name]--,h[I.name]===0&&!e.hasKey(I)&&o.indexOf(I.name)===-1&&!P.isDisposed&&I.sourceLayer.stateful!==!0&&_.push(P))}A&&(n=n||{},n.mask=b[0]);const S=Kn(x.apply(k,n));let C=null;x.supportsMasking&&(C=x.computeMask(k,b));const E=Tme(v),D=Array.isArray(E)?E:[E];for(let I=0;I<D.length;++I){m.hasKey(D[I])||m.add(D[I],S[I],Array.isArray(C)?C[0]:C);const P=o.indexOf(D[I].name);P!==-1&&(c[P]=S[I])}r||mn(_)}return m.disposeMasks(),s?c:c[0]}function Nme(t,e){K(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],a={};if(t.length===1){const r=b$(t[0],e);n=r.sorted,a=r.recipientMap}else{const r=new Set;for(const s of t){const{sorted:i,recipientMap:o}=b$(s,e);for(const c of i)r.has(c.name)||(n.push(c),r.add(c.name));for(const c in o)a[c]==null&&(a[c]=new Set),o[c].forEach(l=>a[c].add(l))}}return{sorted:n,recipientCounts:Sme(a)}}function Sme(t){const e={};for(const n in t)e[n]=t[n].size;return e}function b$(t,e){const n=new Set,a=[],r={};for(const o of e.names())n.add(o);const s=[],i=[];for(s.push(t);s.length>0;){const o=s[s.length-1];if(n.has(o.name)){s.pop();continue}const c=i[i.length-1]===s.length-1;if(o.inputs.length===0||c)s.pop(),a.push(o),n.add(o.name),c&&i.pop();else{i.push(s.length-1);for(const l of o.inputs)r[l.name]==null&&(r[l.name]=new Set),r[l.name].add(o.name),!n.has(l.name)&&s.push(l)}}return{sorted:a,recipientMap:r}}function Tme(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let a=0;a<t.sourceLayer.inboundNodes.length;++a)for(const r of t.sourceLayer.inboundNodes[a].outputTensors)if(r.id===t.id){n=a;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eme=Ce();Eme.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,Ame);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function v3(t,e){return Ne(()=>Or(xt(me(t,t),e,!0)))}class g1 extends Xh{getConfig(){return{}}}class LG extends g1{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ne(()=>{const n=v3(e,this.axis),a=Hs(n,0,this.maxValue);return me(e,bt(a,qe(nr(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}LG.className="MaxNorm";Ye(LG);class MG extends g1{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ne(()=>bt(e,qe(nr(),v3(e,this.axis))))}getConfig(){return{axis:this.axis}}}MG.className="UnitNorm";Ye(MG);class BG extends g1{apply(e){return bc(e)}}BG.className="NonNeg";Ye(BG);class zG extends g1{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ne(()=>{const n=v3(e,this.axis),a=qe(me(this.rate,Hs(n,this.minValue,this.maxValue)),me(1-this.rate,n));return me(e,bt(a,qe(nr(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}zG.className="MinMaxNorm";Ye(zG);const _$={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function sr(t){return c3(t)}function A$(t,e={}){return f1(t,Gi.getMap().classNameMap,e,"constraint")}function ir(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in _$?_$[t]:t,config:{}};return A$(n)}else return t instanceof g1?t:A$(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function yf(t){if(t==null)return;const e=[],n=[],a=[];for(const r in t){const s=t[r];if(typeof s!="number"){const i=s;e.push(i.data()),n.push(r),a.push(i)}}if(e.length>0){const r=await Promise.all(e);for(let s=0;s<r.length;++s)t[n[s]]=r[s][0];mn(a)}}function GG(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var N$;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(N$||(N$={}));const Cme=125;class yg{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class Ime{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const a of this.callbacks)await a.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const a of this.callbacks)await a.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const a of this.callbacks)await a.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const a of this.callbacks)await a.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class Dme extends yg{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const a=n.size==null?0:n.size;this.seen+=a;for(const r in n){const s=n[r];if(typeof s=="number")this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+s*a;else{let i;r in this.totals?i=this.totals[r]:this.totals[r]=0;const o=Ne(()=>qe(this.totals[r],me(s,a)));this.totals[r]=o,i!=null&&i.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const a of this.params.metrics)this.totals[a]!=null&&(typeof this.totals[a]=="number"?n[a]=this.totals[a]/this.seen:Ne(()=>{const r=me(bt(1,this.seen),this.totals[a]);n[a]=r,this.totals[a].dispose(),xr(n[a])}))}}class Rme extends yg{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const a in n)this.history[a]==null&&(this.history[a]=[]),this.history[a].push(n[a])}async syncData(){const e=[],n=[],a=[];for(const s in this.history){const i=this.history[s];for(let o=0;o<i.length;++o)if(typeof i[o]!="number"){const c=i[o];e.push(c.data()),n.push(s),a.push(o)}}const r=await Promise.all(e);for(let s=0;s<r.length;++s)this.history[n[s]][a[s]].dispose(),this.history[n[s]][a[s]]=r[s][0]}}class Pme extends yg{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||Hz,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=Cme),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");zS(this.yieldEvery)&&(this.maybeWait=Hhe(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,a){const r=[];this.yield!=null&&(await yf(a),r.push(this.yield(e,n,a))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await yf(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const a=[];this.epochEnd!=null&&(await yf(n),a.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&a.push(this.nextFrameFunc()),await Promise.all(a)}async onBatchBegin(e,n){this.batchBegin!=null&&(await yf(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const a=[];this.batchEnd!=null&&(await yf(n),a.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?a.push(this.nextFrameFunc()):zS(this.yieldEvery)&&a.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(a)}async onTrainBegin(e){this.trainBegin!=null&&(await yf(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await yf(e),await this.trainEnd(e))}}function UG(t,e){return t==null&&(t={}),t instanceof yg?[t]:Array.isArray(t)&&t[0]instanceof yg?t:Kn(t).map(a=>new Pme(a,e))}class Oi{constructor(){}static registerCallbackConstructor(e,n){K(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),Oi.checkForDuplicate(n),Oi.constructors[e]==null&&(Oi.constructors[e]=[]),Oi.constructors[e].push(n)}static checkForDuplicate(e){for(const n in Oi.constructors)Oi.constructors[+n].forEach(r=>{if(r===e)throw new ve("Duplicate callback constructor.")})}static clear(){Oi.constructors={}}static createCallbacks(e){const n=[];for(const a in Oi.constructors){const r=+a;e>=r&&n.push(...Oi.constructors[r])}return n.map(a=>new a)}}Oi.constructors={};function WG(t,e,n,a,r,s,i,o,c){const l=new Rme,u=[new Dme,...Oi.createCallbacks(e)];t!=null&&u.push(...t),u.push(l);const d=new Ime(u);return d.setParams({epochs:n,initialEpoch:a,samples:r,steps:s,batchSize:i,verbose:e,doValidation:o,metrics:c}),{callbackList:d,history:l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function nl(t,e={},n=!1){return f1(t,Gi.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ik(t,e){return Ne(()=>{t.dtype!=="float32"&&(t=ut(t,"float32"));const n=xt(p1(t),e,!0),a=jh(n.shape,nr()),r=Or(bl(n,a));return bt(t,r)})}function f_(t,e){return Ne(()=>Sa(p1(mt(e,t)),-1))}function k3(t,e){return Ne(()=>Sa(er(mt(e,t)),-1))}function w3(t,e){return Ne(()=>{const n=mt(t,e),a=Hs(er(t),nr(),Number.MAX_VALUE),r=er(bt(n,a));return me(100,Sa(r,-1))})}function Fme(t,e){return Ne(()=>{const n=Hs(e,nr(),Number.MAX_VALUE),a=fi(qe(1,n)),r=Hs(t,nr(),Number.MAX_VALUE),s=fi(qe(1,r));return Sa(p1(mt(a,s)),-1)})}function Ome(t,e){return Ne(()=>{const n=bl(0,mt(1,me(t,e)));return Sa(p1(n),-1)})}function $me(t,e){return Ne(()=>{const n=bl(0,mt(1,me(t,e)));return Sa(n,-1)})}function Lme(t,e){return Ne(()=>{const n=xt(me(t,e),-1),a=qi(me(mt(1,t),e),-1);return bl(0,qe(1,mt(a,n)))})}function Mme(t,e){return Ne(()=>{const n=Math.log(2),a=mt(e,t),r=mt(qe(a,Hh(me(-2,a))),n);return Sa(r,-1)})}function xg(t,e,n=!1){return Ne(()=>{if(n)e=Zb(e);else{const a=xt(e,e.shape.length-1,!0);e=bt(e,a)}return e=Hs(e,nr(),1-nr()),fa(xt(me(ut(t,"float32"),fi(e)),e.shape.length-1))})}function Dk(t,e,n=!1){return Ne(()=>{const a=ut(i1(rme(t)),"int32");e=Hs(e,nr(),1-nr());const r=e.shape,s=xe(uI(a,r[r.length-1]),r);return xg(s,e,n)})}function Bme(t,e){if(!Sn(t.shape,e.shape))throw new ve(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return Ne(()=>{const n=bc(e),a=fa(er(e));return qe(mt(n,me(e,t)),Gb(Ks(a)))})}function d_(t,e){return Ne(()=>{let n;return n=Hs(e,nr(),1-nr()),n=fi(bt(n,mt(1,n))),Sa(Bme(t,n),-1)})}function zme(t,e){return Ne(()=>{const n=Hs(t,nr(),1),a=Hs(e,nr(),1);return xt(me(t,fi(bt(n,a))),-1)})}function Gme(t,e){return Ne(()=>{const n=fi(qe(nr(),e));return Sa(mt(e,me(t,n)),-1)})}function VG(t,e){return Ne(()=>{const n=Ik(t,-1),a=Ik(e,-1),r=me(n,a);return fa(xt(r,-1))})}const Rk={meanSquaredError:f_,meanAbsoluteError:k3,meanAbsolutePercentageError:w3,meanSquaredLogarithmicError:Fme,squaredHinge:Ome,hinge:$me,categoricalHinge:Lme,logcosh:Mme,categoricalCrossentropy:xg,sparseCategoricalCrossentropy:Dk,binaryCrossentropy:d_,kullbackLeiblerDivergence:zme,poisson:Gme,cosineProximity:VG};function RN(t){if(typeof t=="string"){if(t in Rk)return Rk[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new ve(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function jG(t,e){return Ne(()=>{const n=me(.5,di(e)),a=cc(Js(e,n),t.dtype);return Sa(To(t,a),-1)})}function HG(t,e){return Ne(()=>cc(To(ad(t,-1),ad(e,-1)),"float32"))}function Ume(t,e){return Ne(()=>ut(xt(hc(To(t,1),To(e,1))),"float32"))}function Wme(t,e){return Ne(()=>ut(xt(hc(To(t,0),To(e,1))),"float32"))}function Vme(t,e){return Ne(()=>{const n=Ume(t,e),a=Wme(t,e),r=qe(n,a);return ut(Vr(Js(r,0),bt(n,r),0),"float32")})}function jme(t,e){return d_(t,e)}function Hme(t,e){return t.rank===e.rank&&(t=Cd(t,[t.rank-1])),e=ad(e,-1),e.dtype!==t.dtype&&(e=ut(e,t.dtype)),ut(To(t,e),"float32")}const Kme=f_,qme=f_,Xme=k3,Yme=k3,Zme=w3,Qme=w3,KG=xg,Jme=VG,qG=Dk,Pk={binaryAccuracy:jG,categoricalAccuracy:HG,precision:Vme,categoricalCrossentropy:KG,sparseCategoricalCrossentropy:qG,mse:Kme,MSE:qme,mae:Xme,MAE:Yme,mape:Zme,MAPE:Qme,cosine:Jme};function e0e(t){if(typeof t=="string"&&t in Pk)return Pk[t];if(typeof t!="string"&&t!=null)return t;throw new ve(`Unknown metric ${t}`)}function dv(t){if(Xo(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(Rk))if(Rk[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(Pk))if(Pk[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function t0e(t){const e={Adagrad:()=>Rp.adagrad(.01),Adadelta:()=>Rp.adadelta(1,.95,nr()),Adam:()=>Rp.adam(.001,.9,.999,nr()),Adamax:()=>Rp.adamax(.002,.9,.999,nr(),0),RMSProp:()=>Rp.rmsprop(.001,.9,0,nr()),SGD:()=>Rp.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new ve(`Unknown Optimizer ${t}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const S$=1*1024*1024;function T$(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!mT(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const a=JSON.stringify(t);a.length>S$&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${a.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${S$}.`)}}function mT(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!mT(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!mT(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function n0e(t,e,n,a=console.log){const r=r0e(t),s=["Layer (type)","Input Shape","Output shape","Param #"];r?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(u=>Math.floor(e*u)));let i;if(!r){s.push("Receives inputs"),i=[];for(const u in t.nodesByDepth)i.push(...t.nodesByDepth[u])}a("_".repeat(e)),Fk(s,n,a),a("=".repeat(e));const o=t.layers;for(let u=0;u<o.length;++u)r?s0e(o[u],n,a):i0e(o[u],n,i,a),a((u===o.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const c=a0e(t),l=Tk(t.nonTrainableWeights);a(`Total params: ${c+l}`),a(`Trainable params: ${c}`),a(`Non-trainable params: ${l}`),a("_".repeat(e))}function a0e(t){let e;return t.collectedTrainableWeights!=null?e=Tk(t.collectedTrainableWeights):e=Tk(t.trainableWeights),e}function r0e(t){let e=!0;const n=[],a=[];for(const r in t.nodesByDepth)n.push(t.nodesByDepth[r]);for(const r of n){if(r.length>1||r.length===1&&r[0].inboundLayers.length>1){e=!1;break}a.push(...r)}if(e)for(const r of t.layers){let s=!1;for(const i of r.inboundNodes)if(a.indexOf(i)!==-1)if(s){e=!1;break}else s=!0;if(!e)break}return e}function Fk(t,e,n=console.log){let a="";for(let r=0;r<t.length;++r)r>0&&(a=a.slice(0,a.length-1)+" "),a+=t[r],a=a.slice(0,e[r]),a+=" ".repeat(e[r]-a.length);n(a)}function s0e(t,e,n){let a,r;try{r=t.inboundNodes.map(c=>JSON.stringify(c.inputShapes)).join(",")}catch{r="multiple"}try{a=JSON.stringify(t.outputShape)}catch{a="multiple"}const s=t.name,i=t.getClassName(),o=[`${s} (${i})`,r,a,t.countParams().toString()];Fk(o,e,n)}function i0e(t,e,n,a){let r,s;try{s=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const i=[];for(const d of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(d)===-1))for(let h=0;h<d.inboundLayers.length;++h){const m=d.inboundLayers[h].name,y=d.nodeIndices[h],v=d.tensorIndices[h];i.push(`${m}[${y}][${v}]`)}const o=t.name,c=t.getClassName(),l=i.length===0?"":i[0],u=[`${o} (${c})`,s,r,t.countParams().toString(),l];Fk(u,e,a);for(let d=1;d<i.length;++d)Fk(["","","","",i[d]],e,a)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function XG(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function gT(t,e){if(t===null)return null;if(typeof t=="string")return Af(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],a=t.length;for(let r=0;r<a;++r){const s=t[r];XG(e,r,s)?n.push(s):n.push(gT(s,e))}return n}else{const n={};for(const a of Object.keys(t)){const r=t[a];if(a==="name"&&typeof r=="string")n[a]=r;else{const s=Af(a);n[s]=gT(r,s)}}return n}}function yT(t,e){if(t==null)return null;if(typeof t=="string")return Kc(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],a=t.length;for(let r=0;r<a;++r){const s=t[r];XG(e,r,s)?n.push(s):n.push(yT(s,e))}return n}else{const n={};for(const a of Object.keys(t)){const r=t[a],s=Kc(a);(a==="name"||a==="className")&&typeof r=="string"?n[s]=r:n[s]=yT(r,a)}return n}}/** @license See the LICENSE file. */const YG="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const o0e=t=>{const e=Object.keys(t);if(e.length===0)return!1;const n=e[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class po extends xn{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const b=this.getClassName().toLowerCase();this.name=c_(b)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],su(this.inputs).length!==this.inputs.length)throw new ve(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(b=>b.name)}`);su(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(b=>b.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const b of this.outputs){const _=b.sourceLayer,A=b.nodeIndex,S=b.tensorIndex;this.outputLayers.push(_),this.outputLayersNodeIndices.push(A),this.outputLayersTensorIndices.push(S)}for(const b of this.inputs){const _=b.sourceLayer,A=b.nodeIndex,S=b.tensorIndex;Xo(A===0,"input layer has >1 nodes"),Xo(S===0,"input layer has >1 tensors"),this.inputLayers.push(_),this.inputLayersNodeIndices.push(A),this.inputLayersTensorIndices.push(S)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let b=0;b<this.inputLayers.length;b++){const _=this.inputLayers[b];if(!(_ instanceof m1))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${b} (0-based) originates from layer type ${_.getClassName()}.`);this.inputNames.push(_.name),this.feedInputShapes.push(_.batchInputShape),this.feedInputNames.push(_.name)}for(const b of this.outputLayers)this.outputNames.push(b.name);this.internalInputShapes=this.inputs.map(b=>b.shape),this.internalOutputShapes=this.outputs.map(b=>b.shape);const n={},a={},r={},s={},i={},o=[],c=(b,_,A,S,C,E)=>{(S==null||C==null||E==null)&&(S=b.sourceLayer,C=b.nodeIndex,E=b.tensorIndex);const D=S.inboundNodes[C];if(A.indexOf(D)!==-1)throw new Vi(`The tensor ${b.name} at layer "${S.name}" is part of a cycle.`);if(_.indexOf(D)!==-1)return;this.containerNodes.add(po.nodeKey(S,C)),S.id in i||(i[S.id]=Object.keys(i).length),A.indexOf(D)===-1&&A.push(D);const I=D.inboundLayers.length;for(let P=0;P<I;P++){const R=D.inputTensors[P],B=D.inboundLayers[P],U=D.nodeIndices[P],V=D.tensorIndices[P];c(R,_,A,B,U,V)}for(_.push(D);A.indexOf(D)>=0;)A.splice(A.indexOf(D),1);o.push(D)},l=[],u=[];for(const b of this.outputs)c(b,l,u);const d=o.slice().reverse();for(const b of d){a[b.id]=b,b.id in n||(n[b.id]=0);let _=n[b.id];const A=r[b.outboundLayer.id]==null?0:r[b.outboundLayer.id];_=Math.max(_,A),r[b.outboundLayer.id]=_,s[b.outboundLayer.id]=b.outboundLayer,n[b.id]=_;for(let S=0;S<b.inboundLayers.length;S++){const C=b.inboundLayers[S],E=b.nodeIndices[S],D=C.inboundNodes[E],I=n[D.id]==null?0:n[D.id];n[D.id]=Math.max(_+1,I),a[D.id]=D}}const h={};for(const b in n){const _=n[b];_ in h||(h[_]=[]),h[_].push(a[b])}const m={};for(const b in r){const _=r[b];_ in m||(m[_]=[]),m[_].push(s[b])}let y=Object.keys(m).map(b=>parseInt(b,10)).sort(lv);this.layers=[];for(const b of y){const _=m[b];_.sort((A,S)=>{const C=i[A.id],E=i[S.id];return C<E?-1:C>E?1:0});for(const A of _)A instanceof po&&this.internalContainerRefs.push(A),this.layers.push(A)}this.layersByDepth=m,y=Object.keys(h).map(b=>parseInt(b,10)).sort(lv);const v=this.inputs.slice(),x=[];for(const b of y)for(const _ of h[b]){const A=_.outboundLayer;if(A!=null){for(const S of _.inputTensors)if(v.indexOf(S)===-1)throw new Vi(`Graph disconnected: cannot obtain value for tensor ${S} at layer "${A.name}". The following previous layers were accessed without issue: ${x}`);for(const S of _.outputTensors)v.push(S);x.push(A.name)}}this.nodesByDepth=h;const k=this.layers.map(b=>b.name);for(const b of k){const _=k.filter(A=>A===b).length;if(_!==1)throw new Vi(`The name "${b}" is used ${_} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(k))}this.outboundNodes=[],this.inboundNodes=[],new u_({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(b=>null),outputMasks:this.outputs.map(b=>null),inputShapes:this.inputs.map(b=>b.shape),outputShapes:this.outputs.map(b=>b.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(a=>a.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new ve("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const a of this.layers)n.push(...a.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const a={};let r=0;const s=o0e(e);s&&this.parseWeights(e);for(const o of this.layers)for(const[c,l]of o.weights.entries()){const u=s?`${l.name.split("/").slice(0,-1).join("/")+"/"}${c}`:l.originalName;if(a[u]!=null)throw new ve(`Duplicate weight name: ${u}`);a[u]=l,r++}const i=[];for(const o in e){let c=o;if(a[o]==null){const l=o.split("/");c=l.slice(0,-2).concat([l[l.length-1]]).join("/")}if(a[c]!=null)i.push([a[c],e[o]]);else if(n)throw new ve(`Provided weight data has no target variable: ${o}`);delete a[c]}if(n){const o=[];for(const c in a)o.push(c);if(o.length>0)throw new ve(`${o.length} of ${r} weights are not set: ${o}`)}x3(i)}parseWeights(e){for(const n in Object.keys(e)){const a=n.split("/"),r=["vars","layer_checkpoint_dependencies"],s=a.map(i=>i.startsWith("_")?i.slice(1):i).filter(i=>!r.includes(i)).join("/");s!==n&&(e[s]=e[n],delete e[n])}}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${YG}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const a=yT(this.updatedConfig());return n?JSON.stringify(a):a}call(e,n){return Ne(()=>{e=Kn(e);const a=new eu;for(let r=0;r<this.inputs.length;++r)a.add(this.inputs[r],e[r]);return k0(this.outputs,a,n)})}computeMask(e,n){return Ne(()=>{e=Kn(e);let a;return n==null?a=cd(null,e.length):a=Kn(n),this.runInternalGraph(e,a)[1]})}computeOutputShape(e){const n=Sk(e);if(n.length!==this.inputLayers.length)throw new ve(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const a={};for(let o=0;o<n.length;o++){const c=this.inputLayers[o],l=n[o],u=c.name+"_0_0";a[u]=l}const r=Object.keys(this.nodesByDepth).map(o=>parseInt(o,10)).sort(lv);if(r.length>1)for(const o of r){const c=this.nodesByDepth[o];for(const l of c){const u=l.outboundLayer;if(this.inputLayers.map(v=>v.id).indexOf(u.id)!==-1)continue;const d=[];for(let v=0;v<l.inboundLayers.length;v++){const x=l.inboundLayers[v],k=l.nodeIndices[v],b=l.tensorIndices[v],_=`${x.name}_${k}_${b}`,A=a[_];d.push(A)}const h=u.computeOutputShape(Ns(d)),m=Sk(h),y=u.inboundNodes.indexOf(l);for(let v=0;v<m.length;v++){const x=`${u.name}_${y}_${v}`;a[x]=m[v]}}}const s=[],i=[];for(let o=0;o<this.outputLayers.length;o++){const c=this.outputLayers[o],l=this.outputLayersNodeIndices[o],u=this.outputLayersTensorIndices[o],d=`${c.name}_${l}_${u}`;i.push(d)}for(let o=0;o<i.length;o++){const c=i[o];Xo(c in a),s.push(a[c])}return Ns(s)}runInternalGraph(e,n){n==null&&(n=cd(null,e.length));const a={};for(let c=0;c<this.inputs.length;++c){const l=this.inputs[c],u=e[c],d=n[c];a[l.id]=[u,d]}const r=Object.keys(this.nodesByDepth).map(c=>parseInt(c,10)).sort(lv);for(const c of r){const l=this.nodesByDepth[c];for(const u of l){const d=u.outboundLayer,h=u.inputTensors,m=u.outputTensors,y=new Array;for(const v of h)v.id in a&&y.push(a[v.id]);if(y.length===h.length){let v={},x,k,b,_;if(u.callArgs!=null&&(v=u.callArgs),y.length===1){const[A,S]=y[0];v.mask==null&&(v.mask=S),b=Kn(d.call(A,v)),_=Kn(d.computeMask(A,S)),x=[A],k=[S]}else x=y.map(A=>A[0]),k=y.map(A=>A[1]),v.mask==null&&(v.mask=k),b=Kn(d.call(x,v)),_=Kn(d.computeMask(x,k));if(d.activityRegularizer)throw new sn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let A=0;A<m.length;++A){const S=m[A],C=b[A],E=_[A];a[S.id]=[C,E]}}}}const s=[],i=[],o=[];for(const c of this.outputs){Xo(c.id in a,`Could not compute output ${c.name} : ${c.id}`);const[l,u]=a[c.id];o.push(l.shape),s.push(l),i.push(u)}return[s,i,o]}buildNodeConversionMap(e){const n={};let a;for(const r of this.layers){a=r instanceof po?1:0;for(let s=0;s<r.inboundNodes.length;s++){const i=po.nodeKey(r,s);this.containerNodes.has(i)&&(n[i]=a,a+=1)}}return n}getLayer(e,n){if(n!=null)return this.findLayer(n);if(e==null)throw new ve("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const a of this.layers)if(a.name===e)return a;throw new ve(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new ve(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return Ne(()=>{const e=[];for(const n of this.layers)for(let a=0;a<n.inboundNodes.length;++a){const r=po.nodeKey(n,a);this.containerNodes.has(r)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),a=[];for(const i of this.layers){const o=i.getClassName(),c=i.getConfig(),l=[];for(let d=0;d<i.inboundNodes.length;d++){const h=i.inboundNodes[d],m=po.nodeKey(i,d);let y={};if(this.containerNodes.has(m)){if(h.callArgs)try{JSON.stringify(h.callArgs),y=h.callArgs}catch{console.warn(`Layer ${i.name} was passed non-serializable keyword arguments: ${h.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),y={}}if(h.inboundLayers.length>0){const v=[];for(let x=0;x<h.inboundLayers.length;x++){const k=h.inboundLayers[x],b=h.nodeIndices[x],_=h.tensorIndices[x],A=po.nodeKey(k,b);let S=n[A];S==null&&(S=0),v.push([k.name,S,_,y])}l.push(v)}}}const u={};u.name=i.name,u.className=o,u.config=c,u.inboundNodes=l,a.push(u)}e.layers=a;const r=[];for(let i=0;i<this.inputLayers.length;i++){const o=this.inputLayers[i],c=this.inputLayersNodeIndices[i],l=po.nodeKey(o,c);if(!this.containerNodes.has(l))continue;let u=n[l];u==null&&(u=0);const d=this.inputLayersTensorIndices[i];r.push([o.name,u,d])}e.inputLayers=r;const s=[];for(let i=0;i<this.outputLayers.length;i++){const o=this.outputLayers[i],c=this.outputLayersNodeIndices[i],l=po.nodeKey(o,c);if(!this.containerNodes.has(l))continue;let u=n[l];u==null&&(u=0);const d=this.outputLayersTensorIndices[i];s.push([o.name,u,d])}return e.outputLayers=s,e}static fromConfig(e,n,a={},r=!1){const s={},i={};function o(x,k){x.name in i?i[x.name].push(k):i[x.name]=[k]}function c(x,k){const b=[];let _;for(const A of k){const S=A[0],C=A[1],E=A[2];if(_=A[3]==null?{}:A[3],!(S in s)){o(x,k);return}const D=s[S];if(D.inboundNodes.length<=C){o(x,k);return}const I=D.inboundNodes[C];b.push(I.outputTensors[E])}b.length>0&&x.apply(Ns(b),_)}function l(x){const k=x.name,b=nl(x,n.customObjects!=null?n.customObjects:{});b.setFastWeightInitDuringBuild(r),s[k]=b,x.inboundNodes.forEach(A=>{if(!(A instanceof Array))throw new ve(`Corrupted configuration, expected array for nodeData: ${A}`);o(b,A)})}const u=n.name,d=n.layers;for(const x of d)l(x);for(;!jhe(i);)for(const x of d){const k=s[x.name];if(k.name in i){const b=i[k.name];delete i[k.name];for(const _ of b)c(k,_)}}const h=[],m=[],y=n.inputLayers;for(const x of y){const k=x[0],b=x[1],_=x[2];Xo(k in s);const S=s[k].inboundNodes[b].outputTensors;h.push(S[_])}const v=n.outputLayers;for(const x of v){const k=x[0],b=x[1],_=x[2];Xo(k in s);const S=s[k].inboundNodes[b].outputTensors;m.push(S[_])}return new e({inputs:h,outputs:m,name:u})}get stateful(){if(this._stateful)throw new ve("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){Ne(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function c0e(t,e,n){const a=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>null);if(a===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==a)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${a} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const r=[];return e.forEach(s=>{s in t?r.push(t[s]):r.push(null)}),r}else throw new Error(`The model has multiple (${a}) outputs, so ${n} must be either an array with ${a} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function ZG(t,e){return c0e(t,e,"classWeight")}async function QG(t,e,n,a){if(n!=null){const r=Ne(()=>{if(t.shape.length===1)return tl(t);if(t.shape.length===2){if(t.shape[1]>1)return ad(t,1);if(t.shape[1]===1)return xe(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),s=Array.from(await r.data());mn(r);const i=[];return s.forEach(o=>{if(n[o]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${o} exists in the data but not in classWeight`);i.push(n[o])}),us(i,"float32")}else return null}function l0e(t,e){return me(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const u0e=32;function JG(t,e){let n,a;const r=e;n=r.xs,a=r.ys,K(n!=null&&a!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const s=E$("input",t.inputNames,n),i=E$("output",t.outputNames,a),o=s[0].shape[0];K(s.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${s.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),K(i.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${i.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let c=0;c<s.length;c++)K(s[c].shape[0]===o,()=>`Batch size mismatch: input ${t.inputNames[c]} has ${s[c].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);for(let c=0;c<i.length;c++)K(i[c].shape[0]===o,()=>`Batch size mismatch: output ${t.outputNames[c]} has ${i[c].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);return{xs:s,ys:i}}function E$(t,e,n){if(n instanceof ga)return[n];if(Array.isArray(n))return K(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const a=[];for(const r of e){if(n[r]==null)throw new ve(`The feature data generated by the dataset lacks the required ${t} key '${r}'.`);a.push(n[r])}return a}}function f0e(t){if(t.length===3)throw new sn("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function d0e(t,e,n){const a=n.batchesPerEpoch!=null;if(K(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),K(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),K(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),K(!a||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),K(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const r=n.validationData!=null;let s,i;if(r)if(C$(n.validationData))K(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const x=f0e(n.validationData);s=x.xs,i=x.ys}const o=t.makeTrainFunction(),c=t.getDedupedMetricsNames();let l;r?l=c.slice().concat(c.map(x=>"val_"+x)):l=c.slice();const u=UG(n.callbacks,n.yieldEvery),d=n.verbose==null?1:n.verbose,{callbackList:h,history:m}=WG(u,d,n.epochs,null,null,p0e(e,n),null,r,l);h.setModel(t),t.history=m,await h.onTrainBegin(),t.stopTraining_=!1;let y=n.initialEpoch==null?0:n.initialEpoch,v=await e.iterator();for(;y<n.epochs;){const x={};await h.onEpochBegin(y);let k=0,b=0;for(a||(v=await e.iterator());!a||k<n.batchesPerEpoch;){const _=await v.next();if(a&&_.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${k} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(_.value!=null){const{xs:A,ys:S}=JG(t,_.value),C={};C.batch=b,C.size=A[0].shape[0],await h.onBatchBegin(b,C);const E=[];if(n.classWeight!=null){const P=ZG(n.classWeight,t.outputNames);for(let R=0;R<P.length;++R)E.push(await QG(S[R],null,P[R]))}const D=A.concat(S).concat(E),I=o(D);mn(D);for(let P=0;P<c.length;++P){const R=c[P],B=I[P];C[R]=B,xr(B)}await h.onBatchEnd(b,C),GG(C),b++,k++}if(a?k>=n.batchesPerEpoch:_.done){if(r){let A;C$(n.validationData)?A=Kn(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):A=Kn(t.evaluate(s,i,{batchSize:n.validationBatchSize==null?u0e:n.validationBatchSize,verbose:0}));for(let S=0;S<t.metricsNames.length;++S)x[`val_${t.metricsNames[S]}`]=A[S]}break}if(t.stopTraining_)break}if(await h.onEpochEnd(y,x),y++,t.stopTraining_)break}return await h.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function p0e(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function C$(t){return typeof t.iterator=="function"}function h0e(t){return typeof t.next=="function"}async function m0e(t,e,n){n=n||{};const a=n.batches!=null,r=t.testFunction;let s=[];if(n.verbose>0)throw new sn("Verbose mode is not implemented yet.");K(!a||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const i=h0e(e)?e:await e.iterator();let o=0,c=0;for(;!a||c<n.batches;){const l=await i.next();if(s=Ne(()=>{if(l.value){const{xs:u,ys:d}=JG(t,l.value),h=u.concat(d),m=Ne(()=>r(h));if(mn(h),c===0)for(let v=0;v<m.length;++v)s.push(Ot(0));const y=h[0].shape[0];for(let v=0;v<m.length;++v){const x=m[v],k=s[v];s[v]=Ne(()=>qe(s[v],me(y,x))),c>0&&mn(k)}mn(m),o+=y,++c}return s}),l.done){a&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let l=0;l<s.length;++l){const u=s[l];s[l]=bt(s[l],o),mn(u)}return Ns(s)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function PN(t){K(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function f0(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(a=>Mf(a,e,n-e)):Mf(t,e,n-e)}function xT(t,e){return Ne(()=>t==null?null:Array.isArray(t)?t.map(n=>xT(n,e)):TG(t,e.dtype==="int32"?e:ut(e,"int32")))}function FN(t,e){const n=[];let a=0,r=null;for(;a<t;)r=a+e,r>=t&&(r=t),n.push([a,r]),a=r;return n}function eU(t){const e=[];t instanceof ga&&(t=[t]);for(let n=0;n<t.length;++n){const a=t[n];if(a.rank===1)e.push(d1(a,1));else{if(a.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(a)}}return e}function uo(t,e){if(t==null)return;const n=[];if(e instanceof ga)n.push(e.id);else if(Array.isArray(e))e.forEach(r=>n.push(r.id));else if(e!=null)for(const r in e){const s=e[r];n.push(s.id)}const a=[];if(t instanceof ga)n.indexOf(t.id)===-1&&a.push(t);else if(Array.isArray(t))t.forEach(r=>{n.indexOf(r.id)===-1&&a.push(r)});else if(t!=null)for(const r in t){const s=t[r];n.indexOf(s.id)===-1&&a.push(s)}a.forEach(r=>{r.isDisposed||r.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function g0e(t){return t instanceof ga}function vT(t){return Array.isArray(t)}function I$(t){return!g0e(t)&&!vT(t)}function D$(t,e,n,a=!0,r=""){if(e==null||e.length===0){if(t!=null){let i=!1;if(vT(t)&&t.length>0)i=!0;else if(I$(t)){for(const o in t)if(t.hasOwnProperty(o)){i=!0;break}}else i=!0;if(i)throw new ve(`Error when checking model ${r} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(i=>null);let s;if(I$(t)){t=t,s=[];for(const i of e){if(t[i]==null)throw new ve(`No data provided for "${i}". Need data for each key in: ${e}`);s.push(t[i])}}else if(vT(t)){if(t=t,t.length!==e.length)throw new ve(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);s=t}else{if(t=t,e.length>1)throw new ve(`The model ${r} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);s=[t]}if(s=eU(s),n!=null)for(let i=0;i<e.length;++i){if(n[i]==null)continue;const o=s[i];if(o.shape.length!==n[i].length)throw new ve(`Error when checking ${r}: expected ${e[i]} to have ${n[i].length} dimension(s). but got array with shape ${o.shape}`);for(let c=0;c<n[i].length;++c){if(c===0&&!a)continue;const l=o.shape[c],u=n[i][c];if(u!=null&&u>=0&&l!==u)throw new ve(`${r} expected a batch of elements where each example has shape [${n[i].slice(1,n[i].length)}] (i.e.,tensor shape [*,${n[i].slice(1,n[i].length)}]) but the ${r} received an input with ${o.shape[0]} examples, each with shape [${o.shape.slice(1,o.shape.length)}] (tensor shape [${o.shape}])`)}}return s}function y0e(t,e,n){const a=su(t.map(s=>s.shape[0]));a.sort();const r=su(e.map(s=>s.shape[0]));if(r.sort(),a.length>1)throw new ve(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(s=>s.shape))}`);if(r.length>1)throw new ve(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(s=>s.shape))}`);if(a.length>0&&r.length>0&&!Sn(a,r))throw new ve(`Input Tensors should have the same number of samples as target Tensors. Found ${a[0]} input sample(s) and ${r[0]} target sample(s).`)}function x0e(t,e,n){const a=[f_,d_,xg];for(let r=0;r<t.length;++r){const s=t[r],i=e[r],o=n[r];if(i!=null){if(i===xg&&s.shape[s.shape.length-1]===1)throw new ve(`You are passing a target array of shape ${s.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(a.indexOf(i)!==-1){const c=s.shape.slice(1),l=o.slice(1);for(let u=0;u<c.length;++u){const d=c[u],h=l[u];if(h!=null&&d!==h)throw new ve(`A target Tensor with shape ${s.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function R$(t,e,n,a=!0,r=""){let s;if(Array.isArray(t)){if(t.length!==e.length)throw new ve(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);s=t}else{if(e.length>1)throw new ve(`The model expects ${e.length} ${r} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);s=[t]}if(n!=null)for(let i=0;i<e.length;++i){if(n[i]==null)continue;const o=s[i];if(o.shape.length!==n[i].length)throw new ve(`Error when checking ${r}: expected ${e[i]} to have ${n[i].length} dimension(s), but got array with shape ${JSON.stringify(o.shape)}`);for(let c=0;c<n[i].length;++c){if(c===0&&!a)continue;const l=o.shape[c],u=n[i][c];if(u!=null&&u!==l)throw new ve(`Error when checking ${r}: expected ${e[i]} to have shape ${JSON.stringify(n[i])} but got array with shape ${JSON.stringify(o.shape)}.`)}}}function v0e(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(a=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(a=>n);{const a=[];for(const r of e){let s=n.hasOwnProperty(r)?n[r]:[];Array.isArray(s)||(s=[s]),a.push(s)}return a}}const k0e="layers-model";class nh extends po{constructor(e){super(e),this.isTraining=!1}summary(e,n,a=console.log){if(!this.built)throw new ve("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");n0e(this,e,n,a)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=t0e(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof zu))throw new ve("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const i in e.loss)if(this.outputNames.indexOf(i)===-1)throw new ve(`Unknown entry in loss dictionary: "${i}". Only expected the following keys: ${this.outputNames}`);for(const i of this.outputNames)e.loss[i]==null&&console.warn(`Output "${i}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${i} during training`),n.push(RN(e.loss[i]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ve(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(o=>RN(o))}else{const i=RN(e.loss);this.outputs.forEach(o=>{n.push(i)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let i=0;i<this.outputs.length;++i){const o=this.internalOutputShapes[i],c=this.outputNames[i];this.feedOutputNames.push(c),this.feedOutputShapes.push(o),this.feedLossFns.push(this.lossFunctions[i])}const a=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Lf("loss",()=>{for(let i=0;i<this.outputs.length;++i){if(a.indexOf(i)!==-1)continue;const o=this.lossFunctions[i];this.outputs.length>1&&(this.metricsTensors.push([o,i]),this.metricsNames.push(this.outputNames[i]+"_loss"))}});const r=v0e(e.metrics,this.outputNames),s=(i,o,c)=>{this.outputNames.length>1&&(o=this.outputNames[i]+"_"+o),this.metricsNames.push(o),this.metricsTensors.push([c,i])};Lf("metric",()=>{for(let i=0;i<this.outputs.length;++i){if(a.indexOf(i)!==-1)continue;const o=r[i];(l=>{const u="";let d,h,m;for(const y of l){if(typeof y=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(y)!==-1){const x=this.internalOutputShapes[i];x[x.length-1]===1||this.lossFunctions[i]===d_?["accuracy","acc"].indexOf(y)!==-1?h=jG:["crossentropy","ce"].indexOf(y)!==-1&&(h=jme):this.lossFunctions[i]===Dk?["accuracy","acc"].indexOf(y)!==-1?h=Hme:["crossentropy","ce"].indexOf(y)!==-1&&(h=qG):["accuracy","acc"].indexOf(y)!==-1?h=HG:["crossentropy","ce"].indexOf(y)!==-1&&(h=KG);let k;["accuracy","acc"].indexOf(y)!==-1?k="acc":["crossentropy","ce"].indexOf(y)!==-1&&(k="ce"),m=h,d=u+k}else m=e0e(y),d=u+dv(y);let v;Lf(d,()=>{v=m}),s(i,d,v)}})(o)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,a={}){const r=a.batchSize==null?32:a.batchSize;PN(r);const i=this.standardizeUserDataXY(e,n,!0,r);try{const o=i[0].concat(i[1]);this.makeTestFunction();const c=this.testFunction,l=this.testLoop(c,o,r,a.verbose,a.steps);return Ns(l)}finally{uo(i[0],e),uo(i[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),m0e(this,e,n)}checkNumSamples(e,n,a,r="steps"){let s;if(a!=null){if(s=null,n!=null)throw new ve(`If ${r} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?s=e[0].shape[0]:s=e.shape[0];else throw new ve(`Either the input data should have a defined shape, or ${r} shoud be specified.`);return s}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new ve("`outputs` is an empty Array, which is not allowed.");const a=Array.isArray(n),r=a?n:[n],s=this.retrieveSymbolicTensors(r),i=new eu;if(e instanceof ga&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ve(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let c=0;c<this.inputs.length;++c)i.add(this.inputs[c],e[c])}else for(const c of this.inputs){const l=e[c.name];if(l==null)throw new ve(`No value is provided for the model's input ${c.name}`);i.add(c,l)}const o=k0(s,i);return a?o:o[0]}retrieveSymbolicTensors(e){const n=cd(null,e.length);let a=e.length;for(const r of this.layers){const s=Array.isArray(r.output)?r.output:[r.output],i=s.map(o=>o.name);for(let o=0;o<e.length;++o){const c=i.indexOf(e[o]);if(c!==-1&&(n[o]=s[c],a--),a===0)break}if(a===0)break}if(a>0){const r=[];throw n.forEach((s,i)=>{s==null&&r.push(e[i])}),new ve(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(r)}`)}return n}predictLoop(e,n=32,a=!1){return Ne(()=>{const r=this.checkNumSamples(e);if(a)throw new sn("Verbose predictLoop() is not implemented yet.");const s=FN(r,n),i=this.outputs.map(o=>[]);for(let o=0;o<s.length;++o)Ne(()=>{const l=s[o][0],u=s[o][1],d=f0(e,l,u),h=[];if(Array.isArray(d))for(let y=0;y<d.length;++y)h.push({key:this.inputs[y],value:d[y]});else h.push({key:this.inputs[0],value:d});const m=new eu(h);return k0(this.outputs,m)}).forEach((l,u)=>i[u].push(l));return Ns(i.map(o=>Ea(o,0)))})}predict(e,n={}){const a=eU(e);R$(a,this.inputNames,this.feedInputShapes,!1);try{const r=n.batchSize==null?32:n.batchSize;return PN(r),this.predictLoop(a,r)}finally{uo(a,e)}}predictOnBatch(e){R$(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,a=!0,r){if(this.optimizer_==null)throw new Vi("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const s=[];for(let i=0;i<this.feedOutputShapes.length;++i){const o=this.feedOutputShapes[i];this.feedLossFns[i]===Dk?s.push(o.slice(0,o.length-1).concat([1])):s.push(o)}if(e=D$(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=D$(n,this.feedOutputNames,s,!1,"target"),y0e(e,n),x0e(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&r!=null&&r>0&&e[0].shape[0]%r!==0)throw new ve(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,a,r,s=!0,i){const[o,c]=this.standardizeUserDataXY(e,n,s,i);if(a!=null)throw new Error("sample weight is not supported yet.");let l=null;if(r!=null){const u=ZG(r,this.outputNames);l=[];for(let d=0;d<u.length;++d)l.push(await QG(c[d],null,u[d]))}return[o,c,l]}testLoop(e,n,a,r=0,s){return Ne(()=>{const i=this.checkNumSamples(n,a,s,"steps"),o=[];if(r>0)throw new sn("Verbose mode is not implemented yet.");if(s!=null)throw new sn("steps mode in testLoop() is not implemented yet");{const c=FN(i,a),l=us(Eo(0,i));for(let u=0;u<c.length;++u){const d=c[u][0],h=c[u][1],m=Mf(l,d,h-d),y=xT(n,m),v=e(y);if(u===0)for(let x=0;x<v.length;++x)o.push(Ot(0));for(let x=0;x<v.length;++x){const k=v[x];o[x]=qe(o[x],me(h-d,k))}}for(let u=0;u<o.length;++u)o[u]=bt(o[u],i)}return o})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let a=0;a<e.length;++a){const r=e[a];let s=r;if(g$(e,r)>1){const i=g$(e.slice(0,a),r);s+=`_${i}`}n.push(s)}return n}makeTrainFunction(){return e=>{const n=[],a=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),i=[],o=()=>{const d=[];for(let v=0;v<this.inputs.length;++v)d.push({key:this.inputs[v],value:a[v]});const h=new eu(d),m=k0(this.outputs,h,{training:!0});let y;for(let v=0;v<this.lossFunctions.length;++v){const x=this.lossFunctions[v];let k=x(r[v],m[v]);s[v]!=null&&(k=l0e(k,s[v]));const b=Sa(k);n.push(b),v===0?y=k:y=qe(y,k)}for(let v=0;v<this.metricsTensors.length;++v){let x;if(this.outputs.length>1&&v<this.outputs.length)x=n[v];else{const k=this.metricsTensors[v][0],b=this.metricsTensors[v][1];x=Sa(k(r[b],m[b]))}xr(x),i.push(x)}return y=Sa(y),this.calculateLosses().forEach(v=>{y=qe(y,v)}),y},c=this.collectedTrainableWeights.map(d=>d.read());return[this.optimizer_.minimize(o,!0,c)].concat(i)}}makeTestFunction(){this.testFunction=e=>Ne(()=>{const n=[];let a;const r=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let l=0;l<this.inputs.length;++l)i.push({key:this.inputs[l],value:r[l]});const o=new eu(i),c=k0(this.outputs,o);for(let l=0;l<this.lossFunctions.length;++l){const u=this.lossFunctions[l],d=Sa(u(s[l],c[l]));l===0?a=d:a=qe(a,d),n.push(a)}for(let l=0;l<this.metricsTensors.length;++l){const u=this.metricsTensors[l][0],d=this.metricsTensors[l][1],h=Sa(u(s[d],c[d]));n.push(h)}return n})}async fit(e,n,a={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let r,s,i,o,c,l,u,d,h;try{const m=a.batchSize==null?32:a.batchSize;PN(m);const v=await this.standardizeUserData(e,n,a.sampleWeight,a.classWeight,!1,m);r=v[0],s=v[1],h=v[2];let x=!1,k;if(a.validationData!=null&&a.validationData.length>0){if(x=!0,a.validationData.length===2)c=a.validationData[0],l=a.validationData[1];else throw a.validationData.length===3?new sn("validationData including sample weights is not supported yet."):new ve(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${a.validationData} is invalid.`);const P=await this.standardizeUserData(c,l,null,null,!0,m);u=P[0],d=P[1],k=u.concat(d)}else if(a.validationSplit!=null&&a.validationSplit>0&&a.validationSplit<1){x=!0;const I=Math.floor(r[0].shape[0]*(1-a.validationSplit)),P=r[0].shape[0];u=f0(r,I,P),i=r,r=f0(r,0,I),d=f0(s,I,P),o=s,s=f0(s,0,I),k=u.concat(d)}else a.validationSteps!=null&&(x=!0);const b=r.concat(s).concat(h);this.checkTrainableWeightsConsistency();const _=this.makeTrainFunction(),A=this.getDedupedMetricsNames();let S,C;x?(this.makeTestFunction(),S=this.testFunction,C=A.slice().concat(A.map(I=>"val_"+I))):(S=null,k=[],C=A.slice());const E=UG(a.callbacks,a.yieldEvery);return await this.fitLoop(_,b,A,m,a.epochs,a.verbose,E,S,k,a.shuffle,C,a.initialEpoch,null,null)}finally{this.isTraining=!1,uo(r,e),uo(s,n),uo(i,e),uo(o,n),uo(u,c),uo(d,l),h!=null&&mn(h)}}async fitLoop(e,n,a,r,s,i,o,c,l,u,d,h,m,y){r==null&&(r=32),s==null&&(s=1),u==null&&(u=!0),h==null&&(h=0);let v=!1;if(c!=null&&l!=null&&(v=!0),y!=null&&(v=!0,m==null))throw new ve("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const x=this.checkNumSamples(n,r,m,"steps_per_epoch");let k;x!=null&&(k=Eo(0,x)),i==null&&(i=1);const{callbackList:b,history:_}=WG(o,i,s,h,x,m,r,v,d);b.setModel(this),this.history=_,await b.onTrainBegin(),this.stopTraining_=!1;for(let A=h;A<s;++A){await b.onEpochBegin(A);const S={};if(m!=null)throw new sn("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new sn("batch shuffling is not implemneted yet");u&&ure(k);const C=us(k),E=FN(x,r);for(let D=0;D<E.length;++D){const I={};if(await b.onBatchBegin(D,I),Ne(()=>{const P=E[D][0],R=E[D][1],B=Mf(C,P,R-P);I.batch=D,I.size=R-P;const U=xT(n,B),V=e(U);for(let j=0;j<a.length;++j){const W=a[j],J=V[j];I[W]=J,xr(J)}if(D===E.length-1&&v){const j=this.testLoop(c,l,r);for(let W=0;W<a.length;++W){const J=a[W],q=j[W];xr(q),S["val_"+J]=q}}}),await b.onBatchEnd(D,I),GG(I),this.stopTraining_)break}C.dispose()}if(await b.onEpochEnd(A,S),this.stopTraining_)break}return await b.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return d0e(this,e,n)}async trainOnBatch(e,n){const a=await this.standardizeUserData(e,n),r=a[0],s=a[1],o=this.makeTrainFunction()(r.concat(s)),c=[];for(const l of o){const u=await l.data();c.push(u[0])}return mn(o),uo(a[0],e),uo(a[1],n),Ns(c)}getNamedWeights(e){const n=[],a=e!=null&&e.trainableOnly,r=a?this.trainableWeights:this.weights,s=this.getWeights(a);for(let i=0;i<r.length;++i)a&&!r[i].trainable||n.push({name:r[i].originalName,tensor:s[i]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=jO().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-jO().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=Kc(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>Kc(n))}else{const n=Object.keys(this.loss);e={};const a=this.loss;for(const r of n)if(typeof a[r]=="string")e[r]=Kc(a[r]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[Kc(dv(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>Kc(dv(e)));{const e={};for(const n in this.metrics)e[n]=Kc(dv(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=gT(e.optimizer_config),a=nl(n);let r;if(typeof e.loss=="string")r=Af(e.loss);else if(Array.isArray(e.loss))r=e.loss.map(i=>Af(i));else if(e.loss!=null){r={};for(const i in e.loss)r[i]=Af(e.loss[i])}let s;if(Array.isArray(e.metrics))s=e.metrics.map(i=>Af(i));else if(e.metrics!=null){s={};for(const i in e.metrics)s[i]=Af(e.metrics[i])}this.compile({loss:r,metrics:s,optimizer:a})}async save(e,n){if(typeof e=="string"){const l=f8(e);if(l.length===0)throw new ve(`Cannot find any save handlers for URL '${e}'`);if(l.length>1)throw new ve(`Found more than one (${l.length}) save handlers for URL '${e}'`);e=l[0]}if(e.save==null)throw new ve("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const a=await JS(this.getNamedWeights(n)),o={modelTopology:this.toJSON(null,!1),format:k0e,generatedBy:`TensorFlow.js tfjs-layers v${YG}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){o.trainingConfig=this.getTrainingConfig();const l="optimizer",{data:u,specs:d}=await JS(await this.optimizer.getWeights(),l);a.specs.push(...d),a.data=c8([a.data,u])}return this.userDefinedMetadata!=null&&(T$(this.userDefinedMetadata,this.name,!0),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=a.data,o.weightSpecs=a.specs,e.save(o)}setUserDefinedMetadata(e){T$(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}nh.className="Model";Ye(nh);class tU extends nh{}tU.className="Functional";Ye(tU);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class vg extends nh{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:c_("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(a=>a<0))throw new ve(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof vg||e instanceof nh;let a;if(n){if(a=e,a.outputs.length!==1)throw new ve("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(a.inputs.length!==1)throw new ve("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new ve("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const r=bme({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(r)}if(n)this.outputs=a.outputs,this.inputs=a.inputs;else{if(e.inboundNodes.length!==1)throw new ve(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new ve("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=$G(this.outputs[0])}this.inboundNodes=[],new u_({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:cd(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(r=>r.shape),outputShapes:this.outputs[0].shape})}else{const r=e.apply(this.outputs[0]);if(Array.isArray(r))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[r],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(Ln(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new nh({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,a=console.log){this.built||this.build(),super.summary(e,n,a)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,a={}){if(!this.built)throw new Vi("The model needs to be compiled before being used.");return this.model.evaluate(e,n,a)}async evaluateDataset(e,n){if(!this.built)throw new Vi("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,a={}){if(!this.built)throw new Vi("The model needs to be compiled before being used.");return this.model.fit(e,n,a)}async fitDataset(e,n){if(!this.built)throw new Vi("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,a={},r=!1){let s,i={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new ve("Legacy serialization format not supported yet.");s=n}else K(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),s=n.layers,delete n.layers,i=n;const o=new e(i);if(!(o instanceof vg))throw new sn(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(const c of s){const u=nl(c,void 0,r);r&&u.setFastWeightInitDuringBuild(!0),o.add(u)}return o}set stopTraining(e){if(this.model==null)throw new ve("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new ve("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const a={};a.className=n.getClassName(),a.config=n.getConfig(),e.push(a)}return{name:this.name,layers:e}}}vg.className="Sequential";Ye(vg);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Hr=class extends Xh{getConfig(){return{}}};class nU extends Hr{apply(e,n=1){return ime(e,n)}}nU.className="elu";Ye(nU);class aU extends Hr{apply(e){return gI(e)}}aU.className="selu";Ye(aU);class rU extends Hr{apply(e){return bc(e)}}rU.className="relu";Ye(rU);class sU extends Hr{apply(e){return Ne(()=>id(6,bc(e)))}}sU.className="relu6";Ye(sU);class iU extends Hr{apply(e){return e}}iU.className="linear";Ye(iU);class oU extends Hr{apply(e){return ic(e)}}oU.className="sigmoid";Ye(oU);class cU extends Hr{apply(e){return cme(e)}}cU.className="hardSigmoid";Ye(cU);class lU extends Hr{apply(e){return Hh(e)}}lU.className="softplus";Ye(lU);class uU extends Hr{apply(e){return ome(e)}}uU.className="softsign";Ye(uU);class fU extends Hr{apply(e){return sd(e)}}fU.className="tanh";Ye(fU);let b3=class extends Hr{apply(e,n=-1){return Zb(e,n)}};b3.className="softmax";Ye(b3);class dU extends Hr{apply(e,n=-1){return oI(e,n)}}dU.className="logSoftmax";Ye(dU);class pU extends Hr{apply(e){return Ne(()=>Ne(()=>{const n=Math.sqrt(2),a=me(.5,qe(1,rI(bt(e,n))));return me(e,a)}))}}pU.className="gelu";Ye(pU);class hU extends Hr{apply(e){return Ne(()=>me(.5,me(e,qe(1,sd(me(Or(bt(2,Math.PI)),qe(e,me(.044715,ul(e,3)))))))))}}hU.className="gelu_new";Ye(hU);class mU extends Hr{apply(e){return Ne(()=>me(e,sd(Hh(e))))}}mU.className="mish";Ye(mU);class gU extends Hr{apply(e,n=1){return Ne(()=>me(ic(me(e,n)),e))}}gU.className="swish";Ye(gU);function vu(t){return t.getClassName()}function ON(t,e={}){return f1(t,Gi.getMap().classNameMap,e,"activation")}function ku(t){if(t==null){const e={};return e.className="linear",e.config={},ON(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},ON(e)}else return t instanceof Hr?t:ON(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function w0e(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class yU extends Xh{}class xU extends yU{constructor(e){super(),w0e(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return Ne(()=>{let n=tr([1]);return this.hasL1&&(n=qe(n,xt(me(this.l1,er(e))))),this.hasL2&&(n=qe(n,xt(me(this.l2,p1(e))))),xe(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}xU.className="L1L2";Ye(xU);const P$={l1l2:"L1L2"};function na(t){return c3(t)}function F$(t,e={}){return f1(t,Gi.getMap().classNameMap,e,"regularizer")}function ha(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in P$?P$[t]:t,config:{}};return F$(n)}else return t instanceof yU?t:F$(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class vU extends xn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=Ut(e);let a=bc(e);return this.maxValue!=null&&(a=Hs(a,0,this.maxValue)),a}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}vU.className="ReLU";Ye(vU);class kU extends xn{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const a=Ut(e);return zb(a,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}kU.className="LeakyReLU";Ye(kU);class wU extends xn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=da(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=ha(e.alphaRegularizer),this.alphaConstraint=ir(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new ve(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=Ln(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const r of this.sharedAxes)n[r-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const a={};if(this.sharedAxes!=null)for(let r=1;r<e.length;++r)a[r]=e[r];this.inputSpec=[new ar({ndim:e.length,axes:a})],this.built=!0}call(e,n){return e=Ut(e),Kb(e,this.alpha.read())}getConfig(){const e={alphaInitializer:ya(this.alphaInitializer),alphaRegularizer:na(this.alphaRegularizer),alphaConstraint:sr(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}wU.className="PReLU";Ye(wU);let bU=class extends xn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new sn(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const a=Ut(e);return r1(a)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};bU.className="ELU";Ye(bU);class _U extends xn{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const a=Ut(e);return me(a,ut(Js(a,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}_U.className="ThresholdedReLU";Ye(_U);class AU extends xn{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new b3().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){return Ne(()=>{let a=Ut(e);const r=n.mask;if(r!=null){const s=me(mt(Ws(a.shape),ut(r,a.dtype)),Ot(-1e9));a=qe(a,s)}return this.axis instanceof Array?this.axis.length>1?Ks(mt(a,Ub(a,this.axis,!0))):this.softmax(a,this.axis[0]):this.softmax(a,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}AU.className="Softmax";Ye(AU);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ah(t,e,n){if(typeof t=="number")return cd(t,e);if(t.length!==e)throw new ve(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let a=0;a<e;++a){const r=t[a];if(!nme(r))throw new ve(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${r}`)}return t}function wo(t,e,n,a,r=1){if(t==null)return t;const s=e+(e-1)*(r-1);let i;return n==="same"?i=t:i=t-s+1,Math.floor((i+a-1)/a)}function Yo(t,e,n,a){if(t==null)return null;if(a==="valid")t=t*e+xu([n-e,0]);else if(a==="same")t=t*e;else throw new ve(`Unsupport padding mode: ${a}.`);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function _3(t,e){return Ne(()=>(za(e),e==="channelsFirst"?In(t,[0,2,3,1]):t))}function NU(t,e){return Ne(()=>(za(e),e==="channelsFirst"?In(t,[0,2,3,4,1]):t))}function b0e(t,e,n,a=1,r="valid",s,i=1){return Ne(()=>{if(s==null&&(s=Co()),za(s),t.shape.length!==3)throw new ve(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new ve(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new ve(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if(s==="channelsFirst"&&(t=In(t,[0,2,1])),r==="causal")throw new sn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=JC(t,e,a,r==="same"?"same":"valid","NWC",i);return n!=null&&(o=$o(o,n)),o})}function O$(t,e,n,a=[1,1],r="valid",s,i,o=null){return Ne(()=>{if(s==null&&(s=Co()),za(s),t.rank!==3&&t.rank!==4)throw new ve(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new ve(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let c=_3(t,s);if(r==="causal")throw new sn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=xz({x:c,filter:e,strides:a,pad:r==="same"?"same":"valid",dilations:i,dataFormat:"NHWC",bias:n,activation:o}),s==="channelsFirst"&&(c=In(c,[0,3,1,2])),c})}function _0e(t,e,n,a=[1,1,1],r="valid",s,i){return Ne(()=>{if(s==null&&(s=Co()),za(s),t.rank!==4&&t.rank!==5)throw new ve(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new ve(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let o=NU(t,s);if(r==="causal")throw new sn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=M8(o,e,a,r==="same"?"same":"valid","NDHWC",i),n!=null&&(o=$o(o,n)),s==="channelsFirst"&&(o=In(o,[0,4,1,2,3])),o})}class p_ extends xn{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",p_.verifyArgs(n),this.rank=e,vr(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new sn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=ah(n.kernelSize,e,"kernelSize"),this.strides=ah(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,yi(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,za(this.dataFormat),this.activation=ku(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=da(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=ir(n.biasConstraint),this.biasRegularizer=ha(n.biasRegularizer),this.activityRegularizer=ha(n.activityRegularizer),this.dilationRate=ah(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new ve(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new ve(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new ve(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(Xo("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!l3(e.kernelSize,"number",1,3))throw new ve(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:vu(this.activation),useBias:this.useBias,biasInitializer:ya(this.biasInitializer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),biasConstraint:sr(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class Yh extends p_{constructor(e,n){super(e,n),this.kernel=null,Yh.verifyArgs(n),this.filters=n.filters,vr(this.filters,"filters"),this.kernelInitializer=da(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=ir(n.kernelConstraint),this.kernelRegularizer=ha(n.kernelRegularizer)}build(e){e=Ln(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new ve(`The channel dimension of the input should be defined. Found ${e[n]}`);const a=e[n],r=this.kernelSize.concat([a,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:a}}],this.built=!0}call(e,n){return Ne(()=>{e=Ut(e);let a;const r=this.bias==null?null:this.bias.read(),s=wG(this.activation.getClassName());if(s!=null&&this.rank===2)a=O$(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate,s);else{if(this.rank===1)a=b0e(e,this.kernel.read(),r,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)a=O$(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)a=_0e(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new sn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(a=this.activation.apply(a))}return a})}computeOutputShape(e){e=Ln(e);const n=[],a=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let s=0;s<a.length;++s){const i=wo(a[s],this.kernelSize[s],this.padding,this.strides[s],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[s]);n.push(i)}let r=[e[0]];return this.dataFormat==="channelsLast"?(r=r.concat(n),r.push(this.filters)):(r.push(this.filters),r=r.concat(n)),r}getConfig(){const e={filters:this.filters,kernelInitializer:ya(this.kernelInitializer),kernelRegularizer:na(this.kernelRegularizer),kernelConstraint:sr(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new ve(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class y1 extends Yh{constructor(e){super(2,e),y1.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!l3(e.kernelSize,"number",1,2))throw new ve(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}y1.className="Conv2D";Ye(y1);class x1 extends Yh{constructor(e){super(3,e),x1.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new ve(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}x1.className="Conv3D";Ye(x1);class SU extends y1{constructor(e){if(super(e),this.inputSpec=[new ar({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new ve(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Ln(e),e.length!==4)throw new ve("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new ve("The channel dimension of the inputs should be defined. Found `None`.");const a=e[n],r=this.kernelSize.concat([this.filters,a]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ar({ndim:4,axes:{[n]:a}})],this.built=!0}call(e,n){return Ne(()=>{let a=Ut(e);if(a.shape.length!==4)throw new ve(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${a.shape.length}`);const r=a.shape,s=r[0];let i,o;this.dataFormat==="channelsFirst"?(i=2,o=3):(i=1,o=2);const c=r[i],l=r[o],u=this.kernelSize[0],d=this.kernelSize[1],h=this.strides[0],m=this.strides[1],y=Yo(c,h,u,this.padding),v=Yo(l,m,d,this.padding),x=[s,y,v,this.filters];this.dataFormat!=="channelsLast"&&(a=In(a,[0,2,3,1]));let k=tI(a,this.kernel.read(),x,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(k=In(k,[0,3,1,2])),this.bias!=null&&(k=$o(k,this.bias.read(),this.dataFormat)),this.activation!=null&&(k=this.activation.apply(k)),k})}computeOutputShape(e){e=Ln(e);const n=e.slice();let a,r,s;this.dataFormat==="channelsFirst"?(a=1,r=2,s=3):(a=3,r=1,s=2);const i=this.kernelSize[0],o=this.kernelSize[1],c=this.strides[0],l=this.strides[1];return n[a]=this.filters,n[r]=Yo(n[r],c,i,this.padding),n[s]=Yo(n[s],l,o,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}SU.className="Conv2DTranspose";Ye(SU);class TU extends x1{constructor(e){if(super(e),this.inputSpec=[new ar({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new ve(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Ln(e),e.length!==5)throw new ve("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new ve("The channel dimension of the inputs should be defined. Found `None`.");const a=e[n],r=this.kernelSize.concat([this.filters,a]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ar({ndim:5,axes:{[n]:a}})],this.built=!0}call(e,n){return Ne(()=>{let a=Ut(e);if(a.shape.length!==5)throw new ve(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${a.shape.length}`);const r=a.shape,s=r[0];let i,o,c;this.dataFormat==="channelsFirst"?(c=2,i=3,o=4):(c=1,i=2,o=3);const l=r[c],u=r[i],d=r[o],h=this.kernelSize[0],m=this.kernelSize[1],y=this.kernelSize[2],v=this.strides[0],x=this.strides[1],k=this.strides[2],b=Yo(l,v,h,this.padding),_=Yo(u,x,m,this.padding),A=Yo(d,k,y,this.padding),S=[s,b,_,A,this.filters];this.dataFormat!=="channelsLast"&&(a=In(a,[0,2,3,4,1]));let C=z8(a,this.kernel.read(),S,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(C=In(C,[0,4,1,2,3])),this.bias!==null&&(C=$o(C,this.bias.read(),this.dataFormat)),this.activation!==null&&(C=this.activation.apply(C)),C})}computeOutputShape(e){e=Ln(e);const n=e.slice();let a,r,s,i;this.dataFormat==="channelsFirst"?(a=1,r=2,s=3,i=4):(a=4,r=1,s=2,i=3);const o=this.kernelSize[0],c=this.kernelSize[1],l=this.kernelSize[2],u=this.strides[0],d=this.strides[1],h=this.strides[2];return n[a]=this.filters,n[r]=Yo(n[r],u,o,this.padding),n[s]=Yo(n[s],d,c,this.padding),n[i]=Yo(n[i],h,l,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}TU.className="Conv3DTranspose";Ye(TU);class EU extends Yh{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new ve("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new ve("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new ve(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=da(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=ha(n.depthwiseRegularizer),this.depthwiseConstraint=ir(n.depthwiseConstraint),this.pointwiseInitializer=da(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=ha(n.pointwiseRegularizer),this.pointwiseConstraint=ir(n.pointwiseConstraint)}build(e){if(e=Ln(e),e.length<this.rank+2)throw new ve(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new ve(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const a=e[n],r=this.kernelSize.concat([a,this.depthMultiplier]),s=[];for(let o=0;o<this.rank;++o)s.push(1);s.push(a*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",s,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new ar({ndim:this.rank+2,axes:{[n]:a}})],this.built=!0}call(e,n){return Ne(()=>{e=Ut(e);let a;if(this.rank===1)throw new sn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=In(e,[0,2,3,1])),a=yI(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(a=$o(a,this.bias.read(),this.dataFormat)),this.activation!=null&&(a=this.activation.apply(a)),this.dataFormat==="channelsFirst"&&(a=In(a,[0,3,1,2])),a})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=ya(this.depthwiseInitializer),e.pointwiseInitializer=ya(this.pointwiseInitializer),e.depthwiseRegularizer=na(this.depthwiseRegularizer),e.pointwiseRegularizer=na(this.pointwiseRegularizer),e.depthwiseConstraint=sr(this.depthwiseConstraint),e.pointwiseConstraint=sr(this.pointwiseConstraint),e}}EU.className="SeparableConv";class CU extends EU{constructor(e){super(2,e)}}CU.className="SeparableConv2D";Ye(CU);class h_ extends Yh{constructor(e){super(1,e),h_.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!l3(e.kernelSize,"number",1,1))throw new ve(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}h_.className="Conv1D";Ye(h_);class IU extends xn{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return Ne(()=>{if(e=Ut(e),this.dataFormat==="channelsLast"){const a=fv(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return fv(a,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const a=fv(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return fv(a,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}IU.className="Cropping2D";Ye(IU);class DU extends xn{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,za(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,Jhe(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],a=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,a]}else{const n=e[1]==null?null:this.size[0]*e[1],a=e[2]==null?null:this.size[1]*e[2];return[e[0],n,a,e[3]]}}call(e,n){return Ne(()=>{let a=Ut(e);const r=a.shape;if(this.dataFormat==="channelsFirst"){a=In(a,[0,2,3,1]);const s=this.size[0]*r[2],i=this.size[1]*r[3],o=this.interpolation==="nearest"?Wi.resizeNearestNeighbor(a,[s,i]):Wi.resizeBilinear(a,[s,i]);return In(o,[0,3,1,2])}else{const s=this.size[0]*r[1],i=this.size[1]*r[2];return this.interpolation==="nearest"?Wi.resizeNearestNeighbor(a,[s,i]):Wi.resizeBilinear(a,[s,i])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}DU.className="UpSampling2D";Ye(DU);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function A0e(t,e,n=[1,1],a="valid",r,s){return Ne(()=>{r==null&&(r=Co()),za(r);let i=_3(t,r);if(t.rank!==4)throw new ve(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new ve(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return i=a1(i,e,n,a==="same"?"same":"valid","NHWC",s),r==="channelsFirst"&&(i=In(i,[0,3,1,2])),i})}class RU extends p_{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=da(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=ir(e.depthwiseConstraint),this.depthwiseRegularizer=ha(e.depthwiseRegularizer)}build(e){if(e=Ln(e),e.length<4)throw new ve(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new ve(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const a=e[n],r=[this.kernelSize[0],this.kernelSize[1],a,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[a*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Ne(()=>{e=Ut(e);let a=A0e(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(a=$o(a,this.bias.read(),this.dataFormat)),this.activation!=null&&(a=this.activation.apply(a)),a})}computeOutputShape(e){e=Ln(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],a=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,s=wo(n,this.kernelSize[0],this.padding,this.strides[0]),i=wo(a,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],r,s,i]:[e[0],s,i,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=ya(this.depthwiseInitializer),e.depthwiseRegularizer=na(this.depthwiseRegularizer),e.depthwiseConstraint=sr(this.depthwiseRegularizer),e}}RU.className="DepthwiseConv2D";Ye(RU);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function PU(t,e,n,a){if(Array.isArray(t)){if(e!=null||n!=null)throw new ve("When inputs is an array, neither initialState or constants should be provided");a!=null&&(n=t.slice(t.length-a,t.length),t=t.slice(0,t.length-a)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function r(s){return s==null||Array.isArray(s)?s:[s]}return e=r(e),n=r(n),{inputs:t,initialState:e,constants:n}}function FU(t,e,n,a=!1,r,s,i=!1,o=!1){return Ne(()=>{const c=e.shape.length;if(c<3)throw new ve(`Input should be at least 3D, but is ${c}D.`);const l=[1,0].concat(Eo(2,c));e=In(e,l),i&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),r!=null&&(r=ut(ut(r,"bool"),"float32"),r.rank===c-1&&(r=is(r,-1)),r=In(r,l)),a&&(e=Zi(e,0),r!=null&&(r=Zi(r,0)));const u=[];let d,h=n;const m=e.shape[0],y=Qi(e);let v;r!=null&&(v=Qi(r));for(let k=0;k<m;++k){const b=y[k],_=Ne(()=>t(b,h));if(r==null)d=_[0],h=_[1];else{const A=Ne(()=>{const S=v[k],C=mt(di(S),S),E=qe(me(_[0],S),me(h[0],C)),D=h.map((I,P)=>qe(me(_[1][P],S),me(I,C)));return{output:E,newStates:D}});d=A.output,h=A.newStates}o&&u.push(d)}let x;return o&&(x=qs(u,1)),[d,x,h]})}class Gu extends xn{constructor(e){super(e);let n;if(e.cell==null)throw new ve("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new S3({cells:e.cell}):n=e.cell,n.stateSize==null)throw new ve("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new ar({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Eo(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){pT(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const a=n[0];let r;if(this.returnSequences?r=[e[0],e[1],a]:r=[e[0],a],this.returnState){const s=[];for(const i of n)s.push([e[0],i]);return[r].concat(s)}else return r}computeMask(e,n){return Ne(()=>{Array.isArray(n)&&(n=n[0]);const a=this.returnSequences?n:null;if(this.returnState){const r=this.states.map(s=>null);return[a].concat(r)}else return a})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let a=0;a<e;++a)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new sn("Constants support is not implemented in RNN yet.");pT(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,a=e.slice(2);this.inputSpec[0]=new ar({shape:[n,null,...a]});const r=[e[0]].concat(e.slice(2));this.cell.build(r);let s;if(Array.isArray(this.cell.stateSize)?s=this.cell.stateSize:s=[this.cell.stateSize],this.stateSpec!=null){if(!Sn(this.stateSpec.map(i=>i.shape[i.shape.length-1]),s))throw new ve(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=s.map(i=>new ar({shape:[null,i]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){Ne(()=>{if(!this.stateful)throw new qo("Cannot call resetStates() on an RNN Layer that is not stateful.");const a=this.inputSpec[0].shape[0];if(a==null)throw new ve("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>tr([a,r])):this.states_=[tr([a,this.cell.stateSize])];else if(e==null)mn(this.states_),this.keptStates!=null&&(mn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>tr([a,r])):this.states_[0]=tr([a,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ve(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):mn(this.states_);for(let r=0;r<this.states_.length;++r){const s=e[r],i=Array.isArray(this.cell.stateSize)?this.cell.stateSize[r]:this.cell.stateSize,o=[a,i];if(!Sn(s.shape,o))throw new ve(`State ${r} is incompatible with layer ${this.name}: expected shape=${o}, received shape=${s.shape}`);this.states_[r]=s}}this.states_=this.states_.map(r=>xr(r.clone()))})}apply(e,n){let a=n==null?null:n.initialState,r=n==null?null:n.constants;n==null&&(n={});const s=PU(e,a,r,this.numConstants);e=s.inputs,a=s.initialState,r=s.constants;let i=[],o=[];if(a!=null){n.initialState=a,i=i.concat(a),this.stateSpec=[];for(const l of a)this.stateSpec.push(new ar({shape:l.shape}));o=o.concat(this.stateSpec)}if(r!=null&&(n.constants=r,i=i.concat(r),this.numConstants=r.length),i[0]instanceof mc){const l=[e].concat(i),u=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=u;const h=super.apply(l,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return Ne(()=>{const a=n==null?null:n.mask,r=n==null?null:n.training;let s=n==null?null:n.initialState;e=Ut(e),s==null&&(this.stateful?s=this.states_:s=this.getInitialState(e));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(s.length!==i)throw new ve(`RNN Layer has ${i} state(s) but was passed ${s.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const o={training:r},l=FU((y,v)=>{const x=this.cell.call([y].concat(v),o);return[x[0],x.slice(1)]},e,s,this.goBackwards,a,null,this.unroll,this.returnSequences),u=l[0],d=l[1],h=l[2];this.stateful&&this.resetStates(h,r);const m=this.returnSequences?d:u;return this.returnState?[m].concat(h):m})}getInitialState(e){return Ne(()=>{let n=tr(e.shape);return n=xt(n,[1,2]),n=d1(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(a=>a>1?fT(n,[1,a]):n):this.cell.stateSize>1?[fT(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const a=this.cell.getConfig();return this.getClassName()===Gu.className&&(n.cell={className:this.cell.getClassName(),config:a}),Object.assign(Object.assign(Object.assign({},a),e),n)}static fromConfig(e,n,a={}){const r=n.cell,s=nl(r,a);return new e(Object.assign(n,{cell:s}))}}Gu.className="RNN";Ye(Gu);class m_ extends xn{}class A3 extends m_{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,vr(this.units,"units"),this.activation=ku(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=da(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=da(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=da(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=ha(e.kernelRegularizer),this.recurrentRegularizer=ha(e.recurrentRegularizer),this.biasRegularizer=ha(e.biasRegularizer),this.kernelConstraint=ir(e.kernelConstraint),this.recurrentConstraint=ir(e.recurrentConstraint),this.biasConstraint=ir(e.biasConstraint),this.dropout=vh([1,xu([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=vh([1,xu([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Ln(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Ne(()=>{if(e=e,e.length!==2)throw new ve(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let a=e[1];e=e[0];const r=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=wu({ones:()=>di(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=wu({ones:()=>di(a),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));let s;const i=this.dropoutMask,o=this.recurrentDropoutMask;i!=null?s=lc(me(e,i),this.kernel.read()):s=lc(e,this.kernel.read()),this.bias!=null&&(s=$o(s,this.bias.read())),o!=null&&(a=me(a,o));let c=qe(s,lc(a,this.recurrentKernel.read()));return this.activation!=null&&(c=this.activation.apply(c)),[c,c]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:vu(this.activation),useBias:this.useBias,kernelInitializer:ya(this.kernelInitializer),recurrentInitializer:ya(this.recurrentInitializer),biasInitializer:ya(this.biasInitializer),kernelRegularizer:na(this.kernelRegularizer),recurrentRegularizer:na(this.recurrentRegularizer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),kernelConstraint:sr(this.kernelConstraint),recurrentConstraint:sr(this.recurrentConstraint),biasConstraint:sr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}A3.className="SimpleRNNCell";Ye(A3);class OU extends Gu{constructor(e){e.cell=new A3(e),super(e)}call(e,n){return Ne(()=>{this.cell.dropoutMask!=null&&(mn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(mn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const a=n==null?null:n.mask,r=n==null?null:n.training,s=n==null?null:n.initialState;return super.call(e,{mask:a,training:r,initialState:s})})}static fromConfig(e,n){return new e(n)}}OU.className="SimpleRNN";Ye(OU);class N3 extends m_{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new ve("GRUCell does not support reset_after parameter set to true.");this.units=e.units,vr(this.units,"units"),this.activation=ku(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ku(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=da(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=da(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=da(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=ha(e.kernelRegularizer),this.recurrentRegularizer=ha(e.recurrentRegularizer),this.biasRegularizer=ha(e.biasRegularizer),this.kernelConstraint=ir(e.kernelConstraint),this.recurrentConstraint=ir(e.recurrentConstraint),this.biasConstraint=ir(e.biasConstraint),this.dropout=vh([1,xu([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=vh([1,xu([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Ln(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Ne(()=>{if(e=e,e.length!==2)throw new ve(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const a=n.training==null?!1:n.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=wu({ones:()=>di(e),rate:this.dropout,training:a,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=wu({ones:()=>di(r),rate:this.recurrentDropout,training:a,count:3,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,i=this.recurrentDropoutMask;let o,c,l;0<this.dropout&&this.dropout<1&&(e=me(e,s[0]));let u=lc(e,this.kernel.read());this.useBias&&(u=$o(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=me(r,i[0]));const d=this.recurrentKernel.read(),[h,m]=Vs(d,[2*this.units,this.units],d.rank-1),y=lc(r,h),[v,x,k]=Vs(u,3,u.rank-1),[b,_]=Vs(y,2,y.rank-1);o=this.recurrentActivation.apply(qe(v,b)),c=this.recurrentActivation.apply(qe(x,_));const A=lc(me(c,r),m);l=this.activation.apply(qe(k,A));const S=qe(me(o,r),me(qe(1,fa(o)),l));return[S,S]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:vu(this.activation),recurrentActivation:vu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:ya(this.kernelInitializer),recurrentInitializer:ya(this.recurrentInitializer),biasInitializer:ya(this.biasInitializer),kernelRegularizer:na(this.kernelRegularizer),recurrentRegularizer:na(this.recurrentRegularizer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),kernelConstraint:sr(this.kernelConstraint),recurrentConstraint:sr(this.recurrentConstraint),biasConstraint:sr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}N3.className="GRUCell";Ye(N3);class $U extends Gu{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new N3(e),super(e)}call(e,n){return Ne(()=>{this.cell.dropoutMask!=null&&(mn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(mn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const a=n==null?null:n.mask,r=n==null?null:n.training,s=n==null?null:n.initialState;return super.call(e,{mask:a,training:r,initialState:s})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}$U.className="GRU";Ye($U);class g_ extends m_{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,vr(this.units,"units"),this.activation=ku(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ku(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=da(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=da(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=da(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=ha(e.kernelRegularizer),this.recurrentRegularizer=ha(e.recurrentRegularizer),this.biasRegularizer=ha(e.biasRegularizer),this.kernelConstraint=ir(e.kernelConstraint),this.recurrentConstraint=ir(e.recurrentConstraint),this.biasConstraint=ir(e.biasConstraint),this.dropout=vh([1,xu([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=vh([1,xu([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=Ln(e);const a=e[e.length-1];this.kernel=this.addWeight("kernel",[a,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let r;if(this.useBias){if(this.unitForgetBias){const s=this.biasInitializer,i=this.units;r=new(n=class extends eo{apply(c,l){const u=s.apply([i]),d=new f3().apply([i]),h=s.apply([i*2]);return x$(x$(u,d),h)}},n.className="CustomInit",n)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return Ne(()=>{const a=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new ve(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const s=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=wu({ones:()=>di(e),rate:this.dropout,training:a,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=wu({ones:()=>di(r),rate:this.recurrentDropout,training:a,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,o=this.recurrentDropoutMask;let c,l,u,d;0<this.dropout&&this.dropout<1&&(e=me(e,i[0]));let h=lc(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=me(r,o[0])),h=qe(h,lc(r,this.recurrentKernel.read())),this.useBias&&(h=$o(h,this.bias.read()));const[m,y,v,x]=Vs(h,4,h.rank-1);c=this.recurrentActivation.apply(m),l=this.recurrentActivation.apply(y),u=qe(me(l,s),me(c,this.activation.apply(v))),d=this.recurrentActivation.apply(x);const k=me(d,this.activation.apply(u));return[k,k,u]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:vu(this.activation),recurrentActivation:vu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:ya(this.kernelInitializer),recurrentInitializer:ya(this.recurrentInitializer),biasInitializer:ya(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:na(this.kernelRegularizer),recurrentRegularizer:na(this.recurrentRegularizer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),kernelConstraint:sr(this.kernelConstraint),recurrentConstraint:sr(this.recurrentConstraint),biasConstraint:sr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}g_.className="LSTMCell";Ye(g_);class LU extends Gu{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new g_(e),super(e)}call(e,n){return Ne(()=>{this.cell.dropoutMask!=null&&(mn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(mn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const a=n==null?null:n.mask,r=n==null?null:n.training,s=n==null?null:n.initialState;return super.call(e,{mask:a,training:r,initialState:s})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}LU.className="LSTM";Ye(LU);class S3 extends m_{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return Ne(()=>{e=e;let a=e.slice(1);const r=[];for(const o of this.cells.slice().reverse())Array.isArray(o.stateSize)?r.push(a.splice(0,o.stateSize.length)):r.push(a.splice(0,1));r.reverse();const s=[];let i;for(let o=0;o<this.cells.length;++o){const c=this.cells[o];a=r[o],o===0?i=[e[0]].concat(a):i=[i[0]].concat(a),i=c.call(i,n),s.push(i.slice(1))}a=[];for(const o of s.slice().reverse())a.push(...o);return[i[0]].concat(a)})}build(e){pT(e)&&(e=e[0]),e=e;let n;this.cells.forEach((a,r)=>{Lf(`RNNCell_${r}`,()=>{a.build(e),Array.isArray(a.stateSize)?n=a.stateSize[0]:n=a.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=s=>({className:s.getClassName(),config:s.getConfig()}),r={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),r)}static fromConfig(e,n,a={}){const r=[];for(const s of n.cells)r.push(nl(s,a));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const a of this.cells)n.push(...a.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return hT(e)}setWeights(e){const n=[];for(const a of this.cells){const r=a.weights.length,s=e.splice(r);for(let i=0;i<a.weights.length;++i)n.push([a.weights[i],s[i]])}x3(n)}}S3.className="StackedRNNCells";Ye(S3);function wu(t){const{ones:e,rate:n,training:a=!1,count:r=1,dropoutFunc:s}=t,i=()=>s!=null?s(e(),n):EG(e(),n),o=()=>h1(i,e,a);return!r||r<=1?xr(o().clone()):Array(r).fill(void 0).map(o).map(l=>xr(l.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var N0e=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};class MU extends Gu{constructor(e){if(e.unroll)throw new sn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new sn("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new ar({ndim:5})]}call(e,n){return Ne(()=>{if(this.cell.dropoutMask!=null&&(mn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(mn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new ve("ConvRNN2D cell does not support constants");const a=n==null?null:n.mask,r=n==null?null:n.training,s=n==null?null:n.initialState;return super.call(e,{mask:a,training:r,initialState:s})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return Ne(()=>{const{stateSize:n}=this.cell,a=e.shape,r=this.computeSingleOutputShape(a),s=[r[0],...r.slice(2)],i=tr(s);return Array.isArray(n)?Array(n.length).fill(i):[i]})}resetStates(e,n=!1){Ne(()=>{if(!this.stateful)throw new qo("Cannot call resetStates() on an RNN Layer that is not stateful.");const a=this.inputSpec[0].shape,r=this.computeSingleOutputShape(a),s=[r[0],...r.slice(2)];if(a[0]==null)throw new ve("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>tr(s)):this.states_=[tr(s)];else if(e==null)mn(this.states_),this.keptStates!=null&&(mn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>tr(s)):this.states_[0]=tr(s);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ve(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):mn(this.states_);for(let o=0;o<this.states_.length;++o){const c=e[o],l=s;if(!Sn(c.shape,l))throw new ve(`State ${o} is incompatible with layer ${this.name}: expected shape=${l}, received shape=${c.shape}`);this.states_[o]=c}}this.states_=this.states_.map(o=>xr(o.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:a,kernelSize:r,padding:s,strides:i,dilationRate:o}=this.cell,c=n==="channelsFirst",l=e[c?3:2],u=e[c?4:3],d=wo(l,r[0],s,i[0],o[0]),h=wo(u,r[1],s,i[1],o[1]);return[...e.slice(0,2),...c?[a,d,h]:[d,h,a]]}}MU.className="ConvRNN2D";class T3 extends g_{constructor(e){const{filters:n,kernelSize:a,strides:r,padding:s,dataFormat:i,dilationRate:o}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,vr(this.filters,"filters"),this.kernelSize=ah(a,2,"kernelSize"),this.kernelSize.forEach(c=>vr(c,"kernelSize")),this.strides=ah(r||1,2,"strides"),this.strides.forEach(c=>vr(c,"strides")),this.padding=s||"valid",yi(this.padding),this.dataFormat=i||"channelsLast",za(this.dataFormat),this.dilationRate=ah(o||1,2,"dilationRate"),this.dilationRate.forEach(c=>vr(c,"dilationRate"))}build(e){var n;e=Ln(e);const a=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[a]==null)throw new ve(`The channel dimension of the input should be defined. Found ${e[a]}`);const r=e[a],s=4,i=this.kernelSize.concat([r,this.filters*s]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const o=this.kernelSize.concat([this.filters,this.filters*s]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let c;if(this.unitForgetBias){const l=this.biasInitializer,u=this.filters;c=new(n=class extends eo{apply(h,m){const y=l.apply([u]),v=Ws([u]),x=l.apply([u*2]);return u3([y,v,x])}},n.className="CustomInit",n)}else c=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*s],null,c,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return Ne(()=>{if(e.length!==3)throw new ve(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const a=n.training||!1,r=e[0],s=e[1],i=e[2],o=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=wu({ones:()=>di(r),rate:this.dropout,training:a,count:o,dropoutFunc:this.dropoutFunc}));const c=this.dropoutMask,l=(M,se,ue)=>!se||!se[ue]?M:me(se[ue],M);let u=l(r,c,0),d=l(r,c,1),h=l(r,c,2),m=l(r,c,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=wu({ones:()=>di(s),rate:this.recurrentDropout,training:a,count:o,dropoutFunc:this.dropoutFunc}));const y=this.recurrentDropoutMask;let v=l(s,y,0),x=l(s,y,1),k=l(s,y,2),b=l(s,y,3);const _=3,[A,S,C,E]=Vs(this.kernel.read(),o,_),[D,I,P,R]=this.useBias?Vs(this.bias.read(),o):[null,null,null,null];u=this.inputConv(u,A,D,this.padding),d=this.inputConv(d,S,I,this.padding),h=this.inputConv(h,C,P,this.padding),m=this.inputConv(m,E,R,this.padding);const[B,U,V,j]=Vs(this.recurrentKernel.read(),o,_);v=this.recurrentConv(v,B),x=this.recurrentConv(x,U),k=this.recurrentConv(k,V),b=this.recurrentConv(b,j);const W=this.recurrentActivation.apply(qe(u,v)),J=this.recurrentActivation.apply(qe(d,x)),q=qe(me(J,i),me(W,this.activation.apply(qe(h,k)))),Z=me(this.recurrentActivation.apply(qe(m,b)),this.activation.apply(q));return[Z,Z,q]})}getConfig(){const e=super.getConfig(),{units:n}=e,a=N0e(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},a),r)}inputConv(e,n,a,r){const s=yu(e,n,this.strides,r||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return a?$o(s,a,this.dataFormat):s}recurrentConv(e,n){return yu(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}T3.className="ConvLSTM2DCell";Ye(T3);class BU extends MU{constructor(e){const n=new T3(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}BU.className="ConvLSTM2D";Ye(BU);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class E3 extends xn{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,a=[];for(let r=0;r<this.noiseShape.length;++r)a.push(this.noiseShape[r]==null?n[r]:this.noiseShape[r]);return a}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const a=Ut(e);if(0<this.rate&&this.rate<1){const r=n.training==null?!1:n.training,s=this.getNoiseShape(a);return h1(()=>EG(a,this.rate,s,this.seed),()=>a,r)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}E3.className="Dropout";Ye(E3);class zU extends E3{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}zU.className="SpatialDropout1D";Ye(zU);class GU extends xn{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,vr(this.units,"units"),this.activation=ku(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=da(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=da(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=ir(e.kernelConstraint),this.biasConstraint=ir(e.biasConstraint),this.kernelRegularizer=ha(e.kernelRegularizer),this.biasRegularizer=ha(e.biasRegularizer),this.activityRegularizer=ha(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Ln(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=Ln(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const a=Ut(e),r=wG(this.activation.getClassName());let s;return r!=null?s=lc(a,this.kernel.read(),r,this.bias?this.bias.read():null):(s=lc(a,this.kernel.read()),this.bias!=null&&(s=$o(s,this.bias.read())),this.activation!=null&&(s=this.activation.apply(s))),s})}getConfig(){const e={units:this.units,activation:vu(this.activation),useBias:this.useBias,kernelInitializer:ya(this.kernelInitializer),biasInitializer:ya(this.biasInitializer),kernelRegularizer:na(this.kernelRegularizer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),kernelConstraint:sr(this.kernelConstraint),biasConstraint:sr(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}GU.className="Dense";Ye(GU);class UU extends xn{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Ln(e);for(const n of e.slice(1))if(n==null)throw new ve(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],iu(e,1)]}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);let a=Ut(e);if(this.dataFormat==="channelsFirst"&&a.rank>1){const r=[0];for(let s=2;s<a.rank;++s)r.push(s);r.push(1),a=In(a,r)}return sme(a)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}UU.className="Flatten";Ye(UU);class WU extends xn{constructor(e){super(e),this.supportsMasking=!0,this.activation=ku(e.activation)}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const a=Ut(e);return this.activation.apply(a)})}getConfig(){const e={activation:vu(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}WU.className="Activation";Ye(WU);class VU extends xn{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return Ne(()=>(e=Ut(e),ame(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}VU.className="RepeatVector";Ye(VU);class jU extends xn{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const a="Total size of new array must be unchanged.",r=n.slice();let s=1,i=null;for(let c=0;c<r.length;++c){const l=r[c];if(this.isUnknown(l))if(i===null)i=c;else throw new ve("Can only specifiy one unknown dimension.");else s*=l}const o=iu(e);if(i!==null){if(s===0||o%s!==0)throw new ve(a);r[i]=o/s}else if(o!==s)throw new ve(a);return r}computeOutputShape(e){let n=!1;for(let a=0;a<e.length;++a)if(this.isUnknown(e[a])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const a=Ut(e),r=a.shape,s=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return xe(a,s)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}jU.className="Reshape";Ye(jU);class HU extends xn{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=Eo(1,e.dims.length+1);if(!Sn(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new ar({ndim:this.dims.length+1})]}computeOutputShape(e){e=Ln(e);const n=e.slice();return this.dims.forEach((a,r)=>{n[r+1]=e[a]}),n}call(e,n){return In(Ut(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}HU.className="Permute";Ye(HU);class KU extends xn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const a=Ut(e);return Ak(yh(a,this.maskValue),-1)}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const a=Ut(e),i=Ak(yh(a,this.maskValue),-1,!0);return me(a,ut(i,a.dtype))})}}KU.className="Masking";Ye(KU);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class qU extends xn{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(Kn(e.inputLength))}this.inputDim=e.inputDim,vr(this.inputDim,"inputDim"),this.outputDim=e.outputDim,vr(this.outputDim,"outputDim"),this.embeddingsInitializer=da(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=ha(e.embeddingsRegularizer),this.activityRegularizer=ha(e.activityRegularizer),this.embeddingsConstraint=ir(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return Ne(()=>this.maskZero?(e=Ut(e),yh(e,Dn(e))):null)}computeOutputShape(e){if(e=Ln(e),this.inputLength==null)return[...e,this.outputDim];const n=Kn(this.inputLength);if(n.length!==e.length-1)throw new ve(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let a=0;for(let r=0;r<n.length;++r){const s=n[r],i=e[r+1];if(s!=null&&i!=null&&s!==i)throw new ve(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);s==null&&(n[a]=i),a++}}return[e[0],...n,this.outputDim]}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);let a=Ut(e);a.dtype!=="int32"&&(a=cc(a,"int32"));const r=TG(this.embeddings.read(),xe(a,[a.size]));return xe(r,Ln(this.computeOutputShape(a.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:ya(this.embeddingsInitializer),embeddingsRegularizer:na(this.embeddingsRegularizer),activityRegularizer:na(this.activityRegularizer),embeddingsConstraint:sr(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}qU.className="Embedding";Ye(qU);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Rd extends xn{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new sn}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const a=e.slice(0,e.length-n.length);for(let r=0;r<n.length;++r){const s=e[e.length-n.length+r],i=n[r];if(s==null||i==null||s<0||i<0)a.push(null);else if(s===1)a.push(i);else if(i===1)a.push(s);else{if(s!==i)throw new ve("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));a.push(s)}}return a}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Ln(e)]),e=e,e.length<2)throw new ve(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const s of e)s!=null&&s[0]!==null&&n.push(s[0]);if(n=su(n),n.length>1)throw new ve(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let a=e[0]==null?null:e[0].slice(1);for(let s=1;s<e.length;++s){const i=e[s]==null?null:e[s].slice(1);a=this.computeElementwiseOpOutputShape(a,i)}const r=e.map(s=>s.length);e.indexOf(null)===-1&&su(r).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return Ne(()=>{if(e=e,this.reshapeRequired){const a=[],r=e.map(s=>s.rank);if(r.indexOf(null)===-1){const s=xu(r);for(let i of e){const o=i.rank;for(let c=0;c<s-o;++c)i=d1(i,1);a.push(i)}return this.mergeFunction(a)}else{let s=!1;for(const c of e){const l=c.rank;if(l==null){const u=c.shape,d=u[0],h=u.slice(1).concat([d]);let m=xe(c,[d].concat(iu(u.slice(1))));m=In(m,[1,0]),m=xe(m,h),a.push(m),s=!0}else if(l>1){const u=Eo(1,l).concat([0]);a.push(In(c,u)),s=!0}else a.push(c)}let i=this.mergeFunction(a);const o=i.rank;if(s){if(o==null){const c=i.shape,l=c.length,u=c[l-1],d=[u].concat(c.slice(0,c.length-1));i=xe(In(xe(i,[-1,u]),[1,0]),d)}else if(o>1){const c=[o-1].concat(Eo(0,o-1));i=In(i,c)}}return i}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let r=1;r<e.length;++r){const s=e[r]==null?null:e[r].slice(1);n=this.computeElementwiseOpOutputShape(n,s)}let a=[];for(const r of e)r!=null&&r[0]!==null&&a.push(r[0]);return a=su(a),a.length===1?n=a.concat(n):n=[null].concat(n),n}computeMask(e,n){return Ne(()=>{if(n==null)return null;if(!Array.isArray(n))throw new ve("`mask` should be an Array");if(!Array.isArray(e))throw new ve("`inputs` should be an Array");if(n.length!==e.length)throw new ve(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(r=>r==null))return null;n=n.map(r=>r==null?r:is(r,0));let a=n[0];for(let r=1;r<n.length-1;++r)a=hc(a,n[r]);return a})}}class XU extends Rd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0].clone();for(let a=1;a<e.length;++a)n=qe(n,e[a]);return n})}}XU.className="Add";Ye(XU);class YU extends Rd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0].clone();for(let a=1;a<e.length;++a)n=me(n,e[a]);return n})}}YU.className="Multiply";Ye(YU);class ZU extends Rd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0].clone();for(let a=1;a<e.length;++a)n=qe(n,e[a]);return me(1/e.length,n)})}}ZU.className="Average";Ye(ZU);class QU extends Rd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0];for(let a=1;a<e.length;++a)n=bl(n,e[a]);return n})}}QU.className="Maximum";Ye(QU);class JU extends Rd{constructor(e){super(e)}mergeFunction(e){return Ne(()=>{let n=e[0];for(let a=1;a<e.length;++a)n=id(n,e[a]);return n})}}JU.className="Minimum";Ye(JU);class e7 extends Rd{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new ve("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const r of e)if(r!=null){n=!1;break}if(n)return;const a=[];for(let r=0;r<e.length;++r){const s=e[r].slice();s.splice(this.axis,1);let i=!1;for(const o of a)if(Sn(o,s)){i=!0;break}i||a.push(s)}if(a.length>1)throw new ve("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Ne(()=>u3(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new ve("A `Concatenate` layer should be called on a list of inputs.");const n=e,a=n[0].slice(),r=this.axis<0?a.length+this.axis:this.axis;for(const s of n.slice(1)){if(a[r]==null||s[r]==null){a[r]=null;break}a[r]+=s[r]}return a}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new ve("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new ve("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new ve(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return Ne(()=>{let a=!0;if(n.forEach(i=>{if(i!=null){a=!1;return}}),a)return null;const r=[];for(let i=0;i<e.length;++i)n[i]==null?r.push(ut(di(e[i]),"bool")):n[i].rank<e[i].rank?r.push(is(n[i],-1)):r.push(n[i]);const s=Ea(r,this.axis);return ZC(s,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}e7.className="Concatenate";Ye(e7);function d0(t,e){for(;t<0;)t+=e;return t}function S0e(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new sn("batchDot is not implemented for tensors of 4D or higher rank yet");if(K(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),K(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new sn("batchDot is not implemented for complex64-type Tensors yet.");const a=t.shape.length,r=e.shape.length;n==null&&(n=[a-1,r-2]);const s=n;return Ne(()=>{let i;if(a>r){i=a-r;const c=[];for(let l=0;l<i;++l)c.push(1);e=xe(e,e.shape.concat(c))}else if(r>a){i=r-a;const c=[];for(let l=0;l<i;++l)c.push(1);t=xe(t,t.shape.concat(c))}else i=0;let o;if(t.shape.length===2&&e.shape.length===2)s[0]===s[1]?o=xt(me(t,e),s[0]):o=xt(me(In(t,[1,0]),e),s[1]);else{const c=s[0]!==t.shape.length-1,l=s[1]===e.shape.length-1;o=kn(t,e,c,l)}if(i>0){let c;a>r?c=a+r-3:c=a-1;const l=[];for(let u=c;u<c+i;++u)l.push(u);o=Cd(o,l)}return o.shape.length===1&&(o=is(o,1)),o})}class t7 extends Rd{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){K(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],a=e[1];if(n.length>3||a.length>3)throw new sn("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(n,a);if(n[r[0]]!==a[r[1]])throw new ve(`Dimension incompatibility: ${n[r[0]]} !== ${a[r[1]]}`)}mergeFunction(e){if(e.length!==2)throw new ve(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],a=e[1],r;return Array.isArray(this.axes)?r=this.axes.map((s,i)=>d0(s,e[i].shape.length)):r=[d0(this.axes,n.shape.length),d0(this.axes,a.shape.length)],this.normalize&&(n=Ik(n,r[0]),a=Ik(a,r[1])),S0e(n,a,r)}interpretAxes(e,n){let a;return Array.isArray(this.axes)?a=this.axes:a=[d0(this.axes,e.length),d0(this.axes,n.length)],a}computeOutputShape(e){K(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),a=e[1].slice();if(n.length>3||a.length>3)throw new sn("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(n,a);n.splice(r[0],1),a.splice(r[1],1),a.splice(0,1);const s=n.concat(a);return s.length===1&&s.push(1),s}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}t7.className="Dot";Ye(t7);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class n7 extends xn{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const a=Ut(e);return h1(()=>qe(l_(a.shape,0,this.stddev),a),()=>a,n.training||!1)})}}n7.className="GaussianNoise";Ye(n7);class a7 extends xn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Ne(()=>{this.invokeCallHook(e,n);const a=Ut(e);return this.rate>0&&this.rate<1?h1(()=>{const s=Math.sqrt(this.rate/(1-this.rate));return me(a,l_(a.shape,1,s))},()=>a,n.training||!1):a})}}a7.className="GaussianDropout";Ye(a7);class r7 extends xn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Ut(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Ne(()=>{if(this.rate<1&&this.rate>0){const a=this._getNoiseShape(e);return h1(()=>{const s=Ut(e),o=-1.6732632423543772*1.0507009873554805;let c=Mu(Ed(a),this.rate);c=cc(c,"float32");const l=((1-this.rate)*(1+this.rate*o**2))**-.5,u=-l*o*this.rate,d=qe(me(s,c),me(qe(c,-1),o));return qe(me(d,l),u)},()=>Ut(e),n.training||!1)}return e})}}r7.className="AlphaDropout";Ye(r7);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function kg(t,e,n,a,r,s=.001){let i;if(t.rank===2)i=C8(t,e,n,a,r,s);else if(t.rank===3)i=I8(t,e,n,a,r,s);else if(t.rank===4)i=D8(t,e,n,a,r,s);else throw new sn(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return i}function T0e(t,e,n,a,r=.001){return Ne(()=>{const s=jb(t,a),i=s.mean,o=s.variance;return[kg(t,i,o,n,e,r),i,o]})}function E0e(t,e,n,a,r=.001){return Ne(()=>{const s=jb(t,a),i=s.mean,o=s.variance,c=[];for(const y of Eo(0,t.rank))a.indexOf(y)!==-1?c.push(1):c.push(t.shape[y]);const l=xe(i,c),u=xe(o,c),d=e==null?null:xe(e,c),h=n==null?null:xe(n,c);return[kg(t,l,u,h,d,r),i,o]})}function C0e(t,e,n,a,r=.001){return Sn(a.slice().sort(),Eo(0,t.rank-1))?T0e(t,e,n,a,r):E0e(t,e,n,a,r)}class s7 extends xn{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=da(e.betaInitializer||"zeros"),this.gammaInitializer=da(e.gammaInitializer||"ones"),this.movingMeanInitializer=da(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=da(e.movingVarianceInitializer||"ones"),this.betaConstraint=ir(e.betaConstraint),this.gammaConstraint=ir(e.gammaConstraint),this.betaRegularizer=ha(e.betaRegularizer),this.gammaRegularizer=ha(e.gammaRegularizer)}build(e){e=Ln(e);const n=this.axis>=0?this.axis:this.axis+e.length,a=e[n];if(a==null)throw new ve(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new ar({ndim:e.length,axes:{[n]:a}})];const r=[a];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return Ne(()=>{const a=n.training==null?!1:n.training,r=Ut(e),s=r.shape,i=s.length,o=Eo(0,i),c=this.axis>=0?this.axis:this.axis+i;o.splice(c,1);const l=cd(1,i);l[c]=s[c];const u=o.slice();u.sort();const d=!Sn(u,Eo(0,i).slice(0,i-1)),h=()=>{if(d){const b=xe(this.movingMean.read(),l),_=xe(this.movingVariance.read(),l),A=this.center?xe(this.beta.read(),l):null,S=this.scale?xe(this.gamma.read(),l):null;return kg(r,b,_,A,S,this.epsilon)}else return kg(r,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!a)return h();const[m,y,v]=C0e(r,this.gamma.read(),this.beta.read(),o,this.epsilon),x=(b,_,A)=>{Ne(()=>{const S=1-A,C=b.read(),E=me(mt(C,_),S);b.write(mt(C,E))})};return(()=>{x(this.movingMean,y,this.momentum),x(this.movingVariance,v,this.momentum)})(),m})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:ya(this.betaInitializer),gammaInitializer:ya(this.gammaInitializer),movingMeanInitializer:ya(this.movingMeanInitializer),movingVarianceInitializer:ya(this.movingVarianceInitializer),betaRegularizer:na(this.betaRegularizer),gammaRegularizer:na(this.gammaRegularizer),betaConstraint:sr(this.betaConstraint),gammaConstraint:sr(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}s7.className="BatchNormalization";Ye(s7);class i7 extends xn{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=da(e.betaInitializer||"zeros"),this.gammaInitializer=da(e.gammaInitializer||"ones"),this.betaRegularizer=ha(e.betaRegularizer),this.gammaRegularizer=ha(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Ln(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let s=0;s<this.axis.length;++s)this.axis[s]<0&&(this.axis[s]+=n);for(const s of this.axis)if(s<0||s>=n)throw new Error(`Invalid axis: ${s}`);if(this.axis.length!==su(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const a=this.axis.map(s=>e[s]),r=!0;this.scale?this.gamma=this.addWeight("gamma",a,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",a,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,n){const a=Ut(e),r=a.shape,s=r.length;return Ne(()=>{let{mean:o,variance:c}=jb(a,this.axis,!0);const l=cd(1,s);for(const v of this.axis)l[v]=r[v];const u=v=>v!=null&&v.shape.length!==s?xe(v,l):v;let d=this.scale?u(this.gamma.read()):null,h=this.center?u(this.beta.read()):null;const m=[],y=[];for(let v=0;v<s;++v)this.axis.indexOf(v)!==-1?(m.push(r[v]),y.push(1)):(m.push(1),y.push(r[v]));return o=Ui(o,m),c=Ui(c,m),d!=null&&(d=Ui(d,y)),h!=null&&(h=Ui(h,y)),kg(a,o,c,h,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:ya(this.betaInitializer),gammaInitializer:ya(this.gammaInitializer),betaRegularizer:na(this.betaRegularizer),gammaRegularizer:na(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}i7.className="LayerNormalization";Ye(i7);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function I0e(t,e,n){return Ne(()=>{if(t.rank!==4)throw new ve(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new ve("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=Co()),n!=="channelsLast"&&n!=="channelsFirst")throw new ve(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let a;return n==="channelsFirst"?a=[[0,0],[0,0],e[0],e[1]]:a=[[0,0],e[0],e[1],[0,0]],Bu(t,a)})}class o7 extends xn{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?Co():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new ve(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,a;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],a=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new ve(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new ve(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);a=e.padding[1]}this.padding=[n,a]}this.inputSpec=[new ar({ndim:4})]}computeOutputShape(e){e=Ln(e);let n,a;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?a=e[3]+this.padding[1][0]+this.padding[1][1]:a=null,[e[0],e[1],n,a]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?a=e[2]+this.padding[1][0]+this.padding[1][1]:a=null,[e[0],n,a,e[3]])}call(e,n){return Ne(()=>I0e(Ut(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}o7.className="ZeroPadding2D";Ye(o7);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function y_(t,e,n,a,r,s){return Ne(()=>{za(r),_G(s),yi(a),n==null&&(n=[1,1]),a==null&&(a="valid"),r==null&&(r=Co()),s==null&&(s="max"),t=_3(t,r);let i;const o=a==="same"?"same":"valid";return s==="max"?i=Vb(t,e,n,o):i=$b(t,e,n,o),r==="channelsFirst"&&(i=In(i,[0,3,1,2])),i})}function c7(t,e,n,a,r,s){return Ne(()=>{za(r),_G(s),yi(a),n==null&&(n=[1,1,1]),a==null&&(a="valid"),r==null&&(r=Co()),s==null&&(s="max"),t=NU(t,r);let i;const o=a==="same"?"same":"valid";return s==="max"?i=tz(t,e,n,o):i=E8(t,e,n,o),r==="channelsFirst"&&(i=In(i,[0,4,1,2,3])),i})}class l7 extends xn{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new ve(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(vr(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new ve(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);vr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,yi(this.padding),this.inputSpec=[new ar({ndim:3})]}computeOutputShape(e){e=Ln(e);const n=wo(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return Ne(()=>{this.invokeCallHook(e,n),e=d1(Ut(e),2);const a=this.poolingFunction(Ut(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Cd(a,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class u7 extends l7{constructor(e){super(e)}poolingFunction(e,n,a,r,s){return za(s),yi(r),y_(e,n,a,r,s,"max")}}u7.className="MaxPooling1D";Ye(u7);class f7 extends l7{constructor(e){super(e)}poolingFunction(e,n,a,r,s){return za(s),yi(r),y_(e,n,a,r,s,"avg")}}f7.className="AveragePooling1D";Ye(f7);class d7 extends xn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new ve(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];vr(this.poolSize,"poolSize"),vr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,za(this.dataFormat),yi(this.padding),this.inputSpec=[new ar({ndim:4})]}computeOutputShape(e){e=Ln(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],a=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=wo(n,this.poolSize[0],this.padding,this.strides[0]),a=wo(a,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,a]:[e[0],n,a,e[3]]}call(e,n){return Ne(()=>(this.invokeCallHook(e,n),this.poolingFunction(Ut(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class p7 extends d7{constructor(e){super(e)}poolingFunction(e,n,a,r,s){return za(s),yi(r),y_(e,n,a,r,s,"max")}}p7.className="MaxPooling2D";Ye(p7);class h7 extends d7{constructor(e){super(e)}poolingFunction(e,n,a,r,s){return za(s),yi(r),y_(e,n,a,r,s,"avg")}}h7.className="AveragePooling2D";Ye(h7);class m7 extends xn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new ve(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];vr(this.poolSize,"poolSize"),vr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,za(this.dataFormat),yi(this.padding),this.inputSpec=[new ar({ndim:5})]}computeOutputShape(e){e=Ln(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],a=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=wo(n,this.poolSize[0],this.padding,this.strides[0]),a=wo(a,this.poolSize[1],this.padding,this.strides[1]),r=wo(r,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,a,r]:[e[0],n,a,r,e[4]]}call(e,n){return Ne(()=>(this.invokeCallHook(e,n),this.poolingFunction(Ut(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class g7 extends m7{constructor(e){super(e)}poolingFunction(e,n,a,r,s){return za(s),yi(r),c7(e,n,a,r,s,"max")}}g7.className="MaxPooling3D";Ye(g7);class y7 extends m7{constructor(e){super(e)}poolingFunction(e,n,a,r,s){return za(s),yi(r),c7(e,n,a,r,s,"avg")}}y7.className="AveragePooling3D";Ye(y7);class x7 extends xn{constructor(e){super(e),this.inputSpec=[new ar({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new sn}}class v7 extends x7{constructor(e){super(e||{})}call(e,n){return Ne(()=>{const a=Ut(e);return Sa(a,1)})}}v7.className="GlobalAveragePooling1D";Ye(v7);class k7 extends x7{constructor(e){super(e||{})}call(e,n){return Ne(()=>{const a=Ut(e);return qi(a,1)})}}k7.className="GlobalMaxPooling1D";Ye(k7);class w7 extends xn{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,za(this.dataFormat),this.inputSpec=[new ar({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new sn}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class b7 extends w7{call(e,n){return Ne(()=>{const a=Ut(e);return this.dataFormat==="channelsLast"?Sa(a,[1,2]):Sa(a,[2,3])})}}b7.className="GlobalAveragePooling2D";Ye(b7);class _7 extends w7{call(e,n){return Ne(()=>{const a=Ut(e);return this.dataFormat==="channelsLast"?qi(a,[1,2]):qi(a,[2,3])})}}_7.className="GlobalMaxPooling2D";Ye(_7);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class A7 extends xn{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,a={}){const r=n.layer,s=nl(r,a);delete n.layer;const i={layer:s};return Object.assign(i,n),new e(i)}}class N7 extends A7{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Ln(e),e.length<3)throw new ve(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Ln(e);const n=[e[0]].concat(e.slice(2)),a=this.layer.computeOutputShape(n),r=e[1];return[a[0],r].concat(a.slice(1))}call(e,n){return Ne(()=>(e=Ut(e),FU((i,o)=>[Ut(this.layer.call(i,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}N7.className="TimeDistributed";Ye(N7);function D0e(t){Dd(Qhe,"BidirectionalMergeMode",t)}const R0e="concat";class S7 extends A7{constructor(e){super(e);const n=e.layer.getConfig(),a={};a.className=e.layer.getClassName(),a.config=n,this.forwardLayer=nl(a),n.goBackwards=n.goBackwards!==!0;const r={};if(r.className=e.layer.getClassName(),r.config=n,this.backwardLayer=nl(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?R0e:e.mergeMode,D0e(this.mergeMode),e.weights)throw new sn("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,a=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,a)),this.backwardLayer.setWeights(e.slice(a))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let a,r,s;return this.returnState&&(s=n.slice(1)),a=n[0],a=a,this.mergeMode==="concat"?(a[a.length-1]*=2,r=[a]):this.mergeMode==null?r=[a,a.slice()]:r=[a],this.returnState?this.mergeMode==null?r.concat(s).concat(s.slice()):[a].concat(s).concat(s.slice()):Ns(r)}apply(e,n){let a=n==null?null:n.initialState,r=n==null?null:n.constants;n==null&&(n={});const s=PU(e,a,r,this.numConstants);if(e=s.inputs,a=s.initialState,r=s.constants,Array.isArray(e)&&(a=e.slice(1),e=e[0]),(a==null||a.length===0)&&r==null)return super.apply(e,n);const i=[],o=[];if(a!=null){const l=a.length;if(l%2>0)throw new ve("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=a,i.push(...a);const u=a.map(d=>new ar({shape:d.shape}));this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),o.push(...u)}if(r!=null)throw new sn("Support for constants in Bidirectional layers is not implemented yet.");const c=i[0]instanceof mc;for(const l of i)if(l instanceof mc!==c)throw new ve("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(c){const l=[e].concat(i),u=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=u;const h=super.apply(l,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return Ne(()=>{const a=n.initialState;let r,s;if(a==null)r=this.forwardLayer.call(e,n),s=this.backwardLayer.call(e,n);else{const c=a.slice(0,a.length/2),l=a.slice(a.length/2);r=this.forwardLayer.call(e,Object.assign(n,{initialState:c})),s=this.backwardLayer.call(e,Object.assign(n,{initialState:l}))}let i;this.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(s.slice(1))),r=r[0],s=s[0]),this.returnSequences&&(s=Zi(s,1));let o;return this.mergeMode==="concat"?o=u3([r,s]):this.mergeMode==="sum"?o=qe(r,s):this.mergeMode==="ave"?o=me(.5,qe(r,s)):this.mergeMode==="mul"?o=me(r,s):this.mergeMode==null&&(o=[r,s]),this.returnState?this.mergeMode==null?o.concat(i):[o].concat(i):o})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Lf(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),Lf(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let a;if(this.returnSequences?this.mergeMode==null?a=[n,n]:a=n:this.mergeMode==null?a=[null,null]:a=null,this.returnState){const s=this.forwardLayer.states.map(i=>null);return Array.isArray(a)?a.concat(s).concat(s):[a].concat(s).concat(s)}else return a}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const a=nl(n.layer);if(delete n.layer,n.numConstants!=null)throw new sn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=n;return r.layer=a,new e(r)}}S7.className="Bidirectional";Ye(S7);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class T7 extends xn{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Ne(()=>(e=Ut(e),e.dtype!=="float32"&&(e=cc(e,"float32")),qe(me(e,this.scale),this.offset)))}}T7.className="Rescaling";Ye(T7);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:P0e,cropAndResize:F0e}=Wi;class E7 extends xn{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,a,r,s,i,o,c){return Ne(()=>{let l,u=!1;const d=n/i,h=a/o,m=(r+n)/i,y=(s+a)/o,v=[d,h,m,y],x=[];e.rank===3?(u=!0,l=qs([e])):l=e;for(let S=0;S<l.shape[0];S++)x.push(v);const k=ko(x,[x.length,4]),b=xh(0,x.length,1,"int32"),A=F0e(l,k,b,[r,s],"nearest");return cc(u?Ut(Qi(A)):A,c)})}upsize(e,n,a,r){return Ne(()=>{const s=P0e(e,[n,a]);return cc(s,r)})}call(e,n){return Ne(()=>{const a=Ut(e),r=a.dtype,s=a.shape,i=s[s.length-3],o=s[s.length-2];let c=0;i!==this.height&&(c=Math.floor((i-this.height)/2));let l=0;return o!==this.width&&(l=Math.floor((o-this.width)/2),l===0&&(l=1)),c>=0&&l>=0?this.centerCrop(a,c,l,this.height,this.width,i,o,r):this.upsize(e,this.height,this.width,r)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Ln(e);const n=e.length-3,a=e.length-2;return e[n]=this.height,e[a]=this.width,e}}E7.className="CenterCrop";Ye(E7);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function O0e(t,e,n,a){let r=Ut(t);if(r.dtype!=="int32"&&(r=cc(r,"int32")),e==="int")return r;const s=r.shape;if(r.rank===0&&(r=is(r,-1)),e==="oneHot"&&r.shape[r.shape.length-1]!==1&&(r=is(r,-1)),r.rank>2)throw new ve(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${s} which would result in output rank ${r.rank}.`);const i=["multiHot","oneHot"].includes(e),o=r;let c;if(typeof a<"u"&&e==="count"?c=sT(o,a,n,i):c=sT(o,[],n,i),e!=="tfIdf")return c;if(a)return me(c,a);throw new ve("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class C7 extends xn{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=Ln(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return Ne(()=>{e=Ut(e),e.dtype!=="int32"&&(e=cc(e,"int32"));let a;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new ve(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);a=Ut(n.countWeights)}const r=qi(e),s=dg(e),i=Js(this.numTokens,r).bufferSync().get(0),o=Mu(s,0).bufferSync().get(0);if(!(i&&o))throw new ve(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return O0e(e,this.outputMode,this.numTokens,a)})}}C7.className="CategoryEncoding";Ye(C7);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const $0e=["bilinear","nearest"],$$=new Set($0e);class I7 extends xn{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if($$.has(e.interpolation))this.interpolation=e.interpolation;else throw new ve(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=Ln(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Ne(()=>{const a=[this.height,this.width];if(this.interpolation==="bilinear")return Wi.resizeBilinear(e,a,!this.cropToAspectRatio);if(this.interpolation==="nearest")return Wi.resizeNearestNeighbor(e,a,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...$$]} are supported`)})}}I7.className="Resizing";Ye(I7);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class D7{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}D7.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class R7 extends xn{constructor(e){super(e),this.randomGenerator=new D7(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}R7.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const L0e=["bilinear","nearest"],L$=new Set(L0e);class P7 extends R7{constructor(e){super(e);const{factor:n,interpolation:a="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new ve(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new ve(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new ve(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(a)if(L$.has(a))this.interpolation=a;else throw new ve(`Invalid interpolation parameter: ${a} is not implemented`)}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Ln(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return Ne(()=>{const a=Ut(e);this.imgHeight=a.shape[a.shape.length-3];const r=a.shape[a.shape.length-2];this.widthFactor=Ed([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let s=this.widthFactor.dataSync()[0]*r;s=Math.round(s);const i=[this.imgHeight,s];switch(this.interpolation){case"bilinear":return Wi.resizeBilinear(e,i);case"nearest":return Wi.resizeNearestNeighbor(e,i);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...L$]} are supported`)}})}}P7.className="RandomWidth";Ye(P7);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M0e=Ce();M0e.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Ms;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Ms||(Ms={}));var M$;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(M$||(M$={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B0e={};function F7(t){return B0e[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O(t,e,n,a,r){const s=e.inputParams[t];if(s&&s.inputIndexStart!==void 0){const o=s.inputIndexStart,c=s.inputIndexEnd===0?void 0:s.inputIndexEnd===void 0?o+1:s.inputIndexEnd,l=o<0?e.inputNames.length+o:o;if(s.type==="tensor")return Ir(e.inputNames[l],n,a,r);if(s.type==="tensors"){const h=e.inputs.slice(o,c);return e.inputNames.slice(o,c).filter((y,v)=>{var x;return((x=h[v])===null||x===void 0?void 0:x.op)!=="NoOp"}).map(y=>Ir(y,n,a,r))}const u=Ir(e.inputNames[l],n,a,r),d=u.dataSync();return s.type==="number"?d[0]:Ki(u.shape,d)}const i=e.attrParams[t];return i&&i.value}function Ir(t,e,n,a){const[r,s]=zs(t,n);if(a!=null){const o=a.getHashTableHandleByName(r);if(o!=null)return o}const i=n.currentContextIds.find(o=>!!e[Ok(r,o)]);return i!==void 0?e[Ok(r,i)][s]:void 0}function B$(t,e,n){return e[Ok(t,n.currentContextId)]}function qc(t,e){const[n,a,r]=zs(t,e);return[Ok(n,e&&e.currentContextId),a,r]}function Ok(t,e){return e?`${t}-${e}`:t}function zs(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const s=e.parseNodeNameCache.get(t);if(s!=null)return s}const a=t.split(":");let r;if(a.length===1)r=[t,0,void 0];else{const s=a[0],i=a.length===3?a[1]:void 0,o=Number(a[a.length-1]);r=[s,o,i]}return n&&e.parseNodeNameCache.set(t,r),r}function nk(t,e,n){let a=O("pad",t,e,n);if(a==="explicit"){a=O("explicitPaddings",t,e,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let s=0;s<4;s++)r[s][0]=a[s*2],r[s][1]=a[s*2+1];return r}return a}function Xc(t){return t.kept?t:tl(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z0e=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],G0e=Object.freeze(Object.defineProperty({__proto__:null,json:z0e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U0e=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],W0e=Object.freeze(Object.defineProperty({__proto__:null,json:U0e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V0e=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],j0e=Object.freeze(Object.defineProperty({__proto__:null,json:V0e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H0e=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],K0e=Object.freeze(Object.defineProperty({__proto__:null,json:H0e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q0e=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],X0e=Object.freeze(Object.defineProperty({__proto__:null,json:q0e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y0e=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Z0e=Object.freeze(Object.defineProperty({__proto__:null,json:Y0e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q0e=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],J0e=Object.freeze(Object.defineProperty({__proto__:null,json:Q0e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ege=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],tge=Object.freeze(Object.defineProperty({__proto__:null,json:ege},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nge=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],age=Object.freeze(Object.defineProperty({__proto__:null,json:nge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rge=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],sge=Object.freeze(Object.defineProperty({__proto__:null,json:rge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ige=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],oge=Object.freeze(Object.defineProperty({__proto__:null,json:ige},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cge=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],lge=Object.freeze(Object.defineProperty({__proto__:null,json:cge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uge=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],fge=Object.freeze(Object.defineProperty({__proto__:null,json:uge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dge=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],pge=Object.freeze(Object.defineProperty({__proto__:null,json:dge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hge=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],mge=Object.freeze(Object.defineProperty({__proto__:null,json:hge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gge=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],yge=Object.freeze(Object.defineProperty({__proto__:null,json:gge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xge=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],vge=Object.freeze(Object.defineProperty({__proto__:null,json:xge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kge=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],wge=Object.freeze(Object.defineProperty({__proto__:null,json:kge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bge=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],_ge=Object.freeze(Object.defineProperty({__proto__:null,json:bge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z${static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[G0e,W0e,j0e,K0e,X0e,Z0e,J0e,tge,age,sge,oge,lge,fge,pge,mge,yge,vge,wge,_ge],n=[].concat(...e.map(a=>a.json));this.opMappers=n.reduce((a,r)=>(a[r.tfOpName]=r,a),{})}transformGraph(e,n={}){const a=e.node,r=[],s=[],i=[],o=a.reduce((v,x)=>(v[x.name]=this.mapNode(x),x.op.startsWith("Placeholder")?r.push(v[x.name]):x.op==="Const"?s.push(v[x.name]):(x.input==null||x.input.length===0)&&i.push(v[x.name]),v),{});let c=[];const l=[];let u={},d={};n!=null&&(u=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const h=Object.keys(o);h.forEach(v=>{const x=o[v];x.inputNames.forEach((k,b)=>{const[_,,A]=qc(k),S=o[_];if(S.outputs!=null){const C=S.outputs.indexOf(A);if(C!==-1){const E=`${_}:${C}`;x.inputNames[b]=E}}x.inputs.push(S),S.children.push(x)})}),Object.keys(d).length===0?h.forEach(v=>{const x=o[v];x.children.length===0&&l.push(x)}):Object.keys(d).forEach(v=>{const[x]=qc(v),k=o[x];k!=null&&(k.signatureKey=d[v],l.push(k))}),Object.keys(u).length>0?Object.keys(u).forEach(v=>{const[x]=qc(v),k=o[x];k&&(k.signatureKey=u[v],c.push(k))}):c=r;let m={};e.library!=null&&e.library.function!=null&&(m=e.library.function.reduce((v,x)=>(v[x.signature.name]=this.mapFunction(x),v),{}));const y={nodes:o,inputs:c,outputs:l,weights:s,placeholders:r,signature:n,functions:m};return i.length>0&&(y.initNodes=i),y}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,a)=>(n[e[a].name]=a,n),{})}mapNode(e){const n=F7(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const a={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(a.inputParams=n.inputs.reduce((r,s)=>(r[s.name]={type:s.type,inputIndexStart:s.start,inputIndexEnd:s.end},r),{})),n.attrs!=null&&(a.attrParams=n.attrs.reduce((r,s)=>{const i=s.type;let o;switch(s.type){case"string":o=kT(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=kT(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"string[]":o=TT(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=TT(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number":o=bT(e.attr,s.tfName,s.defaultValue||0),o===void 0&&s.tfDeprecatedName&&(o=bT(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number[]":o=ST(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=ST(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool":o=wT(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=wT(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool[]":o=CT(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=CT(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape":o=NT(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=NT(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape[]":o=ET(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=ET(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype":o=_T(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=_T(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype[]":o=AT(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=AT(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"func":o=G$(e.attr,s.tfName,s.defaultValue),o===void 0&&s.tfDeprecatedName&&(o=G$(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${s.type} for op: ${e.op}`)}return r[s.name]={value:o,type:i},r},{})),a}mapFunction(e){const n=e.nodeDef,a=[],r=[];let s={};n!=null&&(s=n.reduce((d,h)=>(d[h.name]=this.mapNode(h),h.op==="Const"&&r.push(d[h.name]),d),{}));const i=[],o=[];e.signature.inputArg.forEach(d=>{const[h]=qc(d.name),m={name:h,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:C3(d.type),type:"dtype"}},children:[]};m.signatureKey=d.name,i.push(m),s[h]=m}),Object.keys(s).forEach(d=>{const h=s[d];h.inputNames.forEach((m,y)=>{const[v,,x]=qc(m),k=s[v];if(k.outputs!=null){const b=k.outputs.indexOf(x);if(b!==-1){const _=`${v}:${b}`;h.inputNames[y]=_}}h.inputs.push(k),k.children.push(h)})});const l=e.ret;e.signature.outputArg.forEach(d=>{const[h,m]=qc(l[d.name]),y=s[h];y!=null&&(y.defaultOutput=m,o.push(y))});const u=this.mapArgsToSignature(e);return{nodes:s,inputs:i,outputs:o,weights:r,placeholders:a,signature:u}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,a)=>(n[a.name]=this.mapArgToTensorInfo(a),n),{}),outputs:e.signature.outputArg.reduce((n,a)=>(n[a.name]=this.mapArgToTensorInfo(a,e.ret),n),{})}}mapArgToTensorInfo(e,n){let a=e.name;return n!=null&&(a=n[a]),{name:a,dtype:e.type}}}function Age(t){const e=Ce().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function O7(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):Age(t);return e?n:n.toLowerCase()}function kT(t,e,n,a=!1){const r=t[e];return r!=null?O7(r.s,a):n}function wT(t,e,n){const a=t[e];return a?a.b:n}function bT(t,e,n){const a=t[e]||{},r=a.i!=null?a.i:a.f!=null?a.f:n;return typeof r=="number"?r:parseInt(r,10)}function C3(t){switch(typeof t=="string"&&(t=Ms[t]),t){case Ms.DT_FLOAT:case Ms.DT_HALF:return"float32";case Ms.DT_INT32:case Ms.DT_INT64:case Ms.DT_INT8:case Ms.DT_UINT8:return"int32";case Ms.DT_BOOL:return"bool";case Ms.DT_DOUBLE:return"float32";case Ms.DT_STRING:return"string";case Ms.DT_COMPLEX64:case Ms.DT_COMPLEX128:return"complex64";default:return null}}function G$(t,e,n){const a=t[e];return a&&a.func?a.func.name:n}function _T(t,e,n){const a=t[e];return a&&a.type?C3(a.type):n}function AT(t,e,n){const a=t[e];return a&&a.list&&a.list.type?a.list.type.map(r=>C3(r)):n}function $7(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function NT(t,e,n){const a=t[e];return a&&a.shape?$7(a.shape):n}function ST(t,e,n){const a=t[e];return a?((a.list.f&&a.list.f.length?a.list.f:a.list.i)||[]).map(r=>typeof r=="number"?r:parseInt(r,10)):n}function TT(t,e,n,a=!1){const r=t[e];return r&&r.list&&r.list.s?r.list.s.map(s=>O7(s,a)):n}function ET(t,e,n){const a=t[e];return a&&a.list&&a.list.shape?a.list.shape.map(r=>$7(r)):n}function CT(t,e,n){const a=t[e];return a&&a.list&&a.list.b?a.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nge{constructor(e,n,a){this.node=e,this.tensorMap=n,this.context=a,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(r=>this.getInput(r)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((r,s)=>(r[s]=this.getAttr(s),r),{}))}getInput(e){return Ir(e,this.tensorMap,this.context)}getAttr(e,n){const a=this.node.rawAttrs[e];if(a.tensor!=null)return Ir(e,this.tensorMap,this.context);if(a.i!=null||a.f!=null)return bT(this.node.rawAttrs,e,n);if(a.s!=null)return kT(this.node.rawAttrs,e,n);if(a.b!=null)return wT(this.node.rawAttrs,e,n);if(a.shape!=null)return NT(this.node.rawAttrs,e,n);if(a.type!=null)return _T(this.node.rawAttrs,e,n);if(a.list!=null){if(a.list.i!=null||a.list.f!=null)return ST(this.node.rawAttrs,e,n);if(a.list.s!=null)return TT(this.node.rawAttrs,e,n);if(a.list.shape!=null)return ET(this.node.rawAttrs,e,n);if(a.list.b!=null)return CT(this.node.rawAttrs,e,n);if(a.list.type!=null)return AT(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mr=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:n8,abs:er,acos:k8,acosh:w8,add:qe,addN:Use,all:ZC,any:Ak,argMax:ad,argMin:b8,asin:_8,asinh:A8,atan:N8,atan2:S8,atanh:T8,avgPool:$b,avgPool3d:E8,basicLSTMCell:fie,batchNorm:n1,batchNorm2d:C8,batchNorm3d:I8,batchNorm4d:D8,batchToSpaceND:Lb,bincount:R8,bitwiseAnd:kie,booleanMaskAsync:rue,broadcastArgs:bie,broadcastTo:th,buffer:cn,cast:ut,ceil:P8,clipByValue:Hs,clone:tl,complex:hu,concat:Ea,concat1d:F8,concat2d:O8,concat3d:$8,concat4d:L8,conv1d:JC,conv2d:yu,conv2dTranspose:tI,conv3d:M8,conv3dTranspose:z8,cos:Mb,cosh:nI,cosineWindow:TI,cumprod:Nk,cumsum:aI,denseBincount:sT,depthToSpace:G8,depthwiseConv2d:a1,diag:jie,dilation2d:U8,div:bt,divNoNan:W8,dot:V8,dropout:gz,einsum:Vp,elu:r1,enclosingPowerOfTwo:yz,ensureShape:toe,equal:To,erf:rI,euclideanNorm:K8,exp:Ks,expandDims:is,expm1:q8,eye:iI,fft:Qb,fill:jh,floor:i1,floorDiv:YC,fused:Sue,gather:o1,gatherND:hue,greater:Js,greaterEqual:Mu,ifft:gg,imag:Bb,image:Wi,inTopKAsync:xue,irfft:wI,isFinite:X8,isInf:Y8,isNaN:Z8,leakyRelu:zb,less:pg,lessEqual:Td,linalg:Nz,linspace:Toe,localResponseNormalization:Q8,log:fi,log1p:Gb,logSigmoid:J8,logSoftmax:oI,logSumExp:Ub,logicalAnd:hc,logicalNot:Wb,logicalOr:cI,logicalXor:ez,losses:ade,lowerBound:Woe,matMul:kn,max:qi,maxPool:Vb,maxPool3d:tz,maxPoolWithArgmax:Koe,maximum:bl,mean:Sa,meshgrid:Yoe,min:dg,minimum:id,mirrorPad:nz,mod:az,moments:jb,movingAverage:oue,mul:me,multiRNNCell:nce,multinomial:rce,neg:fa,norm:s1,notEqual:yh,oneHot:uI,ones:Ws,onesLike:di,op:pe,outerProduct:lce,pad:Bu,pad1d:dce,pad2d:hce,pad3d:gce,pad4d:xce,pool:rz,pow:ul,prelu:Kb,print:v8,prod:sz,raggedGather:Sce,raggedRange:Ece,raggedTensorToTensor:Ice,rand:Rce,randomGamma:ele,randomNormal:dI,randomStandardNormal:ale,randomUniform:Ed,randomUniformInt:ile,range:xh,real:hg,reciprocal:iz,relu:bc,relu6:pI,reshape:xe,reverse:Zi,reverse1d:ple,reverse2d:mle,reverse3d:yle,reverse4d:vle,rfft:Jb,round:hI,rsqrt:mI,scalar:Ot,scatterND:lue,searchSorted:lI,selu:gI,separableConv2d:yI,setdiff1dAsync:Nle,sigmoid:ic,sign:oz,signal:nde,sin:xI,sinh:vI,slice:En,slice1d:Xb,slice2d:kI,slice3d:Yb,slice4d:mg,softmax:Zb,softplus:Hh,spaceToBatchND:Hb,sparse:rde,sparseToDense:due,spectral:tde,split:Vs,sqrt:Or,square:ta,squaredDifference:bI,squeeze:Cd,stack:qs,step:Kh,stridedSlice:cz,string:sde,sub:mt,sum:xt,tan:lz,tanh:sd,tensor:ko,tensor1d:us,tensor2d:P0,tensor3d:uz,tensor4d:jle,tensor5d:Hle,tensor6d:Kle,tensorScatterUpdate:Xle,tile:Ui,topk:dz,transpose:In,truncatedNormal:AI,unique:pz,unsortedSegmentSum:NI,unstack:Qi,upperBound:tue,variable:hz,where:Vr,whereAsync:mz,zeros:tr,zerosLike:Dn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sge=(t,e,n,a=Mr)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[a.add(O("a",t,e,n),O("b",t,e,n))];case"AddN":return[a.addN(O("tensors",t,e,n))];case"FloorMod":case"Mod":return[a.mod(O("a",t,e,n),O("b",t,e,n))];case"Mul":return[a.mul(O("a",t,e,n),O("b",t,e,n))];case"RealDiv":case"Div":return[a.div(O("a",t,e,n),O("b",t,e,n))];case"DivNoNan":return[a.divNoNan(O("a",t,e,n),O("b",t,e,n))];case"FloorDiv":return[a.floorDiv(O("a",t,e,n),O("b",t,e,n))];case"Sub":return[a.sub(O("a",t,e,n),O("b",t,e,n))];case"Minimum":return[a.minimum(O("a",t,e,n),O("b",t,e,n))];case"Maximum":return[a.maximum(O("a",t,e,n),O("b",t,e,n))];case"Pow":return[a.pow(O("a",t,e,n),O("b",t,e,n))];case"SquaredDifference":return[a.squaredDifference(O("a",t,e,n),O("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tge=(t,e,n,a=Mr)=>{switch(t.op){case"Abs":case"ComplexAbs":return[a.abs(O("x",t,e,n))];case"Acos":return[a.acos(O("x",t,e,n))];case"Acosh":return[a.acosh(O("x",t,e,n))];case"Asin":return[a.asin(O("x",t,e,n))];case"Asinh":return[a.asinh(O("x",t,e,n))];case"Atan":return[a.atan(O("x",t,e,n))];case"Atan2":return[a.atan2(O("x",t,e,n),O("y",t,e,n))];case"Atanh":return[a.atanh(O("x",t,e,n))];case"Ceil":return[a.ceil(O("x",t,e,n))];case"Complex":return[a.complex(O("real",t,e,n),O("imag",t,e,n))];case"Cos":return[a.cos(O("x",t,e,n))];case"Cosh":return[a.cosh(O("x",t,e,n))];case"Elu":return[a.elu(O("x",t,e,n))];case"Erf":return[a.erf(O("x",t,e,n))];case"Exp":return[a.exp(O("x",t,e,n))];case"Expm1":return[a.expm1(O("x",t,e,n))];case"Floor":return[a.floor(O("x",t,e,n))];case"Log":return[a.log(O("x",t,e,n))];case"Log1p":return[a.log1p(O("x",t,e,n))];case"Imag":return[a.imag(O("x",t,e,n))];case"Neg":return[a.neg(O("x",t,e,n))];case"Reciprocal":return[a.reciprocal(O("x",t,e,n))];case"Real":return[a.real(O("x",t,e,n))];case"Relu":return[a.relu(O("x",t,e,n))];case"Round":return[a.round(O("x",t,e,n))];case"Selu":return[a.selu(O("x",t,e,n))];case"Sigmoid":return[a.sigmoid(O("x",t,e,n))];case"Sin":return[a.sin(O("x",t,e,n))];case"Sign":return[a.sign(O("x",t,e,n))];case"Sinh":return[a.sinh(O("x",t,e,n))];case"Softplus":return[a.softplus(O("x",t,e,n))];case"Sqrt":return[a.sqrt(O("x",t,e,n))];case"Square":return[a.square(O("x",t,e,n))];case"Tanh":return[a.tanh(O("x",t,e,n))];case"Tan":return[a.tan(O("x",t,e,n))];case"ClipByValue":return[a.clipByValue(O("x",t,e,n),O("clipValueMin",t,e,n),O("clipValueMax",t,e,n))];case"Relu6":return[a.relu6(O("x",t,e,n))];case"Rsqrt":return[a.rsqrt(Ir(t.inputNames[0],e,n))];case"LeakyRelu":return[a.leakyRelu(O("x",t,e,n),O("alpha",t,e,n))];case"Prelu":return[a.prelu(O("x",t,e,n),O("alpha",t,e,n))];case"IsNan":return[a.isNaN(Ir(t.inputNames[0],e,n))];case"IsInf":return[a.isInf(Ir(t.inputNames[0],e,n))];case"IsFinite":return[a.isFinite(Ir(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bi(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){K(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let a=0;a<t.length;a++){const r=t[a],s=e[a];K(r<0||s<0||r===s,()=>n+` Shapes ${t} and ${e} must match`)}}}function U$(t){return!(typeof t=="number"||t.some(e=>e<0))}function p0(t,e,n){let a=IT(t,n);const r=!U$(a);if(r&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${a}`);if(r&&e.forEach(s=>{a=IT(s.shape,a)}),!U$(a))throw new Error(`Non-fully-defined elementShape: ${a}`);return a}function IT(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let a=0;a<t.length;++a){const r=t[a],s=e[a];if(r>=0&&s>=0&&r!==s)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[a]=r>=0?r:s}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ege{constructor(e,n,a,r,s,i,o){this.name=e,this.dtype=n,this.maxSize=a,this.elementShape=r,this.identicalElementShapes=s,this.dynamicSize=i,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=Ot(0),xr(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const a=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Bi(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),a.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(a.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);a.tensor=n,xr(n),a.written=!0,this.tensors[e]=a}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((a,r)=>this.write(a,n[r]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let r=0;r<this.size();r++)e.push(r)}if(e.length===0)return ko([],[0].concat(this.elementShape));const a=this.readMany(e);return Bi(this.elementShape,a[0].shape,"TensorArray shape mismatch: "),qs(a,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return ko([],[0].concat(this.elementShape));const n=[];for(let r=0;r<this.size();r++)n.push(r);const a=this.readMany(n);return Bi(this.elementShape,a[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${a[0].shape})`),Ea(a,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const a=Math.max(...e);if(!this.dynamicSize&&a>=this.maxSize)throw new Error(`Max index must be < array size (${a}  vs. ${this.maxSize})`);this.writeMany(e,Qi(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let a=0;const r=e.map(c=>(a+=c,a));if(a!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${a}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const s=a===0?0:n.size/a,i=[];Ne(()=>{n=xe(n,[1,a,s]);for(let c=0;c<e.length;++c){const u=[0,c===0?0:r[c-1],0],d=[1,e[c],s];i[c]=xe(En(n,u,d),this.elementShape)}return i});const o=[];for(let c=0;c<e.length;c++)o[c]=c;this.writeMany(o,i)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ld{get id(){return this.idTensor.id}constructor(e,n,a,r=-1){this.tensors=e,this.elementShape=n,this.elementDtype=a,e!=null&&e.forEach(s=>{if(a!==s.dtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${s.dtype}`);Bi(n,s.shape,"TensorList shape mismatch: "),xr(s)}),this.idTensor=Ot(0),this.maxNumElements=r,xr(this.idTensor)}copy(){return new ld([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,a=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(a!==-1&&this.tensors.length!==a)throw new Error(`Operation expected a list with ${a} elements but got a list with ${this.tensors.length} elements.`);Bi(e,this.elementShape,"TensorList shape mismatch: ");const r=p0(this.elementShape,this.tensors,e);return Ne(()=>{const s=this.tensors.map(i=>xe(i,r));return qs(s,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const a=p0(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Bi(r.shape,e,"TensorList shape mismatch: "),xe(r,a)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Bi(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");xr(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new ld([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let a=0;a<Math.min(this.tensors.length,e);++a)n.tensors[a]=this.tensors[a];return n}getItem(e,n,a){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Bi(this.tensors[e].shape,n,"TensorList shape mismatch: ");const r=p0(this.elementShape,this.tensors,n);return xe(this.tensors[e],r)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Bi(this.elementShape,n.shape,"TensorList shape mismatch: "),xr(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,a){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);Bi(this.elementShape,a,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=p0(this.elementShape,this.tensors,a);return e.length===0?ko([],[0].concat(r)):Ne(()=>{const s=e.map(i=>xe(this.tensors[i],r));return qs(s,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Bi(this.elementShape,n,"TensorList shape mismatch: ");const a=p0(this.elementShape,this.tensors,n);return this.size()===0?ko([],[0].concat(a)):Ne(()=>{const r=this.tensors.map(s=>xe(s,a));return Ea(r,0)})}}function Cge(t,e,n){const a=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const r=t.shape.slice(1);Bi(r,e,"TensorList shape mismatch: ");const s=Qi(t);return new ld(s,e,a)}function Ige(t,e,n,a){return new ld([],t,e,a)}function Dge(t,e,n,a){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const r=Math.max(...e);if(a!=null&&a!==-1&&r>=a)throw new Error(`Max index must be < array size (${r}  vs. ${a})`);const s=new ld([],n,t.dtype,a),i=Qi(t,0);return e.forEach((o,c)=>{s.setItem(o,i[c])}),s}function Rge(t,e,n){let a=0;const r=e.map(u=>(a+=u,a));if(a!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${a}, and tensor's shape is: ${t.shape}`);const s=t.shape.slice(1),i=IT(s,n),o=a===0?0:t.size/a,c=Ne(()=>{const u=[];t=xe(t,[1,a,o]);for(let d=0;d<e.length;++d){const m=[0,d===0?0:r[d-1],0],y=[1,e[d],o];u[d]=xe(En(t,m,y),i)}return t.dispose(),u}),l=new ld([],n,t.dtype,e.length);for(let u=0;u<c.length;u++)l.setItem(u,c[u]);return l}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pge=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const a=O("thenBranch",t,e,n),r=O("elseBranch",t,e,n),s=O("cond",t,e,n),i=O("args",t,e,n);return(await s.data())[0]?n.functionMap[a].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const a=O("body",t,e,n),r=O("cond",t,e,n),s=O("args",t,e,n),i=await n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap),o=s.map(u=>u.id);let c=await i[0].data();i.forEach(u=>{!u.kept&&o.indexOf(u.id)===-1&&u.dispose()});let l=s;for(;c[0];){const u=l;l=await n.functionMap[a].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);const d=l.map(m=>m.id);u.forEach(m=>{!m.kept&&o.indexOf(m.id)===-1&&d.indexOf(m.id)===-1&&m.dispose()});const h=await n.functionMap[r].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);c=await h[0].data(),h.forEach(m=>{!m.kept&&o.indexOf(m.id)===-1&&d.indexOf(m.id)===-1&&m.dispose()})}return l}case"LoopCond":{const a=O("pred",t,e,n);return[Xc(a)]}case"Switch":{const a=O("pred",t,e,n);let r=O("data",t,e,n);return r.kept||(r=Xc(r)),(await a.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const a=t.inputNames.find(r=>Ir(r,e,n)!==void 0);if(a){const r=Ir(a,e,n);return[Xc(r)]}return}case"Enter":{const a=O("frameName",t,e,n),r=O("tensor",t,e,n);return n.enterFrame(a),[Xc(r)]}case"Exit":{const a=O("tensor",t,e,n);return n.exitFrame(),[Xc(a)]}case"NextIteration":{const a=O("tensor",t,e,n);return n.nextIteration(),[Xc(a)]}case"TensorArrayV3":{const a=O("size",t,e,n),r=O("dtype",t,e,n),s=O("elementShape",t,e,n),i=O("dynamicSize",t,e,n),o=O("clearAfterRead",t,e,n),c=O("identicalElementShapes",t,e,n),l=O("name",t,e,n),u=new Ege(l,r,a,s,c,i,o);return n.addTensorArray(u),[u.idTensor,Ot(1)]}case"TensorArrayWriteV3":{const a=O("tensorArrayId",t,e,n),r=O("index",t,e,n),s=O("tensor",t,e,n),i=n.getTensorArray(a.id);return i.write(r,s),[i.idTensor]}case"TensorArrayReadV3":{const a=O("tensorArrayId",t,e,n),r=O("index",t,e,n);return[n.getTensorArray(a.id).read(r)]}case"TensorArrayGatherV3":{const a=O("tensorArrayId",t,e,n),r=O("indices",t,e,n),s=O("dtype",t,e,n);return[n.getTensorArray(a.id).gather(r,s)]}case"TensorArrayScatterV3":{const a=O("tensorArrayId",t,e,n),r=O("indices",t,e,n),s=O("tensor",t,e,n),i=n.getTensorArray(a.id);return i.scatter(r,s),[i.idTensor]}case"TensorArrayConcatV3":{const a=O("tensorArrayId",t,e,n),r=n.getTensorArray(a.id),s=O("dtype",t,e,n);return[r.concat(s)]}case"TensorArraySplitV3":{const a=O("tensorArrayId",t,e,n),r=O("tensor",t,e,n),s=O("lengths",t,e,n),i=n.getTensorArray(a.id);return i.split(s,r),[i.idTensor]}case"TensorArraySizeV3":{const a=O("tensorArrayId",t,e,n),r=n.getTensorArray(a.id);return[Ot(r.size(),"int32")]}case"TensorArrayCloseV3":{const a=O("tensorArrayId",t,e,n),r=n.getTensorArray(a.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const a=O("tensorListId",t,e,n),r=O("index",t,e,n),s=O("tensor",t,e,n),i=n.getTensorList(a.id);return i.setItem(r,s),[i.idTensor]}case"TensorListGetItem":{const a=O("tensorListId",t,e,n),r=O("index",t,e,n),s=O("elementShape",t,e,n),i=O("elementDType",t,e,n);return[n.getTensorList(a.id).getItem(r,s,i)]}case"TensorListScatterV2":case"TensorListScatter":{const a=O("indices",t,e,n),r=O("tensor",t,e,n),s=O("elementShape",t,e,n),i=O("numElements",t,e,n),o=Dge(r,a,s,i);return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const a=O("elementShape",t,e,n),r=O("elementDType",t,e,n);let s;t.op==="TensorListReserve"?s="numElements":s="maxNumElements";const i=O(s,t,e,n),o=t.op==="TensorListReserve"?-1:i,c=Ige(a,r,i,o);return n.addTensorList(c),[c.idTensor]}case"TensorListGather":{const a=O("tensorListId",t,e,n),r=O("indices",t,e,n),s=O("elementShape",t,e,n),i=O("elementDType",t,e,n);return[n.getTensorList(a.id).gather(r,i,s)]}case"TensorListStack":{const a=O("tensorListId",t,e,n),r=O("elementShape",t,e,n),s=O("elementDType",t,e,n),i=O("numElements",t,e,n);return[n.getTensorList(a.id).stack(r,s,i)]}case"TensorListFromTensor":{const a=O("tensor",t,e,n),r=O("elementShape",t,e,n),s=O("elementDType",t,e,n),i=Cge(a,r,s);return n.addTensorList(i),[i.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const a=O("tensorListId",t,e,n),r=n.getTensorList(a.id),s=O("dtype",t,e,n),i=O("elementShape",t,e,n);return[r.concat(s,i)]}case"TensorListPushBack":{const a=O("tensorListId",t,e,n),r=O("tensor",t,e,n),s=n.getTensorList(a.id);return s.pushBack(r),[s.idTensor]}case"TensorListPopBack":{const a=O("tensorListId",t,e,n),r=O("elementShape",t,e,n),s=O("elementDType",t,e,n);return[n.getTensorList(a.id).popBack(r,s)]}case"TensorListSplit":{const a=O("tensor",t,e,n),r=O("elementShape",t,e,n),s=O("lengths",t,e,n),i=Rge(a,s,r);return n.addTensorList(i),[i.idTensor]}case"TensorListLength":{const a=O("tensorListId",t,e,n),r=n.getTensorList(a.id);return[Ot(r.size(),"int32")]}case"TensorListResize":{const a=O("tensorListId",t,e,n),r=O("size",t,e,n),i=n.getTensorList(a.id).resize(r);return n.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W$(t,e,n){const[a,r]=O("fusedOps",t,e,n),s=a==="biasadd",i=!s,o=r==="prelu",c=a==="fusedbatchnorm",l=O("numArgs",t,e,n);if(s){if(o&&l!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&s&&l!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=O("strides",t,e,n),d=nk(t,e,n),h=O("dataFormat",t,e,n).toUpperCase(),m=O("dilations",t,e,n);let[y,v]=O("args",t,e,n);i&&(v=y,y=void 0);const x=O("leakyreluAlpha",t,e,n);return{stride:u,pad:d,dataFormat:h,dilations:m,biasArg:y,preluArg:v,activationFunc:r,leakyreluAlpha:x}}const Fge=(t,e,n,a=Mr)=>{switch(t.op){case"Conv1D":{const r=O("stride",t,e,n),s=O("pad",t,e,n),i=O("dataFormat",t,e,n).toUpperCase(),o=O("dilation",t,e,n);return[a.conv1d(O("x",t,e,n),O("filter",t,e,n),r,s,i,o)]}case"Conv2D":{const r=O("strides",t,e,n),s=nk(t,e,n),i=O("dataFormat",t,e,n).toUpperCase(),o=O("dilations",t,e,n);return[a.conv2d(O("x",t,e,n),O("filter",t,e,n),[r[1],r[2]],s,i,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:r,pad:s,dataFormat:i,dilations:o,biasArg:c,preluArg:l,activationFunc:u,leakyreluAlpha:d}=W$(t,e,n);return[a.fused.conv2d({x:O("x",t,e,n),filter:O("filter",t,e,n),strides:[r[1],r[2]],pad:s,dataFormat:i,dilations:[o[1],o[2]],bias:c,activation:u,preluActivationWeights:l,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:s,dataFormat:i,dilations:o,biasArg:c,preluArg:l,activationFunc:u,leakyreluAlpha:d}=W$(t,e,n);return[a.fused.depthwiseConv2d({x:O("x",t,e,n),filter:O("filter",t,e,n),strides:[r[1],r[2]],pad:s,dataFormat:i,dilations:[o[1],o[2]],bias:c,activation:u,preluActivationWeights:l,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=O("outputShape",t,e,n),s=O("strides",t,e,n),i=nk(t,e,n);return[a.conv2dTranspose(O("x",t,e,n),O("filter",t,e,n),r,[s[1],s[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=O("strides",t,e,n),s=nk(t,e,n),i=O("dilations",t,e,n),o=O("dataFormat",t,e,n).toUpperCase();return[a.depthwiseConv2d(O("input",t,e,n),O("filter",t,e,n),[r[1],r[2]],s,o,[i[1],i[2]])]}case"Conv3D":{const r=O("strides",t,e,n),s=O("pad",t,e,n),i=O("dataFormat",t,e,n).toUpperCase(),o=O("dilations",t,e,n);return[a.conv3d(O("x",t,e,n),O("filter",t,e,n),[r[1],r[2],r[3]],s,i,[o[1],o[2],o[3]])]}case"AvgPool":{const r=O("strides",t,e,n),s=O("pad",t,e,n),i=O("kernelSize",t,e,n);return[a.avgPool(O("x",t,e,n),[i[1],i[2]],[r[1],r[2]],s)]}case"MaxPool":{const r=O("strides",t,e,n),s=O("pad",t,e,n),i=O("kernelSize",t,e,n);return[a.maxPool(O("x",t,e,n),[i[1],i[2]],[r[1],r[2]],s)]}case"MaxPoolWithArgmax":{const r=O("strides",t,e,n),s=O("pad",t,e,n),i=O("kernelSize",t,e,n),o=O("includeBatchInIndex",t,e,n),{result:c,indexes:l}=a.maxPoolWithArgmax(O("x",t,e,n),[i[1],i[2]],[r[1],r[2]],s,o);return[c,l]}case"AvgPool3D":{const r=O("strides",t,e,n),s=O("pad",t,e,n),i=O("kernelSize",t,e,n);return[a.avgPool3d(O("x",t,e,n),[i[1],i[2],i[3]],[r[1],r[2],r[3]],s)]}case"MaxPool3D":{const r=O("strides",t,e,n),s=O("pad",t,e,n),i=O("kernelSize",t,e,n);return[a.maxPool3d(O("x",t,e,n),[i[1],i[2],i[3]],[r[1],r[2],r[3]],s)]}case"Dilation2D":{const r=O("strides",t,e,n),s=O("pad",t,e,n),i=O("dilations",t,e,n),o=r[1],c=r[2],l=i[1],u=i[2];return[a.dilation2d(O("x",t,e,n),O("filter",t,e,n),[o,c],s,[l,u],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oge=(t,e,n,a=Mr)=>{switch(t.op){case"Fill":{const r=O("shape",t,e,n),s=O("dtype",t,e,n),i=O("value",t,e,n);return[a.fill(r,i,s)]}case"LinSpace":{const r=O("start",t,e,n),s=O("stop",t,e,n),i=O("num",t,e,n);return[a.linspace(r,s,i)]}case"Multinomial":{const r=O("logits",t,e,n),s=O("numSamples",t,e,n),i=O("seed",t,e,n);return[a.multinomial(r,s,i)]}case"OneHot":{const r=O("indices",t,e,n),s=O("depth",t,e,n),i=O("onValue",t,e,n),o=O("offValue",t,e,n),c=O("dtype",t,e,n);return[a.oneHot(r,s,i,o,c)]}case"Ones":return[a.ones(O("shape",t,e,n),O("dtype",t,e,n))];case"OnesLike":return[a.onesLike(O("x",t,e,n))];case"RandomStandardNormal":return[a.randomStandardNormal(O("shape",t,e,n),O("dtype",t,e,n),O("seed",t,e,n))];case"RandomUniform":return[a.randomUniform(O("shape",t,e,n),O("minval",t,e,n),O("maxval",t,e,n),O("dtype",t,e,n))];case"RandomUniformInt":return[a.randomUniformInt(O("shape",t,e,n),O("minval",t,e,n),O("maxval",t,e,n),O("seed",t,e,n))];case"Range":{const r=O("start",t,e,n),s=O("stop",t,e,n),i=O("step",t,e,n);return[a.range(r,s,i,O("dtype",t,e,n))]}case"TruncatedNormal":{const r=O("shape",t,e,n),s=O("mean",t,e,n),i=O("stdDev",t,e,n),o=O("seed",t,e,n);return[a.truncatedNormal(r,s,i,O("dtype",t,e,n),o)]}case"Zeros":return[a.zeros(O("shape",t,e,n),O("dtype",t,e,n))];case"ZerosLike":return[a.zerosLike(O("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $N(t,e,n){const a=O("boxes",t,e,n),r=O("scores",t,e,n),s=O("maxOutputSize",t,e,n),i=O("iouThreshold",t,e,n),o=O("scoreThreshold",t,e,n),c=O("softNmsSigma",t,e,n);return{boxes:a,scores:r,maxOutputSize:s,iouThreshold:i,scoreThreshold:o,softNmsSigma:c}}const $ge=async(t,e,n,a,r=Mr)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:s,scores:i,maxOutputSize:o,iouThreshold:c,scoreThreshold:l,softNmsSigma:u}=$N(t,e,n),d=await r.image.nonMaxSuppressionWithScoreAsync(s,i,o,c,l,u);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:s,scores:i,maxOutputSize:o,iouThreshold:c,scoreThreshold:l}=$N(t,e,n),u=O("padToMaxOutputSize",t,e,n),d=await r.image.nonMaxSuppressionPaddedAsync(s,i,o,c,l,u);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:s,scores:i,maxOutputSize:o,iouThreshold:c,scoreThreshold:l}=$N(t,e,n);return[await r.image.nonMaxSuppressionAsync(s,i,o,c,l)]}case"Where":{const s=r.cast(O("condition",t,e,n),"bool"),i=[await r.whereAsync(s)];return s.dispose(),i}case"ListDiff":return r.setdiff1dAsync(O("x",t,e,n),O("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lge=(t,e,n,a=Mr)=>{switch(t.op){case"LowerBound":{const r=O("sortedSequence",t,e,n),s=O("values",t,e,n);return[a.lowerBound(r,s)]}case"TopKV2":{const r=O("x",t,e,n),s=O("k",t,e,n),i=O("sorted",t,e,n),o=a.topk(r,s,i);return[o.values,o.indices]}case"UpperBound":{const r=O("sortedSequence",t,e,n),s=O("values",t,e,n);return[a.upperBound(r,s)]}case"Unique":{const r=O("x",t,e,n),s=a.unique(r);return[s.values,s.indices]}case"UniqueV2":{const r=O("x",t,e,n),s=O("axis",t,e,n),i=a.unique(r,s);return[i.values,i.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mge=(t,e,n,a=Mr)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const r=O("default",t,e,n);return[Ir(t.name,e,n)||r];case"Placeholder":return[Ir(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const u=O("x",t,e,n);return[Xc(u)]}case"IdentityN":return O("x",t,e,n).map(u=>Xc(u));case"Snapshot":const s=O("x",t,e,n);return[Xc(s)];case"Shape":return[a.tensor1d(O("x",t,e,n).shape,"int32")];case"ShapeN":return O("x",t,e,n).map(u=>a.tensor1d(u.shape));case"Size":return[a.scalar(O("x",t,e,n).size,"int32")];case"Rank":return[a.scalar(O("x",t,e,n).rank,"int32")];case"NoOp":return[a.scalar(1)];case"Print":const i=O("x",t,e,n),o=O("data",t,e,n),c=O("message",t,e,n),l=O("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(c);for(let u=0;u<o.length;u++)console.log(Array.prototype.slice.call(o[u].dataSync()).slice(0,l));return[i];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bge{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=Ot(0),this.tensorMap=new Map,xr(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Ot(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const a=await e.data();return this.tensorMap.forEach(r=>r.dispose()),this.tensorMap.clear(),Ne(()=>{const r=Qi(n),s=a.length,i=r.length;K(s===i,()=>`The number of elements doesn't match, keys has ${s} elements, the values has ${i} elements.`);for(let o=0;o<s;o++){const c=a[o],l=r[o];xr(l),this.tensorMap.set(c,l)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const a=await e.data();return Ne(()=>{const r=[];for(let s=0;s<a.length;s++){const i=a[s],o=this.findWithDefault(i,n);r.push(o)}return qs(r)})}findWithDefault(e,n){const a=this.tensorMap.get(e);return a??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zge=async(t,e,n,a)=>{switch(t.op){case"HashTable":case"HashTableV2":{const r=a.getHashTableHandleByName(t.name);if(r!=null)return[r];{const s=O("keyDType",t,e,n),i=O("valueDType",t,e,n),o=new Bge(s,i);return a.addHashTable(t.name,o),[o.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const r=O("tableHandle",t,e,n,a),s=O("keys",t,e,n),i=O("values",t,e,n);return[await a.getHashTableById(r.id).import(s,i)]}case"LookupTableFind":case"LookupTableFindV2":{const r=O("tableHandle",t,e,n,a),s=O("keys",t,e,n),i=O("defaultValue",t,e,n);return[await a.getHashTableById(r.id).find(s,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=O("tableHandle",t,e,n,a);return[a.getHashTableById(r.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gge=(t,e,n,a=Mr)=>{switch(t.op){case"ResizeBilinear":{const r=O("images",t,e,n),s=O("size",t,e,n),i=O("alignCorners",t,e,n),o=O("halfPixelCenters",t,e,n);return[a.image.resizeBilinear(r,[s[0],s[1]],i,o)]}case"ResizeNearestNeighbor":{const r=O("images",t,e,n),s=O("size",t,e,n),i=O("alignCorners",t,e,n),o=O("halfPixelCenters",t,e,n);return[a.image.resizeNearestNeighbor(r,[s[0],s[1]],i,o)]}case"CropAndResize":{const r=O("image",t,e,n),s=O("boxes",t,e,n),i=O("boxInd",t,e,n),o=O("cropSize",t,e,n),c=O("method",t,e,n),l=O("extrapolationValue",t,e,n);return[a.image.cropAndResize(r,s,i,o,c,l)]}case"ImageProjectiveTransformV3":{const r=O("images",t,e,n),s=O("transforms",t,e,n),i=O("outputShape",t,e,n),o=O("fillValue",t,e,n),c=O("interpolation",t,e,n),l=O("fillMode",t,e,n);return[a.image.transform(r,s,c.toLowerCase(),l.toLowerCase(),o,i)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uge=(t,e,n,a=Mr)=>{switch(t.op){case"Equal":return[a.equal(O("a",t,e,n),O("b",t,e,n))];case"NotEqual":return[a.notEqual(O("a",t,e,n),O("b",t,e,n))];case"Greater":return[a.greater(O("a",t,e,n),O("b",t,e,n))];case"GreaterEqual":return[a.greaterEqual(O("a",t,e,n),O("b",t,e,n))];case"Less":return[a.less(O("a",t,e,n),O("b",t,e,n))];case"LessEqual":return[a.lessEqual(O("a",t,e,n),O("b",t,e,n))];case"LogicalAnd":return[a.logicalAnd(O("a",t,e,n),O("b",t,e,n))];case"LogicalNot":return[a.logicalNot(O("a",t,e,n))];case"LogicalOr":return[a.logicalOr(O("a",t,e,n),O("b",t,e,n))];case"Select":case"SelectV2":return[a.where(O("condition",t,e,n),O("a",t,e,n),O("b",t,e,n))];case"BitwiseAnd":return[a.bitwiseAnd(O("a",t,e,n),O("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wge=(t,e,n,a=Mr)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[a.matMul(O("a",t,e,n),O("b",t,e,n),O("transposeA",t,e,n),O("transposeB",t,e,n))];case"Einsum":return[a.einsum(O("equation",t,e,n),...O("tensors",t,e,n))];case"Transpose":return[a.transpose(O("x",t,e,n),O("perm",t,e,n))];case"_FusedMatMul":const[r,s]=O("fusedOps",t,e,n),i=r==="biasadd",o=s==="prelu",c=O("numArgs",t,e,n),l=O("leakyreluAlpha",t,e,n);if(i){if(o&&c!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&c!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=O("args",t,e,n);return[a.fused.matMul({a:O("a",t,e,n),b:O("b",t,e,n),transposeA:O("transposeA",t,e,n),transposeB:O("transposeB",t,e,n),bias:u,activation:s,preluActivationWeights:d,leakyreluAlpha:l})];case"MatrixBandPart":return[a.linalg.bandPart(O("a",t,e,n),O("numLower",t,e,n),O("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vge=(t,e,n,a=Mr)=>{switch(t.op){case"EuclideanNorm":return[a.euclideanNorm(O("x",t,e,n),O("axis",t,e,n),O("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[a.batchNorm(O("x",t,e,n),O("mean",t,e,n),O("variance",t,e,n),O("offset",t,e,n),O("scale",t,e,n),O("epsilon",t,e,n))];case"FusedBatchNormV3":return[a.batchNorm(O("x",t,e,n),O("mean",t,e,n),O("variance",t,e,n),O("offset",t,e,n),O("scale",t,e,n),O("epsilon",t,e,n))];case"LRN":return[a.localResponseNormalization(O("x",t,e,n),O("radius",t,e,n),O("bias",t,e,n),O("alpha",t,e,n),O("beta",t,e,n))];case"Softmax":return[a.softmax(O("x",t,e,n))];case"LogSoftmax":return[a.logSoftmax(O("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jge=(t,e,n,a=Mr)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:s}=a.raggedGather(O("paramsNestedSplits",t,e,n),O("paramsDenseValues",t,e,n),O("indices",t,e,n),O("outputRaggedRank",t,e,n));return r.concat(s)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:s}=a.raggedRange(O("starts",t,e,n),O("limits",t,e,n),O("splits",t,e,n));return[r,s]}case"RaggedTensorToTensor":return[a.raggedTensorToTensor(O("shape",t,e,n),O("values",t,e,n),O("defaultValue",t,e,n),O("rowPartitionTensors",t,e,n),O("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hge=(t,e,n,a=Mr)=>{switch(t.op){case"Max":{const o=O("axis",t,e,n),c=O("keepDims",t,e,n);return[a.max(O("x",t,e,n),o,c)]}case"Mean":{const o=O("axis",t,e,n),c=O("keepDims",t,e,n);return[a.mean(O("x",t,e,n),o,c)]}case"Min":{const o=O("axis",t,e,n),c=O("keepDims",t,e,n);return[a.min(O("x",t,e,n),o,c)]}case"Sum":{const o=O("axis",t,e,n),c=O("keepDims",t,e,n);return[a.sum(O("x",t,e,n),o,c)]}case"All":{const o=O("axis",t,e,n),c=O("keepDims",t,e,n);return[a.all(O("x",t,e,n),o,c)]}case"Any":{const o=O("axis",t,e,n),c=O("keepDims",t,e,n);return[a.any(O("x",t,e,n),o,c)]}case"ArgMax":{const o=O("axis",t,e,n);return[a.argMax(O("x",t,e,n),o)]}case"ArgMin":{const o=O("axis",t,e,n);return[a.argMin(O("x",t,e,n),o)]}case"Prod":{const o=O("axis",t,e,n),c=O("keepDims",t,e,n);return[a.prod(O("x",t,e,n),o,c)]}case"Cumprod":{const o=O("axis",t,e,n),c=O("exclusive",t,e,n),l=O("reverse",t,e,n);return[a.cumprod(O("x",t,e,n),o,c,l)]}case"Cumsum":{const o=O("axis",t,e,n),c=O("exclusive",t,e,n),l=O("reverse",t,e,n);return[a.cumsum(O("x",t,e,n),o,c,l)]}case"Bincount":const r=O("x",t,e,n),s=O("weights",t,e,n),i=O("size",t,e,n);return[a.bincount(r,s,i)];case"DenseBincount":{const o=O("x",t,e,n),c=O("weights",t,e,n),l=O("size",t,e,n),u=O("binaryOutput",t,e,n);return[a.denseBincount(o,c,l,u)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kge=(t,e,n,a=Mr)=>{switch(t.op){case"ConcatV2":case"Concat":{const r=O("n",t,e,n),s=O("axis",t,e,n);let i=O("tensors",t,e,n);return i=i.slice(0,r),[a.concat(i,s)]}case"Gather":{const r=O("x",t,e,n),s=O("indices",t,e,n);return[a.gather(r,a.cast(s,"int32"),0)]}case"GatherV2":{const r=O("axis",t,e,n),s=O("batchDims",t,e,n),i=O("x",t,e,n),o=O("indices",t,e,n);return[a.gather(i,a.cast(o,"int32"),r,s)]}case"Reverse":{const r=O("dims",t,e,n),s=[];for(let o=0;o<r.length;o++)r[o]&&s.push(o);const i=O("x",t,e,n);return[a.reverse(i,s)]}case"ReverseV2":{const r=O("axis",t,e,n),s=O("x",t,e,n);return[a.reverse(s,r)]}case"Slice":{const r=O("begin",t,e,n),s=O("size",t,e,n);return[a.slice(O("x",t,e,n),r,s)]}case"StridedSlice":{const r=O("begin",t,e,n),s=O("end",t,e,n),i=O("strides",t,e,n),o=O("beginMask",t,e,n),c=O("endMask",t,e,n),l=O("ellipsisMask",t,e,n),u=O("newAxisMask",t,e,n),d=O("shrinkAxisMask",t,e,n),h=O("x",t,e,n);return[a.stridedSlice(h,r,s,i,o,c,l,u,d)]}case"Pack":return Ne(()=>{const r=O("axis",t,e,n),s=O("tensors",t,e,n),i=s[0].shape,o=a.squeeze(s[0]).shape,c=s.map(l=>{const u=Sn(l.shape,i);if(!u&&!Sn(a.squeeze(l).shape,o))throw new Error("the input tensors shape does not match");return u?l:a.reshape(l,i)});return[a.stack(c,r)]});case"Unpack":{const r=O("axis",t,e,n),s=O("tensor",t,e,n);return a.unstack(s,r)}case"Tile":{const r=O("reps",t,e,n);return[a.tile(O("x",t,e,n),r)]}case"Split":case"SplitV":{const r=O("axis",t,e,n),s=O("numOrSizeSplits",t,e,n),i=O("x",t,e,n);return a.split(i,s,r)}case"ScatterNd":{const r=O("indices",t,e,n),s=O("values",t,e,n),i=O("shape",t,e,n);return[a.scatterND(r,s,i)]}case"GatherNd":{const r=O("x",t,e,n),s=O("indices",t,e,n);return[a.gatherND(r,s)]}case"SparseToDense":{const r=O("sparseIndices",t,e,n),s=O("outputShape",t,e,n),i=O("sparseValues",t,e,n),o=O("defaultValue",t,e,n);return[a.sparseToDense(r,i,s,i.dtype===o.dtype?o:a.cast(o,i.dtype))]}case"TensorScatterUpdate":{const r=O("indices",t,e,n),s=O("values",t,e,n),i=O("tensor",t,e,n);return[a.tensorScatterUpdate(i,r,s)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qge=(t,e,n,a=Mr)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:s,emptyRowIndicator:i,reverseIndexMap:o}=a.sparse.sparseFillEmptyRows(O("indices",t,e,n),O("values",t,e,n),O("denseShape",t,e,n),O("defaultValue",t,e,n));return[r,s,i,o]}case"SparseReshape":{const{outputIndices:r,outputShape:s}=a.sparse.sparseReshape(O("inputIndices",t,e,n),O("inputShape",t,e,n),O("newShape",t,e,n));return[r,s]}case"SparseSegmentMean":return[a.sparse.sparseSegmentMean(O("data",t,e,n),O("indices",t,e,n),O("segmentIds",t,e,n))];case"SparseSegmentSum":return[a.sparse.sparseSegmentSum(O("data",t,e,n),O("indices",t,e,n),O("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xge=(t,e,n,a=Mr)=>{switch(t.op){case"FFT":return[a.fft(O("x",t,e,n))];case"IFFT":return[a.ifft(O("x",t,e,n))];case"RFFT":return[a.rfft(O("x",t,e,n))];case"IRFFT":return[a.irfft(O("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yge=(t,e,n,a=Mr)=>{switch(t.op){case"StaticRegexReplace":return[a.string.staticRegexReplace(O("input",t,e,n),O("pattern",t,e,n),O("rewrite",t,e,n),O("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:r,nGramsSplits:s}=a.string.stringNGrams(O("data",t,e,n),O("dataSplits",t,e,n),O("separator",t,e,n),O("nGramWidths",t,e,n),O("leftPad",t,e,n),O("rightPad",t,e,n),O("padWidth",t,e,n),O("preserveShortSequences",t,e,n));return[r,s]}case"StringSplit":{const{indices:r,values:s,shape:i}=a.string.stringSplit(O("input",t,e,n),O("delimiter",t,e,n),O("skipEmpty",t,e,n));return[r,s,i]}case"StringToHashBucketFast":return[a.string.stringToHashBucketFast(O("input",t,e,n),O("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zge=(t,e,n,a=Mr)=>{switch(t.op){case"Cast":return[a.cast(O("x",t,e,n),O("dtype",t,e,n))];case"ExpandDims":{const r=O("axis",t,e,n);return[a.expandDims(O("x",t,e,n),r)]}case"Squeeze":{const r=O("axis",t,e,n);return[a.squeeze(O("x",t,e,n),r)]}case"Reshape":return[a.reshape(O("x",t,e,n),O("shape",t,e,n))];case"EnsureShape":return[a.ensureShape(O("x",t,e,n),O("shape",t,e,n))];case"MirrorPad":return[a.mirrorPad(O("x",t,e,n),O("padding",t,e,n),O("mode",t,e,n))];case"PadV2":case"Pad":return[a.pad(O("x",t,e,n),O("padding",t,e,n),O("constantValue",t,e,n))];case"SpaceToBatchND":{const r=O("blockShape",t,e,n),s=O("paddings",t,e,n);return[a.spaceToBatchND(O("x",t,e,n),r,s)]}case"BatchToSpaceND":{const r=O("blockShape",t,e,n),s=O("crops",t,e,n);return[a.batchToSpaceND(O("x",t,e,n),r,s)]}case"DepthToSpace":{const r=O("blockSize",t,e,n),s=O("dataFormat",t,e,n).toUpperCase();return[a.depthToSpace(O("x",t,e,n),r,s)]}case"BroadcastTo":return[a.broadcastTo(O("x",t,e,n),O("shape",t,e,n))];case"BroadcastArgs":return[a.broadcastArgs(O("s0",t,e,n),O("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V$(t,e,n,a,r=Ne){const s=((i,o,c)=>{switch(i.category){case"arithmetic":return r(()=>Sge(i,o,c));case"basic_math":return r(()=>Tge(i,o,c));case"control":return Pge(i,o,c);case"convolution":return r(()=>Fge(i,o,c));case"creation":return r(()=>Oge(i,o,c));case"dynamic":return $ge(i,o,c);case"evaluation":return r(()=>Lge(i,o,c));case"image":return r(()=>Gge(i,o,c));case"graph":return r(()=>Mge(i,o,c));case"logical":return r(()=>Uge(i,o,c));case"matrices":return r(()=>Wge(i,o,c));case"normalization":return r(()=>Vge(i,o,c));case"ragged":return r(()=>jge(i,o,c));case"reduction":return r(()=>Hge(i,o,c));case"slice_join":return r(()=>Kge(i,o,c));case"sparse":return r(()=>qge(i,o,c));case"spectral":return r(()=>Xge(i,o,c));case"string":return r(()=>Yge(i,o,c));case"transformation":return r(()=>Zge(i,o,c));case"hash_table":return zge(i,o,c,a);case"custom":const l=F7(i.op);if(l&&l.customExecutor)return l.customExecutor(new Nge(i,o,c));throw TypeError(`Custom op ${i.op} is not registered.`);default:throw TypeError(`Unknown op '${i.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return Qf(s)?s.then(i=>[].concat(i)):[].concat(s)}class j${constructor(e={},n={},a={},r={},s){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=a,this.functionMap=r,this.parseNodeNameCache=s,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const a=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(a))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H$(t,e,n,a){const r=new Set,s=[];let i=null,o=null;const c=new Set,l=new Set(Object.keys(t).map(h=>zs(h)[0]));a=a||[];const u=new Set(a.map(h=>zs(h.name)[0])),d=[...e];for(;d.length>0;){const h=d.pop();if((Nf(h)||sye(h)||iye(h))&&i==null&&(i=h,o=i.children.map(m=>m.name).filter(m=>r.has(m))),r.add(h.name),n[h.name]==null&&!l.has(h.name)&&!u.has(h.name)){if(h.inputs.length===0){s.push(h.name);continue}h.inputs.forEach(m=>{c.has(m.name)||(c.add(m.name),d.push(m))})}}return{inputs:t,outputs:e,usedNodes:r,missingInputs:s,dynamicNode:i,syncInputs:o}}function Qge(t,e){const{usedNodes:n,inputs:a}=e,r=Object.keys(a).map(x=>zs(x)[0]).map(x=>t.nodes[x]),s=t.initNodes||[],i=x=>n.has(typeof x=="string"?x:x.name);function o(x){return[...new Map(x.map(k=>[k.name,k])).values()]}const c=o([...r,...t.weights,...s]).filter(i),l=o([...c,...Object.values(t.nodes)]).filter(i),u=new Map(l.map(x=>[x.name,x])),d={};for(const x of l){d[x.name]=d[x.name]||0;for(const k of x.children)i(k)||(d[k.name]=Number.POSITIVE_INFINITY),d[k.name]=(d[k.name]||0)+1}const h=Object.entries(d).filter(([,x])=>x===0).map(([x])=>x),m=[...h];for(;h.length>0;){const x=h.pop(),k=u.get(x);for(const b of k.children.filter(i))--d[b.name]===0&&(m.push(b.name),h.push(b.name))}const y=m.map(x=>u.get(x)),v=Jge(y,c);return eye(v,c),v}function Jge(t,e){const n=new Map(t.map(i=>[i.name,i])),a=e.map(i=>i.name),r=new Set(a);for(;a.length>0;){const i=a.pop(),o=n.get(i);for(const c of o.children)!n.has(c.name)||r.has(c.name)||(r.add(c.name),a.push(c.name))}return t.filter(i=>r.has(i.name))}class pv extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function eye(t,e){const n=new Map(t.map((o,c)=>[o.name,c])),a=new Set(e.map(o=>o.name)),r=o=>a.has(typeof o=="string"?o:o.name),s=new Set(t.map(o=>o.name)),i=o=>s.has(typeof o=="string"?o:o.name);for(const o of t){for(const c of o.children.filter(i)){if(!n.has(c.name))throw new pv(`Child ${c.name} of node ${o.name} is unreachable.`);if(n.get(o.name)>n.get(c.name))throw new pv(`Node ${o.name} is scheduled to run after its child ${c.name}.`)}if(!r(o))for(const c of o.inputs){if(!n.has(c.name))throw new pv(`Input ${c.name} of node ${o.name} is unreachable.`);if(n.get(c.name)>n.get(o.name))throw new pv(`Node ${o.name} is scheduled to run before its input ${c.name}.`)}}}function tye(t){const e=new Map(t.map((o,c)=>[o.name,c])),n=Number.MAX_SAFE_INTEGER,a=t.map((o,c)=>Nf(o)?n:c),r=o=>{const c=a[e.get(o.name)];return c??-1},s=t.map((o,c)=>o.children.map(r).reduce((l,u)=>Math.max(l,u),a[c])),i=new Map;for(let o=0;o<t.length;++o){const c=s[o];if(c===n)continue;const l=t[o],u=t[c];i.has(u.name)||i.set(u.name,[]),i.get(u.name).push(l)}return i}const nye=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),aye=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),rye=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Nf(t){return nye.has(t.op)}function sye(t){return aye.has(t.op)}function iye(t){return rye.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $k{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(a=>e[a].map(r=>r.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(a=>{this._functionExecutorMap[a]=new $k(e.functions[a],this)})}getCompilationKey(e,n){const a=e.map(s=>s.name).sort(),r=n.map(s=>s.name).sort();return a.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,n){const a=H$(e,n,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:s,syncInputs:i}=a;if(s!=null)throw new Error(`This execution contains the node '${s.name}', which has the dynamic op '${s.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(r.length>0){const l=n.map(d=>d.name),u=Object.keys(e);throw new Error(`Cannot compute the outputs [${l}] from the provided inputs [${u}]. Missing the following inputs: [${r}]`)}const o=Qge(this.graph,a),c=tye(o);return{orderedNodes:o,nodeLiveUntilMap:c}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return xr(n),n}cloneTensorList(e){return e?e.map(a=>this.cloneAndKeepTensor(a)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,a])=>[n,this.cloneTensorList(a)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const a=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const r=a.map(h=>this.graph.nodes[zs(h)[0]]),s=n.map(h=>zs(h)[0]),i=new Set(s);let o=s.map(h=>this.graph.nodes[h]);o.length===0&&(o=this._outputs);const c=this.getCompilationKey(r,o);let l=this.compiledMap.get(c);l==null&&(l=this.compile(e,o),this.compiledMap.set(c,l));try{this.keepIntermediateTensors=Ce().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const u={},d={};return Ne(()=>{const h=new j$(this.weightMap,u,d,this.functionExecutorMap,this.parseNodeNameCache),m=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(k=>{const[b,_]=zs(k,h),A=[];A[_]=e[k],m[b]=A,this.keepIntermediateTensors&&(this.clonedTensorsMap[b]=this.cloneTensorList(A))});const y=this.getFrozenTensorIds(m),{orderedNodes:v,nodeLiveUntilMap:x}=l;for(const k of v){if(m[k.name])continue;const b=V$(k,m,h,this._resourceManager);if(Qf(b))throw new Error(`The execution of the op '${k.op}' returned a promise. Please use model.executeAsync() instead.`);m[k.name]=b,this.keepIntermediateTensors&&(this.clonedTensorsMap[k.name]=this.cloneTensorList(b)),this.checkTensorForDisposalWithNodeLiveUntilInfo(k,m,h,y,i,x.get(k.name))}return this.parent==null&&h.dispose(y),n.map(k=>Ir(k,m,h))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(a=>e[a]).map(a=>a.map(r=>r.id)));return new Set(n)}checkTensorForDisposal(e,n,a,r,s,i,o){if(!(Nf(n)||i.has(e))){for(const c of a[e])c!=null&&(o[c.id]=(o[c.id]||0)+n.children.length);for(const c of n.inputs){if(Nf(c))continue;const l=B$(c.name,a,r);if(l!=null)for(const u of l){if(!u||u.kept||s.has(u.id))continue;const d=o[u.id];d===1?(u.dispose(),delete o[u.id]):d!=null&&o[u.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,a,r,s,i){function o(c){return Nf(c)||s.has(c.name)}if(!(Nf(e)||i==null))for(const c of i){if(o(c))continue;const l=B$(c.name,n,a);for(const u of l)!u||u.kept||r.has(u.id)||u.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,a=!1,r={},s={}){this.disposeIntermediateTensors(),a||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=Ce().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const i=new j$(this.weightMap,r,s,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const o=await this.executeWithControlFlow(e,i,n,a),c=n.map(h=>Ir(h,o,i)),l=c.map(h=>h.id),u=Object.keys(e).map(h=>e[h].id),d=new Set([...l,...u,...this.weightIds]);return Object.values(o).forEach(h=>{h.forEach(m=>{m&&!m.isDisposed&&!d.has(m.id)&&m.dispose()})}),this.parent==null&&i.dispose(d),c}async executeFunctionAsync(e,n,a){const r=e.reduce((s,i,o)=>(s[this.inputs[o].name]=i,s),{});return this._executeAsync(r,this.outputNodes,!0,n,a)}async executeWithControlFlow(e,n,a,r){const s=Object.keys(e),i=s.map(A=>this.graph.nodes[zs(A)[0]]),o=a.map(A=>zs(A)[0]),c=new Set(o);let l=o.map(A=>this.graph.nodes[A]);l.length===0&&(l=this._outputs);const{usedNodes:u,missingInputs:d,dynamicNode:h,syncInputs:m}=H$(e,l,this.weightMap,this._initNodes),y=[...i,...this.graph.weights,...this._initNodes||[]].map(A=>({node:A,contexts:n.currentContext})),v=Object.assign({},this.weightMap);Object.keys(e).forEach(A=>{const[S,C]=zs(A),E=[];E[C]=e[A],v[S]=E});const x={},k=this.getFrozenTensorIds(v),b={};for(;y.length>0;){const A=this.processStack(i,y,n,v,b,k,c,x,u);await Promise.all(A)}h==null&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const _=l.filter(A=>!Nf(A)&&!Ir(A.name,v,n)).map(A=>A.name);if(_.length>0){let A="";throw h!=null&&(A=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${m}]`),new Error(`Cannot compute the outputs [${_}] from the provided inputs [${s}]. Consider providing the following inputs: [${d}]. ${A}`)}return v}processStack(e,n,a,r,s,i,o,c,l){const u=[];for(;n.length>0;){const d=n.pop();a.currentContext=d.contexts;let h="";if(d.node.op==="Enter"&&O("isConstant",d.node,r,a)&&([h]=qc(d.node.name,a)),r[d.node.name]==null){const m=V$(d.node,r,a,this._resourceManager);h||([h]=qc(d.node.name,a));const y=a.currentContext;Qf(m)?u.push(m.then(v=>(r[h]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(v)),a.currentContext=y,this.checkTensorForDisposal(h,d.node,r,a,i,o,c),this.processChildNodes(d.node,n,a,r,s,l),v))):(r[h]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(m)),this.checkTensorForDisposal(h,d.node,r,a,i,o,c),this.processChildNodes(d.node,n,a,r,s,l))}else this.processChildNodes(d.node,n,a,r,s,l)}return u}processChildNodes(e,n,a,r,s,i){e.children.forEach(o=>{const[c]=qc(o.name,a);s[c]||!i.has(o.name)||(o.op==="Merge"?o.inputNames.some(l=>!!Ir(l,r,a))&&(s[c]=!0,n.push({contexts:a.currentContext,node:o})):o.inputNames.every(l=>!!Ir(l,r,a))&&(s[c]=!0,n.push({contexts:a.currentContext,node:o})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const a=e[n],[r]=zs(n),s=this.graph.nodes[r];if(s.attrParams.shape&&s.attrParams.shape.value){const i=s.attrParams.shape.value,o=i.length===a.shape.length&&a.shape.every((c,l)=>i[l]===-1||i[l]===c);K(o,()=>`The shape of dict['${s.name}'] provided in model.execute(dict) must be [${i}], but was [${a.shape}]`)}s.attrParams.dtype&&s.attrParams.dtype.value&&K(a.dtype===s.attrParams.dtype.value,()=>`The dtype of dict['${s.name}'] provided in model.execute(dict) must be ${s.attrParams.dtype.value}, but was ${a.dtype}`)})}mapInputs(e){var n,a;const r={};for(const s in e){const i=(a=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||a===void 0?void 0:a[s];i!=null?r[i.name]=e[s]:r[s]=e[s]}return r}checkInputs(e){const n=Object.keys(e).filter(a=>{const[r]=zs(a);return this.graph.nodes[r]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var a,r;const s=(r=(a=this._signature)===null||a===void 0?void 0:a.outputs)===null||r===void 0?void 0:r[n];return s!=null?s.name:n},{})}checkOutputs(e){e.forEach(n=>{const[a]=zs(n);if(!this.graph.nodes[a])throw new Error(`The output '${n}' is not found in the graph`)})}}class oye{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cye="?tfjs-format=file",lye="model.json";class uye{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},a=Lz){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=a,n==null&&(this.loadOptions={}),this.resourceManager=new oye}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Qf(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await o8(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const a=this.artifacts.modelTopology;let r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const s=this.artifacts.userDefinedMetadata;s.signature!=null&&(r=s.signature),s.structuredOutputKeys!=null&&(this.structuredOutputKeys=s.structuredOutputKeys)}if(this.signature=r,this.version=`${a.versions.producer}.${a.versions.minConsumer}`,this.executor=new $k(z$.Instance.transformGraph(a,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const s=z$.Instance.transformGraph(e.modelInitializer);this.initializer=new $k(s),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const a=this.io.getSaveHandlers(e);if(a.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(a.length>1)throw new Error(`Found more than one (${a.length}) save handlers for URL '${e}'`);e=a[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof ga?[e]:e,a={};return n.forEach((r,s)=>a[this.structuredOutputKeys[s]]=r),a}return e}predict(e,n){const a=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(a)}async predictAsync(e,n){const a=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(a)}normalizeInputs(e){var n;if(!(e instanceof ga)&&!Array.isArray(e)){const s=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(s!=null)for(const i in s){const o=s[i];o.resourceId!=null&&(e[i]=this.resourceIdToCapturedInput[o.resourceId])}return e}e=Array.isArray(e)?e:[e];const a=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+a!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-a} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((s,i)=>{var o,c,l;const u=(l=(c=(o=this.signature)===null||o===void 0?void 0:o.inputs)===null||c===void 0?void 0:c[i])===null||l===void 0?void 0:l.resourceId;return u!=null?s[i]=this.resourceIdToCapturedInput[u]:s[i]=e[r++],s},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,a=Object.keys(n);for(let r=0;r<a.length;r++){const s=a[r],i=n[s];this.resourceIdToCapturedInput[i.resourceId]=e[r]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const a=this.executor.execute(e,n);return a.length>1?a:a[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const a=await this.executor.executeAsync(e,n);return a.length>1?a:a[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,a)=>(n[a]=[e[a]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&mn(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function fye(t,e={},n=Lz){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=dye(t));const a=new uye(t,e,n);return await a.load(),a}function dye(t){return t.endsWith("/")||(t=t+"/"),`${t}${lye}${cye}`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var K$;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(K$||(K$={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vt(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&K(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pye=SI;class x_ extends BE{nextDataId(){return x_.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new P6(this,Mi())}write(e,n,a){this.firstUse&&(this.firstUse=!1,Ce().get("IS_NODE")&&ii(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:a,refCount:1}),r}makeTensorInfo(e,n,a){let r;if(n==="string"&&a!=null&&a.length>0&&ry(a[0])){const s=a.map(i=>ru(i));r=this.write(s,e,n)}else r=this.write(a,e,n);return{dataId:r,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,a,r,s){this.data.set(e,{values:n,dtype:r,refCount:s})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:a}=this.data.get(e);if(n==="complex64"){const r=this.readSync(a.real.dataId),s=this.readSync(a.imag.dataId);return dl(r,s)}return yre(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const a=n.map(r=>pu(r));return cn(e.shape,e.dtype,a)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return cn(e.shape,e.dtype,n)}makeOutput(e,n,a){return Mi().makeTensorFromTensorInfo(this.makeTensorInfo(n,a,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:a}=this.data.get(e);a!=null&&(this.disposeData(a.real.dataId,!0),this.disposeData(a.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=As();return e(),{kernelMs:As()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){vt([e],"where");const n=this.readSync(e.dataId);return pye(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}x_.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L7(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const hye=t=>{const{x:e}=t.inputs,n=t.backend;vt(e,"abs");let a=new Float32Array(Me(e.shape));const r=n.data.get(e.dataId).values;return a=L7(r),n.makeOutput(a,e.shape,e.dtype)},mye={kernelName:Rw,backendName:"cpu",kernelFunc:hye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ga(t){return(e,n,a,r,s)=>{const i=Qt(e,n),o=i.length,c=Ft(i),l=Me(i),u=Fr(s,l),d=e.length,h=n.length,m=Ft(e),y=Ft(n),v=gh(e,i),x=gh(n,i);if(v.length+x.length===0)for(let k=0;k<u.length;++k)u[k]=t(a[k%a.length],r[k%r.length]);else for(let k=0;k<u.length;++k){const b=Wh(k,o,c),_=b.slice(-d);v.forEach(E=>_[E]=0);const A=sc(_,d,m),S=b.slice(-h);x.forEach(E=>S[E]=0);const C=sc(S,h,y);u[k]=t(a[A],r[C])}return[u,i]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Us(t){const{inputs:e,backend:n}=t,{real:a,imag:r}=e,s=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,o=n.makeTensorInfo(a.shape,"complex64"),c=n.data.get(o.dataId);return c.complexTensorInfos={real:n.makeTensorInfo(a.shape,"float32",s),imag:n.makeTensorInfo(r.shape,"float32",i)},o}const gye={kernelName:XE,backendName:"cpu",kernelFunc:Us};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lk(t,e,n="float32"){if(n==="complex64"){const r=Lk(t,e,"float32"),s=Lk(t,e,"float32");return Us({inputs:{real:r,imag:s},backend:t})}const a=jr(Me(e),n);return t.makeTensorInfo(e,n,a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gc(t){const{inputs:e,backend:n}=t,{x:a}=e;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const yye={kernelName:Ny,backendName:"cpu",kernelFunc:gc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ud(t){const{inputs:e,backend:n}=t,{input:a}=e,r=n.data.get(a.dataId).complexTensorInfos.real,s=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,s)}const xye={kernelName:TC,backendName:"cpu",kernelFunc:ud};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M7(t,e,n,a){if(a==="int32"){const r=Int32Array.from(t);return[e,"int32",r]}if(a==="bool"){const r=Sd([0],n),[s,i]=Ga((o,c)=>o!==c?1:0)(e,[],t,r,"bool");return[i,"bool",s]}throw new Error(`Error in Cast: failed to cast ${n} to ${a}`)}function bu(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{dtype:s}=a;if(s==="complex64"){if(r.dtype==="complex64")return gc({inputs:{x:r},backend:n});const u=Lk(n,r.shape,r.dtype),d=bu({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),h=Us({inputs:{real:d,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),h}if(r.dtype==="complex64"){const u=ud({inputs:{input:r},backend:n}),d=bu({inputs:{x:u},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(u),d}if(!O6(r.dtype,s)){const u=gc({inputs:{x:r},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:s}}const i=n.data.get(r.dataId).values,[o,c,l]=M7(i,r.shape,r.dtype,s);return n.makeTensorInfo(o,c,l)}const vye={kernelName:dy,backendName:"cpu",kernelFunc:bu};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lr(t,e,n,a){return n==null?({inputs:r,backend:s})=>{const{a:i,b:o}=r,c=s;vt([i,o],t);const l=c.data.get(i.dataId).values,u=c.data.get(o.dataId).values,d=i.dtype==="string"?pl(l):l,h=i.dtype==="string"?pl(u):u,m=a||i.dtype,[y,v]=e(i.shape,o.shape,d,h,m);return c.makeTensorInfo(v,m,y)}:({inputs:r,backend:s})=>{const{a:i,b:o}=r,c=s;if(i.dtype==="complex64"||o.dtype==="complex64"){const l=bu({inputs:{x:i},backend:c,attrs:{dtype:"complex64"}}),u=c.data.get(l.dataId),d=u.complexTensorInfos.real,h=u.complexTensorInfos.imag,m=c.data.get(d.dataId).values,y=c.data.get(h.dataId).values,v=bu({inputs:{x:o},backend:c,attrs:{dtype:"complex64"}}),x=c.data.get(v.dataId),k=x.complexTensorInfos.real,b=x.complexTensorInfos.imag,_=c.data.get(k.dataId).values,A=c.data.get(b.dataId).values,[S,C,E]=n(i.shape,o.shape,m,y,_,A),D=c.makeTensorInfo(E,"float32",S),I=c.makeTensorInfo(E,"float32",C),P=Us({inputs:{real:D,imag:I},backend:c});return c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(v),c.disposeIntermediateTensorInfo(D),c.disposeIntermediateTensorInfo(I),P}else{const l=c.data.get(i.dataId).values,u=c.data.get(o.dataId).values,d=a||i.dtype,[h,m]=e(i.shape,o.shape,l,u,d);return c.makeTensorInfo(m,d,h)}}}function I3(t){return(e,n,a,r,s,i)=>{const o=Qt(e,n),c=Me(o),l=o.length,u=Ft(o),d=Fr("float32",c),h=Fr("float32",c),m=gh(e,o),y=gh(n,o),v=dl(a,r),x=dl(s,i),k=e.length,b=Ft(e),_=n.length,A=Ft(n);if(m.length+y.length===0)for(let S=0;S<d.length;S++){const C=S%v.length,E=S%x.length,D=t(v[C*2],v[C*2+1],x[E*2],x[E*2+1]);d[S]=D.real,h[S]=D.imag}else for(let S=0;S<d.length;S++){const C=Wh(S,l,u),E=C.slice(-k);m.forEach(B=>E[B]=0);const D=sc(E,k,b),I=C.slice(-_);y.forEach(B=>I[B]=0);const P=sc(I,_,A),R=t(v[D*2],v[D*2+1],x[P*2],x[P*2+1]);d[S]=R.real,h[S]=R.imag}return[d,h,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B7=Ga((t,e)=>t+e),kye=I3((t,e,n,a)=>({real:t+n,imag:e+a})),kh=lr(Vh,B7,kye),wye={kernelName:Vh,backendName:"cpu",kernelFunc:kh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D3(t,e,n,a,r){const s=Me(a),i=jr(r,n);for(let o=0;o<t.length;o++){const c=t[o];if(c<0)throw new Error("Input x must be non-negative!");c>=r||(s>0?i[c]+=e[o]:i[c]+=1)}return i}function z7(t,e,n,a=!1){const r=t.shape[0],s=t.shape[1],i=cn([r,n],e.dtype);for(let o=0;o<r;o++)for(let c=0;c<s;c++){const l=t.get(o,c);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(a?i.set(1,o,l):e.size>0?i.set(i.get(o,l)+e.get(o,c),o,l):i.set(i.get(o,l)+1,o,l))}return i}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G7=Ga((t,e)=>t&e),bye=lr(zw,G7),_ye={kernelName:zw,backendName:"cpu",kernelFunc:bye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _c(t){return(e,n,a)=>{const r=La(n,e.length);for(let s=0;s<e.length;++s)r[s]=t(e[s],a);return r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yn(t,e,n){const a=_c(e);return Uu(t,a,n)}function Uu(t,e,n){return({inputs:a,attrs:r,backend:s})=>{const{x:i}=a;vt(i,t);const o=s,c=o.data.get(i.dataId).values;let l;if(i.dtype==="string"){if(!Array.isArray(c))throw new Error("String tensor's value was not an instance of Array");l=pl(c)}else l=c;const u=n||i.dtype,d=e(l,u,r);return o.makeTensorInfo(i.shape,u,d)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U7=_c(t=>Math.ceil(t)),Aye=Uu(py,U7),Nye={kernelName:py,backendName:"cpu",kernelFunc:Aye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W7(t,e,n,a){const r=La(n,Me(e));if(a&&n!=="string"){let s=0;t.forEach(i=>{const o=Me(i.shape);r.set(i.vals,s),s+=o})}else{let s=0;t.forEach(i=>{const o=n==="string"?pl(i.vals):i.vals;let c=0;for(let l=0;l<i.shape[0];++l){const u=l*e[1]+s;for(let d=0;d<i.shape[1];++d)r[u+d]=o[c++]}s+=i.shape[1]})}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V7=Ga((t,e)=>t===e?1:0),j7=lr(Xw,V7,null,"bool"),Sye={kernelName:Xw,backendName:"cpu",kernelFunc:j7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H7=_c(t=>Math.exp(t)),K7=Uu(ky,H7,"float32"),Tye={kernelName:ky,backendName:"cpu",kernelFunc:K7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q7=_c(t=>Math.expm1(t)),Eye=Uu(wy,q7),Cye={kernelName:wy,backendName:"cpu",kernelFunc:Eye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X7=_c(t=>Math.floor(t)),Iye=Uu(by,X7),Dye={kernelName:by,backendName:"cpu",kernelFunc:Iye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y7=Ga((t,e)=>Math.floor(t/e)),Rye=lr(_y,Y7,null,"int32"),Pye={kernelName:_y,backendName:"cpu",kernelFunc:Rye};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z7(t,e,n,a,r,s,i,o,c){const l=cn([a,s],n);for(let u=0;u<a;u++){const d=[];let h=0;for(let m=0;m<r;m++){const y=t[u*r+m];h+=y*i[m],d.push(y)}if(h<0||h>=c/s)throw new Error(`Invalid indices: ${d} does not index into ${o}`);for(let m=0;m<s;m++)l.values[u*s+m]=e.get(...e.indexToLoc(h*s+m))}return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q7(t,e,n){const a=cn(n,t.dtype);for(let r=0;r<a.size;++r){const i=a.indexToLoc(r).slice(),o=i[0],c=i[2],l=e.locToIndex([o,c]);i[2]=e.values[l];const u=t.locToIndex(i);0<=u&&u<t.values.length&&(a.values[r]=t.values[u])}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J7=Ga((t,e)=>t>e?1:0),Fye=lr(Jw,J7,null,"bool"),Oye={kernelName:Jw,backendName:"cpu",kernelFunc:Fye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e9=Ga((t,e)=>t>=e?1:0),$ye=lr(Ay,e9,null,"bool"),Lye={kernelName:Ay,backendName:"cpu",kernelFunc:$ye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t9=Ga((t,e)=>t<e?1:0),Mye=lr(tb,t9,null,"bool"),Bye={kernelName:tb,backendName:"cpu",kernelFunc:Mye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n9=Ga((t,e)=>t<=e?1:0),zye=lr(nb,n9,null,"bool"),Gye={kernelName:nb,backendName:"cpu",kernelFunc:zye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a9(t,e,n){const a=(e-t)/(n-1),r=jr(n,"float32");r[0]=t;for(let s=1;s<r.length;s++)r[s]=r[s-1]+a;return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r9=_c(t=>Math.log(t)),Uye=Uu(Cy,r9),Wye={kernelName:Cy,backendName:"cpu",kernelFunc:Uye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s9(t,e,n,a){const r=Fr(a,Me(n));for(let s=0;s<r.length;++s){const i=s*e;let o=t[i];for(let c=0;c<e;++c){const l=t[i+c];(Number.isNaN(l)||l>o)&&(o=l)}r[s]=o}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i9=Ga((t,e)=>Math.max(t,e)),Vye=lr(Dy,i9),jye={kernelName:Dy,backendName:"cpu",kernelFunc:Vye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o9=Ga((t,e)=>Math.min(t,e)),Hye=lr(Ry,o9),Kye={kernelName:Ry,backendName:"cpu",kernelFunc:Hye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R3=Ga((t,e)=>t*e),qye=I3((t,e,n,a)=>({real:t*n-e*a,imag:t*a+e*n})),v_=lr(Fy,R3,qye),Xye={kernelName:Fy,backendName:"cpu",kernelFunc:v_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c9(t,e,n){const a=Pu(-1,n);return R3([],e,a,t,n)}function Yye(t){const{inputs:e,backend:n}=t,{x:a}=e;vt(a,"neg");const r=n.data.get(a.dataId).values,[s,i]=c9(r,a.shape,a.dtype);return n.makeTensorInfo(i,a.dtype,s)}const Zye={kernelName:pb,backendName:"cpu",kernelFunc:Yye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l9=Ga((t,e)=>t!==e?1:0),Qye=lr(hb,l9,null,"bool"),Jye={kernelName:hb,backendName:"cpu",kernelFunc:Qye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P3(t,e,n,a,r){const s=e.length,i=Me(e),o=Ft(e),c=Ft(r),l=Fr(n,Me(r));for(let u=0;u<i;++u){const d=Wh(u,s,o),h=new Array(d.length);for(let y=0;y<h.length;y++)h[y]=d[a[y]];const m=sc(h,s,c);l[m]=t[u]}return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rs(t){const{inputs:e,attrs:n,backend:a}=t,{x:r}=e,{perm:s}=n;vt(r,"transpose");const i=r.shape.length,o=new Array(i);for(let d=0;d<o.length;d++)o[d]=r.shape[s[d]];const c=a.data.get(r.dataId).values,l=P3(c,r.shape,r.dtype,s,o);return{dataId:a.write(l,o,r.dtype),shape:o,dtype:r.dtype}}const e1e={kernelName:Qp,backendName:"cpu",kernelFunc:Rs};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u9(t,e,n,a){const[r,s]=_r(t,a),i=js(e,"int32"),o=jr(Me(r),i),c=Me(s);for(let l=0;l<o.length;++l){const u=l*c;let d=1;for(let h=0;h<c;++h)d*=n[u+h];o[l]=d}return{outVals:o,outShape:r,outDtype:i}}function t1e(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a;vt(r,"prod");const o=r.shape.length,c=yn(s,r.shape),l=ka(c,o);let u=c,d=r;const h=[];l!=null&&(d=Rs({inputs:{x:r},backend:n,attrs:{perm:l}}),h.push(d),u=Ba(u.length,o));const m=n.data.get(d.dataId).values,{outVals:y,outShape:v,outDtype:x}=u9(d.shape,d.dtype,m,u);let k=v;return i&&(k=Ma(v,c)),h.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(k,x,y)}const n1e={kernelName:kb,backendName:"cpu",kernelFunc:t1e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a1e(t,e,n){t.forEach((a,r)=>{if(a<0||a>=n){const s=Wh(r,e.length,Ft(e)).join(",");throw new Error(`indices[${s}] = ${a} is not in [0, ${n})`)}})}function r1e(t,e){for(let n=0;n<t.length;++n){const a=t[n],r=n===t.length-1?e:t[n+1].length;if(a.length===0)throw new Error("Ragged splits may not be empty");if(a[0]<0)throw new Error("Ragged splits must be non-negative");if(a[a.length-1]>r)throw new Error("Ragged splits must not point past values");for(let s=1;s<a.length;++s)if(a[s-1]>a[s])throw new Error("Ragged splits must be sorted in ascending order")}}function s1e(t,e,n,a){const r=[];let s=0;const i=e.length-1+n.length,o=new Array(i).fill(null).map(()=>[0]);r1e(n,a);let c=1;for(let l=0;l<e.length-1;++l){c*=e[l];const u=e[l+1];for(let d=1;d<c+1;++d)o[l].push(d*u)}for(let l=0;l<t.length;++l){let u=t[l],d=t[l]+1;for(let h=0;h<n.length;++h){const m=n[h],y=h+e.length-1;if(y>=0){const v=o[y],x=v[v.length-1]-m[u];for(let k=u;k<d;++k)o[y].push(m[k+1]+x)}u=m[u],d=m[d]}d!==u&&(r.push([u,d]),s+=d-u)}return{outSplits:o,valueSlices:r,numValues:s}}function i1e(t){const e=[];for(let n=0;n<t.length;++n){const a=t[n].length,r=La("int32",a);e.push(r),t[n].forEach((s,i)=>r[i]=s)}return e}function q$(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let a=e;a<t.length;a++)n[e-1]*=t[a];return n}function o1e(t,e,n,a,r,s){const i=q$(e,2)[1],o=q$(s,2)[1];let c=0;for(const l of n)for(let u=l[0];u<l[1];++u){for(let d=0;d<a;++d)r[c*o+d]=t[u*i+d];++c}}function c1e(t,e,n,a,r){const s=e.slice();s[0]=r;const i=La(n,Me(s)),o=t.length,c=o===0?0:o/e[0];return o1e(t,e,a,c,i,s),[i,s]}function f9(t,e,n,a,r,s,i,o){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const c=e[0][0]-1;if(a1e(s,i,c),a.length===0)throw new Error("params.rank must be nonzero");const l=a[0],{outSplits:u,valueSlices:d,numValues:h}=s1e(s,i,t,l),m=i1e(u),y=c1e(n,a,r,d,h);return[m,y[0],y[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X$=2147483647;function d9(t,e,n,a,r,s,i){if(e.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");const o=e.length===0,c=r.length===0,l=i.length===0,u=[];o||u.push(e[0]),c||u.push(r[0]),l||u.push(i[0]);for(let x=1;x<u.length;++x)if(u[x]!==u[x-1])throw new Error("starts, limits, and deltas must have the same shape");const d=u.length===0?1:u[0],h=La("int32",d+1);h[0]=0;for(let x=0;x<d;++x){const k=o?t[0]:t[x],b=c?a[0]:a[x],_=l?s[0]:s[x];if(_===0)throw new Error("Requires delta != 0");let A;if(_>0&&b<k||_<0&&b>k)A=0;else if(A=Math.ceil(Math.abs((b-k)/_)),A>X$)throw new Error(`Requires ((limit - start) / delta) <= ${X$}`);h[x+1]=h[x]+A}const m=h[d],y=La(n,m);let v=0;for(let x=0;x<d;++x){const k=h[x+1]-h[x];let b=o?t[0]:t[x];const _=l?s[0]:s[x];for(let A=0;A<k;++A)y[v++]=b,b+=_}return[h,y]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ri=go;class Mk{constructor(e,n,a,r,s,i,o,c,l,u){this.shape=e,this.shapeShape=n,this.values=a,this.valuesShape=r,this.valuesDType=s,this.defaultValue=i,this.defaultValueShape=o,this.rowPartitionValues=c,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=qz(u),this.raggedRank=Xz(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Ri.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Ri.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Ri.VALUE_ROWIDS:return Mk.getMaxWidthValueRowID(n);case Ri.ROW_SPLITS:return Mk.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${Ri[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let a=0;for(let r=0;r<n-1;++r){const s=e[r+1]-e[r];s>a&&(a=s)}return a}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let a=0,r=e[0],s=0;for(let i=1;i<n;++i){const o=e[i];o!==r&&(r=o,s=Math.max(i-a,s),a=i)}return Math.max(n-a,s)}tensorShapeFromTensor(e,n,a=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Z$(e,a)}calculateOutputSize(e){const n=this.valuesShape,a=this.defaultValueShape;Yz(a,n);const r=this.tensorShapeFromTensor(this.shape,this.shapeShape),i=Kz(this.raggedRank,r,n);i[0]<0&&(i[0]=e);for(let o=1;o<=this.raggedRank;++o)i[o]<0&&(i[o]=this.getMaxWidth(o));return i}calculateFirstParentOutputIndex(e,n,a){const r=Math.min(e,a),s=[];let i=0;for(let o=0;o<r;++o,i+=n)s.push(i);for(let o=r;o<e;++o)s.push(-1);return K(s.length===e,()=>"Final length of result must be equal to firstDimension."),s}calculateOutputIndexRowSplit(e,n,a,r){const s=e.length,i=[];for(let o=0;o<s-1;++o){const c=e[o+1]-e[o];let l=Math.min(r,c),u=n[o];u===-1&&(l=0);for(let d=0;d<l;++d)i.push(u),u+=a;for(let d=0;d<c-l;++d)i.push(-1)}if(s>0&&i.length!==e[s-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,n,a,r){const s=e.length,i=[];if(s===0)return[];let o=0,c=e[0];if(c>=n.length)throw new Error(`Got currentValueRowId=${c}, which is not less than ${n.length}`);let l=n[c];i.push(l);for(let u=1;u<s;++u){const d=e[u];if(d===c)l>=0&&(++o,o<r?l+=a:l=-1);else{if(o=0,c=d,d>=n.length)throw new Error(`Got nextValueRowId=${d} which is not less than ${n.length}`);l=n[d]}i.push(l)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,n,a,r){const s=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case Ri.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(s,n,a,r);case Ri.ROW_SPLITS:if(s.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${s.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(s,n,a,r);default:throw new Error(`Unsupported partition type: ${Ri[i]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case Ri.FIRST_DIM_SIZE:return e[0];case Ri.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Ri.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Ri[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),a=this.calculateOutputSize(n),r=new Array(this.raggedRank+1);r[r.length-1]=1;for(let c=r.length-2;c>=0;--c)r[c]=r[c+1]*a[c+1];const s=Z$(a,!1),i=La(this.valuesDType,Me(s));if(r[0]*a[0]>0){let c=this.calculateFirstParentOutputIndex(n,r[0],a[0]);for(let l=1;l<=this.raggedRank;++l)c=this.calculateOutputIndex(l-1,c,r[l],a[l]);this.setOutput(this.raggedRank,c,i,s)}return[s,i]}setOutput(e,n,a,r){if(a.length===0)return;const s=this.values,i=a;let o=r.slice();o=o.slice(e+1);const c=Me(o),l=n.length;let u=this.defaultValue;if(u.length!==c&&u.length!==1){const y=this.defaultValueShape;Ne(()=>{const v=xe(u,y);u=th(v,o).dataSync()})}let d=0,h=0,m=0;for(let y=0;y<=l;++y){let v=y<l?n[y]:-1;if(v===m){++m;continue}if(h<m){const x=s.subarray(d*c),k=i.subarray(h*c),b=(m-h)*c;Y$(k,x,b)}if(y>=l){const x=a.length;v=Math.floor(x/c)}if(v>m)if(this.defaultValue.length===1)i.subarray(m*c,v*c).fill(this.defaultValue[0]),m=v;else for(;v>m;){const x=i.slice(m*c);Y$(x,u,c),++m}v<0?(d=y+1,h=m):(d=y,h=m,m=h+1)}}}function Y$(t,e,n){for(let a=0;a<n;a++)t[a]=e[a]}function Z$(t,e){const n=[];for(let a of t){if(a<0){if(!e)throw new Error(`Dimension ${a} must be >= 0`);if(a<-1)throw new Error(`Dimension ${a} must be >= -1`);a=-1}n.push(a)}return n}function p9(t,e,n,a,r,s,i,o,c,l){return new Mk(t,e,n,a,r,s,i,o,c,l).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h9(t,e,n,a){const r=t===e,s=t<e&&n<0,i=e<t&&n>1;if(r||s||i)return jr(0,a);const o=Math.abs(Math.ceil((e-t)/n)),c=jr(o,a);e<t&&n===1&&(n=-1),c[0]=t;for(let l=1;l<c.length;l++)c[l]=c[l-1]+n;return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m9=_c(t=>1/Math.sqrt(t)),l1e=Uu(zy,m9),u1e={kernelName:zy,backendName:"cpu",kernelFunc:l1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ff(t,e,n,a,r,s,i,o,c,l){const u=[a/r,r],d=t.values,h=e.values;if(a===0)return cn(n,e.dtype);const m=c instanceof rr?c:cn(u,e.dtype);typeof c=="string"||typeof c=="number"?m.values.fill(c):typeof c=="boolean"&&m.values.fill(+c);for(let y=0;y<s;y++){const v=[];let x=0;for(let k=0;k<i;k++){const b=d[y*i+k];v.push(b),x+=b*o[k]}if(x<0||x>=a/r)throw new Error(`Invalid indices: ${v} does not index into ${n}`);for(let k=0;k<r;k++)l?m.values[x*r+k]+=h[y*r+k]:m.values[x*r+k]=e.rank===0?h[0]:h[y*r+k]}return m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f1e=_c(t=>1/(1+Math.exp(-t))),g9=Yn(jy,t=>1/(1+Math.exp(-t))),d1e={kernelName:jy,backendName:"cpu",kernelFunc:g9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y9(t,e,n,a,r){const s=BI(a,e,n),i=Me(n),o=Ft(a);if(s){const d=zI(e,o);return r==="string"?t.slice(d,d+i):t.subarray(d,d+i)}const c=r==="string"?pl(t):t,l=cn(a,r,c),u=cn(n,r);for(let d=0;d<u.size;++d){const h=u.indexToLoc(d),m=h.map((y,v)=>y+e[v]);u.set(l.get(...m),...h)}return r==="string"?gG(u.values):u.values}function fd(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{begin:s,size:i}=a;vt(r,"slice");const[o,c]=r_(r,s,i);LI(r,o,c);const l=n.data.get(r.dataId).values,u=y9(l,o,c,r.shape,r.dtype);return n.makeTensorInfo(c,r.dtype,u)}const p1e={kernelName:Sb,backendName:"cpu",kernelFunc:fd};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x9(t,e,n,a,r,s,i){const o=e[0],c=s[0],l=new Array(c),u=new Array(o),d=e[1];if(c===0){if(o!==0)throw new Error(aG(o));const x=La(n,0),k=La(r,0);return[x,[0,d],k,l,u]}let h=!0,m=0;const y=new Array(c).fill(0);for(let x=0;x<o;++x){const k=t[x*d];if(k<0)throw new Error(rG(x,k));if(k>=c)throw new Error(sG(x,k,c));++y[k],h=h&&k>=m,m=k}let v=!0;for(let x=0;x<c;++x){const k=y[x]===0;l[x]=k,v=v&&!k,y[x]=Math.max(y[x],1),x>0&&(y[x]+=y[x-1])}if(v&&h){const x=t,k=a;for(let b=0;b<o;++b)u[b]=b;return[x,[o,d],k,l,u]}else{const x=y[c-1],k=La(n,x*d),b=La(r,x),_=new Array(c).fill(0);for(let A=0;A<o;++A){const S=t[A*d],C=_[S],E=(S===0?0:y[S-1])+C;_[S]++;for(let D=0;D<d;++D)k[E*d+D]=t[A*d+D];b[E]=a[A],u[A]=E}for(let A=0;A<c;++A)if(_[A]===0){const C=A===0?0:y[A-1];k[C*d+0]=A;for(let E=1;E<d;++E)k[C*d+E]=0;b[C]=i}return[k,[x,d],b,l,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v9(t,e,n,a,r){const s=Me(a),i=e[0],o=r.length,c=[];let l=1,u=-1;for(let x=0;x<o;++x){const k=r[x];if(k===-1){if(u!==-1)throw new Error(iG(u,x));u=x,c.push(1)}else{if(k<0)throw new Error(oG(x,k));l*=k,c.push(k)}}if(u!==-1){if(l<=0)throw new Error(cG());const x=Math.trunc(s/l);if(l*x!==s)throw new Error(lG(a,c));c[u]=x}if(Me(c)!==s)throw new Error(uG(a,c));const h=a.length,m=[];if(h>0){m[h-1]=1;for(let x=h-2;x>=0;--x)m[x]=m[x+1]*a[x+1]}const y=[];if(o>0){y[o-1]=1;for(let x=o-2;x>=0;--x)y[x]=y[x+1]*c[x+1]}const v=La(n,i*o);for(let x=0;x<i;++x){let k=0;for(let b=0;b<h;++b)k+=t[x*h+b]*m[b];for(let b=0;b<o;++b)v[x*o+b]=Math.trunc(k/y[b]),k%=y[b]}return[v,[i,o],c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F3(t,e,n,a,r,s=!1,i=0){const o=a.length,c=[e[0],t.length/e[0]],l=c[1],d=o>0?r[o-1]+1:0;if(d<0)throw new Error(lT());const h=e.slice();h[0]=d;const m=h.reduce((_,A)=>_*A,1),y=La(n,m);if(o===0)return d>0&&y.fill(i),[y,h];if(d<=0)throw new Error(lT());let v=0,x=1,k=0,b=r[v];for(;;){let _=0;if(x<o){if(_=r[x],b===_){++x;continue}if(b>=_)throw new Error(fG())}if(b<0||b>=d)throw new Error(dG(b,d));b>k&&y.fill(i,k*l,b*l);for(let A=v;A<x;++A){const S=a[A];if(S<0||S>=c[0])throw new Error(pG(A,a[A],c[0]));for(let C=0;C<l;C++)y[b*l+C]+=t[S*l+C]}if(s)for(let A=0;A<l;A++)y[b*l+A]/=x-v;if(v=x,++x,k=b+1,b=_,x>o)break}return k<d&&y.fill(i,k*l,d*l),[y,h]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h1e=_c(t=>Math.sqrt(t)),m1e=Yn(Ky,t=>Math.sqrt(t)),g1e={kernelName:Ky,backendName:"cpu",kernelFunc:m1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k9=Ga((t,e)=>{const n=t-e;return n*n}),y1e=lr(qy,k9),x1e={kernelName:qy,backendName:"cpu",kernelFunc:y1e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w9=_c((t,e)=>{const{pattern:n,replaceGlobal:a,rewrite:r}=e;return t.replace(new RegExp(n,a?"g":""),r)}),v1e=Uu(Db,w9),k1e={kernelName:Db,backendName:"cpu",kernelFunc:v1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b9(t,e,n,a){const r=cn(t,e.dtype);for(let s=0;s<r.size;s++){const i=r.indexToLoc(s),o=new Array(i.length);for(let c=0;c<o.length;c++)o[c]=i[c]*n[c]+a[c];r.set(e.get(...o),...i)}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w1e{constructor(e,n,a,r,s,i){this.separator=ru(e),this.nGramWidths=n,this.leftPad=ru(a),this.rightPad=ru(r),this.padWidth=s,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const a=this.getPadWidth(n);return Math.max(0,e+2*a-n+1)}createNGrams(e,n,a,r,s,i){for(let o=0;o<s;++o){const c=this.getPadWidth(i),l=Math.max(0,c-o),u=Math.max(0,c-(s-(o+1))),d=i-(l+u),h=n+(l>0?0:o-c);let m=0;m+=l*this.leftPad.length;for(let b=0;b<d;++b)m+=e[h+b].length;m+=u*this.rightPad.length;const y=l+u+d-1;m+=y*this.separator.length,a[r+o]=new Uint8Array(m);const v=a[r+o];let x=0;const k=b=>b.forEach(_=>v[x++]=_);for(let b=0;b<l;++b)k(this.leftPad),k(this.separator);for(let b=0;b<d-1;++b)k(e[h+b]),k(this.separator);if(d>0){k(e[h+d-1]);for(let b=0;b<u;++b)k(this.separator),k(this.rightPad)}else{for(let b=0;b<u-1;++b)k(this.rightPad),k(this.separator);k(this.rightPad)}}}compute(e,n){const a=e.length,r=n.length;if(r>0){let c=n[0];if(c!==0)throw new Error(`First split value must be 0, got ${c}`);for(let l=1;l<r;++l){let u=n[l]>=c;if(u=u&&n[l]<=a,!u)throw new Error(`Invalid split value ${n[l]}, must be in [${c}, ${a}]`);c=n[l]}if(c!==a)throw new Error(`Last split value must be data size. Expected ${a}, got ${c}`)}const s=r-1,i=La("int32",r);if(a===0||r===0){const c=new Array(a);for(let l=0;l<=s;++l)i[l]=0;return[c,i]}i[0]=0;for(let c=1;c<=s;++c){const l=n[c]-n[c-1];let u=0;this.nGramWidths.forEach(d=>{u+=this.getNumNGrams(l,d)}),this.preserveShort&&l>0&&u===0&&(u=1),i[c]=i[c-1]+u}const o=new Array(i[s]);for(let c=0;c<s;++c){const l=n[c];let u=i[c];if(this.nGramWidths.forEach(d=>{const h=n[c+1]-n[c],m=this.getNumNGrams(h,d);this.createNGrams(e,l,o,u,m,d),u+=m}),this.preserveShort&&u===i[c]){const d=n[c+1]-n[c];if(d===0)continue;const h=d+2*this.padWidth;this.createNGrams(e,l,o,u,1,h)}}return[o,i]}}function _9(t,e,n,a,r,s,i,o){return new w1e(n,a,r,s,i,o).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b1e(t,e,n,a){if(!t.length)return;if(e.length===0){for(let s=0;s<t.length;++s)a.push(t.subarray(s,s+1));return}if(e.length===1){const s=e[0];let i=t.indexOf(s);for(;i!==-1;){const o=t.subarray(0,i);(!n||o.length!==0)&&a.push(o),t=t.subarray(i+1),i=t.indexOf(s)}(!n||t.length!==0)&&a.push(t);return}let r=0;for(let s=0;s<t.length+1;s++)if(s===t.length||e.indexOf(t[s])!==-1){const i=t.subarray(r,s);(!n||i.length!==0)&&a.push(i),r=s+1}}function A9(t,e,n){const a=t.length,r=[];let s=0,i=0;const o=new Array(a);for(let h=0;h<a;++h){const m=r.length;b1e(t[h],e,n,r);const y=r.length-m;o[h]=y,s+=y,i=Math.max(i,y)}const c=La("int32",s*2),l=new Array(s),u=[a,i];let d=0;for(let h=0;h<a;++h)for(let m=0;m<o[h];++m)c[d*2]=h,c[d*2+1]=m,l[d]=r[d],++d;return[c,l,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N9(t,e){const n=La("int32",t.length);for(let a=0;a<t.length;++a)n[a]=Ore(t[a]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S9=Ga((t,e)=>t-e),_1e=I3((t,e,n,a)=>({real:t-n,imag:e-a})),O3=lr(Xy,S9,_1e),A1e={kernelName:Xy,backendName:"cpu",kernelFunc:O3};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T9(t,e){const n=new Array(t.rank);for(let r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];const a=cn(n,t.dtype);for(let r=0;r<a.values.length;++r){const s=a.indexToLoc(r),i=new Array(t.rank);for(let c=0;c<i.length;c++)i[c]=s[c]%t.shape[c];const o=t.locToIndex(i);a.values[r]=t.values[o]}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w0=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function E9(t,e,n=0,a=t.length-1){for(;a>n;){if(a-n>600){const o=a-n+1,c=e-n+1,l=Math.log(o),u=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*u*(o-u)/o)*Math.sign(c-o/2),h=Math.max(n,Math.floor(e-c*u/o+d)),m=Math.min(a,Math.floor(e+(o-c)*u/o+d));E9(t,e,h,m)}const r=t[e];let s=n,i=a;for(Gp(t,n,e),w0(t[a],r)>0&&Gp(t,n,a);s<i;){for(Gp(t,s,i),s++,i--;w0(t[s],r)<0;)s=s+1;for(;w0(t[i],r)>0;)i=i-1}w0(t[n],r)===0?Gp(t,n,i):(i=i+1,Gp(t,i,a)),i<=e&&(n=i+1),e<=i&&(a=i-1)}}function C9(t,e,n,a,r){const s=e[e.length-1],[i,o]=[t.length/s,s],c=Fr(n,i*a),l=Fr("int32",i*a);for(let d=0;d<i;d++){const h=d*o,m=t.subarray(h,h+o);let y=new Array(m.length);m.forEach((b,_)=>y[_]={value:b,index:_}),a<y.length&&(E9(y,a),y=y.slice(0,a)),r&&y.sort(w0);const v=d*a,x=c.subarray(v,v+a),k=l.subarray(v,v+a);for(let b=0;b<a;b++)x[b]=y[b].value,k[b]=y[b].index}const u=e.slice();return u[u.length-1]=a,[cn(u,n,c),cn(u,"int32",l)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I9(t,e,n,a){const r=yn(e,n)[0],s=[1,n[0],1];for(let y=0;y<r;y++)s[0]*=n[y];s[1]=n[r];for(let y=r+1;y<n.length;y++)s[2]*=n[y];const i=new Map,o=new Int32Array(n[r]),c=new rr(s,a,t),l=[],u=s[0]===1&&s[2]===1;for(let y=0;y<n[r];y++){let v;if(u)v=t[y].toString();else{const k=[];for(let b=0;b<s[0];b++)for(let _=0;_<s[2];_++)k.push(c.get(b,y,_));v=k.join(",")}const x=i.get(v);if(x!=null)o[y]=x;else{const k=i.size;i.set(v,k),o[y]=k,l.push(y)}}const d=s.slice();d[1]=i.size;const h=new rr(d,a);l.forEach((y,v)=>{for(let x=0;x<s[0];x++)for(let k=0;k<s[2];k++)h.set(c.get(x,y,k),x,v,k)});const m=n.slice();return m[r]=d[1],{outputValues:h.values,outputShape:m,indices:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N1e=Object.freeze(Object.defineProperty({__proto__:null,addImpl:B7,bincountImpl:D3,bincountReduceImpl:z7,bitwiseAndImpl:G7,castImpl:M7,ceilImpl:U7,concatImpl:W7,equalImpl:V7,expImpl:H7,expm1Impl:q7,floorDivImpl:Y7,floorImpl:X7,gatherNdImpl:Z7,gatherV2Impl:Q7,greaterEqualImpl:e9,greaterImpl:J7,lessEqualImpl:n9,lessImpl:t9,linSpaceImpl:a9,logImpl:r9,maxImpl:s9,maximumImpl:i9,minimumImpl:o9,multiplyImpl:R3,negImpl:c9,notEqualImpl:l9,prodImpl:u9,raggedGatherImpl:f9,raggedRangeImpl:d9,raggedTensorToTensorImpl:p9,rangeImpl:h9,rsqrtImpl:m9,scatterImpl:Ff,sigmoidImpl:f1e,simpleAbsImpl:L7,sliceImpl:y9,sparseFillEmptyRowsImpl:x9,sparseReshapeImpl:v9,sparseSegmentReductionImpl:F3,sqrtImpl:h1e,squaredDifferenceImpl:k9,staticRegexReplaceImpl:w9,stridedSliceImpl:b9,stringNGramsImpl:_9,stringSplitImpl:A9,stringToHashBucketFastImpl:N9,subImpl:S9,tileImpl:T9,topKImpl:C9,transposeImpl:P3,uniqueImpl:I9},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a8("cpu",()=>new x_,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D9=Yn(xy,t=>t>=0?t:Math.exp(t)-1),S1e={kernelName:xy,backendName:"cpu",kernelFunc:D9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R9(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{alpha:s}=a;vt([r],"leakyRelu");const i=Me(r.shape),o=n.data.get(r.dataId).values,c=Fr("float32",i);for(let l=0;l<o.length;l++)c[l]=o[l]<0?s*o[l]:o[l];return n.makeTensorInfo(r.shape,"float32",c)}const T1e={kernelName:eb,backendName:"cpu",kernelFunc:R9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E1e=Ga((t,e)=>t<0?e*t:t);function P9(t){const{inputs:e,backend:n}=t,{x:a,alpha:r}=e;vt([a,r],"prelu");const s=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,[o,c]=E1e(a.shape,r.shape,s,i,"float32");return n.makeTensorInfo(c,"float32",o)}const C1e={kernelName:vb,backendName:"cpu",kernelFunc:P9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F9=Yn(Ly,t=>Math.max(0,t)),I1e={kernelName:Ly,backendName:"cpu",kernelFunc:F9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O9=Yn(My,t=>Math.min(Math.max(0,t),6)),D1e={kernelName:My,backendName:"cpu",kernelFunc:O9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bk(t,e,n,a,r){if(n==="linear")return gc({inputs:{x:e},backend:t});if(n==="relu")return F9({inputs:{x:e},backend:t});if(n==="elu")return D9({inputs:{x:e},backend:t});if(n==="relu6")return O9({inputs:{x:e},backend:t});if(n==="prelu")return P9({inputs:{x:e,alpha:a},backend:t});if(n==="leakyrelu")return R9({inputs:{x:e},backend:t,attrs:{alpha:r}});if(n==="sigmoid")return g9({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ca(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{shape:s}=a,i=Me(r.shape),o=F6(s,i),c=Me(o);K(i===c,()=>`The new shape (${o}) has ${c} elements and the old shape (${r.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`),n.incRef(r.dataId);const l=n.data.get(r.dataId);if(l.complexTensorInfos!=null){const u=l.complexTensorInfos.real,d=l.complexTensorInfos.imag;u.shape=o,d.shape=o}return{dataId:r.dataId,shape:o,dtype:r.dtype}}const R1e={kernelName:wb,backendName:"cpu",kernelFunc:ca};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $9(t){const{inputs:e,backend:n,attrs:a}=t,{a:r,b:s}=e,{transposeA:i,transposeB:o}=a;vt([r,s],"matMul");const c=r.shape.length,l=s.shape.length,u=i?r.shape[c-2]:r.shape[c-1],d=o?s.shape[l-1]:s.shape[l-2],h=i?r.shape[c-1]:r.shape[c-2],m=o?s.shape[l-2]:s.shape[l-1],y=r.shape.slice(0,-2),v=s.shape.slice(0,-2),x=Me(y),k=Me(v),_=Qt(r.shape.slice(0,-2),s.shape.slice(0,-2)).concat([h,m]);K(u===d,()=>`Error in matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${r.shape} and ${s.shape} and transposeA=${i} and transposeB=${o} must match.`);const A=i?[x,u,h]:[x,h,u],S=o?[k,m,d]:[k,d,m],C=ca({inputs:{x:r},backend:n,attrs:{shape:A}}),E=ca({inputs:{x:s},backend:n,attrs:{shape:S}}),D=i?C.shape[1]:C.shape[2],I=i?C.shape[2]:C.shape[1],P=o?E.shape[1]:E.shape[2],R=Math.max(x,k),B=n.data.get(C.dataId).values,U=n.data.get(E.dataId).values,V=Ft(C.shape),j=Ft(E.shape),[W,J,q]=i?[V[0],1,V[1]]:[V[0],V[1],1],[Z,M,se]=o?[1,j[1],j[0]]:[j[1],1,j[0]],ue=I*P,le=cn([R,I,P],C.dtype),ie=le.values,ye=n.blockSize;for(let ke=0;ke<R;ke++){const ge=ke%x,G=ke%k;for(let te=0;te<I;te+=ye){const ee=Math.min(te+ye,I);for(let ae=0;ae<P;ae+=ye){const be=Math.min(ae+ye,P);for(let Y=0;Y<D;Y+=ye){const Ae=Math.min(Y+ye,D);for(let Oe=te;Oe<ee;Oe++)for(let $e=ae;$e<be;$e++){let He=0;for(let Ve=Y;Ve<Ae;Ve++){const tt=B[ge*W+Oe*J+Ve*q],lt=U[Ve*Z+$e*M+G*se];He+=tt*lt}ie[ke*ue+(Oe*P+$e)]+=He}}}}}return n.disposeIntermediateTensorInfo(C),n.disposeIntermediateTensorInfo(E),n.makeTensorInfo(_,le.dtype,le.values)}const P1e={kernelName:Mw,backendName:"cpu",kernelFunc:$9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F1e(t){const{inputs:e,backend:n,attrs:a}=t,{a:r,b:s,bias:i,preluActivationWeights:o}=e,{transposeA:c,transposeB:l,activation:u,leakyreluAlpha:d}=a;let h,m,y;const v=[];h=$9({inputs:{a:r,b:s},attrs:{transposeA:c,transposeB:l},backend:n}),i&&(m=kh({inputs:{a:h,b:i},backend:n}),v.push(h),h=m),u&&(y=Bk(n,h,u,o,d),v.push(h),h=y);for(const k of v)n.disposeIntermediateTensorInfo(k);return h}const O1e={kernelName:xk,backendName:"cpu",kernelFunc:F1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $1e=Yn(sy,t=>Math.acos(t)),L1e={kernelName:sy,backendName:"cpu",kernelFunc:$1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M1e=Yn(iy,t=>Math.acosh(t)),B1e={kernelName:iy,backendName:"cpu",kernelFunc:M1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z1e(t){const{inputs:e,backend:n}=t,a=e;vt(e,"addN");const r=a.map(o=>n.data.get(o.dataId).values),s=cn(a[0].shape,a[0].dtype),i=s.values;for(let o=0;o<a.length;o++){const c=r[o];for(let l=0;l<i.length;l++)i[l]+=c[l]}return n.makeTensorInfo(s.shape,s.dtype,s.values)}const G1e={kernelName:Pw,backendName:"cpu",kernelFunc:z1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U1e(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a;vt(r,"all");const o=yn(s,r.shape);let c=o;const l=ka(c,r.shape.length);let u=r;l!=null&&(u=Rs({inputs:{x:r},backend:n,attrs:{perm:l}}),c=Ba(c.length,r.shape.length)),Lr("all",c,u.shape.length);const[d,h]=_r(u.shape,c),m=Me(h),y=jr(Me(d),u.dtype),v=n.data.get(u.dataId).values;for(let k=0;k<y.length;++k){const b=k*m;let _=v[b];for(let A=0;A<m;++A){const S=v[b+A];_=_&&S}y[k]=_}l!=null&&n.disposeIntermediateTensorInfo(u);const x=n.makeTensorInfo(d,u.dtype,y);if(i){const k=Ma(d,o),b=ca({inputs:{x},backend:n,attrs:{shape:k}});return n.disposeIntermediateTensorInfo(x),b}return x}const W1e={kernelName:WE,backendName:"cpu",kernelFunc:U1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V1e(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a;vt(r,"any");const o=yn(s,r.shape);let c=o;const l=ka(c,r.shape.length);let u=r;l!=null&&(u=Rs({inputs:{x:r},backend:n,attrs:{perm:l}}),c=Ba(c.length,r.shape.length)),Lr("any",c,u.shape.length);const[d,h]=_r(u.shape,c),m=Me(h),y=jr(Me(d),u.dtype),v=n.data.get(u.dataId).values;for(let k=0;k<y.length;++k){const b=k*m;let _=v[b];for(let A=0;A<m;++A){const S=v[b+A];_=_||S}y[k]=_}l!=null&&n.disposeIntermediateTensorInfo(u);const x=n.makeTensorInfo(d,u.dtype,y);if(i){const k=Ma(d,o),b=ca({inputs:{x},backend:n,attrs:{shape:k}});return n.disposeIntermediateTensorInfo(x),b}return x}const j1e={kernelName:VE,backendName:"cpu",kernelFunc:V1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H1e(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s}=a;vt(r,"argMax");let i=yn(s,r.shape);const o=ka(i,r.shape.length);let c=r;const l=[];o!=null&&(c=Rs({inputs:{x:r},backend:n,attrs:{perm:o}}),l.push(c),i=Ba(i.length,c.shape.length)),i=[i[0]],Lr("argMax",i,c.shape.length);const[u,d]=_r(c.shape,i),h=Me(u),m=jr(h,"int32"),y=Me(d),v=n.data.get(c.dataId).values;for(let x=0;x<m.length;++x){const k=x*y;let b=v[k],_=0;for(let A=0;A<y;++A){const S=v[k+A];S>b&&(b=S,_=A)}m[x]=_}return l.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(u,"int32",m)}const K1e={kernelName:Fw,backendName:"cpu",kernelFunc:H1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q1e(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s}=a;vt(r,"argMin");let i=yn(s,r.shape);const o=ka(i,r.shape.length);let c=r;const l=[];o!=null&&(c=Rs({inputs:{x:r},backend:n,attrs:{perm:o}}),l.push(c),i=Ba(i.length,c.shape.length)),i=[i[0]],Lr("argMin",i,c.shape.length);const[u,d]=_r(c.shape,i),h=Me(u),m=jr(h,"int32"),y=Me(d),v=n.data.get(c.dataId).values;for(let x=0;x<m.length;++x){const k=x*y;let b=v[k],_=0;for(let A=0;A<y;++A){const S=v[k+A];S<b&&(b=S,_=A)}m[x]=_}return l.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(u,"int32",m)}const X1e={kernelName:Ow,backendName:"cpu",kernelFunc:q1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y1e=Yn(oy,t=>Math.asin(t)),Z1e={kernelName:oy,backendName:"cpu",kernelFunc:Y1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q1e=Yn(cy,t=>Math.asinh(t)),J1e={kernelName:cy,backendName:"cpu",kernelFunc:Q1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const exe=Yn(ly,t=>Math.atan(t)),txe={kernelName:ly,backendName:"cpu",kernelFunc:exe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nxe=Ga((t,e)=>Math.atan2(t,e)),axe=lr(fy,nxe),rxe={kernelName:fy,backendName:"cpu",kernelFunc:axe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sxe=Yn(uy,t=>Math.atanh(t)),ixe={kernelName:uy,backendName:"cpu",kernelFunc:sxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $3(t,e,n,a,r,s){const i=r.strideHeight,o=r.strideWidth,c=r.dilationHeight,l=r.dilationWidth,u=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,y=s==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=cn(r.outShape,n),x=v.values,k=r.outShape[1]*r.outShape[2]*r.outShape[3],b=r.outShape[2]*r.outShape[3],_=r.outShape[3];for(let A=0;A<r.batchSize;++A){const S=A*k,C=A*a[0];for(let E=0;E<r.inChannels;++E)for(let D=0;D<r.outHeight;++D){const I=D*i-h,P=Math.max(0,I),R=Math.min(r.inHeight,u+I),B=S+D*b;for(let U=0;U<r.outWidth;++U){const V=U*o-m,j=Math.max(0,V),W=Math.min(r.inWidth,d+V);let J=y,q=0,Z=0;for(let se=P;se<R;se+=c){const ue=C+se*a[1];for(let le=j;le<W;le+=l){const ie=ue+le*a[2],ye=t[ie+E];s==="max"&&ye>J?J=ye:s==="avg"&&(q+=ye,Z++)}if(isNaN(J))break}const M=B+U*_+E;x[M]=s==="avg"?q/Z:J}}}return v}function L9(t,e,n,a,r=!1,s=!1){const i=cn(a.outShape,"int32"),o=a.strideHeight,c=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,d=a.effectiveFilterHeight,h=a.effectiveFilterWidth,m=a.padInfo.top,y=a.padInfo.left,v=cn(e,n,t);for(let x=0;x<a.batchSize;++x)for(let k=0;k<a.inChannels;++k)for(let b=0;b<a.outHeight;++b){const _=b*o-m;let A=_;for(;A<0;)A+=l;const S=Math.min(a.inHeight,d+_);for(let C=0;C<a.outWidth;++C){const E=C*c-y;let D=E;for(;D<0;)D+=u;const I=Math.min(a.inWidth,h+E);let P=Number.NEGATIVE_INFINITY,R=-1;for(let B=A;B<S;B+=l){const U=B-_;for(let V=D;V<I;V+=u){const j=V-E,W=v.get(x,B,V,k);W>P&&(P=W,r?R=s?((x*a.inHeight+B)*a.inWidth+V)*a.inChannels+k:(B*a.inWidth+V)*a.inChannels+k:R=U*h+j)}}i.set(R,x,b,C,k)}}return i}function M9(t,e,n,a,r,s){const i=r.strideDepth,o=r.strideHeight,c=r.strideWidth,l=r.dilationDepth,u=r.dilationHeight,d=r.dilationWidth,h=r.effectiveFilterDepth,m=r.effectiveFilterHeight,y=r.effectiveFilterWidth,v=r.padInfo.front,x=r.padInfo.top,k=r.padInfo.left,b=s==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,_=cn(r.outShape,n),A=_.values,S=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],C=r.outShape[2]*r.outShape[3]*r.outShape[4],E=r.outShape[3]*r.outShape[4],D=r.outShape[4];for(let I=0;I<r.batchSize;++I){const P=I*S,R=I*a[0];for(let B=0;B<r.inChannels;++B)for(let U=0;U<r.outDepth;++U){const V=U*i-v;let j=V;for(;j<0;)j+=l;const W=Math.min(r.inDepth,h+V),J=P+U*C;for(let q=0;q<r.outHeight;++q){const Z=q*o-x;let M=Z;for(;M<0;)M+=u;const se=Math.min(r.inHeight,m+Z),ue=J+q*E;for(let le=0;le<r.outWidth;++le){const ie=le*c-k;let ye=ie;for(;ye<0;)ye+=d;const ke=Math.min(r.inWidth,y+ie),ge=ue+le*D;let G=b,te=0,ee=0;for(let be=j;be<W;be+=l){const Y=R+be*a[1];for(let Ae=M;Ae<se;Ae+=u){const Oe=Y+Ae*a[2];for(let $e=ye;$e<ke;$e+=d){const He=Oe+$e*a[3],Ve=t[He+B];if(s==="max"&&Ve>G?G=Ve:s==="avg"&&(te+=Ve,ee++),isNaN(G))break}if(isNaN(G))break}if(isNaN(G))break}const ae=ge+B;A[ae]=s==="avg"?te/Math.max(ee,1):G}}}}return _}function oxe(t,e){const n=cn(e.outShape,"int32"),a=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,o=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,m=e.padInfo.top,y=e.padInfo.left;for(let v=0;v<e.batchSize;++v)for(let x=0;x<e.inChannels;++x)for(let k=0;k<e.outDepth;++k){const b=k*a-h;let _=b;for(;_<0;)_+=i;const A=Math.min(e.inDepth,l+b);for(let S=0;S<e.outHeight;++S){const C=S*r-m;let E=C;for(;E<0;)E+=o;const D=Math.min(e.inHeight,u+C);for(let I=0;I<e.outWidth;++I){const P=I*s-y;let R=P;for(;R<0;)R+=c;const B=Math.min(e.inWidth,d+P);let U=Number.NEGATIVE_INFINITY,V=-1;for(let j=_;j<A;j+=i){const W=j-b;for(let J=E;J<D;J+=o){const q=J-C;for(let Z=R;Z<B;Z+=c){const M=Z-P,se=t.get(v,j,J,Z,x);se>=U&&(U=se,V=W*u*d+q*u+M)}}}n.set(V,v,k,S,I,x)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e;vt(r,"avgPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=a,l=1;K($r(i,l),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);const u=Ji(r.shape,s,i,l,o,c);let d;if(u.filterWidth===1&&u.filterHeight===1&&Sn(u.inShape,u.outShape))d=gc({inputs:{x:r},backend:n});else{const h=n.data.get(r.dataId).values,m=Ft(r.shape),y=$3(h,r.shape,r.dtype,m,u,"avg");d=n.makeTensorInfo(u.outShape,r.dtype,y.values)}return d}const lxe={kernelName:$w,backendName:"cpu",kernelFunc:cxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:c,dataFormat:l}=a;vt(r,"avgPool3d");const u=kl(r.shape,s,i,1,o,c,l),d=n.data.get(r.dataId).values,h=M9(d,r.shape,r.dtype,Ft(r.shape),u,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}const fxe={kernelName:Lw,backendName:"cpu",kernelFunc:uxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dxe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,input:s}=e,{filterSize:i,strides:o,pad:c,dimRoundingMode:l}=a;vt([r,s],"avgPool3DGrad");const u=kl(s.shape,i,o,1,c,l),d=u.strideDepth,h=u.strideHeight,m=u.strideWidth,y=u.filterDepth,v=u.filterHeight,x=u.filterWidth,k=u.dilationDepth,b=u.dilationHeight,_=u.dilationWidth,A=u.effectiveFilterDepth,S=u.effectiveFilterHeight,C=u.effectiveFilterWidth,E=A-1-u.padInfo.front,D=C-1-u.padInfo.left,I=S-1-u.padInfo.top,P=cn(s.shape,"float32"),R=1/(y*v*x),B=n.bufferSync(r);for(let U=0;U<u.batchSize;++U)for(let V=0;V<u.inChannels;++V)for(let j=0;j<u.inDepth;++j)for(let W=0;W<u.inHeight;++W)for(let J=0;J<u.inWidth;++J){const q=j-E,Z=W-I,M=J-D;let se=0;for(let ue=0;ue<A;ue+=k){const le=(q+ue)/d;if(!(le<0||le>=u.outDepth||Math.floor(le)!==le))for(let ie=0;ie<S;ie+=b){const ye=(Z+ie)/h;if(!(ye<0||ye>=u.outHeight||Math.floor(ye)!==ye))for(let ke=0;ke<C;ke+=_){const ge=(M+ke)/m;if(ge<0||ge>=u.outWidth||Math.floor(ge)!==ge)continue;const G=B.get(U,le,ye,ge,V);se+=G}}}P.set(se*R,U,j,W,J,V)}return n.makeTensorInfo(P.shape,P.dtype,P.values)}const pxe={kernelName:HE,backendName:"cpu",kernelFunc:dxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hxe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,input:s}=e,i=s;vt([r,s],"avgPoolGrad");const{filterSize:o,strides:c,pad:l}=a,u=Ji(i.shape,o,c,1,l),d=u.strideHeight,h=u.strideWidth,m=u.filterHeight,y=u.filterWidth,v=u.dilationHeight,x=u.dilationWidth,k=u.effectiveFilterHeight,b=u.effectiveFilterWidth,_=b-1-u.padInfo.left,A=k-1-u.padInfo.top,S=cn(i.shape,"float32"),C=1/(m*y),E=n.data.get(r.dataId).values,D=cn(r.shape,"float32",E);for(let I=0;I<u.batchSize;++I)for(let P=0;P<u.inChannels;++P)for(let R=0;R<u.inHeight;++R)for(let B=0;B<u.inWidth;++B){const U=R-A,V=B-_;let j=0;for(let W=0;W<k;W+=v){const J=(U+W)/d;if(!(J<0||J>=u.outHeight||Math.floor(J)!==J))for(let q=0;q<b;q+=x){const Z=(V+q)/h;if(Z<0||Z>=u.outWidth||Math.floor(Z)!==Z)continue;const M=D.get(I,J,Z,P);j+=M}}S.set(j*C,I,R,B,P)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const mxe={kernelName:jE,backendName:"cpu",kernelFunc:hxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,scale:s,offset:i,mean:o,variance:c}=e;K(o.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),K(i==null||o.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),K(s==null||o.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),vt([r,o,c,s,i],"batchNorm");let{varianceEpsilon:l}=a;l==null&&(l=.001);const u=n.data.get(r.dataId).values,d=n.data.get(o.dataId).values,h=n.data.get(c.dataId).values,m=s?n.data.get(s.dataId).values:new Float32Array([1]),y=i?n.data.get(i.dataId).values:new Float32Array([0]),v=new Float32Array(u.length),x=y.length,k=m.length,b=h.length,_=d.length;let A=0,S=0,C=0,E=0;for(let D=0;D<u.length;++D)v[D]=y[A++]+(u[D]-d[S++])*m[C++]/Math.sqrt(h[E++]+l),A>=x&&(A=0),S>=_&&(S=0),C>=k&&(C=0),E>=b&&(E=0);return n.makeTensorInfo(r.shape,r.dtype,v)}const yxe={kernelName:Zw,backendName:"cpu",kernelFunc:gxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{blockShape:s,crops:i}=a;vt([r],"batchToSpaceND");const o=s.reduce((k,b)=>k*b),c=c1(r.shape,s,o),l=l1(c.length,s.length),u=u1(r.shape,s,o),d=jI(i,s.length),h=HI(u,i,s.length),m=ca({inputs:{x:r},backend:n,attrs:{shape:c}}),y=Rs({inputs:{x:m},backend:n,attrs:{perm:l}}),v=ca({inputs:{x:y},backend:n,attrs:{shape:u}}),x=fd({inputs:{x:v},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),x}const vxe={kernelName:Bw,backendName:"cpu",kernelFunc:xxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,weights:s}=e,{size:i}=a,o=n.data.get(r.dataId).values,c=n.data.get(s.dataId).values,l=D3(o,c,s.dtype,s.shape,i);return n.makeTensorInfo([i],s.dtype,l)}const wxe={kernelName:KE,backendName:"cpu",kernelFunc:kxe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bxe(t){const{inputs:e,backend:n}=t,{s0:a,s1:r}=e,s=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,o=Qt(Array.from(s),Array.from(i));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const _xe={kernelName:qE,backendName:"cpu",kernelFunc:bxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Axe=Yn(hy,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),Nxe={kernelName:hy,backendName:"cpu",kernelFunc:Axe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sxe=t=>{const{x:e}=t.inputs,n=t.backend,a=new Float32Array(Me(e.shape)),r=n.data.get(e.dataId),s=r.complexTensorInfos.real,i=r.complexTensorInfos.imag,o=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values;for(let l=0;l<o.length;l++){const u=o[l],d=c[l];a[l]=Math.hypot(u,d)}return n.makeOutput(a,e.shape,"float32")},Txe={kernelName:Gw,backendName:"cpu",kernelFunc:Sxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wh(t){const{inputs:e,backend:n}=t,{input:a}=e,r=n.data.get(a.dataId).complexTensorInfos.imag,s=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,s)}const Exe={kernelName:pC,backendName:"cpu",kernelFunc:wh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bh(t){const{inputs:e,backend:n,attrs:a}=t,{axis:r}=a,s=yn(r,e[0].shape)[0],i=e.map(v=>v.shape);UI(i,s);let o=oc(e.map(v=>v.shape),s);if(Me(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const c=e.filter(v=>Me(v.shape)>0);if(c.length===1)return gc({inputs:{x:c[0]},backend:n});if(c[0].dtype==="complex64"){const v=c.map(A=>ud({inputs:{input:A},backend:n})),x=c.map(A=>wh({inputs:{input:A},backend:n})),k=bh({inputs:v,backend:n,attrs:{axis:s}}),b=bh({inputs:x,backend:n,attrs:{axis:s}}),_=Us({inputs:{real:k,imag:b},backend:n});return v.forEach(A=>n.disposeIntermediateTensorInfo(A)),x.forEach(A=>n.disposeIntermediateTensorInfo(A)),n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(b),_}const l=c.map(v=>{const k=[-1,Me(v.shape.slice(s))];return ca({inputs:{x:v},backend:n,attrs:{shape:k}})}),u=l.map(v=>({vals:n.data.get(v.dataId).values,shape:v.shape}));o=oc(l.map(v=>v.shape),1);const d=l[0].shape[0]===1,h=W7(u,o,e[0].dtype,d),m=oc(c.map(v=>v.shape),s),y=n.makeTensorInfo(m,e[0].dtype,h);return l.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const Cxe={kernelName:Uw,backendName:"cpu",kernelFunc:bh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B9(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s}=e,{strides:i,pad:o,dataFormat:c,dilations:l,dimRoundingMode:u}=a;vt([r,s],"conv2d");const d=wl(c),h=br(r.shape,s.shape,i,l,o,u,!1,d),m=h.filterHeight,y=h.filterWidth,v=h.dilationHeight,x=h.dilationWidth,k=h.padInfo.left,b=h.padInfo.top,_=h.dataFormat==="channelsLast",A=new rr(h.outShape,r.dtype),S=Ft(r.shape),C=Ft(s.shape),E=S[0],D=_?S[1]:S[2],I=_?S[2]:1,P=_?1:S[1],R=A.strides[0],B=_?A.strides[1]:A.strides[2],U=_?A.strides[2]:1,V=_?1:A.strides[1],j=n.data.get(r.dataId).values,W=n.data.get(s.dataId).values,J=A.values;for(let q=0;q<h.batchSize;++q){const Z=q*E,M=q*R;for(let se=0;se<h.outHeight;++se){const ue=M+se*B,le=se*h.strideHeight-b;for(let ie=0;ie<m;++ie){const ye=le+ie*v;if(ye<0||ye>=h.inHeight)continue;const ke=ie*C[0],ge=Z+ye*D;for(let G=0;G<h.outWidth;++G){const te=ue+G*U,ee=G*h.strideWidth-k;for(let ae=0;ae<y;++ae){const be=ee+ae*x;if(be<0||be>=h.inWidth)continue;const Y=ke+ae*C[1],Ae=ge+be*I;let Oe=Y;for(let $e=0;$e<h.inChannels;++$e){const He=j[Ae+$e*P];for(let Ve=0;Ve<h.outChannels;++Ve)J[te+Ve*V]+=He*W[Oe+Ve];Oe+=h.outChannels}}}}}}return n.makeTensorInfo(A.shape,A.dtype,J)}const Ixe={kernelName:Ww,backendName:"cpu",kernelFunc:B9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,dy:s}=e,{strides:i,pad:o,dataFormat:c,dimRoundingMode:l,filterShape:u}=a;vt([r,s],"conv2dBackpropFilter");const d=wl(c),h=br(r.shape,u,i,1,o,l,!1,d),{strideHeight:m,strideWidth:y,filterHeight:v,filterWidth:x}=h,k=h.dataFormat==="channelsLast",b=new rr(h.filterShape,"float32"),_=h.padInfo.left,A=h.padInfo.top,S=n.data.get(r.dataId).values,C=n.data.get(s.dataId).values,E=new rr(r.shape,r.dtype,S),D=new rr(s.shape,s.dtype,C);for(let I=0;I<v;++I){const P=Math.max(0,Math.ceil((A-I)/m)),R=Math.min(h.outHeight,(h.inHeight+A-I)/m);for(let B=0;B<x;++B){const U=Math.max(0,Math.ceil((_-B)/y)),V=Math.min(h.outWidth,(h.inWidth+_-B)/y);for(let j=0;j<h.inChannels;++j)for(let W=0;W<h.outChannels;++W){let J=0;for(let q=0;q<h.batchSize;++q)for(let Z=P;Z<R;++Z){const M=I+Z*m-A;for(let se=U;se<V;++se){const ue=B+se*y-_;k?J+=E.get(q,M,ue,j)*D.get(q,Z,se,W):J+=E.get(q,j,M,ue)*D.get(q,W,Z,se)}}b.set(J,I,B,j,W)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const Rxe={kernelName:YE,backendName:"cpu",kernelFunc:Dxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pxe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,filter:s}=e,{inputShape:i,strides:o,pad:c,dataFormat:l,dimRoundingMode:u}=a;vt([r,s],"conv2dBackpropInput");const d=Ft(s.shape),h=Ft(r.shape);let m=wl(l);const y=br(i,s.shape,o,1,c,u,!1,m),v=new rr(y.inShape,"float32"),x=v.values,k=n.data.get(r.dataId).values,b=n.data.get(s.dataId).values,[_,A,S]=d,{batchSize:C,filterHeight:E,filterWidth:D,inChannels:I,inHeight:P,inWidth:R,outChannels:B,outHeight:U,outWidth:V,strideHeight:j,strideWidth:W}=y;m=y.dataFormat;const J=E-1-y.padInfo.top,q=D-1-y.padInfo.left,Z=m==="channelsLast",M=v.strides[0],se=Z?v.strides[1]:v.strides[2],ue=Z?v.strides[2]:1,le=Z?1:v.strides[1],ie=h[0],ye=Z?h[1]:h[2],ke=Z?h[2]:1,ge=Z?1:h[1];for(let G=0;G<C;++G)for(let te=0;te<I;++te)for(let ee=0;ee<P;++ee){const ae=ee-J,be=Math.max(0,Math.ceil(ae/j)),Y=Math.min(U,(E+ae)/j);for(let Ae=0;Ae<R;++Ae){const Oe=Ae-q,$e=Math.max(0,Math.ceil(Oe/W)),He=Math.min(V,(D+Oe)/W);let Ve=0;for(let lt=be;lt<Y;++lt){const zt=lt*j-ae;for(let $t=$e;$t<He;++$t){const st=$t*W-Oe,Be=ie*G+ye*lt+ke*$t,Fe=_*(E-1-zt)+A*(D-1-st)+S*te;for(let Dt=0;Dt<B;++Dt){const Bt=k[Be+ge*Dt],Rt=b[Fe+Dt];Ve+=Bt*Rt}}}const tt=M*G+se*ee+ue*Ae+le*te;x[tt]=Ve}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const Fxe={kernelName:Vw,backendName:"cpu",kernelFunc:Pxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c}=a;vt([r,s],"conv3d");const l=$u(r.shape,s.shape,i,c,o),{filterDepth:u,filterHeight:d,filterWidth:h,dilationDepth:m,dilationHeight:y,dilationWidth:v,padInfo:x}=l,k=x.front,b=x.left,_=x.top,A=new rr(l.outShape,r.dtype),S=n.data.get(r.dataId).values,C=n.data.get(s.dataId).values,E=A.values,D=Ft(r.shape),I=Ft(s.shape);for(let P=0;P<l.batchSize;++P){const R=P*D[0],B=P*A.strides[0];for(let U=0;U<l.outDepth;++U){const V=B+U*A.strides[1],j=U*l.strideDepth-k;for(let W=0;W<u;++W){const J=j+W*m;if(J<0||J>=l.inDepth)continue;const q=W*I[0],Z=R+J*D[1];for(let M=0;M<l.outHeight;++M){const se=V+M*A.strides[2],ue=M*l.strideHeight-_;for(let le=0;le<d;++le){const ie=ue+le*y;if(ie<0||ie>=l.inHeight)continue;const ye=q+le*I[1],ke=Z+ie*D[2];for(let ge=0;ge<l.outWidth;++ge){const G=se+ge*l.outChannels,te=ge*l.strideWidth-b;for(let ee=0;ee<h;++ee){const ae=te+ee*v;if(ae<0||ae>=l.inWidth)continue;const be=ye+ee*I[2],Y=ke+ae*l.inChannels;let Ae=be;for(let Oe=0;Oe<l.inChannels;++Oe){const $e=S[Y+Oe];for(let He=0;He<l.outChannels;++He)E[G+He]+=$e*C[Ae+He];Ae+=l.outChannels}}}}}}}}return n.makeTensorInfo(A.shape,A.dtype,A.values)}const $xe={kernelName:jw,backendName:"cpu",kernelFunc:Oxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,dy:s}=e,{strides:i,pad:o,filterShape:c}=a;vt([r,s],"conv3dBackpropFilterV2");const l=Ft(r.shape),u=Ft(s.shape),d=$u(r.shape,c,i,1,o),h=d.strideDepth,m=d.strideHeight,y=d.strideWidth,v=d.filterDepth,x=d.filterHeight,k=d.filterWidth,b=new rr(d.filterShape,"float32"),_=b.values,[A,S,C,E]=b.strides,D=n.data.get(s.dataId).values,[I,P,R,B]=u,U=n.data.get(r.dataId).values,[V,j,W,J]=l,q=d.padInfo.front,Z=d.padInfo.left,M=d.padInfo.top;for(let se=0;se<v;++se){const ue=Math.max(0,Math.ceil((q-se)/h)),le=Math.min(d.outDepth,(d.inDepth+q-se)/h),ie=se*A;for(let ye=0;ye<x;++ye){const ke=Math.max(0,Math.ceil((M-ye)/m)),ge=Math.min(d.outHeight,(d.inHeight+M-ye)/m),G=ye*S+ie;for(let te=0;te<k;++te){const ee=Math.max(0,Math.ceil((Z-te)/y)),ae=Math.min(d.outWidth,(d.inWidth+Z-te)/y),be=te*C+G;for(let Y=0;Y<d.inChannels;++Y){const Ae=Y*E+be;for(let Oe=0;Oe<d.outChannels;++Oe){let $e=0;for(let He=0;He<d.batchSize;++He){const Ve=He*V,tt=He*I;for(let lt=ue;lt<le;++lt){const $t=(se+lt*h-q)*j+Ve,st=lt*P+tt;for(let Be=ke;Be<ge;++Be){const Dt=(ye+Be*m-M)*W+$t,Bt=Be*R+st;for(let Rt=ee;Rt<ae;++Rt){const Bn=(te+Rt*y-Z)*J+Dt,it=Rt*B+Bt;$e+=U[Bn+Y]*D[it+Oe]}}}}_[Ae+Oe]=$e}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const Mxe={kernelName:ZE,backendName:"cpu",kernelFunc:Lxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bxe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,filter:s}=e,{pad:i,strides:o,inputShape:c}=a;vt([r],"conv3dBackpropInputV2");const l=Ft(r.shape),u=Ft(s.shape),d=$u(c,s.shape,o,1,i),h=new rr(d.inShape,"float32"),m=h.values,[y,v,x,k]=h.strides,b=n.data.get(r.dataId).values,[_,A,S,C]=l,E=n.data.get(s.dataId).values,[D,I,P,R]=u,{batchSize:B,filterDepth:U,filterHeight:V,filterWidth:j,inChannels:W,inDepth:J,inHeight:q,inWidth:Z,outChannels:M,outDepth:se,outHeight:ue,outWidth:le,strideDepth:ie,strideHeight:ye,strideWidth:ke}=d,ge=U-1-d.padInfo.front,G=V-1-d.padInfo.top,te=j-1-d.padInfo.left;for(let ee=0;ee<B;++ee)for(let ae=0;ae<W;++ae)for(let be=0;be<J;++be){const Y=be-ge,Ae=Math.max(0,Math.ceil(Y/ie)),Oe=Math.min(se,(U+Y)/ie);for(let $e=0;$e<q;++$e){const He=$e-G,Ve=Math.max(0,Math.ceil(He/ye)),tt=Math.min(ue,(V+He)/ye);for(let lt=0;lt<Z;++lt){const zt=lt-te,$t=Math.max(0,Math.ceil(zt/ke)),st=Math.min(le,(j+zt)/ke);let Be=0;for(let Fe=Ae;Fe<Oe;++Fe){const Dt=Fe*ie-Y;for(let Bt=Ve;Bt<tt;++Bt){const Rt=Bt*ye-He;for(let Mn=$t;Mn<st;++Mn){const Bn=Mn*ke-zt,it=_*ee+A*Fe+S*Bt+C*Mn,qt=D*(U-1-Dt)+I*(V-1-Rt)+P*(j-1-Bn)+R*ae;for(let Xt=0;Xt<M;++Xt){const Ht=b[it+Xt],ur=E[qt+Xt];Be+=Ht*ur}}}}m[y*ee+v*be+x*$e+k*lt+ae]=Be}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}const zxe={kernelName:QE,backendName:"cpu",kernelFunc:Bxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gxe=Yn(my,t=>Math.cos(t)),Uxe={kernelName:my,backendName:"cpu",kernelFunc:Gxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wxe=Yn(gy,t=>Math.cosh(t)),Vxe={kernelName:gy,backendName:"cpu",kernelFunc:Wxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jxe(t){const{inputs:e,backend:n,attrs:a}=t,{image:r,boxes:s,boxInd:i}=e,{cropSize:o,method:c,extrapolationValue:l}=a,[u,d,h,m]=r.shape,y=s.shape[0],[v,x]=o,k=cn([y,v,x,m],"float32"),b=n.data.get(s.dataId).values,_=n.data.get(i.dataId).values,A=n.data.get(r.dataId).values,S=Ft(r.shape),C=Ft(k.shape);for(let E=0;E<y;E++){const D=E*4,I=b[D],P=b[D+1],R=b[D+2],B=b[D+3],U=_[E];if(U>=u)continue;const V=v>1?(R-I)*(d-1)/(v-1):0,j=x>1?(B-P)*(h-1)/(x-1):0;for(let W=0;W<v;W++){const J=v>1?I*(d-1)+W*V:.5*(I+R)*(d-1);if(J<0||J>d-1){for(let q=0;q<x;q++)for(let Z=0;Z<m;Z++){const M=Z+q*C[2]+W*C[1]+E*C[0];k.values[M]=l}continue}if(c==="bilinear"){const q=Math.floor(J),Z=Math.ceil(J),M=J-q;for(let se=0;se<x;se++){const ue=x>1?P*(h-1)+se*j:.5*(P+B)*(h-1);if(ue<0||ue>h-1){for(let ke=0;ke<m;ke++){const ge=ke+se*C[2]+W*C[1]+E*C[0];k.values[ge]=l}continue}const le=Math.floor(ue),ie=Math.ceil(ue),ye=ue-le;for(let ke=0;ke<m;ke++){let ge=ke+le*S[2]+q*S[1]+U*S[0];const G=A[ge];ge=ke+ie*S[2]+q*S[1]+U*S[0];const te=A[ge];ge=ke+le*S[2]+Z*S[1]+U*S[0];const ee=A[ge];ge=ke+ie*S[2]+Z*S[1]+U*S[0];const ae=A[ge],be=G+(te-G)*ye,Y=ee+(ae-ee)*ye;ge=ke+se*C[2]+W*C[1]+E*C[0],k.values[ge]=be+(Y-be)*M}}}else for(let q=0;q<x;++q){const Z=x>1?P*(h-1)+q*j:.5*(P+B)*(h-1);if(Z<0||Z>h-1){for(let ue=0;ue<m;ue++){const le=ue+q*C[2]+W*C[1]+E*C[0];k.values[le]=l}continue}const M=Math.round(Z),se=Math.round(J);for(let ue=0;ue<m;ue++){const le=ue+M*S[2]+se*S[1]+U*S[0],ie=ue+q*C[2]+W*C[1]+E*C[0];k.values[ie]=A[le]}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const Hxe={kernelName:eC,backendName:"cpu",kernelFunc:jxe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,exclusive:i,reverse:o}=a;vt(r,"cumprod");const c=ka([s],r.shape.length);let l=r;c!=null&&(l=Rs({inputs:{x:r},backend:n,attrs:{perm:c}}));const u=Ba(1,r.shape.length)[0];if(u!==l.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${l.shape.length-1} but got axis=${u}`);const d=js(l.dtype,"int32"),h=GE(Me(l.shape),d),m=n.data.get(l.dataId).values,y=l.shape[l.shape.length-1],v=o?(k,b)=>k+y-b-1:(k,b)=>k+b;for(let k=0;k<m.length;k+=y)for(let b=0;b<y;b++){const _=v(k,b);if(b===0)h[_]=i?1:m[_];else{const A=v(k,b-1);h[_]=i?m[A]*h[A]:m[_]*h[A]}}const x=n.makeTensorInfo(l.shape,d,h);if(c!=null){const k=Lu(c),b=Rs({inputs:{x},backend:n,attrs:{perm:k}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),b}return x}const qxe={kernelName:JE,backendName:"cpu",kernelFunc:Kxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,exclusive:i,reverse:o}=a;vt(r,"cumsum");const c=ka([s],r.shape.length);let l=r;c!=null&&(l=Rs({inputs:{x:r},backend:n,attrs:{perm:c}}));const u=Ba(1,r.shape.length)[0];if(u!==l.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${l.shape.length-1} but got axis=${u}`);const d=js(l.dtype,"int32"),h=jr(Me(l.shape),d),m=n.data.get(l.dataId).values,y=l.shape[l.shape.length-1],v=o?(k,b)=>k+y-b-1:(k,b)=>k+b;for(let k=0;k<m.length;k+=y)for(let b=0;b<y;b++){const _=v(k,b);if(b===0)h[_]=i?0:m[_];else{const A=v(k,b-1);h[_]=i?m[A]+h[A]:m[_]+h[A]}}const x=n.makeTensorInfo(l.shape,d,h);if(c!=null){const k=Lu(c),b=Rs({inputs:{x},backend:n,attrs:{perm:k}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),b}return x}const Yxe={kernelName:Hw,backendName:"cpu",kernelFunc:Xxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,weights:s}=e,{size:i,binaryOutput:o}=a;if(r.shape.length===1){const c=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,u=D3(c,l,s.dtype,s.shape,i);return n.makeTensorInfo([i],s.dtype,u)}else if(r.shape.length===2){const c=n.bufferSync(r),l=n.bufferSync(s),u=z7(c,l,i,o);return n.makeTensorInfo(u.shape,s.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const Qxe={kernelName:tC,backendName:"cpu",kernelFunc:Zxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jxe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{blockSize:s,dataFormat:i}=a;K(i==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${i}`);const o=r.shape[0],c=r.shape[1],l=r.shape[2],u=r.shape[3],d=c*s,h=l*s,m=u/(s*s),y=n.data.get(r.dataId).values,v=new Float32Array(o*d*h*m);let x=0;for(let k=0;k<o;++k)for(let b=0;b<d;++b){const _=Math.floor(b/s),A=b%s;for(let S=0;S<h;++S){const C=Math.floor(S/s),E=S%s,D=(A*s+E)*m;for(let I=0;I<m;++I){const R=I+D+u*(C+l*(_+c*k));v[x++]=y[R]}}}return n.makeTensorInfo([o,d,h,m],r.dtype,v)}const eve={kernelName:nC,backendName:"cpu",kernelFunc:Jxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z9(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c,dimRoundingMode:l}=a;vt([r,s],"depthwiseConv2DNative");const u=Ft(r.shape),d=Ft(s.shape);let h=c;h==null&&(h=[1,1]),K($r(i,h),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${h}'`);const m=br(r.shape,s.shape,i,h,o,l,!0),{filterHeight:y,filterWidth:v,dilationHeight:x,dilationWidth:k,padInfo:b}=m,_=b.left,A=b.top,S=m.outChannels/m.inChannels,C=new rr(m.outShape,r.dtype),E=n.data.get(r.dataId).values,D=n.data.get(s.dataId).values,I=C.values;for(let P=0;P<m.batchSize;++P){const R=P*u[0],B=P*C.strides[0];for(let U=0;U<m.outHeight;++U){const V=B+U*C.strides[1],j=U*m.strideHeight-A;for(let W=0;W<y;++W){const J=j+W*x;if(J<0||J>=m.inHeight)continue;const q=W*d[0],Z=R+J*u[1];for(let M=0;M<m.outWidth;++M){const se=V+M*C.strides[2],ue=M*m.strideWidth-_;for(let le=0;le<v;++le){const ie=ue+le*k;if(ie<0||ie>=m.inWidth)continue;const ye=q+le*d[1],ke=Z+ie*m.inChannels;let ge=se,G=ye;for(let te=0;te<m.inChannels;++te){const ee=E[ke+te];for(let ae=0;ae<S;++ae)I[ge+ae]+=ee*D[G+ae];ge+=S,G+=S}}}}}}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const tve={kernelName:Kw,backendName:"cpu",kernelFunc:z9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nve(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,dy:s}=e,{strides:i,dilations:o,pad:c,dimRoundingMode:l,filterShape:u}=a;vt([r,s],"depthwiseConv2dNativeBackpropFilter");const d=br(r.shape,u,i,o,c,l,!0),{strideHeight:h,strideWidth:m,filterHeight:y,filterWidth:v}=d,x=new rr(d.filterShape,"float32"),k=d.padInfo.left,b=d.padInfo.top,_=d.outChannels/d.inChannels,A=n.data.get(r.dataId).values,S=new rr(r.shape,r.dtype,A),C=n.data.get(s.dataId).values,E=new rr(s.shape,s.dtype,C);for(let D=0;D<y;++D){const I=Math.max(0,Math.ceil((b-D)/h)),P=Math.min(d.outHeight,(d.inHeight+b-D)/h);for(let R=0;R<v;++R){const B=Math.max(0,Math.ceil((k-R)/m)),U=Math.min(d.outWidth,(d.inWidth+k-R)/m);for(let V=0;V<d.outChannels;++V){const j=Math.trunc(V/_),W=V%_;let J=0;for(let q=0;q<d.batchSize;++q)for(let Z=I;Z<P;++Z){const M=D+Z*h-b;for(let se=B;se<U;++se){const ue=R+se*m-k;J+=S.get(q,M,ue,j)*E.get(q,Z,se,V)}}x.set(J,D,R,j,W)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const ave={kernelName:aC,backendName:"cpu",kernelFunc:nve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rve(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,filter:s}=e,{strides:i,dilations:o,pad:c,dimRoundingMode:l,inputShape:u}=a;vt([r,s],"depthwiseConv2DNativeBackpropInput");const d=Ft(r.shape),h=Ft(s.shape),m=br(u,s.shape,i,o,c,l,!0),y=new rr(m.inShape,"float32"),v=y.values,[x,k,b]=y.strides,_=n.data.get(r.dataId).values,[A,S,C]=d,E=n.data.get(s.dataId).values,[D,I,P]=h,{batchSize:R,filterHeight:B,filterWidth:U,inChannels:V,inHeight:j,inWidth:W,outChannels:J,outHeight:q,outWidth:Z,strideHeight:M,strideWidth:se}=m,ue=B-1-m.padInfo.top,le=U-1-m.padInfo.left,ie=J/V;for(let ye=0;ye<R;++ye)for(let ke=0;ke<V;++ke)for(let ge=0;ge<j;++ge){const G=ge-ue,te=Math.max(0,Math.ceil(G/M)),ee=Math.min(q,(B+G)/M);for(let ae=0;ae<W;++ae){const be=ae-le,Y=Math.max(0,Math.ceil(be/se)),Ae=Math.min(Z,(U+be)/se);let Oe=0;for(let $e=te;$e<ee;++$e){const He=$e*M-G;for(let Ve=Y;Ve<Ae;++Ve){const tt=Ve*se-be,lt=A*ye+S*$e+C*Ve,zt=D*(B-1-He)+I*(U-1-tt)+P*ke;for(let $t=0;$t<ie;++$t){const st=ke*ie+$t,Be=_[lt+st],Fe=E[zt+$t];Oe+=Be*Fe}}}v[x*ye+k*ge+b*ae+ke]=Oe}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const sve={kernelName:rC,backendName:"cpu",kernelFunc:rve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ive(t){const{inputs:e,backend:n}=t,{x:a}=e,r=Me(a.shape),s=n.data.get(a.dataId).values,i=cn([r,r],a.dtype),o=i.values;for(let l=0;l<s.length;l++)o[l*r+l]=s[l];const c=[...a.shape,...a.shape];return n.makeTensorInfo(c,i.dtype,i.values)}const ove={kernelName:sC,backendName:"cpu",kernelFunc:ive};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cve={kernelName:qw,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:a,filter:r}=t,{strides:s,pad:i,dilations:o}=n,c=e,l=c.data.get(a.dataId).values,u=a.shape.length,d=c.data.get(r.dataId).values,h=r.shape.length,{batchSize:m,inHeight:y,inWidth:v,inChannels:x,outHeight:k,outWidth:b,padInfo:_,strideHeight:A,strideWidth:S,filterHeight:C,filterWidth:E,dilationHeight:D,dilationWidth:I,outShape:P}=t1(a.shape,r.shape,s,i,"NHWC",o),R=Me(P),B=P.length,U=La(a.dtype,R);for(let j=0;j<m;++j)for(let W=0;W<k;++W){const J=W*A-_.top;for(let q=0;q<b;++q){const Z=q*S-_.left;for(let M=0;M<x;++M){let se=Number.MIN_SAFE_INTEGER;for(let le=0;le<C;++le){const ie=J+le*D;if(ie>=0&&ie<y)for(let ye=0;ye<E;++ye){const ke=Z+ye*I;if(ke>=0&&ke<v){const ge=sc([j,ie,ke,M],u,Ft(a.shape)),G=sc([le,ye,M],h,Ft(r.shape)),te=l[ge]+d[G];te>se&&(se=te)}}}const ue=sc([j,W,q,M],B,Ft(P));U[ue]=se}}}return{dataId:c.write(Sd(U,a.dtype),P,a.dtype),shape:P,dtype:a.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lve={kernelName:VS,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:a,filter:r,dy:s}=t,{strides:i,pad:o,dilations:c}=n,l=e,u=Ki(a.shape,l.data.get(a.dataId).values),d=Ki(r.shape,l.data.get(r.dataId).values),{batchSize:h,inHeight:m,inWidth:y,inChannels:v,outHeight:x,outWidth:k,padInfo:b,strideHeight:_,strideWidth:A,filterHeight:S,filterWidth:C,dilationHeight:E,dilationWidth:D,outShape:I}=t1(a.shape,r.shape,i,o,"NHWC",c);K(s.rank===I.length,()=>`Error in ${VS}, dy must have the same rank as output ${I.length}, but got ${s.rank}`);const P=Ki(I,l.data.get(s.dataId).values),R=L6(r.shape,r.dtype);for(let U=0;U<h;++U)for(let V=0;V<x;++V){const j=V*_-b.top;for(let W=0;W<k;++W){const J=W*A-b.left;for(let q=0;q<v;++q){let Z=Number.MIN_SAFE_INTEGER,M=0,se=0;for(let ue=0;ue<S;++ue){const le=j+ue*E;if(le>=0&&le<m)for(let ie=0;ie<C;++ie){const ye=J+ie*D;if(ye>=0&&ye<y){const ke=u[U][le][ye][q]+d[ue][ie][q];ke>Z&&(Z=ke,M=ue,se=ie)}}}R[M][se][q]+=P[U][V][W][q]}}}return{dataId:l.write(Sd(R,a.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uve={kernelName:WS,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:a,filter:r,dy:s}=t,{strides:i,pad:o,dilations:c}=n,l=e,u=Ki(a.shape,l.data.get(a.dataId).values),d=Ki(r.shape,l.data.get(r.dataId).values),{batchSize:h,inHeight:m,inWidth:y,inChannels:v,outHeight:x,outWidth:k,padInfo:b,strideHeight:_,strideWidth:A,filterHeight:S,filterWidth:C,dilationHeight:E,dilationWidth:D,outShape:I}=t1(a.shape,r.shape,i,o,"NHWC",c);K(s.rank===I.length,()=>`Error in ${WS}, dy must have the same rank as output ${I.length}, but got ${s.rank}`);const P=Ki(I,l.data.get(s.dataId).values),R=L6(a.shape,a.dtype);for(let U=0;U<h;++U)for(let V=0;V<x;++V){const j=V*_-b.top;for(let W=0;W<k;++W){const J=W*A-b.left;for(let q=0;q<v;++q){let Z=Number.MIN_SAFE_INTEGER,M=j<0?0:j,se=J<0?0:J;for(let ue=0;ue<S;++ue){const le=j+ue*E;if(le>=0&&le<m)for(let ie=0;ie<C;++ie){const ye=J+ie*D;if(ye>=0&&ye<y){const ke=u[U][le][ye][q]+d[ue][ie][q];ke>Z&&(Z=ke,M=le,se=ye)}}}R[U][M][se][q]+=P[U][V][W][q]}}}return{dataId:l.write(Sd(R,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fve(t){const{inputs:e,backend:n,attrs:a}=t,{image:r}=e,{canvas:s,options:i}=a,{contextOptions:o,imageOptions:c}=i||{},l=(c==null?void 0:c.alpha)||1,u=(o==null?void 0:o.contextType)||"2d";if(u!=="2d")throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);const d=s.getContext(u,(o==null?void 0:o.contextAttributes)||{});if(d==null)throw new Error(`Could not get the context with ${u} type.`);const[h,m]=r.shape.slice(0,2),y=r.shape.length===2?1:r.shape[2],v=n.data.get(r.dataId).values,x=r.dtype==="float32"?255:1,k=new Uint8ClampedArray(m*h*4);for(let _=0;_<h*m;++_){const A=[0,0,0,255*l];for(let C=0;C<y;C++){const E=v[_*y+C];if(r.dtype==="float32"){if(E<0||E>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${E}.`)}else if(r.dtype==="int32"&&(E<0||E>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${E}.`);y===1?(A[0]=E*x,A[1]=E*x,A[2]=E*x):A[C]=E*x}const S=_*4;k[S+0]=Math.round(A[0]),k[S+1]=Math.round(A[1]),k[S+2]=Math.round(A[2]),k[S+3]=Math.round(A[3])}s.width=m,s.height=h;const b=new ImageData(k,m,h);return d.putImageData(b,0,0),r}const dve={kernelName:Nre,backendName:"cpu",kernelFunc:fve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v1(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a;vt(r,"sum");let o;r.dtype==="bool"?o=bu({inputs:{x:r},backend:n,attrs:{dtype:"int32"}}):o=gc({inputs:{x:r},backend:n});const c=o.shape.length,l=yn(s,o.shape),u=ka(l,c);let d=l,h=o;u!=null&&(h=Rs({inputs:{x:o},backend:n,attrs:{perm:u}}),d=Ba(d.length,c)),Lr("sum",d,h.shape.length);const[m,y]=_r(h.shape,d),v=js(h.dtype,"int32");let x=Lk(n,m,v);const k=Me(y),b=n.data.get(x.dataId).values,_=n.data.get(h.dataId).values;for(let A=0;A<b.length;++A){const S=A*k;let C=0;for(let E=0;E<k;++E)C+=_[S+E];b[A]=C}if(i){const A=Ma(x.shape,l),S=x;x=ca({inputs:{x},backend:n,attrs:{shape:A}}),n.disposeIntermediateTensorInfo(S)}return n.disposeIntermediateTensorInfo(o),u!=null&&n.disposeIntermediateTensorInfo(h),x}const pve={kernelName:Tb,backendName:"cpu",kernelFunc:v1};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hve(t){const{inputs:e,backend:n,attrs:a}=t,{equation:r}=a,s=e,{allDims:i,summedDims:o,idDims:c}=e3(r,s.length);n3(i.length,c,s);const{path:l,steps:u}=a3(o,c),d=u.length;let h=null,m=i.length;const y=[];for(let v=0;v<d;++v){for(const x of u[v]){const{permutationIndices:k,expandDims:b}=t3(m,c[x]);let _;r3(k)?_=s[x]:(_=Rs({inputs:{x:s[x]},backend:n,attrs:{perm:k}}),y.push(_));const A=_.shape.slice();for(let S=0;S<b.length;++S)A.splice(b[S],0,1);Sn(_.shape,A)||(_=ca({inputs:{x:_},backend:n,attrs:{shape:A}}),y.push(_)),h===null?h=_:(h=v_({inputs:{a:_,b:h},backend:n}),y.push(h))}v<d-1&&(l[v]>=0&&(h=v1({inputs:{x:h},backend:n,attrs:{axis:l[v]-(i.length-m),keepDims:!1}}),y.push(h)),m--)}for(const v of y)v!==h&&n.disposeIntermediateTensorInfo(v);return h}const mve={kernelName:iC,backendName:"cpu",kernelFunc:hve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gve(t){const{inputs:e,backend:n}=t,{dy:a,y:r}=e;vt([a,r],"eluGrad");const s=new Float32Array(Me(r.shape)),i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values;for(let c=0;c<i.length;++c){const l=i[c];l>=0?s[c]=o[c]:s[c]=o[c]*(l+1)}return n.makeTensorInfo(r.shape,"float32",s)}const yve={kernelName:oC,backendName:"cpu",kernelFunc:gve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xve=KI,vve=qI,kve=XI,wve=YI,bve=ZI,_ve=QI,Ave=Yn(vy,t=>{const e=Math.sign(t),n=Math.abs(t),a=1/(1+xve*n);return e*(1-((((_ve*a+bve)*a+wve)*a+kve)*a+vve)*a*Math.exp(-n*n))}),Nve={kernelName:vy,backendName:"cpu",kernelFunc:Ave};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zk(t){const{inputs:e,backend:n,attrs:a}=t,{input:r}=e,{dim:s}=a,i=r.shape.length,o=r.shape.slice();let c=s;return s<0&&(K(-(i+1)<=s,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),c=i+s+1),o.splice(c,0,1),ca({inputs:{x:r},backend:n,attrs:{shape:o}})}const Sve={kernelName:Yw,backendName:"cpu",kernelFunc:zk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tve=Ga((t,e)=>t/e),L3=lr(yy,Tve),DT={kernelName:yy,backendName:"cpu",kernelFunc:L3};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G9(t,e,n){const a=t.shape,r=a[0],s=a[1],i=n.data.get(t.dataId),o=i.complexTensorInfos.real,c=i.complexTensorInfos.imag,l=[r,s],u=Me(l),d=Fr("float32",u),h=Fr("float32",u);for(let x=0;x<r;x++){const k=fd({inputs:{x:o},backend:n,attrs:{begin:[x,0],size:[1,s]}}),b=fd({inputs:{x:c},backend:n,attrs:{begin:[x,0],size:[1,s]}}),_=Us({inputs:{real:k,imag:b},backend:n}),{real:A,imag:S}=Eve(_,e,n),C=dl(A,S);for(let E=0;E<s;E++){const D=JI(C,E);d[x*s+E]=D.real,h[x*s+E]=D.imag}n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(_)}const m=n.makeTensorInfo(l,"float32",d),y=n.makeTensorInfo(l,"float32",h),v=Us({inputs:{real:m,imag:y},backend:n});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),v}function Eve(t,e,n){const a=Me(t.shape),r=n.data.get(t.dataId),s=n.data.get(r.complexTensorInfos.real.dataId).values,i=n.data.get(r.complexTensorInfos.imag.dataId).values;if(Cve(a)){const o=RT(s,i,a,e,n),c=[t.shape[0],t.shape[1]];if(e){const l=n.makeTensorInfo(c,"float32",o.real),u=n.makeTensorInfo(c,"float32",o.imag),d=n.makeTensorInfo([],"float32",Pu(a,"float32")),h=gc({inputs:{x:d},backend:n}),m=DT.kernelFunc({inputs:{a:l,b:d},backend:n}),y=DT.kernelFunc({inputs:{a:u,b:h},backend:n}),v=n.data.get(m.dataId).values,x=n.data.get(y.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),{real:v,imag:x}}return o}else{const o=dl(s,i),c=Ive(o,a,e);return Zz(c)}}function Cve(t){return(t&t-1)===0}function RT(t,e,n,a,r){if(n===1)return{real:t,imag:e};const s=dl(t,e),i=n/2,o=Qz(s),c=o.real,l=o.imag,u=[c.length],d=r.makeTensorInfo(u,"float32",c),h=r.makeTensorInfo(u,"float32",l),m=Us({inputs:{real:d,imag:h},backend:r}),y=Jz(s),v=y.real,x=y.imag,k=[v.length],b=r.makeTensorInfo(k,"float32",v),_=r.makeTensorInfo(k,"float32",x),A=Us({inputs:{real:b,imag:_},backend:r}),S=RT(c,l,i,a,r),C=S.real,E=S.imag,D=[C.length],I=r.makeTensorInfo(D,"float32",C),P=r.makeTensorInfo(D,"float32",E),R=Us({inputs:{real:I,imag:P},backend:r}),B=RT(v,x,i,a,r),U=B.real,V=B.imag,j=[U.length],W=r.makeTensorInfo(j,"float32",U),J=r.makeTensorInfo(j,"float32",V),q=Us({inputs:{real:W,imag:J},backend:r}),Z=tG(n,a),M=[Z.real.length],se=r.makeTensorInfo(M,"float32",Z.real),ue=r.makeTensorInfo(M,"float32",Z.imag),le=Us({inputs:{real:se,imag:ue},backend:r}),ie=v_({inputs:{a:le,b:q},backend:r}),ye=kh({inputs:{a:R,b:ie},backend:r}),ke=O3({inputs:{a:R,b:ie},backend:r}),ge=ud({inputs:{input:ye},backend:r}),G=ud({inputs:{input:ke},backend:r}),te=wh({inputs:{input:ye},backend:r}),ee=wh({inputs:{input:ke},backend:r}),ae=bh({inputs:[ge,G],backend:r,attrs:{axis:0}}),be=bh({inputs:[te,ee],backend:r,attrs:{axis:0}}),Y=r.data.get(ae.dataId).values,Ae=r.data.get(be.dataId).values;return r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(A),r.disposeIntermediateTensorInfo(I),r.disposeIntermediateTensorInfo(P),r.disposeIntermediateTensorInfo(R),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(J),r.disposeIntermediateTensorInfo(q),r.disposeIntermediateTensorInfo(se),r.disposeIntermediateTensorInfo(ue),r.disposeIntermediateTensorInfo(le),r.disposeIntermediateTensorInfo(ie),r.disposeIntermediateTensorInfo(ye),r.disposeIntermediateTensorInfo(ke),r.disposeIntermediateTensorInfo(ge),r.disposeIntermediateTensorInfo(te),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(ee),r.disposeIntermediateTensorInfo(ae),r.disposeIntermediateTensorInfo(be),{real:Y,imag:Ae}}function Ive(t,e,n){const a=new Float32Array(e*2);for(let r=0;r<e;r++){let s=0,i=0;for(let o=0;o<e;o++){const c=nG(r*o,e,n),l=JI(t,o);s+=l.real*c.real-l.imag*c.imag,i+=l.real*c.imag+l.imag*c.real}n&&(s/=e,i/=e),eG(a,s,i,r)}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dve(t){const{inputs:e,backend:n}=t,{input:a}=e,r=Me(a.shape),s=a.shape[a.shape.length-1],i=r/s,o=ca({inputs:{x:a},backend:n,attrs:{shape:[i,s]}}),c=G9(o,!1,n),l=ca({inputs:{x:c},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),l}const Rve={kernelName:cC,backendName:"cpu",kernelFunc:Dve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M3(t){const{backend:e,attrs:n}=t,{shape:a,value:r,dtype:s}=n,i=s||Uh(r),o=La(i,Me(a));return Fve(o,r,i),e.makeTensorInfo(a,i,o)}const Pve={kernelName:lC,backendName:"cpu",kernelFunc:M3};function Fve(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ove={kernelName:uC,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:a}=t,r=n,s=Fr(a.dtype,Me(a.shape)),[i,o,c,l]=a.shape,u=r.data.get(a.dataId).values;for(let h=0;h<i;h++){const m=h*c*o*l;for(let y=0;y<o;y++){const v=y*(c*l);for(let x=0;x<c;x++){const k=x*l;for(let b=0;b<l;b++){const _=Math.round(c-x-1),A=m+v+k+b;let S=u[A];if(_>=0&&_<c){const C=_*l,E=m+v+C+b;S=u[E]}s[A]=S}}}}return{dataId:r.write(s,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ve(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s,bias:i,preluActivationWeights:o}=e,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h,activation:m,leakyreluAlpha:y}=a;let v=B9({inputs:{x:r,filter:s},backend:n,attrs:{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h}});if(i){const x=v;if(u==="NCHW"&&i.shape.length===1&&i.shape[0]!==1){const k=ca({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});v=kh({inputs:{a:v,b:k},backend:n}),n.disposeIntermediateTensorInfo(k)}else v=kh({inputs:{a:v,b:i},backend:n});n.disposeIntermediateTensorInfo(x)}if(m){const x=v;if(u==="NCHW"&&m==="prelu"&&o.shape.length===1&&o.shape[0]!==1){const k=ca({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});v=Bk(n,v,m,k,y),n.disposeIntermediateTensorInfo(k)}else v=Bk(n,v,m,o,y);n.disposeIntermediateTensorInfo(x)}return v}const Lve={kernelName:vk,backendName:"cpu",kernelFunc:$ve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mve(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s,bias:i,preluActivationWeights:o}=e,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h,activation:m,leakyreluAlpha:y}=a;let v=z9({inputs:{x:r,filter:s},backend:n,attrs:{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h}});if(i){const x=v;v=kh({inputs:{a:v,b:i},backend:n}),n.disposeIntermediateTensorInfo(x)}if(m){const x=v;v=Bk(n,v,m,o,y),n.disposeIntermediateTensorInfo(x)}return v}const Bve={kernelName:kk,backendName:"cpu",kernelFunc:Mve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zve(t){const{inputs:e,backend:n}=t,{params:a,indices:r}=e,s=Me(a.shape),i=r.shape,o=i[i.length-1],[c,l,u,d]=$I(a,r);if(l===0)return n.makeTensorInfo(c,a.dtype,[]);const h=n.data.get(r.dataId).values,m=n.bufferSync(a),y=Z7(h,m,a.dtype,l,o,u,d,a.shape,s);return n.makeTensorInfo(c,a.dtype,y.values)}const Gve={kernelName:fC,backendName:"cpu",kernelFunc:zve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uve(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,indices:s}=e,{axis:i,batchDims:o}=a;vt([r,s],"gatherV2");const c=yn(i,r.shape)[0],l=n.data.get(s.dataId).values,u=r.shape[c];for(let A=0;A<l.length;++A){const S=l[A];K(S<=u-1&&S>=0,()=>`GatherV2: the index value ${S} is not in [0, ${u-1}]`)}let d=o;o==null&&(d=0);const h=Me(s.shape),m=i3(r,s,c,d),y=ca({inputs:{x:r},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),v=ca({inputs:{x:s},backend:n,attrs:{shape:[m.batchSize,h/m.batchSize]}}),x=[m.batchSize,m.outerSize,h/m.batchSize,m.sliceSize],k=n.bufferSync(v),b=n.bufferSync(y),_=Q7(b,k,x);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),n.makeTensorInfo(m.outputShape,_.dtype,_.values)}const Wve={kernelName:Qw,backendName:"cpu",kernelFunc:Uve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vve(t){const{inputs:e,backend:n}=t,{input:a}=e,r=Me(a.shape),s=a.shape[a.shape.length-1],i=r/s,o=ca({inputs:{x:a},backend:n,attrs:{shape:[i,s]}}),c=G9(o,!0,n),l=ca({inputs:{x:c},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),l}const jve={kernelName:dC,backendName:"cpu",kernelFunc:Vve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hve=Yn(Sy,t=>Number.isFinite(t)?1:0,"bool"),Kve={kernelName:Sy,backendName:"cpu",kernelFunc:Hve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qve=Yn(Ty,t=>Math.abs(t)===1/0?1:0,"bool"),Xve={kernelName:Ty,backendName:"cpu",kernelFunc:qve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yve=Yn(Ey,t=>Number.isNaN(t)?1:0,"bool"),Zve={kernelName:Ey,backendName:"cpu",kernelFunc:Yve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qve(t){const{backend:e,attrs:n}=t,{start:a,stop:r,num:s}=n,i=a9(a,r,s);return e.makeTensorInfo([i.length],"float32",i)}const Jve={kernelName:hC,backendName:"cpu",kernelFunc:Qve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eke=Yn(Iy,t=>Math.log1p(t)),tke={kernelName:Iy,backendName:"cpu",kernelFunc:eke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nke=Ga((t,e)=>t&&e),ake=lr(ab,nke,null,"bool"),rke={kernelName:ab,backendName:"cpu",kernelFunc:ake};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ske=Yn(rb,t=>t?0:1,"bool"),ike={kernelName:rb,backendName:"cpu",kernelFunc:ske};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oke=Ga((t,e)=>t||e),cke=lr(sb,oke,null,"bool"),lke={kernelName:sb,backendName:"cpu",kernelFunc:cke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uke(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{depthRadius:s,bias:i,alpha:o,beta:c}=a;vt(r,"LRN");const l=r.shape[3],u=l-1,d=n.data.get(r.dataId).values,h=Me(r.shape),m=new Float32Array(h);function y(v){const x=v%l;let k=v-x+Math.max(0,x-s);const b=v-x+Math.min(x+s,u);let _=0;for(;k<=b;k++){const A=d[k];_+=A*A}return _}for(let v=0;v<h;v++){const x=y(v),k=d[v]*Math.pow(i+o*x,-c);m[v]=k}return n.makeTensorInfo(r.shape,r.dtype,m)}const fke={kernelName:ib,backendName:"cpu",kernelFunc:uke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dke(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,y:s,dy:i}=e,{depthRadius:o,bias:c,alpha:l,beta:u}=a;vt(i,"LRNGrad");const d=Me(i.shape),h=i.shape[3],m=n.data.get(i.dataId).values,y=n.data.get(r.dataId).values,v=n.data.get(s.dataId).values,x=new Float32Array(d),k=d;for(let b=0;b<k;b++){const _=b%h,A=b-_+Math.max(0,_-o),S=b-_+Math.min(h,_+o+1);let C=0;for(let E=A;E<S;E++)C+=Math.pow(y[E],2);C=l*C+c;for(let E=A;E<S;E++){let D=-2*l*u*y[E]*v[b]/C;b===E&&(D+=Math.pow(C,-u)),D*=m[b],x[E]+=D}}return n.makeTensorInfo(i.shape,r.dtype,x)}const pke={kernelName:mC,backendName:"cpu",kernelFunc:dke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U9(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{reductionIndices:s,keepDims:i}=a,o=n;let c=r.shape;const l=c.length,u=yn(s,c);let d=u;const h=ka(d,l);let m=o.data.get(r.dataId).values;if(h!=null){const A=new Array(l);for(let S=0;S<A.length;S++)A[S]=c[h[S]];m=P3(m,c,r.dtype,h,A),d=Ba(d.length,l),c=A}vt(r,"max"),Lr("max",d,l);const[y,v]=_r(c,d),x=Me(v),k=s9(m,x,y,r.dtype),b=o.write(k,y,r.dtype);let _=y;return i&&(_=Ma(y,u)),{dataId:b,shape:_,dtype:r.dtype}}const hke={kernelName:ob,backendName:"cpu",kernelFunc:U9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mke(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e;vt(r,"maxPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=a,l=1;K($r(i,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);const u=Ji(r.shape,s,i,l,o,c);let d;if(u.filterWidth===1&&u.filterHeight===1&&Sn(u.inShape,u.outShape))d=gc({inputs:{x:r},backend:n});else{const h=n.data.get(r.dataId).values,m=Ft(r.shape),y=$3(h,r.shape,r.dtype,m,u,"max");d=n.makeTensorInfo(u.outShape,r.dtype,y.values)}return d}const gke={kernelName:cb,backendName:"cpu",kernelFunc:mke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yke(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:c,dataFormat:l}=a;vt(r,"maxPool3d");const u=kl(r.shape,s,i,1,o,c,l),d=n.data.get(r.dataId).values,h=M9(d,r.shape,r.dtype,Ft(r.shape),u,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}const xke={kernelName:lb,backendName:"cpu",kernelFunc:yke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vke(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,input:s}=e,{filterSize:i,strides:o,pad:c,dimRoundingMode:l}=a;vt([r,s],"maxPool3DGrad");const u=kl(s.shape,i,o,1,c,l),d=n.bufferSync(s),h=oxe(d,u),m=u.strideDepth,y=u.strideHeight,v=u.strideWidth,x=u.dilationDepth,k=u.dilationHeight,b=u.dilationWidth,_=u.effectiveFilterDepth,A=u.effectiveFilterHeight,S=u.effectiveFilterWidth,C=_-1-u.padInfo.front,E=S-1-u.padInfo.left,D=A-1-u.padInfo.top,I=cn(s.shape,"float32"),P=n.bufferSync(r);for(let R=0;R<u.batchSize;++R)for(let B=0;B<u.inChannels;++B)for(let U=0;U<u.inDepth;++U)for(let V=0;V<u.inHeight;++V)for(let j=0;j<u.inWidth;++j){const W=U-C,J=V-D,q=j-E;let Z=0;for(let M=0;M<_;M+=x){const se=(W+M)/m;if(!(se<0||se>=u.outDepth||Math.floor(se)!==se))for(let ue=0;ue<A;ue+=k){const le=(J+ue)/y;if(!(le<0||le>=u.outHeight||Math.floor(le)!==le))for(let ie=0;ie<S;ie+=b){const ye=(q+ie)/v;if(ye<0||ye>=u.outWidth||Math.floor(ye)!==ye)continue;const ke=_*A*S-1-h.get(R,se,le,ye,B),ge=M*A*S+ue*S+ie,G=ke===ge?1:0;if(G===0)continue;const te=P.get(R,se,le,ye,B);Z+=te*G}}}I.set(Z,R,U,V,j,B)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}const kke={kernelName:yC,backendName:"cpu",kernelFunc:vke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wke(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,input:s,output:i}=e,o=s;vt([s,i],"maxPoolGrad");const{filterSize:c,strides:l,pad:u,dimRoundingMode:d}=a,h=Ji(o.shape,c,l,1,u,d),m=n.data.get(o.dataId).values,y=cn(h.outShape,o.dtype,L9(m,o.shape,o.dtype,h).values),v=h.strideHeight,x=h.strideWidth,k=h.dilationHeight,b=h.dilationWidth,_=h.effectiveFilterHeight,A=h.effectiveFilterWidth,S=A-1-h.padInfo.left,C=_-1-h.padInfo.top,E=cn(o.shape,"float32"),D=n.data.get(r.dataId).values,I=cn(r.shape,"float32",D);for(let P=0;P<h.batchSize;++P)for(let R=0;R<h.inChannels;++R)for(let B=0;B<h.inHeight;++B)for(let U=0;U<h.inWidth;++U){const V=B-C,j=U-S;let W=0;for(let J=0;J<_;J+=k){const q=(V+J)/v;if(!(q<0||q>=h.outHeight||Math.floor(q)!==q))for(let Z=0;Z<A;Z+=b){const M=(j+Z)/x;if(M<0||M>=h.outWidth||Math.floor(M)!==M)continue;const se=_*A-1-y.get(P,q,M,R),ue=J*A+Z,le=se===ue?1:0;if(le===0)continue;const ie=I.get(P,q,M,R);W+=ie*le}}E.set(W,P,B,U,R)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}const bke={kernelName:gC,backendName:"cpu",kernelFunc:wke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ke(t,e,n,a,r){const s=Ft(e),i=$3(t,e,n,s,r,"max"),o=L9(t,e,n,r,!0,a);return[i.values,o.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ake={kernelName:xC,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:a}=t,{filterSize:r,strides:s,pad:i,includeBatchInIndex:o}=e,c=n;vt(a,"MaxPoolWithArgmax");const l=c.data.get(a.dataId).values,u=Ji(a.shape,r,s,[1,1],i),[d,h]=_ke(l,a.shape,a.dtype,o,u),m=c.write(d,u.outShape,a.dtype),y=c.write(h,u.outShape,a.dtype);return[{dataId:m,shape:u.outShape,dtype:a.dtype},{dataId:y,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nke(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a,o=yn(s,r.shape),l=_r(r.shape,o)[1],u=Me(l),d=[],h=n.makeTensorInfo([],"float32",new Float32Array([u]));d.push(h);const m=bu({inputs:{x:r},backend:n,attrs:{dtype:"float32"}});d.push(m);const y=L3({inputs:{a:m,b:h},backend:n});d.push(y);const v=v1({inputs:{x:y},backend:n,attrs:{axis:s,keepDims:i}});return d.forEach(x=>n.disposeIntermediateTensorInfo(x)),v}const Ske={kernelName:ub,backendName:"cpu",kernelFunc:Nke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tke(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a;vt(r,"min");const o=yn(s,r.shape);let c=o;const l=ka(c,r.shape.length);let u=r;l!=null&&(u=Rs({inputs:{x:r},backend:n,attrs:{perm:l}}),c=Ba(c.length,r.shape.length)),Lr("min",c,u.shape.length);const[d,h]=_r(u.shape,c),m=Me(h),y=jr(Me(d),u.dtype),v=n.data.get(u.dataId).values;for(let k=0;k<y.length;++k){const b=k*m;let _=v[b];for(let A=0;A<m;++A){const S=v[b+A];(Number.isNaN(S)||S<_)&&(_=S)}y[k]=_}l!=null&&n.disposeIntermediateTensorInfo(u);const x=n.makeTensorInfo(d,u.dtype,y);if(i){const k=Ma(d,o),b=ca({inputs:{x},backend:n,attrs:{shape:k}});return n.disposeIntermediateTensorInfo(x),b}return x}const Eke={kernelName:fb,backendName:"cpu",kernelFunc:Tke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cke(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{paddings:s,mode:i}=a;vt(r,"mirrorPad");const o=s.map((_,A)=>_[0]+r.shape[A]+_[1]),c=s.map(_=>_[0]),l=s.map((_,A)=>_[0]+r.shape[A]),u=i==="reflect"?0:1,d=n.data.get(r.dataId).values,h=r.shape.length,m=Ft(r.shape),y=Me(o),v=o.length,x=Ft(o),k=Fr(r.dtype,y);for(let _=0;_<y;_++){let A=Wh(_,v,x);for(let C=0;C<v;C++)A[C]<c[C]?A[C]=c[C]*2-A[C]-u:A[C]>=l[C]&&(A[C]=(l[C]-1)*2-A[C]+u);A=A.map((C,E)=>C-c[E]);const S=sc(A,h,m);k[_]=d[S]}return{dataId:n.write(k,o,r.dtype),shape:o,dtype:r.dtype}}const Ike={kernelName:db,backendName:"cpu",kernelFunc:Cke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dke=Ga((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),Rke=lr(Py,Dke),Pke={kernelName:Py,backendName:"cpu",kernelFunc:Rke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W9(t){const{inputs:e,backend:n,attrs:a}=t,{logits:r}=e,{dim:s}=a,i=r.shape.length;let o=s;if(o===-1&&(o=i-1),o!==i-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${i} and dim was ${o}`);const c=yn([o],r.shape),l=U9({inputs:{x:r},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),u=Ma(l.shape,c),d=ca({inputs:{x:l},backend:n,attrs:{shape:u}}),h=O3({inputs:{a:r,b:d},backend:n}),m=K7({inputs:{x:h},backend:n}),y=v1({inputs:{x:m},backend:n,attrs:{axis:c,keepDims:!1}}),v=ca({inputs:{x:y},backend:n,attrs:{shape:u}}),x=L3({inputs:{a:m,b:v},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),x}const Fke={kernelName:Ib,backendName:"cpu",kernelFunc:W9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oke(t){const{inputs:e,backend:n,attrs:a}=t,{logits:r}=e,{numSamples:s,seed:i,normalized:o}=a;vt(r,"multinomial");const c=o?r:W9({inputs:{logits:r},backend:n,attrs:{dim:-1}}),l=c.shape[0],u=c.shape[1],d=n.data.get(c.dataId).values,h=[l,s],m=jr(Me(h),"int32");for(let y=0;y<l;++y){const v=y*u,x=new Float32Array(u-1);x[0]=d[v];for(let _=1;_<x.length;++_)x[_]=x[_-1]+d[v+_];const k=qb.alea(i.toString()),b=y*s;for(let _=0;_<s;++_){const A=k();m[b+_]=x.length;for(let S=0;S<x.length;S++)if(A<x[S]){m[b+_]=S;break}}}return o||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(h,"int32",m)}const $ke={kernelName:vC,backendName:"cpu",kernelFunc:Oke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lke=CI;function Mke(t){const{inputs:e,backend:n,attrs:a}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c}=a;vt(r,"NonMaxSuppression");const l=n.data.get(r.dataId).values,u=n.data.get(s.dataId).values,{selectedIndices:d}=Lke(l,u,i,o,c);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const Bke={kernelName:kC,backendName:"cpu",kernelFunc:Mke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zke=II;function Gke(t){const{inputs:e,backend:n,attrs:a}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c,padToMaxOutputSize:l}=a;vt(r,"NonMaxSuppressionPadded");const u=n.data.get(r.dataId).values,d=n.data.get(s.dataId).values,{selectedIndices:h,validOutputs:m}=zke(u,d,i,o,c,l);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}const Uke={kernelName:wC,backendName:"cpu",kernelFunc:Gke};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wke=DI;function Vke(t){const{inputs:e,backend:n,attrs:a}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c,softNmsSigma:l}=a;vt(r,"NonMaxSuppressionWithScore");const u=n.data.get(r.dataId).values,d=n.data.get(s.dataId).values,h=i,m=o,y=c,v=l,{selectedIndices:x,selectedScores:k}=Wke(u,d,h,m,y,v);return[n.makeTensorInfo([x.length],"int32",new Int32Array(x)),n.makeTensorInfo([k.length],"float32",new Float32Array(k))]}const jke={kernelName:bC,backendName:"cpu",kernelFunc:Vke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hke(t){const{inputs:e,backend:n,attrs:a}=t,{indices:r}=e,{dtype:s,depth:i,onValue:o,offValue:c}=a;vt(r,"oneHot");const l=Me(r.shape),u=new Float32Array(l*i);u.fill(c);const d=n.data.get(r.dataId).values;for(let h=0;h<l;++h)d[h]>=0&&d[h]<i&&(u[h*i+d[h]]=o);return n.makeTensorInfo([...r.shape,i],s,u)}const Kke={kernelName:gb,backendName:"cpu",kernelFunc:Hke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gk(t){const{inputs:e,backend:n}=t,{x:a}=e;if(a.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(a.dtype==="complex64"){const r=ud({inputs:{input:a},backend:n}),s=Gk({inputs:{x:r},backend:n}),i=wh({inputs:{input:a},backend:n}),o=Gk({inputs:{x:i},backend:n}),c=Us({inputs:{real:s,imag:o},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),c}else return M3({backend:n,attrs:{shape:a.shape,value:0,dtype:a.dtype}})}const qke={kernelName:Fb,backendName:"cpu",kernelFunc:Gk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V9(t){const{inputs:e,backend:n}=t,{x:a}=e;if(a.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(a.dtype==="complex64"){const r=ud({inputs:{input:a},backend:n}),s=V9({inputs:{x:r},backend:n}),i=wh({inputs:{input:a},backend:n}),o=Gk({inputs:{x:i},backend:n}),c=Us({inputs:{real:s,imag:o},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),c}else return M3({backend:n,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}const Xke={kernelName:mb,backendName:"cpu",kernelFunc:V9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j9(t){const{inputs:e,backend:n,attrs:a}=t,{axis:r}=a;if(e.length===1)return zk({inputs:{input:e[0]},backend:n,attrs:{dim:r}});const s=e[0].shape,i=e[0].dtype;e.forEach(u=>{Qs(s,u.shape,"All tensors passed to stack must have matching shapes"),K(i===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],c=e.map(u=>{const d=zk({inputs:{input:u},backend:n,attrs:{dim:r}});return o.push(d),d}),l=bh({inputs:c,backend:n,attrs:{axis:r}});return o.forEach(u=>n.disposeIntermediateTensorInfo(u)),l}const Yke={kernelName:yb,backendName:"cpu",kernelFunc:j9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zke(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{paddings:s,constantValue:i}=a;vt(r,"pad");const o=s.map((b,_)=>b[0]+r.shape[_]+b[1]),c=s.map(b=>b[0]),l=n.data.get(r.dataId).values,u=Me(r.shape),d=r.shape.length,h=Ft(r.shape),m=Me(o),y=o.length,v=Ft(o),x=Fr(r.dtype,m);i!==0&&x.fill(i);for(let b=0;b<u;b++){const A=Wh(b,d,h).map((C,E)=>C+c[E]),S=sc(A,y,v);x[S]=l[b]}return{dataId:n.write(x,o,r.dtype),shape:o,dtype:r.dtype}}const H9={kernelName:xb,backendName:"cpu",kernelFunc:Zke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qke=Ga((t,e)=>Math.pow(t,e)),Jke=lr(Oy,Qke),ewe={kernelName:Oy,backendName:"cpu",kernelFunc:Jke};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function twe(t){const{inputs:e,backend:n,attrs:a}=t,{paramsNestedSplits:r,paramsDenseValues:s,indices:i}=e,{outputRaggedRank:o}=a,c=r.map(k=>n.data.get(k.dataId).values),l=r.map(k=>k.shape),u=n.data.get(s.dataId).values,d=n.data.get(i.dataId).values,[h,m,y]=f9(c,l,u,s.shape,s.dtype,d,i.shape),v=h.map(k=>n.makeTensorInfo([k.length],"int32",k)),x=n.makeTensorInfo(y,s.dtype,m);return v.concat([x])}const nwe={kernelName:_C,backendName:"cpu",kernelFunc:twe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function awe(t){const{inputs:e,backend:n}=t,{starts:a,limits:r,deltas:s}=e,i=n.data.get(a.dataId).values,o=n.data.get(r.dataId).values,c=n.data.get(s.dataId).values,[l,u]=d9(i,a.shape,a.dtype,o,r.shape,c,s.shape),d=n.makeTensorInfo([l.length],"int32",l),h=n.makeTensorInfo([u.length],a.dtype,u);return[d,h]}const rwe={kernelName:AC,backendName:"cpu",kernelFunc:awe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function swe(t){const{inputs:e,backend:n,attrs:a}=t,{shape:r,values:s,defaultValue:i,rowPartitionTensors:o}=e,{rowPartitionTypes:c}=a,l=n.data.get(r.dataId).values,u=n.data.get(s.dataId).values,d=n.data.get(i.dataId).values,h=o.map(x=>n.data.get(x.dataId).values),m=o.map(x=>x.shape),[y,v]=p9(l,r.shape,u,s.shape,s.dtype,d,i.shape,h,m,c);return n.makeTensorInfo(y,s.dtype,v)}const iwe={kernelName:NC,backendName:"cpu",kernelFunc:swe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function owe(t){const{backend:e,attrs:n}=t,{start:a,stop:r,dtype:s,step:i}=n,o=h9(a,r,i,s);return e.makeTensorInfo([o.length],s,o)}const cwe={kernelName:SC,backendName:"cpu",kernelFunc:owe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lwe=Yn($y,t=>1/t),uwe={kernelName:$y,backendName:"cpu",kernelFunc:lwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fwe(t){const{inputs:e,backend:n,attrs:a}=t,{images:r}=e,{alignCorners:s,halfPixelCenters:i,size:o}=a;vt(r,"resizeBilinear");const c=Ft(r.shape),[l,u]=o,[d,h,m,y]=r.shape,v=n.data.get(r.dataId).values,x=new Float32Array(Me([d,l,u,y])),k=[s&&l>1?h-1:h,s&&u>1?m-1:m],b=[s&&l>1?l-1:l,s&&u>1?u-1:u];let _=0;const A=k[0]/b[0],S=k[1]/b[1];for(let C=0;C<d;C++)for(let E=0;E<l;E++){let D;i?D=A*(E+.5)-.5:D=A*E;const I=Math.max(0,Math.floor(D)),P=D-I,R=Math.min(h-1,Math.ceil(D)),B=C*c[0]+I*c[1],U=C*c[0]+R*c[1];for(let V=0;V<u;V++){let j;i?j=S*(V+.5)-.5:j=S*V;const W=Math.max(0,Math.floor(j)),J=j-W,q=Math.min(m-1,Math.ceil(j)),Z=B+W*c[2],M=U+W*c[2],se=B+q*c[2],ue=U+q*c[2];for(let le=0;le<y;le++){const ie=v[Z+le],ye=v[M+le],ke=v[se+le],ge=v[ue+le],G=ie+(ke-ie)*J,te=ye+(ge-ye)*J,ee=G+(te-G)*P;x[_++]=ee}}}return n.makeTensorInfo([d,l,u,y],"float32",x)}const dwe={kernelName:_b,backendName:"cpu",kernelFunc:fwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pwe(t){const{inputs:e,backend:n,attrs:a}=t,{images:r,dy:s}=e,{alignCorners:i}=a;vt([s,r],"resizeBilinearGrad");const o=Ft(r.shape),[c,l,u,d]=r.shape,[,h,m]=s.shape,y=new Float32Array(c*l*u*d),v=[i&&h>1?l-1:l,i&&m>1?u-1:u],x=[i&&h>1?h-1:h,i&&m>1?m-1:m],k=v[0]/x[0],b=v[1]/x[1],_=n.data.get(s.dataId).values;let A=0;for(let S=0;S<c;S++){const C=S*o[0];for(let E=0;E<h;E++){const D=E*k,I=Math.floor(D),P=Math.min(Math.ceil(D),l-1),R=C+I*o[1],B=C+P*o[1],U=D-I,V=1-U;for(let j=0;j<m;j++){const W=j*b,J=Math.floor(W),q=Math.min(Math.ceil(W),u-1),Z=W-J,M=1-Z,se=R+J*o[2],ue=R+q*o[2],le=B+J*o[2],ie=B+q*o[2],ye=V*M,ke=V*Z,ge=U*M,G=U*Z;for(let te=0;te<d;te++){const ee=_[A++];y[se+te]+=ee*ye,y[ue+te]+=ee*ke,y[le+te]+=ee*ge,y[ie+te]+=ee*G}}}}return n.makeTensorInfo([c,u,l,d],"float32",y)}const hwe={kernelName:CC,backendName:"cpu",kernelFunc:pwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mwe(t){const{inputs:e,backend:n,attrs:a}=t,{images:r}=e,{alignCorners:s,halfPixelCenters:i,size:o}=a;vt(r,"resizeNearestNeighbor");const c=Ft(r.shape),[l,u]=o,[d,h,m,y]=r.shape,v=n.data.get(r.dataId).values,x=new Float32Array(d*l*u*y),k=[s&&l>1?h-1:h,s&&u>1?m-1:m],b=[s&&l>1?l-1:l,s&&u>1?u-1:u],_=k[0]/b[0],A=k[1]/b[1];let S=0;for(let C=0;C<d;C++){const E=C*c[0];for(let D=0;D<l;D++){const I=i?_*(D+.5):_*D;let P=Math.min(h-1,s?Math.round(I):Math.floor(I));i&&(P=Math.max(0,P));const R=E+P*c[1];for(let B=0;B<u;B++){const U=i?A*(B+.5):A*B;let V=Math.min(m-1,s?Math.round(U):Math.floor(U));i&&(V=Math.max(0,V));const j=R+V*c[2];for(let W=0;W<y;W++){const J=v[j+W];x[S++]=J}}}}return n.makeTensorInfo([d,l,u,y],r.dtype,x)}const gwe={kernelName:bb,backendName:"cpu",kernelFunc:mwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ywe(t){const{inputs:e,backend:n,attrs:a}=t,{images:r,dy:s}=e,{alignCorners:i}=a;vt([s,r],"resizeNearestNeighborGrad");const o=Ft(r.shape),c=Ft(s.shape),[l,u,d,h]=r.shape,[,m,y]=s.shape,v=new Float32Array(l*u*d*h),x=n.data.get(s.dataId).values,k=[i&&m>1?u-1:u,i&&y>1?d-1:d],b=[i&&m>1?m-1:m,i&&y>1?y-1:y],_=k[0]/b[0],A=k[1]/b[1],S=1/_,C=1/A,E=Math.ceil(S)*2+2,D=Math.ceil(C)*2+2;for(let I=0;I<l;I++){const P=I*o[0];for(let R=0;R<u;R++){const B=P+R*o[1],U=Math.floor(R*S),V=Math.floor(U-E/2);for(let j=0;j<d;j++){const W=B+j*o[2],J=Math.floor(j*C),q=Math.floor(J-D/2);for(let Z=0;Z<h;Z++){let M=0;for(let se=0;se<E;se++){const ue=se+V;if(ue<0||ue>=m)continue;const le=P+ue*c[1],ie=ue*_,ye=Math.min(u-1,i?Math.round(ie):Math.floor(ie));if(R===ye)for(let ke=0;ke<D;ke++){const ge=ke+q;if(ge<0||ge>=y)continue;const G=le+ge*c[2],te=ge*A,ee=Math.min(d-1,i?Math.round(te):Math.floor(te));j===ee&&(M+=x[G+Z])}}v[W+Z]=M}}}}return n.makeTensorInfo(r.shape,r.dtype,v)}const xwe={kernelName:EC,backendName:"cpu",kernelFunc:ywe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vwe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{dims:s}=a;vt(r,"reverse");const i=r.shape.length,o=yn(s,r.shape);if(i===0)return gc({inputs:{x:r},backend:n});const c=new rr(r.shape,r.dtype),l=n.bufferSync(r);for(let u=0;u<c.size;u++){const d=c.indexToLoc(u),h=d.slice();o.forEach(m=>h[m]=r.shape[m]-1-h[m]),c.set(l.get(...h),...d)}return n.makeTensorInfo(c.shape,c.dtype,c.values)}const kwe={kernelName:Ab,backendName:"cpu",kernelFunc:vwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wwe={kernelName:HC,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:a}=t,{radians:r,fillValue:s,center:i}=e,o=n,c=Fr(a.dtype,Me(a.shape)),[l,u,d,h]=a.shape,[m,y]=VI(i,u,d),v=255,x=Math.sin(r),k=Math.cos(r),b=o.data.get(a.dataId).values;for(let A=0;A<l;A++){const S=A*d*u*h;for(let C=0;C<u;C++){const E=C*(d*h);for(let D=0;D<d;D++){const I=D*h;for(let P=0;P<h;P++){const R=[l,C,D,P],B=R[2],U=R[1];let V=(B-m)*k-(U-y)*x,j=(B-m)*x+(U-y)*k;V=Math.round(V+m),j=Math.round(j+y);let W=s;if(typeof s!="number"&&(P===3?W=v:W=s[P]),V>=0&&V<d&&j>=0&&j<u){const q=j*(d*h),Z=V*h,M=S+q+Z+P;W=b[M]}const J=S+E+I+P;c[J]=W}}}}return{dataId:o.write(c,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bwe=Yn(By,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),_we={kernelName:By,backendName:"cpu",kernelFunc:bwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Awe(t){const{inputs:e,backend:n,attrs:a}=t,{indices:r,updates:s}=e,{shape:i}=a,{sliceRank:o,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=Id(s,r,i),h=!0,m=n.bufferSync(r),y=n.bufferSync(s),v=Ff(m,y,i,d,l,c,o,u,0,h);return n.makeTensorInfo(i,v.dtype,v.values)}const Nwe={kernelName:IC,backendName:"cpu",kernelFunc:Awe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Swe(t,e){let n=0,a=t.length,r=0;for(;n<a;)r=Math.floor((n+a)/2),t[r]<e?n=r+1:a=r;return a}function Twe(t,e){let n=0,a=t.length,r=0;for(;n<a;)r=Math.floor((n+a)/2),t[r]<=e?n=r+1:a=r;return a}function Ewe(t,e,n,a,r,s){const i=La("int32",n*r);for(let o=0;o<n;++o){const c=t.slice(o*a,(o+1)*a),l=o*r;for(let u=0;u<r;++u)i[l+u]=s==="left"?Swe(c,e[u+l]):Twe(c,e[u+l])}return i}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cwe(t){const{inputs:e,backend:n,attrs:a}=t,{sortedSequence:r,values:s}=e,{side:i}=a,o=n.data.get(r.dataId).values,c=n.data.get(s.dataId).values,l=Ewe(o,c,r.shape[0],r.shape[1],s.shape[1],i);return n.makeTensorInfo(s.shape,"int32",l)}const Iwe={kernelName:RC,backendName:"cpu",kernelFunc:Cwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dwe(t){const{inputs:e,backend:n}=t,{condition:a,t:r,e:s}=e;vt([a,r,s],"select");const i=a.shape.length,o=n.data.get(a.dataId).values,c=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,u=js(r.dtype,s.dtype),d=jr(Me(r.shape),u);let h=0;const m=i===0||i>1||r.shape.length===1?1:Me(r.shape.slice(1));for(let y=0;y<o.length;y++)for(let v=0;v<m;v++)o[y]===1?d[h++]=c[y]:d[h++]=l[y];return n.makeTensorInfo(r.shape,u,d)}const Rwe={kernelName:Nb,backendName:"cpu",kernelFunc:Dwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pwe=i_,Fwe=o_,Owe=Yn(Gy,t=>t>=0?Fwe*t:Pwe*(Math.exp(t)-1)),$we={kernelName:Gy,backendName:"cpu",kernelFunc:Owe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lwe=Yn(Vy,t=>t<0?-1:t>0?1:0),Mwe={kernelName:Vy,backendName:"cpu",kernelFunc:Lwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bwe=Yn(Uy,t=>Math.sin(t)),zwe={kernelName:Uy,backendName:"cpu",kernelFunc:Bwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gwe=Yn(Wy,t=>Math.sinh(t)),Uwe={kernelName:Wy,backendName:"cpu",kernelFunc:Gwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wwe=11920928955078125e-23,Q$=Math.log(Wwe)+2,Vwe=Yn(Hy,t=>{const e=t>-Q$,n=t<Q$,a=Math.exp(t);let r;return n?r=a:e?r=t:r=Math.log(1+a),r}),jwe={kernelName:Hy,backendName:"cpu",kernelFunc:Vwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hwe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{blockShape:s,paddings:i}=a;vt([r],"spaceToBatchND");const o=Me(s),c=[[0,0]];c.push(...i);for(let C=1+s.length;C<r.shape.length;++C)c.push([0,0]);const l=H9.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:c,constantValue:0}}),u=c1(l.shape,s,o,!1),d=l1(u.length,s.length,!1),h=u1(l.shape,s,o,!1),v=ca({inputs:{x:l},backend:n,attrs:{shape:u}}),b=Rs({inputs:{x:v},backend:n,attrs:{perm:d}}),S=ca({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),S}const Kwe={kernelName:Eb,backendName:"cpu",kernelFunc:Hwe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qwe(t){const{inputs:e,backend:n}=t,{indices:a,values:r,denseShape:s,defaultValue:i}=e;if(s.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${s.shape}`);if(a.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${a.shape}`);if(r.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${r.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);const o=n.data.get(a.dataId).values,c=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values[0],[d,h,m,y,v]=x9(o,a.shape,a.dtype,c,r.dtype,l,u);return[n.makeTensorInfo(h,a.dtype,d),n.makeTensorInfo([h[0]],r.dtype,m),n.makeTensorInfo([y.length],"bool",new Uint8Array(y.map(x=>Number(x)))),n.makeTensorInfo([v.length],a.dtype,new Int32Array(v))]}const Xwe={kernelName:PC,backendName:"cpu",kernelFunc:qwe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ywe(t){const{inputs:e,backend:n}=t,{inputIndices:a,inputShape:r,newShape:s}=e;if(a.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${a.shape}`);if(r.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const i=Array.from(n.data.get(r.dataId).values),o=n.data.get(a.dataId).values,c=Array.from(n.data.get(s.dataId).values),[l,u,d]=v9(o,a.shape,a.dtype,i,c);return[n.makeTensorInfo(u,a.dtype,l),n.makeTensorInfo([d.length],s.dtype,new Int32Array(d))]}const Zwe={kernelName:FC,backendName:"cpu",kernelFunc:Ywe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qwe(t){const{inputs:e,backend:n}=t,{data:a,indices:r,segmentIds:s}=e;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${r.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${s.shape}`);if(r.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(a.dataId).values,o=n.data.get(r.dataId).values,c=n.data.get(s.dataId).values,[l,u]=F3(i,a.shape,a.dtype,o,c,!0);return n.makeTensorInfo(u,a.dtype,l)}const Jwe={kernelName:OC,backendName:"cpu",kernelFunc:Qwe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ebe(t){const{inputs:e,backend:n}=t,{data:a,indices:r,segmentIds:s}=e;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${s.shape}`);if(r.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(a.dataId).values,o=n.data.get(r.dataId).values,c=n.data.get(s.dataId).values,[l,u]=F3(i,a.shape,a.dtype,o,c);return n.makeTensorInfo(u,a.dtype,l)}const tbe={kernelName:$C,backendName:"cpu",kernelFunc:ebe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nbe(t){const{inputs:e,backend:n,attrs:a}=t,{sparseIndices:r,sparseValues:s,defaultValue:i}=e,{outputShape:o}=a,{sliceRank:c,numUpdates:l,sliceSize:u,strides:d,outputSize:h}=Id(s,r,o),m=!1,y=n.bufferSync(r);let v;switch(s.dtype){case"bool":{const x=n.bufferSync(s),k=!!n.data.get(i.dataId).values[0];v=Ff(y,x,o,h,u,l,c,d,k,m);break}case"float32":{const x=n.bufferSync(s),k=n.data.get(i.dataId).values[0];v=Ff(y,x,o,h,u,l,c,d,k,m);break}case"int32":{const x=n.bufferSync(s),k=n.data.get(i.dataId).values[0];v=Ff(y,x,o,h,u,l,c,d,k,m);break}case"string":{const x=n.bufferSync(s),k=pu(n.data.get(i.dataId).values[0]);v=Ff(y,x,o,h,u,l,c,d,k,m);break}default:throw new Error(`Unsupported type ${s.dtype}`)}return n.makeTensorInfo(o,v.dtype,v.values)}const abe={kernelName:LC,backendName:"cpu",kernelFunc:nbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rbe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{numOrSizeSplits:s,axis:i}=a,o=yn(i,r.shape)[0],c=s3(r,s,o),l=new Array(r.shape.length).fill(0),u=r.shape.slice();return c.map(d=>{const h=[...u];h[o]=d;const m=fd({inputs:{x:r},backend:n,attrs:{begin:l,size:h}});return l[o]+=d,m})}const sbe={kernelName:Cb,backendName:"cpu",kernelFunc:rbe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ibe={kernelName:MC,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,a=e;vt(n,"square");const r=a.data.get(n.dataId).values,s=new Float32Array(r.length);for(let o=0;o<r.length;++o){const c=r[o];s[o]=c*c}return{dataId:a.write(s,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const obe=Yn(Jy,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),cbe={kernelName:Jy,backendName:"cpu",kernelFunc:obe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lbe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{begin:s,end:i,strides:o,beginMask:c,endMask:l,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=a;vt(r,"stridedSlice");const{finalShapeSparse:m,finalShape:y,isIdentity:v,sliceDim0:x,isSimpleSlice:k,begin:b,end:_,strides:A}=GI(r.shape,s,i,o,c,l,u,d,h);let S;if(v)S=ca({inputs:{x:r},backend:n,attrs:{shape:y}});else if(x||k){K(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const C=MI(b,_,A),E=fd({inputs:{x:r},backend:n,attrs:{begin:b,size:C}});S=ca({inputs:{x:E},backend:n,attrs:{shape:y}}),n.disposeIntermediateTensorInfo(E)}else{const C=n.bufferSync(r),E=b9(m,C,A,b);S=n.makeTensorInfo(y,E.dtype,E.values)}return S}const ube={kernelName:BC,backendName:"cpu",kernelFunc:lbe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fbe(t){const{inputs:e,backend:n,attrs:a}=t,{separator:r,nGramWidths:s,leftPad:i,rightPad:o,padWidth:c,preserveShortSequences:l}=a,{data:u,dataSplits:d}=e,h=n.data.get(u.dataId).values,m=n.data.get(d.dataId).values,[y,v]=_9(h,m,r,s,i,o,c,l);return[n.makeTensorInfo([y.length],"string",y),n.makeTensorInfo(d.shape,"int32",v)]}const dbe={kernelName:zC,backendName:"cpu",kernelFunc:fbe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pbe(t){const{inputs:e,backend:n,attrs:a}=t,{skipEmpty:r}=a,{input:s,delimiter:i}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(s.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const o=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values[0],[l,u,d]=A9(o,c,r),h=u.length;return[n.makeTensorInfo([h,2],"int32",l),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const hbe={kernelName:GC,backendName:"cpu",kernelFunc:pbe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mbe(t){const{inputs:e,backend:n,attrs:a}=t,{numBuckets:r}=a,{input:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const i=n.data.get(s.dataId).values,o=N9(i,r);return n.makeTensorInfo(s.shape,"int32",o)}const gbe={kernelName:UC,backendName:"cpu",kernelFunc:mbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ybe=Yn(Yy,t=>Math.tan(t)),xbe={kernelName:Yy,backendName:"cpu",kernelFunc:ybe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vbe=Yn(Zy,t=>Math.tanh(t)),kbe={kernelName:Zy,backendName:"cpu",kernelFunc:vbe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wbe(t){const{inputs:e,backend:n}=t,{tensor:a,indices:r,updates:s}=e,{sliceRank:i,numUpdates:o,sliceSize:c,strides:l,outputSize:u}=Id(s,r,a.shape),d=!1,h=n.bufferSync(r),m=n.bufferSync(s),y=n.bufferSync(a),v=Ff(h,m,a.shape,u,c,o,i,l,y,d);return n.makeTensorInfo(a.shape,v.dtype,v.values)}const bbe={kernelName:DC,backendName:"cpu",kernelFunc:wbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _be(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{reps:s}=a;vt(r,"tile");const i=T9(n.bufferSync(r),s);return n.makeTensorInfo(i.shape,i.dtype,i.values)}const Abe={kernelName:Qy,backendName:"cpu",kernelFunc:_be};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nbe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{k:s,sorted:i}=a;vt(r,"topk");const o=n.data.get(r.dataId).values,[c,l]=C9(o,r.shape,r.dtype,s,i);return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(l.shape,l.dtype,l.values)]}const Sbe={kernelName:WC,backendName:"cpu",kernelFunc:Nbe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tbe(t){const{inputs:e,attrs:n,backend:a}=t,{image:r,transforms:s}=e,{interpolation:i,fillMode:o,fillValue:c,outputShape:l}=n,[u,d,h,m]=r.shape,[y,v]=l??[d,h],x=[u,y,v,m],k=Ft(r.shape),b=k[0],_=k[1],A=k[2],S=Ft(x),C=S[0],E=S[1],D=S[2],I=Fr(r.dtype,Me(x));I.fill(c);const P=a.data.get(r.dataId).values,R=a.data.get(s.dataId).values;for(let U=0;U<u;++U){const V=s.shape[0]===1?R:R.subarray(U*8,U*8+8);for(let j=0;j<y;++j)for(let W=0;W<v;++W)for(let J=0;J<m;++J){let q;const Z=V[6]*W+V[7]*j+1;if(Z===0)continue;const M=(V[0]*W+V[1]*j+V[2])/Z,se=(V[3]*W+V[4]*j+V[5])/Z,ue=J$(M,h,o),le=J$(se,d,o);switch(i){case"nearest":q=Pbe(P,d,h,b,_,A,U,le,ue,J,c);break;case"bilinear":q=Fbe(P,d,h,b,_,A,U,le,ue,J,c);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${i}`)}const ie=U*C+j*E+W*D+J;I[ie]=q}return a.makeTensorInfo(x,r.dtype,I)}return{dataId:a.write(I,x,r.dtype),shape:r.shape,dtype:r.dtype}}const Ebe={kernelName:VC,backendName:"cpu",kernelFunc:Tbe};function J$(t,e,n){switch(n){case"reflect":return Cbe(t,e);case"wrap":return Ibe(t,e);case"nearest":return Rbe(t,e);case"constant":default:return Dbe(t)}}function Cbe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const a=2*e;n<a&&(n=a*Math.trunc(-n/a)+n),n=n<-e?n+a:-n-1}else if(n>e-1)if(e<=1)n=0;else{const a=2*e;n-=a*Math.trunc(n/a),n>=e&&(n=a-n-1)}return Zf(0,n,e-1)}function Ibe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const a=e-1;n+=e*(Math.trunc(-n/a)+1)}else if(n>e-1)if(e<=1)n=0;else{const a=e-1;n-=e*Math.trunc(n/a)}return Zf(0,n,e-1)}function Dbe(t,e){return t}function Rbe(t,e){return Zf(0,t,e-1)}function b0(t,e,n,a,r,s,i,o,c,l,u){const d=i*a+o*r+c*s+l;return 0<=o&&o<e&&0<=c&&c<n?t[d]:u}function Pbe(t,e,n,a,r,s,i,o,c,l,u){const d=Math.round(o),h=Math.round(c);return b0(t,e,n,a,r,s,i,d,h,l,u)}function Fbe(t,e,n,a,r,s,i,o,c,l,u){const d=Math.floor(o),h=Math.floor(c),m=d+1,y=h+1,v=(y-c)*b0(t,e,n,a,r,s,i,d,h,l,u)+(c-h)*b0(t,e,n,a,r,s,i,d,y,l,u),x=(y-c)*b0(t,e,n,a,r,s,i,m,h,l,u)+(c-h)*b0(t,e,n,a,r,s,i,m,y,l,u);return(m-o)*v+(o-d)*x}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Obe(t){const{inputs:e,attrs:n,backend:a}=t,{axis:r}=n,{x:s}=e;vt(s,"unique");const i=a.data.get(s.dataId).values,{outputValues:o,outputShape:c,indices:l}=I9(i,r,s.shape,s.dtype);return[a.makeTensorInfo(c,s.dtype,o),a.makeTensorInfo([l.length],"int32",l)]}const $be={kernelName:jC,backendName:"cpu",kernelFunc:Obe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lbe(t){const{inputs:e,backend:n,attrs:a}=t,{value:r}=e;let{axis:s}=a;s<0&&(s+=r.shape.length);const i=r.shape.length,o=r.shape[s],c=new Array(i-1);let l=0;for(let m=0;m<i;m++)m!==s&&(c[l++]=r.shape[m]);const u=new Array(i).fill(0),d=r.shape.slice();d[s]=1;const h=new Array(o);for(let m=0;m<h.length;m++){u[s]=m;const y=fd({inputs:{x:r},backend:n,attrs:{begin:u,size:d}});h[m]=ca({inputs:{x:y},backend:n,attrs:{shape:c}}),n.disposeIntermediateTensorInfo(y)}return h}const Mbe={kernelName:Rb,backendName:"cpu",kernelFunc:Lbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bbe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,segmentIds:s}=e,{numSegments:i}=a;vt(r,"unsortedSegmentSum");const o=r.shape.length,c=s.shape.length,l=[],u=[],d=o-c;let h=s;for(let y=0;y<d;++y){const v=zk({inputs:{input:h},backend:n,attrs:{dim:y+1}});h=v,u.push(v)}for(let y=0;y<i;++y){const v=Pu(y,"int32"),x=n.makeTensorInfo([],"int32",v),k=j7({inputs:{a:x,b:h},backend:n}),b=bu({inputs:{x:k},backend:n,attrs:{dtype:"float32"}}),_=v_({inputs:{a:b,b:r},backend:n}),A=v1({inputs:{x:_},backend:n,attrs:{axis:0,keepDims:!1}});l.push(A),u.push(x),u.push(k),u.push(b),u.push(_),u.push(A)}const m=j9({inputs:l,backend:n,attrs:{axis:0}});return u.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const zbe={kernelName:Pb,backendName:"cpu",kernelFunc:Bbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gbe=[O1e,mye,L1e,B1e,wye,G1e,W1e,j1e,K1e,X1e,Z1e,J1e,txe,rxe,ixe,lxe,fxe,pxe,mxe,P1e,yxe,vxe,wxe,_ye,_xe,vye,Nye,Nxe,gye,Txe,Cxe,Ixe,Rxe,Fxe,$xe,Mxe,zxe,Uxe,Vxe,Hxe,qxe,Yxe,Qxe,eve,tve,ave,sve,ove,cve,lve,uve,dve,mve,S1e,yve,Sye,Nve,Tye,Sve,Cye,Rve,Pve,Ove,Dye,Pye,Lve,Bve,Gve,Wve,Oye,Lye,yye,jve,Exe,Kve,Xve,Zve,T1e,Bye,Gye,Jve,Wye,tke,rke,ike,lke,fke,pke,hke,jye,gke,xke,kke,bke,Ake,Ske,Eke,Kye,Ike,Pke,$ke,Xye,Zye,Bke,Uke,jke,Jye,Kke,Xke,Yke,H9,ewe,C1e,n1e,nwe,rwe,iwe,cwe,xye,DT,uwe,I1e,D1e,R1e,dwe,hwe,gwe,xwe,kwe,wwe,_we,u1e,Nwe,Iwe,Rwe,$we,d1e,Mwe,zwe,Uwe,p1e,Fke,jwe,Kwe,Xwe,Zwe,Jwe,tbe,abe,sbe,g1e,ibe,x1e,k1e,cbe,ube,dbe,hbe,gbe,A1e,pve,xbe,kbe,bbe,Abe,Sbe,Ebe,e1e,$be,Mbe,zbe,qke];for(const t of Gbe)z6(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sf={},hv={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Ube(t,e){Sf[t]=e}function Io(t,e){if(!(t in Sf)||e!=null){const a=Vbe(t,e);if(a!==null)Sf[t]=a;else return console.log("Could not get context for WebGL version",t),null}const n=Sf[t];return n==null||n.isContextLost()?(delete Sf[t],Io(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Sf[t])}function Wbe(t){if(!Ce().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function Vbe(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??Wbe(t);return n.addEventListener("webglcontextlost",a=>{a.preventDefault(),delete Sf[t]},!1),Ce().getBool("SOFTWARE_WEBGL_ENABLED")&&(hv.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",hv)||n.getContext("experimental-webgl",hv):n.getContext("webgl2",hv)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var wg;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(wg||(wg={}));var oi;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(oi||(oi={}));var Dr;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Dr||(Dr={}));function k1(t,e){return[e,t]}function jbe(t,e){return t*e}function mv(t){const e=Me(t),n=Math.ceil(e/4);return BS(n)}function Zh(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function Hbe(t,e){const[n,a]=Zh(t,e);return n*a*4}function B3(t,e){const n=t;let a,r,s,i,o,c,l,u,d,h;return Ce().getNumber("WEBGL_VERSION")===2?(a=n.R32F,r=n.R16F,s=n.RGBA16F,i=n.RGBA32F,o=n.RED,l=4,u=1,d=n.HALF_FLOAT,h=n.FLOAT,c=n.RGBA8):(a=t.RGBA,r=t.RGBA,s=t.RGBA,i=n.RGBA,o=t.RGBA,l=4,u=4,d=e!=null?e.HALF_FLOAT_OES:null,h=t.FLOAT,c=t.RGBA),{internalFormatFloat:a,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:s,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:c,downloadUnpackNumChannels:l,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:h}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dt(t,e){const n=e();return Ce().getBool("DEBUG")&&Kbe(t),n}function Kbe(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+Zbe(t,e))}const qbe=596e-10,Xbe=65504;function Ybe(t){return!!(Ce().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||qbe<Math.abs(t)&&Math.abs(t)<Xbe)}function Zbe(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function gv(t,e){return Al(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function Qbe(t,e){const n=Al(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(dt(t,()=>t.shaderSource(n,e)),dt(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function Jbe(t,e){const n=Al(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(dt(t,()=>t.shaderSource(n,e)),dt(t,()=>t.compileShader(n)),Ce().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw K9(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const e_e=/ERROR: [0-9]+:([0-9]+):/g;function K9(t,e){const n=e_e.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const a=+n[1],r=t.split(`
`),s=r.length.toString().length+2,i=r.map((d,h)=>Zp((h+1).toString(),s)+d);let o=0;for(let d=0;d<i.length;d++)o=Math.max(i[d].length,o);const c=i.slice(0,a-1),l=i.slice(a-1,a),u=i.slice(a);console.log(c.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${Zp(l[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join(`
`))}function t_e(t){return Al(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function n_e(t,e){if(dt(t,()=>t.linkProgram(e)),!Ce().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function LN(t,e){if(dt(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function a_e(t,e){const n=Al(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return dt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),dt(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function r_e(t,e){const n=Al(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return dt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),dt(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function s_e(t){return Al(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function i_e(t,e){const n=Ce().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const a=`[${t}x${e}]`;throw new Error("Requested texture size "+a+" is invalid.")}if(t>n||e>n){const a=`[${t}x${e}]`,r=`[${n}x${n}]`;throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+r+".")}}function o_e(t){return Al(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function eL(t,e,n,a,r,s,i){const o=t.getAttribLocation(e,n);return o===-1?!1:(dt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,a)),dt(t,()=>t.vertexAttribPointer(o,r,t.FLOAT,!1,s,i)),dt(t,()=>t.enableVertexAttribArray(o)),!0)}function c_e(t,e,n){p_e(t,n),dt(t,()=>t.activeTexture(t.TEXTURE0+n)),dt(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function l_e(t,e,n){return Al(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function u_e(t,e,n){return t.getUniformLocation(e,n)}function f_e(t,e,n,a){dt(t,()=>c_e(t,e,a)),dt(t,()=>t.uniform1i(n,a))}function MN(t,e,n){dt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),dt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function tL(t,e){dt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),dt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function yv(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+d_e(t,e))}function d_e(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function Al(t,e,n){const a=dt(t,()=>e());if(a==null)throw new Error(n);return a}function p_e(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,a=e+t.TEXTURE0;if(a<t.TEXTURE0||a>n){const r=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${r}.`)}}function _h(t,e=2){return Me(t.slice(0,t.length-e))}function Ah(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function xv(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[_h(t),...Ah(t)]),e}function h_e(t,e=!1){let n=Ce().getNumber("WEBGL_MAX_TEXTURE_SIZE"),a=Ce().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");a===1/0&&Ce().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(a=n/2),e&&(n=n*2,a=a*2,t=t.map((o,c)=>c>=t.length-2?zE(t[c]):t[c]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=Ru(t).newShape);let r=Me(t),s=null;t.length<=1&&r<=n?s=[1,r]:t.length===2&&t[0]<=n&&t[1]<=n?s=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?s=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?s=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?s=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(s=[t[0],t[1]*t[2]*t[3]]);const i=s!=null&&Math.max(...s)>a&&Math.min(...s)<=(e?2:1)&&Math.min(...s)>0;if(s==null||i)if(e){const o=_h(t);let c=2,l=2;t.length&&([c,l]=Ah(t)),r=o*(c/2)*(l/2),s=BS(r).map(u=>u*2)}else s=BS(r);return s}function vv(t){return t%2===0}function Uk(t,e){if(t=t.slice(-2),e=e.slice(-2),Sn(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],a=e[e.length-1];if(n===a||vv(n)&&vv(a)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&vv(t[0])&&vv(e[0])}let BN,zN;function m_e(t){if(BN==null){const e=Io(t);BN=e.getParameter(e.MAX_TEXTURE_SIZE)}return BN}function g_e(t){if(zN==null){const e=Io(t);zN=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,zN)}function y_e(t){if(t===0)return 0;let e;const n=Io(t);return ji(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:ji(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function ji(t,e){return t.getExtension(e)!=null}function nL(t){try{if(Io(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function x_e(t){if(t===0)return!1;const e=Io(t);if(t===1){if(!ji(e,"OES_texture_float"))return!1}else if(!ji(e,"EXT_color_buffer_float"))return!1;return PT(e)}function v_e(t){if(t===0)return!1;const e=Io(t);if(t===1){if(!ji(e,"OES_texture_float")||!ji(e,"WEBGL_color_buffer_float"))return!1}else{if(ji(e,"EXT_color_buffer_float"))return PT(e);const a="EXT_color_buffer_half_float";if(ji(e,a)){const r=e.getExtension(a);return k_e(e,r)}return!1}return PT(e)}function PT(t){const e=B3(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(s),i}function k_e(t,e){const n=B3(t,e),a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(a),t.deleteFramebuffer(i),o}function w_e(t){return t!==2?!1:Io(t).fenceSync!=null}function w1(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&K(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _t=Ce();_t.registerFlag("HAS_WEBGL",()=>_t.getNumber("WEBGL_VERSION")>0);_t.registerFlag("WEBGL_VERSION",()=>nL(2)?2:nL(1)?1:0);_t.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);_t.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>_t.get("WEBGL_VERSION")===2);_t.registerFlag("WEBGL_CPU_FORWARD",()=>!0);_t.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);_t.registerFlag("WEBGL_PACK",()=>_t.getBool("HAS_WEBGL"));_t.registerFlag("WEBGL_PACK_NORMALIZATION",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_PACK_CLIP",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_PACK_REDUCE",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_LAZILY_UNPACK",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_CONV_IM2COL",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>_t.getBool("WEBGL_PACK"));_t.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>m_e(_t.getNumber("WEBGL_VERSION")));_t.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>g_e(_t.getNumber("WEBGL_VERSION")));_t.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=_t.getNumber("WEBGL_VERSION");return t===0?0:y_e(t)});_t.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>_t.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!J6());_t.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>x_e(_t.getNumber("WEBGL_VERSION")));_t.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>_t.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:_t.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));_t.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>v_e(_t.getNumber("WEBGL_VERSION")));_t.registerFlag("WEBGL_FENCE_API_ENABLED",()=>w_e(_t.getNumber("WEBGL_VERSION")));_t.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>_t.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);_t.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});_t.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>J6()?1:-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});_t.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);_t.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);_t.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);_t.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);_t.registerFlag("WEBGL_EXP_CONV",()=>!1);_t.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>_t.getBool("IS_TEST"));_t.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);_t.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);_t.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);_t.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xs(){let t,e,n,a,r,s,i,o,c,l;return Ce().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",a="in",r="texture",s="outputColor",i="out vec4 outputColor;",o=Ce().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",c="",l=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",a="varying",r="texture2D",s="gl_FragColor",i="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,c=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,l=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:a,texture2D:r,output:s,defineOutput:i,defineSpecialNaN:o,defineSpecialInf:c,defineRound:l}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pd(t,e,n="index"){const a=Ft(e);return a.map((r,s)=>{const i=`int ${t[s]} = ${n} / ${r}`,o=s===a.length-1?`int ${t[s+1]} = ${n} - ${t[s]} * ${r}`:`index -= ${t[s]} * ${r}`;return`${i}; ${o};`}).join("")}function k_(t,e,n="index"){const a=Ft(e);return a.map((r,s)=>{const i=`int ${t[s]} = ${n} / outShapeStrides[${s}]`,o=s===a.length-1?`int ${t[s+1]} = ${n} - ${t[s]} * outShapeStrides[${s}]`:`index -= ${t[s]} * outShapeStrides[${s}]`;return`${i}; ${o};`}).join("")}function b_e(t,e){const n=t.length,a=t.map(s=>`${e}[${s}]`),r=new Array(n-1);r[n-2]=a[n-1];for(let s=n-3;s>=0;--s)r[s]=`(${r[s+1]} * ${a[s+1]})`;return r}function __e(t,e,n="index"){const a=t.map((s,i)=>i),r=b_e(a,e);return r.map((s,i)=>{const o=`int ${t[i]} = ${n} / ${r[i]}`,c=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * ${r[i]}`:`index -= ${t[i]} * ${r[i]}`;return`${o}; ${c};`}).join("")}function z3(t){const e=Ft(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function G3(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const q9=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:X9}=Bde;function A_e(t,e,n){const a=[];if(t.forEach(m=>{const y=Me(m.shapeInfo.logicalShape);if(m.shapeInfo.isUniform?a.push(`uniform float ${m.name}${y>1?`[${y}]`:""};`):(a.push(`uniform sampler2D ${m.name};`),a.push(`uniform int offset${m.name};`)),n.enableShapeUniforms){const{uniformShape:v}=U3(n.packedInputs,m.shapeInfo.logicalShape,m.shapeInfo.texShape);switch(v.length){case 1:a.push(`uniform int ${m.name}Shape;`);break;case 2:a.push(`uniform ivec2 ${m.name}Shape;`);break;case 3:a.push(`uniform ivec3 ${m.name}Shape;`);break;case 4:a.push(`uniform ivec4 ${m.name}Shape;`);break}a.push(`uniform ivec2 ${m.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:a.push("uniform int outShape;");break;case 2:a.push("uniform ivec2 outShape;"),a.push("uniform int outShapeStrides;");break;case 3:a.push("uniform ivec3 outShape;"),a.push("uniform ivec2 outShapeStrides;");break;case 4:a.push("uniform ivec4 outShape;"),a.push("uniform ivec3 outShapeStrides;");break}a.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(m=>{a.push(`uniform ${m.type} ${m.name}${m.arrayIndex?`[${m.arrayIndex}]`:""};`)});const r=a.join(`
`),s=t.map(m=>N_e(m,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),i=e.texShape,o=xs(),c=E_e(o);let l,u,d=D_e(o);return e.isPacked?(l=S_e(e.logicalShape,i,n.enableShapeUniforms),u=I_e(o)):(l=T_e(e.logicalShape,i,n.enableShapeUniforms),u=C_e(o)),n.packedInputs&&(d+=O_e),[d,c,u,r,l,s,n.userCode].join(`
`)}function Qh(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return K_e(t,e);case 1:return X_e(t,e);case 2:return Z_e(t,e);case 3:return J_e(t,e);case 4:return t2e(t,e);case 5:return n2e(t);case 6:return a2e(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function Y9(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return H_e(t);case 1:return q_e(t,e);case 2:return Y_e(t,e);case 3:return Q_e(t,e);default:return e2e(t,e)}}function N_e(t,e,n=!1,a){let r="";n?r+=Y9(t,a):r+=Qh(t,a);const s=t.shapeInfo.logicalShape,i=e.logicalShape;return s.length<=i.length&&(n?r+=r2e(t,e):r+=s2e(t,e)),r}function S_e(t,e,n){switch(t.length){case 0:return Z9();case 1:return $_e(t,e,n);case 2:return V_e(t,e,n);case 3:return M_e(t,e,n);default:return z_e(t,e,n)}}function T_e(t,e,n){switch(t.length){case 0:return Z9();case 1:return L_e(t,e,n);case 2:return j_e(t,e,n);case 3:return B_e(t,e,n);case 4:return G_e(t,e,n);case 5:return U_e(t,e);case 6:return W_e(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function E_e(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function C_e(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function I_e(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function D_e(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${R_e}
    ${P_e}
    ${F_e}
  `}const R_e=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,P_e=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,F_e=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,O_e=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Z9(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function $_e(t,e,n){const a=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return a[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${a[1]}.0);
      }
    `:a[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${a[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${a[0]}, ${a[1]}));
      return 2 * (resTexRC.x * ${a[1]} + resTexRC.y);
    }
  `}function L_e(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function M_e(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const a=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[2]/2),s=r*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${a[0]}, ${a[1]}));
      int index = resTexRC.x * ${a[1]} + resTexRC.y;

      int b = index / ${s};
      index -= b * ${s};

      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec3(b, r, c);
    }
  `}function B_e(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${k_(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const a=Pd(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${a}
      return ivec3(r, c, d);
    }
  `}function z_e(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const a=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),s=r*Math.ceil(t[t.length-2]/2);let i=s,o="",c="b, r, c";for(let l=2;l<t.length-1;l++)i*=t[t.length-l-1],o=`
      int b${l} = index / ${i};
      index -= b${l} * ${i};
    `+o,c=`b${l}, `+c;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${a[0]}, ${a[1]}));
      int index = resTexRC.x * ${a[1]} + resTexRC.y;

      ${o}

      int b = index / ${s};
      index -= b * ${s};

      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec${t.length}(${c});
    }
  `}function G_e(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${k_(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const a=Pd(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${a}
      return ivec4(r, c, d, d2);
    }
  `}function U_e(t,e){const n=Pd(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function W_e(t,e){const n=Pd(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function V_e(t,e,n){const a=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Sn(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${a[0]}, ${a[1]}));
      }
    `;const r=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${a[0]}, ${a[1]}));

      int index = resTexRC.x * ${a[1]} + resTexRC.y;
      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec2(r, c);
    }
  `}function j_e(t,e,n){return Sn(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function Fd(t){return`offset${t}`}function H_e(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),a=xs();return`
    vec4 ${n}() {
      return ${a.texture2D}(${e}, halfCR);
    }
  `}function K_e(t,e){const n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${a}() {return ${n};}`;const[r,s]=t.shapeInfo.texShape;if(r===1&&s===1)return`
      float ${a}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const i=Fd(n);if(e)return`
    float ${a}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${i});
      return sampleTexture(${n}, uv);
    }
  `;const[o,c]=t.shapeInfo.texShape;return`
    float ${a}() {
      vec2 uv = uvFromFlat(${o}, ${c}, ${i});
      return sampleTexture(${n}, uv);
    }
  `}function q_e(t,e){const n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t.shapeInfo.texShape,s=xs();if(e)return`
    vec4 ${a}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${s.texture2D}(${n}, uv);
    }
  `;const i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`
    vec4 ${a}(int index) {
      vec2 uv = packedUVfrom1D(
        ${i[0]}, ${i[1]}, index);
      return ${s.texture2D}(${n}, uv);
    }
  `}function X_e(t,e){const n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${a}(int index) {
        ${Jh(t)}
      }
    `;const r=t.shapeInfo.texShape,s=r[0],i=r[1];if(i===1&&s===1)return`
      float ${a}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=Fd(n);return i===1?e?`
      float ${a}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${a}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${s}.0);
        return sampleTexture(${n}, uv);
      }
    `:s===1?e?`
      float ${a}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${a}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${i}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${a}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${a}(int index) {
      vec2 uv = uvFromFlat(${s}, ${i}, index + ${o});
      return sampleTexture(${n}, uv);
    }
  `}function Y_e(t,e){const n=t.shapeInfo.logicalShape,a=t.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=t.shapeInfo.texShape,i=s[0],o=s[1],c=xs();if(s!=null&&Sn(n,s))return e?`
      vec4 ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}TexShape[1], ${a}TexShape[0]);

        return ${c.texture2D}(${a}, uv);
      }
    `:`
      vec4 ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${i}.0);

        return ${c.texture2D}(${a}, uv);
      }
    `;if(e)return`
    vec4 ${r}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${a}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${c.texture2D}(${a}, uv);
    }
  `;const l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=Math.ceil(n[1]/2);return`
    vec4 ${r}(int row, int col) {
      vec2 uv = packedUVfrom2D(${u}, ${l[0]}, ${l[1]}, row, col);
      return ${c.texture2D}(${a}, uv);
    }
  `}function Z_e(t,e){const n=t.shapeInfo.logicalShape,a=t.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=t.shapeInfo.texShape;if(s!=null&&Sn(n,s)){if(e)return`
      float ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}TexShape[1], ${a}TexShape[0]);
        return sampleTexture(${a}, uv);
      }
    `;const h=s[0],m=s[1];return`
    float ${r}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${m}.0, ${h}.0);
      return sampleTexture(${a}, uv);
    }
  `}const{newShape:i,keptDims:o}=Ru(n),c=i;if(c.length<n.length){const h=em(t,c),m=["row","col"];return`
      ${Qh(h,e)}
      float ${r}(int row, int col) {
        return ${r}(${tm(m,o)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${Jh(t)}
      }
    `;const l=s[0],u=s[1],d=Fd(a);return u===1?e?`
      float ${r}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${a}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${a}TexShape[0]));
        return sampleTexture(${a}, uv);
      }
    `:`
    float ${r}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${l}.0);
      return sampleTexture(${a}, uv);
    }
  `:l===1?e?`
      float ${r}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${a}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${a}TexShape[1]), 0.5);
        return sampleTexture(${a}, uv);
      }
    `:`
    float ${r}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);
      return sampleTexture(${a}, uv);
    }
  `:e?`
      float ${r}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${a}Shape[1] + col + ${d};
        vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index);
        return sampleTexture(${a}, uv);
      }
    `:`
  float ${r}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${d};
    vec2 uv = uvFromFlat(${l}, ${u}, index);
    return sampleTexture(${a}, uv);
  }
`}function Q_e(t,e){const n=t.shapeInfo.logicalShape,a=t.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=t.shapeInfo.texShape,i=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];if(n[0]===1){const h=n.slice(1),m=[1,2],y=em(t,h),v=["b","row","col"];return`
        ${Y9(y,e)}
        vec4 ${r}(int b, int row, int col) {
          return ${r}(${tm(v,m)});
        }
      `}const o=xs();if(e)return`
    vec4 ${r}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${a}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${a}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${o.texture2D}(${a}, uv);
    }
  `;const c=i[0],l=i[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return`
    vec4 ${r}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${c}, ${l}, ${d}, ${u}, b, row, col);
      return ${o.texture2D}(${a}, uv);
    }
  `}function J_e(t,e){const n=t.shapeInfo.logicalShape,a=t.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=n[1]*n[2],i=n[2],{newShape:o,keptDims:c}=Ru(n),l=o;if(l.length<n.length){const v=em(t,l),x=["row","col","depth"];return`
        ${Qh(v,e)}
        float ${r}(int row, int col, int depth) {
          return ${r}(${tm(x,c)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${s}, ${i}, 1)));
        ${Jh(t)}
      }
    `;const u=t.shapeInfo.texShape,d=u[0],h=u[1],m=t.shapeInfo.flatOffset;if(h===s&&m==null)return e?`
      float ${r}(int row, int col, int depth) {
        int stride1 = ${a}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${a}TexShape[1], ${a}TexShape[0]);
        return sampleTexture(${a}, uv);
      }
    `:`
        float ${r}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${i}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${h}.0, ${d}.0);
          return sampleTexture(${a}, uv);
        }
      `;if(h===i&&m==null)return e?`
      float ${r}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${a}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}TexShape[1], ${a}TexShape[0]);
        return sampleTexture(${a}, uv);
      }
    `:`
    float ${r}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${a}, uv);
    }
  `;const y=Fd(a);return e?`
    float ${r}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${a}Shape[1] * ${a}Shape[2];
      int stride1 = ${a}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${y};
      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index);
      return sampleTexture(${a}, uv);
    }
    `:`
      float ${r}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${s} + col * ${i} + depth + ${y};
        vec2 uv = uvFromFlat(${d}, ${h}, index);
        return sampleTexture(${a}, uv);
      }
  `}function e2e(t,e){const n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=xs();if(e)return`
    vec4 ${a}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${n}, uv);
    }
  `;const s=t.shapeInfo.logicalShape,i=s.length,o=t.shapeInfo.texShape,c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],l=c[0],u=c[1],d=Math.ceil(s[i-1]/2);let h=d*Math.ceil(s[i-2]/2),m="int b, int row, int col",y=`b * ${h} + (row / 2) * ${d} + (col / 2)`;for(let v=2;v<i-1;v++)m=`int b${v}, `+m,h*=s[i-v-1],y=`b${v} * ${h} + `+y;return`
    vec4 ${a}(${m}) {
      int index = ${y};
      int texR = index / ${u};
      int texC = index - texR * ${u};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${l});
      return ${r.texture2D}(${n}, uv);
    }
  `}function t2e(t,e){const n=t.shapeInfo.logicalShape,a=t.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=n[3],i=n[2]*s,o=n[1]*i,{newShape:c,keptDims:l}=Ru(n);if(c.length<n.length){const b=em(t,c),_=["row","col","depth","depth2"];return`
      ${Qh(b,e)}
      float ${r}(int row, int col, int depth, int depth2) {
        return ${r}(${tm(_,l)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${o}, ${i}, ${s}, 1)));
        ${Jh(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],m=d[1],y=`int stride2 = ${a}Shape[3];`,v=`int stride1 = ${a}Shape[2] * stride2;`,x=`int stride0 = ${a}Shape[1] * stride1;`;if(m===o&&u==null)return e?`
      float ${r}(int row, int col, int depth, int depth2) {
        ${y}
        ${v}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${a}TexShape[1], ${a}TexShape[0]);
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${i}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${h}.0);
        return sampleTexture(${a}, uv);
      }
    `;if(m===s&&u==null)return e?`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${a}Shape[1] * ${a}Shape[2], ${a}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${a}TexShape[1], ${a}TexShape[0]);
        return sampleTexture(${a}, uv);
      }
    `:`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${h}.0);
        return sampleTexture(${a}, uv);
      }
    `;const k=Fd(a);return e?`
    float ${r}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${y}
      ${v}
      ${x}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index + ${k});
      return sampleTexture(${a}, uv);
    }
  `:`
    float ${r}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${i} +
          depth * ${s} + depth2;
      vec2 uv = uvFromFlat(${h}, ${m}, index + ${k});
      return sampleTexture(${a}, uv);
    }
  `}function n2e(t){const e=t.shapeInfo.logicalShape,n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e[4],s=e[3]*r,i=e[2]*s,o=e[1]*i,{newShape:c,keptDims:l}=Ru(e);if(c.length<e.length){const v=em(t,c),x=["row","col","depth","depth2","depth3"];return`
      ${Qh(v)}
      float ${a}(int row, int col, int depth, int depth2, int depth3) {
        return ${a}(${tm(x,l)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${o}, ${i}, ${s}, ${r})) +
          depth3;
        ${Jh(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],m=d[1];if(m===o&&u==null)return`
      float ${a}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${i}, ${s}, ${r}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(m===r&&u==null)return`
      float ${a}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const y=Fd(n);return`
    float ${a}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${i} + depth * ${s} +
          depth2 * ${r} + depth3 + ${y};
      vec2 uv = uvFromFlat(${h}, ${m}, index);
      return sampleTexture(${n}, uv);
    }
  `}function a2e(t){const e=t.shapeInfo.logicalShape,n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:s}=Ru(e);if(r.length<e.length){const x=em(t,r),k=["row","col","depth","depth2","depth3","depth4"];return`
      ${Qh(x)}
      float ${a}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${a}(${tm(k,s)});
      }
    `}const i=e[5],o=e[4]*i,c=e[3]*o,l=e[2]*c,u=e[1]*l;if(t.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${u}, ${l}, ${c}, ${o})) +
          dot(
            vec2(depth3, depth4),
            vec2(${i}, 1)));
        ${Jh(t)}
      }
    `;const d=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,m=h[0],y=h[1];if(y===u&&d==null)return`
      float ${a}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${l}, ${c}, ${o}, ${i})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${y}.0, ${m}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(y===i&&d==null)return`
      float ${a}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${y}.0, ${m}.0);
        return sampleTexture(${n}, uv);
      }
    `;const v=Fd(n);return`
    float ${a}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${u} + col * ${l} + depth * ${c} +
          depth2 * ${o} + depth3 * ${i} + depth4 + ${v};
      vec2 uv = uvFromFlat(${m}, ${y}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Jh(t){const e=t.name,n=Me(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function r2e(t,e){const n=t.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",s=t.shapeInfo.logicalShape.length,i=e.logicalShape.length,o=X9(t.shapeInfo.logicalShape,e.logicalShape),c=Qn(i),l=i-s;let u;const d=["x","y","z","w","u","v"];s===0?u="":i<2&&o.length>=1?u="coords = 0;":u=o.map(b=>`coords.${d[b+l]} = 0;`).join(`
`);let h="";i<2&&s>0?h="coords":h=t.shapeInfo.logicalShape.map((b,_)=>`coords.${d[_+l]}`).join(", ");let m="return outputValue;";const v=Me(t.shapeInfo.logicalShape)===1,k=Me(e.logicalShape)===1;if(s===1&&!v&&!k)m=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(v&&!k)i===1?m=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:m=`
        return vec4(outputValue.x);
      `;else if(o.length){const b=s-2,_=s-1;o.indexOf(b)>-1&&o.indexOf(_)>-1?m="return vec4(outputValue.x);":o.indexOf(b)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(_)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${r}() {
      ${c} coords = getOutputCoords();
      ${u}
      vec4 outputValue = get${a}(${h});
      ${m}
    }
  `}function s2e(t,e){const n=t.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",s=e.texShape,i=t.shapeInfo.texShape,o=t.shapeInfo.logicalShape.length,c=e.logicalShape.length;if(!t.shapeInfo.isUniform&&o===c&&t.shapeInfo.flatOffset==null&&Sn(i,s))return`
      float ${r}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const l=Qn(c),u=X9(t.shapeInfo.logicalShape,e.logicalShape),d=c-o;let h;const m=["x","y","z","w","u","v"];o===0?h="":c<2&&u.length>=1?h="coords = 0;":h=u.map(v=>`coords.${m[v+d]} = 0;`).join(`
`);let y="";return c<2&&o>0?y="coords":y=t.shapeInfo.logicalShape.map((v,x)=>`coords.${m[x+d]}`).join(", "),`
    float ${r}() {
      ${l} coords = getOutputCoords();
      ${h}
      return get${a}(${y});
    }
  `}function Qn(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function U3(t,e,n){const{newShape:a,keptDims:r}=Ru(e),s=e.length,i=t&&s===3&&e[0]===1,o=i?e.slice(1):a,c=!t&&s>1&&!Sn(e,n)&&a.length<s||i;return{useSqueezeShape:c,uniformShape:c?o:e,keptDims:r}}function em(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function tm(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i2e(t,e,n,a){const r=n.map((u,d)=>{const h={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(h.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:h}}),s=r.map(u=>u.shapeInfo),i={logicalShape:a.shape,texShape:a.texData.texShape,isUniform:!1,isPacked:a.texData.isPacked,flatOffset:null},o=A_e(r,i,e),c=Jbe(t.gl,o),l=t.createProgram(c);return Ce().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:c,source:o,webGLProgram:l,inShapeInfos:s,outShapeInfo:i,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(l),Object.assign({program:e,fragmentShader:c,source:o,webGLProgram:l,inShapeInfos:s,outShapeInfo:i},Q9(t,e,l)))}function Q9(t,e,n){const a=[],r=[];let s,i,o,c=null,l=null;l=t.getUniformLocation(n,"NAN",!1),Ce().getNumber("WEBGL_VERSION")===1&&(c=t.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const d of e.variableNames){const h={name:d,uniform:t.getUniformLocation(n,d,u),offset:t.getUniformLocation(n,`offset${d}`,u)};e.enableShapeUniforms&&(h.shape=t.getUniformLocation(n,`${d}Shape`,u),h.texShape=t.getUniformLocation(n,`${d}TexShape`,u)),a.push(h)}if(e.enableShapeUniforms&&(s=t.getUniformLocation(n,"outShape",u),o=t.getUniformLocation(n,"outShapeStrides",u),i=t.getUniformLocation(n,"outTexShape",u)),e.customUniforms)for(const d of e.customUniforms)r.push(t.getUniformLocation(n,d.name,u));return{variablesLocations:a,customUniformLocations:r,infLoc:c,nanLoc:l,outShapeLocation:s,outShapeStridesLocation:o,outTexShapeLocation:i}}function aL(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,a)=>{const r=n.logicalShape,s=e[a],i=s.shape;if(!Sn(r,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${i} must match`);if(n.isUniform&&s.isUniform)return;const o=n.texShape,c=s.isUniform?null:s.texData.texShape;if(!Sn(o,c))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${c} must match`)})}function o2e(t,e,n,a,r){e.program.enableShapeUniforms||(aL(e.inShapeInfos,n),aL([e.outShapeInfo],[a]));const s=a.texData.texture,i=a.texData.texShape;a.texData.isPacked?t.setOutputPackedMatrixTexture(s.texture,i[0],i[1]):t.setOutputMatrixTexture(s.texture,i[0],i[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),Ce().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let c=0;c<n.length;++c){const l=n[c],{uniform:u,offset:d,shape:h,texShape:m}=e.variablesLocations[c];if(h){const{uniformShape:y}=U3(e.program.packedInputs,l.shape,l.texData.texShape);switch(y.length){case 1:t.gl.uniform1iv(h,new Int32Array(y));break;case 2:t.gl.uniform2iv(h,new Int32Array(y));break;case 3:t.gl.uniform3iv(h,new Int32Array(y));break;case 4:t.gl.uniform4iv(h,new Int32Array(y));break}}if(m&&t.gl.uniform2i(m,l.texData.texShape[0],l.texData.texShape[1]),u!=null){if(l.isUniform){if(Me(l.shape)<2)t.gl.uniform1f(u,l.uniformValues[0]);else{let y=l.uniformValues;y instanceof Float32Array||(y=new Float32Array(y)),t.gl.uniform1fv(u,y)}continue}l.texData.slice!=null&&d!=null&&t.gl.uniform1i(d,l.texData.slice.flatOffset),t.setInputMatrixTexture(l.texData.texture.texture,u,c)}}const o=e.outShapeLocation;if(o)switch(a.shape.length){case 1:t.gl.uniform1iv(o,new Int32Array(a.shape));break;case 2:t.gl.uniform2iv(o,new Int32Array(a.shape));break;case 3:t.gl.uniform3iv(o,new Int32Array(a.shape));break;case 4:t.gl.uniform4iv(o,new Int32Array(a.shape));break}if(e.outShapeStridesLocation){const c=Ft(a.shape);switch(a.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(c));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(c));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(c));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,a.texData.texShape[0],a.texData.texShape[1]),e.program.customUniforms&&r)for(let c=0;c<e.program.customUniforms.length;++c){const l=e.program.customUniforms[c],u=e.customUniformLocations[c],d=r[c];if(l.type==="float")t.gl.uniform1fv(u,d);else if(l.type==="vec2")t.gl.uniform2fv(u,d);else if(l.type==="vec3")t.gl.uniform3fv(u,d);else if(l.type==="vec4")t.gl.uniform4fv(u,d);else if(l.type==="int")t.gl.uniform1iv(u,d);else if(l.type==="ivec2")t.gl.uniform2iv(u,d);else if(l.type==="ivec3")t.gl.uniform3iv(u,d);else if(l.type==="ivec4")t.gl.uniform4iv(u,d);else throw Error(`uniform type ${l.type} is not supported yet.`)}t.executeProgram()}function c2e(t,e,n){let a="";e.concat(n).forEach(i=>{const o=i.texData!=null&&i.texData.slice!=null&&i.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!i.isUniform){const c=i.texData.texShape,{useSqueezeShape:l,uniformShape:u,keptDims:d}=U3(t.packedInputs,i.shape,c);let h="",m="",y="";if(u.length===1&&t.packedInputs){const S=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];h=`${S[0]>1}_${S[1]>1}`}else if(u.length===2&&!t.packedInputs)m=`${u[0]>1}_${u[1]>1}`;else if(u.length>2&&!t.packedInputs){const S=Ft(u);y=`${S[0]===c[1]}_${S[S.length-1]===c[1]}`}const v=i.shape.length,x=u.length===2&&Sn(i.shape,c),k=Me(i.shape)===1,b=gh(i.shape,n.shape),_=!t.packedInputs&&v===n.shape.length&&Sn(c,n.texData.texShape),A=t.packedInputs||u.length>2?"":`${c[0]>1}_${c[1]>1}`;a+=`${v}_${_}_${l?d:""}_${u.length}_${k}_${b}_${x}_${h}_${m}_${y}_${A}_${o}`}else{const c=i.isUniform?"uniform":i.texData.texShape;a+=`${i.shape}_${c}_${o}`}});const r=t.userCode;let s=t.constructor.name;return s+="_"+a+"_"+r+`${Ce().getNumber("WEBGL_VERSION")}`,s}function Kr(t){return Ce().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class l2e{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=wg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=xs();this.outputShape=e,this.enableShapeUniforms=Kr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?k_(["r","c","d"],e):Pd(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u2e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=wg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=xs();this.outputShape=e,this.enableShapeUniforms=Kr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?k_(["r","c","d"],e):Pd(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class f2e{constructor(e){this.variableNames=["A"],this.outTexUsage=oi.DOWNLOAD;const n=xs();this.outputShape=e,this.userCode=`
      ${q9}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class d2e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=oi.DOWNLOAD;const n=xs();this.outputShape=e,this.userCode=`
      ${q9}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p2e={R:0,G:1,B:2,A:3};class rL{constructor(e,n=!1,a="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=xs();this.outputShape=e,this.enableShapeUniforms=Kr(this.outputShape.length);let s="result";n&&(s="floor(result * 255. + 0.5)");let i="";for(let o=0;o<a.length;o++){const c=a[o];i+=`
          if(offset == ${o}) {
            result = values[${p2e[c]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?G3():z3(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${a.length});

        flatIndex = idiv(flatIndex, ${a.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${r.texture2D}(A, uv);
          ${i}
        }
        ${r.output} = vec4(${s}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class h2e{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=xs();this.outputShape=e,this.enableShapeUniforms=Kr(this.outputShape.length);let r="",s="result";n&&(s="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let o=0;o<=1;o++){const c=i*2+o;r+=`
          localCoords = coords;
          if(localCoords[2] + ${o} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${o};
          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${i};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${a.texture2D}(A, uv);

            if (offset == 0) {
              result[${c}] = values[0];
            } else if (offset == 1) {
              result[${c}] = values[1];
            } else if (offset == 2) {
              result[${c}] = values[2];
            } else {
              result[${c}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?G3():z3(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${r}

          ${a.output} = ${s};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m2e(t){const e=xs(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return Qbe(t,n)}function g2e(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return a_e(t,e)}function y2e(t){const e=new Uint16Array([0,1,2,2,1,3]);return r_e(t,e)}function b1(t,e,n,a,r,s){i_e(e,n);const i=s_e(t),o=t.TEXTURE_2D;return dt(t,()=>t.bindTexture(o,i)),dt(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),dt(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),dt(t,()=>t.texParameteri(o,t.TEXTURE_MIN_FILTER,t.NEAREST)),dt(t,()=>t.texParameteri(o,t.TEXTURE_MAG_FILTER,t.NEAREST)),Ce().getNumber("WEBGL_VERSION")===1?dt(t,()=>t.texImage2D(o,0,a,e,n,0,r,s,null)):dt(t,()=>t.texStorage2D(o,1,a,e,n)),dt(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:i,texShape:[n,e]}}function J9(t){return t.internalFormatFloat}function x2e(t,e,n,a){const[r,s]=k1(e,n);return b1(t,r,s,J9(a),a.textureFormatFloat,t.FLOAT)}function eW(t){return t.internalFormatHalfFloat}function v2e(t,e,n,a){const[r,s]=k1(e,n);return b1(t,r,s,eW(a),a.textureFormatFloat,a.textureTypeHalfFloat)}function tW(t){return t.downloadTextureFormat}function k2e(t,e,n,a){const[r,s]=k1(e,n);return b1(t,r,s,tW(a),t.RGBA,t.UNSIGNED_BYTE)}function nW(t){return t.internalFormatPackedFloat}function w2e(t,e,n,a){const[r,s]=Zh(e,n);return b1(t,r,s,nW(a),t.RGBA,t.FLOAT)}function aW(t){return t.internalFormatPackedHalfFloat}function b2e(t,e,n,a){const[r,s]=Zh(e,n);return b1(t,r,s,aW(a),t.RGBA,a.textureTypeHalfFloat)}function _2e(t,e,n){return dt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),eL(t,e,"clipSpacePos",n,3,20,0)&&eL(t,e,"uv",n,2,20,12)}function A2e(t,e,n,a,r,s){dt(t,()=>t.bindTexture(t.TEXTURE_2D,e));let i,o,c;r instanceof Uint8Array?(i=new Uint8Array(n*a*4),o=t.UNSIGNED_BYTE,c=t.RGBA):(i=new Float32Array(n*a*4),o=t.FLOAT,c=s.internalFormatPackedFloat),i.set(r),Ce().getNumber("WEBGL_VERSION")===2?dt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,a,t.RGBA,o,i)):dt(t,()=>t.texImage2D(t.TEXTURE_2D,0,c,n,a,0,t.RGBA,o,i)),dt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function N2e(t,e,n){dt(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?Ce().getNumber("WEBGL_VERSION")===2?dt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):dt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):Ce().getNumber("WEBGL_VERSION")===2?dt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):dt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),dt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function S2e(t,e,n,a){const r=t.createBuffer();dt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,r));const o=4*4*e*n;return dt(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,o,t.STREAM_READ)),dt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),dt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),r}function T2e(t,e,n){const a=t,r=new Float32Array(n);return a.bindBuffer(a.PIXEL_PACK_BUFFER,e),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,r),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),r}function E2e(t,e,n,a){const[r,s]=k1(e,n),i=4,o=new Uint8Array(jbe(e*n,i));return dt(t,()=>t.readPixels(0,0,r,s,a.downloadTextureFormat,t.UNSIGNED_BYTE,o)),new Float32Array(o.buffer)}function C2e(t,e,n,a,r,s,i,o){const c=t,l=new Float32Array(Hbe(s,i));return c.bindBuffer(c.PIXEL_PACK_BUFFER,e),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,l),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),l}function I2e(t,e,n){const a=new Float32Array(e*n*4);return dt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,a)),a}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GN{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=Ce().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,Ube(n,e)):this.gl=Io(n),e=this.gl,Ce().getNumber("WEBGL_VERSION")===2){const s=e;this.createVertexArray=()=>dt(s,()=>s.createVertexArray()),this.bindVertexArray=i=>dt(s,()=>s.bindVertexArray(i)),this.deleteVertexArray=i=>dt(s,()=>s.deleteVertexArray(i)),this.getVertexArray=()=>dt(s,()=>s.getParameter(s.VERTEX_ARRAY_BINDING))}else if(e!=null){const s=e.getExtension("OES_vertex_array_object");if(s==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>dt(e,()=>s.createVertexArrayOES()),this.bindVertexArray=i=>dt(e,()=>s.bindVertexArrayOES(i)),this.deleteVertexArray=i=>dt(e,()=>s.deleteVertexArrayOES(i)),this.getVertexArray=()=>dt(e,()=>e.getParameter(s.VERTEX_ARRAY_BINDING_OES))}let a="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Ce().getNumber("WEBGL_VERSION")===1){const s="OES_texture_float",i="OES_texture_half_float";if(this.textureFloatExtension=gv(this.gl,s),ji(this.gl,i))this.textureHalfFloatExtension=gv(this.gl,i);else if(Ce().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(a),ji(this.gl,r))this.colorBufferHalfFloatExtension=gv(this.gl,r);else if(Ce().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(a="EXT_color_buffer_float",ji(this.gl,a))this.colorBufferFloatExtension=this.gl.getExtension(a);else if(ji(this.gl,r))this.colorBufferHalfFloatExtension=this.gl.getExtension(r);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=g2e(this.gl),this.indexBuffer=y2e(this.gl),this.framebuffer=o_e(this.gl),this.textureConfig=B3(this.gl,this.textureHalfFloatExtension)}get debug(){return Ce().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;dt(e,()=>e.finish()),dt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),dt(e,()=>e.deleteFramebuffer(this.framebuffer)),dt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),dt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),dt(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),x2e(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),v2e(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),k2e(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),N2e(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,a,r){this.throwIfDisposed(),A2e(this.gl,e,n,a,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),b2e(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),w2e(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(tL(this.gl,this.framebuffer),this.outputTexture=null),dt(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,a){return this.downloadMatrixDriver(e,()=>E2e(this.gl,n,a,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,a,r,s,i){return C2e(this.gl,e,n,a,r,s,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return T2e(this.gl,e,n)}createBufferFromTexture(e,n,a){this.bindTextureToFrameBuffer(e);const r=S2e(this.gl,n,a,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,a;if(Ce().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,s=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),a=()=>{const i=r.clientWaitSync(s,0,0);return i===r.ALREADY_SIGNALED||i===r.CONDITION_SATISFIED},n=s}else Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),a=()=>this.isQueryAvailable(n,Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):a=()=>!0;return{query:n,isFencePassed:a}}downloadMatrixFromPackedTexture(e,n,a){return this.downloadMatrixDriver(e,()=>I2e(this.gl,n,a))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=m2e(n));const a=t_e(n);dt(n,()=>n.attachShader(a,this.vertexShader)),dt(n,()=>n.attachShader(a,e)),n_e(n,a);const r=Object.assign(a,{vao:this.createVertexArray()});return this.debug&&LN(n,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const n=this.gl;dt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),_2e(n,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(dt(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&LN(this.gl,this.program),dt(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,a=!0){return this.throwIfDisposed(),a?l_e(this.gl,e,n):u_e(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),dt(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,a){this.throwIfDisposed(),this.throwIfNoProgram(),f_e(this.gl,e,n,a)}setOutputMatrixTexture(e,n,a){this.setOutputMatrixTextureDriver(e,a,n)}setOutputPackedMatrixTexture(e,n,a){this.throwIfDisposed();const[r,s]=Zh(n,a);this.setOutputMatrixTextureDriver(e,r,s)}setOutputMatrixWriteRegion(e,n,a,r){this.setOutputMatrixWriteRegionDriver(a,e,r,n)}setOutputPackedMatrixWriteRegion(e,n,a,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&LN(this.gl,this.program),yv(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}dt(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),dt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=gv(this.gl,Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const a=this.gl,r=this.getQueryTimerExtensionWebGL2(),s=a.createQuery();return a.beginQuery(r.TIME_ELAPSED_EXT,s),s}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,a=this.getQueryTimerExtensionWebGL2();n.endQuery(a.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await OO(()=>this.disposed||this.isQueryAvailable(e,Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const a=this.gl;return a.getQueryParameter(e,a.QUERY_RESULT)/1e6}else{const a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(e,a.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const a=this.gl,r=this.getQueryTimerExtensionWebGL2(),s=a.getQueryParameter(e,a.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}else{const a=this.getQueryTimerExtensionWebGL1(),r=a.getQueryObjectEXT(e,a.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=D2e(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:a}=this.itemsToPoll[n];a()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let a;"setTimeoutCustom"in Ce().platform&&(a=Ce().platform.setTimeoutCustom.bind(Ce().platform)),OO(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,a)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),MN(this.gl,e,this.framebuffer),this.debug&&yv(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(MN(this.gl,this.outputTexture,this.framebuffer),this.debug&&yv(this.gl)):tL(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const a=n();return this.unbindTextureToFrameBuffer(),a}setOutputMatrixTextureDriver(e,n,a){this.throwIfDisposed();const r=this.gl;MN(r,e,this.framebuffer),this.debug&&yv(r),this.outputTexture=e,dt(r,()=>r.viewport(0,0,n,a)),dt(r,()=>r.scissor(0,0,n,a))}setOutputMatrixWriteRegionDriver(e,n,a,r){this.throwIfDisposed(),dt(this.gl,()=>this.gl.scissor(e,n,a,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function D2e(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:R2e,bincountImpl:rW,bincountReduceImpl:P2e,bitwiseAndImpl:F2e,castImpl:O2e,ceilImpl:$2e,concatImpl:L2e,equalImpl:M2e,expImpl:B2e,expm1Impl:z2e,floorImpl:G2e,gatherNdImpl:U2e,gatherV2Impl:W2e,greaterImpl:V2e,greaterEqualImpl:j2e,lessImpl:H2e,lessEqualImpl:K2e,linSpaceImpl:q2e,logImpl:X2e,maxImpl:Y2e,maximumImpl:Z2e,minimumImpl:Q2e,multiplyImpl:J2e,negImpl:eAe,notEqualImpl:tAe,prodImpl:nAe,raggedGatherImpl:aAe,raggedRangeImpl:rAe,raggedTensorToTensorImpl:sAe,rangeImpl:iAe,rsqrtImpl:oAe,scatterImpl:cAe,sigmoidImpl:lAe,simpleAbsImpl:sW,sliceImpl:uAe,sparseFillEmptyRowsImpl:fAe,sparseReshapeImpl:dAe,sparseSegmentReductionImpl:iW,sqrtImpl:pAe,staticRegexReplaceImpl:hAe,stridedSliceImpl:mAe,stringNGramsImpl:gAe,stringSplitImpl:yAe,stringToHashBucketFastImpl:xAe,subImpl:vAe,tileImpl:kAe,topKImpl:wAe,transposeImpl:W3,uniqueImpl:bAe}=N1e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oW(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function cs(t,e){return e===1?[t]:oW(t,e)}function _Ae(t,e){if(t===1)return"rc";let n="";for(let a=0;a<t;a++)n+=e[a],a<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AAe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Kr(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=cs("rc",this.rank),a=Qn(this.rank),r=this.getOutOfBoundsCondition(n),s=this.getSetup(n),i=this.getOutput(n);this.userCode=`
        void main() {
          ${a} rc = getOutputCoords();

          if(${r}) {
            setOutput(vec4(0));
          } else {
            ${s}

            setOutput(vec4(${i}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let a=0;a<=1;a++)for(let r=0;r<=1;r++){let s=`${a===0?"r":"rp1"}, ${r===0?"c":"cp1"}`;for(let i=2;i<this.rank;i++)s=`${e[e.length-1-i]},`+s;n.push(s)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let a=this.rank-2;a<this.rank;a++)n+=`${e[a]} >= ${this.enableShapeUniforms?`outShape[${a}]`:this.outputShape[a]}`,a<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),a=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${a};
      bool rEdge = rp1 >= ${r};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cW{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Kr(this.outputShape.length);let a="";for(let r=0;r<4;r++){let s="thisRC = rc;";r%2===1&&(s+="thisRC.z += 1;"),r>1&&(s+="thisRC.y += 1;"),a+=`
        ${s}
        ${r>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${r}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${r>0?"}":""}
      `}this.userCode=`
      ${NAe(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?G3():z3(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${a}

        setOutput(result);
      }
    `}}function NAe(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?__e(["r","c","d"],"inputShape"):Pd(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SAe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,a){const r=iL(n,a),s=oL(e,r,a);s in this.freeTextures||(this.freeTextures[s]=[]),s in this.usedTextures||(this.usedTextures[s]=[]);const i=sL(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,a);if(this.freeTextures[s].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const c=this.freeTextures[s].pop();return this.usedTextures[s].push(c),c}let o;return r===Dr.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===Dr.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===Dr.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===Dr.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===Dr.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[s].push(o),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),o}releaseTexture(e,n,a,r){if(this.freeTextures==null)return;const s=iL(a,r),i=oL(n,s,r);i in this.freeTextures||(this.freeTextures[i]=[]);const o=sL(n,s,this.gpgpu.gl,this.gpgpu.textureConfig,r),c=Ce().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");c!==-1&&this._numBytesAllocated>c?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const l=this.usedTextures[i],u=l&&l.indexOf(e);if(u==null||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[u]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function TAe(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function sL(t,e,n,a,r){const s=EAe(e,a);let i;if(r){const[c,l]=Zh(t[0],t[1]);i=c*l}else{const[c,l]=k1(t[0],t[1]);i=c*l}const o=TAe(n,s);return i*o}function EAe(t,e){switch(t){case Dr.PACKED_2X2_FLOAT32:return nW(e);case Dr.PACKED_2X2_FLOAT16:return aW(e);case Dr.UNPACKED_FLOAT32:return J9(e);case Dr.UNPACKED_FLOAT16:return eW(e);case Dr.PACKED_4X1_UNSIGNED_BYTE:return tW(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function CAe(t){return Ce().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Dr.PACKED_2X2_FLOAT32:Dr.UNPACKED_FLOAT32:t?Dr.PACKED_2X2_FLOAT16:Dr.UNPACKED_FLOAT16}function iL(t,e){if(t===oi.UPLOAD)return Dr.PACKED_2X2_FLOAT32;if(t===oi.RENDER||t==null)return CAe(e);if(t===oi.DOWNLOAD||t===oi.PIXELS)return Dr.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function oL(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tc{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Kr(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const to="if (isnan(x)) return x;",IAe="return x;",cL="return abs(x);",DAe="return (x >= 0.0) ? x : (exp(x) - 1.0);",RAe=to+`
  return (x < 0.0) ? 0.0 : x;
`,PAe=to+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Ql="return x;",FAe="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OAe="return x;",$Ae=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,LAe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,MAe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,BAe="return 1.0 / (1.0 + exp(-1.0 * x));";class tu{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Kr(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zAe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Kr(this.outputShape.length);const n=e.length,a=cs("rc",n),r=Qn(n),s=_Ae(n,a),i=a.slice(-2),o=n<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`
      void main() {
        ${r} rc = getOutputCoords();
        vec4 packedInput = getA(${s});

        setOutput(getChannel(packedInput, ${o}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GAe=SI,UAe=1e-7,WAe=1e-4,kv={};function VAe(t){return t in kv||(kv[t]={}),kv[t]}const jAe=Ce().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),HAe=600;function KAe(){return Ce().global.screen==null?1024:Ce().global.screen.height*Ce().global.screen.width*window.devicePixelRatio*HAe/1024/1024}class w_ extends BE{nextDataId(){return w_.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Ce().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof GN)n=e;else{const a=Io(Ce().getNumber("WEBGL_VERSION"),e);n=new GN(a)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const a=Io(Ce().getNumber("WEBGL_VERSION"));n=new GN(a),this.binaryCache=VAe(Ce().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new SAe(this.gpgpu),this.numMBBeforeWarning=KAe(),this.texData=new P6(this,Mi())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,a,r,s,i){const o=this.makeTensorInfo(n,a),c=this.texData.get(o.dataId);c.isPacked=!1,c.texture={texture:e,texShape:[r,s]},c.texShape=[r,s];const l=xv(n),u=new rL(l,!1,i),d=this.runWebGLProgram(u,[o],a,[[r,s]]);return d.shape=n,c.texture=null,this.disposeIntermediateTensorInfo(o),d.dataId}write(e,n,a){if((Ce().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Ce().getBool("DEBUG"))&&this.checkNumericalProblems(e),a==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:n,dtype:a,values:e,usage:oi.UPLOAD,refCount:1}),r}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,a,r,s){if(Ce().getBool("DEBUG")&&this.checkNumericalProblems(n),r==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:a,dtype:r,values:n,usage:oi.UPLOAD,refCount:s})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:a,dtype:r,complexTensorInfos:s,slice:i,shape:o,isPacked:c}=n;if(i!=null){let h;c?h=new tu(o,Ql):h=new tc(o,Ql);const m=this.runWebGLProgram(h,[{dataId:e,shape:o,dtype:r}],r),y=this.readSync(m.dataId);return this.disposeIntermediateTensorInfo(m),y}if(a!=null)return this.convertAndCacheOnCPU(e);if(r==="string")return a;const l=this.activeTimers!=null;let u;l&&(u=As());let d;if(r==="complex64"){const h=this.readSync(s.real.dataId),m=this.readSync(s.imag.dataId);d=dl(h,m)}else d=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=As()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const y=this.pendingRead.get(e);return new Promise(v=>y.push(v))}const n=this.texData.get(e),{values:a,shape:r,slice:s,dtype:i,complexTensorInfos:o,isPacked:c}=n;if(s!=null){let y;c?y=new tu(r,Ql):y=new tc(r,Ql);const v=this.runWebGLProgram(y,[{dataId:e,shape:r,dtype:i}],i),x=this.read(v.dataId);return this.disposeIntermediateTensorInfo(v),x}if(a!=null)return this.convertAndCacheOnCPU(e);if(Ce().getBool("DEBUG")&&!Ce().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Ce().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l=null,u;if(i!=="complex64"&&Ce().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const y=this.texData.get(u.dataId);l=this.gpgpu.createBufferFromTexture(y.texture.texture,...mv(r))}this.pendingRead.set(e,[]),i!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(i==="complex64"){const y=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]),v=y[0],x=y[1];d=dl(v,x)}else if(l==null)d=this.getValuesFromTexture(e);else{const y=Me(r);d=this.gpgpu.downloadFloat32MatrixFromBuffer(l,y)}if(u!=null&&this.disposeIntermediateTensorInfo(u),l!=null){const y=this.gpgpu.gl;dt(y,()=>y.deleteBuffer(l))}const h=this.convertAndCacheOnCPU(e,d),m=this.pendingRead.get(e);return this.pendingRead.delete(e),m.forEach(y=>y(h)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Mi().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,n={}){const a=this.texData.get(e),{values:r,shape:s,slice:i,dtype:o,isPacked:c,texture:l}=a;if(o==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(i!=null){let m;c?m=new tu(s,Ql):m=new tc(s,Ql);const y=this.runWebGLProgram(m,[{dataId:e,shape:s,dtype:o}],o),v=this.readToGPU(y,n);return this.disposeIntermediateTensorInfo(y),v}if(l==null)throw r!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,n.customTexShape),d=Mi().makeTensorFromTensorInfo(u),h=this.texData.get(u.dataId);return Object.assign({tensorRef:d},h.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const a=n.map(r=>pu(r));return cn(e.shape,e.dtype,a)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return cn(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const a=e[n];if(!Ybe(a))throw Ce().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${a} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${a} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:a,isPacked:r}=this.texData.get(e),s=Me(n);if(Ce().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const h=this.decode(e),m=this.texData.get(h.dataId),y=this.gpgpu.downloadMatrixFromPackedTexture(m.texture.texture,...mv(n)).subarray(0,s);return this.disposeIntermediateTensorInfo(h),y}const i=Ce().getBool("WEBGL_PACK")&&r===!0,o=i?xv(n):n,c=i?new d2e(o):new f2e(o),l=this.runWebGLProgram(c,[{shape:o,dtype:a,dataId:e}],"float32"),u=this.texData.get(l.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,s);return this.disposeIntermediateTensorInfo(l),d}timerAvailable(){return Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,a=[];let r=!1;this.programTimersStack==null?(this.programTimersStack=a,r=!0):this.activeTimers.push(a),this.activeTimers=a,e();const s=Jf(this.activeTimers.map(c=>c.query)).filter(c=>c!=null),i=Jf(this.activeTimers.map(c=>c.name)).filter(c=>c!=null);this.activeTimers=n,r&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const c=await Promise.all(s);o.kernelMs=fre(c),o.getExtraProfileInfo=()=>c.map((l,u)=>({name:i[u],ms:l})).map(l=>`${l.name}: ${l.ms}`).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:As(),endMs:null}}endTimer(e){return Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=As(),e)}async getQueryTime(e){if(Ce().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:a}=this.texData.get(e);return a!=null&&(this.disposeData(a.real.dataId,n),this.disposeData(a.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:a,texShape:r,usage:s,isPacked:i,slice:o}=this.texData.get(e),c=o&&o.origDataId||e,l=this.dataRefCount.get(c);l>1?this.dataRefCount.set(c,l-1):(this.dataRefCount.delete(c),n!=null&&(this.numBytesInGPU-=this.computeBytes(r,a),this.textureManager.releaseTexture(n,r,s,i)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=jAe){return Ce().getBool("WEBGL_CPU_FORWARD")&&e.every(a=>this.texData.get(a.dataId).texture==null&&Me(a.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){ii("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return GAe(e.shape,n)}packedUnaryOp(e,n,a){const r=new tu(e.shape,n),s=this.compileAndRun(r,[e],a);return Mi().makeTensorFromTensorInfo(s)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const r=sW(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,r)}if(Ce().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,cL,e.dtype);const n=new tc(e.shape,cL),a=this.compileAndRun(n,[e]);return Mi().makeTensorFromTensorInfo(a)}makeTensorInfo(e,n,a){let r;if(n==="string"&&a!=null&&a.length>0&&ry(a[0])){const s=a.map(i=>ru(i));r=this.write(s,e,n)}else r=this.write(a,e,n);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:n}}makeOutput(e,n,a){return Mi().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,a),this)}unpackTensor(e){const n=new zAe(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new AAe(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const a=[_h(e.shape),...Ah(e.shape)],r={dtype:e.dtype,shape:a,dataId:e.dataId},s=[_h(n),...Ah(n)],i=new cW(s,a),o=!0,c=[a],l=this.runWebGLProgram(i,[r],e.dtype,c,o);return{dataId:l.dataId,shape:n,dtype:l.dtype}}decode(e,n){const a=this.texData.get(e),{isPacked:r,shape:s,dtype:i}=a;if(n!=null){const h=Me(s),m=n[0]*n[1]*4;K(h<=m,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const o=xv(s);let c;r?c=new u2e(o):c=new l2e(o);const l=!0,u=[n??mv(o)],d=this.runWebGLProgram(c,[{shape:o,dtype:i,dataId:e}],i,u,l,n);return{dtype:i,shape:s,dataId:d.dataId}}runWebGLProgram(e,n,a,r,s=!1,i){const o=this.makeTensorInfo(e.outputShape,a),c=this.texData.get(o.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===wg.DENSE){const k=i??mv(e.outputShape);c.texShape=k.map(b=>b*2)}if(e.outTexUsage!=null&&(c.usage=e.outTexUsage),Me(o.shape)===0)return c.values=Fr(o.dtype,0),o;const l=[],u=n.map(k=>{if(k.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let b=this.texData.get(k.dataId);if(b.texture==null){if(!e.packedInputs&&Me(k.shape)<=Ce().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:k.shape,texData:null,isUniform:!0,uniformValues:b.values};e.packedInputs&&(b.isPacked=!0,b.shape=k.shape)}if(this.uploadToGPU(k.dataId),!!b.isPacked!=!!e.packedInputs)k=b.isPacked?this.unpackTensor(k):this.packTensor(k),l.push(k),b=this.texData.get(k.dataId);else if(b.isPacked&&!Uk(b.shape,k.shape)){const _=k,A=k.shape;k.shape=b.shape,k=this.packedReshape(k,A),l.push(k),b=this.texData.get(k.dataId),_.shape=A}return{shape:k.shape,texData:b,isUniform:!1}});this.uploadToGPU(o.dataId);const d={shape:o.shape,texData:c,isUniform:!1},h=c2e(e,u,d),m=this.getAndSaveBinary(h,()=>i2e(this.gpgpu,e,u,d)),y=this.activeTimers!=null;let v;y&&(v=this.startTimer()),Ce().get("ENGINE_COMPILE_ONLY")||o2e(this.gpgpu,m,u,d,r),l.forEach(k=>this.disposeIntermediateTensorInfo(k)),y&&(v=this.endTimer(v),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(v)}));const x=Ce().getNumber("WEBGL_FLUSH_THRESHOLD");if(x>0){const k=As();k-this.lastGlFlushTime>x&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=k)}if(!Ce().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&s===!1){const k=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),k}return o}compileAndRun(e,n,a,r,s=!1){return a=a||n[0].dtype,this.runWebGLProgram(e,n,a,r,s)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Ce().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Ne(()=>{if(!Ce().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Ce().getBool("DEBUG");Ce().set("DEBUG",!1);const n=this.abs(Ot(1e-8)).dataSync()[0];if(Ce().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?UAe:WAe}uploadToGPU(e){const n=this.texData.get(e),{shape:a,dtype:r,values:s,texture:i,usage:o,isPacked:c}=n;if(i!=null)return;const l=this.activeTimers!=null;let u;l&&(u=As());let d=n.texShape;if(d==null&&(d=h_e(a,c),n.texShape=d),s!=null){const h=xv(a);let m,y=d[1],v=d[0];const x=s instanceof Uint8Array||s instanceof Uint8ClampedArray;(c||!x)&&([y,v]=Zh(d[0],d[1])),c?m=new h2e(h,x):m=new rL(h,x);const k=x?[v,y]:d,b=this.makeTensorInfo(k,r),_=this.texData.get(b.dataId);x?_.usage=oi.PIXELS:_.usage=oi.UPLOAD,_.texShape=k,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(b.dataId),y,v,s);const A=[[v,y]],C=this.runWebGLProgram(m,[b],r,A,!0),E=this.texData.get(C.dataId);n.texShape=E.texShape,n.isPacked=E.isPacked,n.usage=E.usage,Ce().get("ENGINE_COMPILE_ONLY")?this.disposeData(C.dataId):(n.texture=E.texture,n.values=null,this.texData.delete(C.dataId)),this.disposeIntermediateTensorInfo(b),l&&(this.uploadWaitMs+=As()-u)}else{const h=this.acquireTexture(d,o,r,c);n.texture=h}}convertAndCacheOnCPU(e,n){const a=this.texData.get(e),{dtype:r}=a;return n!=null&&(a.values=qAe(n,r)),a.values}acquireTexture(e,n,a,r){if(this.numBytesInGPU+=this.computeBytes(e,a),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const s=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${s} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,r)}computeBytes(e,n){return e[0]*e[1]*yk(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const a=new Promise(r=>{try{this.checkCompletion_(n),r(!0)}catch(s){throw s}});e.push(a)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await Hz(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(K9(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:n,customUniformLocations:a,infLoc:r,nanLoc:s,outShapeLocation:i,outShapeStridesLocation:o,outTexShapeLocation:c}=Q9(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=a,e.infLoc=r,e.nanLoc=s,e.outShapeLocation=i,e.outShapeStridesLocation=o,e.outTexShapeLocation=c}}createTensorFromGPUData(e,n,a){e.channels=e.channels||"RGBA";const{texture:r,height:s,width:i,channels:o}=e,c=Mi().backend;if(!c.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=c.writeTexture(r,n,a,s,i,o);return Mi().makeTensorFromDataId(l,n,a,c)}}w_.nextDataId=0;function qAe(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let a=0;a<n.length;++a)n[a]=Math.round(t[a]);return n}else throw new Error(`Unknown dtype ${e}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */e8()&&a8("webgl",()=>new w_,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V3=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class dd{constructor(e,n,a){this.variableNames=["A","B"],this.outputShape=Qt(n,a),this.enableShapeUniforms=Kr(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Od=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class nm{constructor(e,n,a,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Qt(n,a);const s=this.outputShape.length;this.enableShapeUniforms=Kr(s);let i="";if(r)if(s===0||Me(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          ${Qn(s)} coords = getOutputCoords();
        `,s===1)this.enableShapeUniforms?i+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:i+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const c=cs("coords",s);this.enableShapeUniforms?i+=`
            bool nextRowOutOfBounds =
              (${c[s-2]} + 1) >= outShape[${s} - 2];
            bool nextColOutOfBounds =
              (${c[s-1]} + 1) >= outShape[${s} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:i+=`
            bool nextRowOutOfBounds =
              (${c[s-2]} + 1) >= ${this.outputShape[s-2]};
            bool nextColOutOfBounds =
              (${c[s-1]} + 1) >= ${this.outputShape[s-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${i}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ys(t){const{inputs:e,backend:n}=t,{x:a}=e;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const XAe={kernelName:Ny,backendName:"webgl",kernelFunc:Ys};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wu(t){const{inputs:e,backend:n}=t,{real:a,imag:r}=e,s=n.makeTensorInfo(a.shape,"complex64"),i=n.texData.get(s.dataId),o=Ys({inputs:{x:a},backend:n}),c=Ys({inputs:{x:r},backend:n});return i.complexTensorInfos={real:o,imag:c},s}const YAe={kernelName:XE,backendName:"webgl",kernelFunc:Wu};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lW="return (a < 0.) ? b * a : a;",uW=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function ZAe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{alpha:s}=a,i=n.makeTensorInfo([],"float32",Pu(s,"float32")),o=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nm(uW,r.shape,i.shape):new dd(lW,r.shape,i.shape),c=n.runWebGLProgram(o,[r,i],"float32");return n.disposeIntermediateTensorInfo(i),c}const QAe={kernelName:eb,backendName:"webgl",kernelFunc:ZAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fW="return (a < 0.) ? b * a : a;",dW=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function JAe(t){const{inputs:e,backend:n}=t,{x:a,alpha:r}=e,s=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nm(dW,a.shape,r.shape):new dd(fW,a.shape,r.shape);return n.runWebGLProgram(s,[a,r],"float32")}const eNe={kernelName:vb,backendName:"webgl",kernelFunc:JAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const am="if (isnan(x)) return x;";function Fn({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:a}){return({inputs:r,backend:s})=>{const{x:i}=r,o=s,c=a||i.dtype;if(o.shouldExecuteOnCPU([i])&&n!=null){const d=o.texData.get(i.dataId),h=n(d.values,c);return o.makeTensorInfo(i.shape,c,h)}const l=Ce().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return l?u=new tu(i.shape,e):u=new tc(i.shape,t),o.runWebGLProgram(u,[i],c)}}function Br({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:a=!1,cpuKernelImpl:r,dtype:s}){return({inputs:i,backend:o})=>{const{a:c,b:l}=i,u=o;if(a&&c.dtype==="complex64"){const y=u.texData.get(c.dataId),v=u.texData.get(l.dataId),[x,k]=[[y.complexTensorInfos.real,v.complexTensorInfos.real],[y.complexTensorInfos.imag,v.complexTensorInfos.imag]].map(_=>{const[A,S]=_,C={dataId:A.dataId,dtype:A.dtype,shape:c.shape},E={dataId:S.dataId,dtype:S.dtype,shape:l.shape},D=new dd(t,c.shape,l.shape);return u.runWebGLProgram(D,[C,E],js(A.dtype,S.dtype))}),b=Wu({inputs:{real:x,imag:k},backend:u});return u.disposeIntermediateTensorInfo(x),u.disposeIntermediateTensorInfo(k),b}const d=s||js(c.dtype,l.dtype);if((c.dtype==="string"||l.dtype==="string"||u.shouldExecuteOnCPU([c,l]))&&r!=null){const y=u.texData.get(c.dataId).values,v=u.texData.get(l.dataId).values,x=c.dtype==="string"?pl(y):y,k=c.dtype==="string"?pl(v):v,[b,_]=r(c.shape,l.shape,x,k,d),A=u.makeTensorInfo(_,d),S=u.texData.get(A.dataId);return S.values=b,A}const h=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let m;return h?m=new nm(e,c.shape,l.shape,n):m=new dd(t,c.shape,l.shape),u.runWebGLProgram(m,[c,l],d)}}function bg(t,e=!1){if(t==="linear")return e?OAe:IAe;if(t==="relu")return e?LAe:RAe;if(t==="elu")return e?$Ae:DAe;if(t==="relu6")return e?MAe:PAe;if(t==="prelu")return e?dW:fW;if(t==="leakyrelu")return e?uW:lW;if(t==="sigmoid")return e?BAe:FAe;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pW{constructor(e,n,a,r=!1,s=!1,i=!1,o=null,c=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a,this.enableShapeUniforms=Kr(this.outputShape.length);const u=r?e[1]:e[2],d=Math.ceil(u/2),h=r?"i * 2, rc.y":"rc.y, i * 2",m=s?"rc.z, i * 2":"i * 2, rc.z",y=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=s?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let x="",k="";o&&(c?x=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:l?x=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:x=`vec4 activation(vec4 x) {
          ${o}
        }`,k="result = activation(result);");const b=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),c&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let _="rc.x",A="rc.x";e[0]<n[0]?_=`imod(rc.x, ${e[0]})`:n[0]<e[0]&&(A=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${x}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${_};
        int batchB = ${A};
        for (int i = 0; i < ${d}; i++) {
          vec4 a = getMatrixA(batchA, ${h});
          vec4 b = getMatrixB(batchB, ${m});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${y[0]} * ${v[0]});
          result += (${y[1]} * ${v[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${b}

        ${k}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lL={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class uL{constructor(e,n,a){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Qt(n,a),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fL="return a * b;";function j3(t){const{inputs:e,backend:n}=t,{a,b:r}=e,s=js(a.dtype,r.dtype);if(a.dtype==="complex64"){const o=n.texData.get(a.dataId),c=n.texData.get(r.dataId),l=new uL(lL.REAL,a.shape,r.shape),u=new uL(lL.IMAG,a.shape,r.shape),d=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:a.shape},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:r.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:r.shape}],h=n.runWebGLProgram(l,d,"float32"),m=n.runWebGLProgram(u,d,"float32"),y=Wu({inputs:{real:h,imag:m},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),y}if(n.shouldExecuteOnCPU([a,r])){const o=n.texData.get(a.dataId),c=n.texData.get(r.dataId),[l,u]=J2e(a.shape,r.shape,o.values,c.values,s),d=n.makeTensorInfo(u,s),h=n.texData.get(d.dataId);return h.values=l,d}let i;return Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?i=new nm(fL,a.shape,r.shape):i=new dd(fL,a.shape,r.shape),n.runWebGLProgram(i,[a,r],s)}const tNe={kernelName:Fy,backendName:"webgl",kernelFunc:j3};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nNe(t,e,n){const a=[_h(t.shape),...Ah(t.shape)],r={dtype:t.dtype,shape:a,dataId:t.dataId},s=[_h(e),...Ah(e)],i=new cW(s,a),o=!0,c=[a],l=n.runWebGLProgram(i,[r],t.dtype,c,o);return{dataId:l.dataId,shape:e,dtype:l.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ct(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{shape:s}=a,i=n,o=Me(r.shape),c=F6(s,o),l=Me(c);K(o===l,()=>`The new shape (${c}) has ${l} elements and the old shape (${r.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`);const u=i.texData.get(r.dataId);return u.isPacked&&!Uk(r.shape,c)&&!(u.texture!==null&&Uk(u.shape,c))?nNe(r,c,i):(i.incRef(r.dataId),{dataId:r.dataId,shape:c,dtype:r.dtype})}const aNe={kernelName:wb,backendName:"webgl",kernelFunc:ct};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dL{constructor(e,n){this.variableNames=["x"];const{windowSize:a,batchSize:r,inSize:s,outSize:i}=e;this.outputShape=[r,i];const o=Math.floor(a/4)*4,c=a%4;let l="sumValue += dot(values, ones);";if(n!=null){const d=1/n;l=`sumValue += dot(values * ${hh(d)?d.toPrecision(2):d}, ones);`}let u="";s%a>0&&(u=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${u}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${a};

        float sumValue = 0.0;

        for (int i = 0; i < ${o}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${l}
        }

        int inIdx = inOffset + ${o};
        if (${c===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${l}
        } else if (${c===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${l}
        } else if (${c===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${l}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rNe{constructor(e,n){this.variableNames=["x"];const{windowSize:a,batchSize:r,inSize:s,outSize:i}=e;this.outputShape=[r,i];let o="0.0",c="";n==="prod"?o="1.0":n==="min"?(o="1.0 / 1e-20",c="min"):n==="max"&&(o="-1.0 / 1e-20",c="max");let l=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?l="sumValue":n==="prod"?l="prodValue":n==="all"?l="allValue":n==="any"&&(l="anyValue");const u=Math.floor(a/4)*4,d=a%4;let h=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${c}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${c}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,m="vec4";n==="all"?(o="1.0",h=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):n==="any"&&(o="0.0",h=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");let y="";s%a>0&&(y=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${o};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${y}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${a};

        vec4 minMaxValue = vec4(${o});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${h}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${d===2}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${d===3}) {
          ${m} values = ${m}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${h}
        }
        setOutput(${l});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sNe(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],a=s_(n);e.push({inSize:n,windowSize:a,outSize:Math.ceil(n/a)})}return e}function $d(t,e,n,a){const r=sNe(t.shape);let s=t;for(let i=0;i<r.length;i++){const{inSize:o,windowSize:c,outSize:l}=r[i];let u,d;n==="mean"?u=i===0?new dL({windowSize:c,inSize:o,batchSize:t.shape[0],outSize:l},o):new dL({windowSize:c,inSize:o,batchSize:t.shape[0],outSize:l}):u=new rNe({windowSize:c,inSize:o,batchSize:t.shape[0],outSize:l},n),d=s,s=a.runWebGLProgram(u,[s],e),d.dataId!==t.dataId&&a.disposeIntermediateTensorInfo(d)}return s}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iNe{constructor(e,n){this.variableNames=["A"];const a=new Array(e.length);for(let i=0;i<a.length;i++)a[i]=e[n[i]];this.outputShape=a,this.rank=a.length;const r=Qn(this.rank),s=oNe(n);this.userCode=`
    void main() {
      ${r} resRC = getOutputCoords();
      setOutput(getA(${s}));
    }
    `}}function oNe(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],a=new Array(e);for(let r=0;r<t.length;r++)a[t[r]]=n[r];return a.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cNe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const a=new Array(e.length);for(let u=0;u<a.length;u++)a[u]=e[n[u]];if(this.outputShape=a,this.rank=a.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=Qn(this.rank),s=oW("rc",this.rank),i=new Array(this.rank);for(let u=0;u<n.length;u++)i[n[u]]=s[u];const o=`vec2(${i.slice(-2).join()})`,c=`++${s[this.rank-1]} < ${a[this.rank-1]}`,l=`getChannel(getA(${i.join()}), ${o})`;this.userCode=`
    void main() {
      ${r} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${l};
      if(${c}) {
        result[1] = ${l};
      }
      --${s[this.rank-1]};
      if(++${s[this.rank-2]} < ${a[this.rank-2]}) {
        result[2] = ${l};
        if(${c}) {
          result[3] = ${l};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b_(t,e,n){const a=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new cNe(t.shape,e):new iNe(t.shape,e);return n.runWebGLProgram(a,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lNe(t,e,n,a){const r=e,s=t.shape.length,i=yn(r,t.shape);let o=i;const c=ka(o,s),l=c!=null;let u=t;l&&(u=b_(t,c,a),o=Ba(o.length,s)),Lr("sum",o,s);const[d,h]=_r(u.shape,o);let m=d;n&&(m=Ma(d,i));const y=Me(h),x=Me(t.shape)/y,k=ct({inputs:{x:u},attrs:{shape:[x,y]},backend:a}),b=KC(t.dtype),_=$d(k,b,"sum",a),A=ct({inputs:{x:_},attrs:{shape:m},backend:a});return a.disposeIntermediateTensorInfo(k),a.disposeIntermediateTensorInfo(_),l&&a.disposeIntermediateTensorInfo(u),A}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function __(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a;return lNe(r,s,i,n)}const uNe={kernelName:Tb,backendName:"webgl",kernelFunc:__};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ms(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{perm:s}=a,i=n,o=r.shape.length,c=new Array(o);for(let u=0;u<c.length;u++)c[u]=r.shape[s[u]];let l;if(i.shouldExecuteOnCPU([r])){const d=i.texData.get(r.dataId).values,h=W3(d,r.shape,r.dtype,s,c);l=i.makeTensorInfo(c,r.dtype);const m=i.texData.get(l.dataId);m.values=h}else l=b_(r,s,i);return l}const fNe={kernelName:Qp,backendName:"webgl",kernelFunc:ms};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hW=1e3;function Wk({a:t,b:e,transposeA:n,transposeB:a,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:c=null}){const l=t.shape.length,u=e.shape.length,d=n?t.shape[l-2]:t.shape[l-1],h=a?e.shape[u-1]:e.shape[u-2],m=n?t.shape[l-1]:t.shape[l-2],y=a?e.shape[u-2]:e.shape[u-1],v=t.shape.slice(0,-2),x=e.shape.slice(0,-2),k=Me(v),b=Me(x),A=Qt(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([m,y]);K(d===h,()=>`Error in matMul: inner shapes (${d}) and (${h}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${a} must match.`);const S=n?[k,d,m]:[k,m,d],C=a?[b,y,h]:[b,h,y],E=ct({inputs:{x:t},backend:r,attrs:{shape:S}}),D=ct({inputs:{x:e},backend:r,attrs:{shape:C}}),I=[E,D],P=Math.max(k,b),R=n?E.shape[1]:E.shape[2],B=s!=null,U=i!=null,V=c==="leakyrelu",j=c!=null?bg(c,!0):null,W=B||U||V||j!=null;let J;if((m===1||y===1)&&R>hW&&W===!1){let Z=E,M=D;n&&(Z=ms({inputs:{x:E},backend:r,attrs:{perm:[0,2,1]}}),I.push(Z)),a&&(M=ms({inputs:{x:D},backend:r,attrs:{perm:[0,2,1]}}),I.push(M));const se=y!==1,ue=y===1;let le=Z;se&&(le=ct({inputs:{x:Z},backend:r,attrs:{shape:[P,R,1]}}),I.push(le));const ie=y===1?2:1;let ye=M;ue&&(ye=ct({inputs:{x:M},backend:r,attrs:{shape:[P,1,R]}}),I.push(ye));const ke=j3({inputs:{a:le,b:ye},backend:r});J=__({inputs:{x:ke},backend:r,attrs:{axis:ie,keepDims:!0}}),I.push(ke)}else{const Z=js(t.dtype,e.dtype),M=new pW(S,C,[P,m,y],n,a,B,j,U,V),se=[E,D];if(s!=null&&se.push(s),U&&se.push(i),V){const ue=r.makeTensorInfo([],"float32",Pu(o,"float32"));se.push(ue),I.push(ue)}J=r.runWebGLProgram(M,se,Z)}const q=ct({inputs:{x:J},backend:r,attrs:{shape:A}});I.push(J);for(const Z of I)r.disposeIntermediateTensorInfo(Z);return q}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dNe(t){const{inputs:e,backend:n,attrs:a}=t,{a:r,b:s,bias:i,preluActivationWeights:o}=e,{transposeA:c,transposeB:l,activation:u,leakyreluAlpha:d}=a;return Wk({a:r,b:s,transposeA:c,transposeB:l,backend:n,bias:i,preluActivationWeights:o,leakyreluAlpha:d,activation:u})}const pNe={kernelName:xk,backendName:"webgl",kernelFunc:dNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pL="return abs(x);";function hNe(t){const{inputs:e,backend:n}=t,{x:a}=e;if(n.shouldExecuteOnCPU([a])&&a.dtype!=="complex64"){const s=n.texData.get(a.dataId),i=sW(s.values);return n.makeTensorInfo(a.shape,a.dtype,i)}let r;return Ce().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new tu(a.shape,pL):r=new tc(a.shape,pL),n.runWebGLProgram(r,[a],a.dtype)}const mNe={kernelName:Rw,backendName:"webgl",kernelFunc:hNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gNe=to+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,yNe=Fn({opSnippet:gNe}),xNe={kernelName:sy,backendName:"webgl",kernelFunc:yNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vNe=to+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,kNe=Fn({opSnippet:vNe}),wNe={kernelName:iy,backendName:"webgl",kernelFunc:kNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hL="return a + b;",bNe=Br({opSnippet:hL,packedOpSnippet:hL,supportsComplex:!0,cpuKernelImpl:R2e}),_Ne={kernelName:Vh,backendName:"webgl",kernelFunc:bNe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ANe{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((s,i)=>`T${i}`);const a=[];this.variableNames.forEach(s=>{a.push(`float v${s} = get${s}AtOutCoords();`)});const r=this.variableNames.map(s=>`v${s}`).join(" + ");this.userCode=`
      void main() {
        ${a.join(`
        `)}

        float result = ${r};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NNe{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((s,i)=>`T${i}`);const a=[];this.variableNames.forEach(s=>{a.push(`vec4 v${s} = get${s}AtOutCoords();`)});const r=this.variableNames.map(s=>`v${s}`).join(" + ");this.userCode=`
      void main() {
        ${a.join(`
        `)}

        vec4 result = ${r};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ak(t){const{inputs:e,backend:n}=t,a=e;if(a.length===1)return Ys({inputs:{x:a[0]},backend:n});if(a.length>Ce().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const c=Math.floor(a.length/2),l=ak({inputs:a.slice(0,c),backend:n}),u=ak({inputs:a.slice(c),backend:n});return ak({inputs:[l,u],backend:n})}const r=a.map(c=>c.dtype).reduce((c,l)=>js(c,l)),s=a.map(c=>c.shape),o=Ce().getBool("WEBGL_PACK")?new NNe(a[0].shape,s):new ANe(a[0].shape,s);return n.runWebGLProgram(o,a,r)}const SNe={kernelName:Pw,backendName:"webgl",kernelFunc:ak};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TNe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a,o=r.shape.length,c=yn(s,r.shape);let l=c;const u=ka(l,o);let d=r;u!=null&&(d=ms({inputs:{x:r},backend:n,attrs:{perm:u}}),l=Ba(l.length,o)),Lr("all",l,o);const[h,m]=_r(d.shape,l),y=Me(m),v=ct({inputs:{x:d},backend:n,attrs:{shape:[-1,y]}}),x=$d(v,v.dtype,"all",n);let k;if(i){const b=Ma(h,c);k=ct({inputs:{x},backend:n,attrs:{shape:b}})}else k=ct({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(x),u!=null&&n.disposeIntermediateTensorInfo(d),k}const ENe={kernelName:WE,backendName:"webgl",kernelFunc:TNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CNe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a,o=r.shape.length,c=yn(s,r.shape);let l=c;const u=ka(l,o);let d=r;u!=null&&(d=ms({inputs:{x:r},backend:n,attrs:{perm:u}}),l=Ba(l.length,o)),Lr("any",l,o);const[h,m]=_r(d.shape,l),y=Me(m),v=ct({inputs:{x:d},backend:n,attrs:{shape:[-1,y]}}),x=$d(v,v.dtype,"any",n);let k;if(i){const b=Ma(h,c);k=ct({inputs:{x},backend:n,attrs:{shape:b}})}else k=ct({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(x),u!=null&&n.disposeIntermediateTensorInfo(d),k}const INe={kernelName:VE,backendName:"webgl",kernelFunc:CNe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DNe{constructor(e,n,a){this.variableNames=["A"];const{windowSize:r,batchSize:s,outSize:i}=e;a||this.variableNames.push("bestIndicesA"),this.outputShape=[s,i];const o=n==="max"?">":"<",c=a?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${r}; i++) {
          int inIdx = ${c};
          float candidate = getA(batch, inIdx);
          if (candidate ${o} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RNe{constructor(e,n,a,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,K(e.length>2,()=>`Packed arg${a.charAt(0).toUpperCase()+a.slice(1)} supports only inputs with rank above 2.`);const s=e[e.length-1],i=Math.ceil(s/n);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");const o=this.outputShape,c=o.length,l=Qn(c),u=cs("coords",c);let d,h;if(i===1){h=c+1;const D=Qn(h);d=`
        ${D} sourceLocR = ${D}(${u.join()}, 0);
        ++${u[c-1]};
        ${D} sourceLocG = ${D}(${u.join()}, 0);
        ++${u[c-2]};
        ${D} sourceLocA = ${D}(${u.join()}, 0);
        --${u[c-1]};
        ${D} sourceLocB = ${D}(${u.join()}, 0);
        --${u[c-2]};`}else h=c,d=`
        ${l} sourceLocR = coords;
        ++${u[c-1]};
        ${l} sourceLocG = coords;
        ++${u[c-2]};
        ${l} sourceLocA = coords;
        --${u[c-1]};
        ${l} sourceLocB = coords;
        --${u[c-2]};`;const m=["x","y","z","w","u","v"].slice(0,h),y="."+m[h-1],v=m.map(D=>"int "+D),x=cs("sourceLocR",h-1).concat("inIdx.r"),k=cs("sourceLocG",h-1).concat("inIdx.g"),b=cs("sourceLocB",h-1).concat("inIdx.b"),_=cs("sourceLocA",h-1).concat("inIdx.a"),A=a==="max"?"greaterThan":"lessThan",S=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${x.join()}),
                             getBestIndicesAChannel(${k.join()}),
                             getBestIndicesAChannel(${b.join()}),
                             getBestIndicesAChannel(${_.join()})));`,C=`vec4(
            getAChannel(${x.join()}),
            hasNextCol ? getAChannel(${k.join()}) : 0.,
            hasNextRow ? getAChannel(${b.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${_.join()}) : 0.)`,E=r?"":`
      float getBestIndicesAChannel(${v.join()}) {
        return getChannel(getBestIndicesA(${m.join()}),
                                          vec2(${m.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${v.join()}) {
        return getChannel(getA(${m.join()}),
                               vec2(${m.slice(-2).join()}));
      }
      ${E}
      void main() {
        ${l} coords = getOutputCoords();
        bool hasNextCol = ${u[c-1]} < ${o[c-1]-1};
        bool hasNextRow = ${u[c-2]} < ${o[c-2]-1};
        ${d}
        ivec4 srcIdx = ivec4(sourceLocR${y}, sourceLocG${y},
          sourceLocB${y}, sourceLocA${y}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${C};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${S}
          vec4 candidate = ${C};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${A}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mW(t,e,n,a=null){let r=e.shape[0],s=e.shape[1];a!=null&&(r=a.shape[0],s=a.shape[1]);const i=s_(s),o={windowSize:i,inSize:s,batchSize:r,outSize:Math.ceil(s/i)},c=new DNe(o,n,a==null),l=[e];a!=null&&l.push(a);const u=t.runWebGLProgram(c,l,"int32");if(u.shape[1]===1)return u;const d=mW(t,e,n,u);return t.disposeIntermediateTensorInfo(u),d}function gW(t,e,n,a=null){const r=a!=null?a.shape:e.shape,s=r[r.length-1],i=s_(s),o=new RNe(r,i,n,a==null),c=a==null?[e]:[e,a],l=t.runWebGLProgram(o,c,"int32");if(l.shape.length===e.shape.length){const u=gW(t,e,n,l);return t.disposeIntermediateTensorInfo(l),u}return l}function yW(t,e,n,a){const r=[n];if(Lr("arg"+a.charAt(0).toUpperCase()+a.slice(1),r,e.shape.length),!Ce().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const s=[],i=t.texData.get(e.dataId),o=i!==null&&i.isPacked;let c=e;o&&(c=t.unpackTensor(e),s.push(c));const[l,u]=_r(c.shape,r),d=Me(u),h=ct({inputs:{x:c},backend:t,attrs:{shape:[-1,d]}});s.push(h);const m=mW(t,h,a);s.push(m);const y=ct({inputs:{x:m},backend:t,attrs:{shape:l}});return s.forEach(v=>t.disposeIntermediateTensorInfo(v)),y}return gW(t,e,a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PNe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s}=a;let i=yn(s,r.shape);const o=ka(i,r.shape.length);let c=r;const l=[];o!=null&&(c=ms({inputs:{x:r},backend:n,attrs:{perm:o}}),l.push(c),i=Ba(i.length,c.shape.length)),Lr("argMax",[i[0]],c.shape.length);const u=yW(n,c,i[0],"max");return l.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const FNe={kernelName:Fw,backendName:"webgl",kernelFunc:PNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ONe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s}=a;let i=yn(s,r.shape);const o=ka(i,r.shape.length);let c=r;const l=[];o!=null&&(c=ms({inputs:{x:r},backend:n,attrs:{perm:o}}),l.push(c),i=Ba(i.length,c.shape.length)),Lr("argMin",[i[0]],c.shape.length);const u=yW(n,c,i[0],"min");return l.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const $Ne={kernelName:Ow,backendName:"webgl",kernelFunc:ONe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LNe=to+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,MNe=Fn({opSnippet:LNe}),BNe={kernelName:oy,backendName:"webgl",kernelFunc:MNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zNe=to+"return log(x + sqrt(x * x + 1.0));",GNe=Fn({opSnippet:zNe}),UNe={kernelName:cy,backendName:"webgl",kernelFunc:GNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WNe=to+`
  return atan(x);
`,VNe=Fn({opSnippet:WNe}),jNe={kernelName:ly,backendName:"webgl",kernelFunc:VNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HNe=V3+`
  return atan(a, b);
`,KNe=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Od+`
  return result;
`,qNe=Br({opSnippet:HNe,packedOpSnippet:KNe}),XNe={kernelName:fy,backendName:"webgl",kernelFunc:qNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YNe=to+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,ZNe=Fn({opSnippet:YNe}),QNe={kernelName:uy,backendName:"webgl",kernelFunc:ZNe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _g{constructor(e,n,a,r=!1,s=!1){if(this.variableNames=["x"],n==="avg"&&a)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,o=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,m=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const v=n==="avg",x=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,k=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(v||(b="-1.0 / 1e-20"),a){const D=">=";this.userCode=`
        const ivec2 strides = ivec2(${o}, ${c});
        const ivec2 pads = ivec2(${m}, ${y});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${l}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h};
                wC += ${u}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${D} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${r?s?x:k:`wR * ${h} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const _="max";let A=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(A="avgValue / max(count, 1.0)");const S=Math.floor(i/4)*4,C=i%4,E=`
      if (${v}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${_}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${c});
      const ivec2 pads = ivec2(${m}, ${y});
      const float initializationValue = ${b};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${b});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${l}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${S}; wC += 4) {
            int xC = xCCorner + wC * ${u};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              getValue(batch, xR, xC + 3 * ${u}, d)
            );

            ${E}
          }

          int xC = xCCorner + ${S};
          if (${C===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${E}
          } else if (${C===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              initializationValue,
              initializationValue
            );

            ${E}
          } else if (${C===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              initializationValue
            );

            ${E}
          }
        }
        setOutput(${A});
      }
    `}}class H3{constructor(e,n,a,r=!1,s=!1){if(this.variableNames=["x"],n==="avg"&&a)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,o=e.strideDepth,c=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,d=e.dilationHeight,h=e.dilationWidth,m=e.effectiveFilterDepth,y=e.effectiveFilterHeight,v=e.effectiveFilterWidth,x=e.padInfo.front,k=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const _=n==="avg";let A="0.0";if(_||(A="-1.0 / 1e-20"),a){const P=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${o}, ${c}, ${l});
        const ivec3 pads = ivec3(${x}, ${k}, ${b});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${m};
              wD += ${u}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${y};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${v};
                  wC += ${h}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${P} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${r?s?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${y} * ${v} +
                      wR * ${v} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const S="max";let C=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(C="avgValue / max(count, 1.0)");const E=Math.floor(i/4)*4,D=i%4,I=`
      if (${_}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${S}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${o}, ${c}, ${l});
      const ivec3 pads = ivec3(${x}, ${k}, ${b});
      const float initializationValue = ${A};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${A});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${m};
            wD += ${u}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${y};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${E}; wC += 4) {
              int xC = xCCorner + wC * ${h};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                getValue(batch, xD, xR, xC + 3 * ${h}, ch)
              );

              ${I}
            }

            int xC = xCCorner + ${E};
            if (${D===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${I}
            } else if (${D===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                initializationValue,
                initializationValue
              );

              ${I}
            } else if (${D===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                initializationValue
              );

              ${I}
            }
          }
        }
        setOutput(${C});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JNe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e;w1(r,"avgPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=a,l=1;K($r(i,l),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);const u=Ji(r.shape,s,i,l,o,c);if(u.filterWidth===1&&u.filterHeight===1&&Sn(u.inShape,u.outShape))return Ys({inputs:{x:r},backend:n});const d=new _g(u,"avg",!1);return n.runWebGLProgram(d,[r],"float32")}const eSe={kernelName:$w,backendName:"webgl",kernelFunc:JNe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tSe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:c,dataFormat:l}=a,u=[1,1,1],d=kl(r.shape,s,i,u,o,c,l),h=new H3(d,"avg",!1);return n.runWebGLProgram(h,[r],"float32")}const nSe={kernelName:Lw,backendName:"webgl",kernelFunc:tSe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aSe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,a=e.filterWidth,r=e.strideHeight,s=e.strideWidth,i=e.dilationHeight,o=e.dilationWidth,c=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=c-1-e.padInfo.top,d=l-1-e.padInfo.left,h=1/(n*a);this.userCode=`
      const ivec2 pads = ivec2(${u}, ${d});
      const float avgMultiplier = float(${h});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${c};
            wR += ${i}) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${l};
            wC+= ${o}) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class rSe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,a=e.filterHeight,r=e.filterWidth,s=e.strideDepth,i=e.strideHeight,o=e.strideWidth,c=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,m=e.effectiveFilterWidth,y=d-1-e.padInfo.front,v=h-1-e.padInfo.top,x=m-1-e.padInfo.left,k=1/(n*a*r);this.userCode=`
      const ivec3 pads = ivec3(${y}, ${v}, ${x});
      const float avgMultiplier = float(${k});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${c}) {
          float dyD = float(dyDCorner + wD) / ${s}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${h};
              wR += ${l}) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${m};
                wC += ${u}) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sSe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,input:s}=e,i=s,{filterSize:o,strides:c,pad:l,dimRoundingMode:u}=a,d=[1,1,1],h=kl(i.shape,o,c,d,l,u),m=new rSe(h);return n.runWebGLProgram(m,[r],i.dtype)}const iSe={kernelName:HE,backendName:"webgl",kernelFunc:sSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oSe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,input:s}=e,i=s;w1([r,s],"avgPoolGrad");const{filterSize:o,strides:c,pad:l}=a,u=Ji(i.shape,o,c,1,l),d=new aSe(u);return n.runWebGLProgram(d,[r],i.dtype)}const cSe={kernelName:jE,backendName:"webgl",kernelFunc:oSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lSe(t){const{inputs:e,backend:n,attrs:a}=t,{a:r,b:s}=e,{transposeA:i,transposeB:o}=a;return Wk({a:r,b:s,transposeA:i,transposeB:o,backend:n})}const uSe={kernelName:Mw,backendName:"webgl",kernelFunc:lSe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fSe{constructor(e,n,a,r,s,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Qt(e,n),Qt(e,a);let o="0.0";r!=null&&(Qt(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let c="1.0";s!=null&&(Qt(e,s),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${o};
        float scale = ${c};
        float inv = scale * inversesqrt(variance + float(${i}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dSe{constructor(e,n,a,r,s,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Qt(e,n),Qt(e,a);let o="vec4(0.0)";r!=null&&(Qt(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let c="vec4(1.0)";s!=null&&(Qt(e,s),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${o};
        vec4 scale = ${c};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${i}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pSe=({inputs:t,backend:e,attrs:n})=>{const{x:a,mean:r,variance:s,offset:i,scale:o}=t;K(r.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),K(i==null||r.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),K(o==null||r.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:c}=n;c==null&&(c=.001);const l=[a,r,s];let u=null;i!=null&&(u=i.shape,l.push(i));let d=null;o!=null&&(d=o.shape,l.push(o));const h=Ce().getBool("WEBGL_PACK_NORMALIZATION")?new dSe(a.shape,r.shape,s.shape,u,d,c):new fSe(a.shape,r.shape,s.shape,u,d,c);return e.runWebGLProgram(h,l,l[0].dtype)},hSe={kernelName:Zw,backendName:"webgl",kernelFunc:pSe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mSe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=Qn(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const a=gSe(this.rank);let r;const s=e.map((i,o)=>`sourceLoc.${FT[o]} = start[${o}] + coords.${FT[o]};`);r=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${s.join(`
`)}
      `,this.userCode=`
      void main() {
        ${r}
        setOutput(getSource(${a}));
      }
    `}}const FT=["x","y","z","w","u","v"];function gSe(t){if(t===1)return"sourceLoc";if(t<=6)return FT.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ySe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Qn(this.rank),a=cs("coords",this.rank),r=cs("sourceLoc",this.rank),s=this.rank===1?"sourceLoc":`vec2(${r.slice(-2).join()})`,i=`getChannel(getSource(${r.join()}), ${s})`,o=`
      result.x = ${i};
      if (++${a[this.rank-1]} < ${e[this.rank-1]}) {
        ++${r[this.rank-1]};
        result.y = ${i};
        --${r[this.rank-1]};
      }
    `,c=this.rank===1?"":`
      --${a[this.rank-1]};
      if (++${a[this.rank-2]} < ${e[this.rank-2]}) {
        ++${r[this.rank-2]};
        result.z = ${i};
        if (++${a[this.rank-1]} < ${e[this.rank-1]}) {
          ++${r[this.rank-1]};
          result.w = ${i};
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((u,d)=>`start[${d}]`).join()});`:e.map((u,d)=>`${r[d]} = ${a[d]} + start[${d}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${l}
        vec4 result = vec4(0.);
        ${o}
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xSe(t,e,n,a){const r=a.texData.get(t.dataId),s=a.makeTensorInfo(n,t.dtype),i=a.texData.get(s.dataId);Object.assign(i,r),i.refCount=1,i.shape=n,i.dtype=t.dtype;let o=zI(e,Ft(t.shape));r.slice&&(o+=r.slice.flatOffset),i.slice={flatOffset:o,origDataId:r.slice&&r.slice.origDataId||t.dataId};const c=a.dataRefCount.get(i.slice.origDataId)||1;return a.dataRefCount.set(i.slice.origDataId,c+1),s}function rm(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{begin:s,size:i}=a,[o,c]=r_(r,s,i);if(LI(r,o,c),Me(c)===0)return n.makeTensorInfo(c,r.dtype,[]);if(n.shouldExecuteOnCPU([r])||r.dtype==="string"){const d=n.texData.get(r.dataId),h=uAe(d.values,o,c,r.shape,r.dtype);return n.makeTensorInfo(c,r.dtype,h)}const{isPacked:l}=n.texData.get(r.dataId),u=BI(r.shape,o,c);if(l||!u){const d=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ySe(c):new mSe(c),h=[o];return n.runWebGLProgram(d,[r],r.dtype,h)}return n.uploadToGPU(r.dataId),xSe(r,o,c,n)}const vSe={kernelName:Sb,backendName:"webgl",kernelFunc:rm};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kSe=t=>{const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{blockShape:s,crops:i}=a;K(r.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const o=s.reduce((b,_)=>b*_),c=c1(r.shape,s,o),l=l1(c.length,s.length),u=u1(r.shape,s,o),d=jI(i,s.length),h=HI(u,i,s.length),m=[],y=ct({inputs:{x:r},backend:n,attrs:{shape:c}}),v=ms({inputs:{x:y},backend:n,attrs:{perm:l}}),x=ct({inputs:{x:v},backend:n,attrs:{shape:u}}),k=rm({inputs:{x},backend:n,attrs:{begin:d,size:h}});return m.push(y),m.push(v),m.push(x),m.forEach(b=>n.disposeIntermediateTensorInfo(b)),k},wSe={kernelName:Bw,backendName:"webgl",kernelFunc:kSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bSe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,weights:s}=e,{size:i}=a,o=n.readSync(r.dataId),c=n.readSync(s.dataId),l=rW(o,c,s.dtype,s.shape,i);return n.makeTensorInfo([i],s.dtype,l)}const _Se={kernelName:KE,backendName:"webgl",kernelFunc:bSe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ASe=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,NSe=`
  return float(int(a.r) & int(b.r));
`;function SSe(t){const{inputs:e,backend:n}=t,{a,b:r}=e,s=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS"),i=Ce().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([a,r])||i===1){const c=n.texData.get(a.dataId).values,l=n.texData.get(r.dataId).values,[u,d]=F2e(a.shape,r.shape,c,l,a.dtype),h=n.makeTensorInfo(d,a.dtype),m=n.texData.get(h.dataId);return m.values=u,h}let o;return s?o=new nm(ASe,a.shape,r.shape,!1):o=new dd(NSe,a.shape,r.shape),n.runWebGLProgram(o,[a,r],a.dtype)}const TSe={kernelName:zw,backendName:"webgl",kernelFunc:SSe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ESe(t){const{inputs:e,backend:n}=t,{s0:a,s1:r}=e,s=n.readSync(a.dataId),i=n.readSync(r.dataId),o=Qt(Array.from(s),Array.from(i));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const CSe={kernelName:qE,backendName:"webgl",kernelFunc:ESe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ISe="return float(a != b);",xW=Br({opSnippet:ISe,cpuKernelImpl:tAe,dtype:"bool"}),DSe={kernelName:hb,backendName:"webgl",kernelFunc:xW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _1(t){const{inputs:e,backend:n}=t,{input:a}=e,r=n.texData.get(a.dataId);return Ys({inputs:{x:r.complexTensorInfos.real},backend:n})}const RSe={kernelName:TC,backendName:"webgl",kernelFunc:_1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PSe="return float(int(x));";function FSe(t,e){const n=new tc(t.shape,PSe),a=e.runWebGLProgram(n,[t],"int32");return{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OT(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{dtype:s}=a;if(s==="complex64"){if(r.dtype==="complex64")return Ys({inputs:{x:r},backend:n});const i=tr(r.shape),o=OT({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),c=Wu({inputs:{real:o,imag:i},backend:n});return i.dispose(),n.disposeIntermediateTensorInfo(o),c}if(r.dtype==="complex64"){const i=_1({inputs:{input:r},backend:n}),o=OT({inputs:{x:i},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(i),o}if(!O6(r.dtype,s)){const i=Ys({inputs:{x:r},backend:n});return{dataId:i.dataId,shape:i.shape,dtype:s}}if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId).values,[o,c,l]=O2e(i,r.shape,r.dtype,s);return n.makeTensorInfo(o,c,l)}if(s==="int32")return FSe(r,n);if(s==="bool"){const i=n.makeTensorInfo([],"bool",Fr("bool",1)),c=xW({inputs:{a:r,b:i},backend:n});return n.disposeIntermediateTensorInfo(i),c}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${s}`)}const OSe={kernelName:dy,backendName:"webgl",kernelFunc:OT};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mL="return ceil(x);",$Se=Fn({opSnippet:mL,packedOpSnippet:mL,cpuKernelImpl:$2e}),LSe={kernelName:py,backendName:"webgl",kernelFunc:$Se};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MSe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BSe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zSe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{clipValueMin:s,clipValueMax:i}=a;let o;Ce().getBool("WEBGL_PACK_CLIP")?o=new BSe(r.shape):o=new MSe(r.shape);const c=[[s],[i]];return n.runWebGLProgram(o,[r],r.dtype,c)}const GSe={kernelName:hy,backendName:"webgl",kernelFunc:zSe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class USe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gL(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function WSe(t){const{inputs:e,backend:n}=t,{x:a}=e,r=n.texData.get(a.dataId),s=new USe(a.shape),i=[gL(a,r.complexTensorInfos.real),gL(a,r.complexTensorInfos.imag)];return n.runWebGLProgram(s,i,i[0].dtype)}const VSe={kernelName:Gw,backendName:"webgl",kernelFunc:WSe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jSe{constructor(e){this.outputShape=[],this.outputShape=oc(e,1),this.variableNames=e.map((i,o)=>`T${o}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let i=1;i<n.length;i++)n[i]=n[i-1]+e[i][1];const a=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<n.length;i++){const o=n[i-1];a.push(`else if (yC < ${n[i]}) setOutput(getT${i}(yR, yC-${o}));`)}const r=n.length,s=n[n.length-1];a.push(`else setOutput(getT${r}(yR, yC-${s}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${a.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HSe{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=oc(e,n);const a=this.outputShape,r=a.length,s=Qn(r),i=cs("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((v,x)=>`T${x}`);const c=new Array(e.length-1);c[0]=e[0][n];for(let v=1;v<c.length;v++)c[v]=c[v-1]+e[v][n];const l=o[n],u=o.slice(-2),d=o.join();let h=`if (${l} < ${c[0]}) {
        return getChannel(
            getT0(${d}), vec2(${u.join()}));
        }`;for(let v=1;v<c.length;v++){const x=c[v-1];h+=`
        if (${l} < ${c[v]}  && ${l} >= ${c[v-1]}) {
          return getChannel(
            getT${v}(${wv(o,l,x)}),
            vec2(${wv(u,l,x)}));
        }`}const m=c.length,y=c[c.length-1];h+=`
        return getChannel(
          getT${m}(${wv(o,l,y)}),
          vec2(${wv(u,l,y)}));`,this.userCode=`
      float getValue(${o.map(v=>"int "+v)}) {
        ${h}
      }

      void main() {
        ${s} coords = getOutputCoords();
        vec4 result = vec4(getValue(${i}), 0., 0., 0.);

        ${i[r-1]} = ${i[r-1]} + 1;
        if (${i[r-1]} < ${a[r-1]}) {
          result.g = getValue(${i});
        }

        ${i[r-2]} = ${i[r-2]} + 1;
        if (${i[r-2]} < ${a[r-2]}) {
          result.a = getValue(${i});
        }

        ${i[r-1]} = ${i[r-1]} - 1;
        if (${i[r-2]} < ${a[r-2]} &&
            ${i[r-1]} < ${a[r-1]}) {
          result.b = getValue(${i});
        }
        setOutput(result);
      }
    `}}function wv(t,e,n){const a=t.indexOf(e);return t.map((s,i)=>i===a?`${s} - ${n}`:s).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A_(t){const{inputs:e,backend:n}=t,{input:a}=e,r=n.texData.get(a.dataId);return Ys({inputs:{x:r.complexTensorInfos.imag},backend:n})}const KSe={kernelName:pC,backendName:"webgl",kernelFunc:A_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _0(t,e,n){const a=t[0].dtype;if(a==="complex64"){const m=t.map(b=>_1({inputs:{input:b},backend:n})),y=t.map(b=>A_({inputs:{input:b},backend:n})),v=_0(m,e,n),x=_0(y,e,n),k=Wu({inputs:{real:v,imag:x},backend:n});return m.forEach(b=>n.disposeIntermediateTensorInfo(b)),y.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(x),k}let r=n.shouldExecuteOnCPU(t);if(a==="string"&&(r=!0),r){const m=t.map(A=>{const C=[-1,Me(A.shape.slice(e))];return ct({inputs:{x:A},backend:n,attrs:{shape:C}})}),y=m.map(A=>({vals:n.readSync(A.dataId),shape:A.shape})),v=oc(m.map(A=>A.shape),1),x=m[0].shape[0]===1,k=L2e(y,v,a,x),b=oc(t.map(A=>A.shape),e),_=n.makeTensorInfo(b,a,k);return m.forEach(A=>n.disposeIntermediateTensorInfo(A)),_}const s=t.filter(m=>Me(m.shape)>0),i=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&s[0].shape.length>1;if(s.length===1){const m=i?new tc(t[0].shape,Ql):new tu(t[0].shape,Ql);return n.runWebGLProgram(m,t,a)}const o=Ce().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(s.length>o){const m=[];for(let v=0;v<s.length;v+=o){const x=s.slice(v,v+o);m.push(_0(x,e,n))}const y=_0(m,e,n);for(const v of m)n.disposeIntermediateTensorInfo(v);return y}if(i){const m=new HSe(s.map(y=>y.shape),e);return n.runWebGLProgram(m,s,a)}const{tensors2D:c,outShape:l}=qSe(s,e,n),u=new jSe(c.map(m=>m.shape)),d=n.runWebGLProgram(u,c,a);c.forEach(m=>n.disposeIntermediateTensorInfo(m));const h=ct({inputs:{x:d},attrs:{shape:l},backend:n});return n.disposeIntermediateTensorInfo(d),h}function qSe(t,e,n){const a=oc(t.map(s=>s.shape),e);return{tensors2D:t.map(s=>ct({inputs:{x:s},attrs:{shape:[-1,Me(s.shape.slice(e))]},backend:n})),outShape:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vW(t){const{inputs:e,backend:n,attrs:a}=t,{axis:r}=a,s=yn(r,e[0].shape)[0],i=e.map(l=>l.shape);UI(i,s);const o=oc(e.map(l=>l.shape),s);if(Me(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const c=e.filter(l=>Me(l.shape)>0);return c.length===1?Ys({inputs:{x:c[0]},backend:n}):_0(c,s,n)}const XSe={kernelName:Uw,backendName:"webgl",kernelFunc:vW};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kW{constructor(e,n=!1,a=null,r=!1,s=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,o=e.padInfo.left,c=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,h=e.filterHeight,m=e.filterWidth,y=Math.floor(e.inChannels/4)*4,v=e.inChannels%4,x=e.dataFormat==="channelsLast",k=x?1:2,b=x?2:3,_=x?3:1;let A="",S="";a&&(r?A=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:s?A=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:A=`
          float activation(float x) {
            ${a}
          }
        `,S="result = activation(result);");const C=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${A}

      const ivec2 strides = ivec2(${c}, ${l});
      const ivec2 pads = ivec2(${i}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${_}];

        ivec2 xRCCorner =
            ivec2(coords[${k}], coords[${b}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${h}; wR++) {
          int xR = xRCorner + wR * ${u};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${m}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${y}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${x}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${v===1}) {

              if (${x}) {
                dotProd +=
                    getX(batch, xR, xC, ${y}) *
                    getW(wR, wC, ${y}, d2);
              } else {
                dotProd +=
                    getX(batch, ${y}, xR, xC) *
                    getW(wR, wC, ${y}, d2);
              }

            } else if (${v===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${y}, d2),
                getW(wR, wC, ${y} + 1, d2)
              );

              if (${x}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${y}),
                  getX(batch, xR, xC, ${y} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${y}, xR, xC),
                  getX(batch, ${y} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${v===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${y}, d2),
                getW(wR, wC, ${y} + 1, d2),
                getW(wR, wC, ${y} + 2, d2)
              );

              if (${x}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${y}),
                  getX(batch, xR, xC, ${y} + 1),
                  getX(batch, xR, xC, ${y} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${y}, xR, xC),
                  getX(batch, ${y} + 1, xR, xC),
                  getX(batch, ${y} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${C}
        ${S}
        setOutput(result);
      }
    `}}class YSe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,a=e.padInfo.top,r=e.padInfo.left,s=e.strideDepth,i=e.strideHeight,o=e.strideWidth,c=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,h=e.filterHeight,m=e.filterWidth,y=Math.floor(e.inChannels/4)*4,v=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${s}, ${i}, ${o});
      const ivec3 pads = ivec3(${n}, ${a}, ${r});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${c};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${h}; wR++) {
            int xR = xRCorner + wR * ${l};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${m}; wC++) {
              int xC = xCCorner + wC * ${u};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${y}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${v===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${y}) *
                  getW(wF, wR, wC, ${y}, d2);
              } else if (${v===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${y}),
                  getX(batch, xF, xR, xC, ${y} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${y}, d2),
                  getW(wF, wR, wC, ${y} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${v===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${y}),
                  getX(batch, xF, xR, xC, ${y} + 1),
                  getX(batch, xF, xR, xC, ${y} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${y}, d2),
                  getW(wF, wR, wC, ${y} + 1, d2),
                  getW(wF, wR, wC, ${y} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wW{constructor(e,n=!1,a=null,r=!1,s=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Kr(this.outputShape.length);const i=e.padInfo.left,o=e.strideWidth,c=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,d=u;let h=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let x=0;x<u;x++)h+=`
           vec4 xTexelC${x*2};
           int xTexelC${x*2}Ready;
           vec4 xTexelC${x*2+1};
           int xTexelC${x*2+1}Ready;
           vec4 xC${x};`;h+=`
     for (int r = 0; r < ${l}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let x=0;x<u;x++)h+=`
           xTexelC${x*2} = vec4(0.0);
           xTexelC${x*2}Ready = 0;
           xTexelC${x*2+1} = vec4(0.0);
           xTexelC${x*2+1}Ready = 0;
           xC${x} = vec4(0.0);`;h+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let x=0;x<(d+1)/2;x++){const k=x*2;if(h+=`
           xC = xCCorner + ${k*c};
           `,o===1){if(k<u&&(i%2===1?(h+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k}Ready == 0) {
                   xTexelC${k} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${k}.zw = vec2(0.0);
                   }
                   xTexelC${k}Ready = 1;
                 }
               `,c===1&&k>0?h+=`
                 xC${k} = vec4(xTexelC${k-2}.zw, xTexelC${k}.xy);
                 `:h+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${k} = vec4(previous.zw, xTexelC${k}.xy);
                   } else {
                     xC${k} = vec4(0.0, 0.0, xTexelC${k}.xy);
                   }
                   `):h+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${k}Ready == 0) {
                   xTexelC${k} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${k}.zw = vec2(0.0);
                   }
                   xTexelC${k}Ready = 1;
                 }

                 xC${k} = xTexelC${k};
                 `,k+1<u)){const b=i%2===0?zE(c):c;c%2===0&&i%2===1||c%2!==0&&i%2!==1?(h+=`
                   xCOffset = xC + imod(pads[1], 2) + ${b};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k+1}Ready == 0) {
                     xTexelC${k+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${k+1}.zw = vec2(0.0);
                     }
                     xTexelC${k+1}Ready = 1;
                   }
                   `,c>1?h+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${k+1} = vec4(previous.zw, xTexelC${k+1}.xy);
                     } else {
                      xC${k+1} = vec4(0.0, 0.0, xTexelC${k+1}.xy);
                     }
                     `:h+=`
                     xC${k+1} = vec4(xTexelC${k}.zw, xTexelC${k+1}.xy);
                     `):b===1?h+=`
                     xC${k+1} = xTexelC${k};
                     `:h+=`
                     xCOffset = xC + ${b};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k+1}Ready == 0) {
                       xTexelC${k+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${k+1}.zw = vec2(0.0);
                       }
                       xTexelC${k+1}Ready = 1;
                     }

                     xC${k+1} = xTexelC${k+1};
                     `}}else k<u&&(i%2===1?(h+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k}Ready == 0) {
                   xTexelC${k} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${k}.zw = vec2(0.0);
                   }
                   xTexelC${k}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${k+1}Ready == 0) {
                   xTexelC${k+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${k+1}.zw = vec2(0.0);
                   }
                   xTexelC${k+1}Ready = 1;
                 }

                 xC${k} = vec4(xTexelC${k}.zw, xTexelC${k+1}.zw);
               `,k+1<u&&(h+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${k+1} = vec4(xTexelC${k+1}.xy, final.xy);
                 `)):(h+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${k}Ready == 0) {
                   xTexelC${k} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${k}.zw = vec2(0.0);
                   }
                   xTexelC${k}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${k+1}Ready == 0) {
                   xTexelC${k+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${k+1}.zw = vec2(0.);
                   }
                   xTexelC${k+1}Ready = 1;
                 }

                 xC${k} = vec4(
                   xTexelC${k}.xy, xTexelC${k+1}.xy);
               `,k+1<u&&(h+=`
                   xC${k+1} = vec4(xTexelC${k}.zw, xTexelC${k+1}.zw);
                 `)));k<u&&(h+=`
             wTexel = getW(r, ${k}, d1, d2);
             dotProd += xC${k}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${k}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,k+1<u&&(h+=`
               wTexel = getW(r, ${k+1}, d1, d2);
               dotProd += xC${k+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${k+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}h+=`
     }
   `,h+=`
     }
   `,h+=`
     }
   `;let m="",y="";a&&(r?m=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${a}
         }`:s?m=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${a}
         }`:m=`vec4 activation(vec4 x) {
           ${a}
         }`,y="result = activation(result);");const v=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${m}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${h}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${v}
         ${y}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZSe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Kr(this.outputShape.length);const{dataFormat:a}=n,r=xs(),s=a==="channelsLast",i=s?1:2,o=s?2:3,c=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let u=0;u<=1;u++)for(let d=0;d<=1;d++)l+=`
          blockIndex = rc.z + ${d};
          pos = rc.y + ${u};

          ${c}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${i}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${o}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${s}) {
                  innerDims = vec2(d1, ch);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${l}

        ${r.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vk(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function bW({x:t,filter:e,convInfo:n,backend:a,bias:r=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:o=null}){const c=t.shape,l=a.texData.get(t.dataId),u=n.inChannels,d=c[0]*c[1]*c[2],h=n.outChannels,m=n.dataFormat==="channelsLast",y=!1,v=!1;let x;const k=[];if(s!=null){const A=Vk(s.shape,m);A!=null&&(s=ct({inputs:{x:s},backend:a,attrs:{shape:A}}),k.push(s))}if(r!=null){const A=Vk(r.shape,m);A!=null&&(r=ct({inputs:{x:r},backend:a,attrs:{shape:A}}),k.push(r))}if(!((d===1||h===1)&&u>hW)&&l.isPacked&&m&&l.texture!=null&&c[2]%2!==0&&Sn(l.shape.slice(-3),c.slice(-3))){const A=c[0]*c[1]*(c[2]+1),S={dataId:t.dataId,shape:[1,A,n.inChannels],dtype:t.dtype},C=l.shape;l.shape=l.shape.slice(),l.shape[l.shape.length-2]++,K(Uk(l.shape,S.shape),()=>`packed reshape ${l.shape} to ${S.shape} isn't free`);const E=ct({inputs:{x:e},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}});k.push(E);const D=Wk({a:S,b:E,backend:a,transposeA:y,transposeB:v,bias:r,activation:o,preluActivationWeights:s,leakyreluAlpha:i}),I=a.texData.get(D.dataId);K(I.isPacked,()=>"batchMatMul result is expected to be packed"),l.shape=C,I.shape=n.outShape,x=Ys({inputs:{x:D},backend:a}),x.shape=n.outShape,k.push(D)}else{const A=n.outHeight*n.outWidth,S=ct({inputs:{x:t},backend:a,attrs:{shape:m?[n.batchSize,A,n.inChannels]:[n.batchSize,n.inChannels,A]}}),C=ct({inputs:{x:e},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}}),E=Wk({a:m?S:C,b:m?C:S,transposeA:!m,transposeB:v,backend:a,bias:r,activation:o,preluActivationWeights:s,leakyreluAlpha:i});x=ct({inputs:{x:E},backend:a,attrs:{shape:n.outShape}}),k.push(S),k.push(C),k.push(E)}for(const A of k)a.disposeIntermediateTensorInfo(A);return x}function _W({x:t,filter:e,convInfo:n,backend:a,bias:r=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:o=null}){const{filterWidth:c,filterHeight:l,inChannels:u,outWidth:d,outHeight:h,dataFormat:m}=n,y=m==="channelsLast",v=c*l*u,x=h*d,k=[n.batchSize,v,x],b=!0,_=!1,A=[];if(s!=null){const q=Vk(s.shape,y);q!=null&&(s=ct({inputs:{x:s},backend:a,attrs:{shape:q}}),A.push(s))}if(r!=null){const q=Vk(r.shape,y);q!=null&&(r=ct({inputs:{x:r},backend:a,attrs:{shape:q}}),A.push(r))}const S=ct({inputs:{x:e},backend:a,attrs:{shape:[1,v,Me(e.shape)/v]}});A.push(S);const C=new ZSe(k,n),E=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],D=a.runWebGLProgram(C,[t],"float32",E),I=ct({inputs:{x:D},backend:a,attrs:{shape:k}});A.push(D),A.push(I);const P=r!=null,R=s!=null,B=o==="leakyrelu",U=o?bg(o,!0):null,V=new pW(y?I.shape:S.shape,y?S.shape:I.shape,y?[n.batchSize,x,n.outChannels]:[n.batchSize,n.outChannels,x],b,_,P,U,R,B),j=y?[I,S]:[S,I];if(r&&j.push(r),R&&j.push(s),B){const q=a.makeTensorInfo([],"float32",Pu(i,"float32"));j.push(q),A.push(q)}const W=a.runWebGLProgram(V,j,"float32"),J=ct({inputs:{x:W},backend:a,attrs:{shape:n.outShape}});A.push(W);for(const q of A)a.disposeIntermediateTensorInfo(q);return J}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QSe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s}=e,{strides:i,pad:o,dataFormat:c,dilations:l,dimRoundingMode:u}=a,d=wl(c),h=br(r.shape,s.shape,i,l,o,u,!1,d);let m;if(h.filterHeight===1&&h.filterWidth===1&&h.dilationHeight===1&&h.dilationWidth===1&&h.strideHeight===1&&h.strideWidth===1&&(h.padInfo.type==="SAME"||h.padInfo.type==="VALID"))m=bW({x:r,filter:s,convInfo:h,backend:n});else if(h.strideWidth<=2&&d==="channelsLast"&&Ce().getBool("WEBGL_EXP_CONV")){const v=new wW(h),x=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];m=n.runWebGLProgram(v,[r,s],"float32",x)}else if(Ce().getBool("WEBGL_CONV_IM2COL"))m=_W({x:r,filter:s,convInfo:h,backend:n});else{const v=new kW(h);m=n.runWebGLProgram(v,[r,s],"float32")}const y=ct({inputs:{x:m},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(m),y}const JSe={kernelName:Ww,backendName:"webgl",kernelFunc:QSe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eTe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,a=e.strideWidth,r=e.padInfo.top,s=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${a} - ${s};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${i?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class tTe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,a=e.filterWidth,r=e.strideHeight,s=e.strideWidth,i=e.dataFormat==="channelsLast",o=n-1-e.padInfo.top,c=a-1-e.padInfo.left,l=i?1:2,u=i?2:3,d=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${c});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${d}];

        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${a}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${a} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${i}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class nTe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,a=e.strideHeight,r=e.strideWidth,s=e.padInfo.front,i=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${s};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${a} - ${i};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${r} - ${o};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class aTe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,a=e.filterHeight,r=e.filterWidth,s=e.strideDepth,i=e.strideHeight,o=e.strideWidth,c=n-1-e.padInfo.front,l=a-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${c}, ${l}, ${u});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${s}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${a}; wR++) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${a} - 1 - wR;

            for (int wC = 0; wC < ${r}; wC++) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${r} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,dy:s}=e,{strides:i,pad:o,dataFormat:c,dimRoundingMode:l,filterShape:u}=a,d=wl(c),h=br(r.shape,u,i,1,o,l,!1,d),m=new eTe(h);return n.runWebGLProgram(m,[r,s],"float32")}const sTe={kernelName:YE,backendName:"webgl",kernelFunc:rTe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iTe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=Kr(this.outputShape.length);const n=e.filterHeight,a=e.filterWidth,r=n-1-e.padInfo.top,s=a-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${r}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${a}; wC++) {
            int wCPerm = ${a} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oTe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,filter:s}=e,{inputShape:i,strides:o,pad:c,dataFormat:l,dimRoundingMode:u}=a,d=wl(l),h=br(i,s.shape,o,1,c,u,!1,d);if(Ce().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&d==="channelsLast"){const m=[[h.strideHeight,h.strideWidth]],y=new iTe(h);return n.runWebGLProgram(y,[r,s],"float32",m)}else{const m=new tTe(h);return n.runWebGLProgram(m,[r,s],"float32")}}const cTe={kernelName:Vw,backendName:"webgl",kernelFunc:oTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c}=a,l=$u(r.shape,s.shape,i,c,o),u=new YSe(l);return n.runWebGLProgram(u,[r,s],"float32")}const uTe={kernelName:jw,backendName:"webgl",kernelFunc:lTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,dy:s}=e,{strides:i,pad:o,filterShape:c}=a,l=$u(r.shape,c,i,1,o),u=new nTe(l);return n.runWebGLProgram(u,[r,s],"float32")}const dTe={kernelName:ZE,backendName:"webgl",kernelFunc:fTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pTe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,filter:s}=e,{pad:i,strides:o,inputShape:c}=a,l=$u(c,s.shape,o,1,i),u=new aTe(l);return n.runWebGLProgram(u,[r,s],"float32")}const hTe={kernelName:QE,backendName:"webgl",kernelFunc:pTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mTe=am+`
  return cos(x);
`,gTe=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${Od}
  return result;
`,yTe=Fn({opSnippet:mTe,packedOpSnippet:gTe}),xTe={kernelName:my,backendName:"webgl",kernelFunc:yTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vTe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,kTe=Fn({opSnippet:vTe}),wTe={kernelName:gy,backendName:"webgl",kernelFunc:kTe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bTe{constructor(e,n,a,r,s){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,o,c,l]=e,[u]=n,[d,h]=a;this.outputShape=[u,d,h,l];const m=r==="bilinear"?1:0,[y,v]=[`${o-1}.0`,`${c-1}.0`],[x,k,b]=d>1?[`${(o-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${y} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${y}`],[_,A,S]=h>1?[`${(c-1)/(h-1)}`,"(x2-x1) * width_ratio",`x1*${v} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${v}`];this.userCode=`
      const float height_ratio = float(${x});
      const float width_ratio = float(${_});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${i}) {
          return;
        }

        float height_scale = ${k};
        float width_scale = ${A};

        float in_y = ${b};
        if( in_y < 0.0 || in_y > ${y} ) {
          setOutput(float(${s}));
          return;
        }
        float in_x = ${S};
        if( in_x < 0.0 || in_x > ${v} ) {
          setOutput(float(${s}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${m} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Te=t=>{const{inputs:e,backend:n,attrs:a}=t,{image:r,boxes:s,boxInd:i}=e,{cropSize:o,method:c,extrapolationValue:l}=a,u=new bTe(r.shape,s.shape,o,c,l);return n.runWebGLProgram(u,[r,s,i],"float32")},ATe={kernelName:eC,backendName:"webgl",kernelFunc:_Te};var Ag;(function(t){t.Prod="*",t.Sum="+"})(Ag||(Ag={}));class yL{constructor(e,n,a,r){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const s=this.outputShape.length,i=this.op===Ag.Prod?"1.0":"0.0",o=a?i:`getX(${xL(s,"coords",this.op)})`,c=this.outputShape[this.outputShape.length-1];let l="",u="";a?(l=r?`end != ${c-1}`:"end != 0",u=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${c}`:"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Qn(s)} coords = getOutputCoords();
        int end = ${vL(s,"coords",this.op)};
        float val = ${o};
        int pow2 = int(pow(2.0, index));
        if (${l}) {
          int idx = ${u};
          ${vL(s,"coords",this.op)} = idx;
          val ${this.op}= getX(${xL(s,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function xL(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function vL(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AW(t,e,n,a,r,s){const i=e.shape.length,o=ka([a],i);let c=e;o!=null&&(c=ms({inputs:{x:e},backend:n,attrs:{perm:o}}));const l=Ba(1,i)[0];if(l!==i-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${a}`);const u=c.shape[l];let d=Ys({inputs:{x:c},backend:n});for(let h=0;h<=Math.ceil(Math.log2(u))-1;h++){const m=new yL(t,c.shape,!1,s),y=[[h]],v=d;d=n.runWebGLProgram(m,[d],d.dtype,y),n.disposeIntermediateTensorInfo(v)}if(r){const h=new yL(t,c.shape,r,s),m=d;d=n.runWebGLProgram(h,[d],d.dtype),n.disposeIntermediateTensorInfo(m)}if(o!=null){const h=Lu(o),m=ms({inputs:{x:d},backend:n,attrs:{perm:h}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(c),m}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,exclusive:i,reverse:o}=a;return AW(Ag.Prod,r,n,s,i,o)}const STe={kernelName:JE,backendName:"webgl",kernelFunc:NTe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,exclusive:i,reverse:o}=a;return AW(Ag.Sum,r,n,s,i,o)}const ETe={kernelName:Hw,backendName:"webgl",kernelFunc:TTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,weights:s}=e,{size:i,binaryOutput:o}=a;if(r.shape.length===1){const c=n.readSync(r.dataId),l=n.readSync(s.dataId),u=rW(c,l,s.dtype,s.shape,i);return n.makeTensorInfo([i],s.dtype,u)}else if(r.shape.length===2){const c=n.bufferSync(r),l=n.bufferSync(s),u=P2e(c,l,i,o);return n.makeTensorInfo(u.shape,s.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const ITe={kernelName:tC,backendName:"webgl",kernelFunc:CTe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DTe{constructor(e,n,a){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=a,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{blockSize:s,dataFormat:i}=a,o=r.shape[0],c=i==="NHWC"?r.shape[1]:r.shape[2],l=i==="NHWC"?r.shape[2]:r.shape[3],u=i==="NHWC"?r.shape[3]:r.shape[1],d=c*s,h=l*s,m=u/(s*s),y=i==="NHWC"?[o,d,h,m]:[o,m,d,h],v=new DTe(y,s,i);return n.runWebGLProgram(v,[r],r.dtype)}const PTe={kernelName:nC,backendName:"webgl",kernelFunc:RTe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NW{constructor(e,n=!1,a=null,r=!1,s=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Kr(this.outputShape.length);const i=e.filterHeight,o=e.filterWidth,c=e.outChannels/e.inChannels;let l="",u="";a&&(r?l=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:s?l=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:l=`
          float activation(float x) {
            ${a}
          }
        `,u="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${l}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${c};
        int q = d2 - d1 * ${c};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${i}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${o}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${d}
        ${u}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SW{constructor(e,n=!1,a=null,r=!1,s=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Kr(this.outputShape.length);const i=e.outChannels/e.inChannels,o=e.padInfo.left,c=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,h=d;let m=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let k=0;k<d;k++)m+=`
          vec4 xTexelC${k*2};
          int xTexelC${k*2}Ready;
          vec4 xTexelC${k*2+1};
          int xTexelC${k*2+1}Ready;
          vec4 xC${k};`;m+=`
    for (int r = 0; r < ${u}; r++) {
      `;for(let k=0;k<d;k++)m+=`
          xTexelC${k*2} = vec4(0.0);
          xTexelC${k*2}Ready = 0;
          xTexelC${k*2+1} = vec4(0.0);
          xTexelC${k*2+1}Ready = 0;
          xC${k} = vec4(0.0);`;m+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let k=0;k<(h+1)/2;k++){const b=k*2;if(m+=`
          xC = xCCorner + ${b*l};
          `,c===1){if(b<d&&(o%2===1?(m+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }
              `,l===1&&b>0?m+=`
                xC${b} = vec4(xTexelC${b-2}.zw, xTexelC${b}.xy);
                `:m+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${b} = vec4(previous.zw, xTexelC${b}.xy);
                  } else {
                    xC${b} = vec4(0.0, 0.0, xTexelC${b}.xy);
                  }
                  `):m+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xC${b} = xTexelC${b};
                `,b+1<d)){const _=o%2===0?zE(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(m+=`
                  xCOffset = xC + imod(pads[1], 2) + ${_};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                    xTexelC${b+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${b+1}.zw = vec2(0.0);
                    }
                    xTexelC${b+1}Ready = 1;
                  }
                  `,l>1?m+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${b+1} = vec4(previous.zw, xTexelC${b+1}.xy);
                    } else {
                     xC${b+1} = vec4(0.0, 0.0, xTexelC${b+1}.xy);
                    }
                    `:m+=`
                    xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.xy);
                    `):_===1?m+=`
                    xC${b+1} = xTexelC${b};
                    `:m+=`
                    xCOffset = xC + ${_};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                      xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${b+1}.zw = vec2(0.0);
                      }
                      xTexelC${b+1}Ready = 1;
                    }

                    xC${b+1} = xTexelC${b+1};
                    `}}else b<d&&(o%2===1?(m+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.0);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
              `,b+1<d&&(m+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${b+1} = vec4(xTexelC${b+1}.xy, final.xy);
                `)):(m+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(
                  xTexelC${b}.xy, xTexelC${b+1}.xy);
              `,b+1<d&&(m+=`
                  xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
                `)));b<d&&(m+=`
            wTexel = getW(r, ${b}, d1, q);
            dotProd += xC${b} * vec4(wTexel.xz, wTexel.xz);
          `,b+1<d&&(m+=`
              wTexel = getW(r, ${b+1}, d1, q);
              dotProd += xC${b+1} * vec4(wTexel.xz, wTexel.xz);
            `))}m+=`
    }
  `,m+=`
      }
    `;let y="",v="";a&&(r?y=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:s?y=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:y=`vec4 activation(vec4 x) {
          ${a}
        }`,v="result = activation(result);");const x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${y}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${i};
        int q = d2 - d1 * ${i};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${m}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${x}
        ${v}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c,dimRoundingMode:l}=a;let u=c;u==null&&(u=[1,1]),K($r(i,u),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const d=br(r.shape,s.shape,i,u,o,l,!0);let h;Ce().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?h=new SW(d):h=new NW(d);const m=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(h,[r,s],"float32",m)}const OTe={kernelName:Kw,backendName:"webgl",kernelFunc:FTe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Te{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,a=e.strideWidth,r=e.padInfo.top,s=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${i} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${a} - ${s};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class LTe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,a=e.filterWidth,r=e.strideHeight,s=e.strideWidth,i=n-1-e.padInfo.top,o=a-1-e.padInfo.left,c=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${a}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${a} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${c}; dm++) {
              int d2 = d1 * ${c} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,dy:s}=e,{strides:i,dilations:o,pad:c,dimRoundingMode:l,filterShape:u}=a,d=br(r.shape,u,i,o,c,l,!0),h=new $Te(d);return n.runWebGLProgram(h,[r,s],"float32")}const BTe={kernelName:aC,backendName:"webgl",kernelFunc:MTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zTe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,filter:s}=e,{strides:i,dilations:o,pad:c,dimRoundingMode:l,inputShape:u}=a,d=br(u,s.shape,i,o,c,l,!0),h=new LTe(d);return n.runWebGLProgram(h,[r,s],"float32")}const GTe={kernelName:rC,backendName:"webgl",kernelFunc:zTe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UTe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WTe(t){const{inputs:e,backend:n}=t,{x:a}=e,r=[...a.shape,...a.shape],s=Me(a.shape),i=ct({inputs:{x:a},backend:n,attrs:{shape:[s]}}),o=new UTe(s),c=n.runWebGLProgram(o,[i],i.dtype),l=ct({inputs:{x:c},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(c),l}const VTe={kernelName:sC,backendName:"webgl",kernelFunc:WTe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jTe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:a,padInfo:r,strideHeight:s,strideWidth:i,filterHeight:o,filterWidth:c,dilationHeight:l,dilationWidth:u}=e,{top:d,left:h}=r;this.userCode=`
      const ivec2 strides = ivec2(${s}, ${i});
      const ivec2 pads = ivec2(${d}, ${h});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${o}; h++) {
          int hIn = hBeg + h * ${l};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${c}; w++) {
              int wIn = wBeg + w * ${u};

              if (wIn >= 0 && wIn < ${a}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HTe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s}=e,{strides:i,pad:o,dilations:c}=a,l=t1(r.shape,s.shape,i,o,"NHWC",c);let u;const d=new jTe(l);u=n.runWebGLProgram(d,[r,s],"float32");const h=ct({inputs:{x:u},backend:n,attrs:{shape:l.outShape}});return n.disposeIntermediateTensorInfo(u),h}const KTe={kernelName:qw,backendName:"webgl",kernelFunc:HTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qTe(t){const{inputs:e,backend:n,attrs:a}=t,{equation:r}=a,s=e,{allDims:i,summedDims:o,idDims:c}=e3(r,s.length);n3(i.length,c,s);const{path:l,steps:u}=a3(o,c),d=u.length;let h=null,m=i.length;const y=[];for(let v=0;v<d;++v){for(const x of u[v]){const{permutationIndices:k,expandDims:b}=t3(m,c[x]);let _;r3(k)?_=s[x]:(_=ms({inputs:{x:s[x]},backend:n,attrs:{perm:k}}),y.push(_));const A=_.shape.slice();for(let S=0;S<b.length;++S)A.splice(b[S],0,1);Sn(_.shape,A)||(_=ct({inputs:{x:_},backend:n,attrs:{shape:A}}),y.push(_)),h===null?h=_:(h=j3({inputs:{a:_,b:h},backend:n}),y.push(h))}v<d-1&&(l[v]>=0&&(h=__({inputs:{x:h},backend:n,attrs:{axis:l[v]-(i.length-m),keepDims:!1}}),y.push(h)),m--)}for(const v of y)v!==h&&n.disposeIntermediateTensorInfo(v);return h}const XTe={kernelName:iC,backendName:"webgl",kernelFunc:qTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YTe="return (x >= 0.0) ? x : (exp(x) - 1.0);",ZTe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,QTe=Fn({opSnippet:YTe,packedOpSnippet:ZTe}),JTe={kernelName:xy,backendName:"webgl",kernelFunc:QTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eEe="return (b >= 0.0) ? a : a * (b + 1.0);",tEe=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,nEe=t=>{const{inputs:e,backend:n}=t,{dy:a,y:r}=e,s=Ce().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nm(tEe,a.shape,r.shape):new dd(eEe,a.shape,r.shape);return n.runWebGLProgram(s,[a,r],a.dtype)},aEe={kernelName:oC,backendName:"webgl",kernelFunc:nEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rEe=`
  return vec4(equal(a, b));
`,sEe="return float(a == b);",iEe=Br({opSnippet:sEe,packedOpSnippet:rEe,dtype:"bool",cpuKernelImpl:M2e}),oEe={kernelName:Xw,backendName:"webgl",kernelFunc:iEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cEe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${KI};
  float a1 = ${qI};
  float a2 = ${XI};
  float a3 = ${YI};
  float a4 = ${ZI};
  float a5 = ${QI};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,lEe=Fn({opSnippet:cEe}),uEe={kernelName:vy,backendName:"webgl",kernelFunc:lEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fEe=am+`
  return exp(x);
`,dEe=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,TW=Fn({opSnippet:fEe,packedOpSnippet:dEe,cpuKernelImpl:B2e,dtype:"float32"}),pEe={kernelName:ky,backendName:"webgl",kernelFunc:TW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $T(t){const{inputs:e,attrs:n,backend:a}=t,{dim:r}=n,{input:s}=e,i=s.shape.length,o=s.shape.slice();let c=r;return r<0&&(K(-(i+1)<=r,()=>`Axis must be in the interval [${-(i+1)}, ${i}]`),c=i+r+1),o.splice(c,0,1),ct({inputs:{x:s},backend:a,attrs:{shape:o}})}const hEe={kernelName:Yw,backendName:"webgl",kernelFunc:$T};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kL="return exp(x) - 1.0;",mEe=Fn({opSnippet:kL,packedOpSnippet:kL,cpuKernelImpl:z2e}),gEe={kernelName:wy,backendName:"webgl",kernelFunc:mEe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wL{constructor(e,n,a){this.variableNames=["real","imag"];const r=n[1];this.outputShape=n;const s=a?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=a?`${r}.0`:"1.0";let o;if(e==="real")o="return real * expR - imag * expI;";else if(e==="imag")o="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${s};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${o}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${r});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${r}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${i};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EW(t,e,n){const a=n.texData.get(t.dataId),r=Me(t.shape),s=t.shape[t.shape.length-1],i=r/s,o=ct({inputs:{x:t},backend:n,attrs:{shape:[i,s]}}),c=o.shape,l=new wL("real",c,e),u=new wL("imag",c,e),d=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:c},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:c}],h=n.runWebGLProgram(l,d,"float32"),m=n.runWebGLProgram(u,d,"float32"),y=Wu({inputs:{real:h,imag:m},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m);const v=ct({inputs:{x:y},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(y),v}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yEe(t){const{inputs:e,backend:n}=t,{input:a}=e;return EW(a,!1,n)}const xEe={kernelName:cC,backendName:"webgl",kernelFunc:yEe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vEe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A1(t){const{backend:e,attrs:n}=t,{shape:a,value:r}=n;let{dtype:s}=n;if(s=s||Uh(r),s==="string"){const i=La(s,Me(a));return i.fill(r),e.makeTensorInfo(a,s,i)}else{const i=new vEe(a,r),o=[[r]];return e.runWebGLProgram(i,[],s,o)}}const kEe={kernelName:lC,backendName:"webgl",kernelFunc:A1};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wEe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bEe={kernelName:uC,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,a=e,r=new wEe(n.shape);return a.runWebGLProgram(r,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bL="return floor(x);",_Ee=Fn({opSnippet:bL,packedOpSnippet:bL,cpuKernelImpl:G2e}),AEe={kernelName:by,backendName:"webgl",kernelFunc:_Ee};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NEe=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,SEe=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,TEe=Br({opSnippet:NEe,packedOpSnippet:SEe,dtype:"int32"}),EEe={kernelName:_y,backendName:"webgl",kernelFunc:TEe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CEe{constructor(e){this.variableNames=["A"];const n=xs(),[a,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${a}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IEe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=xs(),[a,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${r}.0, ${a}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DEe={kernelName:jS,backendName:"webgl",kernelFunc:REe};let Fp,UN=Ce().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function REe(t){const{inputs:e,backend:n,attrs:a}=t;let{pixels:r}=e;const{numChannels:s}=a,i=typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement,o=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,[c,l]=i?[r.videoWidth,r.videoHeight]:[r.width,r.height],u=[l,c],d=[l,c,s];if(o||i){const v=Ce().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Fp==null||v!==UN)&&(UN=v,Fp=document.createElement("canvas").getContext("2d",{willReadFrequently:UN})),Fp.canvas.width=c,Fp.canvas.height=l,Fp.drawImage(r,0,0,c,l),r=Fp.canvas}const h=n.makeTensorInfo(u,"int32");n.texData.get(h.dataId).usage=oi.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),r);const m=Ce().getBool("WEBGL_PACK")?new IEe(d):new CEe(d),y=n.runWebGLProgram(m,[h],"int32");return n.disposeData(h.dataId),y}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PEe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s,bias:i,preluActivationWeights:o}=e,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h,activation:m,leakyreluAlpha:y}=a,v=wl(u),x=br(r.shape,s.shape,c,d,l,h,!1,v);let k;const b=[],_=i!=null,A=o!=null,S=m==="leakyrelu",C=()=>{const D=[r,s],I=(P,R)=>{if(R==="NCHW"&&P.shape.length===1&&P.shape[0]!==1){const B=ct({inputs:{x:P},backend:n,attrs:{shape:[P.shape[0],1,1]}});return b.push(B),B}return P};if(_&&D.push(I(i,u)),A&&D.push(I(o,u)),S){const P=n.makeTensorInfo([],"float32",Pu(y,"float32"));D.push(P),b.push(P)}return D};if(x.filterHeight===1&&x.filterWidth===1&&x.dilationHeight===1&&x.dilationWidth===1&&x.strideHeight===1&&x.strideWidth===1&&(x.padInfo.type==="SAME"||x.padInfo.type==="VALID"))k=bW({x:r,filter:s,convInfo:x,backend:n,bias:i,activation:m,preluActivationWeights:o,leakyreluAlpha:y});else if(x.strideWidth<=2&&v==="channelsLast"&&Ce().getBool("WEBGL_EXP_CONV")){const D=m?bg(m,!0):null,I=new wW(x,_,D,A,S),P=[[x.padInfo.top,x.padInfo.left],[x.strideHeight,x.strideWidth],[x.dilationHeight,x.dilationWidth],[x.inHeight,x.inWidth]],R=C();k=n.runWebGLProgram(I,R,"float32",P)}else if(Ce().getBool("WEBGL_CONV_IM2COL"))k=_W({x:r,filter:s,convInfo:x,backend:n,bias:i,activation:m,preluActivationWeights:o,leakyreluAlpha:y});else{const D=m?bg(m,!1):null,I=new kW(x,_,D,A,S),P=C();k=n.runWebGLProgram(I,P,"float32")}const E=ct({inputs:{x:k},backend:n,attrs:{shape:x.outShape}});return b.push(k),b.forEach(D=>n.disposeIntermediateTensorInfo(D)),E}const FEe={kernelName:vk,backendName:"webgl",kernelFunc:PEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OEe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,filter:s,bias:i,preluActivationWeights:o}=e,{strides:c,pad:l,dilations:u,dimRoundingMode:d,activation:h,leakyreluAlpha:m}=a,y=[];let v=u;v==null&&(v=[1,1]),K($r(c,v),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${v}'`);const x=br(r.shape,s.shape,c,v,l,d,!0),k=Ce().getBool("WEBGL_PACK_DEPTHWISECONV")&&x.strideWidth<=2&&x.outChannels/x.inChannels===1,b=h?bg(h,k):null,_=[r,s],A=i!=null,S=o!=null,C=h==="leakyrelu";if(A&&_.push(i),S&&_.push(o),C){const P=n.makeTensorInfo([],"float32",Pu(m,"float32"));_.push(P),y.push(P)}let E;k?E=new SW(x,A,b,S,C):E=new NW(x,A,b,S,C);const D=[[x.padInfo.top,x.padInfo.left],[x.strideHeight,x.strideWidth],[x.dilationHeight,x.dilationWidth],[x.inHeight,x.inWidth]],I=n.runWebGLProgram(E,_,"float32",D);return y.forEach(P=>n.disposeIntermediateTensorInfo(P)),I}const $Ee={kernelName:kk,backendName:"webgl",kernelFunc:OEe};class LEe{constructor(e,n,a,r){this.sliceDim=e,this.strides=n,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=a;const s=Qn(a.length);let i=`
    int index;`;for(let o=0;o<this.sliceDim;o++)i+=`
          index = round(getIndices(coords[0], ${o}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[o]};
          flattenIndex += index * ${this.strides[o]};`;this.userCode=`
         void main() {
          ${s} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${i}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MEe(t){const{inputs:e,backend:n}=t,{params:a,indices:r}=e,s=r.shape,i=s[s.length-1],o=Me(a.shape),[c,l,u,d]=$I(a,r),h=ct({inputs:{x:r},backend:n,attrs:{shape:[l,i]}}),m=ct({inputs:{x:a},backend:n,attrs:{shape:[Me(a.shape)/u,u]}});if(n.shouldExecuteOnCPU([a,r])||a.dtype==="string"){const k=n.readSync(r.dataId),b=n.bufferSync(a),_=U2e(k,b,a.dtype,l,i,u,d,a.shape,o);return n.makeTensorInfo(c,a.dtype,_.values)}const y=new LEe(i,d,[l,u],a.shape),v=n.runWebGLProgram(y,[m,h],m.dtype),x=ct({inputs:{x:v},backend:n,attrs:{shape:c}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),x}const BEe={kernelName:fC,backendName:"webgl",kernelFunc:MEe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zEe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const a=Qn(this.rank),r=GEe(e);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${r}));
      }
    `}}function GEe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[];for(let r=0;r<t.length;r++)r===2?a.push("index"):a.push(`${n[r]}`);return a.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CW(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,indices:s}=e,{axis:i,batchDims:o}=a,c=yn(i,r.shape)[0];if(Ce().get("DEBUG")){const b=n.readSync(s.dataId),_=r.shape[c];for(let A=0;A<b.length;++A){const S=b[A];K(S<=_-1&&S>=0,()=>`GatherV2: the index value ${S} is not in [0, ${_-1}]`)}}const l=i3(r,s,c,o),u=Me(s.shape),d=[],h=ct({inputs:{x:r},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),m=ct({inputs:{x:s},backend:n,attrs:{shape:[l.batchSize,u/l.batchSize]}});d.push(h),d.push(m);const y=[l.batchSize,l.outerSize,u/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const b=n.bufferSync(m),_=n.bufferSync(h),A=W2e(_,b,y);return d.forEach(S=>n.disposeIntermediateTensorInfo(S)),n.makeTensorInfo(l.outputShape,A.dtype,A.values)}const v=new zEe(h.shape,y),x=n.runWebGLProgram(v,[h,m],h.dtype);d.push(x);const k=ct({inputs:{x},backend:n,attrs:{shape:l.outputShape}});return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),k}const UEe={kernelName:Qw,backendName:"webgl",kernelFunc:CW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WEe="return float(a > b);",VEe=`
  return vec4(greaterThan(a, b));
`,jEe=Br({opSnippet:WEe,packedOpSnippet:VEe,cpuKernelImpl:V2e,dtype:"bool"}),HEe={kernelName:Jw,backendName:"webgl",kernelFunc:jEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KEe="return float(a >= b);",qEe=`
  return vec4(greaterThanEqual(a, b));
`,XEe=Br({opSnippet:KEe,packedOpSnippet:qEe,dtype:"bool",cpuKernelImpl:j2e}),YEe={kernelName:Ay,backendName:"webgl",kernelFunc:XEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZEe(t){const{inputs:e,backend:n}=t,{input:a}=e;return EW(a,!0,n)}const QEe={kernelName:dC,backendName:"webgl",kernelFunc:ZEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JEe="return float(!isnan(x) && !isinf(x));",eCe=Fn({opSnippet:JEe,dtype:"bool"}),tCe={kernelName:Sy,backendName:"webgl",kernelFunc:eCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nCe="return float(isinf(x));",aCe=Fn({opSnippet:nCe,dtype:"bool"}),rCe={kernelName:Ty,backendName:"webgl",kernelFunc:aCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sCe="return float(isnan(x));",iCe=Fn({opSnippet:sCe,dtype:"bool"}),oCe={kernelName:Ey,backendName:"webgl",kernelFunc:iCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cCe="return float(a < b);",lCe=`
  return vec4(lessThan(a, b));
`,uCe=Br({opSnippet:cCe,packedOpSnippet:lCe,cpuKernelImpl:H2e,dtype:"bool"}),fCe={kernelName:tb,backendName:"webgl",kernelFunc:uCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dCe="return float(a <= b);",pCe=`
  return vec4(lessThanEqual(a, b));
`,hCe=Br({opSnippet:dCe,packedOpSnippet:pCe,cpuKernelImpl:K2e,dtype:"bool"}),mCe={kernelName:nb,backendName:"webgl",kernelFunc:hCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gCe(t){const{backend:e,attrs:n}=t,{start:a,stop:r,num:s}=n,i=q2e(a,r,s);return e.makeTensorInfo([i.length],"float32",i)}const yCe={kernelName:hC,backendName:"webgl",kernelFunc:gCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xCe=am+`
  return x < 0.0 ? 0./0. : log(x);
`,vCe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,kCe=Fn({opSnippet:xCe,packedOpSnippet:vCe,cpuKernelImpl:X2e}),wCe={kernelName:Cy,backendName:"webgl",kernelFunc:kCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bCe=am+`
  return log(1.0 + x);
`,_Ce=Fn({opSnippet:bCe}),ACe={kernelName:Iy,backendName:"webgl",kernelFunc:_Ce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NCe="return float(a >= 1.0 && b >= 1.0);",SCe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,TCe=Br({opSnippet:NCe,packedOpSnippet:SCe,dtype:"bool"}),ECe={kernelName:ab,backendName:"webgl",kernelFunc:TCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CCe="return float(!(x >= 1.0));",ICe=Fn({opSnippet:CCe}),DCe={kernelName:rb,backendName:"webgl",kernelFunc:ICe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RCe="return float(a >= 1.0 || b >= 1.0);",PCe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,FCe=Br({opSnippet:RCe,packedOpSnippet:PCe,dtype:"bool"}),OCe={kernelName:sb,backendName:"webgl",kernelFunc:FCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Ce{constructor(e,n,a,r,s){this.variableNames=["x"],this.outputShape=[];const i=n,o=e[3]-1;this.outputShape=e;let c;const l=`float(${a}) + float(${r}) * sum`;s===.5?c=`inversesqrt(${l})`:s===1?c=`1.0/(${l})`:c=`exp(log(${l}) * float(-${s}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${i}; j <= ${i}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${o}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${c};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LCe{constructor(e,n,a,r,s){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=n,o=e[3]-1;this.outputShape=e;let c;const l=`float(${a}) + float(${r}) * sum`;s===.5?c=`inversesqrt(${l})`:s===1?c=`1.0/(${l})`:c=`exp(log(${l}) * float(-${s}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${i};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${i}; j <= ${i}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${o}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${c};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MCe=t=>{const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{depthRadius:s,bias:i,alpha:o,beta:c}=a,l=Ce().getBool("WEBGL_PACK_NORMALIZATION")?new LCe(r.shape,s,i,o,c):new $Ce(r.shape,s,i,o,c);return n.runWebGLProgram(l,[r],r.dtype)},BCe={kernelName:ib,backendName:"webgl",kernelFunc:MCe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zCe{constructor(e,n,a,r,s){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=a,this.alpha=r,this.beta=s,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${r}) * norm + float(${a});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${r})
                * float(${s})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${s});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GCe=t=>{const{inputs:e,backend:n,attrs:a}=t,{x:r,y:s,dy:i}=e,{depthRadius:o,bias:c,alpha:l,beta:u}=a,d=new zCe(r.shape,o,c,l,u);return n.runWebGLProgram(d,[r,s,i],r.dtype)},UCe={kernelName:mC,backendName:"webgl",kernelFunc:GCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WCe(t,e,n,a){const r=Me(e),i=Me(t.shape)/r,o=ct({inputs:{x:t},attrs:{shape:[i,r]},backend:a}),c=$d(o,t.dtype,"max",a),l=ct({inputs:{x:c},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(c),l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IW(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{reductionIndices:s,keepDims:i}=a,o=r.shape.length,c=yn(s,r.shape);let l=c;const u=ka(l,o),d=u!=null,h=n.shouldExecuteOnCPU([r]);let m=r;if(d){if(h){const _=n.texData.get(m.dataId).values,A=new Array(o);for(let E=0;E<A.length;E++)A[E]=r.shape[u[E]];const S=W3(_,r.shape,r.dtype,u,A);m=n.makeTensorInfo(A,r.dtype);const C=n.texData.get(m.dataId);C.values=S}else m=b_(r,u,n);l=Ba(l.length,o)}Lr("max",l,o);const[y,v]=_r(m.shape,l);let x=y;i&&(x=Ma(y,c));let k;if(h){const _=n.texData.get(m.dataId).values,A=Y2e(_,Me(v),x,r.dtype);k=n.makeTensorInfo(x,r.dtype);const S=n.texData.get(k.dataId);S.values=A}else k=WCe(m,v,x,n);return d&&n.disposeIntermediateTensorInfo(m),k}const VCe={kernelName:ob,backendName:"webgl",kernelFunc:IW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jCe=V3+`
  return max(a, b);
`,HCe=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Od+`
  return result;
`,KCe=Br({opSnippet:jCe,packedOpSnippet:HCe,cpuKernelImpl:Z2e}),qCe={kernelName:Dy,backendName:"webgl",kernelFunc:KCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XCe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e;w1(r,"maxPool");const{filterSize:s,strides:i,pad:o,dimRoundingMode:c}=a,l=1;K($r(i,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);const u=Ji(r.shape,s,i,l,o,c);if(u.filterWidth===1&&u.filterHeight===1&&Sn(u.inShape,u.outShape))return Ys({inputs:{x:r},backend:n});const d=new _g(u,"max",!1);return n.runWebGLProgram(d,[r],r.dtype)}const YCe={kernelName:cb,backendName:"webgl",kernelFunc:XCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZCe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{filterSize:s,strides:i,pad:o,dataFormat:c,dimRoundingMode:l}=a,u=[1,1,1],d=kl(r.shape,s,i,u,o,l,c),h=new H3(d,"max",!1);return n.runWebGLProgram(h,[r],r.dtype)}const QCe={kernelName:lb,backendName:"webgl",kernelFunc:ZCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JCe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,a=e.strideWidth,r=e.dilationHeight,s=e.effectiveFilterHeight,i=e.effectiveFilterWidth,o=s-1-e.padInfo.top,c=i-1-e.padInfo.left,l=s*i-1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${c});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${s};
          wR += ${r}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${i}; wC++) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${i} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class eIe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,a=e.strideHeight,r=e.strideWidth,s=e.dilationDepth,i=e.dilationHeight,o=e.dilationWidth,c=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=c-1-e.padInfo.front,h=l-1-e.padInfo.top,m=u-1-e.padInfo.left,y=c*l*u-1;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${h}, ${m});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${c};
           wD += ${s}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${l};
              wR += ${i}) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${u};
                wC += ${o}) {
              float dyC = float(dyCCorner + wC) / ${r}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${y} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${l} * ${u} +
                  wR * ${u} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tIe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,input:s}=e,i=s,{filterSize:o,strides:c,pad:l,dimRoundingMode:u}=a,d=[1,1,1],h=kl(i.shape,o,c,d,l,u),m=new H3(h,"max",!0),y=n.runWebGLProgram(m,[i],i.dtype),v=new eIe(h),x=n.runWebGLProgram(v,[r,y],i.dtype);return n.disposeIntermediateTensorInfo(y),x}const nIe={kernelName:yC,backendName:"webgl",kernelFunc:tIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aIe(t){const{inputs:e,backend:n,attrs:a}=t,{dy:r,input:s,output:i}=e,o=s;w1([s,i],"maxPoolGrad");const{filterSize:c,strides:l,pad:u,dimRoundingMode:d}=a,h=Ji(o.shape,c,l,1,u,d),m=!0,y=new _g(h,"max",m),v=n.runWebGLProgram(y,[o],o.dtype),x=new JCe(h),k=n.runWebGLProgram(x,[r,v],o.dtype);return n.disposeIntermediateTensorInfo(v),k}const rIe={kernelName:gC,backendName:"webgl",kernelFunc:aIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sIe(t,e,n,a){let r=new _g(n,"max",!1);const s=a.runWebGLProgram(r,[t],"float32");r=new _g(n,"max",!0,!0,e);const i=a.runWebGLProgram(r,[t],"float32");return[s,i]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iIe={kernelName:xC,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:a}=t,{filterSize:r,strides:s,pad:i,includeBatchInIndex:o}=e,c=n;K(a.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`);const l=[1,1];K($r(s,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${l}'`);const u=Ji(a.shape,r,s,l,i),[d,h]=sIe(a,o,u,c);return[d,h]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oIe(t,e,n,a){const r=Me(e),i=Me(t.shape)/r,o=ct({inputs:{x:t},attrs:{shape:[i,r]},backend:a}),c=$d(o,"float32","mean",a),l=ct({inputs:{x:c},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(c),l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cIe={kernelName:ub,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:a}=t,{keepDims:r,axis:s}=e,i=n,o=a.shape.length,c=yn(s,a.shape);let l=c;const u=ka(l,o),d=u!=null,h=i.shouldExecuteOnCPU([a]),m=[];let y=a;if(d){if(h){const A=i.texData.get(y.dataId).values,S=new Array(o);for(let D=0;D<S.length;D++)S[D]=a.shape[u[D]];const C=W3(A,a.shape,a.dtype,u,S);y=i.makeTensorInfo(S,a.dtype);const E=i.texData.get(y.dataId);E.values=C}else y=b_(a,u,i);m.push(y),l=Ba(l.length,o)}Lr("sum",l,o);const[v,x]=_r(y.shape,l);let k=v;r&&(k=Ma(v,c));const b=oIe(y,x,k,i);for(const _ of m)i.disposeIntermediateTensorInfo(_);return b}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lIe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a,o=r.shape.length,c=yn(s,r.shape);let l=c;const u=ka(l,o);let d=r;u!=null&&(d=ms({inputs:{x:r},backend:n,attrs:{perm:u}}),l=Ba(l.length,r.shape.length)),Lr("min",l,o);const[h,m]=_r(d.shape,l),y=Me(m),v=ct({inputs:{x:d},backend:n,attrs:{shape:[-1,y]}}),x=$d(v,v.dtype,"min",n);let k;if(i){const b=Ma(h,c);k=ct({inputs:{x},backend:n,attrs:{shape:b}})}else k=ct({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(x),u!=null&&n.disposeIntermediateTensorInfo(d),k}const uIe={kernelName:fb,backendName:"webgl",kernelFunc:lIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fIe=V3+`
  return min(a, b);
`,dIe=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+Od+`
  return result;
`,pIe=Br({opSnippet:fIe,packedOpSnippet:dIe,cpuKernelImpl:Q2e}),hIe={kernelName:Ry,backendName:"webgl",kernelFunc:pIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mIe{constructor(e,n,a){this.variableNames=["x"],this.outputShape=n.map((u,d)=>u[0]+e[d]+u[1]);const r=e.length,s=Qn(r),i=n.map(u=>u[0]).join(","),o=n.map((u,d)=>u[0]+e[d]).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l=a==="reflect"?0:1;if(r===1){this.userCode=`
        int start = ${i};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${l};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${l};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${s} start = ${s}(${i});
      ${s} end = ${s}(${o});

      void main() {
        ${s} outC = getOutputCoords();
        for (int i = 0; i < ${r}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${l};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};
          }
        }
        ${s} coords = outC - start;
        setOutput(getX(${c}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gIe{constructor(e,n,a){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((y,v)=>y[0]+e[v]+y[1]);const r=e.length,s=Qn(r),i=n.map(y=>y[0]).join(","),o=n.map((y,v)=>y[0]+e[v]).join(","),c=cs("rc",r),l=cs("source",r),u=`${c[r-1]} < ${this.outputShape[r-1]}`,d=r===1?"source":`vec2(${l.slice(-2).join()})`,h=a==="reflect"?0:1;let m="";if(r===1){const y=`
        ${s} source = rc;
        if (source < start) {
          source = start * 2 - source - ${h};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${h};
        }
        source -= start;
      `;m=`
        ${s} rc = outputLoc;
        ${y}
        result[0] = getChannel(getX(${l.join()}), ${d});
        ${c[r-1]} += 1;
        if(${u}) {
          ${y}
          result[1] = getChannel(getX(${l.join()}), ${d});
        }
      `}else{const y=`
        ${s} source = rc;
        ${s} lt = ${s}(lessThan(source, start));
        ${s} gte = ${s}(greaterThanEqual(source, end));
        ${s} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${h}) +
                gte * ((end - 1) * 2 - source + ${h});
        source -= start;
      `;m=`
        ${s} rc = outputLoc;
        ${y}
        result[0] = getChannel(getX(${l.join()}), ${d});
        ${c[r-1]} += 1;
        if(${u}) {
          ${y}
          result[1] = getChannel(getX(${l.join()}), ${d});
        }
        rc = outputLoc;
        ${c[r-2]} += 1;
        if(${c[r-2]} < ${this.outputShape[r-2]}) {
          ${y}
          result[2] = getChannel(getX(${l.join()}), ${d});
          ${c[r-1]} += 1;
          if(${u}) {
            ${y}
            result[3] = getChannel(getX(${l.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${s} start = ${s}(${i});
      const ${s} end = ${s}(${o});

      void main() {
        ${s} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${m}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yIe=({inputs:t,backend:e,attrs:n})=>{const{x:a}=t,{paddings:r,mode:s}=n,i=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gIe(a.shape,r,s):new mIe(a.shape,r,s);return e.runWebGLProgram(i,[a],a.dtype)},xIe={kernelName:db,backendName:"webgl",kernelFunc:yIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vIe=`if (b == 0.0) return NAN;
  return mod(a, b);`,kIe=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+Od+`
  return result;
`,wIe=Br({opSnippet:vIe,packedOpSnippet:kIe}),bIe={kernelName:Py,backendName:"webgl",kernelFunc:wIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Ie{constructor(e,n,a){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,a],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AIe=`
if (a == b) {
  return 1.0;
};
return a / b;`,NIe=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,DW=Br({opSnippet:AIe,packedOpSnippet:NIe,checkOutOfBounds:!0}),SIe={kernelName:yy,backendName:"webgl",kernelFunc:DW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _L="return a - b;",RW=Br({opSnippet:_L,packedOpSnippet:_L,supportsComplex:!0,cpuKernelImpl:vAe}),TIe={kernelName:Xy,backendName:"webgl",kernelFunc:RW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PW(t){const{inputs:e,backend:n,attrs:a}=t,{logits:r}=e,{dim:s}=a,i=yn([s],r.shape),o=IW({inputs:{x:r},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),c=Ma(o.shape,i),l=ct({inputs:{x:o},backend:n,attrs:{shape:c}}),u=RW({inputs:{a:r,b:l},backend:n}),d=TW({inputs:{x:u},backend:n}),h=__({inputs:{x:d},backend:n,attrs:{axis:i,keepDims:!1}}),m=ct({inputs:{x:h},backend:n,attrs:{shape:c}}),y=DW({inputs:{a:d,b:m},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),y}const EIe={kernelName:Ib,backendName:"webgl",kernelFunc:PW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CIe(t){const{inputs:e,backend:n,attrs:a}=t,{logits:r}=e,{numSamples:s,seed:i,normalized:o}=a,c=o?r:PW({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),l=c.shape[0],u=c.shape[1],d=new _Ie(l,u,s),h=[[i]],m=n.runWebGLProgram(d,[c],"int32",h);return o||n.disposeIntermediateTensorInfo(c),m}const IIe={kernelName:vC,backendName:"webgl",kernelFunc:CIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DIe=to+`
  return -x;
`,RIe=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function PIe(t){const{inputs:e,backend:n}=t,{x:a}=e;if(n.shouldExecuteOnCPU([a])){const s=n.texData.get(a.dataId),[i,o]=eAe(s.values,a.shape,a.dtype);return n.makeTensorInfo(o,a.dtype,i)}let r;return Ce().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new tu(a.shape,RIe):r=new tc(a.shape,DIe),n.runWebGLProgram(r,[a],a.dtype)}const FIe={kernelName:pb,backendName:"webgl",kernelFunc:PIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OIe=CI;function $Ie(t){ii("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:a}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c}=a,l=n.readSync(r.dataId),u=n.readSync(s.dataId),{selectedIndices:d}=OIe(l,u,i,o,c);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const LIe={kernelName:kC,backendName:"webgl",kernelFunc:$Ie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MIe=II;function BIe(t){ii("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:a}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c,padToMaxOutputSize:l}=a,u=n.readSync(r.dataId),d=n.readSync(s.dataId),{selectedIndices:h,validOutputs:m}=MIe(u,d,i,o,c,l);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}const zIe={kernelName:wC,backendName:"webgl",kernelFunc:BIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GIe=DI;function UIe(t){ii("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:a}=t,{boxes:r,scores:s}=e,{maxOutputSize:i,iouThreshold:o,scoreThreshold:c,softNmsSigma:l}=a,u=n.readSync(r.dataId),d=n.readSync(s.dataId),h=i,m=o,y=c,v=l,{selectedIndices:x,selectedScores:k}=GIe(u,d,h,m,y,v);return[n.makeTensorInfo([x.length],"int32",new Int32Array(x)),n.makeTensorInfo([k.length],"float32",new Float32Array(k))]}const WIe={kernelName:bC,backendName:"webgl",kernelFunc:UIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VIe{constructor(e,n,a,r){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${r}), float(${a}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jIe=t=>{const{inputs:e,backend:n,attrs:a}=t,{indices:r}=e,{dtype:s,depth:i,onValue:o,offValue:c}=a,l=Me(r.shape),u=new VIe(l,i,o,c),d=ct({inputs:{x:r},backend:n,attrs:{shape:[l]}}),h=n.runWebGLProgram(u,[d],s);n.disposeIntermediateTensorInfo(d);const m=[...r.shape,i],y=ct({inputs:{x:h},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(h),y},HIe={kernelName:gb,backendName:"webgl",kernelFunc:jIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jk(t){const{inputs:e,backend:n}=t,{x:a}=e;if(a.dtype==="complex64"){const r=_1({inputs:{input:a},backend:n}),s=jk({inputs:{x:r},backend:n}),i=A_({inputs:{input:a},backend:n}),o=jk({inputs:{x:i},backend:n}),c=Wu({inputs:{real:s,imag:o},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),c}else return A1({attrs:{shape:a.shape,dtype:a.dtype,value:a.dtype==="string"?"":0},backend:n})}const KIe={kernelName:Fb,backendName:"webgl",kernelFunc:jk};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FW(t){const{inputs:e,backend:n}=t,{x:a}=e;if(a.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(a.dtype==="complex64"){const r=_1({inputs:{input:a},backend:n}),s=FW({inputs:{x:r},backend:n}),i=A_({inputs:{input:a},backend:n}),o=jk({inputs:{x:i},backend:n}),c=Wu({inputs:{real:s,imag:o},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),c}else return A1({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:n})}const qIe={kernelName:mb,backendName:"webgl",kernelFunc:FW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XIe(t){const{inputs:e,backend:n,attrs:a}=t,{axis:r}=a;if(e.length===1)return $T({inputs:{input:e[0]},backend:n,attrs:{dim:r}});const s=e[0].shape,i=e[0].dtype;e.forEach(u=>{Qs(s,u.shape,"All tensors passed to stack must have matching shapes"),K(i===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],c=e.map(u=>{const d=$T({inputs:{input:u},backend:n,attrs:{dim:r}});return o.push(d),d}),l=vW({inputs:c,backend:n,attrs:{axis:r}});return o.forEach(u=>n.disposeIntermediateTensorInfo(u)),l}const YIe={kernelName:yb,backendName:"webgl",kernelFunc:XIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZIe{constructor(e,n,a){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((l,u)=>l[0]+e[u]+l[1]);const r=e.length,s=Qn(r),i=n.map(l=>l[0]).join(","),o=n.map((l,u)=>l[0]+e[u]).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);if(r===1){this.userCode=`
        int start = ${i};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${s} start = ${s}(${i});
      ${s} end = ${s}(${o});

      void main() {
        ${s} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${s} coords = outC - start;
          setOutput(getX(${c}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QIe{constructor(e,n,a){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((v,x)=>v[0]+e[x]+v[1]);const r=e.length,s=Qn(r),i=n.map(v=>v[0]).join(","),o=n.map((v,x)=>v[0]+e[x]).join(","),c=cs("rc",r),l=cs("source",r),u=`${c[r-1]} < ${this.outputShape[r-1]}`,d=r===1?"source":`vec2(${l.slice(-2).join()})`,h=[`${s} rc = outputLoc;`,`${c[r-1]} += 1;
       if(${u}) {
      `,r===1?"":`}
       rc = outputLoc;
       ${c[r-2]} += 1;
       if(${c[r-2]} < ${this.outputShape[r-2]}) {`,r===1?"":`  ${c[r-1]} += 1;
         if(${u}) {`],m=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let y="";for(let v=0,x=r===1?2:4;v<x;v++)y+=`
        ${h[v]}
        if (${m}) {
          result[${v}] = float(value);
        } else {
          ${s} source = rc - start;
          result[${v}] = getChannel(getX(${l.join()}), ${d});
        }
      `;y+=r===1?"} ":"}}",this.userCode=`
      const ${s} start = ${s}(${i});
      const ${s} end = ${s}(${o});

      void main() {
        ${s} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${y}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OW=t=>{const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{paddings:s,constantValue:i}=a;if(Me(r.shape)===0){const l=s.map((u,d)=>u[0]+r.shape[d]+u[1]);return A1({backend:n,attrs:{shape:l,value:i,dtype:r.dtype}})}const o=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new QIe(r.shape,s,i):new ZIe(r.shape,s,i),c=[[i]];return n.runWebGLProgram(o,[r],r.dtype,c)},JIe={kernelName:xb,backendName:"webgl",kernelFunc:OW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e3e=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,t3e=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+Od+`
  return result;
`,n3e=Br({opSnippet:e3e,packedOpSnippet:t3e}),a3e={kernelName:Oy,backendName:"webgl",kernelFunc:n3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r3e(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{axis:s,keepDims:i}=a,o=r.shape.length,c=[],l=yn(s,r.shape);let u=l;const d=ka(u,o);let h=r;d!=null&&(h=ms({inputs:{x:r},backend:n,attrs:{perm:d}}),u=Ba(u.length,o),c.push(h)),Lr("prod",u,o);let m;if(n.shouldExecuteOnCPU([h])){const y=n.texData.get(h.dataId).values,{outVals:v,outShape:x,outDtype:k}=nAe(h.shape,h.dtype,y,u);m=n.makeTensorInfo(x,k,v)}else{const[y,v]=_r(h.shape,u),x=Me(v),k=ct({inputs:{x:h},backend:n,attrs:{shape:[-1,x]}}),b=KC(r.dtype),_=$d(k,b,"prod",n);m=ct({inputs:{x:_},backend:n,attrs:{shape:y}}),c.push(k),c.push(_)}if(i){c.push(m);const y=Ma(m.shape,l);m=ct({inputs:{x:m},backend:n,attrs:{shape:y}})}return c.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const s3e={kernelName:kb,backendName:"webgl",kernelFunc:r3e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i3e(t){const{inputs:e,backend:n,attrs:a}=t,{paramsNestedSplits:r,paramsDenseValues:s,indices:i}=e,{outputRaggedRank:o}=a,c=r.map(k=>n.readSync(k.dataId)),l=r.map(k=>k.shape),u=n.readSync(s.dataId),d=n.readSync(i.dataId),[h,m,y]=aAe(c,l,u,s.shape,s.dtype,d,i.shape,o),v=h.map(k=>n.makeTensorInfo([k.length],"int32",k)),x=n.makeTensorInfo(y,s.dtype,m);return v.concat([x])}const o3e={kernelName:_C,backendName:"webgl",kernelFunc:i3e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c3e(t){const{inputs:e,backend:n}=t,{starts:a,limits:r,deltas:s}=e,i=n.readSync(a.dataId),o=n.readSync(r.dataId),c=n.readSync(s.dataId),[l,u]=rAe(i,a.shape,a.dtype,o,r.shape,c,s.shape),d=n.makeTensorInfo([l.length],"int32",l),h=n.makeTensorInfo([u.length],a.dtype,u);return[d,h]}const l3e={kernelName:AC,backendName:"webgl",kernelFunc:c3e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u3e(t){const{inputs:e,backend:n,attrs:a}=t,{shape:r,values:s,defaultValue:i,rowPartitionTensors:o}=e,{rowPartitionTypes:c}=a,l=n.readSync(r.dataId),u=n.readSync(s.dataId),d=n.readSync(i.dataId),h=o.map(x=>n.readSync(x.dataId)),m=o.map(x=>x.shape),[y,v]=sAe(l,r.shape,u,s.shape,s.dtype,d,i.shape,h,m,c);return n.makeTensorInfo(y,s.dtype,v)}const f3e={kernelName:NC,backendName:"webgl",kernelFunc:u3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $W=t=>{const{backend:e,attrs:n}=t,{start:a,stop:r,step:s,dtype:i}=n,o=iAe(a,r,s,i);return e.makeTensorInfo([o.length],i,o)},d3e={kernelName:SC,backendName:"webgl",kernelFunc:$W};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p3e="return 1.0 / x;",h3e=Fn({opSnippet:p3e}),m3e={kernelName:$y,backendName:"webgl",kernelFunc:h3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g3e=to+`
  return (x < 0.0) ? 0.0 : x;
`,y3e=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,x3e=Fn({opSnippet:g3e,packedOpSnippet:y3e}),v3e={kernelName:Ly,backendName:"webgl",kernelFunc:x3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k3e=to+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,w3e=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,b3e=Fn({opSnippet:k3e,packedOpSnippet:w3e}),_3e={kernelName:My,backendName:"webgl",kernelFunc:b3e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class A3e{constructor(e,n,a,r,s){this.variableNames=["A"],this.outputShape=[];const[i,o,c,l]=e;this.outputShape=[i,n,a,l];const u=[r&&n>1?o-1:o,r&&a>1?c-1:c],d=[r&&n>1?n-1:n,r&&a>1?a-1:a];let h;s?h="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${c}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class N3e{constructor(e,n,a,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,o,c,l]=e;this.outputShape=[i,n,a,l];const u=[r&&n>1?o-1:o,r&&a>1?c-1:c],d=[r&&n>1?n-1:n,r&&a>1?a-1:a];let h;s?h="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${c}.0,
                                     ${c}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${a-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S3e(t){const{inputs:e,backend:n,attrs:a}=t,{images:r}=e,{alignCorners:s,halfPixelCenters:i,size:o}=a,[c,l]=o,u=Ce().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new N3e(r.shape,c,l,s,i):new A3e(r.shape,c,l,s,i);return n.runWebGLProgram(u,[r],"float32")}const T3e={kernelName:_b,backendName:"webgl",kernelFunc:S3e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class E3e{constructor(e,n,a){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,r,s]=n,[,i,o]=e,c=[a&&i>1?r-1:r,a&&o>1?s-1:s],l=[a&&i>1?i-1:i,a&&o>1?o-1:o],u=c[0]/l[0],d=c[1]/l[1],h=1/u,m=1/d,y=Math.ceil(h)*2+2,v=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${m});

        const int winHeight = int(${y});
        const int winWidth = int(${v});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${s-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C3e(t){const{inputs:e,backend:n,attrs:a}=t,{images:r,dy:s}=e,{alignCorners:i}=a,o=new E3e(s.shape,r.shape,i);return n.runWebGLProgram(o,[s],s.dtype)}const I3e={kernelName:CC,backendName:"webgl",kernelFunc:C3e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D3e{constructor(e,n,a,r,s){this.variableNames=["A"],this.outputShape=[];const[i,o,c,l]=e;this.outputShape=[i,n,a,l];const u=[r&&n>1?o-1:o,r&&a>1?c-1:c],d=[r&&n>1?n-1:n,r&&a>1?a-1:a],h=r?"0.5":"0.0";let m;s?m="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":m="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${c}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R3e{constructor(e,n,a,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,o,c,l]=e;this.outputShape=[i,n,a,l];const u=[r&&n>1?o-1:o,r&&a>1?c-1:c],d=[r&&n>1?n-1:n,r&&a>1?a-1:a],h=r?"0.5":"0.0";let m;s?m="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":m="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${c}.0,
                                     ${c}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${m};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${a-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P3e(t){const{inputs:e,backend:n,attrs:a}=t,{images:r}=e,{alignCorners:s,halfPixelCenters:i,size:o}=a,[c,l]=o,u=Ce().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new R3e(r.shape,c,l,s,i):new D3e(r.shape,c,l,s,i);return n.runWebGLProgram(u,[r],r.dtype)}const F3e={kernelName:bb,backendName:"webgl",kernelFunc:P3e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class O3e{constructor(e,n,a){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,r,s]=n,[,i,o]=e,c=[a&&i>1?r-1:r,a&&o>1?s-1:s],l=[a&&i>1?i-1:i,a&&o>1?o-1:o],u=c[0]/l[0],d=c[1]/l[1],h=1/u,m=1/d,y=Math.ceil(h)*2+2,v=Math.ceil(m)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${m});

        const int winHeight = int(${y});
        const int winWidth = int(${v});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${i}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float sourceFracRow =
              float(${c[0]}) *
                (float(dyR) / float(${l[0]}));

            float sourceFracCol =
                float(${c[1]}) *
                  (float(dyC) / float(${l[1]}));

            int sourceNearestRow = int(min(
                float(int(${r}) - 1),
                ${a} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${s}) - 1),
                ${a} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $3e(t){const{inputs:e,backend:n,attrs:a}=t,{images:r,dy:s}=e,{alignCorners:i}=a,o=new O3e(s.shape,r.shape,i);return n.runWebGLProgram(o,[s],s.dtype)}const L3e={kernelName:EC,backendName:"webgl",kernelFunc:$3e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M3e{constructor(e,n){this.variableNames=["x"];const a=e.length;if(a>4)throw new Error(`WebGL backend: Reverse of rank-${a} tensor is not yet supported`);if(this.outputShape=e,a===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const r=o=>n.indexOf(o)!==-1&&e[o]!==1?`${e[o]} - coords[${o}] - 1`:`coords[${o}]`,s=e.map((o,c)=>r(c)).join(","),i=Qn(a);this.userCode=`
      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${s}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B3e{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const a=e.length;if(a>4)throw new Error(`WebGL backend: Reverse of rank-${a} tensor is not yet supported`);this.outputShape=e;const r=cs("rc",a),s=`${r[a-1]} + 1 < ${this.outputShape[a-1]}`,i=`${r[a-2]} + 1 < ${this.outputShape[a-2]}`,o=Qn(a);a===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${s}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${c(r.slice())};
          if(${s}){
            result.g = ${l(r.slice())};
          }
          if(${i}) {
            result.b = ${u(r.slice())};
            if(${s}) {
              result.a = ${d(r.slice())};
            }
          }
          setOutput(result);
        }
    `;function c(y){return h(y)}function l(y){return y[a-1]="("+y[a-1]+" + 1)",h(y)}function u(y){return y[a-2]="("+y[a-2]+" + 1)",h(y)}function d(y){return y[a-1]="("+y[a-1]+" + 1)",y[a-2]="("+y[a-2]+" + 1)",h(y)}function h(y){const v=e.map((b,_)=>m(_,y)),x=v.join(","),k=v.slice(-2).join(",");return`getChannel(getX(${x}), vec2(${k}))`}function m(y,v){return n.indexOf(y)!==-1&&e[y]!==1?`${e[y]} - ${v[y]} - 1`:`${v[y]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z3e(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{dims:s}=a,i=r.shape.length,o=yn(s,r.shape);if(i===0)return Ys({inputs:{x:r},backend:n});const c=Ce().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new B3e(r.shape,o):new M3e(r.shape,o);return n.runWebGLProgram(c,[r],r.dtype)}const G3e={kernelName:Ab,backendName:"webgl",kernelFunc:z3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class U3e{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const a=e[1],r=e[2];this.outputShape=e;let s="";typeof n=="number"?s=`float outputValue = ${n.toFixed(2)};`:s=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${s}
          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${a}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W3e={kernelName:HC,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:a}=t,{radians:r,fillValue:s,center:i}=e,o=n,c=new U3e(a.shape,s),[l,u]=VI(i,a.shape[1],a.shape[2]),d=[[l,u,Math.sin(r),Math.cos(r)]];return o.runWebGLProgram(c,[a],a.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V3e=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,j3e=Fn({opSnippet:V3e}),H3e={kernelName:By,backendName:"webgl",kernelFunc:j3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K3e="return inversesqrt(x);",q3e=Fn({opSnippet:K3e,cpuKernelImpl:oAe}),X3e={kernelName:zy,backendName:"webgl",kernelFunc:q3e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K3{constructor(e,n,a,r,s,i,o=!0,c=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const l=Qn(s.length),u=Qn(i.length);let d="";a===1?d="i":a===2&&(d="i, j");const h=`getIndices(${d})`;let m="";r===1?m="i":r===2&&(m="i, coords[1]");const y=`getUpdates(${m})`;let v="";c&&(v="coords[0], coords[1]");const x=`getDefaultValue(${v})`,k=n>1?"strides[j]":"strides";this.userCode=`
        ${l} strides = ${l}(${s});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${h});
              flattenedIndex += index * ${k};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${y};
              found = true;
            }
          }
          setOutput(mix(${x}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y3e{constructor(e,n,a,r,s,i,o=!0,c=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const l=Qn(s.length),u=Qn(i.length);let d="";a===1?d="i":a===2&&(d="i, j");const h=`getIndices(${d})`;let m="";r===1?m="i":r===2&&(m="i, coords[1]");const y=`getUpdates(${m})`;let v="";c&&(v="coords[0], coords[1]");const x=`getDefaultValue(${v})`,k=n>1?"strides[j]":"strides",b=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${l} strides = ${l}(${s});

        void main() {
          ${u} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${h});
              flattenedIndex += index.xz * ${k};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${b};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${y};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${x}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z3e(t){const{inputs:e,backend:n,attrs:a}=t,{indices:r,updates:s}=e,{shape:i}=a,{sliceRank:o,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=Id(s,r,i),h=[d/l,l];if(d===0)return n.makeTensorInfo(i,r.dtype);const m=ct({inputs:{x:r},backend:n,attrs:{shape:[c,o]}}),y=ct({inputs:{x:s},backend:n,attrs:{shape:[c,l]}}),v=n.makeTensorInfo([],"float32",new Float32Array([0]));let x;Ce().getBool("WEBGL_PACK")?x=new Y3e(c,o,m.shape.length,y.shape.length,u,h):x=new K3(c,o,m.shape.length,y.shape.length,u,h);const k=n.runWebGLProgram(x,[y,m,v],y.dtype),b=ct({inputs:{x:k},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(v),b}const Q3e={kernelName:IC,backendName:"webgl",kernelFunc:Z3e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class J3e{constructor(e,n,a,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,a];const s="while (left < right) {",i=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,o=Ce().getNumber("WEBGL_VERSION")===2?s:i,c=r==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${o}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${c} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eDe(t){const{inputs:e,backend:n,attrs:a}=t,{sortedSequence:r,values:s}=e,{side:i}=a,o=new J3e(r.shape[0],r.shape[1],s.shape[1],i),c=[[r.shape[1]]];return n.runWebGLProgram(o,[r,s],"int32",c)}const tDe={kernelName:RC,backendName:"webgl",kernelFunc:eDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nDe{constructor(e,n,a){this.variableNames=["c","a","b"],this.outputShape=n;let r,s;if(a>4)throw Error(`Where for rank ${a} is not yet supported`);if(a===1)s="resRC",r="resRC";else{const o=["resRC.x","resRC.y","resRC.z","resRC.w"],c=[],l=[];for(let u=0;u<n.length;u++)l.push(`${o[u]}`),u<e&&c.push(`${o[u]}`);r=c.join(),s=l.join()}const i=Qn(a);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        float cVal = getC(${r});
        if (cVal >= 1.0) {
          setOutput(getA(${s}));
        } else {
          setOutput(getB(${s}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aDe(t){const{inputs:e,backend:n}=t,{condition:a,t:r,e:s}=e,i=new nDe(a.shape.length,r.shape,r.shape.length);return n.runWebGLProgram(i,[a,r,s],js(r.dtype,s.dtype))}const rDe={kernelName:Nb,backendName:"webgl",kernelFunc:aDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sDe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${i_};
  float scale = ${o_};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,iDe=Fn({opSnippet:sDe}),oDe={kernelName:Gy,backendName:"webgl",kernelFunc:iDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cDe=am+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,lDe=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,uDe=Fn({opSnippet:cDe,packedOpSnippet:lDe,cpuKernelImpl:lAe}),fDe={kernelName:jy,backendName:"webgl",kernelFunc:uDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dDe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,pDe=Fn({opSnippet:dDe}),hDe={kernelName:Vy,backendName:"webgl",kernelFunc:pDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mDe=am+`
  return sin(x);
`,gDe=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${Od}
  return result;
`,yDe=Fn({opSnippet:mDe,packedOpSnippet:gDe}),xDe={kernelName:Uy,backendName:"webgl",kernelFunc:yDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vDe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,kDe=Fn({opSnippet:vDe}),wDe={kernelName:Wy,backendName:"webgl",kernelFunc:kDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bDe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,_De=Fn({opSnippet:bDe}),ADe={kernelName:Hy,backendName:"webgl",kernelFunc:_De};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NDe=t=>{const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{blockShape:s,paddings:i}=a;K(r.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const o=s.reduce((k,b)=>k*b),c=[[0,0]];c.push(...i);for(let k=1+s.length;k<r.shape.length;++k)c.push([0,0]);const l=[],u=OW({inputs:{x:r},backend:n,attrs:{paddings:c,constantValue:0}}),d=c1(u.shape,s,o,!1),h=l1(d.length,s.length,!1),m=u1(u.shape,s,o,!1),y=ct({inputs:{x:u},backend:n,attrs:{shape:d}}),v=ms({inputs:{x:y},backend:n,attrs:{perm:h}}),x=ct({inputs:{x:v},backend:n,attrs:{shape:m}});return l.push(u),l.push(y),l.push(v),l.forEach(k=>n.disposeIntermediateTensorInfo(k)),x},SDe={kernelName:Eb,backendName:"webgl",kernelFunc:NDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TDe(t){const{inputs:e,backend:n}=t,{indices:a,values:r,denseShape:s,defaultValue:i}=e;if(s.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${s.shape}`);if(a.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${a.shape}`);if(r.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${r.shape}`);if(i.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${i.shape}`);const o=n.readSync(a.dataId),c=n.readSync(r.dataId),l=n.readSync(s.dataId),u=n.readSync(i.dataId)[0],[d,h,m,y,v]=fAe(o,a.shape,a.dtype,c,r.dtype,l,u);return[n.makeTensorInfo(h,a.dtype,d),n.makeTensorInfo([h[0]],r.dtype,m),n.makeTensorInfo([y.length],"bool",new Uint8Array(y.map(x=>Number(x)))),n.makeTensorInfo([v.length],a.dtype,new Int32Array(v))]}const EDe={kernelName:PC,backendName:"webgl",kernelFunc:TDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CDe(t){const{inputs:e,backend:n}=t,{inputIndices:a,inputShape:r,newShape:s}=e;if(a.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${a.shape}`);if(r.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const i=Array.from(n.readSync(r.dataId)),o=n.readSync(a.dataId),c=Array.from(n.readSync(s.dataId)),[l,u,d]=dAe(o,a.shape,a.dtype,i,c);return[n.makeTensorInfo(u,a.dtype,l),n.makeTensorInfo([d.length],s.dtype,new Int32Array(d))]}const IDe={kernelName:FC,backendName:"webgl",kernelFunc:CDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DDe(t){const{inputs:e,backend:n}=t,{data:a,indices:r,segmentIds:s}=e;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${r.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${s.shape}`);const i=n.readSync(a.dataId),o=n.readSync(r.dataId),c=n.readSync(s.dataId),[l,u]=iW(i,a.shape,a.dtype,o,c,!0);return n.makeTensorInfo(u,a.dtype,l)}const RDe={kernelName:OC,backendName:"webgl",kernelFunc:DDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PDe(t){const{inputs:e,backend:n}=t,{data:a,indices:r,segmentIds:s}=e;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${r.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${s.shape}`);const i=n.readSync(a.dataId),o=n.readSync(r.dataId),c=n.readSync(s.dataId),[l,u]=iW(i,a.shape,a.dtype,o,c);return n.makeTensorInfo(u,a.dtype,l)}const FDe={kernelName:$C,backendName:"webgl",kernelFunc:PDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ODe(t){const{inputs:e,backend:n,attrs:a}=t,{sparseIndices:r,sparseValues:s,defaultValue:i}=e,{outputShape:o}=a,{sliceRank:c,numUpdates:l,sliceSize:u,strides:d,outputSize:h}=Id(s,r,o),m=!1;if(s.dtype==="string"){const k=n.bufferSync(r),b=n.bufferSync(s),_=pu(n.readSync(i.dataId)[0]),A=cAe(k,b,o,h,u,l,c,d,_,m);return n.makeTensorInfo(o,A.dtype,A.values)}const y=new K3(l,c,r.shape.length,s.shape.length,d,[h,1],m),v=n.runWebGLProgram(y,[s,r,i],s.dtype),x=ct({inputs:{x:v},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(v),x}const $De={kernelName:LC,backendName:"webgl",kernelFunc:ODe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LDe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{numOrSizeSplits:s,axis:i}=a,o=yn(i,r.shape)[0],c=s3(r,s,o),l=r.shape.length,u=new Array(l).fill(0),d=r.shape.slice();return c.map(h=>{const m=[...d];m[o]=h;const y=rm({inputs:{x:r},backend:n,attrs:{begin:u,size:m}});return u[o]+=h,y})}const MDe={kernelName:Cb,backendName:"webgl",kernelFunc:LDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AL="return sqrt(x);",BDe=Fn({opSnippet:AL,packedOpSnippet:AL,cpuKernelImpl:pAe}),zDe={kernelName:Ky,backendName:"webgl",kernelFunc:BDe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GDe="return x * x;",UDe=Fn({opSnippet:GDe}),WDe={kernelName:MC,backendName:"webgl",kernelFunc:UDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NL="return (a - b) * (a - b);",VDe=Br({opSnippet:NL,packedOpSnippet:NL}),jDe={kernelName:qy,backendName:"webgl",kernelFunc:VDe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HDe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e;if(r.dtype!=="string")throw new Error("Input must be of datatype string");const s=n.readSync(r.dataId),i=pl(s),o=hAe(i,"string",a);return n.makeTensorInfo(r.shape,"string",o)}const KDe={kernelName:Db,backendName:"webgl",kernelFunc:HDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qDe({inputs:t,attrs:e,backend:n}){const{x:a}=t,r=to+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,s=new tc(a.shape,r);return n.runWebGLProgram(s,[a],a.dtype)}const XDe={kernelName:Jy,backendName:"webgl",kernelFunc:qDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YDe{constructor(e,n,a){this.variableNames=["x"],this.outputShape=a;const r=a.length,s=Qn(a.length),i=Qn(a.length);let o="";if(r===1)o="coords * strides + begin";else{let c=0;o=a.map((l,u)=>(c++,a.length===1?`coords * strides[${u}] + begin[${u}]`:`coords[${c-1}] * strides[${u}] + begin[${u}]`)).join(",")}this.userCode=`
      ${s} begin = ${s}(${e});
      ${s} strides = ${s}(${n});

      void main() {
        ${i} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZDe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{begin:s,end:i,strides:o,beginMask:c,endMask:l,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=a,{finalShapeSparse:m,finalShape:y,isIdentity:v,sliceDim0:x,isSimpleSlice:k,begin:b,end:_,strides:A}=GI(r.shape,s,i,o,c,l,u,d,h);let S;if(v)S=ct({inputs:{x:r},backend:n,attrs:{shape:y}});else if(x||k){K(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const E=MI(b,_,A),D=rm({inputs:{x:r},backend:n,attrs:{begin:b,size:E}});S=ct({inputs:{x:D},backend:n,attrs:{shape:y}}),n.disposeIntermediateTensorInfo(D)}else if(n.shouldExecuteOnCPU([r])){const D=n.readSync(r.dataId),I=cn(r.shape,r.dtype,D),P=mAe(m,I,A,b);S=n.makeTensorInfo(y,r.dtype,P.values)}else{const D=new YDe(b,A,m);S=n.runWebGLProgram(D,[r],r.dtype)}const C=ct({inputs:{x:S},backend:n,attrs:{shape:y}});return n.disposeIntermediateTensorInfo(S),C}const QDe={kernelName:BC,backendName:"webgl",kernelFunc:ZDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JDe(t){const{inputs:e,backend:n,attrs:a}=t,{separator:r,nGramWidths:s,leftPad:i,rightPad:o,padWidth:c,preserveShortSequences:l}=a,{data:u,dataSplits:d}=e,h=n.readSync(u.dataId),m=n.readSync(d.dataId),[y,v]=gAe(h,m,r,s,i,o,c,l);return[n.makeTensorInfo([y.length],"string",y),n.makeTensorInfo(d.shape,"int32",v)]}const eRe={kernelName:zC,backendName:"webgl",kernelFunc:JDe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tRe(t){const{inputs:e,backend:n,attrs:a}=t,{skipEmpty:r}=a,{input:s,delimiter:i}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(s.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(i.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const o=n.readSync(s.dataId),c=n.readSync(i.dataId)[0],[l,u,d]=yAe(o,c,r),h=u.length;return[n.makeTensorInfo([h,2],"int32",l),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const nRe={kernelName:GC,backendName:"webgl",kernelFunc:tRe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aRe(t){const{inputs:e,backend:n,attrs:a}=t,{numBuckets:r}=a,{input:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const i=n.readSync(s.dataId),o=xAe(i,r);return n.makeTensorInfo(s.shape,"int32",o)}const rRe={kernelName:UC,backendName:"webgl",kernelFunc:aRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sRe="return tan(x);",iRe=Fn({opSnippet:sRe}),oRe={kernelName:Yy,backendName:"webgl",kernelFunc:iRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cRe=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,lRe=Fn({opSnippet:cRe}),uRe={kernelName:Zy,backendName:"webgl",kernelFunc:lRe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fRe(t){const{inputs:e,backend:n,attrs:a}=t,{tensor:r,indices:s,updates:i}=e,{sliceRank:o,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=Id(i,s,r.shape),h=[d/l,l];if(d===0)return n.makeTensorInfo(r.shape,s.dtype);const m=ct({inputs:{x:s},backend:n,attrs:{shape:[c,o]}}),y=ct({inputs:{x:i},backend:n,attrs:{shape:[c,l]}}),v=ct({inputs:{x:r},backend:n,attrs:{shape:h}}),x=new K3(c,o,m.shape.length,y.shape.length,u,h,!1,!0),k=n.runWebGLProgram(x,[y,m,v],v.dtype),b=ct({inputs:{x:k},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(k),b}const dRe={kernelName:DC,backendName:"webgl",kernelFunc:fRe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pRe{constructor(e,n){this.variableNames=["A"];const a=new Array(e.length);for(let i=0;i<a.length;i++)a[i]=e[i]*n[i];this.outputShape=a,this.rank=a.length;const r=Qn(this.rank),s=hRe(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        setOutput(getA(${s}));
      }
    `}}function hRe(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],a=[];for(let r=0;r<t.length;r++)a.push(`imod(${n[r]}, ${t[r]})`);return a.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LW(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{reps:s}=a;if(r.dtype==="string"||r.shape.length>5){const c=n.readSync(r.dataId),l=r.dtype==="string"?c.map(h=>pu(h)):c,u=cn(r.shape,r.dtype,l),d=kAe(u,s);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const i=new pRe(r.shape,s);return n.runWebGLProgram(i,[r],r.dtype)}const mRe={kernelName:Qy,backendName:"webgl",kernelFunc:LW};class gRe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class yRe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xf(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function SL(t){let e=1;for(;e<t;)e*=2;return e}function xRe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r}=e,{k:s,sorted:i}=a,o=Ce().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),c=Ce().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),l=r.shape,u=l[l.length-1];if(n.shouldExecuteOnCPU([r])||u<o||s>c){const P=n.readSync(r.dataId),[R,B]=wAe(P,l,r.dtype,s,i);return[n.makeTensorInfo(R.shape,R.dtype,R.values),n.makeTensorInfo(B.shape,B.dtype,B.values)]}if(s===0)return l[l.length-1]=0,[n.makeTensorInfo(l,r.dtype,[]),n.makeTensorInfo(l,"int32",[])];if(u===1)return[r,A1({attrs:{shape:l,dtype:"int32",value:0},backend:n})];const d=n.texData.get(r.dataId),h=d!==null&&d.isPacked,m=h?n.unpackTensor(r):r,v=Me(l)/u,x=ct({inputs:{x:m},attrs:{shape:[v,u]},backend:n});h&&xf(n,m);const k=SL(s),b=SL(u);let _=null;const A=()=>_===null?[x,x]:[x,_],S=(P,R,B)=>{const U=A(),V=new gRe(B),W=[[u],[_===null?1:0],[Number.NEGATIVE_INFINITY],[P],[R]],J=_;_=n.runWebGLProgram(V,U,"int32",W),xf(n,J)};for(let P=1;P<k;P*=2){const R=P*2;for(let B=P;B>=1;B/=2)S(R,B,[v,b])}for(let P=b;P>k;P/=2){const R=A(),B=new yRe([v,P/2]),V=[[u],[_===null?1:0],[k]],j=_;_=n.runWebGLProgram(B,R,"int32",V),xf(n,j);const W=k/2,J=W*2;for(let q=W;q>=1;q/=2)S(J,q,_.shape)}let C=_;_=rm({inputs:{x:_},backend:n,attrs:{begin:0,size:[v,s]}}),xf(n,C);let E=CW({inputs:{x,indices:_},backend:n,attrs:{axis:1,batchDims:1}});xf(n,x);const D=l.slice(0,-1);D.push(s),C=_,_=ct({inputs:{x:_},attrs:{shape:D},backend:n}),xf(n,C);const I=E;return E=ct({inputs:{x:E},attrs:{shape:D},backend:n}),xf(n,I),[E,_]}const vRe={kernelName:WC,backendName:"webgl",kernelFunc:xRe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kRe{constructor(e,n,a,r,s,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const o=a==="nearest"?1:2;let c;switch(r){case"constant":c=1;break;case"reflect":c=2;break;case"wrap":c=3;break;case"nearest":c=4;break;default:c=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${c} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${c} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${c} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${s});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${s});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${o} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wRe(t){const{inputs:e,backend:n,attrs:a}=t,{image:r,transforms:s}=e,{interpolation:i,fillMode:o,fillValue:c,outputShape:l}=a,[u,d,h,m]=r.shape,[y,v]=l??[d,h],x=[u,y,v,m],k=new kRe(d,h,i,o,c,x);return n.runWebGLProgram(k,[r,s],"float32")}const bRe={kernelName:VC,backendName:"webgl",kernelFunc:wRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Re(t){const{inputs:e,attrs:n,backend:a}=t,{axis:r}=n,{x:s}=e;w1(s,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const i=a.readSync(s.dataId),{outputValues:o,outputShape:c,indices:l}=bAe(i,r,s.shape,s.dtype);return[a.makeTensorInfo(c,s.dtype,o),a.makeTensorInfo([l.length],"int32",l)]}const ARe={kernelName:jC,backendName:"webgl",kernelFunc:_Re};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NRe(t){const{inputs:e,backend:n,attrs:a}=t,{value:r}=e;let{axis:s}=a;s<0&&(s+=r.shape.length);const i=r,o=i.shape.length,c=r.shape[s],l=new Array(o-1);let u=0;for(let v=0;v<o;v++)v!==s&&(l[u++]=i.shape[v]);const d=[],h=new Array(o).fill(0),m=i.shape.slice();m[s]=1;const y=new Array(c);for(let v=0;v<y.length;v++){h[s]=v;const x=rm({inputs:{x:i},backend:n,attrs:{begin:h,size:m}}),k=ct({inputs:{x},backend:n,attrs:{shape:l}});y[v]=k,d.push(x)}return d.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const SRe={kernelName:Rb,backendName:"webgl",kernelFunc:NRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TRe{constructor(e,n){this.variableNames=["x","segmentIds"];const a=e.windowSize,r=e.batchSize,s=e.inSize,i=e.numSegments,o=i*Math.ceil(s/a);this.outputShape=[r,o];const c="0.0",l="sumValue",u=Math.floor(a/4)*4,d=a%4,h=`
        sumValue += dot(values, segFilter);
    `;let m="";s%a>0&&(m=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return initializationValue;
        }
      `);let y="";s%a>0&&(y=`
        if (inIdx < 0 || inIdx >= ${s}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${c};

      float getValue(int batch, int inIdx) {
        ${m}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${y}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${i})) * float(${a}));
        int currentSeg = int(mod(float(outIdx), float(${i})));

        float sumValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${h}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${h}
        } else if (${d===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${h}
        } else if (${d===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${h}
        }
        setOutput(${l});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ERe(t){const{inputs:e,backend:n,attrs:a}=t,{x:r,segmentIds:s}=e,{numSegments:i}=a,o=r.shape.length,c=[];let l=0;const u=ka([l],o);let d=r;u!=null&&(d=ms({inputs:{x:r},backend:n,attrs:{perm:u}}),c.push(d),l=Ba(1,o)[0]);const h=mG(d.shape,l,i),m=Me([d.shape[l]]),y=ct({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}});c.push(y);const v=KC(r.dtype),x=(A,S,C,E,D)=>{const I=A.shape[0],P=A.shape[1],R=hG(P,D),B={windowSize:R,inSize:P,batchSize:I,numSegments:D},U=new TRe(B,S),V=n.compileAndRun(U,[A,C],E);if(c.push(V),V.shape[1]===D)return V;const j=$W({backend:n,attrs:{start:0,stop:D,step:1,dtype:"float32"}}),W=LW({inputs:{x:j},backend:n,attrs:{reps:[P/R]}});return c.push(j),c.push(W),x(V,S,W,E,D)},k=x(y,"unsortedSegmentSum",s,v,i),b=ct({inputs:{x:k},backend:n,attrs:{shape:h}});let _=b;if(u!=null){c.push(b);const A=Lu(u);_=ms({inputs:{x:_},backend:n,attrs:{perm:A}})}return c.forEach(A=>n.disposeIntermediateTensorInfo(A)),_}const CRe={kernelName:Pb,backendName:"webgl",kernelFunc:ERe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IRe=[pNe,mNe,xNe,wNe,_Ne,SNe,ENe,INe,FNe,$Ne,BNe,UNe,jNe,XNe,QNe,eSe,nSe,iSe,cSe,uSe,hSe,wSe,_Se,TSe,CSe,OSe,LSe,GSe,YAe,VSe,XSe,JSe,sTe,cTe,uTe,dTe,hTe,xTe,wTe,ATe,STe,ETe,ITe,PTe,OTe,BTe,GTe,VTe,KTe,XTe,JTe,aEe,oEe,uEe,pEe,hEe,gEe,xEe,kEe,bEe,AEe,EEe,DEe,FEe,$Ee,BEe,UEe,HEe,YEe,XAe,QEe,KSe,tCe,rCe,oCe,QAe,fCe,mCe,yCe,wCe,ACe,ECe,DCe,OCe,BCe,UCe,VCe,qCe,YCe,QCe,nIe,rIe,iIe,cIe,uIe,hIe,xIe,bIe,IIe,tNe,FIe,LIe,zIe,WIe,DSe,HIe,qIe,YIe,JIe,a3e,eNe,s3e,o3e,l3e,f3e,d3e,RSe,SIe,m3e,v3e,_3e,aNe,T3e,I3e,F3e,L3e,G3e,W3e,H3e,X3e,Q3e,tDe,rDe,oDe,fDe,hDe,xDe,wDe,vSe,EIe,ADe,SDe,EDe,IDe,RDe,FDe,$De,MDe,zDe,WDe,jDe,KDe,XDe,QDe,eRe,nRe,rRe,TIe,uNe,oRe,uRe,dRe,mRe,vRe,bRe,fNe,ARe,SRe,CRe,KIe];for(const t of IRe)z6(t);const Df=class Df{constructor(){lo(this,"model",null);lo(this,"modelLoading",null);lo(this,"numClass",1)}static getInstance(){return Df.instance||(Df.instance=new Df),Df.instance}async loadModel(e="/model/model.json"){if(!this.model)return this.modelLoading?this.modelLoading:(this.modelLoading=new Promise((n,a)=>{fye(e).then(r=>{this.model=r,console.log("Model loaded successfully"),n()}).catch(r=>{console.error("Error loading model:",r),this.modelLoading=null,a(r)})}),this.modelLoading)}isModelLoaded(){return!!this.model}preprocessImage(e,n,a){const r=e.width,s=e.height,i=Math.max(r,s),o=i,c=i;return{input:Ne(()=>{const d=Ede(e).pad([[0,i-s],[0,i-r],[0,0]]);return Wi.resizeBilinear(d,[n,a]).div(255).expandDims(0)}),originalWidth:r,originalHeight:s,paddedWidth:o,paddedHeight:c}}async fileToImage(e){return new Promise((n,a)=>{if(!e.type.startsWith("image/"))return a(new Error("Invalid file type"));const r=new FileReader;r.onload=()=>{const s=new Image;s.src=r.result,s.onload=()=>{n(s)},s.onerror=i=>{a(i)}},r.onerror=s=>{a(s)},r.readAsDataURL(e)})}async detectSingleImage(e){if(!this.model)throw new Error("Model not loaded");const n=640,a=640,r=.1,s=.1,{input:i,originalWidth:o,originalHeight:c,paddedWidth:l,paddedHeight:u}=this.preprocessImage(e,n,a);try{Mi().startScope();const d=this.model.predict(i),[h,m,y]=Ne(()=>{let C;d.shape.length===3&&d.shape[0]===1?C=d.squeeze([0]):C=d;const D=C.slice([0,0],[4,-1]).transpose(),I=D.slice([0,0],[-1,1]),P=D.slice([0,1],[-1,1]),R=D.slice([0,2],[-1,1]),B=D.slice([0,3],[-1,1]),U=mt(I,bt(R,2)),V=mt(P,bt(B,2)),j=qe(U,R),W=qe(V,B),J=Ea([V,U,W,j],1),q=C.slice([4,0],[1,-1]).squeeze(),Z=C.slice([5,0],[this.numClass,-1]),M=q,se=ad(Z,0);return[J,M,se]}),v=await Wi.nonMaxSuppressionAsync(h,m,100,s,r),x=Ne(()=>Ea([h.gather(v,0),m.gather(v,0).expandDims(1),y.gather(v,0).expandDims(1)],1)),k=x.dataSync(),b=x.shape[0],_=[],A=o/l,S=c/u;for(let C=0;C<b;C++){const E=C*6,D=k[E],I=k[E+1],P=k[E+2],R=k[E+3],B=k[E+4],U=k[E+5],V=I*o/640/A,j=D*c/640/S,W=R*o/640/A,J=P*c/640/S,q=[[V,j],[W,j],[W,J],[V,J]];_.push({points:q,confidence:B*100,class:"pokemon_card",label:U})}return _}finally{i.dispose(),Mi().endScope()}}async detectImages(e){this.model||await this.loadModel();const n=[];for(let a=0;a<e.length;a++)try{const r=await this.fileToImage(e[a]),s=await this.detectSingleImage(r);n.push({imageIndex:a,detections:s})}catch(r){console.error(`Error detecting objects in image ${a}:`,r),n.push({imageIndex:a,detections:[]})}return n}};lo(Df,"instance");let LT=Df;const DRe=({onDetectionComplete:t,modelPath:e="/model/model.json"})=>{const{user:n}=F.use(vl),{ownedCards:a,setOwnedCards:r}=F.use(Jg),s=F.useRef(null),[i,o]=F.useState(!1),[c,l]=F.useState(!1),[u,d]=F.useState(!1),[h,m]=F.useState("0%"),[y,v]=F.useState([]),[x,k]=F.useState(1),[b,_]=F.useState(!1),[A,S]=F.useState(!1),[C,E]=F.useState(!1),D=LT.getInstance();F.useEffect(()=>{i&&(I().catch(console.error),U().catch(console.error))},[e,i]);const I=async()=>{try{l(!0),await D.loadModel(e),console.log("Model loaded successfully")}catch(ge){console.error("Error loading model:",ge)}finally{l(!1)}},P=gk.getInstance(),R=MS.getInstance(),B=F.useMemo(()=>uh.reduce((ge,G)=>(ge.some(te=>te.card_id===G.card_id)||ge.push(G),ge),[]),[uh]),U=async()=>{try{if(d(!0),await R.initDB(),await R.getHashCount()!==B.length){console.log("Checking and generating missing card hashes...");const G=80,te=B.length,ee=[],ae=await R.getAllHashes();for(let be=0;be<te;be+=G){const Ae=B.slice(be,be+G).map(async Ve=>{var tt;try{const lt=ae.find($t=>$t.id===Ve.card_id);if(lt)return lt;const zt=await P.calculatePerceptualHash(`/images/${(tt=Ve.image)==null?void 0:tt.split("/").at(-1)}`);return{id:Ve.card_id,hash:zt}}catch(lt){return console.error(`Error generating hash for card ${Ve.card_id}:`,lt),null}}),$e=(await Promise.all(Ae)).filter(Ve=>Ve!==null);ee.push(...$e),await new Promise(Ve=>setTimeout(Ve,0));const He=(Math.min(be+G,te)/te*100).toFixed(0);m(`${He}%`)}await R.storeHashes(ee),console.log("All missing hashes generated and stored")}else console.log("Using stored hashes from IndexDB")}catch(ge){console.error("Error in hash generation/storage:",ge)}finally{d(!1)}},V=async(ge,G)=>{if(!ge.type.startsWith("image/"))throw new Error("Invalid file type");const te=new Image,ee=URL.createObjectURL(ge),ae=gk.getInstance();return new Promise(be=>{if(te.onload=async()=>{const Y=document.createElement("canvas"),Ae=Y.getContext("2d"),Oe=await R.getAllHashes(),$e=await Promise.all(G.detections.filter(He=>He.confidence>=50).map(async He=>{var Bn;const Ve=He.points,[tt,lt]=Ve[0],[zt,$t]=Ve[2],st=zt-tt,Be=$t-lt;Y.width=st,Y.height=Be,Ae==null||Ae.drawImage(te,tt,lt,st,Be,0,0,st,Be);const Fe=Y.toDataURL("image/png"),Dt=await ae.calculatePerceptualHash(Fe),Rt=Oe.map(it=>{const qt=ae.calculateHammingDistance(Dt,it.hash),Xt=B.find(Ht=>Ht.card_id===it.id);return{id:it.id,distance:qt,card:Xt}}).sort((it,qt)=>it.distance-qt.distance).slice(0,5),Mn=Rt[0];return{imageUrl:Fe,confidence:He.confidence,hash:Dt,matchedCard:Mn?{id:Mn.id,distance:Mn.distance,imageUrl:`/images/${(Bn=Mn.card.image)==null?void 0:Bn.split("/").at(-1)}`}:void 0,topMatches:Rt,selected:!0}}));URL.revokeObjectURL(ee),be($e)},ee.startsWith("blob:"))te.src=ee;else throw console.error("Invalid image URL:",ee),URL.revokeObjectURL(ee),new Error("Invalid image URL")})},j=async ge=>{S(!0);const G=ge.target.files;if(!G||G.length===0)return;const te=Array.from(G).filter(ee=>ee.type.startsWith("image/"));if(te.length!==0)try{D.isModelLoaded()||await D.loadModel(e);const ee=await D.detectImages(te);console.log(ee);const ae=[];for(let be=0;be<te.length;be++){const Y=await V(te[be],ee[be]);ae.push(...Y)}v(ae),console.log(ae),t&&t(ee)}catch(ee){console.error("Error during detection:",ee)}finally{S(!1)}},W=(ge,G)=>{v(te=>{const ee=[...te];return ee[ge]={...ee[ge],selected:G},ee})},J=()=>{v(ge=>ge.map(G=>({...G,selected:!0})))},q=()=>{v(ge=>ge.map(G=>({...G,selected:!1})))},Z=y.filter(ge=>ge.selected).length,M=()=>{x>0&&k(ge=>ge-1)},se=()=>{k(ge=>ge+1)},ue=(ge,G)=>{v(te=>{var be;const ee=[...te],ae=ee[ge];if(ae.topMatches){const Y=ae.topMatches.find(Ae=>Ae.id===G);Y&&(ee[ge]={...ae,matchedCard:{id:Y.id,distance:Y.distance,imageUrl:`/images/${(be=Y.card.image)==null?void 0:be.split("/").at(-1)}`}})}return ee})},le=ge=>{const G=ge.target.value.trim();if(G==="")k(0);else{const te=Number(G);Number.isNaN(te)||k(te<0?0:te)}},ie=async()=>{E(!0);const ge=y.filter(G=>G.selected&&G.matchedCard).map(G=>{var te;return(te=G.matchedCard)==null?void 0:te.id});if(ge.length>0)try{await Tee(ge.filter(G=>G!==void 0),x,a,r,n),o(!1),v([]),k(1),_(!1)}catch(G){console.error("Error incrementing card quantities:",G)}E(!1)},ye=(ge,G)=>L.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all duration-200 ${ge.selected?"border-blue-300 bg-blue-50 dark:bg-blue-900/70":"border-gray-200 grayscale"}`,onClick:()=>W(G,!ge.selected),children:L.jsxs("div",{className:"flex flex-col items-center",children:[ge.matchedCard&&ge.topMatches&&b&&L.jsxs("div",{className:"mt-2 mb-2 w-full",children:[L.jsx("p",{className:"text-sm font-medium mb-4",children:"Other potential matches:"}),L.jsx("div",{className:"grid grid-cols-4 gap-1",children:ge.topMatches.filter(te=>{var ee;return te.id!==((ee=ge.matchedCard)==null?void 0:ee.id)}).map(te=>{var ee;return L.jsxs("div",{className:"p-1 border rounded cursor-pointer hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transform hover:scale-150 hover:z-50 transition-all duration-200 ease-in-out",onClick:ae=>{ae.stopPropagation(),ue(G,te.id)},title:te.card.name,children:[L.jsx("img",{src:`/images/${(ee=te.card.image)==null?void 0:ee.split("/").at(-1)}`,alt:te.card.name,className:"w-full h-auto object-contain"}),L.jsxs("div",{className:"text-xs text-center mt-1 bg-black/60 text-white py-0.5 rounded",children:[(100-te.distance/128*100).toFixed(0),"%"]})]},te.id)})})]}),L.jsxs("div",{className:"flex w-full gap-2 mb-2",children:[L.jsxs("div",{className:"w-1/2 relative",children:[L.jsx("img",{src:ge.imageUrl,alt:`Detected card ${G+1}`,className:"w-full h-auto object-contain"}),L.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs px-1 py-0.5 text-center",children:"Extracted Card"})]}),ge.matchedCard&&L.jsxs("div",{className:"w-1/2 relative",children:[L.jsx("img",{src:ge.matchedCard.imageUrl,alt:"Best match",className:"w-full h-auto object-contain"}),L.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-green-500/80 text-white text-xs px-1 py-0.5 text-center",children:[(100-ge.matchedCard.distance/128*100).toFixed(0),"% match"]})]})]}),L.jsx("div",{className:"flex justify-between items-center mb-2 w-full",children:L.jsxs("span",{className:"text-sm font-medium",children:[ge.selected?"Selected":"Click to select"," ",ge.matchedCard&&ge.topMatches&&ge.topMatches.filter(te=>{var ee;return te.id===((ee=ge.matchedCard)==null?void 0:ee.id)}).map(te=>te.card.name).join(" ")]})})]})},G),ke=()=>L.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),L.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]});return L.jsxs("div",{className:"pokemon-card-detector flex justify-end",children:[L.jsx(ia,{onClick:()=>o(!0),variant:"ghost",children:"Scan"}),L.jsx(Hv,{open:i,onOpenChange:o,children:L.jsx(ME,{className:"DialogOverlay",children:L.jsxs(I0,{className:"DialogContent max-w-4xl",children:[L.jsx(D0,{children:L.jsx(R0,{children:"Pokemon card scanner"})}),!c&&!u&&y.length===0&&L.jsxs("div",{className:"file-input-container flex flex-col items-center justify-center p-6 border-2 border-dashed rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-900/10",onClick:()=>{var ge;return(ge=s.current)==null?void 0:ge.click()},children:[L.jsx(LS,{children:L.jsx("p",{className:"mb-4 text-center",children:"You can upload multiple images at once. The system will scan each image for Pokemon cards and display the results. You can verify the matches, select or deselect detected cards, and choose how much to increment the quantity for selected cards."})}),L.jsx("input",{type:"file",ref:s,onChange:j,accept:"image/*",multiple:!0,disabled:c,className:"w-full hidden"}),L.jsxs(ia,{variant:"outline",className:"mt-2",disabled:A,children:[A&&L.jsx(ke,{})," Select images"]})]}),(c||u)&&L.jsx(D6,{variant:"default",children:L.jsx(LS,{children:L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx(ke,{}),L.jsxs("p",{children:["Downloading and initializing scan model, please wait... (",h,")"]})]})})}),!c&&y.length>0&&L.jsxs("div",{children:[L.jsxs("div",{className:"flex gap-2 justify-between my-4 flex-wrap",children:[L.jsx(ia,{variant:"outline",onClick:q,className:"hidden sm:block",children:"Deselect all"}),L.jsxs(ia,{variant:"outline",onClick:()=>_(ge=>!ge),children:[b?"Hide":"Show"," edit matches"]}),L.jsx(ia,{variant:"outline",onClick:J,className:"hidden sm:block",children:"Select all"})]}),L.jsx("div",{className:"grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-4",children:y.map((ge,G)=>ye(ge,G))}),L.jsxs("div",{className:"flex flex-col items-center gap-2",children:[L.jsx("p",{className:"text-sm font-medium pt-4",children:"Set increment for selected cards"}),L.jsxs("div",{className:"flex items-center gap-x-1",children:[L.jsx(ia,{variant:"ghost",size:"icon",onClick:M,disabled:x===0,className:"rounded-full",children:L.jsx(EE,{size:14})}),L.jsx("input",{type:"text",min:"0",value:x,onChange:le,placeholder:"Enter amount",className:"w-10 text-center border-none rounded",onFocus:ge=>ge.target.select()}),L.jsx(ia,{variant:"ghost",size:"icon",onClick:se,className:"rounded-full",children:L.jsx(xB,{size:14})})]})]})]}),L.jsxs(R6,{className:"gap-y-4",children:[L.jsx(ia,{variant:"outline",onClick:()=>{o(!1),y.length>0&&(v([]),k(1),_(!1))},children:y.length>0?"Cancel":"Close"}),y.length>0&&L.jsx(ia,{onClick:ie,disabled:Z===0||C||c,variant:"default",children:C?L.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),L.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}):"Update selected cards"})]})]})})})]})};function N1(t){const e=t+"CollectionProvider",[n,a]=Du(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:y,children:v}=m,x=ns.useRef(null),k=ns.useRef(new Map).current;return L.jsx(r,{scope:y,itemMap:k,collectionRef:x,children:v})};i.displayName=e;const o=t+"CollectionSlot",c=ns.forwardRef((m,y)=>{const{scope:v,children:x}=m,k=s(o,v),b=xa(y,k.collectionRef);return L.jsx(Hf,{ref:b,children:x})});c.displayName=o;const l=t+"CollectionItemSlot",u="data-radix-collection-item",d=ns.forwardRef((m,y)=>{const{scope:v,children:x,...k}=m,b=ns.useRef(null),_=xa(y,b),A=s(l,v);return ns.useEffect(()=>(A.itemMap.set(b,{ref:b,...k}),()=>void A.itemMap.delete(b))),L.jsx(Hf,{[u]:"",ref:_,children:x})});d.displayName=l;function h(m){const y=s(t+"CollectionConsumer",m);return ns.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const k=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((A,S)=>k.indexOf(A.ref.current)-k.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:d},h,a]}var RRe=F.createContext(void 0);function q3(t){const e=F.useContext(RRe);return t||e||"ltr"}const PRe=["top","right","bottom","left"],_u=Math.min,si=Math.max,Hk=Math.round,bv=Math.floor,uc=t=>({x:t,y:t}),FRe={left:"right",right:"left",bottom:"top",top:"bottom"},ORe={start:"end",end:"start"};function MT(t,e,n){return si(t,_u(e,n))}function hl(t,e){return typeof t=="function"?t(e):t}function ml(t){return t.split("-")[0]}function sm(t){return t.split("-")[1]}function X3(t){return t==="x"?"y":"x"}function Y3(t){return t==="y"?"height":"width"}function Au(t){return["top","bottom"].includes(ml(t))?"y":"x"}function Z3(t){return X3(Au(t))}function $Re(t,e,n){n===void 0&&(n=!1);const a=sm(t),r=Z3(t),s=Y3(r);let i=r==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=Kk(i)),[i,Kk(i)]}function LRe(t){const e=Kk(t);return[BT(t),e,BT(e)]}function BT(t){return t.replace(/start|end/g,e=>ORe[e])}function MRe(t,e,n){const a=["left","right"],r=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:a:e?a:r;case"left":case"right":return e?s:i;default:return[]}}function BRe(t,e,n,a){const r=sm(t);let s=MRe(ml(t),n==="start",a);return r&&(s=s.map(i=>i+"-"+r),e&&(s=s.concat(s.map(BT)))),s}function Kk(t){return t.replace(/left|right|bottom|top/g,e=>FRe[e])}function zRe(t){return{top:0,right:0,bottom:0,left:0,...t}}function MW(t){return typeof t!="number"?zRe(t):{top:t,right:t,bottom:t,left:t}}function qk(t){const{x:e,y:n,width:a,height:r}=t;return{width:a,height:r,top:n,left:e,right:e+a,bottom:n+r,x:e,y:n}}function TL(t,e,n){let{reference:a,floating:r}=t;const s=Au(e),i=Z3(e),o=Y3(i),c=ml(e),l=s==="y",u=a.x+a.width/2-r.width/2,d=a.y+a.height/2-r.height/2,h=a[o]/2-r[o]/2;let m;switch(c){case"top":m={x:u,y:a.y-r.height};break;case"bottom":m={x:u,y:a.y+a.height};break;case"right":m={x:a.x+a.width,y:d};break;case"left":m={x:a.x-r.width,y:d};break;default:m={x:a.x,y:a.y}}switch(sm(e)){case"start":m[i]-=h*(n&&l?-1:1);break;case"end":m[i]+=h*(n&&l?-1:1);break}return m}const GRe=async(t,e,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:s=[],platform:i}=n,o=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let l=await i.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=TL(l,a,c),h=a,m={},y=0;for(let v=0;v<o.length;v++){const{name:x,fn:k}=o[v],{x:b,y:_,data:A,reset:S}=await k({x:u,y:d,initialPlacement:a,placement:h,strategy:r,middlewareData:m,rects:l,platform:i,elements:{reference:t,floating:e}});u=b??u,d=_??d,m={...m,[x]:{...m[x],...A}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(l=S.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:r}):S.rects),{x:u,y:d}=TL(l,h,c)),v=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:m}};async function Ng(t,e){var n;e===void 0&&(e={});const{x:a,y:r,platform:s,rects:i,elements:o,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=hl(e,t),y=MW(m),x=o[h?d==="floating"?"reference":"floating":d],k=qk(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:l,rootBoundary:u,strategy:c})),b=d==="floating"?{x:a,y:r,width:i.floating.width,height:i.floating.height}:i.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),A=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=qk(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:_,strategy:c}):b);return{top:(k.top-S.top+y.top)/A.y,bottom:(S.bottom-k.bottom+y.bottom)/A.y,left:(k.left-S.left+y.left)/A.x,right:(S.right-k.right+y.right)/A.x}}const URe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:r,rects:s,platform:i,elements:o,middlewareData:c}=e,{element:l,padding:u=0}=hl(t,e)||{};if(l==null)return{};const d=MW(u),h={x:n,y:a},m=Z3(r),y=Y3(m),v=await i.getDimensions(l),x=m==="y",k=x?"top":"left",b=x?"bottom":"right",_=x?"clientHeight":"clientWidth",A=s.reference[y]+s.reference[m]-h[m]-s.floating[y],S=h[m]-s.reference[m],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l));let E=C?C[_]:0;(!E||!await(i.isElement==null?void 0:i.isElement(C)))&&(E=o.floating[_]||s.floating[y]);const D=A/2-S/2,I=E/2-v[y]/2-1,P=_u(d[k],I),R=_u(d[b],I),B=P,U=E-v[y]-R,V=E/2-v[y]/2+D,j=MT(B,V,U),W=!c.arrow&&sm(r)!=null&&V!==j&&s.reference[y]/2-(V<B?P:R)-v[y]/2<0,J=W?V<B?V-B:V-U:0;return{[m]:h[m]+J,data:{[m]:j,centerOffset:V-j-J,...W&&{alignmentOffset:J}},reset:W}}}),WRe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:r,middlewareData:s,rects:i,initialPlacement:o,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...x}=hl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const k=ml(r),b=Au(o),_=ml(o)===o,A=await(c.isRTL==null?void 0:c.isRTL(l.floating)),S=h||(_||!v?[Kk(o)]:LRe(o)),C=y!=="none";!h&&C&&S.push(...BRe(o,v,y,A));const E=[o,...S],D=await Ng(e,x),I=[];let P=((a=s.flip)==null?void 0:a.overflows)||[];if(u&&I.push(D[k]),d){const V=$Re(r,i,A);I.push(D[V[0]],D[V[1]])}if(P=[...P,{placement:r,overflows:I}],!I.every(V=>V<=0)){var R,B;const V=(((R=s.flip)==null?void 0:R.index)||0)+1,j=E[V];if(j)return{data:{index:V,overflows:P},reset:{placement:j}};let W=(B=P.filter(J=>J.overflows[0]<=0).sort((J,q)=>J.overflows[1]-q.overflows[1])[0])==null?void 0:B.placement;if(!W)switch(m){case"bestFit":{var U;const J=(U=P.filter(q=>{if(C){const Z=Au(q.placement);return Z===b||Z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Z=>Z>0).reduce((Z,M)=>Z+M,0)]).sort((q,Z)=>q[1]-Z[1])[0])==null?void 0:U[0];J&&(W=J);break}case"initialPlacement":W=o;break}if(r!==W)return{reset:{placement:W}}}return{}}}};function EL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CL(t){return PRe.some(e=>t[e]>=0)}const VRe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...r}=hl(t,e);switch(a){case"referenceHidden":{const s=await Ng(e,{...r,elementContext:"reference"}),i=EL(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:CL(i)}}}case"escaped":{const s=await Ng(e,{...r,altBoundary:!0}),i=EL(s,n.floating);return{data:{escapedOffsets:i,escaped:CL(i)}}}default:return{}}}}};async function jRe(t,e){const{placement:n,platform:a,elements:r}=t,s=await(a.isRTL==null?void 0:a.isRTL(r.floating)),i=ml(n),o=sm(n),c=Au(n)==="y",l=["left","top"].includes(i)?-1:1,u=s&&c?-1:1,d=hl(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof y=="number"&&(m=o==="end"?y*-1:y),c?{x:m*u,y:h*l}:{x:h*l,y:m*u}}const HRe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:r,y:s,placement:i,middlewareData:o}=e,c=await jRe(e,t);return i===((n=o.offset)==null?void 0:n.placement)&&(a=o.arrow)!=null&&a.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:i}}}}},KRe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:r}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:o={fn:x=>{let{x:k,y:b}=x;return{x:k,y:b}}},...c}=hl(t,e),l={x:n,y:a},u=await Ng(e,c),d=Au(ml(r)),h=X3(d);let m=l[h],y=l[d];if(s){const x=h==="y"?"top":"left",k=h==="y"?"bottom":"right",b=m+u[x],_=m-u[k];m=MT(b,m,_)}if(i){const x=d==="y"?"top":"left",k=d==="y"?"bottom":"right",b=y+u[x],_=y-u[k];y=MT(b,y,_)}const v=o.fn({...e,[h]:m,[d]:y});return{...v,data:{x:v.x-n,y:v.y-a,enabled:{[h]:s,[d]:i}}}}}},qRe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:r,rects:s,middlewareData:i}=e,{offset:o=0,mainAxis:c=!0,crossAxis:l=!0}=hl(t,e),u={x:n,y:a},d=Au(r),h=X3(d);let m=u[h],y=u[d];const v=hl(o,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const _=h==="y"?"height":"width",A=s.reference[h]-s.floating[_]+x.mainAxis,S=s.reference[h]+s.reference[_]-x.mainAxis;m<A?m=A:m>S&&(m=S)}if(l){var k,b;const _=h==="y"?"width":"height",A=["top","left"].includes(ml(r)),S=s.reference[d]-s.floating[_]+(A&&((k=i.offset)==null?void 0:k[d])||0)+(A?0:x.crossAxis),C=s.reference[d]+s.reference[_]+(A?0:((b=i.offset)==null?void 0:b[d])||0)-(A?x.crossAxis:0);y<S?y=S:y>C&&(y=C)}return{[h]:m,[d]:y}}}},XRe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:r,rects:s,platform:i,elements:o}=e,{apply:c=()=>{},...l}=hl(t,e),u=await Ng(e,l),d=ml(r),h=sm(r),m=Au(r)==="y",{width:y,height:v}=s.floating;let x,k;d==="top"||d==="bottom"?(x=d,k=h===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(k=d,x=h==="end"?"top":"bottom");const b=v-u.top-u.bottom,_=y-u.left-u.right,A=_u(v-u[x],b),S=_u(y-u[k],_),C=!e.middlewareData.shift;let E=A,D=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=_),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(E=b),C&&!h){const P=si(u.left,0),R=si(u.right,0),B=si(u.top,0),U=si(u.bottom,0);m?D=y-2*(P!==0||R!==0?P+R:si(u.left,u.right)):E=v-2*(B!==0||U!==0?B+U:si(u.top,u.bottom))}await c({...e,availableWidth:D,availableHeight:E});const I=await i.getDimensions(o.floating);return y!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function N_(){return typeof window<"u"}function im(t){return BW(t)?(t.nodeName||"").toLowerCase():"#document"}function li(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ac(t){var e;return(e=(BW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BW(t){return N_()?t instanceof Node||t instanceof li(t).Node:!1}function Do(t){return N_()?t instanceof Element||t instanceof li(t).Element:!1}function yc(t){return N_()?t instanceof HTMLElement||t instanceof li(t).HTMLElement:!1}function IL(t){return!N_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof li(t).ShadowRoot}function S1(t){const{overflow:e,overflowX:n,overflowY:a,display:r}=Ro(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!["inline","contents"].includes(r)}function YRe(t){return["table","td","th"].includes(im(t))}function S_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Q3(t){const e=J3(),n=Do(t)?Ro(t):t;return["transform","translate","scale","rotate","perspective"].some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function ZRe(t){let e=Nu(t);for(;yc(e)&&!Nh(e);){if(Q3(e))return e;if(S_(e))return null;e=Nu(e)}return null}function J3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nh(t){return["html","body","#document"].includes(im(t))}function Ro(t){return li(t).getComputedStyle(t)}function T_(t){return Do(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Nu(t){if(im(t)==="html")return t;const e=t.assignedSlot||t.parentNode||IL(t)&&t.host||Ac(t);return IL(e)?e.host:e}function zW(t){const e=Nu(t);return Nh(e)?t.ownerDocument?t.ownerDocument.body:t.body:yc(e)&&S1(e)?e:zW(e)}function Sg(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=zW(t),s=r===((a=t.ownerDocument)==null?void 0:a.body),i=li(r);if(s){const o=zT(i);return e.concat(i,i.visualViewport||[],S1(r)?r:[],o&&n?Sg(o):[])}return e.concat(r,Sg(r,[],n))}function zT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function GW(t){const e=Ro(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const r=yc(t),s=r?t.offsetWidth:n,i=r?t.offsetHeight:a,o=Hk(n)!==s||Hk(a)!==i;return o&&(n=s,a=i),{width:n,height:a,$:o}}function eD(t){return Do(t)?t:t.contextElement}function rh(t){const e=eD(t);if(!yc(e))return uc(1);const n=e.getBoundingClientRect(),{width:a,height:r,$:s}=GW(e);let i=(s?Hk(n.width):n.width)/a,o=(s?Hk(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const QRe=uc(0);function UW(t){const e=li(t);return!J3()||!e.visualViewport?QRe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JRe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==li(t)?!1:e}function pd(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=eD(t);let i=uc(1);e&&(a?Do(a)&&(i=rh(a)):i=rh(t));const o=JRe(s,n,a)?UW(s):uc(0);let c=(r.left+o.x)/i.x,l=(r.top+o.y)/i.y,u=r.width/i.x,d=r.height/i.y;if(s){const h=li(s),m=a&&Do(a)?li(a):a;let y=h,v=zT(y);for(;v&&a&&m!==y;){const x=rh(v),k=v.getBoundingClientRect(),b=Ro(v),_=k.left+(v.clientLeft+parseFloat(b.paddingLeft))*x.x,A=k.top+(v.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,l*=x.y,u*=x.x,d*=x.y,c+=_,l+=A,y=li(v),v=zT(y)}}return qk({width:u,height:d,x:c,y:l})}function tD(t,e){const n=T_(t).scrollLeft;return e?e.left+n:pd(Ac(t)).left+n}function WW(t,e,n){n===void 0&&(n=!1);const a=t.getBoundingClientRect(),r=a.left+e.scrollLeft-(n?0:tD(t,a)),s=a.top+e.scrollTop;return{x:r,y:s}}function ePe(t){let{elements:e,rect:n,offsetParent:a,strategy:r}=t;const s=r==="fixed",i=Ac(a),o=e?S_(e.floating):!1;if(a===i||o&&s)return n;let c={scrollLeft:0,scrollTop:0},l=uc(1);const u=uc(0),d=yc(a);if((d||!d&&!s)&&((im(a)!=="body"||S1(i))&&(c=T_(a)),yc(a))){const m=pd(a);l=rh(a),u.x=m.x+a.clientLeft,u.y=m.y+a.clientTop}const h=i&&!d&&!s?WW(i,c,!0):uc(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}}function tPe(t){return Array.from(t.getClientRects())}function nPe(t){const e=Ac(t),n=T_(t),a=t.ownerDocument.body,r=si(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),s=si(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let i=-n.scrollLeft+tD(t);const o=-n.scrollTop;return Ro(a).direction==="rtl"&&(i+=si(e.clientWidth,a.clientWidth)-r),{width:r,height:s,x:i,y:o}}function aPe(t,e){const n=li(t),a=Ac(t),r=n.visualViewport;let s=a.clientWidth,i=a.clientHeight,o=0,c=0;if(r){s=r.width,i=r.height;const l=J3();(!l||l&&e==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}return{width:s,height:i,x:o,y:c}}function rPe(t,e){const n=pd(t,!0,e==="fixed"),a=n.top+t.clientTop,r=n.left+t.clientLeft,s=yc(t)?rh(t):uc(1),i=t.clientWidth*s.x,o=t.clientHeight*s.y,c=r*s.x,l=a*s.y;return{width:i,height:o,x:c,y:l}}function DL(t,e,n){let a;if(e==="viewport")a=aPe(t,n);else if(e==="document")a=nPe(Ac(t));else if(Do(e))a=rPe(e,n);else{const r=UW(t);a={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return qk(a)}function VW(t,e){const n=Nu(t);return n===e||!Do(n)||Nh(n)?!1:Ro(n).position==="fixed"||VW(n,e)}function sPe(t,e){const n=e.get(t);if(n)return n;let a=Sg(t,[],!1).filter(o=>Do(o)&&im(o)!=="body"),r=null;const s=Ro(t).position==="fixed";let i=s?Nu(t):t;for(;Do(i)&&!Nh(i);){const o=Ro(i),c=Q3(i);!c&&o.position==="fixed"&&(r=null),(s?!c&&!r:!c&&o.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||S1(i)&&!c&&VW(t,i))?a=a.filter(u=>u!==i):r=o,i=Nu(i)}return e.set(t,a),a}function iPe(t){let{element:e,boundary:n,rootBoundary:a,strategy:r}=t;const i=[...n==="clippingAncestors"?S_(e)?[]:sPe(e,this._c):[].concat(n),a],o=i[0],c=i.reduce((l,u)=>{const d=DL(e,u,r);return l.top=si(d.top,l.top),l.right=_u(d.right,l.right),l.bottom=_u(d.bottom,l.bottom),l.left=si(d.left,l.left),l},DL(e,o,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function oPe(t){const{width:e,height:n}=GW(t);return{width:e,height:n}}function cPe(t,e,n){const a=yc(e),r=Ac(e),s=n==="fixed",i=pd(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=uc(0);if(a||!a&&!s)if((im(e)!=="body"||S1(r))&&(o=T_(e)),a){const h=pd(e,!0,s,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else r&&(c.x=tD(r));const l=r&&!a&&!s?WW(r,o):uc(0),u=i.left+o.scrollLeft-c.x-l.x,d=i.top+o.scrollTop-c.y-l.y;return{x:u,y:d,width:i.width,height:i.height}}function WN(t){return Ro(t).position==="static"}function RL(t,e){if(!yc(t)||Ro(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ac(t)===n&&(n=n.ownerDocument.body),n}function jW(t,e){const n=li(t);if(S_(t))return n;if(!yc(t)){let r=Nu(t);for(;r&&!Nh(r);){if(Do(r)&&!WN(r))return r;r=Nu(r)}return n}let a=RL(t,e);for(;a&&YRe(a)&&WN(a);)a=RL(a,e);return a&&Nh(a)&&WN(a)&&!Q3(a)?n:a||ZRe(t)||n}const lPe=async function(t){const e=this.getOffsetParent||jW,n=this.getDimensions,a=await n(t.floating);return{reference:cPe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function uPe(t){return Ro(t).direction==="rtl"}const fPe={convertOffsetParentRelativeRectToViewportRelativeRect:ePe,getDocumentElement:Ac,getClippingRect:iPe,getOffsetParent:jW,getElementRects:lPe,getClientRects:tPe,getDimensions:oPe,getScale:rh,isElement:Do,isRTL:uPe};function HW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function dPe(t,e){let n=null,a;const r=Ac(t);function s(){var o;clearTimeout(a),(o=n)==null||o.disconnect(),n=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const l=t.getBoundingClientRect(),{left:u,top:d,width:h,height:m}=l;if(o||e(),!h||!m)return;const y=bv(d),v=bv(r.clientWidth-(u+h)),x=bv(r.clientHeight-(d+m)),k=bv(u),_={rootMargin:-y+"px "+-v+"px "+-x+"px "+-k+"px",threshold:si(0,_u(1,c))||1};let A=!0;function S(C){const E=C[0].intersectionRatio;if(E!==c){if(!A)return i();E?i(!1,E):a=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!HW(l,t.getBoundingClientRect())&&i(),A=!1}try{n=new IntersectionObserver(S,{..._,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,_)}n.observe(t)}return i(!0),s}function pPe(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,l=eD(t),u=r||s?[...l?Sg(l):[],...Sg(e)]:[];u.forEach(k=>{r&&k.addEventListener("scroll",n,{passive:!0}),s&&k.addEventListener("resize",n)});const d=l&&o?dPe(l,n):null;let h=-1,m=null;i&&(m=new ResizeObserver(k=>{let[b]=k;b&&b.target===l&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),l&&!c&&m.observe(l),m.observe(e));let y,v=c?pd(t):null;c&&x();function x(){const k=pd(t);v&&!HW(v,k)&&n(),v=k,y=requestAnimationFrame(x)}return n(),()=>{var k;u.forEach(b=>{r&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(k=m)==null||k.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const hPe=HRe,mPe=KRe,gPe=WRe,yPe=XRe,xPe=VRe,PL=URe,vPe=qRe,kPe=(t,e,n)=>{const a=new Map,r={platform:fPe,...n},s={...r.platform,_c:a};return GRe(t,e,{...r,platform:s})};var rk=typeof document<"u"?F.useLayoutEffect:F.useEffect;function Xk(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!Xk(t[a],e[a]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,r[a]))return!1;for(a=n;a--!==0;){const s=r[a];if(!(s==="_owner"&&t.$$typeof)&&!Xk(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function KW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function FL(t,e){const n=KW(t);return Math.round(e*n)/n}function VN(t){const e=F.useRef(t);return rk(()=>{e.current=t}),e}function wPe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:c,open:l}=t,[u,d]=F.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=F.useState(a);Xk(h,a)||m(a);const[y,v]=F.useState(null),[x,k]=F.useState(null),b=F.useCallback(q=>{q!==C.current&&(C.current=q,v(q))},[]),_=F.useCallback(q=>{q!==E.current&&(E.current=q,k(q))},[]),A=s||y,S=i||x,C=F.useRef(null),E=F.useRef(null),D=F.useRef(u),I=c!=null,P=VN(c),R=VN(r),B=VN(l),U=F.useCallback(()=>{if(!C.current||!E.current)return;const q={placement:e,strategy:n,middleware:h};R.current&&(q.platform=R.current),kPe(C.current,E.current,q).then(Z=>{const M={...Z,isPositioned:B.current!==!1};V.current&&!Xk(D.current,M)&&(D.current=M,Aw.flushSync(()=>{d(M)}))})},[h,e,n,R,B]);rk(()=>{l===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,d(q=>({...q,isPositioned:!1})))},[l]);const V=F.useRef(!1);rk(()=>(V.current=!0,()=>{V.current=!1}),[]),rk(()=>{if(A&&(C.current=A),S&&(E.current=S),A&&S){if(P.current)return P.current(A,S,U);U()}},[A,S,U,P,I]);const j=F.useMemo(()=>({reference:C,floating:E,setReference:b,setFloating:_}),[b,_]),W=F.useMemo(()=>({reference:A,floating:S}),[A,S]),J=F.useMemo(()=>{const q={position:n,left:0,top:0};if(!W.floating)return q;const Z=FL(W.floating,u.x),M=FL(W.floating,u.y);return o?{...q,transform:"translate("+Z+"px, "+M+"px)",...KW(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:M}},[n,o,W.floating,u.x,u.y]);return F.useMemo(()=>({...u,update:U,refs:j,elements:W,floatingStyles:J}),[u,U,j,W,J])}const bPe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:r}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?PL({element:a.current,padding:r}).fn(n):{}:a?PL({element:a,padding:r}).fn(n):{}}}},_Pe=(t,e)=>({...hPe(t),options:[t,e]}),APe=(t,e)=>({...mPe(t),options:[t,e]}),NPe=(t,e)=>({...vPe(t),options:[t,e]}),SPe=(t,e)=>({...gPe(t),options:[t,e]}),TPe=(t,e)=>({...yPe(t),options:[t,e]}),EPe=(t,e)=>({...xPe(t),options:[t,e]}),CPe=(t,e)=>({...bPe(t),options:[t,e]});var IPe="Arrow",qW=F.forwardRef((t,e)=>{const{children:n,width:a=10,height:r=5,...s}=t;return L.jsx(_n.svg,{...s,ref:e,width:a,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:L.jsx("polygon",{points:"0,0 30,0 15,10"})})});qW.displayName=IPe;var DPe=qW;function RPe(t){const[e,n]=F.useState(void 0);return No(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let i,o;if("borderBoxSize"in s){const c=s.borderBoxSize,l=Array.isArray(c)?c[0]:c;i=l.inlineSize,o=l.blockSize}else i=t.offsetWidth,o=t.offsetHeight;n({width:i,height:o})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}var nD="Popper",[XW,YW]=Du(nD),[PPe,ZW]=XW(nD),QW=t=>{const{__scopePopper:e,children:n}=t,[a,r]=F.useState(null);return L.jsx(PPe,{scope:e,anchor:a,onAnchorChange:r,children:n})};QW.displayName=nD;var JW="PopperAnchor",eV=F.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...r}=t,s=ZW(JW,n),i=F.useRef(null),o=xa(e,i);return F.useEffect(()=>{s.onAnchorChange((a==null?void 0:a.current)||i.current)}),a?null:L.jsx(_n.div,{...r,ref:o})});eV.displayName=JW;var aD="PopperContent",[FPe,OPe]=XW(aD),tV=F.forwardRef((t,e)=>{var ge,G,te,ee,ae,be;const{__scopePopper:n,side:a="bottom",sideOffset:r=0,align:s="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...v}=t,x=ZW(aD,n),[k,b]=F.useState(null),_=xa(e,Y=>b(Y)),[A,S]=F.useState(null),C=RPe(A),E=(C==null?void 0:C.width)??0,D=(C==null?void 0:C.height)??0,I=a+(s!=="center"?"-"+s:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(l)?l:[l],B=R.length>0,U={padding:P,boundary:R.filter(LPe),altBoundary:B},{refs:V,floatingStyles:j,placement:W,isPositioned:J,middlewareData:q}=wPe({strategy:"fixed",placement:I,whileElementsMounted:(...Y)=>pPe(...Y,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[_Pe({mainAxis:r+D,alignmentAxis:i}),c&&APe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?NPe():void 0,...U}),c&&SPe({...U}),TPe({...U,apply:({elements:Y,rects:Ae,availableWidth:Oe,availableHeight:$e})=>{const{width:He,height:Ve}=Ae.reference,tt=Y.floating.style;tt.setProperty("--radix-popper-available-width",`${Oe}px`),tt.setProperty("--radix-popper-available-height",`${$e}px`),tt.setProperty("--radix-popper-anchor-width",`${He}px`),tt.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),A&&CPe({element:A,padding:o}),MPe({arrowWidth:E,arrowHeight:D}),h&&EPe({strategy:"referenceHidden",...U})]}),[Z,M]=rV(W),se=$a(y);No(()=>{J&&(se==null||se())},[J,se]);const ue=(ge=q.arrow)==null?void 0:ge.x,le=(G=q.arrow)==null?void 0:G.y,ie=((te=q.arrow)==null?void 0:te.centerOffset)!==0,[ye,ke]=F.useState();return No(()=>{k&&ke(window.getComputedStyle(k).zIndex)},[k]),L.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:J?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(ee=q.transformOrigin)==null?void 0:ee.x,(ae=q.transformOrigin)==null?void 0:ae.y].join(" "),...((be=q.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:L.jsx(FPe,{scope:n,placedSide:Z,onArrowChange:S,arrowX:ue,arrowY:le,shouldHideArrow:ie,children:L.jsx(_n.div,{"data-side":Z,"data-align":M,...v,ref:_,style:{...v.style,animation:J?void 0:"none"}})})})});tV.displayName=aD;var nV="PopperArrow",$Pe={top:"bottom",right:"left",bottom:"top",left:"right"},aV=F.forwardRef(function(e,n){const{__scopePopper:a,...r}=e,s=OPe(nV,a),i=$Pe[s.placedSide];return L.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:L.jsx(DPe,{...r,ref:n,style:{...r.style,display:"block"}})})});aV.displayName=nV;function LPe(t){return t!==null}var MPe=t=>({name:"transformOrigin",options:t,fn(e){var x,k,b;const{placement:n,rects:a,middlewareData:r}=e,i=((x=r.arrow)==null?void 0:x.centerOffset)!==0,o=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[l,u]=rV(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((k=r.arrow)==null?void 0:k.x)??0)+o/2,m=(((b=r.arrow)==null?void 0:b.y)??0)+c/2;let y="",v="";return l==="bottom"?(y=i?d:`${h}px`,v=`${-c}px`):l==="top"?(y=i?d:`${h}px`,v=`${a.floating.height+c}px`):l==="right"?(y=`${-c}px`,v=i?d:`${m}px`):l==="left"&&(y=`${a.floating.width+c}px`,v=i?d:`${m}px`),{data:{x:y,y:v}}}});function rV(t){const[e,n="center"]=t.split("-");return[e,n]}var BPe=QW,zPe=eV,GPe=tV,UPe=aV,jN="rovingFocusGroup.onEntryFocus",WPe={bubbles:!1,cancelable:!0},E_="RovingFocusGroup",[GT,sV,VPe]=N1(E_),[jPe,iV]=Du(E_,[VPe]),[HPe,KPe]=jPe(E_),oV=F.forwardRef((t,e)=>L.jsx(GT.Provider,{scope:t.__scopeRovingFocusGroup,children:L.jsx(GT.Slot,{scope:t.__scopeRovingFocusGroup,children:L.jsx(qPe,{...t,ref:e})})}));oV.displayName=E_;var qPe=F.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:r=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...d}=t,h=F.useRef(null),m=xa(e,h),y=q3(s),[v=null,x]=zh({prop:i,defaultProp:o,onChange:c}),[k,b]=F.useState(!1),_=$a(l),A=sV(n),S=F.useRef(!1),[C,E]=F.useState(0);return F.useEffect(()=>{const D=h.current;if(D)return D.addEventListener(jN,_),()=>D.removeEventListener(jN,_)},[_]),L.jsx(HPe,{scope:n,orientation:a,dir:y,loop:r,currentTabStopId:v,onItemFocus:F.useCallback(D=>x(D),[x]),onItemShiftTab:F.useCallback(()=>b(!0),[]),onFocusableItemAdd:F.useCallback(()=>E(D=>D+1),[]),onFocusableItemRemove:F.useCallback(()=>E(D=>D-1),[]),children:L.jsx(_n.div,{tabIndex:k||C===0?-1:0,"data-orientation":a,...d,ref:m,style:{outline:"none",...t.style},onMouseDown:wt(t.onMouseDown,()=>{S.current=!0}),onFocus:wt(t.onFocus,D=>{const I=!S.current;if(D.target===D.currentTarget&&I&&!k){const P=new CustomEvent(jN,WPe);if(D.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=A().filter(W=>W.focusable),B=R.find(W=>W.active),U=R.find(W=>W.id===v),j=[B,U,...R].filter(Boolean).map(W=>W.ref.current);uV(j,u)}}S.current=!1}),onBlur:wt(t.onBlur,()=>b(!1))})})}),cV="RovingFocusGroupItem",lV=F.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:r=!1,tabStopId:s,...i}=t,o=nu(),c=s||o,l=KPe(cV,n),u=l.currentTabStopId===c,d=sV(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=l;return F.useEffect(()=>{if(a)return h(),()=>m()},[a,h,m]),L.jsx(GT.ItemSlot,{scope:n,id:c,focusable:a,active:r,children:L.jsx(_n.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...i,ref:e,onMouseDown:wt(t.onMouseDown,y=>{a?l.onItemFocus(c):y.preventDefault()}),onFocus:wt(t.onFocus,()=>l.onItemFocus(c)),onKeyDown:wt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){l.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=ZPe(y,l.orientation,l.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let k=d().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")k.reverse();else if(v==="prev"||v==="next"){v==="prev"&&k.reverse();const b=k.indexOf(y.currentTarget);k=l.loop?QPe(k,b+1):k.slice(b+1)}setTimeout(()=>uV(k))}})})})});lV.displayName=cV;var XPe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YPe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ZPe(t,e,n){const a=YPe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return XPe[a]}function uV(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function QPe(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var JPe=oV,e4e=lV,UT=["Enter"," "],t4e=["ArrowDown","PageUp","Home"],fV=["ArrowUp","PageDown","End"],n4e=[...t4e,...fV],a4e={ltr:[...UT,"ArrowRight"],rtl:[...UT,"ArrowLeft"]},r4e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},T1="Menu",[Tg,s4e,i4e]=N1(T1),[Ld,dV]=Du(T1,[i4e,YW,iV]),C_=YW(),pV=iV(),[o4e,Md]=Ld(T1),[c4e,E1]=Ld(T1),hV=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:r,onOpenChange:s,modal:i=!0}=t,o=C_(e),[c,l]=F.useState(null),u=F.useRef(!1),d=$a(s),h=q3(r);return F.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),L.jsx(BPe,{...o,children:L.jsx(o4e,{scope:e,open:n,onOpenChange:d,content:c,onContentChange:l,children:L.jsx(c4e,{scope:e,onClose:F.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:i,children:a})})})};hV.displayName=T1;var l4e="MenuAnchor",rD=F.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,r=C_(n);return L.jsx(zPe,{...r,...a,ref:e})});rD.displayName=l4e;var sD="MenuPortal",[u4e,mV]=Ld(sD,{forceMount:void 0}),gV=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:r}=t,s=Md(sD,e);return L.jsx(u4e,{scope:e,forceMount:n,children:L.jsx(mi,{present:n||s.open,children:L.jsx(Nw,{asChild:!0,container:r,children:a})})})};gV.displayName=sD;var Xi="MenuContent",[f4e,iD]=Ld(Xi),yV=F.forwardRef((t,e)=>{const n=mV(Xi,t.__scopeMenu),{forceMount:a=n.forceMount,...r}=t,s=Md(Xi,t.__scopeMenu),i=E1(Xi,t.__scopeMenu);return L.jsx(Tg.Provider,{scope:t.__scopeMenu,children:L.jsx(mi,{present:a||s.open,children:L.jsx(Tg.Slot,{scope:t.__scopeMenu,children:i.modal?L.jsx(d4e,{...r,ref:e}):L.jsx(p4e,{...r,ref:e})})})})}),d4e=F.forwardRef((t,e)=>{const n=Md(Xi,t.__scopeMenu),a=F.useRef(null),r=xa(e,a);return F.useEffect(()=>{const s=a.current;if(s)return FB(s)},[]),L.jsx(oD,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:wt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),p4e=F.forwardRef((t,e)=>{const n=Md(Xi,t.__scopeMenu);return L.jsx(oD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),oD=F.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...v}=t,x=Md(Xi,n),k=E1(Xi,n),b=C_(n),_=pV(n),A=s4e(n),[S,C]=F.useState(null),E=F.useRef(null),D=xa(e,E,x.onContentChange),I=F.useRef(0),P=F.useRef(""),R=F.useRef(0),B=F.useRef(null),U=F.useRef("right"),V=F.useRef(0),j=y?DE:F.Fragment,W=y?{as:Hf,allowPinchZoom:!0}:void 0,J=Z=>{var ge,G;const M=P.current+Z,se=A().filter(te=>!te.disabled),ue=document.activeElement,le=(ge=se.find(te=>te.ref.current===ue))==null?void 0:ge.textValue,ie=se.map(te=>te.textValue),ye=N4e(ie,M,le),ke=(G=se.find(te=>te.textValue===ye))==null?void 0:G.ref.current;(function te(ee){P.current=ee,window.clearTimeout(I.current),ee!==""&&(I.current=window.setTimeout(()=>te(""),1e3))})(M),ke&&setTimeout(()=>ke.focus())};F.useEffect(()=>()=>window.clearTimeout(I.current),[]),NB();const q=F.useCallback(Z=>{var se,ue;return U.current===((se=B.current)==null?void 0:se.side)&&T4e(Z,(ue=B.current)==null?void 0:ue.area)},[]);return L.jsx(f4e,{scope:n,searchRef:P,onItemEnter:F.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),onItemLeave:F.useCallback(Z=>{var M;q(Z)||((M=E.current)==null||M.focus(),C(null))},[q]),onTriggerLeave:F.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),pointerGraceTimerRef:R,onPointerGraceIntentChange:F.useCallback(Z=>{B.current=Z},[]),children:L.jsx(j,{...W,children:L.jsx(IE,{asChild:!0,trapped:r,onMountAutoFocus:wt(s,Z=>{var M;Z.preventDefault(),(M=E.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:L.jsx(ey,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:m,children:L.jsx(JPe,{asChild:!0,..._,dir:k.dir,orientation:"vertical",loop:a,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:wt(c,Z=>{k.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:L.jsx(GPe,{role:"menu","aria-orientation":"vertical","data-state":PV(x.open),"data-radix-menu-content":"",dir:k.dir,...b,...v,ref:D,style:{outline:"none",...v.style},onKeyDown:wt(v.onKeyDown,Z=>{const se=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,ue=Z.ctrlKey||Z.altKey||Z.metaKey,le=Z.key.length===1;se&&(Z.key==="Tab"&&Z.preventDefault(),!ue&&le&&J(Z.key));const ie=E.current;if(Z.target!==ie||!n4e.includes(Z.key))return;Z.preventDefault();const ke=A().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);fV.includes(Z.key)&&ke.reverse(),_4e(ke)}),onBlur:wt(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:wt(t.onPointerMove,Eg(Z=>{const M=Z.target,se=V.current!==Z.clientX;if(Z.currentTarget.contains(M)&&se){const ue=Z.clientX>V.current?"right":"left";U.current=ue,V.current=Z.clientX}}))})})})})})})});yV.displayName=Xi;var h4e="MenuGroup",cD=F.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return L.jsx(_n.div,{role:"group",...a,ref:e})});cD.displayName=h4e;var m4e="MenuLabel",xV=F.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return L.jsx(_n.div,{...a,ref:e})});xV.displayName=m4e;var Yk="MenuItem",OL="menu.itemSelect",I_=F.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...r}=t,s=F.useRef(null),i=E1(Yk,t.__scopeMenu),o=iD(Yk,t.__scopeMenu),c=xa(e,s),l=F.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(OL,{bubbles:!0,cancelable:!0});d.addEventListener(OL,m=>a==null?void 0:a(m),{once:!0}),Y0(d,h),h.defaultPrevented?l.current=!1:i.onClose()}};return L.jsx(vV,{...r,ref:c,disabled:n,onClick:wt(t.onClick,u),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),l.current=!0},onPointerUp:wt(t.onPointerUp,d=>{var h;l.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:wt(t.onKeyDown,d=>{const h=o.searchRef.current!=="";n||h&&d.key===" "||UT.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});I_.displayName=Yk;var vV=F.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:r,...s}=t,i=iD(Yk,n),o=pV(n),c=F.useRef(null),l=xa(e,c),[u,d]=F.useState(!1),[h,m]=F.useState("");return F.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[s.children]),L.jsx(Tg.ItemSlot,{scope:n,disabled:a,textValue:r??h,children:L.jsx(e4e,{asChild:!0,...o,focusable:!a,children:L.jsx(_n.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...s,ref:l,onPointerMove:wt(t.onPointerMove,Eg(y=>{a?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:wt(t.onPointerLeave,Eg(y=>i.onItemLeave(y))),onFocus:wt(t.onFocus,()=>d(!0)),onBlur:wt(t.onBlur,()=>d(!1))})})})}),g4e="MenuCheckboxItem",kV=F.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...r}=t;return L.jsx(NV,{scope:t.__scopeMenu,checked:n,children:L.jsx(I_,{role:"menuitemcheckbox","aria-checked":Zk(n)?"mixed":n,...r,ref:e,"data-state":uD(n),onSelect:wt(r.onSelect,()=>a==null?void 0:a(Zk(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kV.displayName=g4e;var wV="MenuRadioGroup",[y4e,x4e]=Ld(wV,{value:void 0,onValueChange:()=>{}}),bV=F.forwardRef((t,e)=>{const{value:n,onValueChange:a,...r}=t,s=$a(a);return L.jsx(y4e,{scope:t.__scopeMenu,value:n,onValueChange:s,children:L.jsx(cD,{...r,ref:e})})});bV.displayName=wV;var _V="MenuRadioItem",AV=F.forwardRef((t,e)=>{const{value:n,...a}=t,r=x4e(_V,t.__scopeMenu),s=n===r.value;return L.jsx(NV,{scope:t.__scopeMenu,checked:s,children:L.jsx(I_,{role:"menuitemradio","aria-checked":s,...a,ref:e,"data-state":uD(s),onSelect:wt(a.onSelect,()=>{var i;return(i=r.onValueChange)==null?void 0:i.call(r,n)},{checkForDefaultPrevented:!1})})})});AV.displayName=_V;var lD="MenuItemIndicator",[NV,v4e]=Ld(lD,{checked:!1}),SV=F.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...r}=t,s=v4e(lD,n);return L.jsx(mi,{present:a||Zk(s.checked)||s.checked===!0,children:L.jsx(_n.span,{...r,ref:e,"data-state":uD(s.checked)})})});SV.displayName=lD;var k4e="MenuSeparator",TV=F.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return L.jsx(_n.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});TV.displayName=k4e;var w4e="MenuArrow",EV=F.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,r=C_(n);return L.jsx(UPe,{...r,...a,ref:e})});EV.displayName=w4e;var b4e="MenuSub",[KVe,CV]=Ld(b4e),A0="MenuSubTrigger",IV=F.forwardRef((t,e)=>{const n=Md(A0,t.__scopeMenu),a=E1(A0,t.__scopeMenu),r=CV(A0,t.__scopeMenu),s=iD(A0,t.__scopeMenu),i=F.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=s,l={__scopeMenu:t.__scopeMenu},u=F.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return F.useEffect(()=>u,[u]),F.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),c(null)}},[o,c]),L.jsx(rD,{asChild:!0,...l,children:L.jsx(vV,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":PV(n.open),...t,ref:Zg(e,r.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:wt(t.onPointerMove,Eg(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:wt(t.onPointerLeave,Eg(d=>{var m,y;u();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(y=n.content)==null?void 0:y.dataset.side,x=v==="right",k=x?-5:5,b=h[x?"left":"right"],_=h[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+k,y:d.clientY},{x:b,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:b,y:h.bottom}],side:v}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:wt(t.onKeyDown,d=>{var m;const h=s.searchRef.current!=="";t.disabled||h&&d.key===" "||a4e[a.dir].includes(d.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),d.preventDefault())})})})});IV.displayName=A0;var DV="MenuSubContent",RV=F.forwardRef((t,e)=>{const n=mV(Xi,t.__scopeMenu),{forceMount:a=n.forceMount,...r}=t,s=Md(Xi,t.__scopeMenu),i=E1(Xi,t.__scopeMenu),o=CV(DV,t.__scopeMenu),c=F.useRef(null),l=xa(e,c);return L.jsx(Tg.Provider,{scope:t.__scopeMenu,children:L.jsx(mi,{present:a||s.open,children:L.jsx(Tg.Slot,{scope:t.__scopeMenu,children:L.jsx(oD,{id:o.contentId,"aria-labelledby":o.triggerId,...r,ref:l,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;i.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:wt(t.onFocusOutside,u=>{u.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:wt(t.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:wt(t.onKeyDown,u=>{var m;const d=u.currentTarget.contains(u.target),h=r4e[i.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(m=o.trigger)==null||m.focus(),u.preventDefault())})})})})})});RV.displayName=DV;function PV(t){return t?"open":"closed"}function Zk(t){return t==="indeterminate"}function uD(t){return Zk(t)?"indeterminate":t?"checked":"unchecked"}function _4e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function A4e(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function N4e(t,e,n){const r=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=A4e(t,Math.max(s,0));r.length===1&&(i=i.filter(l=>l!==n));const c=i.find(l=>l.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function S4e(t,e){const{x:n,y:a}=t;let r=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const o=e[s].x,c=e[s].y,l=e[i].x,u=e[i].y;c>a!=u>a&&n<(l-o)*(a-c)/(u-c)+o&&(r=!r)}return r}function T4e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return S4e(n,e)}function Eg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var E4e=hV,C4e=rD,I4e=gV,D4e=yV,R4e=cD,P4e=xV,F4e=I_,O4e=kV,$4e=bV,L4e=AV,M4e=SV,B4e=TV,z4e=EV,G4e=IV,U4e=RV,fD="DropdownMenu",[W4e,qVe]=Du(fD,[dV]),Ps=dV(),[V4e,FV]=W4e(fD),OV=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,c=Ps(e),l=F.useRef(null),[u=!1,d]=zh({prop:r,defaultProp:s,onChange:i});return L.jsx(V4e,{scope:e,triggerId:nu(),triggerRef:l,contentId:nu(),open:u,onOpenChange:d,onOpenToggle:F.useCallback(()=>d(h=>!h),[d]),modal:o,children:L.jsx(E4e,{...c,open:u,onOpenChange:d,dir:a,modal:o,children:n})})};OV.displayName=fD;var $V="DropdownMenuTrigger",LV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...r}=t,s=FV($V,n),i=Ps(n);return L.jsx(C4e,{asChild:!0,...i,children:L.jsx(_n.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...r,ref:Zg(e,s.triggerRef),onPointerDown:wt(t.onPointerDown,o=>{!a&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:wt(t.onKeyDown,o=>{a||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});LV.displayName=$V;var j4e="DropdownMenuPortal",MV=t=>{const{__scopeDropdownMenu:e,...n}=t,a=Ps(e);return L.jsx(I4e,{...a,...n})};MV.displayName=j4e;var BV="DropdownMenuContent",zV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=FV(BV,n),s=Ps(n),i=F.useRef(!1);return L.jsx(D4e,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...a,ref:e,onCloseAutoFocus:wt(t.onCloseAutoFocus,o=>{var c;i.current||(c=r.triggerRef.current)==null||c.focus(),i.current=!1,o.preventDefault()}),onInteractOutside:wt(t.onInteractOutside,o=>{const c=o.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;(!r.modal||u)&&(i.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zV.displayName=BV;var H4e="DropdownMenuGroup",GV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(R4e,{...r,...a,ref:e})});GV.displayName=H4e;var K4e="DropdownMenuLabel",UV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(P4e,{...r,...a,ref:e})});UV.displayName=K4e;var q4e="DropdownMenuItem",WV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(F4e,{...r,...a,ref:e})});WV.displayName=q4e;var X4e="DropdownMenuCheckboxItem",VV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(O4e,{...r,...a,ref:e})});VV.displayName=X4e;var Y4e="DropdownMenuRadioGroup",Z4e=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx($4e,{...r,...a,ref:e})});Z4e.displayName=Y4e;var Q4e="DropdownMenuRadioItem",jV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(L4e,{...r,...a,ref:e})});jV.displayName=Q4e;var J4e="DropdownMenuItemIndicator",HV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(M4e,{...r,...a,ref:e})});HV.displayName=J4e;var eFe="DropdownMenuSeparator",KV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(B4e,{...r,...a,ref:e})});KV.displayName=eFe;var tFe="DropdownMenuArrow",nFe=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(z4e,{...r,...a,ref:e})});nFe.displayName=tFe;var aFe="DropdownMenuSubTrigger",qV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(G4e,{...r,...a,ref:e})});qV.displayName=aFe;var rFe="DropdownMenuSubContent",XV=F.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,r=Ps(n);return L.jsx(U4e,{...r,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XV.displayName=rFe;var sFe=OV,iFe=LV,oFe=MV,YV=zV,cFe=GV,ZV=UV,QV=WV,JV=VV,ej=jV,tj=HV,nj=KV,aj=qV,rj=XV;const $L=sFe,LL=iFe,lFe=cFe,uFe=F.forwardRef(({className:t,inset:e,children:n,...a},r)=>L.jsxs(aj,{ref:r,className:ln("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-neutral-100 data-[state=open]:bg-neutral-100 dark:data-[state=open]:bg-neutral-800 dark:focus:bg-neutral-800 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...a,children:[n,L.jsx(hee,{className:"ml-auto"})]}));uFe.displayName=aj.displayName;const fFe=F.forwardRef(({className:t,...e},n)=>L.jsx(rj,{ref:n,className:ln("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-lg data-[state=closed]:animate-out data-[state=open]:animate-in dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",t),...e}));fFe.displayName=rj.displayName;const WT=F.forwardRef(({className:t,sideOffset:e=4,...n},a)=>L.jsx(oFe,{children:L.jsx(YV,{ref:a,sideOffset:e,className:ln("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-md dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=open]:animate-in",t),...n})}));WT.displayName=YV.displayName;const Wc=F.forwardRef(({className:t,inset:e,...n},a)=>L.jsx(QV,{ref:a,className:ln("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Wc.displayName=QV.displayName;const dFe=F.forwardRef(({className:t,children:e,checked:n,...a},r)=>L.jsxs(JV,{ref:r,className:ln("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",t),checked:n,...a,children:[L.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:L.jsx(tj,{children:L.jsx(uee,{className:"h-4 w-4"})})}),e]}));dFe.displayName=JV.displayName;const pFe=F.forwardRef(({className:t,children:e,...n},a)=>L.jsxs(ej,{ref:a,className:ln("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50",t),...n,children:[L.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:L.jsx(tj,{children:L.jsx(gee,{className:"h-2 w-2 fill-current"})})}),e]}));pFe.displayName=ej.displayName;const VT=F.forwardRef(({className:t,inset:e,...n},a)=>L.jsx(ZV,{ref:a,className:ln("px-2 py-1.5 font-semibold text-sm",e&&"pl-8",t),...n}));VT.displayName=ZV.displayName;const N0=F.forwardRef(({className:t,...e},n)=>L.jsx(nj,{ref:n,className:ln("-mx-1 my-1 h-px bg-neutral-100 dark:bg-neutral-800",t),...e}));N0.displayName=nj.displayName;function hFe(t){const e=F.useRef({value:t,previous:t});return F.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mFe="VisuallyHidden",D_=F.forwardRef((t,e)=>L.jsx(_n.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));D_.displayName=mFe;var gFe=D_,om="NavigationMenu",[dD,sj,yFe]=N1(om),[jT,xFe,vFe]=N1(om),[pD,XVe]=Du(om,[yFe,vFe]),[kFe,no]=pD(om),[wFe,bFe]=pD(om),ij=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,onValueChange:r,defaultValue:s,delayDuration:i=200,skipDelayDuration:o=300,orientation:c="horizontal",dir:l,...u}=t,[d,h]=F.useState(null),m=xa(e,I=>h(I)),y=q3(l),v=F.useRef(0),x=F.useRef(0),k=F.useRef(0),[b,_]=F.useState(!0),[A="",S]=zh({prop:a,onChange:I=>{const P=I!=="",R=o>0;P?(window.clearTimeout(k.current),R&&_(!1)):(window.clearTimeout(k.current),k.current=window.setTimeout(()=>_(!0),o)),r==null||r(I)},defaultProp:s}),C=F.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>S(""),150)},[S]),E=F.useCallback(I=>{window.clearTimeout(x.current),S(I)},[S]),D=F.useCallback(I=>{A===I?window.clearTimeout(x.current):v.current=window.setTimeout(()=>{window.clearTimeout(x.current),S(I)},i)},[A,S,i]);return F.useEffect(()=>()=>{window.clearTimeout(v.current),window.clearTimeout(x.current),window.clearTimeout(k.current)},[]),L.jsx(cj,{scope:n,isRootMenu:!0,value:A,dir:y,orientation:c,rootNavigationMenu:d,onTriggerEnter:I=>{window.clearTimeout(v.current),b?D(I):E(I)},onTriggerLeave:()=>{window.clearTimeout(v.current),C()},onContentEnter:()=>window.clearTimeout(x.current),onContentLeave:C,onItemSelect:I=>{S(P=>P===I?"":I)},onItemDismiss:()=>S(""),children:L.jsx(_n.nav,{"aria-label":"Main","data-orientation":c,dir:y,...u,ref:m})})});ij.displayName=om;var oj="NavigationMenuSub",_Fe=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,onValueChange:r,defaultValue:s,orientation:i="horizontal",...o}=t,c=no(oj,n),[l="",u]=zh({prop:a,onChange:r,defaultProp:s});return L.jsx(cj,{scope:n,isRootMenu:!1,value:l,dir:c.dir,orientation:i,rootNavigationMenu:c.rootNavigationMenu,onTriggerEnter:d=>u(d),onItemSelect:d=>u(d),onItemDismiss:()=>u(""),children:L.jsx(_n.div,{"data-orientation":i,...o,ref:e})})});_Fe.displayName=oj;var cj=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:a,dir:r,orientation:s,children:i,value:o,onItemSelect:c,onItemDismiss:l,onTriggerEnter:u,onTriggerLeave:d,onContentEnter:h,onContentLeave:m}=t,[y,v]=F.useState(null),[x,k]=F.useState(new Map),[b,_]=F.useState(null);return L.jsx(kFe,{scope:e,isRootMenu:n,rootNavigationMenu:a,value:o,previousValue:hFe(o),baseId:nu(),dir:r,orientation:s,viewport:y,onViewportChange:v,indicatorTrack:b,onIndicatorTrackChange:_,onTriggerEnter:$a(u),onTriggerLeave:$a(d),onContentEnter:$a(h),onContentLeave:$a(m),onItemSelect:$a(c),onItemDismiss:$a(l),onViewportContentChange:F.useCallback((A,S)=>{k(C=>(C.set(A,S),new Map(C)))},[]),onViewportContentRemove:F.useCallback(A=>{k(S=>S.has(A)?(S.delete(A),new Map(S)):S)},[]),children:L.jsx(dD.Provider,{scope:e,children:L.jsx(wFe,{scope:e,items:x,children:i})})})},lj="NavigationMenuList",uj=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,r=no(lj,n),s=L.jsx(_n.ul,{"data-orientation":r.orientation,...a,ref:e});return L.jsx(_n.div,{style:{position:"relative"},ref:r.onIndicatorTrackChange,children:L.jsx(dD.Slot,{scope:n,children:r.isRootMenu?L.jsx(vj,{asChild:!0,children:s}):s})})});uj.displayName=lj;var fj="NavigationMenuItem",[AFe,dj]=pD(fj),NFe=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,...r}=t,s=nu(),i=a||s||"LEGACY_REACT_AUTO_VALUE",o=F.useRef(null),c=F.useRef(null),l=F.useRef(null),u=F.useRef(()=>{}),d=F.useRef(!1),h=F.useCallback((y="start")=>{if(o.current){u.current();const v=KT(o.current);v.length&&gD(y==="start"?v:v.reverse())}},[]),m=F.useCallback(()=>{if(o.current){const y=KT(o.current);y.length&&(u.current=RFe(y))}},[]);return L.jsx(AFe,{scope:n,value:i,triggerRef:c,contentRef:o,focusProxyRef:l,wasEscapeCloseRef:d,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:m,onContentFocusOutside:m,children:L.jsx(_n.li,{...r,ref:e})})});NFe.displayName=fj;var HT="NavigationMenuTrigger",pj=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:a,...r}=t,s=no(HT,t.__scopeNavigationMenu),i=dj(HT,t.__scopeNavigationMenu),o=F.useRef(null),c=xa(o,i.triggerRef,e),l=wj(s.baseId,i.value),u=bj(s.baseId,i.value),d=F.useRef(!1),h=F.useRef(!1),m=i.value===s.value;return L.jsxs(L.Fragment,{children:[L.jsx(dD.ItemSlot,{scope:n,value:i.value,children:L.jsx(kj,{asChild:!0,children:L.jsx(_n.button,{id:l,disabled:a,"data-disabled":a?"":void 0,"data-state":yD(m),"aria-expanded":m,"aria-controls":u,...r,ref:c,onPointerEnter:wt(t.onPointerEnter,()=>{h.current=!1,i.wasEscapeCloseRef.current=!1}),onPointerMove:wt(t.onPointerMove,Qk(()=>{a||h.current||i.wasEscapeCloseRef.current||d.current||(s.onTriggerEnter(i.value),d.current=!0)})),onPointerLeave:wt(t.onPointerLeave,Qk(()=>{a||(s.onTriggerLeave(),d.current=!1)})),onClick:wt(t.onClick,()=>{s.onItemSelect(i.value),h.current=m}),onKeyDown:wt(t.onKeyDown,y=>{const x={horizontal:"ArrowDown",vertical:s.dir==="rtl"?"ArrowLeft":"ArrowRight"}[s.orientation];m&&y.key===x&&(i.onEntryKeyDown(),y.preventDefault())})})})}),m&&L.jsxs(L.Fragment,{children:[L.jsx(gFe,{"aria-hidden":!0,tabIndex:0,ref:i.focusProxyRef,onFocus:y=>{const v=i.contentRef.current,x=y.relatedTarget,k=x===o.current,b=v==null?void 0:v.contains(x);(k||!b)&&i.onFocusProxyEnter(k?"start":"end")}}),s.viewport&&L.jsx("span",{"aria-owns":u})]})]})});pj.displayName=HT;var SFe="NavigationMenuLink",ML="navigationMenu.linkSelect",hj=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:a,onSelect:r,...s}=t;return L.jsx(kj,{asChild:!0,children:L.jsx(_n.a,{"data-active":a?"":void 0,"aria-current":a?"page":void 0,...s,ref:e,onClick:wt(t.onClick,i=>{const o=i.target,c=new CustomEvent(ML,{bubbles:!0,cancelable:!0});if(o.addEventListener(ML,l=>r==null?void 0:r(l),{once:!0}),Y0(o,c),!c.defaultPrevented&&!i.metaKey){const l=new CustomEvent(sk,{bubbles:!0,cancelable:!0});Y0(o,l)}},{checkForDefaultPrevented:!1})})})});hj.displayName=SFe;var hD="NavigationMenuIndicator",mj=F.forwardRef((t,e)=>{const{forceMount:n,...a}=t,r=no(hD,t.__scopeNavigationMenu),s=!!r.value;return r.indicatorTrack?kB.createPortal(L.jsx(mi,{present:n||s,children:L.jsx(TFe,{...a,ref:e})}),r.indicatorTrack):null});mj.displayName=hD;var TFe=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,r=no(hD,n),s=sj(n),[i,o]=F.useState(null),[c,l]=F.useState(null),u=r.orientation==="horizontal",d=!!r.value;F.useEffect(()=>{var v;const y=(v=s().find(x=>x.value===r.value))==null?void 0:v.ref.current;y&&o(y)},[s,r.value]);const h=()=>{i&&l({size:u?i.offsetWidth:i.offsetHeight,offset:u?i.offsetLeft:i.offsetTop})};return qT(i,h),qT(r.indicatorTrack,h),c?L.jsx(_n.div,{"aria-hidden":!0,"data-state":d?"visible":"hidden","data-orientation":r.orientation,...a,ref:e,style:{position:"absolute",...u?{left:0,width:c.size+"px",transform:`translateX(${c.offset}px)`}:{top:0,height:c.size+"px",transform:`translateY(${c.offset}px)`},...a.style}}):null}),Sh="NavigationMenuContent",gj=F.forwardRef((t,e)=>{const{forceMount:n,...a}=t,r=no(Sh,t.__scopeNavigationMenu),s=dj(Sh,t.__scopeNavigationMenu),i=xa(s.contentRef,e),o=s.value===r.value,c={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...a};return r.viewport?L.jsx(EFe,{forceMount:n,...c,ref:i}):L.jsx(mi,{present:n||o,children:L.jsx(yj,{"data-state":yD(o),...c,ref:i,onPointerEnter:wt(t.onPointerEnter,r.onContentEnter),onPointerLeave:wt(t.onPointerLeave,Qk(r.onContentLeave)),style:{pointerEvents:!o&&r.isRootMenu?"none":void 0,...c.style}})})});gj.displayName=Sh;var EFe=F.forwardRef((t,e)=>{const n=no(Sh,t.__scopeNavigationMenu),{onViewportContentChange:a,onViewportContentRemove:r}=n;return No(()=>{a(t.value,{ref:e,...t})},[t,e,a]),No(()=>()=>r(t.value),[t.value,r]),null}),sk="navigationMenu.rootContentDismiss",yj=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,triggerRef:r,focusProxyRef:s,wasEscapeCloseRef:i,onRootContentClose:o,onContentFocusOutside:c,...l}=t,u=no(Sh,n),d=F.useRef(null),h=xa(d,e),m=wj(u.baseId,a),y=bj(u.baseId,a),v=sj(n),x=F.useRef(null),{onItemDismiss:k}=u;F.useEffect(()=>{const _=d.current;if(u.isRootMenu&&_){const A=()=>{var S;k(),o(),_.contains(document.activeElement)&&((S=r.current)==null||S.focus())};return _.addEventListener(sk,A),()=>_.removeEventListener(sk,A)}},[u.isRootMenu,t.value,r,k,o]);const b=F.useMemo(()=>{const A=v().map(P=>P.value);u.dir==="rtl"&&A.reverse();const S=A.indexOf(u.value),C=A.indexOf(u.previousValue),E=a===u.value,D=C===A.indexOf(a);if(!E&&!D)return x.current;const I=(()=>{if(S!==C){if(E&&C!==-1)return S>C?"from-end":"from-start";if(D&&S!==-1)return S>C?"to-start":"to-end"}return null})();return x.current=I,I},[u.previousValue,u.value,u.dir,v,a]);return L.jsx(vj,{asChild:!0,children:L.jsx(ey,{id:y,"aria-labelledby":m,"data-motion":b,"data-orientation":u.orientation,...l,ref:h,disableOutsidePointerEvents:!1,onDismiss:()=>{var A;const _=new Event(sk,{bubbles:!0,cancelable:!0});(A=d.current)==null||A.dispatchEvent(_)},onFocusOutside:wt(t.onFocusOutside,_=>{var S;c();const A=_.target;(S=u.rootNavigationMenu)!=null&&S.contains(A)&&_.preventDefault()}),onPointerDownOutside:wt(t.onPointerDownOutside,_=>{var E;const A=_.target,S=v().some(D=>{var I;return(I=D.ref.current)==null?void 0:I.contains(A)}),C=u.isRootMenu&&((E=u.viewport)==null?void 0:E.contains(A));(S||C||!u.isRootMenu)&&_.preventDefault()}),onKeyDown:wt(t.onKeyDown,_=>{var C;const A=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!A){const E=KT(_.currentTarget),D=document.activeElement,I=E.findIndex(B=>B===D),R=_.shiftKey?E.slice(0,I).reverse():E.slice(I+1,E.length);gD(R)?_.preventDefault():(C=s.current)==null||C.focus()}}),onEscapeKeyDown:wt(t.onEscapeKeyDown,_=>{i.current=!0})})})}),mD="NavigationMenuViewport",xj=F.forwardRef((t,e)=>{const{forceMount:n,...a}=t,s=!!no(mD,t.__scopeNavigationMenu).value;return L.jsx(mi,{present:n||s,children:L.jsx(CFe,{...a,ref:e})})});xj.displayName=mD;var CFe=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:a,...r}=t,s=no(mD,n),i=xa(e,s.onViewportChange),o=bFe(Sh,t.__scopeNavigationMenu),[c,l]=F.useState(null),[u,d]=F.useState(null),h=c?(c==null?void 0:c.width)+"px":void 0,m=c?(c==null?void 0:c.height)+"px":void 0,y=!!s.value,v=y?s.value:s.previousValue;return qT(u,()=>{u&&l({width:u.offsetWidth,height:u.offsetHeight})}),L.jsx(_n.div,{"data-state":yD(y),"data-orientation":s.orientation,...r,ref:i,style:{pointerEvents:!y&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":h,"--radix-navigation-menu-viewport-height":m,...r.style},onPointerEnter:wt(t.onPointerEnter,s.onContentEnter),onPointerLeave:wt(t.onPointerLeave,Qk(s.onContentLeave)),children:Array.from(o.items).map(([k,{ref:b,forceMount:_,...A}])=>{const S=v===k;return L.jsx(mi,{present:_||S,children:L.jsx(yj,{...A,ref:Zg(b,C=>{S&&C&&d(C)})})},k)})})}),IFe="FocusGroup",vj=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,r=no(IFe,n);return L.jsx(jT.Provider,{scope:n,children:L.jsx(jT.Slot,{scope:n,children:L.jsx(_n.div,{dir:r.dir,...a,ref:e})})})}),BL=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],DFe="FocusGroupItem",kj=F.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,r=xFe(n),s=no(DFe,n);return L.jsx(jT.ItemSlot,{scope:n,children:L.jsx(_n.button,{...a,ref:e,onKeyDown:wt(t.onKeyDown,i=>{if(["Home","End",...BL].includes(i.key)){let c=r().map(d=>d.ref.current);if([s.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(i.key)&&c.reverse(),BL.includes(i.key)){const d=c.indexOf(i.currentTarget);c=c.slice(d+1)}setTimeout(()=>gD(c)),i.preventDefault()}})})})});function KT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gD(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function RFe(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function qT(t,e){const n=$a(e);No(()=>{let a=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return r.observe(t),()=>{window.cancelAnimationFrame(a),r.unobserve(t)}}},[t,n])}function yD(t){return t?"open":"closed"}function wj(t,e){return`${t}-trigger-${e}`}function bj(t,e){return`${t}-content-${e}`}function Qk(t){return e=>e.pointerType==="mouse"?t(e):void 0}var _j=ij,Aj=uj,Nj=pj,PFe=hj,Sj=mj,Tj=gj,Ej=xj;const Cj=F.forwardRef(({className:t,children:e,...n},a)=>L.jsxs(_j,{ref:a,className:ln("relative z-10 flex max-w-max flex-1 items-center justify-center",t),...n,children:[e,L.jsx(Dj,{})]}));Cj.displayName=_j.displayName;const Ij=F.forwardRef(({className:t,...e},n)=>L.jsx(Aj,{ref:n,className:ln("group flex flex-1 list-none items-center justify-center space-x-1",t),...e}));Ij.displayName=Aj.displayName;const FFe=Qg("group inline-flex h-9 w-max items-center justify-center rounded-md bg-white px-4 py-2 text-sm font-medium transition-colors hover:bg-neutral-100 hover:text-neutral-900 focus:bg-neutral-100 focus:text-neutral-900 focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-neutral-100/50 data-[state=open]:bg-neutral-100/50 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50 dark:focus:bg-neutral-800 dark:focus:text-neutral-50 dark:data-[active]:bg-neutral-800/50 dark:data-[state=open]:bg-neutral-800/50"),OFe=F.forwardRef(({className:t,children:e,...n},a)=>L.jsxs(Nj,{ref:a,className:ln(FFe(),"group",t),...n,children:[e,"",L.jsx(dee,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));OFe.displayName=Nj.displayName;const $Fe=F.forwardRef(({className:t,...e},n)=>L.jsx(Tj,{ref:n,className:ln("data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out md:absolute md:w-auto",t),...e}));$Fe.displayName=Tj.displayName;const HN=PFe,Dj=F.forwardRef(({className:t,...e},n)=>L.jsx("div",{className:ln("absolute top-full left-0 flex justify-center"),children:L.jsx(Ej,{className:ln("data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full origin-top-center overflow-hidden rounded-md border border-neutral-200 bg-white text-neutral-950 shadow data-[state=closed]:animate-out data-[state=open]:animate-in md:w-[var(--radix-navigation-menu-viewport-width)] dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",t),ref:n,...e})}));Dj.displayName=Ej.displayName;const LFe=F.forwardRef(({className:t,...e},n)=>L.jsx(Sj,{ref:n,className:ln("data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=hidden]:animate-out data-[state=visible]:animate-in",t),...e,children:L.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-neutral-200 shadow-md dark:bg-neutral-800"})}));LFe.displayName=Sj.displayName;function Jk({title:t,paragraph:e,className:n,backgroundColor:a}){return L.jsxs("div",{className:`${n} tex flex flex-col items-center justify-center rounded-4xl p-8 transition-all duration-200`,style:{backgroundColor:a},children:[L.jsx("header",{className:"font-semibold text-6xl text-white",children:t}),L.jsx("p",{className:"mt-2 text-center text-xl text-white",children:e})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ew={};ew.version="0.20.3";var gr=1200,hd=1252,rn,MFe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],xD={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},R_=function(t){MFe.indexOf(t)!=-1&&(hd=xD[0]=t)};function BFe(){R_(1252)}var Hi=function(t){gr=t,R_(t)};function P_(){Hi(1200),BFe()}function tw(t){for(var e=[],n=0,a=t.length;n<a;++n)e[n]=t.charCodeAt(n);return e}function Rj(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function zFe(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t[2*n]+(t[2*n+1]<<8));return e.join("")}function Pj(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Kp=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?Rj(t.slice(2)):e==254&&n==255?Pj(t.slice(2)):e==65279?t.slice(1):t},S0=function(e){return String.fromCharCode(e)},XT=function(e){return String.fromCharCode(e)};function GFe(t){rn=t,Hi=function(e){gr=e,R_(e)},Kp=function(e){return e.charCodeAt(0)===255&&e.charCodeAt(1)===254?rn.utils.decode(1200,tw(e.slice(2))):e},S0=function(n){return gr===1200?String.fromCharCode(n):rn.utils.decode(gr,[n&255,n>>8])[0]},XT=function(n){return rn.utils.decode(hd,[n])[0]},oH()}var UFe=null,fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function nw(t){for(var e="",n=0,a=0,r=0,s=0,i=0,o=0,c=0,l=0;l<t.length;)n=t.charCodeAt(l++),s=n>>2,a=t.charCodeAt(l++),i=(n&3)<<4|a>>4,r=t.charCodeAt(l++),o=(a&15)<<2|r>>6,c=r&63,isNaN(a)?o=c=64:isNaN(r)&&(c=64),e+=fs.charAt(s)+fs.charAt(i)+fs.charAt(o)+fs.charAt(c);return e}function WFe(t){for(var e="",n=0,a=0,r=0,s=0,i=0,o=0,c=0,l=0;l<t.length;)n=t.charCodeAt(l++),n>255&&(n=95),s=n>>2,a=t.charCodeAt(l++),a>255&&(a=95),i=(n&3)<<4|a>>4,r=t.charCodeAt(l++),r>255&&(r=95),o=(a&15)<<2|r>>6,c=r&63,isNaN(a)?o=c=64:isNaN(r)&&(c=64),e+=fs.charAt(s)+fs.charAt(i)+fs.charAt(o)+fs.charAt(c);return e}function VFe(t){for(var e="",n=0,a=0,r=0,s=0,i=0,o=0,c=0,l=0;l<t.length;)n=t[l++],s=n>>2,a=t[l++],i=(n&3)<<4|a>>4,r=t[l++],o=(a&15)<<2|r>>6,c=r&63,isNaN(a)?o=c=64:isNaN(r)&&(c=64),e+=fs.charAt(s)+fs.charAt(i)+fs.charAt(o)+fs.charAt(c);return e}function pi(t){var e="",n=0,a=0,r=0,s=0,i=0,o=0,c=0;if(t.slice(0,5)=="data:"){var l=t.slice(0,1024).indexOf(";base64,");l>-1&&(t=t.slice(l+8))}t=t.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<t.length;)s=fs.indexOf(t.charAt(l++)),i=fs.indexOf(t.charAt(l++)),n=s<<2|i>>4,e+=String.fromCharCode(n),o=fs.indexOf(t.charAt(l++)),a=(i&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(a)),c=fs.indexOf(t.charAt(l++)),r=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(r));return e}var fn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Nc=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}(),Cg=function(){if(typeof Buffer>"u")return!1;var t=Nc([65,0]);if(!t)return!1;var e=t.toString("utf16le");return e.length==1}();function Su(t){return fn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function zL(t){return fn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ss=function(e){return fn?Nc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function C1(t){if(typeof ArrayBuffer>"u")return Ss(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),a=0;a!=t.length;++a)n[a]=t.charCodeAt(a)&255;return e}function xc(t){if(Array.isArray(t))return t.map(function(a){return String.fromCharCode(a)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function jFe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function vD(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return vD(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var ja=fn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Nc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var a=new Uint8Array(n),r=0;for(e=0,n=0;e<t.length;n+=r,++e)r=t[e].length,t[e]instanceof Uint8Array?a.set(t[e],n):typeof t[e]=="string"?a.set(new Uint8Array(Ss(t[e])),n):a.set(new Uint8Array(t[e]),n);return a}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function HFe(t){for(var e=[],n=0,a=t.length+250,r=Su(t.length+255),s=0;s<t.length;++s){var i=t.charCodeAt(s);if(i<128)r[n++]=i;else if(i<2048)r[n++]=192|i>>6&31,r[n++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=t.charCodeAt(++s)&1023;r[n++]=240|i>>8&7,r[n++]=128|i>>2&63,r[n++]=128|o>>6&15|(i&3)<<4,r[n++]=128|o&63}else r[n++]=224|i>>12&15,r[n++]=128|i>>6&63,r[n++]=128|i&63;n>a&&(e.push(r.slice(0,n)),n=0,r=Su(65535),a=65530)}return e.push(r.slice(0,n)),ja(e)}var Cs=/\u0000/g,T0=/[\u0001-\u0006]/g;function sh(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function xo(t,e){var n=""+t;return n.length>=e?n:Pn("0",e-n.length)+n}function kD(t,e){var n=""+t;return n.length>=e?n:Pn(" ",e-n.length)+n}function aw(t,e){var n=""+t;return n.length>=e?n:n+Pn(" ",e-n.length)}function KFe(t,e){var n=""+Math.round(t);return n.length>=e?n:Pn("0",e-n.length)+n}function qFe(t,e){var n=""+t;return n.length>=e?n:Pn("0",e-n.length)+n}var GL=Math.pow(2,32);function Op(t,e){if(t>GL||t<-GL)return KFe(t,e);var n=Math.round(t);return qFe(n,e)}function rw(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var UL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],KN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function XFe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var It={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},WL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},YFe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function sw(t,e,n){for(var a=t<0?-1:1,r=t*a,s=0,i=1,o=0,c=1,l=0,u=0,d=Math.floor(r);l<e&&(d=Math.floor(r),o=d*i+s,u=d*l+c,!(r-d<5e-8));)r=1/(r-d),s=i,i=o,c=l,l=u;if(u>e&&(l>e?(u=c,o=s):(u=l,o=i)),!n)return[0,a*o,u];var h=Math.floor(a*o/u);return[h,a*o-h*u,u]}function ZFe(t){var e=t.toPrecision(16);if(e.indexOf("e")>-1){var n=e.slice(0,e.indexOf("e"));return n=n.indexOf(".")>-1?n.slice(0,n.slice(0,2)=="0."?17:16):n.slice(0,15)+Pn("0",n.length-15),n+e.slice(e.indexOf("e"))}var a=e.indexOf(".")>-1?e.slice(0,e.slice(0,2)=="0."?17:16):e.slice(0,15)+Pn("0",e.length-15);return Number(a)}function Zo(t,e,n){if(t>2958465||t<0)return null;t=ZFe(t);var a=t|0,r=Math.floor(86400*(t-a)),s=0,i=[],o={D:a,T:r,u:86400*(t-a)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++r==86400&&(o.T=r=0,++a,++o.D)),a===60)i=n?[1317,10,29]:[1900,2,29],s=3;else if(a===0)i=n?[1317,8,29]:[1900,1,0],s=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),a<60&&(s=(s+6)%7),n&&(s=tOe(c,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=r%60,r=Math.floor(r/60),o.M=r%60,r=Math.floor(r/60),o.H=r,o.q=s,o}function wD(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function QFe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function JFe(t){var e=t<0?12:11,n=wD(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function eOe(t){var e=wD(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Ig(t){if(!isFinite(t))return isNaN(t)?"#NUM!":"#DIV/0!";var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=JFe(t):e===10?n=t.toFixed(10).substr(0,12):n=eOe(t),wD(QFe(n.toUpperCase()))}function md(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Ig(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Zs(14,Ia(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function tOe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function nOe(t,e,n,a){var r="",s=0,i=0,o=n.y,c,l=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,l=2;break;default:c=o%1e4,l=4;break}break;case 109:switch(e.length){case 1:case 2:c=n.m,l=e.length;break;case 3:return KN[n.m-1][1];case 5:return KN[n.m-1][0];default:return KN[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=n.d,l=e.length;break;case 3:return UL[n.q][0];default:return UL[n.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(n.H+11)%12,l=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=n.H,l=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=n.M,l=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?xo(n.S,e.length):(a>=2?i=a===3?1e3:100:i=a===1?10:1,s=Math.round(i*(n.S+n.u)),s>=60*i&&(s=0),e==="s"?s===0?"0":""+s/i:(r=xo(s,2+a),e==="ss"?r.substr(0,2):"."+r.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+(a==0?Math.round(n.S+n.u):n.S);break;default:throw"bad abstime format: "+e}l=e.length===3?1:2;break;case 101:c=o,l=1;break}var u=l>0?xo(c,l):"";return u}function Zc(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,a=t.substr(0,n);n!=t.length;n+=e)a+=(a.length>0?",":"")+t.substr(n,e);return a}var Fj=/%/g;function aOe(t,e,n){var a=e.replace(Fj,""),r=e.length-a.length;return al(t,a,n*Math.pow(10,2*r))+Pn("%",r)}function rOe(t,e,n){for(var a=e.length-1;e.charCodeAt(a-1)===44;)--a;return al(t,e.substr(0,a),n/Math.pow(10,3*(e.length-a)))}function Oj(t,e){var n,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Oj(t,-e);var r=t.indexOf(".");r===-1&&(r=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),n=(e/Math.pow(10,s)).toPrecision(a+1+(r+s)%r),n.indexOf("e")===-1){var i=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+s):n+="E+"+(i-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,r)+"."+n.substr(2+r),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,l,u){return c+l+u.substr(0,(r+s)%r)+"."+u.substr(s)+"E"})}else n=e.toExponential(a);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var $j=/# (\?+)( ?)\/( ?)(\d+)/;function sOe(t,e,n){var a=parseInt(t[4],10),r=Math.round(e*a),s=Math.floor(r/a),i=r-s*a,o=a;return n+(s===0?"":""+s)+" "+(i===0?Pn(" ",t[1].length+1+t[4].length):kD(i,t[1].length)+t[2]+"/"+t[3]+xo(o,t[4].length))}function iOe(t,e,n){return n+(e===0?"":""+e)+Pn(" ",t[1].length+2+t[4].length)}var Lj=/^#*0*\.([0#]+)/,Mj=/\)[^)]*[0#]/,Bj=/\(###\) ###\\?-####/;function _s(t){for(var e="",n,a=0;a!=t.length;++a)switch(n=t.charCodeAt(a)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function VL(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function jL(t,e){var n=t-Math.floor(t),a=Math.pow(10,e);return e<(""+Math.round(n*a)).length?0:Math.round(n*a)}function oOe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function cOe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Fi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(Mj)){var a=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Fi("n",a,n):"("+Fi("n",a,-n)+")"}if(e.charCodeAt(e.length-1)===44)return rOe(t,e,n);if(e.indexOf("%")!==-1)return aOe(t,e,n);if(e.indexOf("E")!==-1)return Oj(e,n);if(e.charCodeAt(0)===36)return"$"+Fi(t,e.substr(e.charAt(1)==" "?2:1),n);var r,s,i,o,c=Math.abs(n),l=n<0?"-":"";if(e.match(/^00+$/))return l+Op(c,e.length);if(e.match(/^[#?]+$/))return r=Op(n,0),r==="0"&&(r=""),r.length>e.length?r:_s(e.substr(0,e.length-r.length))+r;if(s=e.match($j))return sOe(s,c,l);if(e.match(/^#+0+$/))return l+Op(c,e.length-e.indexOf("0"));if(s=e.match(Lj))return r=VL(n,s[1].length).replace(/^([^\.]+)$/,"$1."+_s(s[1])).replace(/\.$/,"."+_s(s[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+Pn("0",_s(s[1]).length-v.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+VL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+Zc(Op(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Fi(t,e,-n):Zc(""+(Math.floor(n)+oOe(n,s[1].length)))+"."+xo(jL(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Fi(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=sh(Fi(t,e.replace(/[\\-]/g,""),n)),i=0,sh(sh(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<r.length?r.charAt(i++):y==="0"?"0":""}));if(e.match(Bj))return r=Fi(t,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=sw(c,Math.pow(10,i)-1,!1),r=""+l,u=al("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),r+=u+s[2]+"/"+s[3],u=aw(o[2],i),u.length<s[4].length&&(u=_s(s[4].substr(s[4].length-u.length))+u),r+=u,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=sw(c,Math.pow(10,i)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?kD(o[1],i)+s[2]+"/"+s[3]+aw(o[2],i):Pn(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=Op(n,0),e.length<=r.length?r:_s(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=r.indexOf(".");var d=e.indexOf(".")-i,h=e.length-r.length-d;return _s(e.substr(0,d)+r+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return i=jL(n,s[1].length),n<0?"-"+Fi(t,e,-n):Zc(cOe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?xo(0,3-y.length):"")+y})+"."+xo(i,s[1].length);switch(e){case"###,##0.00":return Fi(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=Zc(Op(c,0));return m!=="0"?l+m:"";case"###,###.00":return Fi(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Fi(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function lOe(t,e,n){for(var a=e.length-1;e.charCodeAt(a-1)===44;)--a;return al(t,e.substr(0,a),n/Math.pow(10,3*(e.length-a)))}function uOe(t,e,n){var a=e.replace(Fj,""),r=e.length-a.length;return al(t,a,n*Math.pow(10,2*r))+Pn("%",r)}function zj(t,e){var n,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+zj(t,-e);var r=t.indexOf(".");r===-1&&(r=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),n=(e/Math.pow(10,s)).toPrecision(a+1+(r+s)%r),!n.match(/[Ee]/)){var i=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+s):n+="E+"+(i-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,l,u){return c+l+u.substr(0,(r+s)%r)+"."+u.substr(s)+"E"})}else n=e.toExponential(a);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ho(t,e,n){if(t.charCodeAt(0)===40&&!e.match(Mj)){var a=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ho("n",a,n):"("+Ho("n",a,-n)+")"}if(e.charCodeAt(e.length-1)===44)return lOe(t,e,n);if(e.indexOf("%")!==-1)return uOe(t,e,n);if(e.indexOf("E")!==-1)return zj(e,n);if(e.charCodeAt(0)===36)return"$"+Ho(t,e.substr(e.charAt(1)==" "?2:1),n);var r,s,i,o,c=Math.abs(n),l=n<0?"-":"";if(e.match(/^00+$/))return l+xo(c,e.length);if(e.match(/^[#?]+$/))return r=""+n,n===0&&(r=""),r.length>e.length?r:_s(e.substr(0,e.length-r.length))+r;if(s=e.match($j))return iOe(s,c,l);if(e.match(/^#+0+$/))return l+xo(c,e.length-e.indexOf("0"));if(s=e.match(Lj))return r=(""+n).replace(/^([^\.]+)$/,"$1."+_s(s[1])).replace(/\.$/,"."+_s(s[1])),r=r.replace(/\.(\d*)$/,function(y,v){return"."+v+Pn("0",_s(s[1]).length-v.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return l+Zc(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ho(t,e,-n):Zc(""+n)+"."+Pn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ho(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=sh(Ho(t,e.replace(/[\\-]/g,""),n)),i=0,sh(sh(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return i<r.length?r.charAt(i++):y==="0"?"0":""}));if(e.match(Bj))return r=Ho(t,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=sw(c,Math.pow(10,i)-1,!1),r=""+l,u=al("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),r+=u+s[2]+"/"+s[3],u=aw(o[2],i),u.length<s[4].length&&(u=_s(s[4].substr(s[4].length-u.length))+u),r+=u,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=sw(c,Math.pow(10,i)-1,!0),l+(o[0]||(o[1]?"":"0"))+" "+(o[1]?kD(o[1],i)+s[2]+"/"+s[3]+aw(o[2],i):Pn(" ",2*i+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=""+n,e.length<=r.length?r:_s(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=r.indexOf(".");var d=e.indexOf(".")-i,h=e.length-r.length-d;return _s(e.substr(0,d)+r+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ho(t,e,-n):Zc(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?xo(0,3-y.length):"")+y})+"."+xo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Zc(""+c);return m!=="0"?l+m:"";default:if(e.match(/\.[0#?]*$/))return Ho(t,e.slice(0,e.lastIndexOf(".")),n)+_s(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function al(t,e,n){return(n|0)===n?Ho(t,e,n):Fi(t,e,n)}function fOe(t){for(var e=[],n=!1,a=0,r=0;a<t.length;++a)switch(t.charCodeAt(a)){case 34:n=!n;break;case 95:case 42:case 92:++a;break;case 59:e[e.length]=t.substr(r,a-r),r=a+1}if(e[e.length]=t.substr(r),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Gj=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function hi(t){for(var e=0,n="",a="";e<t.length;)switch(n=t.charAt(e)){case"G":rw(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(a=n;t.charAt(e++)!=="]"&&e<t.length;)a+=t.charAt(e);if(a.match(Gj))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function dOe(t,e,n,a){for(var r=[],s="",i=0,o="",c="t",l,u,d,h="H";i<t.length;)switch(o=t.charAt(i)){case"G":if(!rw(t,i))throw new Error("unrecognized character "+o+" in "+t);r[r.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(d=t.charCodeAt(++i))!==34&&i<t.length;)s+=String.fromCharCode(d);r[r.length]={t:"t",v:s},++i;break;case"\\":var m=t.charAt(++i),y=m==="("||m===")"?m:"t";r[r.length]={t:y,v:m},++i;break;case"_":r[r.length]={t:"t",v:" "},i+=2;break;case"@":r[r.length]={t:"T",v:e},++i;break;case"B":case"b":if(t.charAt(i+1)==="1"||t.charAt(i+1)==="2"){if(l==null&&(l=Zo(e,n,t.charAt(i+1)==="2"),l==null))return"";r[r.length]={t:"X",v:t.substr(i,2)},c=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||l==null&&(l=Zo(e,n),l==null))return"";for(s=o;++i<t.length&&t.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),r[r.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var v={t:o,v:o};if(l==null&&(l=Zo(e,n)),t.substr(i,3).toUpperCase()==="A/P"?(l!=null&&(v.v=l.H>=12?t.charAt(i+2):o),v.t="T",h="h",i+=3):t.substr(i,5).toUpperCase()==="AM/PM"?(l!=null&&(v.v=l.H>=12?"PM":"AM"),v.t="T",i+=5,h="h"):t.substr(i,5).toUpperCase()==="/"?(l!=null&&(v.v=l.H>=12?"":""),v.t="T",i+=5,h="h"):(v.t="t",++i),l==null&&v.t==="T")return"";r[r.length]=v,c=o;break;case"[":for(s=o;t.charAt(i++)!=="]"&&i<t.length;)s+=t.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Gj)){if(l==null&&(l=Zo(e,n),l==null))return"";r[r.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",hi(t)||(r[r.length]={t:"t",v:s}));break;case".":if(l!=null){for(s=o;++i<t.length&&(o=t.charAt(i))==="0";)s+=o;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(i))>-1;)s+=o;r[r.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++i)===o;)s+=o;r[r.length]={t:o,v:s},c=o;break;case"*":++i,(t.charAt(i)==" "||t.charAt(i)=="*")&&++i;break;case"(":case")":r[r.length]={t:a===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<t.length&&"0123456789".indexOf(t.charAt(++i))>-1;)s+=t.charAt(i);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:o,v:o},++i;break;case"$":r[r.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);r[r.length]={t:"t",v:o},++i;break}var x=0,k=0,b;for(i=r.length-1,c="t";i>=0;--i)switch(r[i].t){case"h":case"H":r[i].t=h,c="h",x<1&&(x=1);break;case"s":(b=r[i].v.match(/\.0+$/))&&(k=Math.max(k,b[0].length-1),x=4),x<3&&(x=3);case"d":case"y":case"e":c=r[i].t;break;case"M":c=r[i].t,x<2&&(x=2);break;case"m":c==="s"&&(r[i].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&r[i].v.match(/[Hh]/)&&(x=1),x<2&&r[i].v.match(/[Mm]/)&&(x=2),x<3&&r[i].v.match(/[Ss]/)&&(x=3)}var _;switch(x){case 0:break;case 1:case 2:case 3:l.u>=.5&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H),l.H>=24&&(l.H=0,++l.D,_=Zo(l.D),_.u=l.u,_.S=l.S,_.M=l.M,_.H=l.H,l=_);break;case 4:switch(k){case 1:l.u=Math.round(l.u*10)/10;break;case 2:l.u=Math.round(l.u*100)/100;break;case 3:l.u=Math.round(l.u*1e3)/1e3;break}l.u>=1&&(l.u=0,++l.S),l.S>=60&&(l.S=0,++l.M),l.M>=60&&(l.M=0,++l.H),l.H>=24&&(l.H=0,++l.D,_=Zo(l.D),_.u=l.u,_.S=l.S,_.M=l.M,_.H=l.H,l=_);break}var A="",S;for(i=0;i<r.length;++i)switch(r[i].t){case"t":case"T":case" ":case"D":break;case"X":r[i].v="",r[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[i].v=nOe(r[i].t.charCodeAt(0),r[i].v,l,k),r[i].t="t";break;case"n":case"?":for(S=i+1;r[S]!=null&&((o=r[S].t)==="?"||o==="D"||(o===" "||o==="t")&&r[S+1]!=null&&(r[S+1].t==="?"||r[S+1].t==="t"&&r[S+1].v==="/")||r[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(r[S].v==="/"||r[S].v===" "&&r[S+1]!=null&&r[S+1].t=="?"));)r[i].v+=r[S].v,r[S]={v:"",t:";"},++S;A+=r[i].v,i=S-1;break;case"G":r[i].t="t",r[i].v=md(e,n);break}var C="",E,D;if(A.length>0){A.charCodeAt(0)==40?(E=e<0&&A.charCodeAt(0)===45?-e:e,D=al("n",A,E)):(E=e<0&&a>1?-e:e,D=al("n",A,E),E<0&&r[0]&&r[0].t=="t"&&(D=D.substr(1),r[0].v="-"+r[0].v)),S=D.length-1;var I=r.length;for(i=0;i<r.length;++i)if(r[i]!=null&&r[i].t!="t"&&r[i].v.indexOf(".")>-1){I=i;break}var P=r.length;if(I===r.length&&D.indexOf("E")===-1){for(i=r.length-1;i>=0;--i)r[i]==null||"n?".indexOf(r[i].t)===-1||(S>=r[i].v.length-1?(S-=r[i].v.length,r[i].v=D.substr(S+1,r[i].v.length)):S<0?r[i].v="":(r[i].v=D.substr(0,S+1),S=-1),r[i].t="t",P=i);S>=0&&P<r.length&&(r[P].v=D.substr(0,S+1)+r[P].v)}else if(I!==r.length&&D.indexOf("E")===-1){for(S=D.indexOf(".")-1,i=I;i>=0;--i)if(!(r[i]==null||"n?".indexOf(r[i].t)===-1)){for(u=r[i].v.indexOf(".")>-1&&i===I?r[i].v.indexOf(".")-1:r[i].v.length-1,C=r[i].v.substr(u+1);u>=0;--u)S>=0&&(r[i].v.charAt(u)==="0"||r[i].v.charAt(u)==="#")&&(C=D.charAt(S--)+C);r[i].v=C,r[i].t="t",P=i}for(S>=0&&P<r.length&&(r[P].v=D.substr(0,S+1)+r[P].v),S=D.indexOf(".")+1,i=I;i<r.length;++i)if(!(r[i]==null||"n?(".indexOf(r[i].t)===-1&&i!==I)){for(u=r[i].v.indexOf(".")>-1&&i===I?r[i].v.indexOf(".")+1:0,C=r[i].v.substr(0,u);u<r[i].v.length;++u)S<D.length&&(C+=D.charAt(S++));r[i].v=C,r[i].t="t",P=i}}}for(i=0;i<r.length;++i)r[i]!=null&&"n?".indexOf(r[i].t)>-1&&(E=a>1&&e<0&&i>0&&r[i-1].v==="-"?-e:e,r[i].v=al(r[i].t,r[i].v,E),r[i].t="t");var R="";for(i=0;i!==r.length;++i)r[i]!=null&&(R+=r[i].v);return R}var HL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function KL(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function pOe(t,e){var n=fOe(t),a=n.length,r=n[a-1].indexOf("@");if(a<4&&r>-1&&--a,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||r>-1?n[n.length-1]:"@"];switch(typeof e=="number"&&!isFinite(e)&&(e=0),n.length){case 1:n=r>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=r>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=r>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[a,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var i=n[0].match(HL),o=n[1].match(HL);return KL(e,i)?[a,n[0]]:KL(e,o)?[a,n[1]]:[a,n[i!=null&&o!=null?2:1]]}return[a,s]}function Zs(t,e,n){n==null&&(n={});var a="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?a=n.dateNF:a=t;break;case"number":t==14&&n.dateNF?a=n.dateNF:a=(n.table!=null?n.table:It)[t],a==null&&(a=n.table&&n.table[WL[t]]||It[WL[t]]),a==null&&(a=YFe[t]||"General");break}if(rw(a,0))return md(e,n);e instanceof Date&&(e=Ia(e,n.date1904));var r=pOe(a,e);if(rw(r[1]))return md(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else{if(e===""||e==null)return"";if(isNaN(e)&&r[1].indexOf("0")>-1)return"#NUM!";if(!isFinite(e)&&r[1].indexOf("0")>-1)return"#DIV/0!"}return dOe(r[1],e,n,r[0])}function bD(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(It[n]==null){e<0&&(e=n);continue}if(It[n]==t){e=n;break}}e<0&&(e=391)}return It[e]=t,e}function cm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&bD(t[e],e)}function Bd(){It=XFe()}var Uj={format:Zs,load:bD,_table:It,load_table:cm,parse_date_code:Zo,is_date:hi,get_table:function(){return Uj._table=It}},hOe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},iw=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function mOe(t){var e=typeof t=="number"?It[t]:t;return e=e.replace(iw,"(\\d+)"),iw.lastIndex=0,new RegExp("^"+e+"$")}function gOe(t,e,n){var a=-1,r=-1,s=-1,i=-1,o=-1,c=-1;(e.match(iw)||[]).forEach(function(d,h){var m=parseInt(n[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":a=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?o=m:r=m;break}}),iw.lastIndex=0,c>=0&&o==-1&&r>=0&&(o=r,r=-1);var l=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);l.length==7&&(l="0"+l),l.length==8&&(l="20"+l);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&o==-1&&c==-1?l:a==-1&&r==-1&&s==-1?u:l+"T"+u}var yOe={"d.m":"d\\.m"};function ou(t,e){return bD(yOe[t]||t,e)}var qL=function(){var t={};t.version="1.2.0";function e(){for(var E=0,D=new Array(256),I=0;I!=256;++I)E=I,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,D[I]=E;return typeof Int32Array<"u"?new Int32Array(D):D}var n=e();function a(E){var D=0,I=0,P=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)R[P]=E[P];for(P=0;P!=256;++P)for(I=E[P],D=256+P;D<4096;D+=256)I=R[D]=I>>>8^E[I&255];var B=[];for(P=1;P!=16;++P)B[P-1]=typeof Int32Array<"u"&&typeof R.subarray=="function"?R.subarray(P*256,P*256+256):R.slice(P*256,P*256+256);return B}var r=a(n),s=r[0],i=r[1],o=r[2],c=r[3],l=r[4],u=r[5],d=r[6],h=r[7],m=r[8],y=r[9],v=r[10],x=r[11],k=r[12],b=r[13],_=r[14];function A(E,D){for(var I=D^-1,P=0,R=E.length;P<R;)I=I>>>8^n[(I^E.charCodeAt(P++))&255];return~I}function S(E,D){for(var I=D^-1,P=E.length-15,R=0;R<P;)I=_[E[R++]^I&255]^b[E[R++]^I>>8&255]^k[E[R++]^I>>16&255]^x[E[R++]^I>>>24]^v[E[R++]]^y[E[R++]]^m[E[R++]]^h[E[R++]]^d[E[R++]]^u[E[R++]]^l[E[R++]]^c[E[R++]]^o[E[R++]]^i[E[R++]]^s[E[R++]]^n[E[R++]];for(P+=15;R<P;)I=I>>>8^n[(I^E[R++])&255];return~I}function C(E,D){for(var I=D^-1,P=0,R=E.length,B=0,U=0;P<R;)B=E.charCodeAt(P++),B<128?I=I>>>8^n[(I^B)&255]:B<2048?(I=I>>>8^n[(I^(192|B>>6&31))&255],I=I>>>8^n[(I^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,U=E.charCodeAt(P++)&1023,I=I>>>8^n[(I^(240|B>>8&7))&255],I=I>>>8^n[(I^(128|B>>2&63))&255],I=I>>>8^n[(I^(128|U>>6&15|(B&3)<<4))&255],I=I>>>8^n[(I^(128|U&63))&255]):(I=I>>>8^n[(I^(224|B>>12&15))&255],I=I>>>8^n[(I^(128|B>>6&63))&255],I=I>>>8^n[(I^(128|B&63))&255]);return~I}return t.table=n,t.bstr=A,t.buf=S,t.str=C,t}(),Mt=function(){var e={};e.version="1.2.2";function n(H,oe){for(var ne=H.split("/"),re=oe.split("/"),ce=0,fe=0,Pe=Math.min(ne.length,re.length);ce<Pe;++ce){if(fe=ne[ce].length-re[ce].length)return fe;if(ne[ce]!=re[ce])return ne[ce]<re[ce]?-1:1}return ne.length-re.length}function a(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:a(H.slice(0,-1));var oe=H.lastIndexOf("/");return oe===-1?H:H.slice(0,oe+1)}function r(H){if(H.charAt(H.length-1)=="/")return r(H.slice(0,-1));var oe=H.lastIndexOf("/");return oe===-1?H:H.slice(oe+1)}function s(H,oe){typeof oe=="string"&&(oe=new Date(oe));var ne=oe.getHours();ne=ne<<6|oe.getMinutes(),ne=ne<<5|oe.getSeconds()>>>1,H.write_shift(2,ne);var re=oe.getFullYear()-1980;re=re<<4|oe.getMonth()+1,re=re<<5|oe.getDate(),H.write_shift(2,re)}function i(H){var oe=H.read_shift(2)&65535,ne=H.read_shift(2)&65535,re=new Date,ce=ne&31;ne>>>=5;var fe=ne&15;ne>>>=4,re.setMilliseconds(0),re.setFullYear(ne+1980),re.setMonth(fe-1),re.setDate(ce);var Pe=oe&31;oe>>>=5;var Ge=oe&63;return oe>>>=6,re.setHours(oe),re.setMinutes(Ge),re.setSeconds(Pe<<1),re}function o(H){pr(H,0);for(var oe={},ne=0;H.l<=H.length-4;){var re=H.read_shift(2),ce=H.read_shift(2),fe=H.l+ce,Pe={};switch(re){case 21589:ne=H.read_shift(1),ne&1&&(Pe.mtime=H.read_shift(4)),ce>5&&(ne&2&&(Pe.atime=H.read_shift(4)),ne&4&&(Pe.ctime=H.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3));break;case 1:{var Ge=H.read_shift(4),Te=H.read_shift(4);Pe.usz=Te*Math.pow(2,32)+Ge,Ge=H.read_shift(4),Te=H.read_shift(4),Pe.csz=Te*Math.pow(2,32)+Ge}break}H.l=fe,oe[re]=Pe}return oe}var c;function l(){return c||(c=Qc)}function u(H,oe){if(H[0]==80&&H[1]==75)return U1(H,oe);if((H[0]|32)==109&&(H[1]|32)==105)return dm(H,oe);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var ne=3,re=512,ce=0,fe=0,Pe=0,Ge=0,Te=0,Ee=[],Re=H.slice(0,512);pr(Re,0);var Qe=d(Re);switch(ne=Qe[0],ne){case 3:re=512;break;case 4:re=4096;break;case 0:if(Qe[1]==0)return U1(H,oe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ne)}re!==512&&(Re=H.slice(0,re),pr(Re,28));var rt=H.slice(0,re);h(Re,ne);var pt=Re.read_shift(4,"i");if(ne===3&&pt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pt);Re.l+=4,Pe=Re.read_shift(4,"i"),Re.l+=4,Re.chk("00100000","Mini Stream Cutoff Size: "),Ge=Re.read_shift(4,"i"),ce=Re.read_shift(4,"i"),Te=Re.read_shift(4,"i"),fe=Re.read_shift(4,"i");for(var Je=-1,et=0;et<109&&(Je=Re.read_shift(4,"i"),!(Je<0));++et)Ee[et]=Je;var Kt=m(H,re);x(Te,fe,Kt,re,Ee);var aa=b(Kt,Pe,Ee,re);Pe<aa.length&&(aa[Pe].name="!Directory"),ce>0&&Ge!==U&&(aa[Ge].name="!MiniFAT"),aa[Ee[0]].name="!FAT",aa.fat_addrs=Ee,aa.ssz=re;var Wn={},wa=[],vs=[],Ku=[];_(Pe,aa,Kt,wa,ce,Wn,vs,Ge),y(vs,Ku,wa),wa.shift();var Tl={FileIndex:vs,FullPaths:Ku};return oe&&oe.raw&&(Tl.raw={header:rt,sectors:Kt}),Tl}function d(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(V,"Header Signature: "),H.l+=16;var oe=H.read_shift(2,"u");return[H.read_shift(2,"u"),oe]}function h(H,oe){var ne=9;switch(H.l+=2,ne=H.read_shift(2)){case 9:if(oe!=3)throw new Error("Sector Shift: Expected 9 saw "+ne);break;case 12:if(oe!=4)throw new Error("Sector Shift: Expected 12 saw "+ne);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ne)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function m(H,oe){for(var ne=Math.ceil(H.length/oe)-1,re=[],ce=1;ce<ne;++ce)re[ce-1]=H.slice(ce*oe,(ce+1)*oe);return re[ne-1]=H.slice(ne*oe),re}function y(H,oe,ne){for(var re=0,ce=0,fe=0,Pe=0,Ge=0,Te=ne.length,Ee=[],Re=[];re<Te;++re)Ee[re]=Re[re]=re,oe[re]=ne[re];for(;Ge<Re.length;++Ge)re=Re[Ge],ce=H[re].L,fe=H[re].R,Pe=H[re].C,Ee[re]===re&&(ce!==-1&&Ee[ce]!==ce&&(Ee[re]=Ee[ce]),fe!==-1&&Ee[fe]!==fe&&(Ee[re]=Ee[fe])),Pe!==-1&&(Ee[Pe]=re),ce!==-1&&re!=Ee[re]&&(Ee[ce]=Ee[re],Re.lastIndexOf(ce)<Ge&&Re.push(ce)),fe!==-1&&re!=Ee[re]&&(Ee[fe]=Ee[re],Re.lastIndexOf(fe)<Ge&&Re.push(fe));for(re=1;re<Te;++re)Ee[re]===re&&(fe!==-1&&Ee[fe]!==fe?Ee[re]=Ee[fe]:ce!==-1&&Ee[ce]!==ce&&(Ee[re]=Ee[ce]));for(re=1;re<Te;++re)if(H[re].type!==0){if(Ge=re,Ge!=Ee[Ge])do Ge=Ee[Ge],oe[re]=oe[Ge]+"/"+oe[re];while(Ge!==0&&Ee[Ge]!==-1&&Ge!=Ee[Ge]);Ee[re]=-1}for(oe[0]+="/",re=1;re<Te;++re)H[re].type!==2&&(oe[re]+="/")}function v(H,oe,ne){for(var re=H.start,ce=H.size,fe=[],Pe=re;ne&&ce>0&&Pe>=0;)fe.push(oe.slice(Pe*B,Pe*B+B)),ce-=B,Pe=Tf(ne,Pe*4);return fe.length===0?De(0):ja(fe).slice(0,H.size)}function x(H,oe,ne,re,ce){var fe=U;if(H===U){if(oe!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var Pe=ne[H],Ge=(re>>>2)-1;if(!Pe)return;for(var Te=0;Te<Ge&&(fe=Tf(Pe,Te*4))!==U;++Te)ce.push(fe);oe>=1&&x(Tf(Pe,re-4),oe-1,ne,re,ce)}}function k(H,oe,ne,re,ce){var fe=[],Pe=[];ce||(ce=[]);var Ge=re-1,Te=0,Ee=0;for(Te=oe;Te>=0;){ce[Te]=!0,fe[fe.length]=Te,Pe.push(H[Te]);var Re=ne[Math.floor(Te*4/re)];if(Ee=Te*4&Ge,re<4+Ee)throw new Error("FAT boundary crossed: "+Te+" 4 "+re);if(!H[Re])break;Te=Tf(H[Re],Ee)}return{nodes:fe,data:sM([Pe])}}function b(H,oe,ne,re){var ce=H.length,fe=[],Pe=[],Ge=[],Te=[],Ee=re-1,Re=0,Qe=0,rt=0,pt=0;for(Re=0;Re<ce;++Re)if(Ge=[],rt=Re+oe,rt>=ce&&(rt-=ce),!Pe[rt]){Te=[];var Je=[];for(Qe=rt;Qe>=0;){Je[Qe]=!0,Pe[Qe]=!0,Ge[Ge.length]=Qe,Te.push(H[Qe]);var et=ne[Math.floor(Qe*4/re)];if(pt=Qe*4&Ee,re<4+pt)throw new Error("FAT boundary crossed: "+Qe+" 4 "+re);if(!H[et]||(Qe=Tf(H[et],pt),Je[Qe]))break}fe[rt]={nodes:Ge,data:sM([Te])}}return fe}function _(H,oe,ne,re,ce,fe,Pe,Ge){for(var Te=0,Ee=re.length?2:0,Re=oe[H].data,Qe=0,rt=0,pt;Qe<Re.length;Qe+=128){var Je=Re.slice(Qe,Qe+128);pr(Je,64),rt=Je.read_shift(2),pt=L_(Je,0,rt-Ee),re.push(pt);var et={name:pt,type:Je.read_shift(1),color:Je.read_shift(1),L:Je.read_shift(4,"i"),R:Je.read_shift(4,"i"),C:Je.read_shift(4,"i"),clsid:Je.read_shift(16),state:Je.read_shift(4,"i"),start:0,size:0},Kt=Je.read_shift(2)+Je.read_shift(2)+Je.read_shift(2)+Je.read_shift(2);Kt!==0&&(et.ct=A(Je,Je.l-8));var aa=Je.read_shift(2)+Je.read_shift(2)+Je.read_shift(2)+Je.read_shift(2);aa!==0&&(et.mt=A(Je,Je.l-8)),et.start=Je.read_shift(4,"i"),et.size=Je.read_shift(4,"i"),et.size<0&&et.start<0&&(et.size=et.type=0,et.start=U,et.name=""),et.type===5?(Te=et.start,ce>0&&Te!==U&&(oe[Te].name="!StreamData")):et.size>=4096?(et.storage="fat",oe[et.start]===void 0&&(oe[et.start]=k(ne,et.start,oe.fat_addrs,oe.ssz)),oe[et.start].name=et.name,et.content=oe[et.start].data.slice(0,et.size)):(et.storage="minifat",et.size<0?et.size=0:Te!==U&&et.start!==U&&oe[Te]&&(et.content=v(et,oe[Te].data,(oe[Ge]||{}).data))),et.content&&pr(et.content,0),fe[pt]=et,Pe.push(et)}}function A(H,oe){return new Date((Cr(H,oe+4)/1e7*Math.pow(2,32)+Cr(H,oe)/1e7-11644473600)*1e3)}function S(H,oe){return l(),u(c.readFileSync(H),oe)}function C(H,oe){var ne=oe&&oe.type;switch(ne||fn&&Buffer.isBuffer(H)&&(ne="buffer"),ne||"base64"){case"file":return S(H,oe);case"base64":return u(Ss(pi(H)),oe);case"binary":return u(Ss(H),oe)}return u(H,oe)}function E(H,oe){var ne=oe||{},re=ne.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=re+"/",H.FileIndex[0]={name:re,type:5}),ne.CLSID&&(H.FileIndex[0].clsid=ne.CLSID),D(H)}function D(H){var oe="Sh33tJ5";if(!Mt.find(H,"/"+oe)){var ne=De(4);ne[0]=55,ne[1]=ne[3]=50,ne[2]=54,H.FileIndex.push({name:oe,type:2,content:ne,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+oe),I(H)}}function I(H,oe){E(H);for(var ne=!1,re=!1,ce=H.FullPaths.length-1;ce>=0;--ce){var fe=H.FileIndex[ce];switch(fe.type){case 0:re?ne=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(fe.R*fe.L*fe.C)&&(ne=!0),fe.R>-1&&fe.L>-1&&fe.R==fe.L&&(ne=!0);break;default:ne=!0;break}}if(!(!ne&&!oe)){var Pe=new Date(1987,1,19),Ge=0,Te=Object.create?Object.create(null):{},Ee=[];for(ce=0;ce<H.FullPaths.length;++ce)Te[H.FullPaths[ce]]=!0,H.FileIndex[ce].type!==0&&Ee.push([H.FullPaths[ce],H.FileIndex[ce]]);for(ce=0;ce<Ee.length;++ce){var Re=a(Ee[ce][0]);for(re=Te[Re];!re;){for(;a(Re)&&!Te[a(Re)];)Re=a(Re);Ee.push([Re,{name:r(Re).replace("/",""),type:1,clsid:W,ct:Pe,mt:Pe,content:null}]),Te[Re]=!0,Re=a(Ee[ce][0]),re=Te[Re]}}for(Ee.sort(function(pt,Je){return n(pt[0],Je[0])}),H.FullPaths=[],H.FileIndex=[],ce=0;ce<Ee.length;++ce)H.FullPaths[ce]=Ee[ce][0],H.FileIndex[ce]=Ee[ce][1];for(ce=0;ce<Ee.length;++ce){var Qe=H.FileIndex[ce],rt=H.FullPaths[ce];if(Qe.name=r(rt).replace("/",""),Qe.L=Qe.R=Qe.C=-(Qe.color=1),Qe.size=Qe.content?Qe.content.length:0,Qe.start=0,Qe.clsid=Qe.clsid||W,ce===0)Qe.C=Ee.length>1?1:-1,Qe.size=0,Qe.type=5;else if(rt.slice(-1)=="/"){for(Ge=ce+1;Ge<Ee.length&&a(H.FullPaths[Ge])!=rt;++Ge);for(Qe.C=Ge>=Ee.length?-1:Ge,Ge=ce+1;Ge<Ee.length&&a(H.FullPaths[Ge])!=a(rt);++Ge);Qe.R=Ge>=Ee.length?-1:Ge,Qe.type=1}else a(H.FullPaths[ce+1]||"")==a(rt)&&(Qe.R=ce+1),Qe.type=2}}}function P(H,oe){var ne=oe||{};if(ne.fileType=="mad")return Hu(H,ne);switch(I(H),ne.fileType){case"zip":return qd(H,ne)}var re=function(pt){for(var Je=0,et=0,Kt=0;Kt<pt.FileIndex.length;++Kt){var aa=pt.FileIndex[Kt];if(aa.content){var Wn=aa.content.length;Wn>0&&(Wn<4096?Je+=Wn+63>>6:et+=Wn+511>>9)}}for(var wa=pt.FullPaths.length+3>>2,vs=Je+7>>3,Ku=Je+127>>7,Tl=vs+et+wa+Ku,Mo=Tl+127>>7,pm=Mo<=109?0:Math.ceil((Mo-109)/127);Tl+Mo+pm+127>>7>Mo;)pm=++Mo<=109?0:Math.ceil((Mo-109)/127);var Fs=[1,pm,Mo,Ku,wa,et,Je,0];return pt.FileIndex[0].size=Je<<6,Fs[7]=(pt.FileIndex[0].start=Fs[0]+Fs[1]+Fs[2]+Fs[3]+Fs[4]+Fs[5])+(Fs[6]+7>>3),Fs}(H),ce=De(re[7]<<9),fe=0,Pe=0;{for(fe=0;fe<8;++fe)ce.write_shift(1,j[fe]);for(fe=0;fe<8;++fe)ce.write_shift(2,0);for(ce.write_shift(2,62),ce.write_shift(2,3),ce.write_shift(2,65534),ce.write_shift(2,9),ce.write_shift(2,6),fe=0;fe<3;++fe)ce.write_shift(2,0);for(ce.write_shift(4,0),ce.write_shift(4,re[2]),ce.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),ce.write_shift(4,0),ce.write_shift(4,4096),ce.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:U),ce.write_shift(4,re[3]),ce.write_shift(-4,re[1]?re[0]-1:U),ce.write_shift(4,re[1]),fe=0;fe<109;++fe)ce.write_shift(-4,fe<re[2]?re[1]+fe:-1)}if(re[1])for(Pe=0;Pe<re[1];++Pe){for(;fe<236+Pe*127;++fe)ce.write_shift(-4,fe<re[2]?re[1]+fe:-1);ce.write_shift(-4,Pe===re[1]-1?U:Pe+1)}var Ge=function(pt){for(Pe+=pt;fe<Pe-1;++fe)ce.write_shift(-4,fe+1);pt&&(++fe,ce.write_shift(-4,U))};for(Pe=fe=0,Pe+=re[1];fe<Pe;++fe)ce.write_shift(-4,J.DIFSECT);for(Pe+=re[2];fe<Pe;++fe)ce.write_shift(-4,J.FATSECT);Ge(re[3]),Ge(re[4]);for(var Te=0,Ee=0,Re=H.FileIndex[0];Te<H.FileIndex.length;++Te)Re=H.FileIndex[Te],Re.content&&(Ee=Re.content.length,!(Ee<4096)&&(Re.start=Pe,Ge(Ee+511>>9)));for(Ge(re[6]+7>>3);ce.l&511;)ce.write_shift(-4,J.ENDOFCHAIN);for(Pe=fe=0,Te=0;Te<H.FileIndex.length;++Te)Re=H.FileIndex[Te],Re.content&&(Ee=Re.content.length,!(!Ee||Ee>=4096)&&(Re.start=Pe,Ge(Ee+63>>6)));for(;ce.l&511;)ce.write_shift(-4,J.ENDOFCHAIN);for(fe=0;fe<re[4]<<2;++fe){var Qe=H.FullPaths[fe];if(!Qe||Qe.length===0){for(Te=0;Te<17;++Te)ce.write_shift(4,0);for(Te=0;Te<3;++Te)ce.write_shift(4,-1);for(Te=0;Te<12;++Te)ce.write_shift(4,0);continue}Re=H.FileIndex[fe],fe===0&&(Re.start=Re.size?Re.start-1:U);var rt=fe===0&&ne.root||Re.name;if(rt.length>31&&(console.error("Name "+rt+" will be truncated to "+rt.slice(0,31)),rt=rt.slice(0,31)),Ee=2*(rt.length+1),ce.write_shift(64,rt,"utf16le"),ce.write_shift(2,Ee),ce.write_shift(1,Re.type),ce.write_shift(1,Re.color),ce.write_shift(-4,Re.L),ce.write_shift(-4,Re.R),ce.write_shift(-4,Re.C),Re.clsid)ce.write_shift(16,Re.clsid,"hex");else for(Te=0;Te<4;++Te)ce.write_shift(4,0);ce.write_shift(4,Re.state||0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,Re.start),ce.write_shift(4,Re.size),ce.write_shift(4,0)}for(fe=1;fe<H.FileIndex.length;++fe)if(Re=H.FileIndex[fe],Re.size>=4096)if(ce.l=Re.start+1<<9,fn&&Buffer.isBuffer(Re.content))Re.content.copy(ce,ce.l,0,Re.size),ce.l+=Re.size+511&-512;else{for(Te=0;Te<Re.size;++Te)ce.write_shift(1,Re.content[Te]);for(;Te&511;++Te)ce.write_shift(1,0)}for(fe=1;fe<H.FileIndex.length;++fe)if(Re=H.FileIndex[fe],Re.size>0&&Re.size<4096)if(fn&&Buffer.isBuffer(Re.content))Re.content.copy(ce,ce.l,0,Re.size),ce.l+=Re.size+63&-64;else{for(Te=0;Te<Re.size;++Te)ce.write_shift(1,Re.content[Te]);for(;Te&63;++Te)ce.write_shift(1,0)}if(fn)ce.l=ce.length;else for(;ce.l<ce.length;)ce.write_shift(1,0);return ce}function R(H,oe){var ne=H.FullPaths.map(function(Te){return Te.toUpperCase()}),re=ne.map(function(Te){var Ee=Te.split("/");return Ee[Ee.length-(Te.slice(-1)=="/"?2:1)]}),ce=!1;oe.charCodeAt(0)===47?(ce=!0,oe=ne[0].slice(0,-1)+oe):ce=oe.indexOf("/")!==-1;var fe=oe.toUpperCase(),Pe=ce===!0?ne.indexOf(fe):re.indexOf(fe);if(Pe!==-1)return H.FileIndex[Pe];var Ge=!fe.match(T0);for(fe=fe.replace(Cs,""),Ge&&(fe=fe.replace(T0,"!")),Pe=0;Pe<ne.length;++Pe)if((Ge?ne[Pe].replace(T0,"!"):ne[Pe]).replace(Cs,"")==fe||(Ge?re[Pe].replace(T0,"!"):re[Pe]).replace(Cs,"")==fe)return H.FileIndex[Pe];return null}var B=64,U=-2,V="d0cf11e0a1b11ae1",j=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(H,oe,ne){l();var re=P(H,ne);c.writeFileSync(oe,re)}function Z(H){for(var oe=new Array(H.length),ne=0;ne<H.length;++ne)oe[ne]=String.fromCharCode(H[ne]);return oe.join("")}function M(H,oe){var ne=P(H,oe);switch(oe&&oe.type||"buffer"){case"file":return l(),c.writeFileSync(oe.filename,ne),ne;case"binary":return typeof ne=="string"?ne:Z(ne);case"base64":return nw(typeof ne=="string"?ne:Z(ne));case"buffer":if(fn)return Buffer.isBuffer(ne)?ne:Nc(ne);case"array":return typeof ne=="string"?Ss(ne):ne}return ne}var se;function ue(H){try{var oe=H.InflateRaw,ne=new oe;if(ne._processChunk(new Uint8Array([3,0]),ne._finishFlushFlag),ne.bytesRead)se=H;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function le(H,oe){if(!se)return Sl(H,oe);var ne=se.InflateRaw,re=new ne,ce=re._processChunk(H.slice(H.l),re._finishFlushFlag);return H.l+=re.bytesRead,ce}function ie(H){return se?se.deflateRawSync(H):Bn(H)}var ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ke=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function G(H){var oe=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(oe>>16|oe>>8|oe)&255}for(var te=typeof Uint8Array<"u",ee=te?new Uint8Array(256):[],ae=0;ae<256;++ae)ee[ae]=G(ae);function be(H,oe){var ne=ee[H&255];return oe<=8?ne>>>8-oe:(ne=ne<<8|ee[H>>8&255],oe<=16?ne>>>16-oe:(ne=ne<<8|ee[H>>16&255],ne>>>24-oe))}function Y(H,oe){var ne=oe&7,re=oe>>>3;return(H[re]|(ne<=6?0:H[re+1]<<8))>>>ne&3}function Ae(H,oe){var ne=oe&7,re=oe>>>3;return(H[re]|(ne<=5?0:H[re+1]<<8))>>>ne&7}function Oe(H,oe){var ne=oe&7,re=oe>>>3;return(H[re]|(ne<=4?0:H[re+1]<<8))>>>ne&15}function $e(H,oe){var ne=oe&7,re=oe>>>3;return(H[re]|(ne<=3?0:H[re+1]<<8))>>>ne&31}function He(H,oe){var ne=oe&7,re=oe>>>3;return(H[re]|(ne<=1?0:H[re+1]<<8))>>>ne&127}function Ve(H,oe,ne){var re=oe&7,ce=oe>>>3,fe=(1<<ne)-1,Pe=H[ce]>>>re;return ne<8-re||(Pe|=H[ce+1]<<8-re,ne<16-re)||(Pe|=H[ce+2]<<16-re,ne<24-re)||(Pe|=H[ce+3]<<24-re),Pe&fe}function tt(H,oe,ne){var re=oe&7,ce=oe>>>3;return re<=5?H[ce]|=(ne&7)<<re:(H[ce]|=ne<<re&255,H[ce+1]=(ne&7)>>8-re),oe+3}function lt(H,oe,ne){var re=oe&7,ce=oe>>>3;return ne=(ne&1)<<re,H[ce]|=ne,oe+1}function zt(H,oe,ne){var re=oe&7,ce=oe>>>3;return ne<<=re,H[ce]|=ne&255,ne>>>=8,H[ce+1]=ne,oe+8}function $t(H,oe,ne){var re=oe&7,ce=oe>>>3;return ne<<=re,H[ce]|=ne&255,ne>>>=8,H[ce+1]=ne&255,H[ce+2]=ne>>>8,oe+16}function st(H,oe){var ne=H.length,re=2*ne>oe?2*ne:oe+5,ce=0;if(ne>=oe)return H;if(fn){var fe=zL(re);if(H.copy)H.copy(fe);else for(;ce<H.length;++ce)fe[ce]=H[ce];return fe}else if(te){var Pe=new Uint8Array(re);if(Pe.set)Pe.set(H);else for(;ce<ne;++ce)Pe[ce]=H[ce];return Pe}return H.length=re,H}function Be(H){for(var oe=new Array(H),ne=0;ne<H;++ne)oe[ne]=0;return oe}function Fe(H,oe,ne){var re=1,ce=0,fe=0,Pe=0,Ge=0,Te=H.length,Ee=te?new Uint16Array(32):Be(32);for(fe=0;fe<32;++fe)Ee[fe]=0;for(fe=Te;fe<ne;++fe)H[fe]=0;Te=H.length;var Re=te?new Uint16Array(Te):Be(Te);for(fe=0;fe<Te;++fe)Ee[ce=H[fe]]++,re<ce&&(re=ce),Re[fe]=0;for(Ee[0]=0,fe=1;fe<=re;++fe)Ee[fe+16]=Ge=Ge+Ee[fe-1]<<1;for(fe=0;fe<Te;++fe)Ge=H[fe],Ge!=0&&(Re[fe]=Ee[Ge+16]++);var Qe=0;for(fe=0;fe<Te;++fe)if(Qe=H[fe],Qe!=0)for(Ge=be(Re[fe],re)>>re-Qe,Pe=(1<<re+4-Qe)-1;Pe>=0;--Pe)oe[Ge|Pe<<Qe]=Qe&15|fe<<4;return re}var Dt=te?new Uint16Array(512):Be(512),Bt=te?new Uint16Array(32):Be(32);if(!te){for(var Rt=0;Rt<512;++Rt)Dt[Rt]=0;for(Rt=0;Rt<32;++Rt)Bt[Rt]=0}(function(){for(var H=[],oe=0;oe<32;oe++)H.push(5);Fe(H,Bt,32);var ne=[];for(oe=0;oe<=143;oe++)ne.push(8);for(;oe<=255;oe++)ne.push(9);for(;oe<=279;oe++)ne.push(7);for(;oe<=287;oe++)ne.push(8);Fe(ne,Dt,288)})();var Mn=function(){for(var oe=te?new Uint8Array(32768):[],ne=0,re=0;ne<ge.length-1;++ne)for(;re<ge[ne+1];++re)oe[re]=ne;for(;re<32768;++re)oe[re]=29;var ce=te?new Uint8Array(259):[];for(ne=0,re=0;ne<ke.length-1;++ne)for(;re<ke[ne+1];++re)ce[re]=ne;function fe(Ge,Te){for(var Ee=0;Ee<Ge.length;){var Re=Math.min(65535,Ge.length-Ee),Qe=Ee+Re==Ge.length;for(Te.write_shift(1,+Qe),Te.write_shift(2,Re),Te.write_shift(2,~Re&65535);Re-- >0;)Te[Te.l++]=Ge[Ee++]}return Te.l}function Pe(Ge,Te){for(var Ee=0,Re=0,Qe=te?new Uint16Array(32768):[];Re<Ge.length;){var rt=Math.min(65535,Ge.length-Re);if(rt<10){for(Ee=tt(Te,Ee,+(Re+rt==Ge.length)),Ee&7&&(Ee+=8-(Ee&7)),Te.l=Ee/8|0,Te.write_shift(2,rt),Te.write_shift(2,~rt&65535);rt-- >0;)Te[Te.l++]=Ge[Re++];Ee=Te.l*8;continue}Ee=tt(Te,Ee,+(Re+rt==Ge.length)+2);for(var pt=0;rt-- >0;){var Je=Ge[Re];pt=(pt<<5^Je)&32767;var et=-1,Kt=0;if((et=Qe[pt])&&(et|=Re&-32768,et>Re&&(et-=32768),et<Re))for(;Ge[et+Kt]==Ge[Re+Kt]&&Kt<250;)++Kt;if(Kt>2){Je=ce[Kt],Je<=22?Ee=zt(Te,Ee,ee[Je+1]>>1)-1:(zt(Te,Ee,3),Ee+=5,zt(Te,Ee,ee[Je-23]>>5),Ee+=3);var aa=Je<8?0:Je-4>>2;aa>0&&($t(Te,Ee,Kt-ke[Je]),Ee+=aa),Je=oe[Re-et],Ee=zt(Te,Ee,ee[Je]>>3),Ee-=3;var Wn=Je<4?0:Je-2>>1;Wn>0&&($t(Te,Ee,Re-et-ge[Je]),Ee+=Wn);for(var wa=0;wa<Kt;++wa)Qe[pt]=Re&32767,pt=(pt<<5^Ge[Re])&32767,++Re;rt-=Kt-1}else Je<=143?Je=Je+48:Ee=lt(Te,Ee,1),Ee=zt(Te,Ee,ee[Je]),Qe[pt]=Re&32767,++Re}Ee=zt(Te,Ee,0)-1}return Te.l=(Ee+7)/8|0,Te.l}return function(Te,Ee){return Te.length<8?fe(Te,Ee):Pe(Te,Ee)}}();function Bn(H){var oe=De(50+Math.floor(H.length*1.1)),ne=Mn(H,oe);return oe.slice(0,ne)}var it=te?new Uint16Array(32768):Be(32768),qt=te?new Uint16Array(32768):Be(32768),Xt=te?new Uint16Array(128):Be(128),Ht=1,ur=1;function Ka(H,oe){var ne=$e(H,oe)+257;oe+=5;var re=$e(H,oe)+1;oe+=5;var ce=Oe(H,oe)+4;oe+=4;for(var fe=0,Pe=te?new Uint8Array(19):Be(19),Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=1,Ee=te?new Uint8Array(8):Be(8),Re=te?new Uint8Array(8):Be(8),Qe=Pe.length,rt=0;rt<ce;++rt)Pe[ye[rt]]=fe=Ae(H,oe),Te<fe&&(Te=fe),Ee[fe]++,oe+=3;var pt=0;for(Ee[0]=0,rt=1;rt<=Te;++rt)Re[rt]=pt=pt+Ee[rt-1]<<1;for(rt=0;rt<Qe;++rt)(pt=Pe[rt])!=0&&(Ge[rt]=Re[pt]++);var Je=0;for(rt=0;rt<Qe;++rt)if(Je=Pe[rt],Je!=0){pt=ee[Ge[rt]]>>8-Je;for(var et=(1<<7-Je)-1;et>=0;--et)Xt[pt|et<<Je]=Je&7|rt<<3}var Kt=[];for(Te=1;Kt.length<ne+re;)switch(pt=Xt[He(H,oe)],oe+=pt&7,pt>>>=3){case 16:for(fe=3+Y(H,oe),oe+=2,pt=Kt[Kt.length-1];fe-- >0;)Kt.push(pt);break;case 17:for(fe=3+Ae(H,oe),oe+=3;fe-- >0;)Kt.push(0);break;case 18:for(fe=11+He(H,oe),oe+=7;fe-- >0;)Kt.push(0);break;default:Kt.push(pt),Te<pt&&(Te=pt);break}var aa=Kt.slice(0,ne),Wn=Kt.slice(ne);for(rt=ne;rt<286;++rt)aa[rt]=0;for(rt=re;rt<30;++rt)Wn[rt]=0;return Ht=Fe(aa,it,286),ur=Fe(Wn,qt,30),oe}function Da(H,oe){if(H[0]==3&&!(H[1]&3))return[Su(oe),2];for(var ne=0,re=0,ce=zL(oe||1<<18),fe=0,Pe=ce.length>>>0,Ge=0,Te=0;(re&1)==0;){if(re=Ae(H,ne),ne+=3,re>>>1)re>>1==1?(Ge=9,Te=5):(ne=Ka(H,ne),Ge=Ht,Te=ur);else{ne&7&&(ne+=8-(ne&7));var Ee=H[ne>>>3]|H[(ne>>>3)+1]<<8;if(ne+=32,Ee>0)for(!oe&&Pe<fe+Ee&&(ce=st(ce,fe+Ee),Pe=ce.length);Ee-- >0;)ce[fe++]=H[ne>>>3],ne+=8;continue}for(;;){!oe&&Pe<fe+32767&&(ce=st(ce,fe+32767),Pe=ce.length);var Re=Ve(H,ne,Ge),Qe=re>>>1==1?Dt[Re]:it[Re];if(ne+=Qe&15,Qe>>>=4,(Qe>>>8&255)===0)ce[fe++]=Qe;else{if(Qe==256)break;Qe-=257;var rt=Qe<8?0:Qe-4>>2;rt>5&&(rt=0);var pt=fe+ke[Qe];rt>0&&(pt+=Ve(H,ne,rt),ne+=rt),Re=Ve(H,ne,Te),Qe=re>>>1==1?Bt[Re]:qt[Re],ne+=Qe&15,Qe>>>=4;var Je=Qe<4?0:Qe-2>>1,et=ge[Qe];for(Je>0&&(et+=Ve(H,ne,Je),ne+=Je),!oe&&Pe<pt&&(ce=st(ce,pt+100),Pe=ce.length);fe<pt;)ce[fe]=ce[fe-et],++fe}}}return oe?[ce,ne+7>>>3]:[ce.slice(0,fe),ne+7>>>3]}function Sl(H,oe){var ne=H.slice(H.l||0),re=Da(ne,oe);return H.l+=re[1],re[0]}function Hd(H,oe){if(H)typeof console<"u"&&console.error(oe);else throw new Error(oe)}function U1(H,oe){var ne=H;pr(ne,0);var re=[],ce=[],fe={FileIndex:re,FullPaths:ce};E(fe,{root:oe.root});for(var Pe=ne.length-4;(ne[Pe]!=80||ne[Pe+1]!=75||ne[Pe+2]!=5||ne[Pe+3]!=6)&&Pe>=0;)--Pe;ne.l=Pe+4,ne.l+=4;var Ge=ne.read_shift(2);ne.l+=6;var Te=ne.read_shift(4);for(ne.l=Te,Pe=0;Pe<Ge;++Pe){ne.l+=20;var Ee=ne.read_shift(4),Re=ne.read_shift(4),Qe=ne.read_shift(2),rt=ne.read_shift(2),pt=ne.read_shift(2);ne.l+=8;var Je=ne.read_shift(4),et=o(ne.slice(ne.l+Qe,ne.l+Qe+rt));ne.l+=Qe+rt+pt;var Kt=ne.l;ne.l=Je+4,et&&et[1]&&((et[1]||{}).usz&&(Re=et[1].usz),(et[1]||{}).csz&&(Ee=et[1].csz)),Kd(ne,Ee,Re,fe,et),ne.l=Kt}return fe}function Kd(H,oe,ne,re,ce){H.l+=2;var fe=H.read_shift(2),Pe=H.read_shift(2),Ge=i(H);if(fe&8257)throw new Error("Unsupported ZIP encryption");for(var Te=H.read_shift(4),Ee=H.read_shift(4),Re=H.read_shift(4),Qe=H.read_shift(2),rt=H.read_shift(2),pt="",Je=0;Je<Qe;++Je)pt+=String.fromCharCode(H[H.l++]);if(rt){var et=o(H.slice(H.l,H.l+rt));(et[21589]||{}).mt&&(Ge=et[21589].mt),(et[1]||{}).usz&&(Re=et[1].usz),(et[1]||{}).csz&&(Ee=et[1].csz),ce&&((ce[21589]||{}).mt&&(Ge=ce[21589].mt),(ce[1]||{}).usz&&(Re=ce[1].usz),(ce[1]||{}).csz&&(Ee=ce[1].csz))}H.l+=rt;var Kt=H.slice(H.l,H.l+Ee);switch(Pe){case 8:Kt=le(H,Re);break;case 0:H.l+=Ee;break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var aa=!1;fe&8&&(Te=H.read_shift(4),Te==134695760&&(Te=H.read_shift(4),aa=!0),Ee=H.read_shift(4),Re=H.read_shift(4)),Ee!=oe&&Hd(aa,"Bad compressed size: "+oe+" != "+Ee),Re!=ne&&Hd(aa,"Bad uncompressed size: "+ne+" != "+Re),Yd(re,pt,Kt,{unsafe:!0,mt:Ge})}function qd(H,oe){var ne=oe||{},re=[],ce=[],fe=De(1),Pe=ne.compression?8:0,Ge=0,Te=0,Ee=0,Re=0,Qe=0,rt=H.FullPaths[0],pt=rt,Je=H.FileIndex[0],et=[],Kt=0;for(Te=1;Te<H.FullPaths.length;++Te)if(pt=H.FullPaths[Te].slice(rt.length),Je=H.FileIndex[Te],!(!Je.size||!Je.content||Array.isArray(Je.content)&&Je.content.length==0||pt=="Sh33tJ5")){var aa=Re,Wn=De(pt.length);for(Ee=0;Ee<pt.length;++Ee)Wn.write_shift(1,pt.charCodeAt(Ee)&127);Wn=Wn.slice(0,Wn.l),et[Qe]=typeof Je.content=="string"?qL.bstr(Je.content,0):qL.buf(Je.content,0);var wa=typeof Je.content=="string"?Ss(Je.content):Je.content;Pe==8&&(wa=ie(wa)),fe=De(30),fe.write_shift(4,67324752),fe.write_shift(2,20),fe.write_shift(2,Ge),fe.write_shift(2,Pe),Je.mt?s(fe,Je.mt):fe.write_shift(4,0),fe.write_shift(-4,et[Qe]),fe.write_shift(4,wa.length),fe.write_shift(4,Je.content.length),fe.write_shift(2,Wn.length),fe.write_shift(2,0),Re+=fe.length,re.push(fe),Re+=Wn.length,re.push(Wn),Re+=wa.length,re.push(wa),fe=De(46),fe.write_shift(4,33639248),fe.write_shift(2,0),fe.write_shift(2,20),fe.write_shift(2,Ge),fe.write_shift(2,Pe),fe.write_shift(4,0),fe.write_shift(-4,et[Qe]),fe.write_shift(4,wa.length),fe.write_shift(4,Je.content.length),fe.write_shift(2,Wn.length),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(4,0),fe.write_shift(4,aa),Kt+=fe.l,ce.push(fe),Kt+=Wn.length,ce.push(Wn),++Qe}return fe=De(22),fe.write_shift(4,101010256),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,Qe),fe.write_shift(2,Qe),fe.write_shift(4,Kt),fe.write_shift(4,Re),fe.write_shift(2,0),ja([ja(re),ja(ce),fe])}var xi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Xd(H,oe){if(H.ctype)return H.ctype;var ne=H.name||"",re=ne.match(/\.([^\.]+)$/);return re&&xi[re[1]]||oe&&(re=(ne=oe).match(/[\.\\]([^\.\\])+$/),re&&xi[re[1]])?xi[re[1]]:"application/octet-stream"}function ju(H){for(var oe=nw(H),ne=[],re=0;re<oe.length;re+=76)ne.push(oe.slice(re,re+76));return ne.join(`\r
`)+`\r
`}function q_(H){var oe=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ee){var Re=Ee.charCodeAt(0).toString(16).toUpperCase();return"="+(Re.length==1?"0"+Re:Re)});oe=oe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),oe.charAt(0)==`
`&&(oe="=0D"+oe.slice(1)),oe=oe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ne=[],re=oe.split(`\r
`),ce=0;ce<re.length;++ce){var fe=re[ce];if(fe.length==0){ne.push("");continue}for(var Pe=0;Pe<fe.length;){var Ge=76,Te=fe.slice(Pe,Pe+Ge);Te.charAt(Ge-1)=="="?Ge--:Te.charAt(Ge-2)=="="?Ge-=2:Te.charAt(Ge-3)=="="&&(Ge-=3),Te=fe.slice(Pe,Pe+Ge),Pe+=Ge,Pe<fe.length&&(Te+="="),ne.push(Te)}}return ne.join(`\r
`)}function W1(H){for(var oe=[],ne=0;ne<H.length;++ne){for(var re=H[ne];ne<=H.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+H[++ne];oe.push(re)}for(var ce=0;ce<oe.length;++ce)oe[ce]=oe[ce].replace(/[=][0-9A-Fa-f]{2}/g,function(fe){return String.fromCharCode(parseInt(fe.slice(1),16))});return Ss(oe.join(`\r
`))}function V1(H,oe,ne){for(var re="",ce="",fe="",Pe,Ge=0;Ge<10;++Ge){var Te=oe[Ge];if(!Te||Te.match(/^\s*$/))break;var Ee=Te.match(/^([^:]*?):\s*([^\s].*)$/);if(Ee)switch(Ee[1].toLowerCase()){case"content-location":re=Ee[2].trim();break;case"content-type":fe=Ee[2].trim();break;case"content-transfer-encoding":ce=Ee[2].trim();break}}switch(++Ge,ce.toLowerCase()){case"base64":Pe=Ss(pi(oe.slice(Ge).join("")));break;case"quoted-printable":Pe=W1(oe.slice(Ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ce)}var Re=Yd(H,re.slice(ne.length),Pe,{unsafe:!0});fe&&(Re.ctype=fe)}function dm(H,oe){if(Z(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ne=oe&&oe.root||"",re=(fn&&Buffer.isBuffer(H)?H.toString("binary"):Z(H)).split(`\r
`),ce=0,fe="";for(ce=0;ce<re.length;++ce)if(fe=re[ce],!!/^Content-Location:/i.test(fe)&&(fe=fe.slice(fe.indexOf("file")),ne||(ne=fe.slice(0,fe.lastIndexOf("/")+1)),fe.slice(0,ne.length)!=ne))for(;ne.length>0&&(ne=ne.slice(0,ne.length-1),ne=ne.slice(0,ne.lastIndexOf("/")+1),fe.slice(0,ne.length)!=ne););var Pe=(re[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var Ge="--"+(Pe[1]||""),Te=[],Ee=[],Re={FileIndex:Te,FullPaths:Ee};E(Re);var Qe,rt=0;for(ce=0;ce<re.length;++ce){var pt=re[ce];pt!==Ge&&pt!==Ge+"--"||(rt++&&V1(Re,re.slice(Qe,ce),ne),Qe=ce)}return Re}function Hu(H,oe){var ne=oe||{},re=ne.boundary||"SheetJS";re="------="+re;for(var ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],fe=H.FullPaths[0],Pe=fe,Ge=H.FileIndex[0],Te=1;Te<H.FullPaths.length;++Te)if(Pe=H.FullPaths[Te].slice(fe.length),Ge=H.FileIndex[Te],!(!Ge.size||!Ge.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Kt){return"_x"+Kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Kt){return"_u"+Kt.charCodeAt(0).toString(16)+"_"});for(var Ee=Ge.content,Re=fn&&Buffer.isBuffer(Ee)?Ee.toString("binary"):Z(Ee),Qe=0,rt=Math.min(1024,Re.length),pt=0,Je=0;Je<=rt;++Je)(pt=Re.charCodeAt(Je))>=32&&pt<128&&++Qe;var et=Qe>=rt*4/5;ce.push(re),ce.push("Content-Location: "+(ne.root||"file:///C:/SheetJS/")+Pe),ce.push("Content-Transfer-Encoding: "+(et?"quoted-printable":"base64")),ce.push("Content-Type: "+Xd(Ge,Pe)),ce.push(""),ce.push(et?q_(Re):ju(Re))}return ce.push(re+`--\r
`),ce.join(`\r
`)}function X_(H){var oe={};return E(oe,H),oe}function Yd(H,oe,ne,re){var ce=re&&re.unsafe;ce||E(H);var fe=!ce&&Mt.find(H,oe);if(!fe){var Pe=H.FullPaths[0];oe.slice(0,Pe.length)==Pe?Pe=oe:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+oe).replace("//","/")),fe={name:r(oe),type:2},H.FileIndex.push(fe),H.FullPaths.push(Pe),ce||Mt.utils.cfb_gc(H)}return fe.content=ne,fe.size=ne?ne.length:0,re&&(re.CLSID&&(fe.clsid=re.CLSID),re.mt&&(fe.mt=re.mt),re.ct&&(fe.ct=re.ct)),fe}function j1(H,oe){E(H);var ne=Mt.find(H,oe);if(ne){for(var re=0;re<H.FileIndex.length;++re)if(H.FileIndex[re]==ne)return H.FileIndex.splice(re,1),H.FullPaths.splice(re,1),!0}return!1}function H1(H,oe,ne){E(H);var re=Mt.find(H,oe);if(re){for(var ce=0;ce<H.FileIndex.length;++ce)if(H.FileIndex[ce]==re)return H.FileIndex[ce].name=r(ne),H.FullPaths[ce]=ne,!0}return!1}function K1(H){I(H,!0)}return e.find=R,e.read=C,e.parse=u,e.write=M,e.writeFile=q,e.utils={cfb_new:X_,cfb_add:Yd,cfb_del:j1,cfb_mov:H1,cfb_gc:K1,ReadShift:$0,CheckField:cH,prep_blob:pr,bconcat:ja,use_zlib:ue,_deflateRaw:Bn,_inflateRaw:Sl,consts:J},e}(),Qc;function xOe(t){Qc=t}function XL(t){return typeof t=="string"?C1(t):Array.isArray(t)?jFe(t):t}function I1(t,e,n){if(typeof Qc<"u"&&Qc.writeFileSync)return n?Qc.writeFileSync(t,e,n):Qc.writeFileSync(t,e);if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=C1(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var a=n=="utf8"?nc(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,t);if(typeof Blob<"u"){var r=new Blob([XL(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,t);if(typeof saveAs<"u")return saveAs(r,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=t,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}else if(typeof URL<"u"&&!URL.createObjectURL&&typeof chrome=="object"){var o="data:application/octet-stream;base64,"+VFe(new Uint8Array(XL(a)));return chrome.downloads.download({url:o,filename:t,saveAs:!0})}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=xc(e)),c.write(e),c.close(),e}catch(l){if(!l.message||l.message.indexOf("onstruct")==-1)throw l}throw new Error("cannot save file "+t)}function vOe(t){if(typeof Qc<"u")return Qc.readFileSync(t);if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(a){if(!a.message||a.message.indexOf("onstruct")==-1)throw a}throw new Error("Cannot access file "+t)}function pa(t){for(var e=Object.keys(t),n=[],a=0;a<e.length;++a)Object.prototype.hasOwnProperty.call(t,e[a])&&n.push(e[a]);return n}function YL(t,e){for(var n=[],a=pa(t),r=0;r!==a.length;++r)n[t[a[r]][e]]==null&&(n[t[a[r]][e]]=a[r]);return n}function F_(t){for(var e=[],n=pa(t),a=0;a!==n.length;++a)e[t[n[a]]]=n[a];return e}function D1(t){for(var e=[],n=pa(t),a=0;a!==n.length;++a)e[t[n[a]]]=parseInt(n[a],10);return e}function kOe(t){for(var e=[],n=pa(t),a=0;a!==n.length;++a)e[t[n[a]]]==null&&(e[t[n[a]]]=[]),e[t[n[a]]].push(n[a]);return e}var Wj=Date.UTC(1899,11,30,0,0,0),wOe=Date.UTC(1899,11,31,0,0,0),bOe=Date.UTC(1904,0,1,0,0,0);function Ia(t,e){var n=t.getTime(),a=(n-Wj)/(24*60*60*1e3);return e?(a-=1462,a<-1402?a-1:a):a<60?a-1:a}function rl(t){if(t>=60&&t<61)return t;var e=new Date;return e.setTime((t>60?t:t+1)*24*60*60*1e3+Wj),e}function _Oe(t){var e=0,n=0,a=!1,r=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!r)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=r.length;++s)if(r[s]){switch(n=1,s>3&&(a=!0),r[s].slice(r[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+r[s].slice(r[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(a)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(r[s],10)}return e}var AOe=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,NOe=/^(\d+)-(\d+)-(\d+)$/,Vj=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function va(t,e){if(t instanceof Date)return t;var n=t.match(AOe);if(n)return new Date((e?bOe:wOe)+((parseInt(n[1],10)*60+parseInt(n[2],10))*60+(n[3]?parseInt(n[3].slice(1),10):0))*1e3+(n[4]?parseInt((n[4]+"000").slice(1,4),10):0));if(n=t.match(NOe),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],0,0,0,0));if(n=t.match(Vj),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var a=new Date(t);return a}function gd(t,e){if(fn&&Buffer.isBuffer(t)){if(e&&Cg){if(t[0]==255&&t[1]==254)return nc(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return nc(Pj(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return nc(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return nc(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}var a=[],r=0;try{for(r=0;r<t.length-65536;r+=65536)a.push(String.fromCharCode.apply(0,t.slice(r,r+65536)));a.push(String.fromCharCode.apply(0,t.slice(r)))}catch{try{for(;r<t.length-16384;r+=16384)a.push(String.fromCharCode.apply(0,t.slice(r,r+16384)));a.push(String.fromCharCode.apply(0,t.slice(r)))}catch{for(;r!=t.length;++r)a.push(String.fromCharCode(t[r]))}}return a.join("")}function Un(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Un(t[n]));return e}function Pn(t,e){for(var n="";n.length<e;)n+=t;return n}function ui(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,a=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(a))||(a=a.replace(/[(]([^()]*)[)]/,function(r,s){return n=-n,s}),!isNaN(e=Number(a)))?e/n:e}var SOe=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,TOe=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,EOe=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,COe=new Date("6/9/69 00:00 UTC").valueOf()==-177984e5;function IOe(t){return t[2]?t[3]?t[4]?new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),+t[2],+t[4],parseFloat(t[3])*1e3)):new Date(Date.UTC(1899,11,31,t[7]=="p"?12:0,+t[1],+t[2],parseFloat(t[3])*1e3)):t[5]?new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),+t[2],+t[5],t[6]?parseFloat(t[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),+t[2],0,0)):new Date(Date.UTC(1899,11,31,+t[1]%12+(t[7]=="p"?12:0),0,0,0))}function DOe(t){return t[2]?t[3]?t[4]?new Date(Date.UTC(1899,11,31,+t[1],+t[2],+t[4],parseFloat(t[3])*1e3)):new Date(Date.UTC(1899,11,31,0,+t[1],+t[2],parseFloat(t[3])*1e3)):t[5]?new Date(Date.UTC(1899,11,31,+t[1],+t[2],+t[5],t[6]?parseFloat(t[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+t[1],+t[2],0,0)):new Date(Date.UTC(1899,11,31,+t[1],0,0,0))}var ROe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Dg(t){if(EOe.test(t))return t.indexOf("Z")==-1?O_(new Date(t)):new Date(t);var e=t.toLowerCase(),n=e.replace(/\s+/g," ").trim(),a=n.match(SOe);if(a)return IOe(a);if(a=n.match(TOe),a)return DOe(a);if(a=n.match(Vj),a)return new Date(Date.UTC(+a[1],+a[2]-1,+a[3],+a[4],+a[5],a[6]&&parseInt(a[6].slice(1),10)||0,a[7]&&parseInt((a[7]+"0000").slice(1,4),10)||0));var r=new Date(COe&&t.indexOf("UTC")==-1?t+" UTC":t),s=new Date(NaN),i=r.getYear();r.getMonth();var o=r.getDate();if(isNaN(o))return s;if(e.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(e=e.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),e.length>3&&ROe.indexOf(e)==-1)return s}else if(e.replace(/[ap]m?/,"").match(/[a-z]/))return s;return i<0||i>8099||t.match(/[^-0-9:,\/\\\ ]/)?s:r}var POe=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,a,r){if(t||typeof a=="string")return n.split(a);for(var s=n.split(a),i=[s[0]],o=1;o<s.length;++o)i.push(r),i.push(s[o]);return i}}();function yd(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())}function O_(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}function _D(t){var e=t.slice(0,1024),n=e.indexOf("<!DOCTYPE");if(n==-1)return t;var a=t.match(/<[\w]/);return a?t.slice(0,n)+t.slice(a.index):t}function AD(t,e,n){for(var a=[],r=t.indexOf(e);r>-1;){var s=t.indexOf(n,r+e.length);if(s==-1)break;a.push(t.slice(r,s+n.length)),r=t.indexOf(e,s+n.length)}return a.length>0?a:null}function R1(t,e,n){var a=[],r=0,s=t.indexOf(e);if(s==-1)return t;for(;s>-1;){a.push(t.slice(r,s));var i=t.indexOf(n,s+e.length);if(i==-1)break;(s=t.indexOf(e,r=i+n.length))==-1&&a.push(t.slice(r))}return a.join("")}var FOe={" ":1,"	":1,"\r":1,"\n":1,">":1};function Bf(t,e){for(var n=t.indexOf("<"+e),a=e.length+1,r=t.length;n>=0&&n<=r-a&&!FOe[t.charAt(n+a)];)n=t.indexOf("<"+e,n+1);if(n===-1)return null;var s=t.indexOf(">",n+e.length);if(s===-1)return null;var i="</"+e+">",o=t.indexOf(i,s);return o==-1?null:[t.slice(n,o+i.length),t.slice(s+1,o)]}var Rr=function(){var t={};return function(n,a){var r=t[a];r||(t[a]=r=[new RegExp("<(?:\\w+:)?"+a+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+a+">","g")]),r[0].lastIndex=r[1].lastIndex=0;var s=r[0].exec(n);if(!s)return null;var i=s.index,o=r[0].lastIndex;if(r[1].lastIndex=r[0].lastIndex,s=r[1].exec(n),!s)return null;var c=s.index,l=r[1].lastIndex;return[n.slice(i,l),n.slice(o,c)]}}(),jj=function(){var t={};return function(n,a){var r=[],s=t[a];s||(t[a]=s=[new RegExp("<(?:\\w+:)?"+a+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+a+">","g")]),s[0].lastIndex=s[1].lastIndex=0;for(var i;i=s[0].exec(n);){var o=i.index;if(s[1].lastIndex=s[0].lastIndex,i=s[1].exec(n),!i)return null;var c=s[1].lastIndex;r.push(n.slice(o,c)),s[0].lastIndex=s[1].lastIndex}return r.length==0?null:r}}(),OOe=function(){var t={};return function(n,a){var r=[],s=t[a];s||(t[a]=s=[new RegExp("<(?:\\w+:)?"+a+"\\b[^<>]*>","g"),new RegExp("</(?:\\w+:)?"+a+">","g")]),s[0].lastIndex=s[1].lastIndex=0;for(var i,o=0,c=0;i=s[0].exec(n);){if(o=i.index,r.push(n.slice(c,o)),c=o,s[1].lastIndex=s[0].lastIndex,i=s[1].exec(n),!i)return null;c=s[1].lastIndex,s[0].lastIndex=s[1].lastIndex}return r.push(n.slice(c)),r.length==0?"":r.join("")}}(),$Oe=function(){var t={};return function(n,a){var r=[],s=t[a];s||(t[a]=s=[new RegExp("<"+a+"\\b[^<>]*>","ig"),new RegExp("</"+a+">","ig")]),s[0].lastIndex=s[1].lastIndex=0;for(var i;i=s[0].exec(n);){var o=i.index;if(s[1].lastIndex=s[0].lastIndex,i=s[1].exec(n),!i)return null;var c=s[1].lastIndex;r.push(n.slice(o,c)),s[0].lastIndex=s[1].lastIndex}return r.length==0?null:r}}();function Hj(t){return t?t.content&&t.type?gd(t.content,!0):t.data?Kp(t.data):t.asNodeBuffer&&fn?Kp(t.asNodeBuffer().toString("binary")):t.asBinary?Kp(t.asBinary()):t._data&&t._data.getContent?Kp(gd(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Kj(t){if(!t)return null;if(t.data)return tw(t.data);if(t.asNodeBuffer&&fn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?tw(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function LOe(t){return t&&t.name.slice(-4)===".bin"?Kj(t):Hj(t)}function $i(t,e){for(var n=t.FullPaths||pa(t.files),a=e.toLowerCase().replace(/[\/]/g,"\\"),r=a.replace(/\\/g,"/"),s=0;s<n.length;++s){var i=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==i||r==i)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function ND(t,e){var n=$i(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Qa(t,e,n){if(!n)return LOe(ND(t,e));if(!e)return null;try{return Qa(t,e)}catch{return null}}function Es(t,e,n){if(!n)return Hj(ND(t,e));if(!e)return null;try{return Es(t,e)}catch{return null}}function MOe(t,e,n){return Kj(ND(t,e))}function ZL(t){for(var e=t.FullPaths||pa(t.files),n=[],a=0;a<e.length;++a)e[a].slice(-1)!="/"&&n.push(e[a].replace(/^Root Entry[\/]/,""));return n.sort()}function en(t,e,n){if(t.FullPaths){if(Array.isArray(n)&&typeof n[0]=="string"&&(n=n.join("")),typeof n=="string"){var a;return fn?a=Nc(n):a=HFe(n),Mt.utils.cfb_add(t,e,a)}Mt.utils.cfb_add(t,e,n)}else t.file(e,n)}function SD(){return Mt.utils.cfb_new()}function qj(t,e){switch(e.type){case"base64":return Mt.read(t,{type:"base64"});case"binary":return Mt.read(t,{type:"binary"});case"buffer":case"array":return Mt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function qp(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var a=t.split("/");a.length!==0;){var r=a.shift();r===".."?n.pop():r!=="."&&n.push(r)}return n.join("/")}var Ua=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Xj=/\s([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,QL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?<>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'"<>\s=]+))*\s*[\/\?]?>/mg,BOe=/<[^<>]*>/g,qr=Ua.match(QL)?QL:BOe,zOe=/<\w*:/,GOe=/<(\/?)\w+:/;function yt(t,e,n){for(var a={},r=0,s=0;r!==t.length&&!((s=t.charCodeAt(r))===32||s===10||s===13);++r);if(e||(a[0]=t.slice(0,r)),r===t.length)return a;var i=t.match(Xj),o=0,c="",l=0,u="",d="",h=1;if(i)for(l=0;l!=i.length;++l){for(d=i[l].slice(1),s=0;s!=d.length&&d.charCodeAt(s)!==61;++s);for(u=d.slice(0,s).trim();d.charCodeAt(s+1)==32;)++s;for(h=(r=d.charCodeAt(s+1))==34||r==39?1:0,c=d.slice(s+1+h,d.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),a[u]=c,a[u.toLowerCase()]=c;else{var m=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(a[m]&&u.slice(o-3,o)=="ext")continue;a[m]=c,a[m.toLowerCase()]=c}}return a}function UOe(t,e,n){for(var a={},r=0,s=0;r!==t.length&&!((s=t.charCodeAt(r))===32||s===10||s===13);++r);if(r===t.length)return a;var i=t.match(Xj),o="",c=0,l="",u="",d=1;if(i)for(c=0;c!=i.length;++c){for(u=i[c].slice(1),s=0;s!=u.length&&u.charCodeAt(s)!==61;++s);for(l=u.slice(0,s).trim();u.charCodeAt(s+1)==32;)++s;d=(r=u.charCodeAt(s+1))==34||r==39?1:0,o=u.slice(s+1+d,u.length-d),l.indexOf("_")>0&&(l=l.slice(0,l.indexOf("_"))),a[l]=o,a[l.toLowerCase()]=o}return a}function ao(t){return t.replace(GOe,"<$1")}var Yj={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},TD=F_(Yj),Cn=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;function n(a){var r=a+"",s=r.indexOf("<![CDATA[");if(s==-1)return r.replace(t,function(o,c){return Yj[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var i=r.indexOf("]]>");return n(r.slice(0,s))+r.slice(s+9,i)+n(r.slice(i+3))}return function(r,s){var i=n(r);return s?i.replace(/\r\n/g,`
`):i}}(),ED=/[&<>'"]/g,WOe=/[\u0000-\u0008\u000b-\u001f\uFFFE-\uFFFF]/g;function nn(t){var e=t+"";return e.replace(ED,function(n){return TD[n]}).replace(WOe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function JL(t){return nn(t).replace(/ /g,"_x0020_")}var Zj=/[\u0000-\u001f]/g;function O0(t){var e=t+"";return e.replace(ED,function(n){return TD[n]}).replace(/\n/g,"<br/>").replace(Zj,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function VOe(t){var e=t+"";return e.replace(ED,function(n){return TD[n]}).replace(Zj,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var eM=function(){var t=/&#(\d+);/g;function e(n,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(t,e)}}();function jOe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function jn(t){switch(t){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}function qN(t){for(var e="",n=0,a=0,r=0,s=0,i=0,o=0;n<t.length;){if(a=t.charCodeAt(n++),a<128){e+=String.fromCharCode(a);continue}if(r=t.charCodeAt(n++),a>191&&a<224){i=(a&31)<<6,i|=r&63,e+=String.fromCharCode(i);continue}if(s=t.charCodeAt(n++),a<240){e+=String.fromCharCode((a&15)<<12|(r&63)<<6|s&63);continue}i=t.charCodeAt(n++),o=((a&7)<<18|(r&63)<<12|(s&63)<<6|i&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function tM(t){var e=Su(2*t.length),n,a,r=1,s=0,i=0,o;for(a=0;a<t.length;a+=r)r=1,(o=t.charCodeAt(a))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(a+1)&63),r=2):o<240?(n=(o&15)*4096+(t.charCodeAt(a+1)&63)*64+(t.charCodeAt(a+2)&63),r=3):(r=4,n=(o&7)*262144+(t.charCodeAt(a+1)&63)*4096+(t.charCodeAt(a+2)&63)*64+(t.charCodeAt(a+3)&63),n-=65536,i=55296+(n>>>10&1023),n=56320+(n&1023)),i!==0&&(e[s++]=i&255,e[s++]=i>>>8,i=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function nM(t){return Nc(t,"binary").toString("utf8")}var _v="foo bar baz",qn=fn&&(nM(_v)==qN(_v)&&nM||tM(_v)==qN(_v)&&tM)||qN,nc=fn?function(t){return Nc(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,a=0,r=0;n<t.length;)switch(a=t.charCodeAt(n++),!0){case a<128:e.push(String.fromCharCode(a));break;case a<2048:e.push(String.fromCharCode(192+(a>>6))),e.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,r=t.charCodeAt(n++)-56320+(a<<10),e.push(String.fromCharCode(240+(r>>18&7))),e.push(String.fromCharCode(144+(r>>12&63))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)));break;default:e.push(String.fromCharCode(224+(a>>12))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)))}return e.join("")},Qj=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var a=n.replace(/^[\t\n\r ]+/,"").replace(/(^|[^\t\n\r ])[\t\n\r ]+$/,"$1").replace(/>\s+/g,">").replace(/\b\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^<>]*>/g,""),r=0;r<t.length;++r)a=a.replace(t[r][0],t[r][1]);return a}}(),HOe=/<\/?(?:vt:)?variant>/g,KOe=/<(?:vt:)([^<"'>]*)>([\s\S]*)</;function aM(t,e){var n=yt(t),a=jj(t,n.baseType)||[],r=[];if(a.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+a.length+" != "+n.size);return r}return a.forEach(function(s){var i=s.replace(HOe,"").match(KOe);i&&r.push({v:qn(i[2]),t:i[1]})}),r}var Jj=/(^\s|\s$|\n)/;function Wr(t,e){return"<"+t+(e.match(Jj)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function xd(t){return pa(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function at(t,e,n){return"<"+t+(n!=null?xd(n):"")+(e!=null?(e.match(Jj)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function YT(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function qOe(t,e){switch(typeof t){case"string":var n=at("vt:lpwstr",nn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return at((t|0)==t?"vt:i4":"vt:r8",nn(String(t)));case"boolean":return at("vt:bool",t?"true":"false")}if(t instanceof Date)return at("vt:filetime",YT(t));throw new Error("Unable to serialize "+t)}function $_(t){if(fn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return qn(xc(vD(t)));throw new Error("Bad input format: expected Buffer or string")}var Ja=/<([\/]?)([^\s?><!\/:"]*:|)([^\s?<>:\/"]+)(?:\s+[^<>=?"'\s]+="[^"]*?")*\s*[\/]?>/mg,yr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},zd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],mr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function XOe(t,e){for(var n=1-2*(t[e+7]>>>7),a=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),r=t[e+6]&15,s=5;s>=0;--s)r=r*256+t[e+s];return a==2047?r==0?n*(1/0):NaN:(a==0?a=-1022:(a-=1023,r+=Math.pow(2,52)),n*Math.pow(2,a-52)*r)}function YOe(t,e,n){var a=(e<0||1/e==-1/0?1:0)<<7,r=0,s=0,i=a?-e:e;isFinite(i)?i==0?r=s=0:(r=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(r&15)<<4|s&15,t[n+7]=r>>4|a}var rM=function(t){for(var e=[],n=10240,a=0;a<t[0].length;++a)if(t[0][a])for(var r=0,s=t[0][a].length;r<s;r+=n)e.push.apply(e,t[0][a].slice(r,r+n));return e},sM=fn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Nc(e)})):rM(t)}:rM,iM=function(t,e,n){for(var a=[],r=e;r<n;r+=2)a.push(String.fromCharCode(Jc(t,r)));return a.join("").replace(Cs,"")},L_=fn?function(t,e,n){return!Buffer.isBuffer(t)||!Cg?iM(t,e,n):t.toString("utf16le",e,n).replace(Cs,"")}:iM,oM=function(t,e,n){for(var a=[],r=e;r<e+n;++r)a.push(("0"+t[r].toString(16)).slice(-2));return a.join("")},eH=fn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):oM(t,e,n)}:oM,cM=function(t,e,n){for(var a=[],r=e;r<n;r++)a.push(String.fromCharCode(jp(t,r)));return a.join("")},lm=fn?function(e,n,a){return Buffer.isBuffer(e)?e.toString("utf8",n,a):cM(e,n,a)}:cM,tH=function(t,e){var n=Cr(t,e);return n>0?lm(t,e+4,e+4+n-1):""},CD=tH,nH=function(t,e){var n=Cr(t,e);return n>0?lm(t,e+4,e+4+n-1):""},ID=nH,aH=function(t,e){var n=2*Cr(t,e);return n>0?lm(t,e+4,e+4+n-1):""},DD=aH,rH=function(e,n){var a=Cr(e,n);return a>0?L_(e,n+4,n+4+a):""},RD=rH,sH=function(t,e){var n=Cr(t,e);return n>0?lm(t,e+4,e+4+n):""},PD=sH,iH=function(t,e){return XOe(t,e)},ow=iH,FD=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};fn&&(CD=function(e,n){if(!Buffer.isBuffer(e))return tH(e,n);var a=e.readUInt32LE(n);return a>0?e.toString("utf8",n+4,n+4+a-1):""},ID=function(e,n){if(!Buffer.isBuffer(e))return nH(e,n);var a=e.readUInt32LE(n);return a>0?e.toString("utf8",n+4,n+4+a-1):""},DD=function(e,n){if(!Buffer.isBuffer(e)||!Cg)return aH(e,n);var a=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+a-1)},RD=function(e,n){if(!Buffer.isBuffer(e)||!Cg)return rH(e,n);var a=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+a)},PD=function(e,n){if(!Buffer.isBuffer(e))return sH(e,n);var a=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+a)},ow=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):iH(e,n)},FD=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function oH(){L_=function(t,e,n){return rn.utils.decode(1200,t.slice(e,n)).replace(Cs,"")},lm=function(t,e,n){return rn.utils.decode(65001,t.slice(e,n))},CD=function(t,e){var n=Cr(t,e);return n>0?rn.utils.decode(hd,t.slice(e+4,e+4+n-1)):""},ID=function(t,e){var n=Cr(t,e);return n>0?rn.utils.decode(gr,t.slice(e+4,e+4+n-1)):""},DD=function(t,e){var n=2*Cr(t,e);return n>0?rn.utils.decode(1200,t.slice(e+4,e+4+n-1)):""},RD=function(t,e){var n=Cr(t,e);return n>0?rn.utils.decode(1200,t.slice(e+4,e+4+n)):""},PD=function(t,e){var n=Cr(t,e);return n>0?rn.utils.decode(65001,t.slice(e+4,e+4+n)):""}}typeof rn<"u"&&oH();var jp=function(t,e){return t[e]},Jc=function(t,e){return t[e+1]*256+t[e]},ZOe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Cr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Tf=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},QOe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function $0(t,e){var n="",a,r,s=[],i,o,c,l;switch(e){case"dbcs":if(l=this.l,fn&&Buffer.isBuffer(this)&&Cg)n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)n+=String.fromCharCode(Jc(this,l)),l+=2;t*=2;break;case"utf8":n=lm(this,this.l,this.l+t);break;case"utf16le":t*=2,n=L_(this,this.l,this.l+t);break;case"wstr":if(typeof rn<"u")n=rn.utils.decode(gr,this.slice(this.l,this.l+2*t));else return $0.call(this,t,"dbcs");t=2*t;break;case"lpstr-ansi":n=CD(this,this.l),t=4+Cr(this,this.l);break;case"lpstr-cp":n=ID(this,this.l),t=4+Cr(this,this.l);break;case"lpwstr":n=DD(this,this.l),t=4+2*Cr(this,this.l);break;case"lpp4":t=4+Cr(this,this.l),n=RD(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Cr(this,this.l),n=PD(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(i=jp(this,this.l+t++))!==0;)s.push(S0(i));n=s.join("");break;case"_wstr":for(t=0,n="";(i=Jc(this,this.l+t))!==0;)s.push(S0(i)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",l=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return i=jp(this,l),this.l=l+1,o=$0.call(this,t-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(S0(Jc(this,l))),l+=2}n=s.join(""),t*=2;break;case"cpstr":if(typeof rn<"u"){n=rn.utils.decode(gr,this.slice(this.l,this.l+t));break}case"sbcs-cont":for(n="",l=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(l)!==-1)return i=jp(this,l),this.l=l+1,o=$0.call(this,t-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(S0(jp(this,l))),l+=1}n=s.join("");break;default:switch(t){case 1:return a=jp(this,this.l),this.l++,a;case 2:return a=(e==="i"?ZOe:Jc)(this,this.l),this.l+=2,a;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(a=(t>0?Tf:QOe)(this,this.l),this.l+=4,a):(r=Cr(this,this.l),this.l+=4,r);case 8:case-8:if(e==="f")return t==8?r=ow(this,this.l):r=ow([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;t=8;case 16:n=eH(this,this.l,t);break}}return this.l+=t,n}var JOe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},e$e=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},t$e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function n$e(t,e,n){var a=0,r=0;if(n==="dbcs"){for(r=0;r!=e.length;++r)t$e(this,e.charCodeAt(r),this.l+2*r);a=2*e.length}else if(n==="sbcs"||n=="cpstr")if(typeof rn<"u"&&hd==874){for(r=0;r!=e.length;++r){var s=rn.utils.encode(hd,e.charAt(r));this[this.l+r]=s[0]}a=e.length}else if(typeof rn<"u"&&n=="cpstr"){if(s=rn.utils.encode(gr,e),s.length==e.length)for(r=0;r<e.length;++r)s[r]==0&&e.charCodeAt(r)!=0&&(s[r]=95);if(s.length==2*e.length)for(r=0;r<e.length;++r)s[2*r]==0&&s[2*r+1]==0&&e.charCodeAt(r)!=0&&(s[2*r]=95);for(r=0;r<s.length;++r)this[this.l+r]=s[r];a=s.length}else{for(e=e.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=e.length;++r)this[this.l+r]=e.charCodeAt(r)&255;a=e.length}else if(n==="hex"){for(;r<t;++r)this[this.l++]=parseInt(e.slice(2*r,2*r+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+t,this.length);for(r=0;r<Math.min(e.length,t);++r){var o=e.charCodeAt(r);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:a=1,this[this.l]=e&255;break;case 2:a=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:a=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:a=4,JOe(this,e,this.l);break;case 8:if(a=8,n==="f"){YOe(this,e,this.l);break}case 16:break;case-4:a=4,e$e(this,e,this.l);break}return this.l+=a,this}function cH(t,e){var n=eH(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function pr(t,e){t.l=e,t.read_shift=$0,t.chk=cH,t.write_shift=n$e}function gs(t,e){t.l+=e}function De(t){var e=Su(t);return pr(e,0),e}function Nl(t,e,n){if(t){var a,r,s;pr(t,t.l||0);for(var i=t.length,o=0,c=0;t.l<i;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var l=Mg[o]||Mg[65535];for(a=t.read_shift(1),s=a&127,r=1;r<4&&a&128;++r)s+=((a=t.read_shift(1))&127)<<7*r;c=t.l+s;var u=l.f&&l.f(t,s,n);if(t.l=c,e(u,l,o))return}}}function ds(){var t=[],e=fn?16384:2048;fn&&De(e).copy;var n=function(u){var d=De(u);return pr(d,0),d},a=n(e),r=function(){a&&(a.l&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&t.push(a)),a=null)},s=function(u){return a&&u<a.length-a.l?a:(r(),a=n(Math.max(u+1,e)))},i=function(){return r(),ja(t)},o=function(){return r(),t},c=function(u){r(),a=u,a.l==null&&(a.l=a.length),s(e)};return{next:s,push:c,end:i,_bufs:t,end2:o}}function je(t,e,n,a){var r=+e,s;if(!isNaN(r)){a||(a=Mg[r].p||(n||[]).length||0),s=1+(r>=128?1:0)+1,a>=128&&++s,a>=16384&&++s,a>=2097152&&++s;var i=t.next(s);r<=127?i.write_shift(1,r):(i.write_shift(1,(r&127)+128),i.write_shift(1,r>>7));for(var o=0;o!=4;++o)if(a>=128)i.write_shift(1,(a&127)+128),a>>=7;else{i.write_shift(1,a);break}a>0&&FD(n)&&t.push(n)}}function L0(t,e,n){var a=Un(t);if(e.s?(a.cRel&&(a.c+=e.s.c),a.rRel&&(a.r+=e.s.r)):(a.cRel&&(a.c+=e.c),a.rRel&&(a.r+=e.r)),!n||n.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function lM(t,e,n){var a=Un(t);return a.s=L0(a.s,e.s,n),a.e=L0(a.e,e.s,n),a}function M0(t,e){if(t.cRel&&t.c<0)for(t=Un(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Un(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=pn(t);return!t.cRel&&t.cRel!=null&&(n=s$e(n)),!t.rRel&&t.rRel!=null&&(n=a$e(n)),n}function XN(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Zt(t.s.c)+":"+(t.e.cRel?"":"$")+Zt(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+hn(t.s.r)+":"+(t.e.rRel?"":"$")+hn(t.e.r):M0(t.s,e.biff)+":"+M0(t.e,e.biff)}function OD(t){return parseInt(r$e(t),10)-1}function hn(t){return""+(t+1)}function a$e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function r$e(t){return t.replace(/\$(\d+)$/,"$1")}function $D(t){for(var e=i$e(t),n=0,a=0;a!==e.length;++a)n=26*n+e.charCodeAt(a)-64;return n-1}function Zt(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function s$e(t){return t.replace(/^([A-Z])/,"$$$1")}function i$e(t){return t.replace(/^\$([A-Z])/,"$1")}function o$e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xn(t){for(var e=0,n=0,a=0;a<t.length;++a){var r=t.charCodeAt(a);r>=48&&r<=57?e=10*e+(r-48):r>=65&&r<=90&&(n=26*n+(r-64))}return{c:n-1,r:e-1}}function pn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function or(t){var e=t.indexOf(":");return e==-1?{s:Xn(t),e:Xn(t)}:{s:Xn(t.slice(0,e)),e:Xn(t.slice(e+1))}}function an(t,e){return typeof e>"u"||typeof e=="number"?an(t.s,t.e):(typeof t!="string"&&(t=pn(t)),typeof e!="string"&&(e=pn(e)),t==e?t:t+":"+e)}function Th(t){var e=or(t);return"$"+Zt(e.s.c)+"$"+hn(e.s.r)+":$"+Zt(e.e.c)+"$"+hn(e.e.r)}function Rg(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t.replace(/'/g,"''")+"'":t}function An(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,a=0,r=0,s=t.length;for(n=0;a<s&&!((r=t.charCodeAt(a)-64)<1||r>26);++a)n=26*n+r;for(e.s.c=--n,n=0;a<s&&!((r=t.charCodeAt(a)-48)<0||r>9);++a)n=10*n+r;if(e.s.r=--n,a===s||r!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++a,n=0;a!=s&&!((r=t.charCodeAt(a)-64)<1||r>26);++a)n=26*n+r;for(e.e.c=--n,n=0;a!=s&&!((r=t.charCodeAt(a)-48)<0||r>9);++a)n=10*n+r;return e.e.r=--n,e}function uM(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Zs(t.z,n?Ia(e):e)}catch{}try{return t.w=Zs((t.XF||{}).numFmtId||(n?14:0),n?Ia(e):e)}catch{return""+e}}function vc(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?wr[t.v]||t.v:e==null?uM(t,t.v):uM(t,e))}function Vu(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",a={};return a[n]=t,{SheetNames:[n],Sheets:a}}function c$e(t){var e={},n=t||{};return n.dense&&(e["!data"]=[]),e}function lH(t,e,n){var a=n||{},r=t?t["!data"]!=null:a.dense,s=t||(r?{"!data":[]}:{});r&&!s["!data"]&&(s["!data"]=[]);var i=0,o=0;if(s&&a.origin!=null)if(typeof a.origin=="number")i=a.origin;else{var c=typeof a.origin=="string"?Xn(a.origin):a.origin;i=c.r,o=c.c}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=An(s["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),i==-1&&(l.e.r=i=s["!ref"]?u.e.r+1:0)}else l.s.c=l.e.c=l.s.r=l.e.r=0;for(var d=[],h=!1,m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");var y=i+m;r&&(s["!data"][y]||(s["!data"][y]=[]),d=s["!data"][y]);for(var v=e[m],x=0;x!=v.length;++x)if(!(typeof v[x]>"u")){var k={v:v[x],t:""},b=o+x;if(l.s.r>y&&(l.s.r=y),l.s.c>b&&(l.s.c=b),l.e.r<y&&(l.e.r=y),l.e.c<b&&(l.e.c=b),h=!0,v[x]&&typeof v[x]=="object"&&!Array.isArray(v[x])&&!(v[x]instanceof Date))k=v[x];else if(Array.isArray(k.v)&&(k.f=v[x][1],k.v=k.v[0]),k.v===null)if(k.f)k.t="n";else if(a.nullError)k.t="e",k.v=0;else if(a.sheetStubs)k.t="z";else continue;else typeof k.v=="number"?isFinite(k.v)?k.t="n":isNaN(k.v)?(k.t="e",k.v=15):(k.t="e",k.v=7):typeof k.v=="boolean"?k.t="b":k.v instanceof Date?(k.z=a.dateNF||It[14],a.UTC||(k.v=O_(k.v)),a.cellDates?(k.t="d",k.w=Zs(k.z,Ia(k.v,a.date1904))):(k.t="n",k.v=Ia(k.v,a.date1904),k.w=Zs(k.z,k.v))):k.t="s";if(r)d[b]&&d[b].z&&(k.z=d[b].z),d[b]=k;else{var _=Zt(b)+(y+1);s[_]&&s[_].z&&(k.z=s[_].z),s[_]=k}}}return h&&l.s.c<104e5&&(s["!ref"]=an(l)),s}function um(t,e){return lH(null,t,e)}function l$e(t){return t.read_shift(4,"i")}function bo(t,e){return e||(e=De(4)),e.write_shift(4,t),e}function ps(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function kr(t,e){var n=!1;return e==null&&(n=!0,e=De(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function u$e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function f$e(t,e){return e||(e=De(4)),e.write_shift(2,0),e.write_shift(2,0),e}function LD(t,e){var n=t.l,a=t.read_shift(1),r=ps(t),s=[],i={t:r,h:r};if((a&1)!==0){for(var o=t.read_shift(4),c=0;c!=o;++c)s.push(u$e(t));i.r=s}else i.r=[{ich:0,ifnt:0}];return t.l=n+e,i}function d$e(t,e){var n=!1;return e==null&&(n=!0,e=De(15+4*t.t.length)),e.write_shift(1,0),kr(t.t,e),n?e.slice(0,e.l):e}var p$e=LD;function h$e(t,e){var n=!1;return e==null&&(n=!0,e=De(23+4*t.t.length)),e.write_shift(1,1),kr(t.t,e),e.write_shift(4,1),f$e({},e),n?e.slice(0,e.l):e}function ro(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Gd(t,e){return e==null&&(e=De(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Ud(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Wd(t,e){return e==null&&(e=De(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var m$e=ps,uH=kr;function M_(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Pg(t,e){var n=!1;return e==null&&(n=!0,e=De(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var g$e=ps,ZT=M_,MD=Pg;function B_(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,a=e[0]&2;t.l+=4;var r=a===0?ow([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Tf(e,0)>>2;return n?r/100:r}function fH(t,e){e==null&&(e=De(4));var n=0,a=0,r=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?a=1:r==(r|0)&&r>=-536870912&&r<1<<29&&(a=1,n=1),a)e.write_shift(-4,((n?r:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function dH(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function y$e(t,e){return e||(e=De(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Vd=dH,fm=y$e;function ls(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function vd(t,e){return(e||De(8)).write_shift(8,t,"f")}function x$e(t){var e={},n=t.read_shift(1),a=n>>>1,r=t.read_shift(1),s=t.read_shift(2,"i"),i=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(1);switch(t.l++,a){case 0:e.auto=1;break;case 1:e.index=r;var l=zf[r];l&&(e.rgb=Og(l));break;case 2:e.rgb=Og([i,o,c]);break;case 3:e.theme=r;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function cw(t,e){if(e||(e=De(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var a=t.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),e.write_shift(1,parseInt(a.slice(0,2),16)),e.write_shift(1,parseInt(a.slice(2,4),16)),e.write_shift(1,parseInt(a.slice(4,6),16)),e.write_shift(1,255)}return e}function v$e(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function k$e(t,e){e||(e=De(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}function pH(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=t.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function w$e(t){return pH(t,1)}function b$e(t){return pH(t,2)}var BD=2,Gs=3,Av=11,fM=12,lw=19,Nv=64,_$e=65,A$e=71,N$e=4108,S$e=4126,Er=80,hH=81,T$e=[Er,hH],QT={1:{n:"CodePage",t:BD},2:{n:"Category",t:Er},3:{n:"PresentationFormat",t:Er},4:{n:"ByteCount",t:Gs},5:{n:"LineCount",t:Gs},6:{n:"ParagraphCount",t:Gs},7:{n:"SlideCount",t:Gs},8:{n:"NoteCount",t:Gs},9:{n:"HiddenCount",t:Gs},10:{n:"MultimediaClipCount",t:Gs},11:{n:"ScaleCrop",t:Av},12:{n:"HeadingPairs",t:N$e},13:{n:"TitlesOfParts",t:S$e},14:{n:"Manager",t:Er},15:{n:"Company",t:Er},16:{n:"LinksUpToDate",t:Av},17:{n:"CharacterCount",t:Gs},19:{n:"SharedDoc",t:Av},22:{n:"HyperlinksChanged",t:Av},23:{n:"AppVersion",t:Gs,p:"version"},24:{n:"DigSig",t:_$e},26:{n:"ContentType",t:Er},27:{n:"ContentStatus",t:Er},28:{n:"Language",t:Er},29:{n:"Version",t:Er},255:{},2147483648:{n:"Locale",t:lw},2147483651:{n:"Behavior",t:lw},1919054434:{}},JT={1:{n:"CodePage",t:BD},2:{n:"Title",t:Er},3:{n:"Subject",t:Er},4:{n:"Author",t:Er},5:{n:"Keywords",t:Er},6:{n:"Comments",t:Er},7:{n:"Template",t:Er},8:{n:"LastAuthor",t:Er},9:{n:"RevNumber",t:Er},10:{n:"EditTime",t:Nv},11:{n:"LastPrinted",t:Nv},12:{n:"CreatedDate",t:Nv},13:{n:"ModifiedDate",t:Nv},14:{n:"PageCount",t:Gs},15:{n:"WordCount",t:Gs},16:{n:"CharCount",t:Gs},17:{n:"Thumbnail",t:A$e},18:{n:"Application",t:Er},19:{n:"DocSecurity",t:Gs},255:{},2147483648:{n:"Locale",t:lw},2147483651:{n:"Behavior",t:lw},1919054434:{}},dM={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},E$e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function C$e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var I$e=C$e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),zf=Un(I$e),wr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Pr={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},zD=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],eE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Sv={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function GD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function D$e(t){var e=GD();if(!t||!t.match)return e;var n={};if((t.match(qr)||[]).forEach(function(a){var r=yt(a);switch(r[0].replace(zOe,"<")){case"<?xml":break;case"<Types":e.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension.toLowerCase()]=r.ContentType;break;case"<Override":e[eE[r.ContentType]]!==void 0&&e[eE[r.ContentType]].push(r.PartName);break}}),e.xmlns!==yr.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}function mH(t,e,n){var a=kOe(eE),r=[],s;r[r.length]=Ua,r[r.length]=at("Types",null,{xmlns:yr.CT,"xmlns:xsd":yr.xsd,"xmlns:xsi":yr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return at("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){t[l]&&t[l].length>0&&(s=t[l][0],r[r.length]=at("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Sv[l][e.bookType]||Sv[l].xlsx}))},o=function(l){(t[l]||[]).forEach(function(u){r[r.length]=at("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Sv[l][e.bookType]||Sv[l].xlsx})})},c=function(l){(t[l]||[]).forEach(function(u){r[r.length]=at("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:a[l][0]})})};return i("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var dn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",CONN:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/connections",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Fg(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function B0(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var a={};return(t.match(qr)||[]).forEach(function(r){var s=yt(r);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=Cn(s.Target),i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:qp(s.Target,e);n[o]=i,a[s.Id]=i}}),n["!id"]=a,n}function ih(t){var e=[Ua,at("Relationships",null,{xmlns:yr.RELS})];return pa(t["!id"]).forEach(function(n){e[e.length]=at("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Vn(t,e,n,a,r,s){if(r||(r={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,r.Id="rId"+e,r.Type=a,r.Target=n,[dn.HLINK,dn.XPATH,dn.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),t["!id"][r.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][r.Id]=r,t[("/"+r.Target).replace("//","/")]=r,e}var R$e="application/vnd.oasis.opendocument.spreadsheet";function P$e(t,e){for(var n=$_(t),a,r;a=Ja.exec(n);)switch(a[3]){case"manifest":break;case"file-entry":if(r=yt(a[0],!1),r.path=="/"&&r.type!==R$e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw a}}function F$e(t){var e=[Ua];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function pM(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function O$e(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function $$e(t){var e=[Ua];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(pM(t[n][0],t[n][1])),e.push(O$e("",t[n][0]));return e.push(pM("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function gH(t,e){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ew.version+"</meta:generator></office:meta></office:document-meta>"}var sl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function yH(t){var e={};t=qn(t);for(var n=0;n<sl.length;++n){var a=sl[n],r=Bf(t,a[0]);r!=null&&r.length>0&&(e[a[1]]=Cn(r[1])),a[2]==="date"&&e[a[1]]&&(e[a[1]]=va(e[a[1]]))}return e}function YN(t,e,n,a,r){r[t]!=null||e==null||e===""||(r[t]=e,e=nn(e),a[a.length]=n?at(t,e,n):Wr(t,e))}function xH(t,e){var n=e||{},a=[Ua,at("cp:coreProperties",null,{"xmlns:cp":yr.CORE_PROPS,"xmlns:dc":yr.dc,"xmlns:dcterms":yr.dcterms,"xmlns:dcmitype":yr.dcmitype,"xmlns:xsi":yr.xsi})],r={};if(!t&&!n.Props)return a.join("");t&&(t.CreatedDate!=null&&YN("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:YT(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},a,r),t.ModifiedDate!=null&&YN("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:YT(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},a,r));for(var s=0;s!=sl.length;++s){var i=sl[s],o=n.Props&&n.Props[i[1]]!=null?n.Props[i[1]]:t?t[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&YN(i[0],o,null,a,r)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Gf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],vH=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function kH(t,e,n,a){var r=[];if(typeof t=="string")r=aM(t,a);else for(var s=0;s<t.length;++s)r=r.concat(t[s].map(function(u){return{v:u}}));var i=typeof e=="string"?aM(e,a).map(function(u){return u.v}):e,o=0,c=0;if(i.length>0)for(var l=0;l!==r.length;l+=2){switch(c=+r[l+1].v,r[l].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=c,n.SheetNames=i.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=c,n.DefinedNames=i.slice(o,o+c);break;case"Charts":case"Diagramme":n.Chartsheets=c,n.ChartNames=i.slice(o,o+c);break}o+=c}}function L$e(t,e,n){var a={};return e||(e={}),t=qn(t),Gf.forEach(function(r){var s=(Rr(t,r[0])||[])[1];switch(r[2]){case"string":s&&(e[r[1]]=Cn(s));break;case"bool":e[r[1]]=s==="true";break;case"raw":var i=Bf(t,r[0]);i&&i.length>0&&(a[r[1]]=i[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&kH(a.HeadingPairs,a.TitlesOfParts,e,n),e}function wH(t){var e=[],n=at;return t||(t={}),t.Application="SheetJS",e[e.length]=Ua,e[e.length]=at("Properties",null,{xmlns:yr.EXT_PROPS,"xmlns:vt":yr.vt}),Gf.forEach(function(a){if(t[a[1]]!==void 0){var r;switch(a[2]){case"string":r=nn(String(t[a[1]]));break;case"bool":r=t[a[1]]?"true":"false";break}r!==void 0&&(e[e.length]=n(a[0],r))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(a){return"<vt:lpstr>"+nn(a)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var M$e=/<[^<>]+>[^<]*/g;function B$e(t,e){var n={},a="",r=t.match(M$e);if(r)for(var s=0;s!=r.length;++s){var i=r[s],o=yt(i);switch(ao(o[0])){case"<?xml":break;case"<Properties":break;case"<property":a=Cn(o.name);break;case"</property>":a=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),l=c[0].slice(4),u=c[1];switch(l){case"lpstr":case"bstr":case"lpwstr":n[a]=Cn(u);break;case"bool":n[a]=jn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[a]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[a]=parseFloat(u);break;case"filetime":case"date":n[a]=va(u);break;case"cy":case"error":n[a]=Cn(u);break;default:if(l.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",i,l,c)}}else if(i.slice(0,2)!=="</"){if(e.WTF)throw new Error(i)}}}return n}function bH(t){var e=[Ua,at("Properties",null,{xmlns:yr.CUST_PROPS,"xmlns:vt":yr.vt})];if(!t)return e.join("");var n=1;return pa(t).forEach(function(r){++n,e[e.length]=at("property",qOe(t[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:nn(r)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var tE={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},ZN;function z$e(t,e,n){ZN||(ZN=F_(tE)),e=ZN[e]||e,t[e]=n}function G$e(t,e){var n=[];return pa(tE).map(function(a){for(var r=0;r<sl.length;++r)if(sl[r][1]==a)return sl[r];for(r=0;r<Gf.length;++r)if(Gf[r][1]==a)return Gf[r];throw a}).forEach(function(a){if(t[a[1]]!=null){var r=e&&e.Props&&e.Props[a[1]]!=null?e.Props[a[1]]:t[a[1]];switch(a[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),n.push(Wr(tE[a[1]]||a[1],r))}}),at("DocumentProperties",n.join(""),{xmlns:mr.o})}function U$e(t,e){var n=["Worksheets","SheetNames"],a="CustomDocumentProperties",r=[];return t&&pa(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var i=0;i<sl.length;++i)if(s==sl[i][1])return;for(i=0;i<Gf.length;++i)if(s==Gf[i][1])return;for(i=0;i<n.length;++i)if(s==n[i])return;var o=t[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),r.push(at(JL(s),o,{"dt:dt":c}))}}),e&&pa(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var i=e[s],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),r.push(at(JL(s),i,{"dt:dt":o}))}}),"<"+a+' xmlns="'+mr.o+'">'+r.join("")+"</"+a+">"}function UD(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function W$e(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,a=n%Math.pow(2,32),r=(n-a)/Math.pow(2,32);a*=1e7,r*=1e7;var s=a/Math.pow(2,32)|0;s>0&&(a=a%Math.pow(2,32),r+=s);var i=De(8);return i.write_shift(4,a),i.write_shift(4,r),i}function V$e(t,e,n){var a=t.l,r=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-a&3;)++t.l;return r}function j$e(t,e,n){var a=t.read_shift(0,"lpwstr");return a}function _H(t,e,n){return e===31?j$e(t):V$e(t,e,n)}function z0(t,e,n){return _H(t,e,n===!1?0:4)}function H$e(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return _H(t,e,0)}function K$e(t){for(var e=t.read_shift(4),n=[],a=0;a!=e;++a){var r=t.l;n[a]=t.read_shift(0,"lpwstr").replace(Cs,""),t.l-r&2&&(t.l+=2)}return n}function q$e(t){for(var e=t.read_shift(4),n=[],a=0;a!=e;++a)n[a]=t.read_shift(0,"lpstr-cp").replace(Cs,"");return n}function X$e(t){var e=t.l,n=uw(t,hH);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var a=uw(t,Gs);return[n,a]}function Y$e(t){for(var e=t.read_shift(4),n=[],a=0;a<e/2;++a)n.push(X$e(t));return n}function hM(t,e){for(var n=t.read_shift(4),a={},r=0;r!=n;++r){var s=t.read_shift(4),i=t.read_shift(4);a[s]=t.read_shift(i,e===1200?"utf16le":"utf8").replace(Cs,"").replace(T0,"!"),e===1200&&i%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),a}function AH(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function Z$e(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function uw(t,e,n){var a=t.read_shift(2),r,s=n||{};if(t.l+=2,e!==fM&&a!==e&&T$e.indexOf(e)===-1&&!((e&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+e+" saw "+a);switch(e===fM?a:e){case 2:return r=t.read_shift(2,"i"),s.raw||(t.l+=2),r;case 3:return r=t.read_shift(4,"i"),r;case 11:return t.read_shift(4)!==0;case 19:return r=t.read_shift(4),r;case 30:t.l+=4,val=z0(t,t[t.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:t.l+=4,val=z0(t,t[t.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 64:return UD(t);case 65:return AH(t);case 71:return Z$e(t);case 80:return z0(t,a,!s.raw).replace(Cs,"");case 81:return H$e(t,a).replace(Cs,"");case 4108:return Y$e(t);case 4126:case 4127:return a==4127?K$e(t):q$e(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+a)}}function mM(t,e){var n=De(4),a=De(4);switch(n.write_shift(4,t==80?31:t),t){case 3:a.write_shift(-4,e);break;case 5:a=De(8),a.write_shift(8,e,"f");break;case 11:a.write_shift(4,e?1:0);break;case 64:a=W$e(e);break;case 31:case 80:for(a=De(4+2*(e.length+1)+(e.length%2?0:2)),a.write_shift(4,e.length+1),a.write_shift(0,e,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return ja([n,a])}function gM(t,e){var n=t.l,a=t.read_shift(4),r=t.read_shift(4),s=[],i=0,o=0,c=-1,l={};for(i=0;i!=r;++i){var u=t.read_shift(4),d=t.read_shift(4);s[i]=[u,d+n]}s.sort(function(b,_){return b[1]-_[1]});var h={};for(i=0;i!=r;++i){if(t.l!==s[i][1]){var m=!0;if(i>0&&e)switch(e[s[i-1][0]].t){case 2:t.l+2===s[i][1]&&(t.l+=2,m=!1);break;case 80:t.l<=s[i][1]&&(t.l=s[i][1],m=!1);break;case 4108:t.l<=s[i][1]&&(t.l=s[i][1],m=!1);break}if((!e||i==0)&&t.l<=s[i][1]&&(m=!1,t.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+t.l+" :"+i)}if(e){if(s[i][0]==0&&s.length>i+1&&s[i][1]==s[i+1][1])continue;var y=e[s[i][0]];if(h[y.n]=uw(t,y.t,{raw:!0}),y.p==="version"&&(h[y.n]=String(h[y.n]>>16)+"."+("0000"+String(h[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(h[y.n]){case 0:h[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Hi(o=h[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[y.n])}}else if(s[i][0]===1){if(o=h.CodePage=uw(t,BD),Hi(o),c!==-1){var v=t.l;t.l=s[c][1],l=hM(t,o),t.l=v}}else if(s[i][0]===0){if(o===0){c=i,t.l=s[i+1][1];continue}l=hM(t,o)}else{var x=l[s[i][0]],k;switch(t[t.l]){case 65:t.l+=4,k=AH(t);break;case 30:t.l+=4,k=z0(t,t[t.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 31:t.l+=4,k=z0(t,t[t.l-4]).replace(/(^|[^\u0000])\u0000+$/,"$1");break;case 3:t.l+=4,k=t.read_shift(4,"i");break;case 19:t.l+=4,k=t.read_shift(4);break;case 5:t.l+=4,k=t.read_shift(8,"f");break;case 11:t.l+=4,k=Va(t,4);break;case 64:t.l+=4,k=va(UD(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[x]=k}}return t.l=n+a,h}var NH=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Q$e(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function yM(t,e,n){var a=De(8),r=[],s=[],i=8,o=0,c=De(8),l=De(8);if(c.write_shift(4,2),c.write_shift(4,1200),l.write_shift(4,1),s.push(c),r.push(l),i+=8+c.length,!e){l=De(8),l.write_shift(4,0),r.unshift(l);var u=[De(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var d=t[o][0];for(c=De(8+2*(d.length+1)+(d.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,d.length+1),c.write_shift(0,d,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=ja(u),s.unshift(c),i+=8+c.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(NH.indexOf(t[o][0])>-1||vH.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],m=0;if(e){m=+e[t[o][0]];var y=n[m];if(y.p=="version"&&typeof h=="string"){var v=h.split(".");h=(+v[0]<<16)+(+v[1]||0)}c=mM(y.t,h)}else{var x=Q$e(h);x==-1&&(x=31,h=String(h)),c=mM(x,h)}s.push(c),l=De(8),l.write_shift(4,e?m:2+o),r.push(l),i+=8+c.length}var k=8*(s.length+1);for(o=0;o<s.length;++o)r[o].write_shift(4,k),k+=s[o].length;return a.write_shift(4,i),a.write_shift(4,s.length),ja([a].concat(r).concat(s))}function xM(t,e,n){var a=t.content;if(!a)return{};pr(a,0);var r,s,i,o,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var l=a.read_shift(4),u=a.read_shift(16);if(u!==Mt.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(r=a.read_shift(4),r!==1&&r!==2)throw new Error("Unrecognized #Sets: "+r);if(s=a.read_shift(16),o=a.read_shift(4),r===1&&o!==a.l)throw new Error("Length mismatch: "+o+" !== "+a.l);r===2&&(i=a.read_shift(16),c=a.read_shift(4));var d=gM(a,e),h={SystemIdentifier:l};for(var m in d)h[m]=d[m];if(h.FMTID=s,r===1)return h;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var y;try{y=gM(a,null)}catch{}for(m in y)h[m]=y[m];return h.FMTID=[s,i],h}function vM(t,e,n,a,r,s){var i=De(r?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Mt.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,r?2:1),i.write_shift(16,e,"hex"),i.write_shift(4,r?68:48);var c=yM(t,n,a);if(o.push(c),r){var l=yM(r,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+c.length),o.push(l)}return ja(o)}function Yl(t,e){return t.read_shift(e),null}function J$e(t,e){e||(e=De(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function eLe(t,e,n){for(var a=[],r=t.l+e;t.l<r;)a.push(n(t,r-t.l));if(r!==t.l)throw new Error("Slurp error");return a}function Va(t,e){return t.read_shift(e)===1}function ts(t,e){return e||(e=De(2)),e.write_shift(2,+!!t),e}function Oa(t){return t.read_shift(2,"u")}function zi(t,e){return e||(e=De(2)),e.write_shift(2,t),e}function SH(t,e){return eLe(t,e,Oa)}function TH(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function EH(t,e,n){return n||(n=De(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function Eh(t,e,n){var a=t.read_shift(n&&n.biff>=12?2:1),r="sbcs-cont",s=gr;if(n&&n.biff>=8&&(gr=1200),!n||n.biff==8){var i=t.read_shift(1);i&&(r="dbcs-cont")}else n.biff==12&&(r="wstr");n.biff>=2&&n.biff<=5&&(r="cpstr");var o=a?t.read_shift(a,r):"";return gr=s,o}function tLe(t){var e=gr;gr=1200;var n=t.read_shift(2),a=t.read_shift(1),r=a&4,s=a&8,i=1+(a&1),o=0,c,l={};s&&(o=t.read_shift(2)),r&&(c=t.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=n===0?"":t.read_shift(n,u);return s&&(t.l+=4*o),r&&(t.l+=c),l.t=d,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),gr=e,l}function nLe(t){var e=t.t||"",n=De(3);n.write_shift(2,e.length),n.write_shift(1,1);var a=De(2*e.length);a.write_shift(2*e.length,e,"utf16le");var r=[n,a];return ja(r)}function kd(t,e,n){var a;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var r=t.read_shift(1);return r===0?a=t.read_shift(e,"sbcs-cont"):a=t.read_shift(e,"dbcs-cont"),a}function P1(t,e,n){var a=t.read_shift(n&&n.biff==2?1:2);return a===0?(t.l++,""):kd(t,a,n)}function jd(t,e,n){if(n.biff>5)return P1(t,e,n);var a=t.read_shift(1);return a===0?(t.l++,""):t.read_shift(a,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function CH(t,e,n){return n||(n=De(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function aLe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function rLe(t){var e=t.read_shift(4),n=t.l,a=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),t.l=n);var r=t.read_shift((a?e-24:e)>>1,"utf16le").replace(Cs,"");return a&&(t.l+=24),r}function sLe(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var a=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var r=t.read_shift(4);if(r===0)return n+a.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=t.read_shift(s>>1,"utf16le").replace(Cs,"");return n+i}function iLe(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return rLe(t);case"0303000000000000c000000000000046":return sLe(t);default:throw new Error("Unsupported Moniker "+n)}}function Tv(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Cs,""):"";return n}function kM(t,e){e||(e=De(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function oLe(t,e){var n=t.l+e,a=t.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var r=t.read_shift(2);t.l+=2;var s,i,o,c,l="",u,d;r&16&&(s=Tv(t,n-t.l)),r&128&&(i=Tv(t,n-t.l)),(r&257)===257&&(o=Tv(t,n-t.l)),(r&257)===1&&(c=iLe(t,n-t.l)),r&8&&(l=Tv(t,n-t.l)),r&32&&(u=t.read_shift(16)),r&64&&(d=UD(t)),t.l=n;var h=i||o||c||"";h&&l&&(h+="#"+l),h||(h="#"+l),r&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return u&&(m.guid=u),d&&(m.time=d),s&&(m.Tooltip=s),m}function cLe(t){var e=De(512),n=0,a=t.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var r=a.indexOf("#"),s=r>-1?31:23;switch(a.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(n=0;n<i.length;++n)e.write_shift(4,i[n]);if(s==28)a=a.slice(1),kM(a,e);else if(s&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<i.length;++n)e.write_shift(1,parseInt(i[n],16));var o=r>-1?a.slice(0,r):a;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),s&8&&kM(r>-1?a.slice(r+1):"",e)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<i.length;++n)e.write_shift(1,parseInt(i[n],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,a.length-3*c+1),n=0;n<a.length-3*c;++n)e.write_shift(1,a.charCodeAt(n+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function IH(t){var e=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1),r=t.read_shift(1);return[e,n,a,r]}function DH(t,e){var n=IH(t);return n[3]=0,n}function Lo(t,e,n){var a=t.read_shift(2),r=t.read_shift(2),s={r:a,c:r,ixfe:0};if(n&&n.biff==2||e==7){var i=t.read_shift(1);s.ixfe=i&63,t.l+=2}else s.ixfe=t.read_shift(2);return s}function wd(t,e,n,a){return a||(a=De(6)),a.write_shift(2,t),a.write_shift(2,e),a.write_shift(2,n||0),a}function lLe(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function uLe(t,e,n){return e===0?"":jd(t,e,n)}function fLe(t,e,n){var a=n.biff>8?4:2,r=t.read_shift(a),s=t.read_shift(a,"i"),i=t.read_shift(a,"i");return[r,s,i]}function RH(t){var e=t.read_shift(2),n=B_(t);return[e,n]}function dLe(t,e,n){t.l+=4,e-=4;var a=t.l+e,r=Eh(t,e,n),s=t.read_shift(2);if(a-=t.l,s!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+s);return t.l+=s,r}function z_(t){var e=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),r=t.read_shift(2);return{s:{c:a,r:e},e:{c:r,r:n}}}function PH(t,e){return e||(e=De(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function FH(t){var e=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(1),r=t.read_shift(1);return{s:{c:a,r:e},e:{c:r,r:n}}}var pLe=FH;function OH(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return t.l+=12,[n,e,a]}function hLe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function mLe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Qr(t){t.l+=2,t.l+=t.read_shift(2)}var gLe={0:Qr,4:Qr,5:Qr,6:Qr,7:mLe,8:Qr,9:Qr,10:Qr,11:Qr,12:Qr,13:hLe,14:Qr,15:Qr,16:Qr,17:Qr,18:Qr,19:Qr,20:Qr,21:OH};function yLe(t,e){for(var n=t.l+e,a=[];t.l<n;){var r=t.read_shift(2);t.l-=2;try{a[r]=gLe[r](t,n-t.l)}catch{return t.l=n,a}}return t.l!=n&&(t.l=n),a}function Ev(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function WD(t,e,n){var a=1536,r=16;switch(n.bookType){case"biff8":break;case"biff5":a=1280,r=8;break;case"biff4":a=4,r=6;break;case"biff3":a=3,r=6;break;case"biff2":a=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=De(r);return s.write_shift(2,a),s.write_shift(2,e),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function xLe(t,e){return e===0||t.read_shift(2),1200}function vLe(t,e,n){if(n.enc)return t.l+=e,"";var a=t.l,r=jd(t,0,n);return t.read_shift(e+a-t.l),r}function kLe(t,e){var n=!e||e.biff==8,a=De(n?112:54);for(a.write_shift(e.biff==8?2:1,7),n&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(n?0:536870912));a.l<a.length;)a.write_shift(1,n?0:32);return a}function wLe(t,e,n){var a=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function bLe(t,e,n){var a="";if(n.biff==4)return a=Eh(t,0,n),a.length===0&&(a="Sheet1"),{name:a};var r=t.read_shift(4),s=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}return a=Eh(t,0,n),a.length===0&&(a="Sheet1"),{pos:r,hs:s,dt:i,name:a}}function _Le(t,e){var n=!e||e.biff>=8?2:1,a=De(8+n*t.name.length);a.write_shift(4,t.pos),a.write_shift(1,t.hs||0),a.write_shift(1,t.dt),a.write_shift(1,t.name.length),e.biff>=8&&a.write_shift(1,1),a.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var r=a.slice(0,a.l);return r.l=a.l,r}function ALe(t,e){for(var n=t.l+e,a=t.read_shift(4),r=t.read_shift(4),s=[],i=0;i!=r&&t.l<n;++i)s.push(tLe(t));return s.Count=a,s.Unique=r,s}function NLe(t,e){var n=De(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var a=[],r=0;r<t.length;++r)a[r]=nLe(t[r]);var s=ja([n].concat(a));return s.parts=[n.length].concat(a.map(function(i){return i.length})),s}function SLe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function TLe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var a=t.read_shift(1);return t.l+=3,a&7&&(e.level=a&7),a&32&&(e.hidden=!0),a&64&&(e.hpt=n/20),e}function ELe(t){var e=lLe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function CLe(t){return t.read_shift(2),t.read_shift(4)}function wM(t,e,n){var a=0;n&&n.biff==2||(a=t.read_shift(2));var r=t.read_shift(2);n&&n.biff==2&&(a=1-(r>>15),r&=32767);var s={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[s,r]}function ILe(t){var e=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),l=t.read_shift(2);return{Pos:[e,n],Dim:[a,r],Flags:s,CurTab:i,FirstTab:o,Selected:c,TabRatio:l}}function DLe(){var t=De(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function RLe(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var a=t.read_shift(2);return{RTL:a&64}}function PLe(t){var e=De(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function FLe(){}function OLe(t,e,n){var a={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return a.name=Eh(t,0,n),a}function $Le(t,e){var n=t.name||"Arial",a=e&&e.biff==5,r=a?15+n.length:16+2*n.length,s=De(r);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*n.length,n,a?"sbcs":"utf16le"),s}function LLe(t,e,n){var a=Lo(t,e,n);return a.isst=t.read_shift(4),a}function MLe(t,e,n,a){var r=De(10);return wd(t,e,a,r),r.write_shift(4,n),r}function BLe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var a=t.l+e,r=Lo(t,e,n),s=P1(t,a-t.l,n);return r.val=s,r}function zLe(t,e,n,a,r){var s=!r||r.biff==8,i=De(8+ +s+(1+s)*n.length);return wd(t,e,a,i),i.write_shift(2,n.length),s&&i.write_shift(1,1),i.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),i}function GLe(t,e,n){var a=t.read_shift(2),r=jd(t,0,n);return[a,r]}function ULe(t,e,n,a){var r=n&&n.biff==5;a||(a=De(r?3+e.length:5+2*e.length)),a.write_shift(2,t),a.write_shift(r?1:2,e.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le");var s=a.length>a.l?a.slice(0,a.l):a;return s.l==null&&(s.l=s.length),s}var WLe=jd;function VLe(t){var e=De(1+t.length);return e.write_shift(1,t.length),e.write_shift(t.length,t,"sbcs"),e}function jLe(t){var e=De(3+t.length);return e.l+=2,e.write_shift(1,t.length),e.write_shift(t.length,t,"sbcs"),e}function bM(t,e,n){var a=t.l+e,r=n.biff==8||!n.biff?4:2,s=t.read_shift(r),i=t.read_shift(r),o=t.read_shift(2),c=t.read_shift(2);return t.l=a,{s:{r:s,c:o},e:{r:i,c}}}function HLe(t,e){var n=e.biff==8||!e.biff?4:2,a=De(2*n+6);return a.write_shift(n,t.s.r),a.write_shift(n,t.e.r+1),a.write_shift(2,t.s.c),a.write_shift(2,t.e.c+1),a.write_shift(2,0),a}function KLe(t){var e=t.read_shift(2),n=t.read_shift(2),a=RH(t);return{r:e,c:n,ixfe:a[0],rknum:a[1]}}function qLe(t,e){for(var n=t.l+e-2,a=t.read_shift(2),r=t.read_shift(2),s=[];t.l<n;)s.push(RH(t));if(t.l!==n)throw new Error("MulRK read error");var i=t.read_shift(2);if(s.length!=i-r+1)throw new Error("MulRK length mismatch");return{r:a,c:r,C:i,rkrec:s}}function XLe(t,e){for(var n=t.l+e-2,a=t.read_shift(2),r=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var i=t.read_shift(2);if(s.length!=i-r+1)throw new Error("MulBlank length mismatch");return{r:a,c:r,C:i,ixfe:s}}function YLe(t,e,n,a){var r={},s=t.read_shift(4),i=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(2);return r.patternType=E$e[o>>26],a.cellStyles&&(r.alc=s&7,r.fWrap=s>>3&1,r.alcV=s>>4&7,r.fJustLast=s>>7&1,r.trot=s>>8&255,r.cIndent=s>>16&15,r.fShrinkToFit=s>>20&1,r.iReadOrder=s>>22&2,r.fAtrNum=s>>26&1,r.fAtrFnt=s>>27&1,r.fAtrAlc=s>>28&1,r.fAtrBdr=s>>29&1,r.fAtrPat=s>>30&1,r.fAtrProt=s>>31&1,r.dgLeft=i&15,r.dgRight=i>>4&15,r.dgTop=i>>8&15,r.dgBottom=i>>12&15,r.icvLeft=i>>16&127,r.icvRight=i>>23&127,r.grbitDiag=i>>30&3,r.icvTop=o&127,r.icvBottom=o>>7&127,r.icvDiag=o>>14&127,r.dgDiag=o>>21&15,r.icvFore=c&127,r.icvBack=c>>7&127,r.fsxButton=c>>14&1),r}function ZLe(t,e,n){var a={};return a.ifnt=t.read_shift(2),a.numFmtId=t.read_shift(2),a.flags=t.read_shift(2),a.fStyle=a.flags>>2&1,e-=6,a.data=YLe(t,e,a.fStyle,n),a}function _M(t,e,n,a){var r=n&&n.biff==5;a||(a=De(r?16:20)),a.write_shift(2,0),t.style?(a.write_shift(2,t.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,t.numFmtId||0),a.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&r&&(s|=1024),a.write_shift(4,s),a.write_shift(4,0),r||a.write_shift(4,0),a.write_shift(2,0),a}function QLe(t){var e={};return e.ifnt=t.read_shift(1),t.l++,e.flags=t.read_shift(1),e.numFmtId=e.flags&63,e.flags>>=6,e.fStyle=0,e.data={},e}function JLe(t){var e=De(4);return e.l+=2,e.write_shift(1,t.numFmtId),e.l++,e}function $H(t){var e=De(12);return e.l++,e.write_shift(1,t.numFmtId),e.l+=10,e}var eMe=$H;function tMe(t){var e={};return e.ifnt=t.read_shift(1),e.numFmtId=t.read_shift(1),e.flags=t.read_shift(2),e.fStyle=e.flags>>2&1,e.data={},e}function nMe(t){var e={};return e.ifnt=t.read_shift(1),e.numFmtId=t.read_shift(1),e.flags=t.read_shift(2),e.fStyle=e.flags>>2&1,e.data={},e}function aMe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function rMe(t){var e=De(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function sMe(t,e,n){var a=Lo(t,6,n),r=TH(t);return a.val=r,a.t=r===!0||r===!1?"b":"e",a}function QN(t,e,n,a,r,s){var i=De(8);return wd(t,e,a,i),EH(n,s,i),i}function iMe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var a=Lo(t,6,n),r=ls(t);return a.val=r,a}function oMe(t,e,n,a){var r=De(14);return wd(t,e,a,r),vd(n,r),r}var AM=uLe;function cMe(t,e,n){var a=t.l+e,r=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,r];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=kd(t,s),o=[];a>t.l;)o.push(P1(t));return[s,r,i,o]}function NM(t,e,n){var a=t.read_shift(2),r,s={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return n.sbcch===14849&&(r=dLe(t,e-2,n)),s.body=r||t.read_shift(e-2),typeof r=="string"&&(s.Name=r),s}function SM(t,e,n){var a=t.l+e,r=t.read_shift(2),s=t.read_shift(1),i=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),c=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),c=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var l=kd(t,i,n);r&32&&(l=zD[l.charCodeAt(0)]);var u=a-t.l;n&&n.biff==2&&--u;var d=a==t.l||o===0||!(u>0)?[]:b8e(t,u,n,o);return{chKey:s,Name:l,itab:c,rgce:d}}function LH(t,e,n){if(n.biff<8||!(n.biff>8)&&e==t[t.l]+(t[t.l+1]==3?1:0)+1)return TM(t,e,n);for(var a=[],r=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)a.push(fLe(t,n.biff>8?12:6,n));if(t.l!=r)throw new Error("Bad ExternSheet: "+t.l+" != "+r);return a}function TM(t,e,n){t[t.l+1]==3&&t[t.l]++;var a=Eh(t,e,n);return a.charCodeAt(0)==3?a.slice(1):a}function lMe(t,e,n){if(n.biff<8){t.l+=e;return}var a=t.read_shift(2),r=t.read_shift(2),s=kd(t,a,n),i=kd(t,r,n);return[s,i]}function uMe(t,e,n){var a=FH(t);t.l++;var r=t.read_shift(1);return e-=8,[_8e(t,e,n),r,a]}function EM(t,e,n){var a=pLe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[a,k8e(t,e,n)]}function fMe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,a=t.read_shift(4);return[e,n,a]}function dMe(t,e,n){var a=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),o=jd(t,0,n);return[{r:a,c:r},o,i,s]}function pMe(t,e,n){if(n&&n.biff<8){var a=t.read_shift(2),r=t.read_shift(2);if(a==65535||a==-1)return;var s=t.read_shift(2),i=t.read_shift(Math.min(s,2048),"cpstr");return[{r:a,c:r},i]}return dMe(t,e,n)}function JN(t,e,n,a){var r=De(6+(a||t.length));return r.write_shift(2,e),r.write_shift(2,n),r.write_shift(2,a||t.length),r.write_shift(t.length,t,"sbcs"),r}function hMe(t,e){for(var n=[],a=t.read_shift(2);a--;)n.push(z_(t));return n}function mMe(t){var e=De(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)PH(t[n],e);return e}function gMe(t,e,n){if(n&&n.biff<8)return xMe(t,e,n);var a=OH(t),r=yLe(t,e-22,a[1]);return{cmo:a,ft:r}}var yMe={8:function(t,e){var n=t.l+e;t.l+=10;var a=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var r=t.read_shift(1);return t.l+=r,t.l=n,{fmt:a}}};function xMe(t,e,n){t.l+=4;var a=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var i=[];return i.push((yMe[a]||gs)(t,e,n)),{cmo:[r,a,s],ft:i}}function vMe(t,e,n){var a=t.l,r="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:i=aLe(t,6,n);var o=t.read_shift(2);t.read_shift(2),Oa(t,2);var c=t.read_shift(2);t.l+=c;for(var l=1;l<t.lens.length-1;++l){if(t.l-a!=t.lens[l])throw new Error("TxO: bad continue record");var u=t[t.l],d=kd(t,t.lens[l+1]-t.lens[l]-1);if(r+=d,r.length>=(u?o:2*o))break}if(r.length!==o&&r.length!==o*2)throw new Error("cchText: "+o+" != "+r.length);return t.l=a+e,{t:r}}catch{return t.l=a+e,{t:r}}}function kMe(t,e){var n=z_(t);t.l+=16;var a=oLe(t,e-24);return[n,a]}function wMe(t){var e=De(24),n=Xn(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)e.write_shift(1,parseInt(a[r],16));return ja([e,cLe(t[1])])}function bMe(t,e){t.read_shift(2);var n=z_(t),a=t.read_shift((e-10)/2,"dbcs-cont");return a=a.replace(Cs,""),[n,a]}function _Me(t){var e=t[1].Tooltip,n=De(10+2*(e.length+1));n.write_shift(2,2048);var a=Xn(t[0]);n.write_shift(2,a.r),n.write_shift(2,a.r),n.write_shift(2,a.c),n.write_shift(2,a.c);for(var r=0;r<e.length;++r)n.write_shift(2,e.charCodeAt(r));return n.write_shift(2,0),n}function AMe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=dM[n]||n,n=t.read_shift(2),e[1]=dM[n]||n,e}function NMe(t){return t||(t=De(4)),t.write_shift(2,1),t.write_shift(2,1),t}function SMe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(DH(t));return n}function TMe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(DH(t));return n}function EMe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function MH(t,e,n){if(!n.cellStyles)return gs(t,e);var a=n&&n.biff>=12?4:2,r=t.read_shift(a),s=t.read_shift(a),i=t.read_shift(a),o=t.read_shift(a),c=t.read_shift(2);a==2&&(t.l+=2);var l={s:r,e:s,w:i,ixfe:o,flags:c};return(n.biff>=5||!n.biff)&&(l.level=c>>8&7),l}function CMe(t,e){var n=De(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var a=0;return t.hidden&&(a|=1),n.write_shift(1,a),a=t.level||0,n.write_shift(1,a),n.write_shift(2,0),n}function IMe(t,e){var n={};return e<32||(t.l+=16,n.header=ls(t),n.footer=ls(t),t.l+=2),n}function DMe(t,e,n){var a={area:!1};if(n.biff!=5)return t.l+=e,a;var r=t.read_shift(1);return t.l+=3,r&16&&(a.area=!0),a}function RMe(t){for(var e=De(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}var PMe=Lo,FMe=SH,OMe=P1;function $Me(t){var e=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(4),r={fmt:e,env:n,len:a,data:t.slice(t.l,t.l+a)};return t.l+=a,r}function F1(t,e,n,a,r){return t||(t=De(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(1,a||0),t.write_shift(1,r||0),t.write_shift(1,0),t}function LMe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var a=Lo(t,7,n),r=jd(t,e-7,n);return a.t="str",a.val=r,a}function MMe(t,e,n){var a=Lo(t,7,n),r=ls(t);return a.t="n",a.val=r,a}function BMe(t,e,n,a,r){var s=De(15);return F1(s,t,e,a||0,r||0),s.write_shift(8,n,"f"),s}function zMe(t,e,n){var a=Lo(t,7,n),r=t.read_shift(2);return a.t="n",a.val=r,a}function GMe(t,e,n,a,r){var s=De(9);return F1(s,t,e,a||0,r||0),s.write_shift(2,n),s}function UMe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function WMe(t,e,n){var a=t.l+7,r=Lo(t,6,n);t.l=a;var s=TH(t);return r.val=s,r.t=s===!0||s===!1?"b":"e",r}function VMe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function jMe(t,e,n){var a=t.l+e,r=Lo(t,6,n),s=t.read_shift(2),i=kd(t,s,n);return t.l=a,r.t="str",r.val=i,r}function HMe(t){var e=t.read_shift(4),n=t.read_shift(1),a=t.read_shift(n,"sbcs");return a.length===0&&(a="Sheet1"),{flags:e,name:a}}var KMe=[2,3,48,49,131,139,140,245],nE=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=F_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,c){var l=[],u=Su(1);switch(c.type){case"base64":u=Ss(pi(o));break;case"binary":u=Ss(o);break;case"buffer":case"array":u=o;break}pr(u,0);var d=u.read_shift(1),h=!!(d&136),m=!1,y=!1;switch(d){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var v=0,x=521;d==2&&(v=u.read_shift(2)),u.l+=3,d!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),d!=2&&(x=u.read_shift(2));var k=u.read_shift(2),b=c.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=t[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var _=[],A={},S=Math.min(u.length,d==2?521:x-10-(m?264:0)),C=y?32:11;u.l<S&&u[u.l]!=13;)switch(A={},A.name=(typeof rn<"u"?rn.utils.decode(b,u.slice(u.l,u.l+C)):xc(u.slice(u.l,u.l+C))).replace(/[\u0000\r\n][\S\s]*$/g,""),u.l+=C,A.type=String.fromCharCode(u.read_shift(1)),d!=2&&!y&&(A.offset=u.read_shift(4)),A.len=u.read_shift(1),d==2&&(A.offset=u.read_shift(2)),A.dec=u.read_shift(1),A.name.length&&_.push(A),d!=2&&(u.l+=y?13:14),A.type){case"B":(!m||A.len!=8)&&c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var E=0,D=0;for(l[0]=[],D=0;D!=_.length;++D)l[0][D]=_[D].name;for(;v-- >0;){if(u[u.l]===42){u.l+=k;continue}for(++u.l,l[++E]=[],D=0,D=0;D!=_.length;++D){var I=u.slice(u.l,u.l+_[D].len);u.l+=_[D].len,pr(I,0);var P=typeof rn<"u"?rn.utils.decode(b,I):xc(I);switch(_[D].type){case"C":P.trim().length&&(l[E][D]=P.replace(/([^\s])\s+$/,"$1"));break;case"D":P.length===8?(l[E][D]=new Date(Date.UTC(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8),0,0,0,0)),c&&c.UTC||(l[E][D]=yd(l[E][D]))):l[E][D]=P;break;case"F":l[E][D]=parseFloat(P.trim());break;case"+":case"I":l[E][D]=y?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":l[E][D]=!0;break;case"N":case"F":l[E][D]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));l[E][D]="##MEMO##"+(y?parseInt(P.trim(),10):I.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(l[E][D]=+P||0);break;case"@":l[E][D]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":{var R=I.read_shift(4),B=I.read_shift(4);if(R==0&&B==0)break;l[E][D]=new Date((R-2440588)*864e5+B),c&&c.UTC||(l[E][D]=yd(l[E][D]))}break;case"Y":l[E][D]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":l[E][D]=-I.read_shift(-8,"f");break;case"B":if(m&&_[D].len==8){l[E][D]=I.read_shift(8,"f");break}case"G":case"P":I.l+=_[D].len;break;case"0":if(_[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[D].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(l=l.slice(0,c.sheetRows)),c.DBF=_,l}function a(o,c){var l=c||{};l.dateNF||(l.dateNF="yyyymmdd");var u=um(n(o,l),l);return u["!cols"]=l.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete l.DBF,u}function r(o,c){try{var l=Vu(a(o,c),c);return l.bookType="dbf",l}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,c){if(!o["!ref"])throw new Error("Cannot export empty sheet to DBF");var l=c||{},u=gr;if(+l.codepage>=0&&Hi(+l.codepage),l.type=="string")throw new Error("Cannot write DBF to JS string");var d=ds(),h=oE(o,{header:1,raw:!0,cellDates:!0}),m=h[0],y=h.slice(1),v=o["!cols"]||[],x=0,k=0,b=0,_=1;for(x=0;x<m.length;++x){if(((v[x]||{}).DBF||{}).name){m[x]=v[x].DBF.name,++b;continue}if(m[x]!=null){if(++b,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(k=0;k<1024;++k)if(m.indexOf(m[x]+"_"+k)==-1){m[x]+="_"+k;break}}}}var A=An(o["!ref"]),S=[],C=[],E=[];for(x=0;x<=A.e.c-A.s.c;++x){var D="",I="",P=0,R=[];for(k=0;k<y.length;++k)y[k][x]!=null&&R.push(y[k][x]);if(R.length==0||m[x]==null){S[x]="?";continue}for(k=0;k<R.length;++k){switch(typeof R[k]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=R[k]instanceof Date?"D":"C";break;default:I="C"}P=Math.max(P,(typeof rn<"u"&&typeof R[k]=="string"?rn.utils.encode(hd,R[k]):String(R[k])).length),D=D&&D!=I?"C":I}P>250&&(P=250),I=((v[x]||{}).DBF||{}).type,I=="C"&&v[x].DBF.len>P&&(P=v[x].DBF.len),D=="B"&&I=="N"&&(D="N",E[x]=v[x].DBF.dec,P=v[x].DBF.len),C[x]=D=="C"||I=="N"?P:s[D]||0,_+=C[x],S[x]=D}var B=d.next(32);for(B.write_shift(4,318902576),B.write_shift(4,y.length),B.write_shift(2,296+32*b),B.write_shift(2,_),x=0;x<4;++x)B.write_shift(4,0);var U=+e[gr]||3;for(B.write_shift(4,0|U<<8),t[U]!=+l.codepage&&(l.codepage&&console.error("DBF Unsupported codepage "+gr+", using 1252"),gr=1252),x=0,k=0;x<m.length;++x)if(m[x]!=null){var V=d.next(32),j=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,j,"sbcs"),V.write_shift(1,S[x]=="?"?"C":S[x],"sbcs"),V.write_shift(4,k),V.write_shift(1,C[x]||s[S[x]]||0),V.write_shift(1,E[x]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),k+=C[x]||s[S[x]]||0}var W=d.next(264);for(W.write_shift(4,13),x=0;x<65;++x)W.write_shift(4,0);for(x=0;x<y.length;++x){var J=d.next(_);for(J.write_shift(1,0),k=0;k<m.length;++k)if(m[k]!=null)switch(S[k]){case"L":J.write_shift(1,y[x][k]==null?63:y[x][k]?84:70);break;case"B":J.write_shift(8,y[x][k]||0,"f");break;case"N":var q="0";for(typeof y[x][k]=="number"&&(q=y[x][k].toFixed(E[k]||0)),q.length>C[k]&&(q=q.slice(0,C[k])),b=0;b<C[k]-q.length;++b)J.write_shift(1,32);J.write_shift(1,q,"sbcs");break;case"D":y[x][k]?(J.write_shift(4,("0000"+y[x][k].getFullYear()).slice(-4),"sbcs"),J.write_shift(2,("00"+(y[x][k].getMonth()+1)).slice(-2),"sbcs"),J.write_shift(2,("00"+y[x][k].getDate()).slice(-2),"sbcs")):J.write_shift(8,"00000000","sbcs");break;case"C":var Z=J.l,M=String(y[x][k]!=null?y[x][k]:"").slice(0,C[k]);for(J.write_shift(1,M,"cpstr"),Z+=C[k]-J.l,b=0;b<Z;++b)J.write_shift(1,32);break}}return gr=u,d.next(1).write_shift(1,26),d.end()}return{to_workbook:r,to_sheet:a,from_sheet:i}}(),BH=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+pa(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{e=new RegExp("\x1BN("+pa(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var n=function(m,y){var v=t[y];return typeof v=="number"?XT(v):v},a=function(m,y,v){var x=y.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return x==59?m:XT(x)};t["|"]=254;var r=function(m){return m.replace(/\n/g,"\x1B :").replace(/\r/g,"\x1B =")};function s(m,y){switch(y.type){case"base64":return i(pi(m),y);case"binary":return i(m,y);case"buffer":return i(fn&&Buffer.isBuffer(m)?m.toString("binary"):xc(m),y);case"array":return i(gd(m),y)}throw new Error("Unrecognized type "+y.type)}function i(m,y){var v=m.split(/[\n\r]+/),x=-1,k=-1,b=0,_=0,A=[],S=[],C=null,E={},D=[],I=[],P=[],R=0,B,U={Workbook:{WBProps:{},Names:[]}};for(+y.codepage>=0&&Hi(+y.codepage);b!==v.length;++b){R=0;var V=v[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(e,n),j=V.replace(/;;/g,"\0").split(";").map(function(ae){return ae.replace(/\u0000/g,";")}),W=j[0],J;if(V.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"V":{var q=parseInt(j[_].slice(1),10);q>=1&&q<=4&&(U.Workbook.WBProps.date1904=!0)}break}break;case"W":break;case"P":switch(j[1].charAt(0)){case"P":S.push(V.slice(3).replace(/;;/g,";"));break}break;case"NN":{var Z={Sheet:0};for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"N":Z.Name=j[_].slice(1);break;case"E":Z.Ref=(y&&y.sheet||"Sheet1")+"!"+Wf(j[_].slice(1));break}U.Workbook.Names.push(Z)}break;case"C":var M=!1,se=!1,ue=!1,le=!1,ie=-1,ye=-1,ke="",ge="z",G="";for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"A":G=j[_].slice(1);break;case"X":k=parseInt(j[_].slice(1),10)-1,se=!0;break;case"Y":for(x=parseInt(j[_].slice(1),10)-1,se||(k=0),B=A.length;B<=x;++B)A[B]=[];break;case"K":J=j[_].slice(1),J.charAt(0)==='"'?(J=J.slice(1,J.length-1),ge="s"):J==="TRUE"||J==="FALSE"?(J=J==="TRUE",ge="b"):J.charAt(0)=="#"&&Pr[J]!=null?(ge="e",J=Pr[J]):isNaN(ui(J))||(J=ui(J),ge="n",C!==null&&hi(C)&&y.cellDates&&(J=rl(U.Workbook.WBProps.date1904?J+1462:J),ge=typeof J=="number"?"n":"d")),typeof rn<"u"&&typeof J=="string"&&(y||{}).type!="string"&&(y||{}).codepage&&(J=rn.utils.decode(y.codepage,J)),M=!0;break;case"E":le=!0,ke=Wf(j[_].slice(1),{r:x,c:k});break;case"S":ue=!0;break;case"G":break;case"R":ie=parseInt(j[_].slice(1),10)-1;break;case"C":ye=parseInt(j[_].slice(1),10)-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+V)}if(M&&(A[x][k]?(A[x][k].t=ge,A[x][k].v=J):A[x][k]={t:ge,v:J},C&&(A[x][k].z=C),y.cellText!==!1&&C&&(A[x][k].w=Zs(A[x][k].z,A[x][k].v,{date1904:U.Workbook.WBProps.date1904})),C=null),ue){if(le)throw new Error("SYLK shared formula cannot have own formula");var te=ie>-1&&A[ie][ye];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");ke=JH(te[1],{r:x-ie,c:k-ye})}ke&&(A[x][k]?A[x][k].f=ke:A[x][k]={t:"n",f:ke}),G&&(A[x][k]||(A[x][k]={t:"z"}),A[x][k].c=[{a:"SheetJSYLK",t:G}]);break;case"F":var ee=0;for(_=1;_<j.length;++_)switch(j[_].charAt(0)){case"X":k=parseInt(j[_].slice(1),10)-1,++ee;break;case"Y":for(x=parseInt(j[_].slice(1),10)-1,B=A.length;B<=x;++B)A[B]=[];break;case"M":R=parseInt(j[_].slice(1),10)/20;break;case"F":break;case"G":break;case"P":C=S[parseInt(j[_].slice(1),10)];break;case"S":break;case"D":break;case"N":break;case"W":for(P=j[_].slice(1).split(" "),B=parseInt(P[0],10);B<=parseInt(P[1],10);++B)R=parseInt(P[2],10),I[B-1]=R===0?{hidden:!0}:{wch:R};break;case"C":k=parseInt(j[_].slice(1),10)-1,I[k]||(I[k]={});break;case"R":x=parseInt(j[_].slice(1),10)-1,D[x]||(D[x]={}),R>0?(D[x].hpt=R,D[x].hpx=Dh(R)):R===0&&(D[x].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+V)}ee<1&&(C=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+V)}}return D.length>0&&(E["!rows"]=D),I.length>0&&(E["!cols"]=I),I.forEach(function(ae){gl(ae)}),y&&y.sheetRows&&(A=A.slice(0,y.sheetRows)),[A,E,U]}function o(m,y){var v=s(m,y),x=v[0],k=v[1],b=v[2],_=Un(y);_.date1904=(((b||{}).Workbook||{}).WBProps||{}).date1904;var A=um(x,_);pa(k).forEach(function(C){A[C]=k[C]});var S=Vu(A,y);return pa(b).forEach(function(C){S[C]=b[C]}),S.bookType="sylk",S}function c(m,y,v,x,k,b){var _="C;Y"+(v+1)+";X"+(x+1)+";K";switch(m.t){case"n":_+=isFinite(m.v)?m.v||0:wr[isNaN(m.v)?36:7],m.f&&!m.F&&(_+=";E"+O1(m.f,{r:v,c:x}));break;case"b":_+=m.v?"TRUE":"FALSE";break;case"e":_+=m.w||wr[m.v]||m.v;break;case"d":_+=Ia(va(m.v,b),b);break;case"s":_+='"'+(m.v==null?"":String(m.v)).replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function l(m,y,v){var x="C;Y"+(y+1)+";X"+(v+1)+";A";return x+=r(m.map(function(k){return k.t}).join("")),x}function u(m,y){y.forEach(function(v,x){var k="F;W"+(x+1)+" "+(x+1)+" ";v.hidden?k+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Ih(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=$g(v.wpx)),typeof v.wch=="number"&&(k+=Math.round(v.wch))),k.charAt(k.length-1)!=" "&&m.push(k)})}function d(m,y){y.forEach(function(v,x){var k="F;";v.hidden?k+="M0;":v.hpt?k+="M"+20*v.hpt+";":v.hpx&&(k+="M"+20*Lg(v.hpx)+";"),k.length>2&&m.push(k+"R"+(x+1))})}function h(m,y,v){y||(y={}),y._formats=["General"];var x=["ID;PSheetJS;N;E"],k=[],b=An(m["!ref"]||"A1"),_,A=m["!data"]!=null,S=`\r
`,C=(((v||{}).Workbook||{}).WBProps||{}).date1904,E="General";x.push("P;PGeneral");var D=b.s.r,I=b.s.c,P=[];if(m["!ref"]){for(D=b.s.r;D<=b.e.r;++D)if(!(A&&!m["!data"][D])){for(P=[],I=b.s.c;I<=b.e.c;++I)_=A?m["!data"][D][I]:m[Zt(I)+hn(D)],!(!_||!_.c)&&P.push(l(_.c,D,I));P.length&&k.push(P.join(S))}}if(m["!ref"]){for(D=b.s.r;D<=b.e.r;++D)if(!(A&&!m["!data"][D])){for(P=[],I=b.s.c;I<=b.e.c;++I)if(_=A?m["!data"][D][I]:m[Zt(I)+hn(D)],!(!_||_.v==null&&(!_.f||_.F))){if((_.z||(_.t=="d"?It[14]:"General"))!=E){var R=y._formats.indexOf(_.z);R==-1&&(y._formats.push(_.z),R=y._formats.length-1,x.push("P;P"+_.z.replace(/;/g,";;"))),P.push("F;P"+R+";Y"+(D+1)+";X"+(I+1))}P.push(c(_,m,D,I,y,C))}k.push(P.join(S))}}return x.push("F;P0;DG0G8;M255"),m["!cols"]&&u(x,m["!cols"]),m["!rows"]&&d(x,m["!rows"]),m["!ref"]&&x.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" ")),x.push("O;L;D;B"+(C?";V4":"")+";K47;G100 0.001"),delete y._formats,x.join(S)+S+k.join(S)+S+"E"+S}return{to_workbook:o,from_sheet:h}}(),zH=function(){function t(o,c){switch(c.type){case"base64":return e(pi(o),c);case"binary":return e(o,c);case"buffer":return e(fn&&Buffer.isBuffer(o)?o.toString("binary"):xc(o),c);case"array":return e(gd(o),c)}throw new Error("Unrecognized type "+c.type)}function e(o,c){for(var l=o.split(`
`),u=-1,d=-1,h=0,m=[];h!==l.length;++h){if(l[h].trim()==="BOT"){m[++u]=[],d=0;continue}if(!(u<0)){var y=l[h].trim().split(","),v=y[0],x=y[1];++h;for(var k=l[h]||"";(k.match(/["]/g)||[]).length&1&&h<l.length-1;)k+=`
`+l[++h];switch(k=k.trim(),+v){case-1:if(k==="BOT"){m[++u]=[],d=0;continue}else if(k!=="EOD")throw new Error("Unrecognized DIF special command "+k);break;case 0:k==="TRUE"?m[u][d]=!0:k==="FALSE"?m[u][d]=!1:isNaN(ui(x))?isNaN(Dg(x).getDate())?m[u][d]=x:(m[u][d]=va(x),c&&c.UTC||(m[u][d]=yd(m[u][d]))):m[u][d]=ui(x),++d;break;case 1:k=k.slice(1,k.length-1),k=k.replace(/""/g,'"'),k&&k.match(/^=".*"$/)&&(k=k.slice(2,-1)),m[u][d++]=k!==""?k:null;break}if(k==="EOD")break}}return c&&c.sheetRows&&(m=m.slice(0,c.sheetRows)),m}function n(o,c){return um(t(o,c),c)}function a(o,c){var l=Vu(n(o,c),c);return l.bookType="dif",l}function r(o,c){return"0,"+String(o)+`\r
`+c}function s(o){return`1,0\r
"`+o.replace(/"/g,'""')+'"'}function i(o){if(!o["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var c=An(o["!ref"]),l=o["!data"]!=null,u=[`TABLE\r
0,1\r
"sheetjs"\r
`,`VECTORS\r
0,`+(c.e.r-c.s.r+1)+`\r
""\r
`,`TUPLES\r
0,`+(c.e.c-c.s.c+1)+`\r
""\r
`,`DATA\r
0,0\r
""\r
`],d=c.s.r;d<=c.e.r;++d){for(var h=l?o["!data"][d]:[],m=`-1,0\r
BOT\r
`,y=c.s.c;y<=c.e.c;++y){var v=l?h&&h[y]:o[pn({r:d,c:y})];if(v==null){m+=`1,0\r
""\r
`;continue}switch(v.t){case"n":v.w!=null?m+="0,"+v.w+`\r
V`:v.v!=null?m+=r(v.v,"V"):v.f!=null&&!v.F?m+=s("="+v.f):m+=`1,0\r
""`;break;case"b":m+=v.v?r(1,"TRUE"):r(0,"FALSE");break;case"s":m+=s(isNaN(+v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Zs(v.z||It[14],Ia(va(v.v)))),m+=r(v.w,"V");break;default:m+=`1,0\r
""`}m+=`\r
`}u.push(m)}return u.join("")+`-1,0\r
EOD`}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),GH=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(d,h){for(var m=d.split(`
`),y=-1,v=-1,x=0,k=[];x!==m.length;++x){var b=m[x].trim().split(":");if(b[0]==="cell"){var _=Xn(b[1]);if(k.length<=_.r)for(y=k.length;y<=_.r;++y)k[y]||(k[y]=[]);switch(y=_.r,v=_.c,b[2]){case"t":k[y][v]=t(b[3]);break;case"v":k[y][v]=+b[3];break;case"vtf":var A=b[b.length-1];case"vtc":switch(b[3]){case"nl":k[y][v]=!!+b[4];break;default:k[y][v]=b[b.length-1].charAt(0)=="#"?{t:"e",v:Pr[b[b.length-1]]}:+b[4];break}b[2]=="vtf"&&(k[y][v]=[k[y][v],A])}}}return h&&h.sheetRows&&(k=k.slice(0,h.sheetRows)),k}function a(d,h){return um(n(d,h),h)}function r(d,h){return Vu(a(d,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function l(d){if(!d||!d["!ref"])return"";for(var h=[],m=[],y,v="",x=or(d["!ref"]),k=d["!data"]!=null,b=x.s.r;b<=x.e.r;++b)for(var _=x.s.c;_<=x.e.c;++_)if(v=pn({r:b,c:_}),y=k?(d["!data"][b]||[])[_]:d[v],!(!y||y.v==null||y.t==="z")){switch(m=["cell",v,"t"],y.t){case"s":m.push(e(y.v));break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var A=Ia(va(y.v));m[2]="vtc",m[3]="nd",m[4]=""+A,m[5]=y.w||Zs(y.z||It[14],A);break;case"n":isFinite(y.v)?y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v):(m[2]="vt"+(y.f?"f":"c"),m[3]="e"+wr[isNaN(y.v)?36:7],m[4]="0",m[5]=y.f||m[3].slice(1),m[6]="e",m[7]=m[3].slice(1));break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(d){return[s,i,o,i,l(d),c].join(`
`)}return{to_workbook:r,to_sheet:a,from_sheet:u}}(),Ch=function(){function t(u,d,h,m,y){y.raw?d[h][m]=u:u===""||(u==="TRUE"?d[h][m]=!0:u==="FALSE"?d[h][m]=!1:isNaN(ui(u))?isNaN(Dg(u).getDate())?u.charCodeAt(0)==35&&Pr[u]!=null?d[h][m]={t:"e",v:Pr[u],w:u}:d[h][m]=u:d[h][m]=va(u):d[h][m]=ui(u))}function e(u,d){var h=d||{},m=[];if(!u||u.length===0)return m;for(var y=u.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var x=10,k=0,b=0;b<=v;++b)k=y[b].indexOf(" "),k==-1?k=y[b].length:k++,x=Math.max(x,k);for(b=0;b<=v;++b){m[b]=[];var _=0;for(t(y[b].slice(0,x).trim(),m,b,_,h),_=1;_<=(y[b].length-x)/10+1;++_)t(y[b].slice(x+(_-1)*10,x+_*10).trim(),m,b,_,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function r(u){for(var d={},h=!1,m=0,y=0;m<u.length;++m)(y=u.charCodeAt(m))==34?h=!h:!h&&y in n&&(d[y]=(d[y]||0)+1);y=[];for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&y.push([d[m],m]);if(!y.length){d=a;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&y.push([d[m],m])}return y.sort(function(v,x){return v[0]-x[0]||a[v[1]]-a[x[1]]}),n[y.pop()[1]]||44}function s(u,d){var h=d||{},m="",y={};h.dense&&(y["!data"]=[]);var v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=r(u.slice(0,1024)):h&&h.FS?m=h.FS:m=r(u.slice(0,1024));var x=0,k=0,b=0,_=0,A=0,S=m.charCodeAt(0),C=!1,E=0,D=u.charCodeAt(0),I=h.dateNF!=null?mOe(h.dateNF):null;function P(){var R=u.slice(_,A);R.slice(-1)=="\r"&&(R=R.slice(0,-1));var B={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),h.cellText!==!1&&(B.w=R),R.length===0)B.t="z";else if(h.raw)B.t="s",B.v=R;else if(R.trim().length===0)B.t="s",B.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(B.t="s",B.v=R.slice(2,-1).replace(/""/g,'"')):i6e(R)?(B.t="s",B.f=R.slice(1),B.v=R):(B.t="s",B.v=R);else if(R=="TRUE")B.t="b",B.v=!0;else if(R=="FALSE")B.t="b",B.v=!1;else if(!isNaN(b=ui(R)))B.t="n",B.v=b;else if(!isNaN((b=Dg(R)).getDate())||I&&R.match(I)){if(B.z=h.dateNF||It[14],I&&R.match(I)){var U=gOe(R,h.dateNF,R.match(I)||[]);b=va(U),h&&h.UTC===!1&&(b=yd(b))}else h&&h.UTC===!1?b=yd(b):h.cellText!==!1&&h.dateNF&&(B.w=Zs(B.z,b));h.cellDates?(B.t="d",B.v=b):(B.t="n",B.v=Ia(b)),h.cellNF||delete B.z}else R.charCodeAt(0)==35&&Pr[R]!=null?(B.t="e",B.w=R,B.v=Pr[R]):(B.t="s",B.v=R);if(B.t=="z"||(h.dense?(y["!data"][x]||(y["!data"][x]=[]),y["!data"][x][k]=B):y[pn({c:k,r:x})]=B),_=A+1,D=u.charCodeAt(_),v.e.c<k&&(v.e.c=k),v.e.r<x&&(v.e.r=x),E==S)++k;else if(k=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;A<u.length;++A)switch(E=u.charCodeAt(A)){case 34:D===34&&(C=!C);break;case 13:if(C)break;u.charCodeAt(A+1)==10&&++A;case S:case 10:if(!C&&P())break e;break}return A-_>0&&P(),y["!ref"]=an(v),y}function i(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,d):um(e(u,d),d)}function o(u,d){var h="",m=d.type=="string"?[0,0,0,0]:tR(u,d);switch(d.type){case"base64":h=pi(u);break;case"binary":h=u;break;case"buffer":d.codepage==65001?h=u.toString("utf8"):d.codepage&&typeof rn<"u"?h=rn.utils.decode(d.codepage,u):h=fn&&Buffer.isBuffer(u)?u.toString("binary"):xc(u);break;case"array":h=gd(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+d.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=qn(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=qn(h):d.type=="binary"&&typeof rn<"u"&&d.codepage&&(h=rn.utils.decode(d.codepage,rn.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?GH.to_sheet(d.type=="string"?h:qn(h),d):i(h,d)}function c(u,d){return Vu(o(u,d),d)}function l(u){var d=[];if(!u["!ref"])return"";for(var h=An(u["!ref"]),m,y=u["!data"]!=null,v=h.s.r;v<=h.e.r;++v){for(var x=[],k=h.s.c;k<=h.e.c;++k){var b=pn({r:v,c:k});if(m=y?(u["!data"][v]||[])[k]:u[b],!m||m.v==null){x.push("          ");continue}for(var _=(m.w||(vc(m),m.w)||"").slice(0,10);_.length<10;)_+=" ";x.push(_+(k===0?" ":""))}d.push(x.join(""))}return d.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:l}}();function qMe(t,e){var n=e||{},a=!!n.WTF;n.WTF=!0;try{var r=BH.to_workbook(t,n);return n.WTF=a,r}catch(s){if(n.WTF=a,s.message.indexOf("SYLK bad record ID")==-1&&a)throw s;return Ch.to_workbook(t,e)}}var Uf=function(){function t(G,te,ee){if(G){pr(G,G.l||0);for(var ae=ee.Enum||le;G.l<G.length;){var be=G.read_shift(2),Y=ae[be]||ae[65535],Ae=G.read_shift(2),Oe=G.l+Ae,$e=Y.f&&Y.f(G,Ae,ee);if(G.l=Oe,te($e,Y,be))return}}}function e(G,te){switch(te.type){case"base64":return a(Ss(pi(G)),te);case"binary":return a(Ss(G),te);case"buffer":case"array":return a(G,te)}throw"Unsupported type "+te.type}var n=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function a(G,te){if(!G)return G;var ee=te||{},ae={},be="Sheet1",Y="",Ae=0,Oe={},$e=[],He=[],Ve=[];ee.dense&&(Ve=ae["!data"]=[]);var tt={s:{r:0,c:0},e:{r:0,c:0}},lt=ee.sheetRows||0,zt={};if(G[4]==81&&G[5]==80&&G[6]==87)return ge(G,te);if(G[2]==0&&(G[3]==8||G[3]==9)&&G.length>=16&&G[14]==5&&G[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(G[2]==2)ee.Enum=le,t(G,function(Fe,Dt,Bt){switch(Bt){case 0:ee.vers=Fe,Fe>=4096&&(ee.qpro=!0);break;case 255:ee.vers=Fe,ee.works=!0;break;case 6:tt=Fe;break;case 204:Fe&&(Y=Fe);break;case 222:Y=Fe;break;case 15:case 51:(!ee.qpro&&!ee.works||Bt==51)&&Fe[1].v.charCodeAt(0)<48&&(Fe[1].v=Fe[1].v.slice(1)),(ee.works||ee.works2)&&(Fe[1].v=Fe[1].v.replace(/\r\n/g,`
`));case 13:case 14:case 16:(Fe[2]&112)==112&&(Fe[2]&15)>1&&(Fe[2]&15)<15&&(Fe[1].z=ee.dateNF||n[(Fe[2]&15)-1]||It[14],ee.cellDates&&(Fe[1].v=rl(Fe[1].v),Fe[1].t=typeof Fe[1].v=="number"?"n":"d")),ee.qpro&&Fe[3]>Ae&&(ae["!ref"]=an(tt),Oe[be]=ae,$e.push(be),ae={},ee.dense&&(Ve=ae["!data"]=[]),tt={s:{r:0,c:0},e:{r:0,c:0}},Ae=Fe[3],be=Y||"Sheet"+(Ae+1),Y="");var Rt=ee.dense?(Ve[Fe[0].r]||[])[Fe[0].c]:ae[pn(Fe[0])];if(Rt){Rt.t=Fe[1].t,Rt.v=Fe[1].v,Fe[1].z!=null&&(Rt.z=Fe[1].z),Fe[1].f!=null&&(Rt.f=Fe[1].f),zt=Rt;break}ee.dense?(Ve[Fe[0].r]||(Ve[Fe[0].r]=[]),Ve[Fe[0].r][Fe[0].c]=Fe[1]):ae[pn(Fe[0])]=Fe[1],zt=Fe[1];break;case 21509:ee.works2=!0;break;case 21506:Fe==5281&&(zt.z="hh:mm:ss",ee.cellDates&&zt.t=="n"&&(zt.v=rl(zt.v),zt.t=typeof zt.v=="number"?"n":"d"));break}},ee);else if(G[2]==26||G[2]==14)ee.Enum=ie,G[2]==14&&(ee.qpro=!0,G.l=0),t(G,function(Fe,Dt,Bt){switch(Bt){case 204:be=Fe;break;case 22:Fe[1].v.charCodeAt(0)<48&&(Fe[1].v=Fe[1].v.slice(1)),Fe[1].v=Fe[1].v.replace(/\x0F./g,function(Rt){return String.fromCharCode(Rt.charCodeAt(1)-32)}).replace(/\r\n/g,`
`);case 23:case 24:case 25:case 37:case 39:case 40:if(Fe[3]>Ae&&(ae["!ref"]=an(tt),Oe[be]=ae,$e.push(be),ae={},ee.dense&&(Ve=ae["!data"]=[]),tt={s:{r:0,c:0},e:{r:0,c:0}},Ae=Fe[3],be="Sheet"+(Ae+1)),lt>0&&Fe[0].r>=lt)break;ee.dense?(Ve[Fe[0].r]||(Ve[Fe[0].r]=[]),Ve[Fe[0].r][Fe[0].c]=Fe[1]):ae[pn(Fe[0])]=Fe[1],tt.e.c<Fe[0].c&&(tt.e.c=Fe[0].c),tt.e.r<Fe[0].r&&(tt.e.r=Fe[0].r);break;case 27:Fe[14e3]&&(He[Fe[14e3][0]]=Fe[14e3][1]);break;case 1537:He[Fe[0]]=Fe[1],Fe[0]==Ae&&(be=Fe[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+G[2]);if(ae["!ref"]=an(tt),Oe[Y||be]=ae,$e.push(Y||be),!He.length)return{SheetNames:$e,Sheets:Oe};for(var $t={},st=[],Be=0;Be<He.length;++Be)Oe[$e[Be]]?(st.push(He[Be]||$e[Be]),$t[He[Be]]=Oe[He[Be]]||Oe[$e[Be]]):(st.push(He[Be]),$t[He[Be]]={"!ref":"A1"});return{SheetNames:st,Sheets:$t}}function r(G,te){var ee=te||{};if(+ee.codepage>=0&&Hi(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var ae=ds();if(!G["!ref"])throw new Error("Cannot export empty sheet to WK1");var be=An(G["!ref"]),Y=G["!data"]!=null,Ae=[];Xe(ae,0,i(1030)),Xe(ae,6,l(be));for(var Oe=Math.min(be.e.r,8191),$e=be.s.c;$e<=be.e.c;++$e)Ae[$e]=Zt($e);for(var He=be.s.r;He<=Oe;++He){var Ve=hn(He);for($e=be.s.c;$e<=be.e.c;++$e){var tt=Y?(G["!data"][He]||[])[$e]:G[Ae[$e]+Ve];if(!(!tt||tt.t=="z"))switch(tt.t){case"n":(tt.v|0)==tt.v&&tt.v>=-32768&&tt.v<=32767?Xe(ae,13,x(He,$e,tt)):Xe(ae,14,b(He,$e,tt));break;case"d":var lt=Ia(tt.v);(lt|0)==lt&&lt>=-32768&&lt<=32767?Xe(ae,13,x(He,$e,{v:lt,z:tt.z||It[14]})):Xe(ae,14,b(He,$e,{v:lt,z:tt.z||It[14]}));break;default:var zt=vc(tt);Xe(ae,15,m(He,$e,zt.slice(0,239)))}}}return Xe(ae,1),ae.end()}function s(G,te){var ee=te||{};if(+ee.codepage>=0&&Hi(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var ae=ds();Xe(ae,0,o(G));for(var be=0,Y=0;be<G.SheetNames.length;++be)(G.Sheets[G.SheetNames[be]]||{})["!ref"]&&Xe(ae,27,ue(G.SheetNames[be],Y++));var Ae=0;for(be=0;be<G.SheetNames.length;++be){var Oe=G.Sheets[G.SheetNames[be]];if(!(!Oe||!Oe["!ref"])){for(var $e=An(Oe["!ref"]),He=Oe["!data"]!=null,Ve=[],tt=Math.min($e.e.r,8191),lt=$e.s.r;lt<=tt;++lt)for(var zt=hn(lt),$t=$e.s.c;$t<=$e.e.c;++$t){lt===$e.s.r&&(Ve[$t]=Zt($t));var st=Ve[$t]+zt,Be=He?(Oe["!data"][lt]||[])[$t]:Oe[st];if(!(!Be||Be.t=="z"))if(Be.t=="n")Xe(ae,23,U(lt,$t,Ae,Be.v));else{var Fe=vc(Be);Xe(ae,22,P(lt,$t,Ae,Fe.slice(0,239)))}}++Ae}}return Xe(ae,1),ae.end()}function i(G){var te=De(2);return te.write_shift(2,G),te}function o(G){var te=De(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var ee=0,ae=0,be=0,Y=0;Y<G.SheetNames.length;++Y){var Ae=G.SheetNames[Y],Oe=G.Sheets[Ae];if(!(!Oe||!Oe["!ref"])){++be;var $e=or(Oe["!ref"]);ee<$e.e.r&&(ee=$e.e.r),ae<$e.e.c&&(ae=$e.e.c)}}return ee>8191&&(ee=8191),te.write_shift(2,ee),te.write_shift(1,be),te.write_shift(1,ae),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function c(G,te,ee){var ae={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&ee.qpro?(ae.s.c=G.read_shift(1),G.l++,ae.s.r=G.read_shift(2),ae.e.c=G.read_shift(1),G.l++,ae.e.r=G.read_shift(2),ae):(ae.s.c=G.read_shift(2),ae.s.r=G.read_shift(2),te==12&&ee.qpro&&(G.l+=2),ae.e.c=G.read_shift(2),ae.e.r=G.read_shift(2),te==12&&ee.qpro&&(G.l+=2),ae.s.c==65535&&(ae.s.c=ae.e.c=ae.s.r=ae.e.r=0),ae)}function l(G){var te=De(8);return te.write_shift(2,G.s.c),te.write_shift(2,G.s.r),te.write_shift(2,G.e.c),te.write_shift(2,G.e.r),te}function u(G,te,ee){var ae=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(ae[0].c=G.read_shift(1),ae[3]=G.read_shift(1),ae[0].r=G.read_shift(2),G.l+=2):ee.works?(ae[0].c=G.read_shift(2),ae[0].r=G.read_shift(2),ae[2]=G.read_shift(2)):(ae[2]=G.read_shift(1),ae[0].c=G.read_shift(2),ae[0].r=G.read_shift(2)),ae}function d(G){return G.z&&hi(G.z)?240|(n.indexOf(G.z)+1||2):255}function h(G,te,ee){var ae=G.l+te,be=u(G,te,ee);if(be[1].t="s",(ee.vers&65534)==20768){G.l++;var Y=G.read_shift(1);return be[1].v=G.read_shift(Y,"utf8"),be}return ee.qpro&&G.l++,be[1].v=G.read_shift(ae-G.l,"cstr"),be}function m(G,te,ee){var ae=De(7+ee.length);ae.write_shift(1,255),ae.write_shift(2,te),ae.write_shift(2,G),ae.write_shift(1,39);for(var be=0;be<ae.length;++be){var Y=ee.charCodeAt(be);ae.write_shift(1,Y>=128?95:Y)}return ae.write_shift(1,0),ae}function y(G,te,ee){var ae=G.l+te,be=u(G,te,ee);if(be[1].t="s",ee.vers==20768){var Y=G.read_shift(1);return be[1].v=G.read_shift(Y,"utf8"),be}return be[1].v=G.read_shift(ae-G.l,"cstr"),be}function v(G,te,ee){var ae=u(G,te,ee);return ae[1].v=G.read_shift(2,"i"),ae}function x(G,te,ee){var ae=De(7);return ae.write_shift(1,d(ee)),ae.write_shift(2,te),ae.write_shift(2,G),ae.write_shift(2,ee.v,"i"),ae}function k(G,te,ee){var ae=u(G,te,ee);return ae[1].v=G.read_shift(8,"f"),ae}function b(G,te,ee){var ae=De(13);return ae.write_shift(1,d(ee)),ae.write_shift(2,te),ae.write_shift(2,G),ae.write_shift(8,ee.v,"f"),ae}function _(G,te,ee){var ae=G.l+te,be=u(G,te,ee);if(be[1].v=G.read_shift(8,"f"),ee.qpro)G.l=ae;else{var Y=G.read_shift(2);E(G.slice(G.l,G.l+Y),be),G.l+=Y}return be}function A(G,te,ee){var ae=te&32768;return te&=-32769,te=(ae?G:0)+(te>=8192?te-16384:te),(ae?"":"$")+(ee?Zt(te):hn(te))}var S={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(G,te){pr(G,0);for(var ee=[],ae=0,be="",Y="",Ae="",Oe="";G.l<G.length;){var $e=G[G.l++];switch($e){case 0:ee.push(G.read_shift(8,"f"));break;case 1:Y=A(te[0].c,G.read_shift(2),!0),be=A(te[0].r,G.read_shift(2),!1),ee.push(Y+be);break;case 2:{var He=A(te[0].c,G.read_shift(2),!0),Ve=A(te[0].r,G.read_shift(2),!1);Y=A(te[0].c,G.read_shift(2),!0),be=A(te[0].r,G.read_shift(2),!1),ee.push(He+Ve+":"+Y+be)}break;case 3:if(G.l<G.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(G.read_shift(2));break;case 6:{for(var tt="";$e=G[G.l++];)tt+=String.fromCharCode($e);ee.push('"'+tt.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:Oe=ee.pop(),Ae=ee.pop(),ee.push(["AND","OR"][$e-20]+"("+Ae+","+Oe+")");break;default:if($e<32&&C[$e])Oe=ee.pop(),Ae=ee.pop(),ee.push(Ae+C[$e]+Oe);else if(S[$e]){if(ae=S[$e][1],ae==69&&(ae=G[G.l++]),ae>ee.length){console.error("WK1 bad formula parse 0x"+$e.toString(16)+":|"+ee.join("|")+"|");return}var lt=ee.slice(-ae);ee.length-=ae,ee.push(S[$e][0]+"("+lt.join(",")+")")}else return $e<=7?console.error("WK1 invalid opcode "+$e.toString(16)):$e<=24?console.error("WK1 unsupported op "+$e.toString(16)):$e<=30?console.error("WK1 invalid opcode "+$e.toString(16)):$e<=115?console.error("WK1 unsupported function opcode "+$e.toString(16)):console.error("WK1 unrecognized opcode "+$e.toString(16))}}ee.length==1?te[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function D(G){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=G.read_shift(2),te[3]=G[G.l++],te[0].c=G[G.l++],te}function I(G,te){var ee=D(G);return ee[1].t="s",ee[1].v=G.read_shift(te-4,"cstr"),ee}function P(G,te,ee,ae){var be=De(6+ae.length);be.write_shift(2,G),be.write_shift(1,ee),be.write_shift(1,te),be.write_shift(1,39);for(var Y=0;Y<ae.length;++Y){var Ae=ae.charCodeAt(Y);be.write_shift(1,Ae>=128?95:Ae)}return be.write_shift(1,0),be}function R(G,te){var ee=D(G);ee[1].v=G.read_shift(2);var ae=ee[1].v>>1;if(ee[1].v&1)switch(ae&7){case 0:ae=(ae>>3)*5e3;break;case 1:ae=(ae>>3)*500;break;case 2:ae=(ae>>3)/20;break;case 3:ae=(ae>>3)/200;break;case 4:ae=(ae>>3)/2e3;break;case 5:ae=(ae>>3)/2e4;break;case 6:ae=(ae>>3)/16;break;case 7:ae=(ae>>3)/64;break}return ee[1].v=ae,ee}function B(G,te){var ee=D(G),ae=G.read_shift(4),be=G.read_shift(4),Y=G.read_shift(2);if(Y==65535)return ae===0&&be===3221225472?(ee[1].t="e",ee[1].v=15):ae===0&&be===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var Ae=Y&32768;return Y=(Y&32767)-16446,ee[1].v=(1-Ae*2)*(be*Math.pow(2,Y+32)+ae*Math.pow(2,Y)),ee}function U(G,te,ee,ae){var be=De(14);if(be.write_shift(2,G),be.write_shift(1,ee),be.write_shift(1,te),ae==0)return be.write_shift(4,0),be.write_shift(4,0),be.write_shift(2,65535),be;var Y=0,Ae=0,Oe=0,$e=0;return ae<0&&(Y=1,ae=-ae),Ae=Math.log2(ae)|0,ae/=Math.pow(2,Ae-31),$e=ae>>>0,($e&2147483648)==0&&(ae/=2,++Ae,$e=ae>>>0),ae-=$e,$e|=2147483648,$e>>>=0,ae*=Math.pow(2,32),Oe=ae>>>0,be.write_shift(4,Oe),be.write_shift(4,$e),Ae+=16383+(Y?32768:0),be.write_shift(2,Ae),be}function V(G,te){var ee=B(G);return G.l+=te-14,ee}function j(G,te){var ee=D(G),ae=G.read_shift(4);return ee[1].v=ae>>6,ee}function W(G,te){var ee=D(G),ae=G.read_shift(8,"f");return ee[1].v=ae,ee}function J(G,te){var ee=W(G);return G.l+=te-12,ee}function q(G,te){return G[G.l+te-1]==0?G.read_shift(te,"cstr"):""}function Z(G,te){var ee=G[G.l++];ee>te-1&&(ee=te-1);for(var ae="";ae.length<ee;)ae+=String.fromCharCode(G[G.l++]);return ae}function M(G,te,ee){if(!(!ee.qpro||te<21)){var ae=G.read_shift(1);G.l+=17,G.l+=1,G.l+=2;var be=G.read_shift(te-21,"cstr");return[ae,be]}}function se(G,te){for(var ee={},ae=G.l+te;G.l<ae;){var be=G.read_shift(2);if(be==14e3){for(ee[be]=[0,""],ee[be][0]=G.read_shift(2);G[G.l];)ee[be][1]+=String.fromCharCode(G[G.l]),G.l++;G.l++}}return ee}function ue(G,te){var ee=De(5+G.length);ee.write_shift(2,14e3),ee.write_shift(2,te);for(var ae=0;ae<G.length;++ae){var be=G.charCodeAt(ae);ee[ee.l++]=be>127?95:be}return ee[ee.l++]=0,ee}var le={0:{n:"BOF",f:Oa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:k},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:y},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:q},222:{n:"SHEETNAMELP",f:Z},255:{n:"BOF",f:Oa},21506:{n:"WKSNF",f:Oa},65535:{n:""}},ie={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:V},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:M},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},ye={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function ke(G){var te=G.read_shift(2),ee=G.read_shift(1);if(ee!=0)throw"unsupported QPW string type "+ee.toString(16);return G.read_shift(te,"sbcs-cont")}function ge(G,te){pr(G,0);var ee=te||{},ae={};ee.dense&&(ae["!data"]=[]);var be=[],Y="",Ae={s:{r:-1,c:-1},e:{r:-1,c:-1}},Oe=0,$e=0,He=0,Ve=0,tt={SheetNames:[],Sheets:{}},lt=[];e:for(;G.l<G.length;){var zt=G.read_shift(2),$t=G.read_shift(2),st=G.slice(G.l,G.l+$t);switch(pr(st,0),zt){case 1:if(st.read_shift(4)!=962023505)throw"Bad QPW9 BOF!";break;case 2:break e;case 8:break;case 10:for(var Be=st.read_shift(4),Fe=(st.length-st.l)/Be|0,Dt=0;Dt<Be;++Dt){var Bt=st.l+Fe,Rt={};st.l+=2,Rt.numFmtId=st.read_shift(2),ye[Rt.numFmtId]&&(Rt.z=ye[Rt.numFmtId]),st.l=Bt,lt.push(Rt)}break;case 1025:break;case 1026:break;case 1031:for(st.l+=12;st.l<st.length;)Oe=st.read_shift(2),$e=st.read_shift(1),be.push(st.read_shift(Oe,"cstr"));break;case 1032:break;case 1537:{var Mn=st.read_shift(2);ae={},ee.dense&&(ae["!data"]=[]),Ae.s.c=st.read_shift(2),Ae.e.c=st.read_shift(2),Ae.s.r=st.read_shift(4),Ae.e.r=st.read_shift(4),st.l+=4,st.l+2<st.length&&(Oe=st.read_shift(2),$e=st.read_shift(1),Y=Oe==0?"":st.read_shift(Oe,"cstr")),Y||(Y=Zt(Mn))}break;case 1538:{if(Ae.s.c>255||Ae.s.r>999999)break;Ae.e.c<Ae.s.c&&(Ae.e.c=Ae.s.c),Ae.e.r<Ae.s.r&&(Ae.e.r=Ae.s.r),ae["!ref"]=an(Ae),z1(tt,ae,Y)}break;case 2561:He=st.read_shift(2),Ae.e.c<He&&(Ae.e.c=He),Ae.s.c>He&&(Ae.s.c=He),Ve=st.read_shift(4),Ae.s.r>Ve&&(Ae.s.r=Ve),Ve=st.read_shift(4),Ae.e.r<Ve&&(Ae.e.r=Ve);break;case 3073:{Ve=st.read_shift(4),Oe=st.read_shift(4),Ae.s.r>Ve&&(Ae.s.r=Ve),Ae.e.r<Ve+Oe-1&&(Ae.e.r=Ve+Oe-1);for(var Bn=Zt(He);st.l<st.length;){var it={t:"z"},qt=st.read_shift(1),Xt=-1;qt&128&&(Xt=st.read_shift(2));var Ht=qt&64?st.read_shift(2)-1:0;switch(qt&31){case 0:break;case 1:break;case 2:it={t:"n",v:st.read_shift(2)};break;case 3:it={t:"n",v:st.read_shift(2,"i")};break;case 4:it={t:"n",v:B_(st)};break;case 5:it={t:"n",v:st.read_shift(8,"f")};break;case 7:it={t:"s",v:be[$e=st.read_shift(4)-1]};break;case 8:it={t:"n",v:st.read_shift(8,"f")},st.l+=2,st.l+=4,isNaN(it.v)&&(it={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(qt&31)}Xt!=-1&&(lt[Xt-1]||{}).z&&(it.z=lt[Xt-1].z);var ur=0;if(qt&32)switch(qt&31){case 2:ur=st.read_shift(2);break;case 3:ur=st.read_shift(2,"i");break;case 7:ur=st.read_shift(2);break;default:throw"Unsupported delta for QPW cell type "+(qt&31)}if(!(!ee.sheetStubs&&it.t=="z")){var Ka=Un(it);it.t=="n"&&it.z&&hi(it.z)&&ee.cellDates&&(Ka.v=rl(it.v),Ka.t=typeof Ka.v=="number"?"n":"d"),ae["!data"]!=null?(ae["!data"][Ve]||(ae["!data"][Ve]=[]),ae["!data"][Ve][He]=Ka):ae[Bn+hn(Ve)]=Ka}for(++Ve,--Oe;Ht-- >0&&Oe>=0;){if(qt&32)switch(qt&31){case 2:it={t:"n",v:it.v+ur&65535};break;case 3:it={t:"n",v:it.v+ur&65535},it.v>32767&&(it.v-=65536);break;case 7:it={t:"s",v:be[$e=$e+ur>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(qt&31)}else switch(qt&31){case 1:it={t:"z"};break;case 2:it={t:"n",v:st.read_shift(2)};break;case 7:it={t:"s",v:be[$e=st.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(qt&31)}!ee.sheetStubs&&it.t=="z"||(ae["!data"]!=null?(ae["!data"][Ve]||(ae["!data"][Ve]=[]),ae["!data"][Ve][He]=it):ae[Bn+hn(Ve)]=it),++Ve,--Oe}}}break;case 3074:{He=st.read_shift(2),Ve=st.read_shift(4);var Da=ke(st);ae["!data"]!=null?(ae["!data"][Ve]||(ae["!data"][Ve]=[]),ae["!data"][Ve][He]={t:"s",v:Da}):ae[Zt(He)+hn(Ve)]={t:"s",v:Da}}break}G.l+=$t}return tt}return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}}();function XMe(t){var e={},n=t.match(qr),a=0,r=!1;if(n)for(;a!=n.length;++a){var s=yt(n[a]);switch(s[0].replace(/<\w*:/g,"<")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=xD[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(s[0].charCodeAt(1)!==47&&!r)throw new Error("Unrecognized rich format "+s[0])}}return e}var YMe=function(){function t(a){var r=Rr(a,"t");if(!r)return{t:"s",v:""};var s={t:"s",v:Cn(r[1])},i=Rr(a,"rPr");return i&&(s.s=XMe(i[1])),s}var e=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(r){return r.replace(e,"").split(n).map(t).filter(function(s){return s.v})}}(),ZMe=function(){var e=/(\r\n|\n)/g;function n(r,s,i){var o=[];r.u&&o.push("text-decoration: underline;"),r.uval&&o.push("text-underline-style:"+r.uval+";"),r.sz&&o.push("font-size:"+r.sz+"pt;"),r.outline&&o.push("text-effect: outline;"),r.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),r.b&&(s.push("<b>"),i.push("</b>")),r.i&&(s.push("<i>"),i.push("</i>")),r.strike&&(s.push("<s>"),i.push("</s>"));var c=r.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),r}function a(r){var s=[[],r.v,[]];return r.v?(r.s&&n(r.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(a).join("")}}(),QMe=/<(?:\w+:)?t\b[^<>]*>([^<]*)<\/(?:\w+:)?t>/g,JMe=/<(?:\w+:)?r\b[^<>]*>/;function VD(t,e){var n=e?e.cellHTML:!0,a={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=Cn(qn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||""),!0),a.r=qn(t),n&&(a.h=O0(a.t))):t.match(JMe)&&(a.r=qn(t),a.t=Cn(qn((OOe(t,"rPh").match(QMe)||[]).join("").replace(qr,"")),!0),n&&(a.h=ZMe(YMe(a.r)))),a):{t:""}}var e5e=/<(?:\w+:)?(?:si|sstItem)>/g,t5e=/<\/(?:\w+:)?(?:si|sstItem)>/;function n5e(t,e){var n=[],a="";if(!t)return n;var r=Rr(t,"sst");if(r){a=r[1].replace(e5e,"").split(t5e);for(var s=0;s!=a.length;++s){var i=VD(a[s].trim(),e);i!=null&&(n[n.length]=i)}r=yt(r[0].slice(0,r[0].indexOf(">"))),n.Count=r.count,n.Unique=r.uniqueCount}return n}var a5e=/^\s|\s$|[\t\n\r]/;function r5e(t,e){if(!e.bookSST)return"";var n=[Ua];n[n.length]=at("sst",null,{xmlns:zd[0],count:t.Count,uniqueCount:t.Unique});for(var a=0;a!=t.length;++a)if(t[a]!=null){var r=t[a],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),typeof r.t!="string"&&(r.t=String(r.t)),r.t.match(a5e)&&(s+=' xml:space="preserve"'),s+=">"+nn(r.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function s5e(t){return[t.read_shift(4),t.read_shift(4)]}function i5e(t,e){var n=[],a=!1;return Nl(t,function(s,i,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(i.T,!a||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function o5e(t,e){return e||(e=De(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var c5e=d$e;function l5e(t){var e=ds();je(e,159,o5e(t));for(var n=0;n<t.length;++n)je(e,19,c5e(t[n]));return je(e,160),e.end()}function UH(t){if(typeof rn<"u")return rn.utils.encode(hd,t);for(var e=[],n=t.split(""),a=0;a<n.length;++a)e[a]=n[a].charCodeAt(0);return e}function il(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function u5e(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=il(t,4),e.U=il(t,4),e.W=il(t,4),e}function f5e(t){for(var e=t.read_shift(4),n=t.l+e-4,a={},r=t.read_shift(4),s=[];r-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(a.name=t.read_shift(0,"lpp4"),a.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return a}function d5e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(f5e(t));return e}function p5e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function h5e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=il(t,4),e.U=il(t,4),e.W=il(t,4),e}function m5e(t){var e=h5e(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function WH(t,e){var n=t.l+e,a={};a.Flags=t.read_shift(4)&63,t.l+=4,a.AlgID=t.read_shift(4);var r=!1;switch(a.AlgID){case 26126:case 26127:case 26128:r=a.Flags==36;break;case 26625:r=a.Flags==4;break;case 0:r=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!r)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=t.read_shift(4),a.KeySize=t.read_shift(4),a.ProviderType=t.read_shift(4),t.l+=8,a.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,a}function VH(t,e){var n={},a=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,a),t.l=a,n}function g5e(t){var e=il(t);switch(e.Minor){case 2:return[e.Minor,y5e(t)];case 3:return[e.Minor,x5e()];case 4:return[e.Minor,v5e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function y5e(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),a=WH(t,n),r=VH(t,t.length-t.l);return{t:"Std",h:a,v:r}}function x5e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function v5e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),a={};return n.replace(qr,function(s){var i=yt(s);switch(ao(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){a[o]=i[o]});break;case"<dataIntegrity":a.encryptedHmacKey=i.encryptedHmacKey,a.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(i);break;default:throw i[0]}}),a}function k5e(t,e){var n={},a=n.EncryptionVersionInfo=il(t,4);if(e-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);n.Flags=t.read_shift(4),e-=4;var r=t.read_shift(4);return e-=4,n.EncryptionHeader=WH(t,r),e-=r,n.EncryptionVerifier=VH(t,e),n}function w5e(t){var e={},n=e.EncryptionVersionInfo=il(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function jD(t){var e=0,n,a=UH(t),r=a.length+1,s,i,o,c,l;for(n=Su(r),n[0]=a.length,s=1;s!=r;++s)n[s]=a[s-1];for(s=r-1;s>=0;--s)i=n[s],o=(e&16384)===0?0:1,c=e<<1&32767,l=o|c,e=l^i;return e^52811}var jH=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(i){return(i/2|i*128)&255},r=function(i,o){return a(i^o)},s=function(i){for(var o=e[i.length-1],c=104,l=i.length-1;l>=0;--l)for(var u=i[l],d=0;d!=7;++d)u&64&&(o^=n[c]),u*=2,--c;return o};return function(i){for(var o=UH(i),c=s(o),l=o.length,u=Su(16),d=0;d!=16;++d)u[d]=0;var h,m,y;for((l&1)===1&&(h=c>>8,u[l]=r(t[0],h),--l,h=c&255,m=o[o.length-1],u[l]=r(m,h));l>0;)--l,h=c>>8,u[l]=r(o[l],h),--l,h=c&255,u[l]=r(o[l],h);for(l=15,y=15-o.length;y>0;)h=c>>8,u[l]=r(t[y],h),--l,--y,h=c&255,u[l]=r(o[l],h),--l,--y;return u}}(),b5e=function(t,e,n,a,r){r||(r=e),a||(a=jH(t));var s,i;for(s=0;s!=e.length;++s)i=e[s],i^=a[n],i=(i>>5|i<<3)&255,r[s]=i,++n;return[r,n,a]},_5e=function(t){var e=0,n=jH(t);return function(a){var r=b5e("",a,e,n);return e=r[1],r[0]}};function A5e(t,e,n,a){var r={key:Oa(t),verificationBytes:Oa(t)};return n.password&&(r.verifier=jD(n.password)),a.valid=r.verificationBytes===r.verifier,a.valid&&(a.insitu=_5e(n.password)),r}function N5e(t,e,n){var a=n||{};return a.Info=t.read_shift(2),t.l-=2,a.Info===1?a.Data=w5e(t):a.Data=k5e(t,e),a}function S5e(t,e,n){var a={Type:n.biff>=8?t.read_shift(2):0};return a.Type?N5e(t,e-2,a):A5e(t,n.biff>=8?e:e-2,n,a),a}function T5e(t,e){switch(e.type){case"base64":return Cv(pi(t),e);case"binary":return Cv(t,e);case"buffer":return Cv(fn&&Buffer.isBuffer(t)?t.toString("binary"):xc(t),e);case"array":return Cv(gd(t),e)}throw new Error("Unrecognized type "+e.type)}function Cv(t,e){var n=e||{},a={},r=n.dense;r&&(a["!data"]=[]);var s=AD(t,"\\trowd","\\row");if(!s)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:s.length-1}},o=[];return s.forEach(function(c,l){r&&(o=a["!data"][l]=[]);for(var u=/\\[\w\-]+\b/g,d=0,h,m=-1,y=[];(h=u.exec(c))!=null;){var v=c.slice(d,u.lastIndex-h[0].length);switch(v.charCodeAt(0)==32&&(v=v.slice(1)),v.length&&y.push(v),h[0]){case"\\cell":if(++m,y.length){var x={v:y.join(""),t:"s"};x.v=="TRUE"||x.v=="FALSE"?(x.v=x.v=="TRUE",x.t="b"):isNaN(ui(x.v))?Pr[x.v]!=null&&(x.t="e",x.w=x.v,x.v=Pr[x.v]):(x.t="n",n.cellText!==!1&&(x.w=x.v),x.v=ui(x.v)),r?o[m]=x:a[pn({r:l,c:m})]=x}y=[];break;case"\\par":y.push(`
`);break}d=u.lastIndex}m>i.e.c&&(i.e.c=m)}),a["!ref"]=an(i),a}function E5e(t,e){var n=Vu(T5e(t,e),e);return n.bookType="rtf",n}function C5e(t,e){var n=["{\\rtf1\\ansi"];if(!t["!ref"])return n[0]+"}";for(var a=An(t["!ref"]),r,s=t["!data"]!=null,i=[],o=a.s.r;o<=a.e.r;++o){n.push("\\trowd\\trautofit1");for(var c=a.s.c;c<=a.e.c;++c)n.push("\\cellx"+(c+1));for(n.push("\\pard\\intbl"),s&&(i=t["!data"][o]||[]),c=a.s.c;c<=a.e.c;++c){var l=pn({r:o,c});if(r=s?i[c]:t[l],!r||r.v==null&&(!r.f||r.F)){n.push(" \\cell");continue}n.push(" "+(r.w||(vc(r),r.w)||"").replace(/[\r\n]/g,"\\par ")),n.push("\\cell")}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}function I5e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Og(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function D5e(t){var e=t[0]/255,n=t[1]/255,a=t[2]/255,r=Math.max(e,n,a),s=Math.min(e,n,a),i=r-s;if(i===0)return[0,0,e];var o=0,c=0,l=r+s;switch(c=i/(l>1?2-l:l),r){case e:o=((n-a)/i+6)%6;break;case n:o=(a-e)/i+2;break;case a:o=(e-n)/i+4;break}return[o/6,c,l/2]}function R5e(t){var e=t[0],n=t[1],a=t[2],r=n*2*(a<.5?a:1-a),s=a-r/2,i=[s,s,s],o=6*e,c;if(n!==0)switch(o|0){case 0:case 6:c=r*o,i[0]+=r,i[1]+=c;break;case 1:c=r*(2-o),i[0]+=c,i[1]+=r;break;case 2:c=r*(o-2),i[1]+=r,i[2]+=c;break;case 3:c=r*(4-o),i[1]+=c,i[2]+=r;break;case 4:c=r*(o-4),i[2]+=r,i[0]+=c;break;case 5:c=r*(6-o),i[2]+=c,i[0]+=r;break}for(var l=0;l!=3;++l)i[l]=Math.round(i[l]*255);return i}function fw(t,e){if(e===0)return t;var n=D5e(I5e(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Og(R5e(n))}var HH=6,P5e=15,F5e=1,os=HH;function Ih(t){return Math.floor((t+Math.round(128/os)/256)*os)}function $g(t){return Math.floor((t-5)/os*100+.5)/100}function dw(t){return Math.round((t*os+5)/os*256)/256}function eS(t){return dw($g(Ih(t)))}function HD(t){var e=Math.abs(t-eS(t)),n=os;if(e>.005)for(os=F5e;os<P5e;++os)Math.abs(t-eS(t))<=e&&(e=Math.abs(t-eS(t)),n=os);os=n}function gl(t){t.width?(t.wpx=Ih(t.width),t.wch=$g(t.wpx),t.MDW=os):t.wpx?(t.wch=$g(t.wpx),t.width=dw(t.wch),t.MDW=os):typeof t.wch=="number"&&(t.width=dw(t.wch),t.wpx=Ih(t.width),t.MDW=os),t.customWidth&&delete t.customWidth}var O5e=96,KH=O5e;function Lg(t){return t*96/KH}function Dh(t){return t*KH/96}var $5e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function L5e(t,e,n,a){e.Borders=[];var r={},s=!1;(t.match(qr)||[]).forEach(function(i){var o=yt(i);switch(ao(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":r={},o.diagonalUp&&(r.diagonalUp=jn(o.diagonalUp)),o.diagonalDown&&(r.diagonalDown=jn(o.diagonalDown)),e.Borders.push(r);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a&&a.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function M5e(t,e,n,a){e.Fills=[];var r={},s=!1;(t.match(qr)||[]).forEach(function(i){var o=yt(i);switch(ao(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":r={},e.Fills.push(r);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(r),r={};break;case"<patternFill":case"<patternFill>":o.patternType&&(r.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":r.bgColor||(r.bgColor={}),o.indexed&&(r.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(r.bgColor.theme=parseInt(o.theme,10)),o.tint&&(r.bgColor.tint=parseFloat(o.tint)),o.rgb&&(r.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":r.fgColor||(r.fgColor={}),o.theme&&(r.fgColor.theme=parseInt(o.theme,10)),o.tint&&(r.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(r.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a&&a.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function B5e(t,e,n,a){e.Fonts=[];var r={},s=!1;(t.match(qr)||[]).forEach(function(i){var o=yt(i);switch(ao(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(r),r={};break;case"<name":o.val&&(r.name=qn(o.val));break;case"<name/>":case"</name>":break;case"<b":r.bold=o.val?jn(o.val):1;break;case"<b/>":r.bold=1;break;case"</b>":case"</b":break;case"<i":r.italic=o.val?jn(o.val):1;break;case"<i/>":r.italic=1;break;case"</i>":case"</i":break;case"<u":switch(o.val){case"none":r.underline=0;break;case"single":r.underline=1;break;case"double":r.underline=2;break;case"singleAccounting":r.underline=33;break;case"doubleAccounting":r.underline=34;break}break;case"<u/>":r.underline=1;break;case"</u>":case"</u":break;case"<strike":r.strike=o.val?jn(o.val):1;break;case"<strike/>":r.strike=1;break;case"</strike>":case"</strike":break;case"<outline":r.outline=o.val?jn(o.val):1;break;case"<outline/>":r.outline=1;break;case"</outline>":case"</outline":break;case"<shadow":r.shadow=o.val?jn(o.val):1;break;case"<shadow/>":r.shadow=1;break;case"</shadow>":case"</shadow":break;case"<condense":r.condense=o.val?jn(o.val):1;break;case"<condense/>":r.condense=1;break;case"</condense>":case"</condense":break;case"<extend":r.extend=o.val?jn(o.val):1;break;case"<extend/>":r.extend=1;break;case"</extend>":case"</extend":break;case"<sz":o.val&&(r.sz=+o.val);break;case"<sz/>":case"</sz>":case"</sz":break;case"<vertAlign":o.val&&(r.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":case"</vertAlign":break;case"<family":o.val&&(r.family=parseInt(o.val,10));break;case"<family/>":case"</family>":case"</family":break;case"<scheme":o.val&&(r.scheme=o.val);break;case"<scheme/>":case"</scheme>":case"</scheme":break;case"<charset":if(o.val=="1")break;o.codepage=xD[parseInt(o.val,10)];break;case"<charset/>":case"</charset>":case"</charset":break;case"<color":if(r.color||(r.color={}),o.auto&&(r.color.auto=jn(o.auto)),o.rgb)r.color.rgb=o.rgb.slice(-6);else if(o.indexed){r.color.index=parseInt(o.indexed,10);var c=zf[r.color.index];r.color.index==81&&(c=zf[1]),c||(c=zf[1]),r.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(r.color.theme=parseInt(o.theme,10),o.tint&&(r.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(r.color.rgb=fw(n.themeElements.clrScheme[r.color.theme].rgb,r.color.tint||0)));break;case"<color/>":case"</color>":case"</color":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":case"</AlternateContent":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a&&a.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function z5e(t,e,n){e.NumberFmt=[];for(var a=pa(It),r=0;r<a.length;++r)e.NumberFmt[a[r]]=It[a[r]];var s=t.match(qr);if(s)for(r=0;r<s.length;++r){var i=yt(s[r]);switch(ao(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Cn(qn(i.formatCode)),c=parseInt(i.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}ou(o,c)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function G5e(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&(e[e.length]=at("numFmt",null,{numFmtId:a,formatCode:nn(t[a])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=at("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Iv=["numFmtId","fillId","fontId","borderId","xfId"],Dv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function U5e(t,e,n){e.CellXf=[];var a,r=!1;(t.match(qr)||[]).forEach(function(s){var i=yt(s),o=0;switch(ao(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":case"<xf>":for(a=i,delete a[0],o=0;o<Iv.length;++o)a[Iv[o]]&&(a[Iv[o]]=parseInt(a[Iv[o]],10));for(o=0;o<Dv.length;++o)a[Dv[o]]&&(a[Dv[o]]=jn(a[Dv[o]]));if(e.NumberFmt&&a.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[a.numFmtId]==e.NumberFmt[o]){a.numFmtId=o;break}}e.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":case"<alignment>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=jn(i.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":case"<protection>":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(n&&n.WTF&&!r)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function W5e(t){var e=[];return e[e.length]=at("cellXfs",null),t.forEach(function(n){e[e.length]=at("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=at("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var V5e=function(){return function(n,a,r){var s={};if(!n)return s;n=_D(R1(n,"<!--","-->"));var i;return(i=Rr(n,"numFmts"))&&z5e(i[0],s,r),(i=Rr(n,"fonts"))&&B5e(i[0],s,a,r),(i=Rr(n,"fills"))&&M5e(i[0],s,a,r),(i=Rr(n,"borders"))&&L5e(i[0],s,a,r),(i=Rr(n,"cellXfs"))&&U5e(i[0],s,r),s}}();function j5e(t,e){var n=[Ua,at("styleSheet",null,{xmlns:zd[0],"xmlns:vt":yr.vt})],a;return t.SSF&&(a=G5e(t.SSF))!=null&&(n[n.length]=a),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=W5e(e.cellXfs))&&(n[n.length]=a),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function H5e(t,e){var n=t.read_shift(2),a=ps(t);return[n,a]}function K5e(t,e,n){n||(n=De(6+4*e.length)),n.write_shift(2,t),kr(e,n);var a=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),a}function q5e(t,e,n){var a={};a.sz=t.read_shift(2)/20;var r=v$e(t);r.fItalic&&(a.italic=1),r.fCondense&&(a.condense=1),r.fExtend&&(a.extend=1),r.fShadow&&(a.shadow=1),r.fOutline&&(a.outline=1),r.fStrikeout&&(a.strike=1);var s=t.read_shift(2);switch(s===700&&(a.bold=1),t.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var i=t.read_shift(1);i!=0&&(a.underline=i);var o=t.read_shift(1);o>0&&(a.family=o);var c=t.read_shift(1);switch(c>0&&(a.charset=c),t.l++,a.color=x$e(t),t.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=ps(t),a}function X5e(t,e){e||(e=De(25+4*32)),e.write_shift(2,t.sz*20),k$e(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),cw(t.color,e);var a=0;return a=2,e.write_shift(1,a),kr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Y5e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],tS,Z5e=gs;function CM(t,e){e||(e=De(4*3+8*7+16*1)),tS||(tS=F_(Y5e));var n=tS[t.patternType];n==null&&(n=40),e.write_shift(4,n);var a=0;if(n!=40)for(cw({auto:1},e),cw({auto:1},e);a<12;++a)e.write_shift(4,0);else{for(;a<4;++a)e.write_shift(4,0);for(;a<12;++a)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Q5e(t,e){var n=t.l+e,a=t.read_shift(2),r=t.read_shift(2);return t.l=n,{ixfe:a,numFmtId:r}}function qH(t,e,n){n||(n=De(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var a=0;return n.write_shift(1,a),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function h0(t,e){return e||(e=De(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var J5e=gs;function eBe(t,e){return e||(e=De(51)),e.write_shift(1,0),h0(null,e),h0(null,e),h0(null,e),h0(null,e),h0(null,e),e.length>e.l?e.slice(0,e.l):e}function tBe(t,e){return e||(e=De(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Pg(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function nBe(t,e,n){var a=De(2052);return a.write_shift(4,t),Pg(e,a),Pg(n,a),a.length>a.l?a.slice(0,a.l):a}function aBe(t,e,n){var a={};a.NumberFmt=[];for(var r in It)a.NumberFmt[r]=It[r];a.CellXf=[],a.Fonts=[];var s=[],i=!1;return Nl(t,function(c,l,u){switch(u){case 44:a.NumberFmt[c[0]]=c[1],ou(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=fw(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(u),i=!0;break;case 38:s.pop(),i=!1;break;default:if(l.T>0)s.push(u);else if(l.T<0)s.pop();else if(!i||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),a}function rBe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var r=a[0];r<=a[1];++r)e[r]!=null&&++n}),n!=0&&(je(t,615,bo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var r=a[0];r<=a[1];++r)e[r]!=null&&je(t,44,K5e(r,e[r]))}),je(t,616))}}function sBe(t){var e=1;je(t,611,bo(e)),je(t,43,X5e({sz:12,color:{theme:1},name:"Calibri",family:2})),je(t,612)}function iBe(t){var e=2;je(t,603,bo(e)),je(t,45,CM({patternType:"none"})),je(t,45,CM({patternType:"gray125"})),je(t,604)}function oBe(t){var e=1;je(t,613,bo(e)),je(t,46,eBe()),je(t,614)}function cBe(t){var e=1;je(t,626,bo(e)),je(t,47,qH({numFmtId:0},65535)),je(t,627)}function lBe(t,e){je(t,617,bo(e.length)),e.forEach(function(n){je(t,47,qH(n,0))}),je(t,618)}function uBe(t){var e=1;je(t,619,bo(e)),je(t,48,tBe({xfId:0,name:"Normal"})),je(t,620)}function fBe(t){var e=0;je(t,505,bo(e)),je(t,506)}function dBe(t){var e=0;je(t,508,nBe(e,"TableStyleMedium9","PivotStyleMedium4")),je(t,509)}function pBe(t,e){var n=ds();return je(n,278),rBe(n,t.SSF),sBe(n),iBe(n),oBe(n),cBe(n),lBe(n,e.cellXfs),uBe(n),fBe(n),dBe(n),je(n,279),n.end()}var hBe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function mBe(t,e,n){e.themeElements.clrScheme=[];var a={};(t[0].match(qr)||[]).forEach(function(r){var s=yt(r);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=s.val;break;case"</a:srgbClr>":break;case"<a:sysClr":a.rgb=s.lastClr;break;case"</a:sysClr>":break;case"</a:dk1>":case"</a:lt1>":case"<a:dk1>":case"<a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[hBe.indexOf(s[0])]=a,a={}):a.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function gBe(t,e,n){e.themeElements={};var a;if(!(a=Bf(t,"a:clrScheme")))throw new Error("clrScheme not found in themeElements");if(mBe(a,e,n),!(a=Bf(t,"a:fontScheme")))throw new Error("fontScheme not found in themeElements");if(!(a=Bf(t,"a:fmtScheme")))throw new Error("fmtScheme not found in themeElements")}function XH(t,e){(!t||t.length===0)&&(t=KD());var n,a={};if(!(n=Bf(t,"a:themeElements")))throw new Error("themeElements not found in theme");return gBe(n[0],a,e),a.raw=t,a}function KD(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Ua];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function yBe(t,e,n){var a=t.l+e,r=t.read_shift(4);if(r!==124226){if(!n.cellStyles){t.l=a;return}var s=t.slice(t.l);t.l=a;var i;try{i=qj(s,{type:"array"})}catch{return}var o=Es(i,"theme/theme/theme1.xml",!0);if(o)return XH(o,n)}}function xBe(t){return t.read_shift(4)}function vBe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=kBe(t,4);break;case 2:e.xclrValue=IH(t);break;case 3:e.xclrValue=xBe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function kBe(t,e){return gs(t,e)}function wBe(t,e){return gs(t,e)}function bBe(t){var e=t.read_shift(2),n=t.read_shift(2)-4,a=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=vBe(t);break;case 6:a[1]=wBe(t,n);break;case 14:case 15:a[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return a}function _Be(t,e){var n=t.l+e;t.l+=2;var a=t.read_shift(2);t.l+=2;for(var r=t.read_shift(2),s=[];r-- >0;)s.push(bBe(t,n-t.l));return{ixfe:a,ext:s}}function ABe(t,e){e.forEach(function(n){n[0]})}function NBe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ps(t)}}function SBe(t){var e=De(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),kr(t.name,e),e.slice(0,e.l)}function TBe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function EBe(t){var e=De(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function CBe(t,e){var n=De(8+2*e.length);return n.write_shift(4,t),kr(e,n),n.slice(0,n.l)}function IBe(t){return t.l+=4,t.read_shift(4)!=0}function DBe(t,e){var n=De(8);return n.write_shift(4,t),n.write_shift(4,1),n}function RBe(t,e,n){var a={Types:[],Cell:[],Value:[]},r=n||{},s=[],i=!1,o=2;return Nl(t,function(c,l,u){switch(u){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(d){o==1?a.Cell.push({type:a.Types[d[0]-1].name,index:d[1]}):o==0&&a.Value.push({type:a.Types[d[0]-1].name,index:d[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(u),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!l.T){if(!i||r.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),a}function PBe(){var t=ds();return je(t,332),je(t,334,bo(1)),je(t,335,SBe({name:"XLDAPR",version:12e4,flags:3496657072})),je(t,336),je(t,339,CBe(1,"XLDAPR")),je(t,52),je(t,35,bo(514)),je(t,4096,bo(0)),je(t,4097,zi(1)),je(t,36),je(t,53),je(t,340),je(t,337,DBe(1)),je(t,51,EBe([[1,0]])),je(t,338),je(t,333),t.end()}function FBe(t,e,n){var a={Types:[],Cell:[],Value:[]};if(!t)return a;var r=!1,s=2,i;return t.replace(qr,function(o){var c=yt(o);switch(ao(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var l=0;l<a.Types.length;++l)a.Types[l].name==c.name&&(i=a.Types[l]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):s==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!r&&(n!=null&&n.WTF))throw new Error("unrecognized "+c[0]+" in metadata")}return o}),a}function OBe(){var t=[Ua];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function $Be(t){var e=[];if(!t)return e;var n=1;return(t.match(qr)||[]).forEach(function(a){var r=yt(a);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,e.push(r);break}}),e}function LBe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=pn(n);var a=t.read_shift(1);return a&2&&(e.l="1"),a&8&&(e.a="1"),e}function MBe(t,e,n){var a=[];return Nl(t,function(s,i,o){switch(o){case 63:a.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function BBe(t,e,n,a){if(!t)return t;var r=a||{},s=!1;Nl(t,function(o,c,l){switch(l){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||r.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}},r)}function zBe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^<>]*r:id="([^<>"]*)"/)||["",""])[1];return e["!id"][n].Target}function GBe(t,e,n){var a=0;(jj(t,"shape")||[]).forEach(function(r){var s="",i=!0,o=-1,c=-1,l=-1;switch(r.replace(qr,function(d,h){var m=yt(d);switch(ao(m[0])){case"<ClientData":m.ObjectType&&(s=m.ObjectType);break;case"<Visible":case"<Visible/>":i=!1;break;case"<Row":case"<Row>":o=h+d.length;break;case"</Row>":c=+r.slice(o,h).trim();break;case"<Column":case"<Column>":o=h+d.length;break;case"</Column>":l=+r.slice(o,h).trim();break}return""}),s){case"Note":var u=Ug(e,c>=0&&l>=0?pn({r:c,c:l}):n[a].ref);u.c&&(u.c.hidden=i),++a;break}})}function YH(t,e,n){var a=[21600,21600],r=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),s=[at("xml",null,{"xmlns:v":mr.v,"xmlns:o":mr.o,"xmlns:x":mr.x,"xmlns:mv":mr.mv}).replace(/\/>/,">"),at("o:shapelayout",at("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"})],i=65536*t,o=e||[];return o.length>0&&s.push(at("v:shapetype",[at("v:stroke",null,{joinstyle:"miter"}),at("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202",coordsize:a.join(","),"o:spt":202,path:r})),o.forEach(function(c){++i,s.push(UBe(c,i))}),s.push("</xml>"),s.join("")}function UBe(t,e,n){var a=Xn(t[0]),r={color2:"#BEFF82",type:"gradient"};r.type=="gradient"&&(r.angle="-180");var s=r.type=="gradient"?at("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,i=at("v:fill",s,r),o={on:"t",obscured:"t"};return["<v:shape"+xd({id:"_x0000_s"+e,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(t[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,at("v:shadow",null,o),at("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Wr("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Wr("x:AutoFill","False"),Wr("x:Row",String(a.r)),Wr("x:Column",String(a.c)),t[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"].join("")}function IM(t,e,n,a){var r=t["!data"]!=null,s;e.forEach(function(i){var o=Xn(i.ref);if(!(o.r<0||o.c<0)){if(r?(t["!data"][o.r]||(t["!data"][o.r]=[]),s=t["!data"][o.r][o.c]):s=t[i.ref],!s){s={t:"z"},r?t["!data"][o.r][o.c]=s:t[i.ref]=s;var c=An(t["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var l=an(c);t["!ref"]=l}s.c||(s.c=[]);var u={a:i.author,t:i.t,r:i.r,T:n};i.h&&(u.h=i.h);for(var d=s.c.length-1;d>=0;--d){if(!n&&s.c[d].T)return;n&&!s.c[d].T&&s.c.splice(d,1)}if(n&&a){for(d=0;d<a.length;++d)if(u.a==a[d].id){u.a=a[d].name||u.a;break}}s.c.push(u)}})}function WBe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],a=[],r=Rr(t,"authors");r&&r[1]&&r[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^<>]*>(.*)/);o&&n.push(o[1])}});var s=Rr(t,"commentList");return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^<>]*>/);if(o){var c=yt(o[0]),l={author:c.authorId&&n[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Xn(c.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var d=Rr(i,"text"),h=!!d&&!!d[1]&&VD(d[1])||{r:"",t:"",h:""};l.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),l.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(l.h=h.h),a.push(l)}}}}),a}function VBe(t){var e=[Ua,at("comments",null,{xmlns:zd[0]})],n=[];return e.push("<authors>"),t.forEach(function(a){a[1].forEach(function(r){var s=nn(r.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),r.T&&r.ID&&n.indexOf("tc="+r.ID)==-1&&(n.push("tc="+r.ID),e.push("<author>tc="+r.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(a){var r=0,s=[],i=0;if(a[1][0]&&a[1][0].T&&a[1][0].ID&&(r=n.indexOf("tc="+a[1][0].ID)),a[1].forEach(function(l){l.a&&(r=n.indexOf(nn(l.a))),l.T&&++i,s.push(l.t==null?"":nn(l.t))}),i===0)a[1].forEach(function(l){e.push('<comment ref="'+a[0]+'" authorId="'+n.indexOf(nn(l.a))+'"><text>'),e.push(Wr("t",l.t==null?"":nn(l.t))),e.push("</text></comment>")});else{a[1][0]&&a[1][0].T&&a[1][0].ID&&(r=n.indexOf("tc="+a[1][0].ID)),e.push('<comment ref="'+a[0]+'" authorId="'+r+'"><text>');for(var o=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)o+=`Reply:
    `+s[c]+`
`;e.push(Wr("t",nn(o))),e.push("</text></comment>")}}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function jBe(t,e){var n=[],a=!1,r={},s=0;return t.replace(qr,function(o,c){var l=yt(o);switch(ao(l[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":r={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":r.t!=null&&n.push(r);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":r.t=t.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return o}),n}function ZH(t,e,n){var a=[Ua,at("ThreadedComments",null,{xmlns:yr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(r){var s="";(r[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&e.indexOf(i.a)==-1&&e.push(i.a);var c={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=c.id:c.parentId=s,i.ID=c.id,i.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(i.a)).slice(-12)+"}"),a.push(at("threadedComment",Wr("text",i.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function HBe(t,e){var n=[],a=!1;return t.replace(qr,function(s){var i=yt(s);switch(ao(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&e.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),n}function QH(t){var e=[Ua,at("personList",null,{xmlns:yr.TCMNT,"xmlns:x":zd[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,a){e.push(at("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function KBe(t){var e={};e.iauthor=t.read_shift(4);var n=Vd(t);return e.rfx=n.s,e.ref=pn(n.s),t.l+=16,e}function qBe(t,e){return e==null&&(e=De(36)),e.write_shift(4,t[1].iauthor),fm(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var XBe=ps;function DM(t){return kr(t.slice(0,54))}function YBe(t,e){var n=[],a=[],r={},s=!1;return Nl(t,function(o,c,l){switch(l){case 632:a.push(o);break;case 635:r=o;break;case 637:r.t=o.t,r.h=o.h,r.r=o.r;break;case 636:if(r.author=a[r.iauthor],delete r.iauthor,e.sheetRows&&r.rfx&&e.sheetRows<=r.rfx.r)break;r.t||(r.t=""),delete r.rfx,n.push(r);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),n}function ZBe(t){var e=ds(),n=[];return je(e,628),je(e,630),t.forEach(function(a){a[1].forEach(function(r){n.indexOf(r.a)>-1||(n.push(r.a.slice(0,54)),je(e,632,DM(r.a)),r.T&&r.ID&&n.indexOf("tc="+r.ID)==-1&&(n.push("tc="+r.ID),je(e,632,DM("tc="+r.ID))))})}),je(e,631),je(e,633),t.forEach(function(a){a[1].forEach(function(r){var s=-1;r.ID&&(s=n.indexOf("tc="+r.ID)),s==-1&&a[1][0].T&&a[1][0].ID&&(s=n.indexOf("tc="+a[1][0].ID)),s==-1&&(s=n.indexOf(r.a)),r.iauthor=s;var i={s:Xn(a[0]),e:Xn(a[0])};je(e,635,qBe([i,r])),r.t&&r.t.length>0&&je(e,637,h$e(r)),je(e,636),delete r.iauthor})}),je(e,634),je(e,629),e.end()}var QBe="application/vnd.ms-office.vbaProject";function JBe(t){var e=Mt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,a){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var r=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Mt.utils.cfb_add(e,r,t.FileIndex[a].content)}}),Mt.write(e)}function e6e(t,e){e.FullPaths.forEach(function(n,a){if(a!=0){var r=n.replace(/^[\/]*[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&Mt.utils.cfb_add(t,r,e.FileIndex[a].content)}})}var t6e=["xlsb","xlsm","xlam","biff8","xla"];function n6e(){return{"!type":"dialog"}}function a6e(){return{"!type":"dialog"}}function r6e(){return{"!type":"macro"}}function s6e(){return{"!type":"macro"}}var Wf=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(a,r,s,i){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var l=s.length>0?parseInt(s,10)|0:0,u=i.length>0?parseInt(i,10)|0:0;return o?u+=e.c:--u,c?l+=e.r:--l,r+(o?"":"$")+Zt(u)+(c?"":"$")+hn(l)}return function(r,s){return e=s,r.replace(t,n)}}(),G_=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{G_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var O1=function(){return function(e,n){return e.replace(G_,function(a,r,s,i,o,c){var l=$D(i)-(s?0:n.c),u=OD(c)-(o?0:n.r),d=o=="$"?u+1:u==0?"":"["+u+"]",h=s=="$"?l+1:l==0?"":"["+l+"]";return r+"R"+d+"C"+h})}}();function JH(t,e){return t.replace(G_,function(n,a,r,s,i,o){return a+(r=="$"?r+s:Zt($D(s)+e.c))+(i=="$"?i+o:hn(OD(o)+e.r))})}function RM(t,e,n){var a=or(e),r=a.s,s=Xn(n),i={r:s.r-r.r,c:s.c-r.c};return JH(t,i)}function i6e(t){return t.length!=1}function PM(t){return t.replace(/_xlfn\./g,"")}function Za(t){t.l+=1}function Tu(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function eK(t,e,n){var a=2;if(n){if(n.biff>=2&&n.biff<=5)return tK(t);n.biff==12&&(a=4)}var r=t.read_shift(a),s=t.read_shift(a),i=Tu(t),o=Tu(t);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function tK(t){var e=Tu(t),n=Tu(t),a=t.read_shift(1),r=t.read_shift(1);return{s:{r:e[0],c:a,cRel:e[1],rRel:e[2]},e:{r:n[0],c:r,cRel:n[1],rRel:n[2]}}}function o6e(t,e,n){if(n.biff<8)return tK(t);var a=t.read_shift(n.biff==12?4:2),r=t.read_shift(n.biff==12?4:2),s=Tu(t),i=Tu(t);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:i[0],cRel:i[1],rRel:i[2]}}}function nK(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return c6e(t);var a=t.read_shift(n&&n.biff==12?4:2),r=Tu(t);return{r:a,c:r[0],cRel:r[1],rRel:r[2]}}function c6e(t){var e=Tu(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function l6e(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function u6e(t,e,n){var a=n&&n.biff?n.biff:8;if(a>=2&&a<=5)return f6e(t);var r=t.read_shift(a>=12?4:2),s=t.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;r>524287;)r-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r,c:s,cRel:i,rRel:o}}function f6e(t){var e=t.read_shift(2),n=t.read_shift(1),a=(e&32768)>>15,r=(e&16384)>>14;return e&=16383,a==1&&e>=8192&&(e=e-16384),r==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:r,rRel:a}}function d6e(t,e,n){var a=(t[t.l++]&96)>>5,r=eK(t,n.biff>=2&&n.biff<=5?6:8,n);return[a,r]}function p6e(t,e,n){var a=(t[t.l++]&96)>>5,r=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var i=eK(t,s,n);return[a,r,i]}function h6e(t,e,n){var a=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[a]}function m6e(t,e,n){var a=(t[t.l++]&96)>>5,r=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[a,r]}function g6e(t,e,n){var a=(t[t.l++]&96)>>5,r=o6e(t,e-1,n);return[a,r]}function y6e(t,e,n){var a=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[a]}function FM(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function x6e(t,e,n){t.l+=2;for(var a=t.read_shift(n&&n.biff==2?1:2),r=[],s=0;s<=a;++s)r.push(t.read_shift(n&&n.biff==2?1:2));return r}function v6e(t,e,n){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(n&&n.biff==2?1:2)]}function k6e(t,e,n){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(n&&n.biff==2?1:2)]}function w6e(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function b6e(t,e,n){var a=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[a]}function aK(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function _6e(t){return t.read_shift(2),aK(t)}function A6e(t){return t.read_shift(2),aK(t)}function N6e(t,e,n){var a=(t[t.l]&96)>>5;t.l+=1;var r=nK(t,0,n);return[a,r]}function S6e(t,e,n){var a=(t[t.l]&96)>>5;t.l+=1;var r=u6e(t,0,n);return[a,r]}function T6e(t,e,n){var a=(t[t.l]&96)>>5;t.l+=1;var r=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=nK(t,0,n);return[a,r,s]}function E6e(t,e,n){var a=(t[t.l]&96)>>5;t.l+=1;var r=t.read_shift(n&&n.biff<=3?1:2);return[U8e[r],iK[r],a]}function C6e(t,e,n){var a=t[t.l++],r=t.read_shift(1),s=n&&n.biff<=3?[a==88?-1:0,t.read_shift(1)]:I6e(t);return[r,(s[0]===0?iK:G8e)[s[1]]]}function I6e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function D6e(t,e,n){t.l+=n&&n.biff==2?3:4}function R6e(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var a=t.read_shift(2),r=t.read_shift(n&&n.biff==2?1:2);return[a,r]}function P6e(t){return t.l++,wr[t.read_shift(1)]}function F6e(t){return t.l++,t.read_shift(2)}function O6e(t){return t.l++,t.read_shift(1)!==0}function $6e(t){return t.l++,ls(t)}function L6e(t,e,n){return t.l++,Eh(t,e-1,n)}function M6e(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Va(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=wr[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=ls(t);break;case 2:n[1]=jd(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function B6e(t,e,n){for(var a=t.read_shift(n.biff==12?4:2),r=[],s=0;s!=a;++s)r.push((n.biff==12?Vd:z_)(t));return r}function z6e(t,e,n){var a=0,r=0;n.biff==12?(a=t.read_shift(4),r=t.read_shift(4)):(r=1+t.read_shift(1),a=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--a,--r==0&&(r=256));for(var s=0,i=[];s!=a&&(i[s]=[]);++s)for(var o=0;o!=r;++o)i[s][o]=M6e(t,n.biff);return i}function G6e(t,e,n){var a=t.read_shift(1)>>>5&3,r=!n||n.biff>=8?4:2,s=t.read_shift(r);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[a,0,s]}function U6e(t,e,n){if(n.biff==5)return W6e(t);var a=t.read_shift(1)>>>5&3,r=t.read_shift(2),s=t.read_shift(4);return[a,r,s]}function W6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var a=t.read_shift(2);return t.l+=12,[e,n,a]}function V6e(t,e,n){var a=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var r=t.read_shift(n&&n.biff==2?1:2);return[a,r]}function j6e(t,e,n){var a=t.read_shift(1)>>>5&3,r=t.read_shift(n&&n.biff==2?1:2);return[a,r]}function H6e(t,e,n){var a=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[a]}function K6e(t,e,n){var a=(t[t.l++]&96)>>5,r=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[a,r]}var q6e=gs,X6e=gs,Y6e=gs;function $1(t,e,n){return t.l+=2,[l6e(t)]}function qD(t){return t.l+=6,[]}var Z6e=$1,Q6e=qD,J6e=qD,e8e=$1;function rK(t){return t.l+=2,[Oa(t),t.read_shift(2)&1]}var t8e=$1,n8e=rK,a8e=qD,r8e=$1,s8e=$1,i8e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function o8e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(4),r=t.read_shift(2),s=t.read_shift(2),i=i8e[n>>2&31];return{ixti:e,coltype:n&3,rt:i,idx:a,c:r,C:s}}function c8e(t){return t.l+=2,[t.read_shift(4)]}function l8e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function u8e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function f8e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function d8e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function p8e(t){return t.l+=4,[0,0]}var OM={1:{n:"PtgExp",f:R6e},2:{n:"PtgTbl",f:Y6e},3:{n:"PtgAdd",f:Za},4:{n:"PtgSub",f:Za},5:{n:"PtgMul",f:Za},6:{n:"PtgDiv",f:Za},7:{n:"PtgPower",f:Za},8:{n:"PtgConcat",f:Za},9:{n:"PtgLt",f:Za},10:{n:"PtgLe",f:Za},11:{n:"PtgEq",f:Za},12:{n:"PtgGe",f:Za},13:{n:"PtgGt",f:Za},14:{n:"PtgNe",f:Za},15:{n:"PtgIsect",f:Za},16:{n:"PtgUnion",f:Za},17:{n:"PtgRange",f:Za},18:{n:"PtgUplus",f:Za},19:{n:"PtgUminus",f:Za},20:{n:"PtgPercent",f:Za},21:{n:"PtgParen",f:Za},22:{n:"PtgMissArg",f:Za},23:{n:"PtgStr",f:L6e},26:{n:"PtgSheet",f:l8e},27:{n:"PtgEndSheet",f:u8e},28:{n:"PtgErr",f:P6e},29:{n:"PtgBool",f:O6e},30:{n:"PtgInt",f:F6e},31:{n:"PtgNum",f:$6e},32:{n:"PtgArray",f:y6e},33:{n:"PtgFunc",f:E6e},34:{n:"PtgFuncVar",f:C6e},35:{n:"PtgName",f:G6e},36:{n:"PtgRef",f:N6e},37:{n:"PtgArea",f:d6e},38:{n:"PtgMemArea",f:V6e},39:{n:"PtgMemErr",f:q6e},40:{n:"PtgMemNoMem",f:X6e},41:{n:"PtgMemFunc",f:j6e},42:{n:"PtgRefErr",f:H6e},43:{n:"PtgAreaErr",f:h6e},44:{n:"PtgRefN",f:S6e},45:{n:"PtgAreaN",f:g6e},46:{n:"PtgMemAreaN",f:f8e},47:{n:"PtgMemNoMemN",f:d8e},57:{n:"PtgNameX",f:U6e},58:{n:"PtgRef3d",f:T6e},59:{n:"PtgArea3d",f:p6e},60:{n:"PtgRefErr3d",f:K6e},61:{n:"PtgAreaErr3d",f:m6e},255:{}},h8e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},m8e={1:{n:"PtgElfLel",f:rK},2:{n:"PtgElfRw",f:r8e},3:{n:"PtgElfCol",f:Z6e},6:{n:"PtgElfRwV",f:s8e},7:{n:"PtgElfColV",f:e8e},10:{n:"PtgElfRadical",f:t8e},11:{n:"PtgElfRadicalS",f:a8e},13:{n:"PtgElfColS",f:Q6e},15:{n:"PtgElfColSV",f:J6e},16:{n:"PtgElfRadicalLel",f:n8e},25:{n:"PtgList",f:o8e},29:{n:"PtgSxName",f:c8e},255:{}},g8e={0:{n:"PtgAttrNoop",f:p8e},1:{n:"PtgAttrSemi",f:b6e},2:{n:"PtgAttrIf",f:k6e},4:{n:"PtgAttrChoose",f:x6e},8:{n:"PtgAttrGoto",f:v6e},16:{n:"PtgAttrSum",f:D6e},32:{n:"PtgAttrBaxcel",f:FM},33:{n:"PtgAttrBaxcel",f:FM},64:{n:"PtgAttrSpace",f:_6e},65:{n:"PtgAttrSpaceSemi",f:A6e},128:{n:"PtgAttrIfError",f:w6e},255:{}};function L1(t,e,n,a){if(a.biff<8)return gs(t,e);for(var r=t.l+e,s=[],i=0;i!==n.length;++i)switch(n[i][0]){case"PtgArray":n[i][1]=z6e(t,0,a),s.push(n[i][1]);break;case"PtgMemArea":n[i][2]=B6e(t,n[i][1],a),s.push(n[i][2]);break;case"PtgExp":a&&a.biff==12&&(n[i][1][1]=t.read_shift(4),s.push(n[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[i][0]}return e=r-t.l,e!==0&&s.push(gs(t,e)),s}function M1(t,e,n){for(var a=t.l+e,r,s,i=[];a!=t.l;)e=a-t.l,s=t[t.l],r=OM[s]||OM[h8e[s]],(s===24||s===25)&&(r=(s===24?m8e:g8e)[t[t.l+1]]),!r||!r.f?gs(t,e):i.push([r.n,r.f(t,e,n)]);return i}function y8e(t){for(var e=[],n=0;n<t.length;++n){for(var a=t[n],r=[],s=0;s<a.length;++s){var i=a[s];if(i)switch(i[0]){case 2:r.push('"'+i[1].replace(/"/g,'""')+'"');break;default:r.push(i[1])}else r.push("")}e.push(r.join(","))}return e.join(";")}var x8e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function v8e(t,e){var n=t.lastIndexOf("!"),a=e.lastIndexOf("!");return n==-1&&a==-1?t+":"+e:n>0&&a>0&&t.slice(0,n).toLowerCase()==e.slice(0,a).toLowerCase()?t+":"+e.slice(a+1):(console.error("Cannot hydrate range",t,e),t+":"+e)}function sK(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var a=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!a)return"SH33TJSERR1";var r="";if(n.biff>8)switch(t[a[0]][0]){case 357:return r=a[1]==-1?"#REF":t.SheetNames[a[1]],a[1]==a[2]?r:r+":"+t.SheetNames[a[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[a[0]][0];case 355:default:return"SH33TJSSRC"+t[a[0]][0]}switch(t[a[0]][0][0]){case 1025:return r=a[1]==-1?"#REF":t.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?r:r+":"+t.SheetNames[a[2]];case 14849:return t[a[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[a[0]][0][3]?(r=a[1]==-1?"#REF":t[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?r:r+":"+t[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function $M(t,e,n){var a=sK(t,e,n);return a=="#REF"?a:Rg(a,n)}function rs(t,e,n,a,r){var s=r&&r.biff||8,i={s:{c:0,r:0}},o=[],c,l,u,d=0,h=0,m,y="";if(!t[0]||!t[0][0])return"";for(var v=-1,x="",k=0,b=t[0].length;k<b;++k){var _=t[0][k];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),l=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:x=Pn(" ",t[0][v][1][1]);break;case 1:x=Pn("\r",t[0][v][1][1]);break;default:if(x="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}l=l+x,v=-1}o.push(l+x8e[_[0]]+c);break;case"PtgIsect":c=o.pop(),l=o.pop(),o.push(l+" "+c);break;case"PtgUnion":c=o.pop(),l=o.pop(),o.push(l+","+c);break;case"PtgRange":c=o.pop(),l=o.pop(),o.push(v8e(l,c));break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=L0(_[1][1],i,r),o.push(M0(u,s));break;case"PtgRefN":u=n?L0(_[1][1],n,r):_[1][1],o.push(M0(u,s));break;case"PtgRef3d":d=_[1][1],u=L0(_[1][2],i,r),y=$M(a,d,r),o.push(y+"!"+M0(u,s));break;case"PtgFunc":case"PtgFuncVar":var A=_[1][0],S=_[1][1];A||(A=0),A&=127;var C=A==0?[]:o.slice(-A);o.length-=A,S==="User"&&(S=C.shift()),o.push(S+"("+C.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":m=lM(_[1][1],n?{s:n}:i,r),o.push(XN(m,r));break;case"PtgArea":m=lM(_[1][1],i,r),o.push(XN(m,r));break;case"PtgArea3d":d=_[1][1],m=_[1][2],y=$M(a,d,r),o.push(y+"!"+XN(m,r));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var E=(a.names||[])[h-1]||(a[0]||[])[h],D=E?E.Name:"SH33TJSNAME"+String(h);D&&D.slice(0,6)=="_xlfn."&&!r.xlfn&&(D=D.slice(6)),o.push(D);break;case"PtgNameX":var I=_[1][1];h=_[1][2];var P;if(r.biff<=5)I<0&&(I=-I),a[I]&&(P=a[I][h]);else{var R="";if(((a[I]||[])[0]||[])[0]==14849||(((a[I]||[])[0]||[])[0]==1025?a[I][h]&&a[I][h].itab>0&&(R=a.SheetNames[a[I][h].itab-1]+"!"):R=a.SheetNames[h-1]+"!"),a[I]&&a[I][h])R+=a[I][h].Name;else if(a[0]&&a[0][h])R+=a[0][h].Name;else{var B=(sK(a,I,r)||"").split(";;");B[h-1]?R=B[h-1]:R+="SH33TJSERRX"}o.push(R);break}P||(P={Name:"SH33TJSERRY"}),o.push(P.Name);break;case"PtgParen":var U="(",V=")";if(v>=0){switch(x="",t[0][v][1][0]){case 2:U=Pn(" ",t[0][v][1][1])+U;break;case 3:U=Pn("\r",t[0][v][1][1])+U;break;case 4:V=Pn(" ",t[0][v][1][1])+V;break;case 5:V=Pn("\r",t[0][v][1][1])+V;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(U+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var j={c:n.c,r:n.r};if(a.sharedf[pn(u)]){var W=a.sharedf[pn(u)];o.push(rs(W,i,j,a,r))}else{var J=!1;for(c=0;c!=a.arrayf.length;++c)if(l=a.arrayf[c],!(u.c<l[0].s.c||u.c>l[0].e.c)&&!(u.r<l[0].s.r||u.r>l[0].e.r)){o.push(rs(l[1],i,j,a,r)),J=!0;break}J||o.push(_[1])}break;case"PtgArray":o.push("{"+y8e(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&v>=0&&q.indexOf(t[0][k][0])==-1){_=t[0][v];var Z=!0;switch(_[1][0]){case 4:Z=!1;case 0:x=Pn(" ",_[1][1]);break;case 5:Z=!1;case 1:x=Pn("\r",_[1][1]);break;default:if(x="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((Z?x:"")+o.pop()+(Z?"":x)),v=-1}}if(o.length>1&&r.WTF)throw new Error("bad formula stack");return o[0]=="TRUE"?!0:o[0]=="FALSE"?!1:o[0]}function k8e(t,e,n){var a=t.l+e,r=n.biff==2?1:2,s,i=t.read_shift(r);if(i==65535)return[[],gs(t,e-2)];var o=M1(t,i,n);return e!==i+r&&(s=L1(t,e-i-r,o,n)),t.l=a,[o,s]}function w8e(t,e,n){var a=t.l+e,r=n.biff==2?1:2,s,i=t.read_shift(r);if(i==65535)return[[],gs(t,e-2)];var o=M1(t,i,n);return e!==i+r&&(s=L1(t,e-i-r,o,n)),t.l=a,[o,s]}function b8e(t,e,n,a){var r=t.l+e,s=M1(t,a,n),i;return r!==t.l&&(i=L1(t,r-t.l,s,n)),[s,i]}function _8e(t,e,n){var a=t.l+e,r,s=t.read_shift(2),i=M1(t,s,n);return s==65535?[[],gs(t,e-2)]:(e!==s+2&&(r=L1(t,a-s-2,i,n)),[i,r])}function A8e(t){var e;if(Jc(t,t.l+6)!==65535)return[ls(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function N8e(t){if(t==null){var e=De(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return vd(t);return vd(0)}function nS(t,e,n){var a=t.l+e,r=Lo(t,6,n),s=A8e(t),i=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=w8e(t,a-t.l,n);return{cell:r,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function S8e(t,e,n,a,r){var s=wd(e,n,r),i=N8e(t.v),o=De(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var l=De(t.bf.length),u=0;u<t.bf.length;++u)l[u]=t.bf[u];var d=ja([s,i,o,l]);return d}function U_(t,e,n){var a=t.read_shift(4),r=M1(t,a,n),s=t.read_shift(4),i=s>0?L1(t,s,r,n):null;return[r,i]}var T8e=U_,W_=U_,E8e=U_,C8e=U_;function LM(t){if((t|0)==t&&t<Math.pow(2,16)&&t>=0){var e=De(11);return e.write_shift(4,3),e.write_shift(1,30),e.write_shift(2,t),e.write_shift(4,0),e}var n=De(17);return n.write_shift(4,11),n.write_shift(1,31),n.write_shift(8,t),n.write_shift(4,0),n}function I8e(t){var e=De(10);return e.write_shift(4,2),e.write_shift(1,28),e.write_shift(1,t),e.write_shift(4,0),e}function D8e(t){var e=De(10);return e.write_shift(4,2),e.write_shift(1,29),e.write_shift(1,t?1:0),e.write_shift(4,0),e}function R8e(t){var e=De(7);e.write_shift(4,3+2*t.length),e.write_shift(1,23),e.write_shift(2,t.length);var n=De(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=De(4);return a.write_shift(4,0),ja([e,n,a])}function P8e(t){var e=Xn(t),n=De(15);return n.write_shift(4,7),n.write_shift(1,36),n.write_shift(4,e.r),n.write_shift(2,e.c|(t.charAt(0)=="$"?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),n}function F8e(t,e){var n=t.lastIndexOf("!"),a=t.slice(0,n);t=t.slice(n+1);var r=Xn(t);a.charAt(0)=="'"&&(a=a.slice(1,-1).replace(/''/g,"'"));var s=De(17);return s.write_shift(4,9),s.write_shift(1,58),s.write_shift(2,2+e.SheetNames.map(function(i){return i.toLowerCase()}).indexOf(a.toLowerCase())),s.write_shift(4,r.r),s.write_shift(2,r.c|(t.charAt(0)=="$"?0:1)<<14|(t.match(/\$\d/)?0:1)<<15),s.write_shift(4,0),s}function O8e(t,e){var n=t.lastIndexOf("!"),a=t.slice(0,n);t=t.slice(n+1),a.charAt(0)=="'"&&(a=a.slice(1,-1).replace(/''/g,"'"));var r=De(17);return r.write_shift(4,9),r.write_shift(1,60),r.write_shift(2,2+e.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(a.toLowerCase())),r.write_shift(4,0),r.write_shift(2,0),r.write_shift(4,0),r}function $8e(t){var e=t.split(":"),n=e[0],a=De(23);a.write_shift(4,15),n=e[0];var r=Xn(n);return a.write_shift(1,36),a.write_shift(4,r.r),a.write_shift(2,r.c|(n.charAt(0)=="$"?0:1)<<14|(n.match(/\$\d/)?0:1)<<15),a.write_shift(4,0),n=e[1],r=Xn(n),a.write_shift(1,36),a.write_shift(4,r.r),a.write_shift(2,r.c|(n.charAt(0)=="$"?0:1)<<14|(n.match(/\$\d/)?0:1)<<15),a.write_shift(4,0),a.write_shift(1,17),a.write_shift(4,0),a}function L8e(t,e){var n=t.lastIndexOf("!"),a=t.slice(0,n);t=t.slice(n+1),a.charAt(0)=="'"&&(a=a.slice(1,-1).replace(/''/g,"'"));var r=t.split(":"),s=De(27);s.write_shift(4,19);var i=r[0],o=Xn(i);return s.write_shift(1,58),s.write_shift(2,2+e.SheetNames.map(function(c){return c.toLowerCase()}).indexOf(a.toLowerCase())),s.write_shift(4,o.r),s.write_shift(2,o.c|(i.charAt(0)=="$"?0:1)<<14|(i.match(/\$\d/)?0:1)<<15),i=r[1],o=Xn(i),s.write_shift(1,58),s.write_shift(2,2+e.SheetNames.map(function(c){return c.toLowerCase()}).indexOf(a.toLowerCase())),s.write_shift(4,o.r),s.write_shift(2,o.c|(i.charAt(0)=="$"?0:1)<<14|(i.match(/\$\d/)?0:1)<<15),s.write_shift(1,17),s.write_shift(4,0),s}function M8e(t,e){var n=t.lastIndexOf("!"),a=t.slice(0,n);t=t.slice(n+1),a.charAt(0)=="'"&&(a=a.slice(1,-1).replace(/''/g,"'"));var r=or(t),s=De(23);return s.write_shift(4,15),s.write_shift(1,59),s.write_shift(2,2+e.SheetNames.map(function(i){return i.toLowerCase()}).indexOf(a.toLowerCase())),s.write_shift(4,r.s.r),s.write_shift(4,r.e.r),s.write_shift(2,r.s.c),s.write_shift(2,r.e.c),s.write_shift(4,0),s}function B8e(t,e){if(typeof t=="number")return LM(t);if(typeof t=="boolean")return D8e(t);if(/^#(DIV\/0!|GETTING_DATA|N\/A|NAME\?|NULL!|NUM!|REF!|VALUE!)$/.test(t))return I8e(+Pr[t]);if(t.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return P8e(t);if(t.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return $8e(t);if(t.match(/^#REF!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return M8e(t,e);if(t.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return F8e(t,e);if(t.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return L8e(t,e);if(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!#REF!$/.test(t))return O8e(t,e);if(/^".*"$/.test(t))return R8e(t);if(/^[+-]\d+$/.test(t))return LM(parseInt(t,10));throw"Formula |"+t+"| not supported for XLSB"}var z8e=B8e,G8e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},iK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},U8e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function MM(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\$'([^']|'')+'/g,function(e){return e.slice(1)}),t=t.replace(/\$([^\]\. #$]+)/g,function(e,n){return n.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?e:n}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function W8e(t){var e="of:="+t.replace(G_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function aS(t){t=t.replace(/\$'([^']|'')+'/g,function(a){return a.slice(1)}),t=t.replace(/\$([^\]\. #$]+)/g,function(a,r){return r.match(/^([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])?(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})?$/)?a:r});var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function oK(t){return t.replace(/!/,".").replace(/:/,":.")}var G0={},oh={},U0=typeof Map<"u";function XD(t,e,n){var a=0,r=t.length;if(n){if(U0?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=U0?n.get(e):n[e];a<s.length;++a)if(t[s[a]].t===e)return t.Count++,s[a]}}else for(;a<r;++a)if(t[a].t===e)return t.Count++,a;return t[r]={t:e},t.Count++,t.Unique++,n&&(U0?(n.has(e)||n.set(e,[]),n.get(e).push(r)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(r))),r}function B1(t,e){var n={min:t+1,max:t+1},a=-1;return e.MDW&&(os=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?a=$g(e.wpx):e.wch!=null&&(a=e.wch),a>-1?(n.width=dw(a),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function Vf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function kc(t,e,n){var a=n.revssf[e.z!=null?e.z:"General"],r=60,s=t.length;if(a==null&&n.ssf){for(;r<392;++r)if(n.ssf[r]==null){ou(e.z,r),n.ssf[r]=e.z,n.revssf[e.z]=a=r;break}}for(r=0;r!=s;++r)if(t[r].numFmtId===a)return r;return t[s]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function cK(t,e,n,a,r,s,i){try{a.cellNF&&(t.z=It[e])}catch(c){if(a.WTF)throw c}if(!(t.t==="z"&&!a.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=va(t.v)),(!a||a.cellText!==!1)&&t.t!=="z")try{if(It[e]==null&&ou(hOe[e]||"General",e),t.t==="e")t.w=t.w||wr[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ig(t.v);else if(t.t==="d"){var o=Ia(t.v,!!i);(o|0)===o?t.w=o.toString(10):t.w=Ig(o)}else{if(t.v===void 0)return"";t.w=md(t.v,oh)}else t.t==="d"?t.w=Zs(e,Ia(t.v,!!i),oh):t.w=Zs(e,t.v,oh)}catch(c){if(a.WTF)throw c}if(a.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=fw(r.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),a.WTF&&(t.s.fgColor.raw_rgb=r.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=fw(r.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),a.WTF&&(t.s.bgColor.raw_rgb=r.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(a.WTF&&s.Fills)throw c}}}function V8e(t,e,n){if(t&&t["!ref"]){var a=An(t["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function j8e(t,e){var n=An(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=an(n))}var H8e=/<(?:\w+:)?mergeCell ref=["'][A-Z0-9:]+['"]\s*[\/]?>/g,K8e=/<(?:\w+:)?hyperlink [^<>]*>/mg,q8e=/"(\w*:\w*)"/,X8e=/<(?:\w+:)?col\b[^<>]*[\/]?>/g,Y8e=/<(?:\w+:)?autoFilter[^>]*/g,Z8e=/<(?:\w+:)?pageMargins[^<>]*\/>/g,lK=/<(?:\w+:)?sheetPr\b[^<>]*?\/>/;function Q8e(t,e,n,a,r,s,i){if(!t)return t;a||(a={"!id":{}});var o={};e.dense&&(o["!data"]=[]);var c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",u="",d=Rr(t,"sheetData");d?(l=t.slice(0,d.index),u=t.slice(d.index+d[0].length)):l=u=t;var h=l.match(lK);h?YD(h[0],o,r,n):(h=Rr(l,"sheetPr"))&&eze(h[0],h[1]||"",o,r,n);var m=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=l.slice(m,m+50).match(q8e);y&&!(e&&e.nodim)&&j8e(o,y[1])}var v=Rr(l,"sheetViews");v&&v[1]&&pze(v[1],r);var x=[];if(e.cellStyles){var k=l.match(X8e);k&&cze(x,k)}d&&gze(d[1],o,e,c,s,i,r);var b=u.match(Y8e);b&&(o["!autofilter"]=uze(b[0]));var _=[],A=u.match(H8e);if(A)for(m=0;m!=A.length;++m)_[m]=An(A[m].slice(A[m].indexOf("=")+2));var S=u.match(K8e);S&&sze(o,S,a);var C=u.match(Z8e);C&&(o["!margins"]=ize(yt(C[0])));var E;if((E=u.match(/legacyDrawing r:id="(.*?)"/))&&(o["!legrel"]=E[1]),e&&e.nodim&&(c.s.c=c.s.r=0),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=an(c)),e.sheetRows>0&&o["!ref"]){var D=An(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>c.e.r&&(D.e.r=c.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>c.e.c&&(D.e.c=c.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=an(D))}return x.length>0&&(o["!cols"]=x),_.length>0&&(o["!merges"]=_),a["!id"][o["!legrel"]]&&(o["!legdrawel"]=a["!id"][o["!legrel"]]),o}function J8e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+an(t[n])+'"/>';return e+"</mergeCells>"}function YD(t,e,n,a){var r=yt(t);n.Sheets[a]||(n.Sheets[a]={}),r.codeName&&(n.Sheets[a].CodeName=Cn(qn(r.codeName)))}function eze(t,e,n,a,r){YD(t.slice(0,t.indexOf(">")),n,a,r)}function tze(t,e,n,a,r){var s=!1,i={},o=null;if(a.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[n];try{e.Workbook&&(c=e.Workbook.Sheets[n].CodeName||c)}catch{}s=!0,i.codeName=nc(nn(c))}if(t&&t["!outline"]){var l={summaryBelow:1,summaryRight:1};t["!outline"].above&&(l.summaryBelow=0),t["!outline"].left&&(l.summaryRight=0),o=(o||"")+at("outlinePr",null,l)}!s&&!o||(r[r.length]=at("sheetPr",o,i))}var nze=["objects","scenarios","selectLockedCells","selectUnlockedCells"],aze=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function rze(t){var e={sheet:1};return nze.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),aze.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=jD(t.password).toString(16).toUpperCase()),at("sheetProtection",null,e)}function sze(t,e,n){for(var a=t["!data"]!=null,r=0;r!=e.length;++r){var s=yt(qn(e[r]),!0);if(!s.ref)return;var i=((n||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Cn(s.location))):(s.Target="#"+Cn(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=An(s.ref),c=o.s.r;c<=o.e.r;++c)for(var l=o.s.c;l<=o.e.c;++l){var u=Zt(l)+hn(c);a?(t["!data"][c]||(t["!data"][c]=[]),t["!data"][c][l]||(t["!data"][c][l]={t:"z",v:void 0}),t["!data"][c][l].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function ize(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function oze(t){return Vf(t),at("pageMargins",null,t)}function cze(t,e){for(var n=!1,a=0;a!=e.length;++a){var r=yt(e[a],!0);r.hidden&&(r.hidden=jn(r.hidden));var s=parseInt(r.min,10)-1,i=parseInt(r.max,10)-1;for(r.outlineLevel&&(r.level=+r.outlineLevel||0),delete r.min,delete r.max,r.width=+r.width,!n&&r.width&&(n=!0,HD(r.width)),gl(r);s<=i;)t[s++]=Un(r)}}function lze(t,e){for(var n=["<cols>"],a,r=0;r!=e.length;++r)(a=e[r])&&(n[n.length]=at("col",null,B1(r,a)));return n[n.length]="</cols>",n.join("")}function uze(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function fze(t,e,n,a){var r=typeof t.ref=="string"?t.ref:an(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,i=or(r);i.s.r==i.e.r&&(i.e.r=or(e["!ref"]).e.r,r=an(i));for(var o=0;o<s.length;++o){var c=s[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref=Rg(n.SheetNames[a])+"!"+Th(r);break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+n.SheetNames[a]+"'!"+r}),at("autoFilter",null,{ref:r})}var dze=/<(?:\w:)?sheetView(?:[^<>a-z][^<>]*)?\/?>/g;function pze(t,e){e.Views||(e.Views=[{}]),(t.match(dze)||[]).forEach(function(n,a){var r=yt(n);e.Views[a]||(e.Views[a]={}),+r.zoomScale&&(e.Views[a].zoom=+r.zoomScale),r.rightToLeft&&jn(r.rightToLeft)&&(e.Views[a].RTL=!0)})}function hze(t,e,n,a){var r={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),at("sheetViews",at("sheetView",null,r),{})}function mze(t,e,n,a,r,s,i){if(t.c&&n["!comments"].push([e,t.c]),(t.v===void 0||t.t==="z"&&!(a||{}).sheetStubs)&&typeof t.f!="string"&&typeof t.z>"u")return"";var o="",c=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":o=t.v?"1":"0";break;case"n":isNaN(t.v)?(t.t="e",o=wr[t.v=36]):isFinite(t.v)?o=""+t.v:(t.t="e",o=wr[t.v=7]);break;case"e":o=wr[t.v];break;case"d":if(a&&a.cellDates){var u=va(t.v,i);o=u.toISOString(),u.getUTCFullYear()<1900&&(o=o.slice(o.indexOf("T")+1).replace("Z",""))}else t=Un(t),t.t="n",o=""+(t.v=Ia(va(t.v,i),i));typeof t.z>"u"&&(t.z=It[14]);break;default:o=t.v;break}var d=t.t=="z"||t.v==null?"":Wr("v",nn(o)),h={r:e},m=kc(a.cellXfs,t,a);switch(m!==0&&(h.s=m),t.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){d=Wr("v",""+XD(a.Strings,t.v,a.revStrings)),h.t="s";break}else h.t="str";break}if(t.t!=c&&(t.t=c,t.v=l),typeof t.f=="string"&&t.f){var y=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;d=at("f",nn(t.f),y)+(t.v!=null?d:"")}return t.l&&(t.l.display=nn(o),n["!links"].push([e,t.l])),t.D&&(h.cm=1),at("c",d,h)}var gze=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,a=/ref=["']([^"']*)["']/;return function(s,i,o,c,l,u,d){for(var h=0,m="",y=[],v=[],x=0,k=0,b=0,_="",A,S,C=0,E=0,D,I,P=0,R=0,B=Array.isArray(u.CellXf),U,V=[],j=[],W=i["!data"]!=null,J=[],q={},Z=!1,M=!!o.sheetStubs,se=!!((d||{}).WBProps||{}).date1904,ue=s.split(e),le=0,ie=ue.length;le!=ie;++le){m=ue[le].trim();var ye=m.length;if(ye!==0){var ke=0;e:for(h=0;h<ye;++h)switch(m[h]){case">":if(m[h-1]!="/"){++h;break e}if(o&&o.cellStyles){if(S=yt(m.slice(ke,h),!0),C=S.r!=null?parseInt(S.r,10):C+1,E=-1,o.sheetRows&&o.sheetRows<C)continue;q={},Z=!1,S.ht&&(Z=!0,q.hpt=parseFloat(S.ht),q.hpx=Dh(q.hpt)),S.hidden&&jn(S.hidden)&&(Z=!0,q.hidden=!0),S.outlineLevel!=null&&(Z=!0,q.level=+S.outlineLevel),Z&&(J[C-1]=q)}break;case"<":ke=h;break}if(ke>=h)break;if(S=yt(m.slice(ke,h),!0),C=S.r!=null?parseInt(S.r,10):C+1,E=-1,!(o.sheetRows&&o.sheetRows<C)){o.nodim||(c.s.r>C-1&&(c.s.r=C-1),c.e.r<C-1&&(c.e.r=C-1)),o&&o.cellStyles&&(q={},Z=!1,S.ht&&(Z=!0,q.hpt=parseFloat(S.ht),q.hpx=Dh(q.hpt)),S.hidden&&jn(S.hidden)&&(Z=!0,q.hidden=!0),S.outlineLevel!=null&&(Z=!0,q.level=+S.outlineLevel),Z&&(J[C-1]=q)),y=m.slice(h).split(t);for(var ge=0;ge!=y.length&&y[ge].trim().charAt(0)=="<";++ge);for(y=y.slice(ge),h=0;h!=y.length;++h)if(m=y[h].trim(),m.length!==0){if(v=m.match(n),x=h,k=0,b=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,v!=null&&v.length===2){for(x=0,_=v[1],k=0;k!=_.length&&!((b=_.charCodeAt(k)-64)<1||b>26);++k)x=26*x+b;--x,E=x}else++E;for(k=0;k!=m.length&&m.charCodeAt(k)!==62;++k);if(++k,S=yt(m.slice(0,k),!0),S.r||(S.r=pn({r:C-1,c:E})),_=m.slice(k),A={t:""},(v=Rr(_,"v"))!=null&&v[1]!==""&&(A.v=Cn(v[1])),o.cellFormula){if((v=Rr(_,"f"))!=null){if(v[1]=="")v[0].indexOf('t="shared"')>-1&&(I=yt(v[0]),j[I.si]&&(A.f=RM(j[I.si][1],j[I.si][2],S.r)));else if(A.f=Cn(qn(v[1]),!0),o.xlfn||(A.f=PM(A.f)),v[0].indexOf('t="array"')>-1)A.F=(_.match(a)||[])[1],A.F.indexOf(":")>-1&&V.push([An(A.F),A.F]);else if(v[0].indexOf('t="shared"')>-1){I=yt(v[0]);var G=Cn(qn(v[1]));o.xlfn||(G=PM(G)),j[parseInt(I.si,10)]=[I,G,S.r]}}else(v=_.match(/<f[^<>]*\/>/))&&(I=yt(v[0]),j[I.si]&&(A.f=RM(j[I.si][1],j[I.si][2],S.r)));var te=Xn(S.r);for(k=0;k<V.length;++k)te.r>=V[k][0].s.r&&te.r<=V[k][0].e.r&&te.c>=V[k][0].s.c&&te.c<=V[k][0].e.c&&(A.F=V[k][1])}if(S.t==null&&A.v===void 0)if(A.f||A.F)A.v=0,A.t="n";else if(M)A.t="z";else continue;else A.t=S.t||"n";switch(c.s.c>E&&(c.s.c=E),c.e.c<E&&(c.e.c=E),A.t){case"n":if(A.v==""||A.v==null){if(!M)continue;A.t="z"}else A.v=parseFloat(A.v);break;case"s":if(typeof A.v>"u"){if(!M)continue;A.t="z"}else D=G0[parseInt(A.v,10)],A.v=D.t,A.r=D.r,o.cellHTML&&(A.h=D.h);break;case"str":A.t="s",A.v=A.v!=null?Cn(qn(A.v),!0):"",o.cellHTML&&(A.h=O0(A.v));break;case"inlineStr":v=Rr(_,"is"),A.t="s",v!=null&&(D=VD(v[1]))?(A.v=D.t,o.cellHTML&&(A.h=D.h)):A.v="";break;case"b":A.v=jn(A.v);break;case"d":o.cellDates?A.v=va(A.v,se):(A.v=Ia(va(A.v,se),se),A.t="n");break;case"e":(!o||o.cellText!==!1)&&(A.w=A.v),A.v=Pr[A.v];break}if(P=R=0,U=null,B&&S.s!==void 0&&(U=u.CellXf[S.s],U!=null&&(U.numFmtId!=null&&(P=U.numFmtId),o.cellStyles&&U.fillId!=null&&(R=U.fillId))),cK(A,P,R,o,l,u,se),o.cellDates&&B&&A.t=="n"&&hi(It[P])&&(A.v=rl(A.v+(se?1462:0)),A.t=typeof A.v=="number"?"n":"d"),S.cm&&o.xlmeta){var ee=(o.xlmeta.Cell||[])[+S.cm-1];ee&&ee.type=="XLDAPR"&&(A.D=!0)}var ae;o.nodim&&(ae=Xn(S.r),c.s.r>ae.r&&(c.s.r=ae.r),c.e.r<ae.r&&(c.e.r=ae.r)),W?(ae=Xn(S.r),i["!data"][ae.r]||(i["!data"][ae.r]=[]),i["!data"][ae.r][ae.c]=A):i[S.r]=A}}}}J.length>0&&(i["!rows"]=J)}}();function yze(t,e,n,a){var r=[],s=[],i=An(t["!ref"]),o="",c,l="",u=[],d=0,h=0,m=t["!rows"],y=t["!data"]!=null,v=y?t["!data"]:[],x={r:l},k,b=-1,_=(((a||{}).Workbook||{}).WBProps||{}).date1904;for(h=i.s.c;h<=i.e.c;++h)u[h]=Zt(h);for(d=i.s.r;d<=i.e.r;++d){s=[],l=hn(d);var A=y?v[d]:[];for(h=i.s.c;h<=i.e.c;++h){c=u[h]+l;var S=y?A[h]:t[c];S!==void 0&&(o=mze(S,c,t,e,n,a,_))!=null&&s.push(o)}(s.length>0||m&&m[d])&&(x={r:l},m&&m[d]&&(k=m[d],k.hidden&&(x.hidden=1),b=-1,k.hpx?b=Lg(k.hpx):k.hpt&&(b=k.hpt),b>-1&&(x.ht=b,x.customHeight=1),k.level&&(x.outlineLevel=k.level)),r[r.length]=at("row",s.join(""),x))}if(m)for(;d<m.length;++d)m&&m[d]&&(x={r:d+1},k=m[d],k.hidden&&(x.hidden=1),b=-1,k.hpx?b=Lg(k.hpx):k.hpt&&(b=k.hpt),b>-1&&(x.ht=b,x.customHeight=1),k.level&&(x.outlineLevel=k.level),r[r.length]=at("row","",x));return r.join("")}function xze(t,e,n,a){var r=[Ua,at("worksheet",null,{xmlns:zd[0],"xmlns:r":yr.r})],s=n.SheetNames[t],i=0,o="",c=n.Sheets[s];c==null&&(c={});var l=c["!ref"]||"A1",u=An(l);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+l+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),l=an(u)}a||(a={}),c["!comments"]=[];var d=[];tze(c,n,t,e,r),r[r.length]=at("dimension",null,{ref:l}),r[r.length]=hze(c,e,t,n),e.sheetFormat&&(r[r.length]=at("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(r[r.length]=lze(c,c["!cols"])),r[i=r.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=yze(c,e,t,n),o.length>0&&(r[r.length]=o)),r.length>i+1&&(r[r.length]="</sheetData>",r[i]=r[i].replace("/>",">")),c["!protect"]&&(r[r.length]=rze(c["!protect"])),c["!autofilter"]!=null&&(r[r.length]=fze(c["!autofilter"],c,n,t)),c["!merges"]!=null&&c["!merges"].length>0&&(r[r.length]=J8e(c["!merges"]));var h=-1,m,y=-1;return c["!links"].length>0&&(r[r.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(m={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=Vn(a,-1,nn(v[1].Target).replace(/#[\s\S]*$/,""),dn.HLINK),m["r:id"]="rId"+y),(h=v[1].Target.indexOf("#"))>-1&&(m.location=nn(v[1].Target.slice(h+1))),v[1].Tooltip&&(m.tooltip=nn(v[1].Tooltip)),m.display=v[1].display,r[r.length]=at("hyperlink",null,m))}),r[r.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(r[r.length]=oze(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(r[r.length]=Wr("ignoredErrors",at("ignoredError",null,{numberStoredAsText:1,sqref:l}))),d.length>0&&(y=Vn(a,-1,"../drawings/drawing"+(t+1)+".xml",dn.DRAW),r[r.length]=at("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=d),c["!comments"].length>0&&(y=Vn(a,-1,"../drawings/vmlDrawing"+(t+1)+".vml",dn.VML),r[r.length]=at("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function vze(t,e){var n={},a=t.l+e;n.r=t.read_shift(4),t.l+=4;var r=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=a,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=r/20),n}function kze(t,e,n){var a=De(145),r=(n["!rows"]||[])[t]||{};a.write_shift(4,t),a.write_shift(4,0);var s=320;r.hpx?s=Lg(r.hpx)*20:r.hpt&&(s=r.hpt*20),a.write_shift(2,s),a.write_shift(1,0);var i=0;r.level&&(i|=r.level),r.hidden&&(i|=16),(r.hpx||r.hpt)&&(i|=32),a.write_shift(1,i),a.write_shift(1,0);var o=0,c=a.l;a.l+=4;for(var l={r:t,c:0},u=n["!data"]!=null,d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var h=-1,m=-1,y=d<<10;y<d+1<<10;++y){l.c=y;var v=u?(n["!data"][l.r]||[])[l.c]:n[pn(l)];v&&(h<0&&(h=y),m=y)}h<0||(++o,a.write_shift(4,h),a.write_shift(4,m))}var x=a.l;return a.l=c,a.write_shift(4,o),a.l=x,a.length>a.l?a.slice(0,a.l):a}function wze(t,e,n,a){var r=kze(a,n,e);(r.length>17||(e["!rows"]||[])[a])&&je(t,0,r)}var bze=Vd,_ze=fm;function Aze(){}function Nze(t,e){var n={},a=t[t.l];return++t.l,n.above=!(a&64),n.left=!(a&128),t.l+=18,n.name=m$e(t),n}function Sze(t,e,n){n==null&&(n=De(84+4*t.length));var a=192;e&&(e.above&&(a&=-65),e.left&&(a&=-129)),n.write_shift(1,a);for(var r=1;r<3;++r)n.write_shift(1,0);return cw({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),uH(t,n),n.slice(0,n.l)}function Tze(t){var e=ro(t);return[e]}function Eze(t,e,n){return n==null&&(n=De(8)),Gd(e,n)}function Cze(t){var e=Ud(t);return[e]}function Ize(t,e,n){return n==null&&(n=De(4)),Wd(e,n)}function Dze(t){var e=ro(t),n=t.read_shift(1);return[e,n,"b"]}function Rze(t,e,n){return n==null&&(n=De(9)),Gd(e,n),n.write_shift(1,t.v?1:0),n}function Pze(t){var e=Ud(t),n=t.read_shift(1);return[e,n,"b"]}function Fze(t,e,n){return n==null&&(n=De(5)),Wd(e,n),n.write_shift(1,t.v?1:0),n}function Oze(t){var e=ro(t),n=t.read_shift(1);return[e,n,"e"]}function rS(t,e,n){return n==null&&(n=De(9)),Gd(e,n),n.write_shift(1,t.v),n}function $ze(t){var e=Ud(t),n=t.read_shift(1);return[e,n,"e"]}function sS(t,e,n){return n==null&&(n=De(8)),Wd(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function Lze(t){var e=ro(t),n=t.read_shift(4);return[e,n,"s"]}function Mze(t,e,n){return n==null&&(n=De(12)),Gd(e,n),n.write_shift(4,e.v),n}function Bze(t){var e=Ud(t),n=t.read_shift(4);return[e,n,"s"]}function zze(t,e,n){return n==null&&(n=De(8)),Wd(e,n),n.write_shift(4,e.v),n}function Gze(t){var e=ro(t),n=ls(t);return[e,n,"n"]}function Uze(t,e,n){return n==null&&(n=De(16)),Gd(e,n),vd(t.v,n),n}function uK(t){var e=Ud(t),n=ls(t);return[e,n,"n"]}function Wze(t,e,n){return n==null&&(n=De(12)),Wd(e,n),vd(t.v,n),n}function Vze(t){var e=ro(t),n=B_(t);return[e,n,"n"]}function jze(t,e,n){return n==null&&(n=De(12)),Gd(e,n),fH(t.v,n),n}function Hze(t){var e=Ud(t),n=B_(t);return[e,n,"n"]}function Kze(t,e,n){return n==null&&(n=De(8)),Wd(e,n),fH(t.v,n),n}function qze(t){var e=ro(t),n=LD(t);return[e,n,"is"]}function Xze(t){var e=ro(t),n=ps(t);return[e,n,"str"]}function Yze(t,e,n){var a=t.v==null?"":String(t.v);return n==null&&(n=De(12+4*t.v.length)),Gd(e,n),kr(a,n),n.length>n.l?n.slice(0,n.l):n}function Zze(t){var e=Ud(t),n=ps(t);return[e,n,"str"]}function Qze(t,e,n){var a=t.v==null?"":String(t.v);return n==null&&(n=De(8+4*a.length)),Wd(e,n),kr(a,n),n.length>n.l?n.slice(0,n.l):n}function Jze(t,e,n){var a=t.l+e,r=ro(t);r.r=n["!row"];var s=t.read_shift(1),i=[r,s,"b"];if(n.cellFormula){t.l+=2;var o=W_(t,a-t.l,n);i[3]=rs(o,null,r,n.supbooks,n)}else t.l=a;return i}function eGe(t,e,n){var a=t.l+e,r=ro(t);r.r=n["!row"];var s=t.read_shift(1),i=[r,s,"e"];if(n.cellFormula){t.l+=2;var o=W_(t,a-t.l,n);i[3]=rs(o,null,r,n.supbooks,n)}else t.l=a;return i}function tGe(t,e,n){var a=t.l+e,r=ro(t);r.r=n["!row"];var s=ls(t),i=[r,s,"n"];if(n.cellFormula){t.l+=2;var o=W_(t,a-t.l,n);i[3]=rs(o,null,r,n.supbooks,n)}else t.l=a;return i}function nGe(t,e,n){var a=t.l+e,r=ro(t);r.r=n["!row"];var s=ps(t),i=[r,s,"str"];if(n.cellFormula){t.l+=2;var o=W_(t,a-t.l,n);i[3]=rs(o,null,r,n.supbooks,n)}else t.l=a;return i}var aGe=Vd,rGe=fm;function sGe(t,e){return e==null&&(e=De(4)),e.write_shift(4,t),e}function iGe(t,e){var n=t.l+e,a=Vd(t),r=M_(t),s=ps(t),i=ps(t),o=ps(t);t.l=n;var c={rfx:a,relId:r,loc:s,display:o};return i&&(c.Tooltip=i),c}function oGe(t,e){var n=De(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));fm({s:Xn(t[0]),e:Xn(t[0])},n),MD("rId"+e,n);var a=t[1].Target.indexOf("#"),r=a==-1?"":t[1].Target.slice(a+1);return kr(r||"",n),kr(t[1].Tooltip||"",n),kr("",n),n.slice(0,n.l)}function cGe(){}function lGe(t,e,n){var a=t.l+e,r=dH(t),s=t.read_shift(1),i=[r];if(i[2]=s,n.cellFormula){var o=T8e(t,a-t.l,n);i[1]=o}else t.l=a;return i}function uGe(t,e,n){var a=t.l+e,r=Vd(t),s=[r];if(n.cellFormula){var i=C8e(t,a-t.l,n);s[1]=i,t.l=a}else t.l=a;return s}function fGe(t,e,n){n==null&&(n=De(18));var a=B1(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(a.width||10)*256),n.write_shift(4,0);var r=0;return e.hidden&&(r|=1),typeof a.width=="number"&&(r|=2),e.level&&(r|=e.level<<8),n.write_shift(2,r),n}var fK=["left","right","top","bottom","header","footer"];function dGe(t){var e={};return fK.forEach(function(n){e[n]=ls(t)}),e}function pGe(t,e){return e==null&&(e=De(6*8)),Vf(t),fK.forEach(function(n){vd(t[n],e)}),e}function hGe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function mGe(t,e,n){n==null&&(n=De(30));var a=924;return(((e||{}).Views||[])[0]||{}).RTL&&(a|=32),n.write_shift(2,a),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function gGe(t){var e=De(24);return e.write_shift(4,4),e.write_shift(4,1),fm(t,e),e}function yGe(t,e){return e==null&&(e=De(16*4+2)),e.write_shift(2,t.password?jD(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function xGe(){}function vGe(){}function kGe(t,e,n,a,r,s,i){if(!t)return t;var o=e||{};a||(a={"!id":{}});var c={};o.dense&&(c["!data"]=[]);var l,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,h=!1,m,y,v,x,k,b,_,A,S,C=[];o.biff=12,o["!row"]=0;var E=0,D=!1,I=[],P={},R=o.supbooks||r.supbooks||[[]];if(R.sharedf=P,R.arrayf=I,R.SheetNames=r.SheetNames||r.Sheets.map(function(Z){return Z.name}),!o.supbooks&&(o.supbooks=R,r.Names))for(var B=0;B<r.Names.length;++B)R[0][B+1]=r.Names[B];var U=[],V=[],j=!1;Mg[16]={n:"BrtShortReal",f:uK};var W,J=1462*+!!((r||{}).WBProps||{}).date1904;if(Nl(t,function(M,se,ue){if(!h)switch(ue){case 148:l=M;break;case 0:m=M,o.sheetRows&&o.sheetRows<=m.r&&(h=!0),A=hn(x=m.r),o["!row"]=m.r,(M.hidden||M.hpt||M.level!=null)&&(M.hpt&&(M.hpx=Dh(M.hpt)),V[M.r]=M);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:M[2]},M[2]){case"n":y.v=M[1];break;case"s":_=G0[M[1]],y.v=_.t,y.r=_.r;break;case"b":y.v=!!M[1];break;case"e":y.v=M[1],o.cellText!==!1&&(y.w=wr[y.v]);break;case"str":y.t="s",y.v=M[1];break;case"is":y.t="s",y.v=M[1].t;break}if((v=i.CellXf[M[0].iStyleRef])&&cK(y,v.numFmtId,null,o,s,i,J>0),k=M[0].c==-1?k+1:M[0].c,o.dense?(c["!data"][x]||(c["!data"][x]=[]),c["!data"][x][k]=y):c[Zt(k)+A]=y,o.cellFormula){for(D=!1,E=0;E<I.length;++E){var le=I[E];m.r>=le[0].s.r&&m.r<=le[0].e.r&&k>=le[0].s.c&&k<=le[0].e.c&&(y.F=an(le[0]),D=!0)}!D&&M.length>3&&(y.f=M[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>k&&(u.s.c=k),u.e.r<m.r&&(u.e.r=m.r),u.e.c<k&&(u.e.c=k),o.cellDates&&v&&y.t=="n"&&hi(It[v.numFmtId])){var ie=Zo(y.v+J);ie&&(y.t="d",y.v=new Date(Date.UTC(ie.y,ie.m-1,ie.d,ie.H,ie.M,ie.S,ie.u)))}W&&(W.type=="XLDAPR"&&(y.D=!0),W=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;y={t:"z",v:void 0},k=M[0].c==-1?k+1:M[0].c,o.dense?(c["!data"][x]||(c["!data"][x]=[]),c["!data"][x][k]=y):c[Zt(k)+A]=y,u.s.r>m.r&&(u.s.r=m.r),u.s.c>k&&(u.s.c=k),u.e.r<m.r&&(u.e.r=m.r),u.e.c<k&&(u.e.c=k),W&&(W.type=="XLDAPR"&&(y.D=!0),W=void 0);break;case 176:C.push(M);break;case 49:W=((o.xlmeta||{}).Cell||[])[M-1];break;case 494:var ye=a["!id"][M.relId];for(ye?(M.Target=ye.Target,M.loc&&(M.Target+="#"+M.loc),M.Rel=ye):M.relId==""&&(M.Target="#"+M.loc),x=M.rfx.s.r;x<=M.rfx.e.r;++x)for(k=M.rfx.s.c;k<=M.rfx.e.c;++k)o.dense?(c["!data"][x]||(c["!data"][x]=[]),c["!data"][x][k]||(c["!data"][x][k]={t:"z",v:void 0}),c["!data"][x][k].l=M):(b=Zt(k)+hn(x),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=M);break;case 426:if(!o.cellFormula)break;I.push(M),S=o.dense?c["!data"][x][k]:c[Zt(k)+A],S.f=rs(M[1],u,{r:m.r,c:k},R,o),S.F=an(M[0]);break;case 427:if(!o.cellFormula)break;P[pn(M[0].s)]=M[1],S=o.dense?c["!data"][x][k]:c[Zt(k)+A],S.f=rs(M[1],u,{r:m.r,c:k},R,o);break;case 60:if(!o.cellStyles)break;for(;M.e>=M.s;)U[M.e--]={width:M.w/256,hidden:!!(M.flags&1),level:M.level},j||(j=!0,HD(M.w/256)),gl(U[M.e+1]);break;case 551:M&&(c["!legrel"]=M);break;case 161:c["!autofilter"]={ref:an(M)};break;case 476:c["!margins"]=M;break;case 147:r.Sheets[n]||(r.Sheets[n]={}),M.name&&(r.Sheets[n].CodeName=M.name),(M.above||M.left)&&(c["!outline"]={above:M.above,left:M.left});break;case 137:r.Views||(r.Views=[{}]),r.Views[0]||(r.Views[0]={}),M.RTL&&(r.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!se.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+ue.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(u.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(c["!ref"]=an(l||u)),o.sheetRows&&c["!ref"]){var q=An(c["!ref"]);o.sheetRows<=+q.e.r&&(q.e.r=o.sheetRows-1,q.e.r>u.e.r&&(q.e.r=u.e.r),q.e.r<q.s.r&&(q.s.r=q.e.r),q.e.c>u.e.c&&(q.e.c=u.e.c),q.e.c<q.s.c&&(q.s.c=q.e.c),c["!fullref"]=c["!ref"],c["!ref"]=an(q))}return C.length>0&&(c["!merges"]=C),U.length>0&&(c["!cols"]=U),V.length>0&&(c["!rows"]=V),a["!id"][c["!legrel"]]&&(c["!legdrawel"]=a["!id"][c["!legrel"]]),c}function wGe(t,e,n,a,r,s,i,o){var c={r:n,c:a};if(e.c&&s["!comments"].push([pn(c),e.c]),e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=Un(e),e.z=e.z||It[14],e.v=Ia(va(e.v,o),o),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}switch(c.s=kc(r.cellXfs,e,r),e.l&&s["!links"].push([pn(c),e.l]),e.t){case"s":case"str":return r.bookSST?(l=XD(r.Strings,e.v==null?"":String(e.v),r.revStrings),c.t="s",c.v=l,i?je(t,18,zze(e,c)):je(t,7,Mze(e,c))):(c.t="str",i?je(t,17,Qze(e,c)):je(t,6,Yze(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?i?je(t,13,Kze(e,c)):je(t,2,jze(e,c)):isFinite(e.v)?i?je(t,16,Wze(e,c)):je(t,5,Uze(e,c)):(c.t="e",isNaN(e.v)?i?je(t,14,sS({v:36},c)):je(t,3,rS({v:36},c)):i?je(t,14,sS({v:7},c)):je(t,3,rS({v:7},c))),!0;case"b":return c.t="b",i?je(t,15,Fze(e,c)):je(t,4,Rze(e,c)),!0;case"e":return c.t="e",i?je(t,14,sS(e,c)):je(t,3,rS(e,c)),!0}return i?je(t,12,Ize(e,c)):je(t,1,Eze(e,c)),!0}function bGe(t,e,n,a,r){var s=An(e["!ref"]||"A1"),i="",o=[],c=(((r||{}).Workbook||{}).WBProps||{}).date1904;je(t,145);var l=e["!data"]!=null,u=l?e["!data"][s.s.r]:[],d=s.e.r;e["!rows"]&&(d=Math.max(s.e.r,e["!rows"].length-1));for(var h=s.s.r;h<=d;++h)if(i=hn(h),l&&(u=e["!data"][h]),wze(t,e,s,h),!(l&&!u)){var m=!1;if(h<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){h===s.s.r&&(o[y]=Zt(y));var v=l?u[y]:e[o[y]+i];if(!v){m=!1;continue}m=wGe(t,v,h,y,a,e,m,c)}}je(t,146)}function _Ge(t,e){!e||!e["!merges"]||(je(t,177,sGe(e["!merges"].length)),e["!merges"].forEach(function(n){je(t,176,rGe(n))}),je(t,178))}function AGe(t,e){!e||!e["!cols"]||(je(t,390),e["!cols"].forEach(function(n,a){n&&je(t,60,fGe(a,n))}),je(t,391))}function NGe(t,e){!e||!e["!ref"]||(je(t,648),je(t,649,gGe(An(e["!ref"]))),je(t,650))}function SGe(t,e,n){e["!links"].forEach(function(a){if(a[1].Target){var r=Vn(n,-1,a[1].Target.replace(/#[\s\S]*$/,""),dn.HLINK);je(t,494,oGe(a,r))}}),delete e["!links"]}function TGe(t,e,n,a){if(e["!comments"].length>0){var r=Vn(a,-1,"../drawings/vmlDrawing"+(n+1)+".vml",dn.VML);je(t,551,MD("rId"+r)),e["!legacy"]=r}}function EGe(t,e,n,a){if(e["!autofilter"]){var r=e["!autofilter"],s=typeof r.ref=="string"?r.ref:an(r.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=or(s);o.s.r==o.e.r&&(o.e.r=or(e["!ref"]).e.r,s=an(o));for(var c=0;c<i.length;++c){var l=i[c];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==a){l.Ref=Rg(n.SheetNames[a])+"!"+Th(s);break}}c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:Rg(n.SheetNames[a])+"!"+Th(s)}),je(t,161,fm(An(s))),je(t,162)}}function CGe(t,e,n){je(t,133),je(t,137,mGe(e,n)),je(t,138),je(t,134)}function IGe(t,e){e["!protect"]&&je(t,535,yGe(e["!protect"]))}function DGe(t,e,n,a){var r=ds(),s=n.SheetNames[t],i=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var c=An(i["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],je(r,129),(n.vbaraw||i["!outline"])&&je(r,147,Sze(o,i["!outline"])),je(r,148,_ze(c)),CGe(r,i,n.Workbook),AGe(r,i),bGe(r,i,t,e,n),IGe(r,i),EGe(r,i,n,t),_Ge(r,i),SGe(r,i,a),i["!margins"]&&je(r,476,pGe(i["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&NGe(r,i),TGe(r,i,t,a),je(r,130),r.end()}function RGe(t){var e=[],n=t.match(/^<c:numCache>/),a;(t.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<])<\/c:v><\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*)"[^<>\/]*><c:v>([^<]*)<\/c:v><\/c:pt>/);i&&(e[+i[1]]=n?+i[2]:i[2])});var r=Cn((Bf(t,"c:formatCode")||["","General"])[1]);return(AD(t,"<c:f>","</c:f>")||[]).forEach(function(s){a=s.replace(/<[^<>]*>/g,"")}),[e,r,a]}function PGe(t,e,n,a,r,s){var i=s||{"!type":"chart"};if(!t)return s;var o=0,c=0,l="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(AD(t,"<c:numCache>","</c:numCache>")||[]).forEach(function(d){var h=RGe(d);u.s.r=u.s.c=0,u.e.c=o,l=Zt(o),h[0].forEach(function(m,y){i["!data"]?(i["!data"][y]||(i["!data"][y]=[]),i["!data"][y][o]={t:"n",v:m,z:h[1]}):i[l+hn(y)]={t:"n",v:m,z:h[1]},c=y}),u.e.r<c&&(u.e.r=c),++o}),o>0&&(i["!ref"]=an(u)),i}function FGe(t,e,n,a,r){if(!t)return t;a||(a={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=t.match(lK);return o&&YD(o[0],s,r,n),(i=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),a["!id"][s["!rel"]]&&(s["!drawel"]=a["!id"][s["!rel"]]),s}function OGe(t,e){t.l+=10;var n=ps(t);return{name:n}}function $Ge(t,e,n,a,r){if(!t)return t;a||(a={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Nl(t,function(c,l,u){switch(u){case 550:s["!rel"]=c;break;case 651:r.Sheets[n]||(r.Sheets[n]={}),c.name&&(r.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(l.T>0)){if(!(l.T<0)){if(!i||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),a["!id"][s["!rel"]]&&(s["!drawel"]=a["!id"][s["!rel"]]),s}var ZD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],LGe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],MGe=[],BGe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function BM(t,e){for(var n=0;n!=t.length;++n)for(var a=t[n],r=0;r!=e.length;++r){var s=e[r];if(a[s[0]]==null)a[s[0]]=s[1];else switch(s[2]){case"bool":typeof a[s[0]]=="string"&&(a[s[0]]=jn(a[s[0]]));break;case"int":typeof a[s[0]]=="string"&&(a[s[0]]=parseInt(a[s[0]],10));break}}}function zM(t,e){for(var n=0;n!=e.length;++n){var a=e[n];if(t[a[0]]==null)t[a[0]]=a[1];else switch(a[2]){case"bool":typeof t[a[0]]=="string"&&(t[a[0]]=jn(t[a[0]]));break;case"int":typeof t[a[0]]=="string"&&(t[a[0]]=parseInt(t[a[0]],10));break}}}function dK(t){zM(t.WBProps,ZD),zM(t.CalcPr,BGe),BM(t.WBView,LGe),BM(t.Sheets,MGe),oh.date1904=jn(t.WBProps.date1904)}function zGe(t){return!t.Workbook||!t.Workbook.WBProps?"false":jn(t.Workbook.WBProps.date1904)?"true":"false"}var GGe=":][*?/\\".split("");function pK(t,e){try{if(t=="")throw new Error("Sheet name cannot be blank");if(t.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(t.charCodeAt(0)==39||t.charCodeAt(t.length-1)==39)throw new Error("Sheet name cannot start or end with apostrophe (')");if(t.toLowerCase()=="history")throw new Error("Sheet name cannot be 'History'");GGe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(n){throw n}return!0}function UGe(t,e,n){t.forEach(function(a,r){pK(a);for(var s=0;s<r;++s)if(a==t[s])throw new Error("Duplicate Sheet Name: "+a);if(n){var i=e&&e[r]&&e[r].CodeName||a;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function hK(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];UGe(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)V8e(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n);t.SheetNames.forEach(function(a,r){var s=t.Sheets[a];if(!(!s||!s["!autofilter"])){var i;t.Workbook||(t.Workbook={}),t.Workbook.Names||(t.Workbook.Names=[]),t.Workbook.Names.forEach(function(c){c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r&&(i=c)});var o=Rg(a)+"!"+Th(s["!autofilter"].ref);i?i.Ref=o:t.Workbook.Names.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:o})}})}var WGe=/<\w+:workbook/;function VGe(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,r="xmlns",s={},i=0;if(t.replace(qr,function(c,l){var u=yt(c);switch(ao(u[0])){case"<?xml":break;case"<workbook":c.match(WGe)&&(r="xmlns"+c.match(/<(\w+):/)[1]),n.xmlns=u[r];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":ZD.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":n.WBProps[d[0]]=jn(u[d[0]]);break;case"int":n.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:n.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(n.WBProps.CodeName=qn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Cn(qn(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":s={},s.Name=qn(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),jn(u.hidden||"0")&&(s.Hidden=!0),i=l+c.length;break;case"</definedName>":s.Ref=Cn(qn(t.slice(i,l))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),zd.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return dK(n),n}function jGe(t){var e=[Ua];e[e.length]=at("workbook",null,{xmlns:zd[0],"xmlns:r":yr.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(ZD.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(a.codeName=t.Workbook.WBProps.CodeName,delete a.CodeName)),e[e.length]=at("workbookPr",null,a);var r=t.Workbook&&t.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!r[s]||!r[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var i={name:nn(t.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}e[e.length]=at("sheet",null,i)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(e[e.length]=at("definedName",nn(o.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function HGe(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=ZT(t),n.name=ps(t),n}function KGe(t,e){return e||(e=De(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),MD(t.strRelID,e),kr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function qGe(t,e){var n={},a=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var r=e>8?ps(t):"";return r.length>0&&(n.CodeName=r),n.autoCompressPictures=!!(a&65536),n.backupFile=!!(a&64),n.checkCompatibility=!!(a&4096),n.date1904=!!(a&1),n.filterPrivacy=!!(a&8),n.hidePivotFieldList=!!(a&1024),n.promptedSolutions=!!(a&16),n.publishItems=!!(a&2048),n.refreshAllConnections=!!(a&262144),n.saveExternalLinkValues=!!(a&128),n.showBorderUnselectedTables=!!(a&4),n.showInkAnnotation=!!(a&32),n.showObjects=["all","placeholders","none"][a>>13&3],n.showPivotChartFilter=!!(a&32768),n.updateLinks=["userSet","never","always"][a>>8&3],n}function XGe(t,e){e||(e=De(72));var n=0;return t&&(t.date1904&&(n|=1),t.filterPrivacy&&(n|=8)),e.write_shift(4,n),e.write_shift(4,0),uH(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function YGe(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function ZGe(t,e,n){var a=t.l+e,r=t.read_shift(4);t.l+=1;var s=t.read_shift(4),i=g$e(t),o,c="";try{o=E8e(t,0,n);try{c=M_(t)}catch{}}catch{console.error("Could not parse defined name "+i)}r&32&&(i="_xlnm."+i),t.l=a;var l={Name:i,Ptg:o,Flags:r};return s<268435455&&(l.Sheet=s),c&&(l.Comment=c),l}function QGe(t,e){var n=De(9),a=0,r=t.Name;zD.indexOf(r)>-1&&(a|=32,r=r.slice(6)),n.write_shift(4,a),n.write_shift(1,0),n.write_shift(4,t.Sheet==null?4294967295:t.Sheet);var s=[n,kr(r),z8e(t.Ref,e)];if(t.Comment)s.push(Pg(t.Comment));else{var i=De(4);i.write_shift(4,4294967295),s.push(i)}return ja(s)}function JGe(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],r=!1;e||(e={}),e.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],Mg[16]={n:"BrtFRTArchID$",f:YGe},Nl(t,function(c,l,u){switch(u){case 156:i.SheetNames.push(c.name),n.Sheets.push(c);break;case 153:n.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=c.Ptg?rs(c.Ptg,null,null,i,e):"#REF!",delete e.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([u,c]):i[0]=[u,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(u),r=!0;break;case 36:a.pop(),r=!1;break;case 37:a.push(u),r=!0;break;case 38:a.pop(),r=!1;break;case 16:break;default:if(!l.T){if(!r||e.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),dK(n),n.Names=s,n.supbooks=i,n}function eUe(t,e){je(t,143);for(var n=0;n!=e.SheetNames.length;++n){var a=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,r={Hidden:a,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};je(t,156,KGe(r))}je(t,144)}function tUe(t,e){e||(e=De(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return kr("SheetJS",e),kr(ew.version,e),kr(ew.version,e),kr("7262",e),e.length>e.l?e.slice(0,e.l):e}function nUe(t,e){e||(e=De(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function aUe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,a=0,r=-1,s=-1;a<n.length;++a)!n[a]||!n[a].Hidden&&r==-1?r=a:n[a].Hidden==1&&s==-1&&(s=a);s>r||(je(t,135),je(t,158,nUe(r)),je(t,136))}}function rUe(t,e){!e.Workbook||!e.Workbook.Names||e.Workbook.Names.forEach(function(n){try{if(n.Flags&14)return;je(t,39,QGe(n,e))}catch{console.error("Could not serialize defined name "+JSON.stringify(n))}})}function sUe(t){var e=t.SheetNames.length,n=De(12*e+28);n.write_shift(4,e+2),n.write_shift(4,0),n.write_shift(4,-2),n.write_shift(4,-2),n.write_shift(4,0),n.write_shift(4,-1),n.write_shift(4,-1);for(var a=0;a<e;++a)n.write_shift(4,0),n.write_shift(4,a),n.write_shift(4,a);return n}function iUe(t,e){je(t,353),je(t,357),je(t,362,sUe(e)),je(t,354)}function oUe(t,e){var n=ds();return je(n,131),je(n,128,tUe()),je(n,153,XGe(t.Workbook&&t.Workbook.WBProps||null)),aUe(n,t),eUe(n,t),iUe(n,t),(t.Workbook||{}).Names&&rUe(n,t),je(n,132),n.end()}function cUe(t,e,n){return e.slice(-4)===".bin"?JGe(t,n):VGe(t,n)}function lUe(t,e,n,a,r,s,i,o){return e.slice(-4)===".bin"?kGe(t,a,n,r,s,i,o):Q8e(t,a,n,r,s,i,o)}function uUe(t,e,n,a,r,s,i,o){return e.slice(-4)===".bin"?$Ge(t,a,n,r,s):FGe(t,a,n,r,s)}function fUe(t,e,n,a,r,s,i,o){return e.slice(-4)===".bin"?r6e():s6e()}function dUe(t,e,n,a,r,s,i,o){return e.slice(-4)===".bin"?n6e():a6e()}function pUe(t,e,n,a){return e.slice(-4)===".bin"?aBe(t,n,a):V5e(t,n,a)}function hUe(t,e,n){return e.slice(-4)===".bin"?i5e(t,n):n5e(t,n)}function mUe(t,e,n){return e.slice(-4)===".bin"?YBe(t,n):WBe(t,n)}function gUe(t,e,n){return e.slice(-4)===".bin"?MBe(t):$Be(t)}function yUe(t,e,n,a){return n.slice(-4)===".bin"?BBe(t,e,n,a):void 0}function xUe(t,e,n){return e.slice(-4)===".bin"?RBe(t,e,n):FBe(t,e,n)}var mK=/\b((?:\w+:)?[\w]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,gK=/\b((?:\w+:)?[\w]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function fo(t,e){var n=t.split(/\s+/),a=[];if(a[0]=n[0],n.length===1)return a;var r=t.match(mK),s,i,o,c;if(r)for(c=0;c!=r.length;++c)s=r[c].match(gK),(i=s[1].indexOf(":"))===-1?a[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),a[o]=s[2].slice(1,s[2].length-1));return a}function vUe(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var a=t.match(mK),r,s,i,o;if(a)for(o=0;o!=a.length;++o)r=a[o].match(gK),(s=r[1].indexOf(":"))===-1?n[r[1]]=r[2].slice(1,r[2].length-1):(r[1].slice(0,6)==="xmlns:"?i="xmlns"+r[1].slice(6):i=r[1].slice(s+1),n[i]=r[2].slice(1,r[2].length-1));return n}var W0;function kUe(t,e,n){var a=W0[t]||Cn(t);return a==="General"?md(e):Zs(a,e,{date1904:!!n})}function wUe(t,e,n,a){var r=a;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":r=jn(a);break;case"i2":case"int":r=parseInt(a,10);break;case"r4":case"float":r=parseFloat(a);break;case"date":case"dateTime.tz":r=va(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Cn(e)]=r}function bUe(t,e,n,a){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||wr[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ig(t.v):t.w=md(t.v):t.w=kUe(e||"General",t.v,a)}catch(i){if(n.WTF)throw i}try{var r=W0[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&hi(r)){var s=Zo(t.v+(a?1462:0));s&&(t.t="d",t.v=new Date(Date.UTC(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u)))}}catch(i){if(n.WTF)throw i}}}function _Ue(t,e,n){if(n.cellStyles&&e.Interior){var a=e.Interior;a.Pattern&&(a.patternType=$5e[a.Pattern]||a.Pattern)}t[e.ID]=e}function AUe(t,e,n,a,r,s,i,o,c,l,u){var d="General",h=a.StyleID,m={};l=l||{};var y=[],v=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&i&&(h=i.StyleID);s[h]!==void 0;){var x=s[h];if(x.nf&&(d=x.nf),x.Interior&&y.push(x.Interior),!x.Parent)break;h=x.Parent}switch(n.Type){case"Boolean":a.t="b",a.v=jn(t);break;case"String":a.t="s",a.r=eM(Cn(t)),a.v=t.indexOf("<")>-1?Cn(e||t).replace(/<[^<>]*>/g,""):a.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),a.v=Ia(va(t,u),u),a.v!==a.v&&(a.v=Cn(t)),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+t),a.t||(a.t="n");break;case"Error":a.t="e",a.v=Pr[t],l.cellText!==!1&&(a.w=t);break;default:t==""&&e==""?a.t="z":(a.t="s",a.v=eM(e||t));break}if(bUe(a,d,l,u),l.cellFormula!==!1)if(a.Formula){var k=Cn(a.Formula);k.charCodeAt(0)==61&&(k=k.slice(1)),a.f=Wf(k,r),delete a.Formula,a.ArrayRange=="RC"?a.F=Wf("RC:RC",r):a.ArrayRange&&(a.F=Wf(a.ArrayRange,r),c.push([An(a.F),a.F]))}else for(v=0;v<c.length;++v)r.r>=c[v][0].s.r&&r.r<=c[v][0].e.r&&r.c>=c[v][0].s.c&&r.c<=c[v][0].e.c&&(a.F=c[v][1]);l.cellStyles&&(y.forEach(function(b){!m.patternType&&b.patternType&&(m.patternType=b.patternType)}),a.s=m),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function NUe(t){return zD.indexOf("_xlnm."+t)>-1?"_xlnm."+t:t}function SUe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function iS(t,e){var n=e||{};Bd();var a=Kp($_(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(typeof rn<"u"?a=rn.utils.decode(65001,tw(a)):a=qn(a));var r=a.slice(0,1024).toLowerCase(),s=!1;if(r=r.replace(/".*?"/g,""),(r.indexOf(">")&1023)>Math.min(r.indexOf(",")&1023,r.indexOf(";")&1023)){var i=Un(n);return i.type="string",Ch.to_workbook(a,i)}if(r.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ve){r.indexOf("<"+Ve)>=0&&(s=!0)}),s)return t7e(a,n);W0={"General Number":"General","General Date":It[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":It[15],"Short Date":It[14],"Long Time":It[19],"Medium Time":It[18],"Short Time":It[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:It[2],Standard:It[4],Percent:It[10],Scientific:It[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],l,u={},d=[],h={},m="";n.dense&&(h["!data"]=[]);var y={},v={},x=fo('<Data ss:Type="String">'),k=0,b=0,_=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},C={},E="",D=0,I=[],P={},R={},B=0,U=[],V=[],j={},W=[],J,q=!1,Z=[],M=[],se={},ue=0,le=0,ie={Sheets:[],WBProps:{date1904:!1}},ye={};Ja.lastIndex=0,a=R1(a,"<!--","-->");for(var ke="";o=Ja.exec(a);)switch(o[3]=(ke=o[3]).toLowerCase()){case"data":if(ke=="data"){if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?AUe(a.slice(k,o.index),E,x,c[c.length-1][0]=="comment"?j:y,{c:b,r:_},S,W[b],v,Z,n,ie.WBProps.date1904):(E="",x=fo(o[0]),k=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(y.c=V),(!n.sheetRows||n.sheetRows>_)&&y.v!==void 0&&(n.dense?(h["!data"][_]||(h["!data"][_]=[]),h["!data"][_][b]=y):h[Zt(b)+hn(_)]=y),y.HRef&&(y.l={Target:Cn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(ue=b+(parseInt(y.MergeAcross,10)|0),le=_+(parseInt(y.MergeDown,10)|0),(ue>b||le>_)&&I.push({s:{c:b,r:_},e:{c:ue,r:le}})),!n.sheetStubs)y.MergeAcross?b=ue+1:++b;else if(y.MergeAcross||y.MergeDown){for(var ge=b;ge<=ue;++ge)for(var G=_;G<=le;++G)(ge>b||G>_)&&(n.dense?(h["!data"][G]||(h["!data"][G]=[]),h["!data"][G][ge]={t:"z"}):h[Zt(ge)+hn(G)]={t:"z"});b=ue+1}else++b;else y=vUe(o[0]),y.Index&&(b=+y.Index-1),b<A.s.c&&(A.s.c=b),b>A.e.c&&(A.e.c=b),o[0].slice(-2)==="/>"&&++b,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<A.s.r&&(A.s.r=_),_>A.e.r&&(A.e.r=_),o[0].slice(-2)==="/>"&&(v=fo(o[0]),v.Index&&(_=+v.Index-1)),b=0,++_):(v=fo(o[0]),v.Index&&(_=+v.Index-1),se={},(v.AutoFitHeight=="0"||v.Height)&&(se.hpx=parseInt(v.Height,10),se.hpt=Lg(se.hpx),M[_]=se),v.Hidden=="1"&&(se.hidden=!0,M[_]=se));break;case"worksheet":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));d.push(m),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(h["!ref"]=an(A),n.sheetRows&&n.sheetRows<=A.e.r&&(h["!fullref"]=h["!ref"],A.e.r=n.sheetRows-1,h["!ref"]=an(A))),I.length&&(h["!merges"]=I),W.length>0&&(h["!cols"]=W),M.length>0&&(h["!rows"]=M),u[m]=h}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,c.push([o[3],!1]),l=fo(o[0]),m=Cn(l.Name),h={},n.dense&&(h["!data"]=[]),I=[],Z=[],M=[],ye={name:m,Hidden:0},ie.Sheets.push(ye);break;case"table":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),W=[],q=!1}break;case"style":o[1]==="/"?_Ue(S,C,n):C=fo(o[0]);break;case"numberformat":C.nf=Cn(fo(o[0]).Format||"General"),W0[C.nf]&&(C.nf=W0[C.nf]);for(var te=0;te!=392&&It[te]!=C.nf;++te);if(te==392){for(te=57;te!=392;++te)if(It[te]==null){ou(C.nf,te);break}}break;case"column":if(c[c.length-1][0]!=="table"||o[1]==="/")break;if(J=fo(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!q&&J.wpx>10){q=!0,os=HH;for(var ee=0;ee<W.length;++ee)W[ee]&&gl(W[ee])}q&&gl(J),W[J.Index-1||W.length]=J;for(var ae=0;ae<+J.Span;++ae)W[W.length]=Un(J);break;case"namedrange":if(o[1]==="/")break;ie.Names||(ie.Names=[]);var be=yt(o[0]),Y={Name:NUe(be.Name),Ref:Wf(be.RefersTo.slice(1),{r:0,c:0})};ie.Sheets.length>0&&(Y.Sheet=ie.Sheets.length-1),ie.Names.push(Y);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=a.slice(D,o.index):D=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;C.Interior=fo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?z$e(P,ke,a.slice(B,o.index)):B=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"));SUe(j),V.push(j)}else c.push([o[3],!1]),l=fo(o[0]),jn(l.ShowAlways||"0")||(V.hidden=!0),j={a:l.Author};break;case"autofilter":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ae=fo(o[0]);h["!autofilter"]={ref:Wf(Ae.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((l=c.pop())[0]!==o[3])throw new Error("Bad state: "+l.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return VM(a,n);var Oe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Oe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Oe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":ie.WBProps.date1904=!0;break;case"hidehorizontalscrollbar":break;case"hideverticalscrollbar":break;case"hideworkbooktabs":break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Oe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Oe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(a.slice(B,o.index)){case"SheetHidden":ye.Hidden=1;break;case"SheetVeryHidden":ye.Hidden=2;break}else B=o.index+o[0].length;break;case"header":h["!margins"]||Vf(h["!margins"]={},"xlml"),isNaN(+yt(o[0]).Margin)||(h["!margins"].header=+yt(o[0]).Margin);break;case"footer":h["!margins"]||Vf(h["!margins"]={},"xlml"),isNaN(+yt(o[0]).Margin)||(h["!margins"].footer=+yt(o[0]).Margin);break;case"pagemargins":var $e=yt(o[0]);h["!margins"]||Vf(h["!margins"]={},"xlml"),isNaN(+$e.Top)||(h["!margins"].top=+$e.Top),isNaN(+$e.Left)||(h["!margins"].left=+$e.Left),isNaN(+$e.Right)||(h["!margins"].right=+$e.Right),isNaN(+$e.Bottom)||(h["!margins"].bottom=+$e.Bottom);break;case"displayrighttoleft":ie.Views||(ie.Views=[]),ie.Views[0]||(ie.Views[0]={}),ie.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Oe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Oe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Oe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Oe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Oe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Oe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Oe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Oe=!1}break;case"smarttags":break;default:Oe=!1;break}if(Oe||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?wUe(R,ke,U,a.slice(B,o.index)):(U=o,B=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var He={};return!n.bookSheets&&!n.bookProps&&(He.Sheets=u),He.SheetNames=d,He.Workbook=ie,He.SSF=Un(It),He.Props=P,He.Custprops=R,He.bookType="xlml",He}function aE(t,e){switch(JD(e=e||{}),e.type||"base64"){case"base64":return iS(pi(t),e);case"binary":case"buffer":case"file":return iS(t,e);case"array":return iS(xc(t),e)}}function yK(t,e){var n=[];return t.Props&&n.push(G$e(t.Props,e)),t.Custprops&&n.push(U$e(t.Props,t.Custprops)),n.join("")}function xK(t){return(((t||{}).Workbook||{}).WBProps||{}).date1904?'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><Date1904/></ExcelWorkbook>':""}function vK(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(a,r){var s=[];s.push(at("NumberFormat",null,{"ss:Format":nn(It[a.numFmtId])}));var i={"ss:ID":"s"+(21+r)};n.push(at("Style",s.join(""),i))}),at("Styles",n.join(""))}function kK(t){return at("NamedRange",null,{"ss:Name":t.Name.slice(0,6)=="_xlnm."?t.Name.slice(6):t.Name,"ss:RefersTo":"="+O1(t.Ref,{r:0,c:0})})}function wK(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],a=0;a<e.length;++a){var r=e[a];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||n.push(kK(r)))}return at("Names",n.join(""))}function bK(t,e,n,a){if(!t||!((a||{}).Workbook||{}).Names)return"";for(var r=a.Workbook.Names,s=[],i=0;i<r.length;++i){var o=r[i];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(kK(o)))}return s.join("")}function _K(t,e,n,a){if(!t)return"";var r=[];if(t["!margins"]&&(r.push("<PageSetup>"),t["!margins"].header&&r.push(at("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&r.push(at("Footer",null,{"x:Margin":t["!margins"].footer})),r.push(at("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),r.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[n])if(a.Workbook.Sheets[n].Hidden)r.push(at("Visible",a.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(a.Workbook.Sheets[s]&&!a.Workbook.Sheets[s].Hidden);++s);s==n&&r.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),t["!protect"]&&(r.push(Wr("ProtectContents","True")),t["!protect"].objects&&r.push(Wr("ProtectObjects","True")),t["!protect"].scenarios&&r.push(Wr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?r.push(Wr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&r.push(Wr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){t["!protect"][i[0]]&&r.push("<"+i[1]+"/>")})),r.length==0?"":at("WorksheetOptions",r.join(""),{xmlns:mr.x})}function TUe(t){return t.map(function(e){var n=jOe(e.t||""),a=at("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"}),r={};return e.a&&(r["ss:Author"]=e.a),t.hidden||(r["ss:ShowAlways"]="1"),at("Comment",a,r)}).join("")}function AK(t,e,n,a,r,s,i){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+nn(O1(t.f,i))),t.F&&t.F.slice(0,e.length)==e){var c=Xn(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==i.r?"":"["+(c.r-i.r)+"]")+"C"+(c.c==i.c?"":"["+(c.c-i.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=nn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=nn(t.l.Tooltip))),n["!merges"])for(var l=n["!merges"],u=0;u!=l.length;++u)l[u].s.c!=i.c||l[u].s.r!=i.r||(l[u].e.c>l[u].s.c&&(o["ss:MergeAcross"]=l[u].e.c-l[u].s.c),l[u].e.r>l[u].s.r&&(o["ss:MergeDown"]=l[u].e.r-l[u].s.r));var d="",h="";switch(t.t){case"z":if(!a.sheetStubs)return"";break;case"n":isFinite(t.v)?(d="Number",h=String(t.v)):(d="Error",h=wr[isNaN(t.v)?36:7]);break;case"b":d="Boolean",h=t.v?"1":"0";break;case"e":d="Error",h=wr[t.v];break;case"d":d="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||It[14]);break;case"s":d="String",h=VOe(t.v||"");break}var m=kc(a.cellXfs,t,a);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=i.c+1;var y=t.v!=null?h:"",v=t.t=="z"?"":'<Data ss:Type="'+d+'">'+y+"</Data>";return(t.c||[]).length>0&&(v+=TUe(t.c)),at("Cell",v,o)}function NK(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Dh(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function EUe(t,e,n,a){if(!t["!ref"])return"";var r=An(t["!ref"]),s=t["!merges"]||[],i=0,o=[];t["!cols"]&&t["!cols"].forEach(function(x,k){gl(x);var b=!!x.width,_=B1(k,x),A={"ss:Index":k+1};b&&(A["ss:Width"]=Ih(_.width)),x.hidden&&(A["ss:Hidden"]="1"),o.push(at("Column",null,A))});for(var c=t["!data"]!=null,l={r:0,c:0},u=r.s.r;u<=r.e.r;++u){var d=[NK(u,(t["!rows"]||[])[u])];l.r=u;for(var h=r.s.c;h<=r.e.c;++h){l.c=h;var m=!1;for(i=0;i!=s.length;++i)if(!(s[i].s.c>h)&&!(s[i].s.r>u)&&!(s[i].e.c<h)&&!(s[i].e.r<u)){(s[i].s.c!=h||s[i].s.r!=u)&&(m=!0);break}if(!m){var y=Zt(h)+hn(u),v=c?(t["!data"][u]||[])[h]:t[y];d.push(AK(v,y,t,e,n,a,l))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function CUe(t,e,n){var a=[],r=n.SheetNames[t],s=n.Sheets[r],i=s?bK(s,e,t,n):"";return i.length>0&&a.push("<Names>"+i+"</Names>"),i=s?EUe(s,e,t,n):"",i.length>0&&a.push("<Table>"+i+"</Table>"),a.push(_K(s,e,t,n)),s&&s["!autofilter"]&&a.push('<AutoFilter x:Range="'+O1(Th(s["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),a.join("")}function IUe(t,e){e||(e={}),t.SSF||(t.SSF=Un(It)),t.SSF&&(Bd(),cm(t.SSF),e.revssf=D1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],kc(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(yK(t,e)),n.push(xK(t)),n.push(""),n.push(wK(t));for(var a=0;a<t.SheetNames.length;++a)n.push(at("Worksheet",CUe(a,e,t),{"ss:Name":nn(t.SheetNames[a])}));return n[2]=vK(t,e),Ua+at("Workbook",n.join(""),{xmlns:mr.ss,"xmlns:o":mr.o,"xmlns:x":mr.x,"xmlns:ss":mr.ss,"xmlns:dt":mr.dt,"xmlns:html":mr.html})}function DUe(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=w$e(n),n.length-n.l<=4)return e;var a=n.read_shift(4);if(a==0||a>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(a=n.read_shift(4),a!==1907505652)||(e.UnicodeClipboardFormat=b$e(n),a=n.read_shift(4),a==0||a>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var RUe=[60,1084,2066,2165,2175];function PUe(t,e,n,a,r){var s=a,i=[],o=n.slice(n.l,n.l+s);if(r&&r.enc&&r.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:r.enc.insitu(o)}i.push(o),n.l+=s;for(var c=Jc(n,n.l),l=rE[c],u=0;l!=null&&RUe.indexOf(c)>-1;)s=Jc(n,n.l+2),u=n.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),o=n.slice(u,n.l+4+s),i.push(o),n.l+=4+s,l=rE[c=Jc(n,n.l)];var d=ja(i);pr(d,0);var h=0;d.lens=[];for(var m=0;m<i.length;++m)d.lens.push(h),h+=i[m].length;if(d.length<a)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+d.length+" < "+a;return e.f(d,d.length,r)}function Vo(t,e,n){if(t.t!=="z"&&t.XF){var a=0;try{a=t.z||t.XF.numFmtId||0,e.cellNF&&t.z==null&&(t.z=It[a])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||wr[t.v]:a===0||a=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ig(t.v):t.w=md(t.v):t.w=Zs(a,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&a&&t.t=="n"&&hi(It[a]||String(a))){var r=Zo(t.v+(n?1462:0));r&&(t.t="d",t.v=new Date(Date.UTC(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u)))}}}function Rv(t,e,n){return{v:t,ixfe:e,t:n}}function FUe(t,e){var n={opts:{}},a={},r={};e.dense&&(r["!data"]=[]);var s={},i={},o=null,c=[],l="",u={},d,h="",m,y,v,x,k={},b=[],_,A,S=[],C=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},D={},I=!1,P=function(it){return it<8?zf[it]:it<64&&C[it-8]||zf[it]},R=function(it,qt){var Xt=it.XF.data;if(!(!Xt||!Xt.patternType||!qt||!qt.cellStyles)){it.s={},it.s.patternType=Xt.patternType;var Ht;(Ht=Og(P(Xt.icvFore)))&&(it.s.fgColor={rgb:Ht}),(Ht=Og(P(Xt.icvBack)))&&(it.s.bgColor={rgb:Ht})}},B=function(it,qt,Xt){if(!(!I&&ue>1)&&!(Xt.sheetRows&&it.r>=Xt.sheetRows)){if(Xt.cellStyles&&qt.XF&&qt.XF.data&&R(qt,Xt),delete qt.ixfe,delete qt.XF,d=it,h=pn(it),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),it.r<i.s.r&&(i.s.r=it.r),it.c<i.s.c&&(i.s.c=it.c),it.r+1>i.e.r&&(i.e.r=it.r+1),it.c+1>i.e.c&&(i.e.c=it.c+1),Xt.cellFormula&&qt.f){for(var Ht=0;Ht<b.length;++Ht)if(!(b[Ht][0].s.c>it.c||b[Ht][0].s.r>it.r)&&!(b[Ht][0].e.c<it.c||b[Ht][0].e.r<it.r)){qt.F=an(b[Ht][0]),(b[Ht][0].s.c!=it.c||b[Ht][0].s.r!=it.r)&&delete qt.f,qt.f&&(qt.f=""+rs(b[Ht][1],i,it,M,U));break}}Xt.dense?(r["!data"][it.r]||(r["!data"][it.r]=[]),r["!data"][it.r][it.c]=qt):r[h]=qt}},U={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(U.password=e.password);var V,j=[],W=[],J=[],q=[],Z=!1,M=[];M.SheetNames=U.snames,M.sharedf=U.sharedf,M.arrayf=U.arrayf,M.names=[],M.XTI=[];var se=0,ue=0,le=0,ie=[],ye=[],ke;U.codepage=1200,Hi(1200);for(var ge=!1;t.l<t.length-1;){var G=t.l,te=t.read_shift(2);if(te===0&&se===10)break;var ee=t.l===t.length?0:t.read_shift(2),ae=rE[te];if(ue==0&&[9,521,1033,2057].indexOf(te)==-1)break;if(ae&&ae.f){if(e.bookSheets&&se===133&&te!==133)break;if(se=te,ae.r===2||ae.r==12){var be=t.read_shift(2);if(ee-=2,!U.enc&&be!==te&&((be&255)<<8|be>>8)!==te)throw new Error("rt mismatch: "+be+"!="+te);ae.r==12&&(t.l+=10,ee-=10)}var Y={};if(te===10?Y=ae.f(t,ee,U):Y=PUe(te,ae,t,ee,U),ue==0&&[9,521,1033,2057].indexOf(se)===-1)continue;switch(te){case 34:n.opts.Date1904=E.WBProps.date1904=Y;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(U.enc||(t.l=0),U.enc=Y,!e.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=Y;break;case 66:var Ae=Number(Y);switch(Ae){case 21010:Ae=1200;break;case 32768:Ae=1e4;break;case 32769:Ae=1252;break}Hi(U.codepage=Ae),ge=!0;break;case 317:U.rrtabid=Y;break;case 25:U.winlocked=Y;break;case 439:n.opts.RefreshAll=Y;break;case 12:n.opts.CalcCount=Y;break;case 16:n.opts.CalcDelta=Y;break;case 17:n.opts.CalcIter=Y;break;case 13:n.opts.CalcMode=Y;break;case 14:n.opts.CalcPrecision=Y;break;case 95:n.opts.CalcSaveRecalc=Y;break;case 15:U.CalcRefMode=Y;break;case 2211:n.opts.FullCalc=Y;break;case 129:Y.fDialog&&(r["!type"]="dialog"),Y.fBelow||((r["!outline"]||(r["!outline"]={})).above=!0),Y.fRight||((r["!outline"]||(r["!outline"]={})).left=!0);break;case 67:case 579:case 1091:case 224:S.push(Y);break;case 430:M.push([Y]),M[M.length-1].XTI=[];break;case 35:case 547:M[M.length-1].push(Y);break;case 24:case 536:ke={Name:Y.Name,Ref:rs(Y.rgce,i,null,M,U)},Y.itab>0&&(ke.Sheet=Y.itab-1),M.names.push(ke),M[0]||(M[0]=[],M[0].XTI=[]),M[M.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(ye[Y.itab-1]={ref:an(Y.rgce[0][0][1][2])});break;case 22:U.ExternCount=Y;break;case 23:M.length==0&&(M[0]=[],M[0].XTI=[]),M[M.length-1].XTI=M[M.length-1].XTI.concat(Y),M.XTI=M.XTI.concat(Y);break;case 2196:if(U.biff<8)break;ke!=null&&(ke.Comment=Y[1]);break;case 18:r["!protect"]=Y;break;case 19:Y!==0&&U.WTF&&console.error("Password verifier: "+Y);break;case 133:s[U.biff==4?U.snames.length:Y.pos]=Y,U.snames.push(Y.name);break;case 10:{if(--ue?!I:I)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,r["!ref"]=an(i),e.sheetRows&&e.sheetRows<=i.e.r){var Oe=i.e.r;i.e.r=e.sheetRows-1,r["!fullref"]=r["!ref"],r["!ref"]=an(i),i.e.r=Oe}i.e.r++,i.e.c++}j.length>0&&(r["!merges"]=j),W.length>0&&(r["!objects"]=W),J.length>0&&(r["!cols"]=J),q.length>0&&(r["!rows"]=q),E.Sheets.push(D)}l===""?u=r:a[l]=r,r={},e.dense&&(r["!data"]=[])}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[te]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),U.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(U.biff=5,ge=!0,Hi(U.codepage=28591)),U.biff==4&&Y.dt&256&&(I=!0),U.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(U.biff=2),ue++&&!I)break;if(r={},e.dense&&(r["!data"]=[]),U.biff<8&&!ge&&(ge=!0,Hi(U.codepage=e.codepage||1252)),U.biff==4&&I)l=(s[U.snames.indexOf(l)+1]||{name:""}).name;else if(U.biff<5||Y.BIFFVer==0&&Y.dt==4096){l===""&&(l="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var $e={pos:t.l-ee,name:l};s[$e.pos]=$e,U.snames.push(l)}else l=(s[G]||{name:""}).name;Y.dt==32&&(r["!type"]="chart"),Y.dt==64&&(r["!type"]="macro"),j=[],W=[],U.arrayf=b=[],J=[],q=[],Z=!1,D={Hidden:(s[G]||{hs:0}).hs,name:l}}break;case 515:case 3:case 2:r["!type"]=="chart"&&(e.dense?(r["!data"][Y.r]||[])[Y.c]:r[Zt(Y.c)+hn(Y.r)])&&++Y.c,_={ixfe:Y.ixfe,XF:S[Y.ixfe]||{},v:Y.val,t:"n"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 5:case 517:_={ixfe:Y.ixfe,XF:S[Y.ixfe],v:Y.val,t:Y.t},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 638:_={ixfe:Y.ixfe,XF:S[Y.ixfe],v:Y.rknum,t:"n"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 189:for(var He=Y.c;He<=Y.C;++He){var Ve=Y.rkrec[He-Y.c][0];_={ixfe:Ve,XF:S[Ve],v:Y.rkrec[He-Y.c][1],t:"n"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B({c:He,r:Y.r},_,e)}break;case 6:case 518:case 1030:{if(Y.val=="String"){o=Y;break}if(_=Rv(Y.val,Y.cell.ixfe,Y.tt),_.XF=S[_.ixfe],e.cellFormula){var tt=Y.formula;if(tt&&tt[0]&&tt[0][0]&&tt[0][0][0]=="PtgExp"){var lt=tt[0][0][1][0],zt=tt[0][0][1][1],$t=pn({r:lt,c:zt});k[$t]?_.f=""+rs(Y.formula,i,Y.cell,M,U):_.F=((e.dense?(r["!data"][lt]||[])[zt]:r[$t])||{}).F}else _.f=""+rs(Y.formula,i,Y.cell,M,U)}le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B(Y.cell,_,e),o=Y}break;case 7:case 519:if(o)o.val=Y,_=Rv(Y,o.cell.ixfe,"s"),_.XF=S[_.ixfe],e.cellFormula&&(_.f=""+rs(o.formula,i,o.cell,M,U)),le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B(o.cell,_,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(Y);var st=pn(Y[0].s);if(m=e.dense?(r["!data"][Y[0].s.r]||[])[Y[0].s.c]:r[st],e.cellFormula&&m){if(!o||!st||!m)break;m.f=""+rs(Y[1],i,Y[0],M,U),m.F=an(Y[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;k[pn(o.cell)]=Y[0],m=e.dense?(r["!data"][o.cell.r]||[])[o.cell.c]:r[pn(o.cell)],(m||{}).f=""+rs(Y[0],i,d,M,U)}}break;case 253:_=Rv(c[Y.isst].t,Y.ixfe,"s"),c[Y.isst].h&&(_.h=c[Y.isst].h),_.XF=S[_.ixfe],le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 513:e.sheetStubs&&(_={ixfe:Y.ixfe,XF:S[Y.ixfe],t:"z"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B({c:Y.c,r:Y.r},_,e));break;case 190:if(e.sheetStubs)for(var Be=Y.c;Be<=Y.C;++Be){var Fe=Y.ixfe[Be-Y.c];_={ixfe:Fe,XF:S[Fe],t:"z"},le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B({c:Be,r:Y.r},_,e)}break;case 214:case 516:case 4:_=Rv(Y.val,Y.ixfe,"s"),_.XF=S[_.ixfe],le>0&&(_.z=_.XF&&_.XF.numFmtId&&ie[_.XF.numFmtId]||ie[_.ixfe>>8&63]),Vo(_,e,n.opts.Date1904),B({c:Y.c,r:Y.r},_,e);break;case 0:case 512:ue===1&&(i=Y);break;case 252:c=Y;break;case 1054:if(U.biff>=3&&U.biff<=4){ie[le++]=Y[1];for(var Dt=0;Dt<le+163&&It[Dt]!=Y[1];++Dt);Dt>=163&&ou(Y[1],le+163)}else ou(Y[1],Y[0]);break;case 30:{ie[le++]=Y;for(var Bt=0;Bt<le+163&&It[Bt]!=Y;++Bt);Bt>=163&&ou(Y,le+163)}break;case 229:j=j.concat(Y);break;case 93:W[Y.cmo[0]]=U.lastobj=Y;break;case 438:U.lastobj.TxO=Y;break;case 127:U.lastobj.ImData=Y;break;case 440:for(x=Y[0].s.r;x<=Y[0].e.r;++x)for(v=Y[0].s.c;v<=Y[0].e.c;++v)m=e.dense?(r["!data"][x]||[])[v]:r[pn({c:v,r:x})],m&&(m.l=Y[1]);break;case 2048:for(x=Y[0].s.r;x<=Y[0].e.r;++x)for(v=Y[0].s.c;v<=Y[0].e.c;++v)m=e.dense?(r["!data"][x]||[])[v]:r[pn({c:v,r:x})],m&&m.l&&(m.l.Tooltip=Y[1]);break;case 28:{if(m=e.dense?(r["!data"][Y[0].r]||[])[Y[0].c]:r[pn(Y[0])],m||(e.dense?(r["!data"][Y[0].r]||(r["!data"][Y[0].r]=[]),m=r["!data"][Y[0].r][Y[0].c]={t:"z"}):m=r[pn(Y[0])]={t:"z"},i.e.r=Math.max(i.e.r,Y[0].r),i.s.r=Math.min(i.s.r,Y[0].r),i.e.c=Math.max(i.e.c,Y[0].c),i.s.c=Math.min(i.s.c,Y[0].c)),m.c||(m.c=[]),U.biff<=5&&U.biff>=2)y={a:"SheetJ5",t:Y[1]};else{var Rt=W[Y[2]];y={a:Y[1],t:Rt.TxO.t},Y[3]!=null&&!(Y[3]&2)&&(m.c.hidden=!0)}m.c.push(y)}break;case 2173:ABe(S[Y.ixfe],Y.ext);break;case 125:{if(!U.cellStyles)break;for(;Y.e>=Y.s;)J[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},Z||(Z=!0,HD(Y.w/256)),gl(J[Y.e+1])}break;case 520:{var Mn={};Y.level!=null&&(q[Y.r]=Mn,Mn.level=Y.level),Y.hidden&&(q[Y.r]=Mn,Mn.hidden=!0),Y.hpt&&(q[Y.r]=Mn,Mn.hpt=Y.hpt,Mn.hpx=Dh(Y.hpt))}break;case 38:case 39:case 40:case 41:r["!margins"]||Vf(r["!margins"]={}),r["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[te]]=Y;break;case 161:r["!margins"]||Vf(r["!margins"]={}),r["!margins"].header=Y.header,r["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(E.Views[0].RTL=!0);break;case 146:C=Y;break;case 2198:V=Y;break;case 140:A=Y;break;case 442:l?D.CodeName=Y||D.name:E.WBProps.CodeName=Y||"ThisWorkbook";break}}else ae||console.error("Missing Info for XLS Record 0x"+te.toString(16)),t.l+=ee}return n.SheetNames=pa(s).sort(function(Bn,it){return Number(Bn)-Number(it)}).map(function(Bn){return s[Bn].name}),e.bookSheets||(n.Sheets=a),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&ye.forEach(function(Bn,it){n.Sheets[n.SheetNames[it]]["!autofilter"]=Bn}),n.Strings=c,n.SSF=Un(It),U.enc&&(n.Encryption=U.enc),V&&(n.Themes=V),n.Metadata={},A!==void 0&&(n.Metadata.Country=A),M.names.length>0&&(E.Names=M.names),n.Workbook=E,n}var V0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function OUe(t,e,n){var a=Mt.find(t,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var r=xM(a,QT,V0.DSI);for(var s in r)e[s]=r[s]}catch(l){if(n.WTF)throw l}var i=Mt.find(t,"/!SummaryInformation");if(i&&i.size>0)try{var o=xM(i,JT,V0.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(l){if(n.WTF)throw l}e.HeadingPairs&&e.TitlesOfParts&&(kH(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function $Ue(t,e){var n=[],a=[],r=[],s=0,i,o=YL(QT,"n"),c=YL(JT,"n");if(t.Props)for(i=pa(t.Props),s=0;s<i.length;++s)(Object.prototype.hasOwnProperty.call(o,i[s])?n:Object.prototype.hasOwnProperty.call(c,i[s])?a:r).push([i[s],t.Props[i[s]]]);if(t.Custprops)for(i=pa(t.Custprops),s=0;s<i.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},i[s])||(Object.prototype.hasOwnProperty.call(o,i[s])?n:Object.prototype.hasOwnProperty.call(c,i[s])?a:r).push([i[s],t.Custprops[i[s]]]);var l=[];for(s=0;s<r.length;++s)NH.indexOf(r[s][0])>-1||vH.indexOf(r[s][0])>-1||r[s][1]!=null&&l.push(r[s]);a.length&&Mt.utils.cfb_add(e,"/SummaryInformation",vM(a,V0.SI,c,JT)),(n.length||l.length)&&Mt.utils.cfb_add(e,"/DocumentSummaryInformation",vM(n,V0.DSI,o,QT,l.length?l:null,V0.UDI))}function QD(t,e){e||(e={}),JD(e),P_(),e.codepage&&R_(e.codepage);var n,a;if(t.FullPaths){if(Mt.find(t,"/encryption"))throw new Error("File is password-protected");n=Mt.find(t,"!CompObj"),a=Mt.find(t,"/Workbook")||Mt.find(t,"/Book")}else{switch(e.type){case"base64":t=Ss(pi(t));break;case"binary":t=Ss(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}pr(t,0),a={content:t}}var r,s;if(n&&DUe(n),e.bookProps&&!e.bookSheets)r={};else{var i=fn?"buffer":"array";if(a&&a.content)r=FUe(a.content,e);else if((s=Mt.find(t,"PerfectOffice_MAIN"))&&s.content)r=Uf.to_workbook(s.content,(e.type=i,e));else if((s=Mt.find(t,"NativeContent_MAIN"))&&s.content)r=Uf.to_workbook(s.content,(e.type=i,e));else throw(s=Mt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Mt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(r.vbaraw=JBe(t))}var o={};return t.FullPaths&&OUe(t,o,e),r.Props=r.Custprops=o,e.bookFiles&&(r.cfb=t),r}function LUe(t,e){var n=e||{},a=Mt.utils.cfb_new({root:"R"}),r="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":r="/Workbook",n.biff=8;break;case"biff5":r="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Mt.utils.cfb_add(a,r,TK(t,n)),n.biff==8&&(t.Props||t.Custprops)&&$Ue(t,a),n.biff==8&&t.vbaraw&&e6e(a,Mt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),a}var Mg={0:{f:vze},1:{f:Tze},2:{f:Vze},3:{f:Oze},4:{f:Dze},5:{f:Gze},6:{f:Xze},7:{f:Lze},8:{f:nGe},9:{f:tGe},10:{f:Jze},11:{f:eGe},12:{f:Cze},13:{f:Hze},14:{f:$ze},15:{f:Pze},16:{f:uK},17:{f:Zze},18:{f:Bze},19:{f:LD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:ZGe},40:{},42:{},43:{f:q5e},44:{f:H5e},45:{f:Z5e},46:{f:J5e},47:{f:Q5e},48:{},49:{f:l$e},50:{},51:{f:TBe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:MH},62:{f:qze},63:{f:LBe},64:{f:xGe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:gs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:hGe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Nze},148:{f:bze,p:16},151:{f:cGe},152:{},153:{f:qGe},154:{},155:{},156:{f:HGe},157:{},158:{},159:{T:1,f:s5e},160:{T:-1},161:{T:1,f:Vd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:aGe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:NBe},336:{T:-1},337:{f:IBe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ZT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:LH},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:lGe},427:{f:uGe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:dGe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Aze},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:iGe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ZT},551:{f:M_},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:XBe},633:{T:1},634:{T:-1},635:{T:1,f:KBe},636:{T:-1},637:{f:p$e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:OGe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:vGe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},rE={6:{f:nS},10:{f:Yl},12:{f:Oa},13:{f:Oa},14:{f:Va},15:{f:Va},16:{f:ls},17:{f:Va},18:{f:Va},19:{f:Oa},20:{f:AM},21:{f:AM},23:{f:LH},24:{f:SM},25:{f:Va},26:{},27:{},28:{f:pMe},29:{},34:{f:Va},35:{f:NM},38:{f:ls},39:{f:ls},40:{f:ls},41:{f:ls},42:{f:Va},43:{f:Va},47:{f:S5e},49:{f:OLe},51:{f:Oa},60:{},61:{f:ILe},64:{f:Va},65:{f:FLe},66:{f:Oa},77:{},80:{},81:{},82:{},85:{f:Oa},89:{},90:{},91:{},92:{f:vLe},93:{f:gMe},94:{},95:{f:Va},96:{},97:{},99:{f:Va},125:{f:MH},128:{f:aMe},129:{f:wLe},130:{f:Oa},131:{f:Va},132:{f:Va},133:{f:bLe},134:{},140:{f:AMe},141:{f:Oa},144:{},146:{f:TMe},151:{},152:{},153:{},154:{},155:{},156:{f:Oa},157:{},158:{},160:{f:FMe},161:{f:IMe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:qLe},190:{f:XLe},193:{f:Yl},197:{},198:{},199:{},200:{},201:{},202:{f:Va},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Oa},220:{},221:{f:Va},222:{},224:{f:ZLe},225:{f:xLe},226:{f:Yl},227:{},229:{f:hMe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:ALe},253:{f:LLe},255:{f:SLe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:SH},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Va},353:{f:Yl},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:cMe},431:{f:Va},432:{},433:{},434:{},437:{},438:{f:vMe},439:{f:Va},440:{f:kMe},441:{},442:{f:P1},443:{},444:{f:Oa},445:{},446:{},448:{f:Yl},449:{f:CLe,r:2},450:{f:Yl},512:{f:bM},513:{f:PMe},515:{f:iMe},516:{f:BLe},517:{f:sMe},519:{f:OMe},520:{f:TLe},523:{},545:{f:EM},549:{f:wM},566:{},574:{f:RLe},638:{f:KLe},659:{},1048:{},1054:{f:GLe},1084:{},1212:{f:uMe},2048:{f:bMe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Ev},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Yl},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:EMe,r:12},2173:{f:_Be,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Va,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:lMe,r:12},2197:{},2198:{f:yBe,r:12},2199:{},2200:{},2201:{},2202:{f:fMe,r:12},2203:{f:Yl},2204:{},2205:{},2206:{},2207:{},2211:{f:ELe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Oa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:DMe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:SMe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:bM},1:{},2:{f:zMe},3:{f:MMe},4:{f:LMe},5:{f:WMe},7:{f:UMe},8:{},9:{f:Ev},11:{},22:{f:Oa},30:{f:WLe},31:{},32:{},33:{f:EM},36:{},37:{f:wM},50:{f:VMe},62:{},52:{},67:{f:QLe},68:{f:Oa},69:{},86:{},126:{},127:{f:$Me},135:{},136:{},137:{},143:{f:HMe},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:jMe},223:{},234:{},354:{},421:{},518:{f:nS},521:{f:Ev},536:{f:SM},547:{f:NM},561:{},579:{f:tMe},1030:{f:nS},1033:{f:Ev},1091:{f:nMe},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},101:{},102:{},105:{},106:{},107:{},109:{},112:{},114:{},29282:{}};function Xe(t,e,n,a){var r=e;if(!isNaN(r)){var s=a||(n||[]).length||0,i=t.next(4);i.write_shift(2,r),i.write_shift(2,s),s>0&&FD(n)&&t.push(n)}}function MUe(t,e,n,a){var r=(n||[]).length||0;if(r<=8224)return Xe(t,e,n,r);var s=e;if(!isNaN(s)){for(var i=n.parts||[],o=0,c=0,l=0;l+(i[o]||8224)<=8224;)l+=i[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,l),t.push(n.slice(c,c+l)),c+=l;c<r;){for(u=t.next(4),u.write_shift(2,60),l=0;l+(i[o]||8224)<=8224;)l+=i[o]||8224,o++;u.write_shift(2,l),t.push(n.slice(c,c+l)),c+=l}}}function oS(t,e,n,a){var r=De(9);return F1(r,t,e),EH(n,a||"b",r),r}function BUe(t,e,n){var a=De(8+2*n.length);return F1(a,t,e),a.write_shift(1,n.length),a.write_shift(n.length,n,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function SK(t,e){e.forEach(function(n){var a=n[0].map(function(s){return s.t}).join("");if(a.length<=2048)return Xe(t,28,JN(a,n[1],n[2]));Xe(t,28,JN(a.slice(0,2048),n[1],n[2],a.length));for(var r=2048;r<a.length;r+=2048)Xe(t,28,JN(a.slice(r,Math.min(r+2048,a.length)),-1,-1,Math.min(2048,a.length-r)))})}function zUe(t,e,n,a,r,s){var i=0;e.z!=null&&(i=r._BIFF2FmtTable.indexOf(e.z),i==-1&&(r._BIFF2FmtTable.push(e.z),i=r._BIFF2FmtTable.length-1));var o=0;if(e.z!=null){for(;o<r.cellXfs.length&&r.cellXfs[o].numFmtId!=i;++o);o==r.cellXfs.length&&r.cellXfs.push({numFmtId:i})}if(e.v!=null)switch(e.t){case"d":case"n":var c=e.t=="d"?Ia(va(e.v,s),s):e.v;r.biff==2&&c==(c|0)&&c>=0&&c<65536?Xe(t,2,GMe(n,a,c,o,i)):isNaN(c)?Xe(t,5,oS(n,a,36,"e")):isFinite(c)?Xe(t,3,BMe(n,a,c,o,i)):Xe(t,5,oS(n,a,7,"e"));return;case"b":case"e":Xe(t,5,oS(n,a,e.v,e.t));return;case"s":case"str":Xe(t,4,BUe(n,a,e.v==null?"":String(e.v).slice(0,255)));return}Xe(t,1,F1(null,n,a))}function GUe(t,e,n,a,r){var s=e["!data"]!=null,i=An(e["!ref"]||"A1"),o="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.r,16383)}for(var l=(((r||{}).Workbook||{}).WBProps||{}).date1904,u=[],d=[],h=i.s.c;h<=i.e.c;++h)c[h]=Zt(h);for(var m=i.s.r;m<=i.e.r;++m)for(s&&(u=e["!data"][m]||[]),o=hn(m),h=i.s.c;h<=i.e.c;++h){var y=s?u[h]:e[c[h]+o];y&&(zUe(t,y,m,h,a,l),y.c&&d.push([y.c,m,h]))}SK(t,d)}function UUe(t,e){for(var n=e||{},a=ds(),r=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(r=s);if(r==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);Xe(a,n.biff==4?1033:n.biff==3?521:9,WD(t,16,n)),((t.Workbook||{}).WBProps||{}).date1904&&Xe(a,34,ts(!0)),n.cellXfs=[{numFmtId:0}],n._BIFF2FmtTable=["General"],n._Fonts=[];var i=ds();return GUe(i,t.Sheets[t.SheetNames[r]],r,n,t),n._BIFF2FmtTable.forEach(function(o){n.biff<=3?Xe(a,30,VLe(o)):Xe(a,1054,jLe(o))}),n.cellXfs.forEach(function(o){switch(n.biff){case 2:Xe(a,67,JLe(o));break;case 3:Xe(a,579,$H(o));break;case 4:Xe(a,1091,eMe(o));break}}),delete n._BIFF2FmtTable,delete n.cellXfs,delete n._Fonts,a.push(i.end()),Xe(a,10),a.end()}var ho=1,Li=[];function WUe(){var t=De(82+8*Li.length);t.write_shift(2,15),t.write_shift(2,61440),t.write_shift(4,74+8*Li.length);{t.write_shift(2,0),t.write_shift(2,61446),t.write_shift(4,16+8*Li.length);{t.write_shift(4,ho),t.write_shift(4,Li.length+1);for(var e=0,n=0;n<Li.length;++n)e+=Li[n]&&Li[n][1]||0;t.write_shift(4,e),t.write_shift(4,Li.length)}Li.forEach(function(a){t.write_shift(4,a[0]),t.write_shift(4,a[2])})}return t.write_shift(2,51),t.write_shift(2,61451),t.write_shift(4,18),t.write_shift(2,191),t.write_shift(4,524296),t.write_shift(2,385),t.write_shift(4,134217793),t.write_shift(2,448),t.write_shift(4,134217792),t.write_shift(2,64),t.write_shift(2,61726),t.write_shift(4,16),t.write_shift(4,134217741),t.write_shift(4,134217740),t.write_shift(4,134217751),t.write_shift(4,268435703),t}function VUe(t,e){var n=[],a=0,r=ds(),s=ho,i;e.forEach(function(c,l){var u="",d=c[0].map(function(_){return _.a&&!u&&(u=_.a),_.t}).join("");++ho;{var h=De(150);h.write_shift(2,15),h.write_shift(2,61444),h.write_shift(4,150),h.write_shift(2,3234),h.write_shift(2,61450),h.write_shift(4,8),h.write_shift(4,ho),h.write_shift(4,2560),h.write_shift(2,227),h.write_shift(2,61451),h.write_shift(4,84),h.write_shift(2,128),h.write_shift(4,0),h.write_shift(2,139),h.write_shift(4,2),h.write_shift(2,191),h.write_shift(4,524296),h.write_shift(2,344),h.l+=4,h.write_shift(2,385),h.write_shift(4,134217808),h.write_shift(2,387),h.write_shift(4,134217808),h.write_shift(2,389),h.write_shift(4,268435700),h.write_shift(2,447),h.write_shift(4,1048592),h.write_shift(2,448),h.write_shift(4,134217809),h.write_shift(2,451),h.write_shift(4,268435700),h.write_shift(2,513),h.write_shift(4,134217809),h.write_shift(2,515),h.write_shift(4,268435700),h.write_shift(2,575),h.write_shift(4,196609),h.write_shift(2,959),h.write_shift(4,131072|(c[0].hidden?2:0)),h.l+=2,h.write_shift(2,61456),h.write_shift(4,18),h.write_shift(2,3),h.write_shift(2,c[2]+2),h.l+=2,h.write_shift(2,c[1]+1),h.l+=2,h.write_shift(2,c[2]+4),h.l+=2,h.write_shift(2,c[1]+5),h.l+=2,h.l+=2,h.write_shift(2,61457),h.l+=4,h.l=150,l==0?i=h:Xe(r,236,h)}a+=150;{var m=De(52);m.write_shift(2,21),m.write_shift(2,18),m.write_shift(2,25),m.write_shift(2,ho),m.write_shift(2,0),m.l=22,m.write_shift(2,13),m.write_shift(2,22),m.write_shift(4,1651663474),m.write_shift(4,2503426821),m.write_shift(4,2150634280),m.write_shift(4,1768515844+ho*256),m.write_shift(2,0),m.write_shift(4,0),m.l+=4,Xe(r,93,m)}{var y=De(8);y.l+=2,y.write_shift(2,61453),y.l+=4,Xe(r,236,y)}a+=8;{var v=De(18);v.write_shift(2,18),v.l+=8,v.write_shift(2,d.length),v.write_shift(2,16),v.l+=4,Xe(r,438,v);{var x=De(1+d.length);x.write_shift(1,0),x.write_shift(d.length,d,"sbcs"),Xe(r,60,x)}{var k=De(16);k.l+=8,k.write_shift(2,d.length),k.l+=6,Xe(r,60,k)}}{var b=De(12+u.length);b.write_shift(2,c[1]),b.write_shift(2,c[2]),b.write_shift(2,0|(c[0].hidden?0:2)),b.write_shift(2,ho),b.write_shift(2,u.length),b.write_shift(1,0),b.write_shift(u.length,u,"sbcs"),b.l++,n.push(b)}});{var o=De(80);o.write_shift(2,15),o.write_shift(2,61442),o.write_shift(4,a+o.length-8),o.write_shift(2,16),o.write_shift(2,61448),o.write_shift(4,8),o.write_shift(4,e.length+1),o.write_shift(4,ho),o.write_shift(2,15),o.write_shift(2,61443),o.write_shift(4,a+48),o.write_shift(2,15),o.write_shift(2,61444),o.write_shift(4,40),o.write_shift(2,1),o.write_shift(2,61449),o.write_shift(4,16),o.l+=16,o.write_shift(2,2),o.write_shift(2,61450),o.write_shift(4,8),o.write_shift(4,s),o.write_shift(4,5),Xe(t,236,i?ja([o,i]):o)}t.push(r.end()),n.forEach(function(c){Xe(t,28,c)}),Li.push([s,e.length+1,ho]),++ho}function jUe(t,e,n){Xe(t,49,$Le({sz:12,name:"Arial"},n))}function HUe(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var r=a[0];r<=a[1];++r)e[r]!=null&&Xe(t,1054,ULe(r,e[r],n))})}function KUe(t,e){var n=De(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Xe(t,2151,n),n=De(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),PH(An(e["!ref"]||"A1"),n),n.write_shift(4,4),Xe(t,2152,n)}function qUe(t,e){for(var n=0;n<16;++n)Xe(t,224,_M({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(a){Xe(t,224,_M(a,0,e))})}function XUe(t,e){for(var n=0;n<e["!links"].length;++n){var a=e["!links"][n];Xe(t,440,wMe(a)),a[1].Tooltip&&Xe(t,2048,_Me(a))}delete e["!links"]}function YUe(t,e){if(e){var n=0;e.forEach(function(a,r){++n<=256&&a&&Xe(t,125,CMe(B1(r,a),r))})}}function ZUe(t,e,n,a,r,s){var i=16+kc(r.cellXfs,e,r);if(e.v==null&&!e.bf){Xe(t,513,wd(n,a,i));return}if(e.bf)Xe(t,6,S8e(e,n,a,r,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?Ia(va(e.v,s),s):e.v;isNaN(o)?Xe(t,517,QN(n,a,36,i,r,"e")):isFinite(o)?Xe(t,515,oMe(n,a,o,i)):Xe(t,517,QN(n,a,7,i,r,"e"));break;case"b":case"e":Xe(t,517,QN(n,a,e.v,i,r,e.t));break;case"s":case"str":if(r.bookSST){var c=XD(r.Strings,e.v==null?"":String(e.v),r.revStrings);Xe(t,253,MLe(n,a,c,i))}else Xe(t,516,zLe(n,a,(e.v==null?"":String(e.v)).slice(0,255),i,r));break;default:Xe(t,513,wd(n,a,i))}}function QUe(t,e,n){var a=ds(),r=n.SheetNames[t],s=n.Sheets[r]||{},i=(n||{}).Workbook||{},o=(i.Sheets||[])[t]||{},c=s["!data"]!=null,l=e.biff==8,u="",d=[],h=An(s["!ref"]||"A1"),m=l?65536:16384;if(h.e.c>255||h.e.r>=m){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV"+m);h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.r,m-1)}Xe(a,2057,WD(n,16,e)),Xe(a,13,zi(1)),Xe(a,12,zi(100)),Xe(a,15,ts(!0)),Xe(a,17,ts(!1)),Xe(a,16,vd(.001)),Xe(a,95,ts(!0)),Xe(a,42,ts(!1)),Xe(a,43,ts(!1)),Xe(a,130,zi(1)),Xe(a,128,rMe()),Xe(a,131,ts(!1)),Xe(a,132,ts(!1)),l&&YUe(a,s["!cols"]),Xe(a,512,HLe(h,e));var y=(((n||{}).Workbook||{}).WBProps||{}).date1904;l&&(s["!links"]=[]);for(var v=h.s.c;v<=h.e.c;++v)d[v]=Zt(v);for(var x=[],k=[],b=h.s.r;b<=h.e.r;++b)for(c&&(k=s["!data"][b]||[]),u=hn(b),v=h.s.c;v<=h.e.c;++v){var _=c?k[v]:s[d[v]+u];_&&(ZUe(a,_,b,v,e,y),l&&_.l&&s["!links"].push([d[v]+u,_.l]),_.c&&x.push([_.c,b,v]))}var A=o.CodeName||o.name||r;return l?VUe(a,x):SK(a,x),l&&Xe(a,574,PLe((i.Views||[])[0])),l&&(s["!merges"]||[]).length&&Xe(a,229,mMe(s["!merges"])),l&&XUe(a,s),Xe(a,442,CH(A)),l&&KUe(a,s),Xe(a,10),a.end()}function JUe(t,e,n){var a=ds(),r=(t||{}).Workbook||{},s=r.Sheets||[],i=r.WBProps||{},o=n.biff==8,c=n.biff==5;if(Xe(a,2057,WD(t,5,n)),n.bookType=="xla"&&Xe(a,135),Xe(a,225,o?zi(1200):null),Xe(a,193,J$e(2)),c&&Xe(a,191),c&&Xe(a,192),Xe(a,226),Xe(a,92,kLe("SheetJS",n)),Xe(a,66,zi(o?1200:1252)),o&&Xe(a,353,zi(0)),o&&Xe(a,448),Xe(a,317,RMe(t.SheetNames.length)),o&&t.vbaraw&&Xe(a,211),o&&t.vbaraw){var l=i.CodeName||"ThisWorkbook";Xe(a,442,CH(l))}Xe(a,156,zi(17)),Xe(a,25,ts(!1)),Xe(a,18,ts(!1)),Xe(a,19,zi(0)),o&&Xe(a,431,ts(!1)),o&&Xe(a,444,zi(0)),Xe(a,61,DLe()),Xe(a,64,ts(!1)),Xe(a,141,zi(0)),Xe(a,34,ts(zGe(t)=="true")),Xe(a,14,ts(!0)),o&&Xe(a,439,ts(!1)),Xe(a,218,zi(0)),jUe(a,t,n),HUe(a,t.SSF,n),qUe(a,n),o&&Xe(a,352,ts(!1));var u=a.end(),d=ds();o&&Xe(d,140,NMe()),o&&Li.length&&Xe(d,235,WUe()),o&&n.Strings&&MUe(d,252,NLe(n.Strings)),Xe(d,10);var h=d.end(),m=ds(),y=0,v=0;for(v=0;v<t.SheetNames.length;++v)y+=(o?12:11)+(o?2:1)*t.SheetNames[v].length;var x=u.length+y+h.length;for(v=0;v<t.SheetNames.length;++v){var k=s[v]||{};Xe(m,133,_Le({pos:x,hs:k.Hidden||0,dt:0,name:t.SheetNames[v]},n)),x+=e[v].length}var b=m.end();if(y!=b.length)throw new Error("BS8 "+y+" != "+b.length);var _=[];return u.length&&_.push(u),b.length&&_.push(b),h.length&&_.push(h),ja(_)}function e7e(t,e){var n=e||{},a=[];t&&!t.SSF&&(t.SSF=Un(It)),t&&t.SSF&&(Bd(),cm(t.SSF),n.revssf=D1(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),ho=1,Li=[],n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,eR(n),n.cellXfs=[],kc(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var r=0;r<t.SheetNames.length;++r)a[a.length]=QUe(r,n,t);return a.unshift(JUe(t,a,n)),ja(a)}function TK(t,e){for(var n=0;n<=t.SheetNames.length;++n){var a=t.Sheets[t.SheetNames[n]];if(!(!a||!a["!ref"])){var r=or(a["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost."),r.e.r>65535&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond row 65536.  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return e7e(t,e);case 4:case 3:case 2:return UUe(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function GM(t,e){var n=e||{},a=n.dense!=null?n.dense:UFe,r={};a&&(r["!data"]=[]),t=R1(t,"<!--","-->");var s=t.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),o=s.index,c=i&&i.index||t.length,l=POe(t.slice(o,c),/(:?<tr[^<>]*>)/i,"<tr>"),u=-1,d=0,h=0,m=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<l.length;++o){var x=l[o].trim(),k=x.slice(0,3).toLowerCase();if(k=="<tr"){if(++u,n.sheetRows&&n.sheetRows<=u){--u;break}d=0;continue}if(!(k!="<td"&&k!="<th")){var b=x.split(/<\/t[dh]>/i);for(c=0;c<b.length;++c){var _=b[c].trim();if(_.match(/<t[dh]/i)){for(var A=_,S=0;A.charAt(0)=="<"&&(S=A.indexOf(">"))>-1;)A=A.slice(S+1);for(var C=0;C<v.length;++C){var E=v[C];E.s.c==d&&E.s.r<u&&u<=E.e.r&&(d=E.e.c+1,C=-1)}var D=yt(_.slice(0,_.indexOf(">")));m=D.colspan?+D.colspan:1,((h=+D.rowspan)>1||m>1)&&v.push({s:{r:u,c:d},e:{r:u+(h||1)-1,c:d+m-1}});var I=D.t||D["data-t"]||"";if(!A.length){d+=m;continue}if(A=Qj(A),y.s.r>u&&(y.s.r=u),y.e.r<u&&(y.e.r=u),y.s.c>d&&(y.s.c=d),y.e.c<d&&(y.e.c=d),!A.length){d+=m;continue}var P={t:"s",v:A};n.raw||!A.trim().length||I=="s"||(A==="TRUE"?P={t:"b",v:!0}:A==="FALSE"?P={t:"b",v:!1}:isNaN(ui(A))?isNaN(Dg(A).getDate())?A.charCodeAt(0)==35&&Pr[A]!=null&&(P.t="e",P.w=A,P.v=Pr[A]):(P={t:"d",v:va(A)},n.UTC===!1&&(P.v=yd(P.v)),n.cellDates||(P={t:"n",v:Ia(P.v)}),P.z=n.dateNF||It[14]):P={t:"n",v:ui(A)}),P.cellText!==!1&&(P.w=A),a?(r["!data"][u]||(r["!data"][u]=[]),r["!data"][u][d]=P):r[pn({r:u,c:d})]=P,d+=m}}}}return r["!ref"]=an(y),v.length&&(r["!merges"]=v),r}function EK(t,e,n,a){for(var r=t["!merges"]||[],s=[],i={},o=t["!data"]!=null,c=e.s.c;c<=e.e.c;++c){for(var l=0,u=0,d=0;d<r.length;++d)if(!(r[d].s.r>n||r[d].s.c>c)&&!(r[d].e.r<n||r[d].e.c<c)){if(r[d].s.r<n||r[d].s.c<c){l=-1;break}l=r[d].e.r-r[d].s.r+1,u=r[d].e.c-r[d].s.c+1;break}if(!(l<0)){var h=Zt(c)+hn(n),m=o?(t["!data"][n]||[])[c]:t[h];m&&m.t=="n"&&m.v!=null&&!isFinite(m.v)&&(isNaN(m.v)?m={t:"e",v:36,w:wr[36]}:m={t:"e",v:7,w:wr[7]});var y=m&&m.v!=null&&(m.h||O0(m.w||(vc(m),m.w)||""))||"";i={},l>1&&(i.rowspan=l),u>1&&(i.colspan=u),a.editable?y='<span contenteditable="true">'+y+"</span>":m&&(i["data-t"]=m&&m.t||"z",m.v!=null&&(i["data-v"]=O0(m.v instanceof Date?m.v.toISOString():m.v)),m.z!=null&&(i["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+O0(m.l.Target)+'">'+y+"</a>")),i.id=(a.id||"sjs")+"-"+h,s.push(at("td",y,i))}}var v="<tr>";return v+s.join("")+"</tr>"}var CK='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',IK="</body></html>";function t7e(t,e){var n=$Oe(t,"table");if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1){var a=Vu(GM(n[0],e),e);return a.bookType="html",a}var r=sR();return n.forEach(function(s,i){z1(r,GM(s,e),"Sheet"+(i+1))}),r.bookType="html",r}function DK(t,e,n){var a=[];return a.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function RK(t,e){var n=e||{},a=n.header!=null?n.header:CK,r=n.footer!=null?n.footer:IK,s=[a],i=or(t["!ref"]||"A1");if(s.push(DK(t,i,n)),t["!ref"])for(var o=i.s.r;o<=i.e.r;++o)s.push(EK(t,i,o,n));return s.push("</table>"+r),s.join("")}function PK(t,e,n){var a=e.rows;if(!a)throw"Unsupported origin when "+e.tagName+" is not a TABLE";var r=n||{},s=t["!data"]!=null,i=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var c=typeof r.origin=="string"?Xn(r.origin):r.origin;i=c.r,o=c.c}var l=Math.min(r.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:i,c:o}};if(t["!ref"]){var d=or(t["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var h=[],m=0,y=t["!rows"]||(t["!rows"]=[]),v=0,x=0,k=0,b=0,_=0,A=0;for(t["!cols"]||(t["!cols"]=[]);v<a.length&&x<l;++v){var S=a[v];if(UM(S)){if(r.display)continue;y[x]={hidden:!0}}var C=S.cells;for(k=b=0;k<C.length;++k){var E=C[k];if(!(r.display&&UM(E))){var D=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):Qj(E.innerHTML),I=E.getAttribute("data-z")||E.getAttribute("z");for(m=0;m<h.length;++m){var P=h[m];P.s.c==b+o&&P.s.r<x+i&&x+i<=P.e.r&&(b=P.e.c+1-o,m=-1)}A=+E.getAttribute("colspan")||1,((_=+E.getAttribute("rowspan")||1)>1||A>1)&&h.push({s:{r:x+i,c:b+o},e:{r:x+i+(_||1)-1,c:b+o+(A||1)-1}});var R={t:"s",v:D},B=E.getAttribute("data-t")||E.getAttribute("t")||"";D!=null&&(D.length==0?R.t=B||"z":r.raw||D.trim().length==0||B=="s"||(B=="e"&&wr[+D]?R={t:"e",v:+D,w:wr[+D]}:D==="TRUE"?R={t:"b",v:!0}:D==="FALSE"?R={t:"b",v:!1}:isNaN(ui(D))?isNaN(Dg(D).getDate())?D.charCodeAt(0)==35&&Pr[D]!=null&&(R={t:"e",v:Pr[D],w:D}):(R={t:"d",v:va(D)},r.UTC&&(R.v=O_(R.v)),r.cellDates||(R={t:"n",v:Ia(R.v)}),R.z=r.dateNF||It[14]):R={t:"n",v:ui(D)})),R.z===void 0&&I!=null&&(R.z=I);var U="",V=E.getElementsByTagName("A");if(V&&V.length)for(var j=0;j<V.length&&!(V[j].hasAttribute("href")&&(U=V[j].getAttribute("href"),U.charAt(0)!="#"));++j);U&&U.charAt(0)!="#"&&U.slice(0,11).toLowerCase()!="javascript:"&&(R.l={Target:U}),s?(t["!data"][x+i]||(t["!data"][x+i]=[]),t["!data"][x+i][b+o]=R):t[pn({c:b+o,r:x+i})]=R,u.e.c<b+o&&(u.e.c=b+o),b+=A}}++x}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,x-1+i),t["!ref"]=an(u),x>=l&&(t["!fullref"]=an((u.e.r=a.length-v+x-1+i,u))),t}function FK(t,e){var n=e||{},a={};return n.dense&&(a["!data"]=[]),PK(a,t,e)}function n7e(t,e){var n=Vu(FK(t,e),e);return n}function UM(t){var e="",n=a7e(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function a7e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function r7e(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,r){return Array(parseInt(r,10)+1).join(" ")}).replace(/<text:tab[^<>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Cn(e.replace(/<[^<>]*>/g,""));return[n]}function OK(t,e,n){var a=n||{},r=$_(t);Ja.lastIndex=0,r=_D(R1(r,"<!--","-->"));for(var s,i,o="",c="",l,u=0,d=-1,h="";s=Ja.exec(r);)switch(s[3]=s[3].replace(/_[\s\S]*$/,"")){case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":case"text-style":s[1]==="/"?(i["truncate-on-overflow"]=="false"&&(o.match(/h/)?o=o.replace(/h+/,"[$&]"):o.match(/m/)?o=o.replace(/m+/,"[$&]"):o.match(/s/)&&(o=o.replace(/s+/,"[$&]"))),a[i.name]=o,o=""):s[0].charAt(s[0].length-2)!=="/"&&(o="",i=yt(s[0],!1));break;case"boolean-style":s[1]==="/"?(a[i.name]="General",o=""):s[0].charAt(s[0].length-2)!=="/"&&(o="",i=yt(s[0],!1));break;case"boolean":o+="General";break;case"text":s[1]==="/"?(h=r.slice(d,Ja.lastIndex-s[0].length),h=="%"&&i[0]=="<number:percentage-style"?o+="%":o+='"'+h.replace(/"/g,'""')+'"'):s[0].charAt(s[0].length-2)!=="/"&&(d=Ja.lastIndex);break;case"day":switch(l=yt(s[0],!1),l.style){case"short":o+="d";break;case"long":o+="dd";break;default:o+="dd";break}break;case"day-of-week":switch(l=yt(s[0],!1),l.style){case"short":o+="ddd";break;case"long":o+="dddd";break;default:o+="ddd";break}break;case"era":switch(l=yt(s[0],!1),l.style){case"short":o+="ee";break;case"long":o+="eeee";break;default:o+="eeee";break}break;case"hours":switch(l=yt(s[0],!1),l.style){case"short":o+="h";break;case"long":o+="hh";break;default:o+="hh";break}break;case"minutes":switch(l=yt(s[0],!1),l.style){case"short":o+="m";break;case"long":o+="mm";break;default:o+="mm";break}break;case"month":switch(l=yt(s[0],!1),l.textual&&(o+="mm"),l.style){case"short":o+="m";break;case"long":o+="mm";break;default:o+="m";break}break;case"seconds":{switch(l=yt(s[0],!1),l.style){case"short":o+="s";break;case"long":o+="ss";break;default:o+="ss";break}l["decimal-places"]&&(o+="."+Pn("0",+l["decimal-places"]))}break;case"year":switch(l=yt(s[0],!1),l.style){case"short":o+="yy";break;case"long":o+="yyyy";break;default:o+="yy";break}break;case"am-pm":o+="AM/PM";break;case"week-of-year":case"quarter":console.error("Excel does not support ODS format token "+s[3]);break;case"fill-character":s[1]==="/"?(h=r.slice(d,Ja.lastIndex-s[0].length),o+='"'+h.replace(/"/g,'""')+'"*'):s[0].charAt(s[0].length-2)!=="/"&&(d=Ja.lastIndex);break;case"scientific-number":l=yt(s[0],!1),o+="0."+Pn("0",+l["min-decimal-places"]||+l["decimal-places"]||2)+Pn("?",+l["decimal-places"]-+l["min-decimal-places"]||0)+"E"+(jn(l["forced-exponent-sign"])?"+":"")+Pn("0",+l["min-exponent-digits"]||2);break;case"fraction":l=yt(s[0],!1),+l["min-integer-digits"]?o+=Pn("0",+l["min-integer-digits"]):o+="#",o+=" ",o+=Pn("?",+l["min-numerator-digits"]||1),o+="/",+l["denominator-value"]?o+=l["denominator-value"]:o+=Pn("?",+l["min-denominator-digits"]||1);break;case"currency-symbol":s[1]==="/"?o+='"'+r.slice(d,Ja.lastIndex-s[0].length).replace(/"/g,'""')+'"':s[0].charAt(s[0].length-2)!=="/"?d=Ja.lastIndex:o+="$";break;case"text-properties":switch(l=yt(s[0],!1),(l.color||"").toLowerCase().replace("#","")){case"ff0000":case"red":o="[Red]"+o;break}break;case"text-content":o+="@";break;case"map":l=yt(s[0],!1),Cn(l.condition)=="value()>=0"?o=a[l["apply-style-name"]]+";"+o:console.error("ODS number format may be incorrect: "+l.condition);break;case"number":if(s[1]==="/")break;l=yt(s[0],!1),c="",c+=Pn("0",+l["min-integer-digits"]||1),jn(l.grouping)&&(c=Zc(Pn("#",Math.max(0,4-c.length))+c)),(+l["min-decimal-places"]||+l["decimal-places"])&&(c+="."),+l["min-decimal-places"]&&(c+=Pn("0",+l["min-decimal-places"]||1)),+l["decimal-places"]-(+l["min-decimal-places"]||0)&&(c+=Pn("0",+l["decimal-places"]-(+l["min-decimal-places"]||0))),o+=c;break;case"embedded-text":s[1]==="/"?u==0?o+='"'+r.slice(d,Ja.lastIndex-s[0].length).replace(/"/g,'""')+'"':o=o.slice(0,u)+'"'+r.slice(d,Ja.lastIndex-s[0].length).replace(/"/g,'""')+'"'+o.slice(u):s[0].charAt(s[0].length-2)!=="/"&&(d=Ja.lastIndex,u=-+yt(s[0],!1).position||0);break}return a}function $K(t,e,n){var a=e||{},r=$_(t),s=[],i,o,c,l="",u=0,d,h,m={},y=[],v={};a.dense&&(v["!data"]=[]);var x,k,b={value:""},_={},A="",S=0,C="",E=0,D=[],I=[],P=-1,R=-1,B={s:{r:1e6,c:1e7},e:{r:0,c:0}},U=0,V=n||{},j={},W=[],J={},q=0,Z=0,M=[],se=1,ue=1,le=[],ie={Names:[],WBProps:{}},ye={},ke=["",""],ge=[],G={},te="",ee=0,ae=!1,be=!1,Y=0;for(Ja.lastIndex=0,r=_D(R1(r,"<!--","-->"));x=Ja.exec(r);)switch(x[3]=x[3].replace(/_[\s\S]*$/,"")){case"table":case"":x[1]==="/"?(B.e.c>=B.s.c&&B.e.r>=B.s.r?v["!ref"]=an(B):v["!ref"]="A1:A1",a.sheetRows>0&&a.sheetRows<=B.e.r&&(v["!fullref"]=v["!ref"],B.e.r=a.sheetRows-1,v["!ref"]=an(B)),W.length&&(v["!merges"]=W),M.length&&(v["!rows"]=M),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),y.push(d.name),m[d.name]=v,be=!1):x[0].charAt(x[0].length-2)!=="/"&&(d=yt(x[0],!1),P=R=-1,B.s.r=B.s.c=1e7,B.e.r=B.e.c=0,v={},a.dense&&(v["!data"]=[]),W=[],M=[],be=!0);break;case"table-row-group":x[1]==="/"?--U:++U;break;case"table-row":case"":if(x[1]==="/"){P+=se,se=1;break}if(h=yt(x[0],!1),h.?P=h.-1:P==-1&&(P=0),se=+h["number-rows-repeated"]||1,se<10)for(Y=0;Y<se;++Y)U>0&&(M[P+Y]={level:U});R=-1;break;case"covered-table-cell":if(x[1]!=="/")if(++R,b=yt(x[0],!1),ue=parseInt(b["number-columns-repeated"]||"1",10)||1,a.sheetStubs){for(;ue-- >0;)a.dense?(v["!data"][P]||(v["!data"][P]=[]),v["!data"][P][R]={t:"z"}):v[pn({r:P,c:R})]={t:"z"},++R;--R}else R+=ue-1;A="",D=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++R,b=yt(x[0],!1),ue=parseInt(b["number-columns-repeated"]||"1",10)||1,k={t:"z",v:null},b.formula&&a.cellFormula!=!1&&(k.f=MM(Cn(b.formula))),b["style-name"]&&j[b["style-name"]]&&(k.z=j[b["style-name"]]),(b.||b["value-type"])=="string"&&(k.t="s",k.v=Cn(b["string-value"]||""),a.dense?(v["!data"][P]||(v["!data"][P]=[]),v["!data"][P][R]=k):v[Zt(R)+hn(P)]=k),R+=ue-1;else if(x[1]!=="/"){++R,A=C="",S=E=0,D=[],I=[],ue=1;var Ae=se?P+se-1:P;if(R>B.e.c&&(B.e.c=R),R<B.s.c&&(B.s.c=R),P<B.s.r&&(B.s.r=P),Ae>B.e.r&&(B.e.r=Ae),b=yt(x[0],!1),_=UOe(x[0]),ge=[],G={},k={t:b.||b["value-type"],v:null},b["style-name"]&&j[b["style-name"]]&&(k.z=j[b["style-name"]]),a.cellFormula)if(b.formula&&(b.formula=Cn(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(q=parseInt(b["number-matrix-rows-spanned"],10)||0,Z=parseInt(b["number-matrix-columns-spanned"],10)||0,J={s:{r:P,c:R},e:{r:P+q-1,c:R+Z-1}},k.F=an(J),le.push([J,k.F])),b.formula)k.f=MM(b.formula);else for(Y=0;Y<le.length;++Y)P>=le[Y][0].s.r&&P<=le[Y][0].e.r&&R>=le[Y][0].s.c&&R<=le[Y][0].e.c&&(k.F=le[Y][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(q=parseInt(b["number-rows-spanned"]||"1",10)||1,Z=parseInt(b["number-columns-spanned"]||"1",10)||1,q*Z>1&&(J={s:{r:P,c:R},e:{r:P+q-1,c:R+Z-1}},W.push(J))),b["number-columns-repeated"]&&(ue=parseInt(b["number-columns-repeated"],10)),k.t){case"boolean":k.t="b",k.v=jn(b["boolean-value"])||+b["boolean-value"]>=1;break;case"float":k.t="n",k.v=parseFloat(b.value),a.cellDates&&k.z&&hi(k.z)&&(k.v=rl(k.v+(ie.WBProps.date1904?1462:0)),k.t=typeof k.v=="number"?"n":"d");break;case"percentage":k.t="n",k.v=parseFloat(b.value);break;case"currency":k.t="n",k.v=parseFloat(b.value);break;case"date":k.t="d",k.v=va(b["date-value"],ie.WBProps.date1904),a.cellDates||(k.t="n",k.v=Ia(k.v,ie.WBProps.date1904)),k.z||(k.z="m/d/yy");break;case"time":k.t="n",k.v=_Oe(b["time-value"])/86400,a.cellDates&&(k.v=rl(k.v),k.t=typeof k.v=="number"?"n":"d"),k.z||(k.z="HH:MM:SS");break;case"number":k.t="n",k.v=parseFloat(b.);break;default:if(k.t==="string"||k.t==="text"||!k.t)k.t="s",b["string-value"]!=null&&(A=Cn(b["string-value"]),D=[]);else throw new Error("Unsupported value type "+k.t)}}else{if(ae=!1,_["calcext:value-type"]=="error"&&Pr[A]!=null&&(k.t="e",k.w=A,k.v=Pr[A]),k.t==="s"&&(k.v=A||"",D.length&&(k.R=D),ae=S==0),ye.Target&&(k.l=ye),ge.length>0&&(k.c=ge,ge=[]),A&&a.cellText!==!1&&(k.w=A),ae&&(k.t="z",delete k.v),(!ae||a.sheetStubs)&&!(a.sheetRows&&a.sheetRows<=P))for(var Oe=0;Oe<se;++Oe){if(ue=parseInt(b["number-columns-repeated"]||"1",10),a.dense)for(v["!data"][P+Oe]||(v["!data"][P+Oe]=[]),v["!data"][P+Oe][R]=Oe==0?k:Un(k);--ue>0;)v["!data"][P+Oe][R+ue]=Un(k);else for(v[pn({r:P+Oe,c:R})]=k;--ue>0;)v[pn({r:P+Oe,c:R+ue})]=Un(k);B.e.c<=R&&(B.e.c=R)}ue=parseInt(b["number-columns-repeated"]||"1",10),R+=ue-1,ue=0,k={},A="",D=[]}ye={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i;G.t=A,D.length&&(G.R=D),G.a=te,ge.push(G),A=C,S=E,D=I}else if(x[0].charAt(x[0].length-2)!=="/"){s.push([x[3],!1]);var $e=yt(x[0],!0);$e.display&&jn($e.display)||(ge.hidden=!0),C=A,E=S,I=D,A="",S=0,D=[]}te="",ee=0;break;case"creator":x[1]==="/"?te=r.slice(ee,x.index):ee=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);A="",S=0,D=[];break;case"scientific-number":case"currency-symbol":case"fill-character":break;case"text-style":case"boolean-style":case"number-style":case"currency-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){var He=Ja.lastIndex;OK(r.slice(c,Ja.lastIndex),e,V),Ja.lastIndex=He}else x[0].charAt(x[0].length-2)!=="/"&&(c=Ja.lastIndex-x[0].length);break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":{var Ve=yt(x[0],!1);Ve.family=="table-cell"&&V[Ve["data-style-name"]]&&(j[Ve.name]=V[Ve["data-style-name"]])}break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":break;case"boolean":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(u,x.index);break}else u=x.index+x[0].length;break;case"named-range":o=yt(x[0],!1),ke=aS(o["cell-range-address"]);var tt={Name:o.name,Ref:ke[0]+"!"+ke[1]};be&&(tt.Sheet=y.length),ie.Names.push(tt);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":switch(o=yt(x[0],!1),o["date-value"]){case"1904-01-01":ie.WBProps.date1904=!0;break}break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(x[1]==="/"&&(!b||!b["string-value"])){var lt=r7e(r.slice(S,x.index));A=(A.length>0?A+`
`:"")+lt[0]}else x[0].slice(-2)=="/>"?A+=`
`:(yt(x[0],!1),S=x.index+x[0].length);break;case"s":break;case"database-range":if(x[1]==="/")break;try{ke=aS(yt(x[0])["target-range-address"]),m[ke[0]]["!autofilter"]={ref:ke[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"filter-set-item":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(ye=yt(x[0],!1),!ye.href)break;ye.Target=Cn(ye.href),delete ye.href,ye.Target.charAt(0)=="#"&&ye.Target.indexOf(".")>-1?(ke=aS(ye.Target.slice(1)),ye.Target="#"+ke[0]+"!"+ke[1]):ye.Target.match(/^\.\.[\\\/]/)&&(ye.Target=ye.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(a.WTF)throw new Error(x)}}var zt={Sheets:m,SheetNames:y,Workbook:ie};return a.bookSheets&&delete zt.Sheets,zt}function WM(t,e){e=e||{},$i(t,"META-INF/manifest.xml")&&P$e(Qa(t,"META-INF/manifest.xml"),e);var n=Es(t,"styles.xml"),a=n&&OK(qn(n)),r=Es(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var s=$K(qn(r),e,a);return $i(t,"meta.xml")&&(s.Props=yH(Qa(t,"meta.xml"))),s.bookType="ods",s}function VM(t,e){var n=$K(t,e);return n.bookType="fods",n}var s7e=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+xd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ua+e}}();function i7e(t,e){var n="number",a="",r={"style:name":e},s="",i=0;t=t.replace(/"[$]"/g,"$");e:{if(t.indexOf(";")>-1&&(console.error("Unsupported ODS Style Map exported.  Using first branch of "+t),t=t.slice(0,t.indexOf(";"))),t=="@"){n="text",a="<number:text-content/>";break e}if(t.indexOf(/\$/)>-1&&(n="currency"),t[i]=='"'){for(s="";t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,t[i+1]=="*"?(i++,a+="<number:fill-character>"+nn(s.replace(/""/g,'"'))+"</number:fill-character>"):a+="<number:text>"+nn(s.replace(/""/g,'"'))+"</number:text>",t=t.slice(i+1),i=0}var o=t.match(/# (\?+)\/(\?+)/);if(o){a+=at("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":o[1].length,"number:max-denominator-value":Math.max(+o[1].replace(/./g,"9"),+o[2].replace(/./g,"9"))});break e}if(o=t.match(/# (\?+)\/(\d+)/)){a+=at("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":o[1].length,"number:denominator-value":+o[2]});break e}if(o=t.match(/\b(\d+)(|\.\d+)%/)){n="percentage",a+=at("number:number",null,{"number:decimal-places":o[2]&&o.length-1||0,"number:min-decimal-places":o[2]&&o.length-1||0,"number:min-integer-digits":o[1].length})+"<number:text>%</number:text>";break e}var c=!1;if(["y","m","d"].indexOf(t[0])>-1){n="date";t:for(;i<t.length;++i)switch(s=t[i].toLowerCase()){case"h":case"s":c=!0,--i;break t;case"m":n:for(var l=i+1;l<t.length;++l)switch(t[l]){case"y":case"d":break n;case"h":case"s":c=!0,--i;break t}case"y":case"d":for(;(t[++i]||"").toLowerCase()==s[0];)s+=s[0];switch(--i,s){case"y":case"yy":a+="<number:year/>";break;case"yyy":case"yyyy":a+='<number:year number:style="long"/>';break;case"mmmmm":console.error("ODS has no equivalent of format |mmmmm|");case"m":case"mm":case"mmm":case"mmmm":a+='<number:month number:style="'+(s.length%2?"short":"long")+'" number:textual="'+(s.length>=3?"true":"false")+'"/>';break;case"d":case"dd":a+='<number:day number:style="'+(s.length%2?"short":"long")+'"/>';break;case"ddd":case"dddd":a+='<number:day-of-week number:style="'+(s.length%2?"short":"long")+'"/>';break}break;case'"':for(;t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,a+="<number:text>"+nn(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"\\":s=t[++i],a+="<number:text>"+nn(s)+"</number:text>";break;case"/":case":":a+="<number:text>"+nn(s)+"</number:text>";break;default:console.error("unrecognized character "+s+" in ODF format "+t)}if(!c)break e;t=t.slice(i+1),i=0}if(t.match(/^\[?[hms]/)){for(n=="number"&&(n="time"),t.match(/\[/)&&(t=t.replace(/[\[\]]/g,""),r["number:truncate-on-overflow"]="false");i<t.length;++i)switch(s=t[i].toLowerCase()){case"h":case"m":case"s":for(;(t[++i]||"").toLowerCase()==s[0];)s+=s[0];switch(--i,s){case"h":case"hh":a+='<number:hours number:style="'+(s.length%2?"short":"long")+'"/>';break;case"m":case"mm":a+='<number:minutes number:style="'+(s.length%2?"short":"long")+'"/>';break;case"s":case"ss":if(t[i+1]==".")do s+=t[i+1],++i;while(t[i+1]=="0");a+='<number:seconds number:style="'+(s.match("ss")?"long":"short")+'"'+(s.match(/\./)?' number:decimal-places="'+(s.match(/0+/)||[""])[0].length+'"':"")+"/>";break}break;case'"':for(;t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,a+="<number:text>"+nn(s.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"/":case":":a+="<number:text>"+nn(s)+"</number:text>";break;case"a":if(t.slice(i,i+3).toLowerCase()=="a/p"){a+="<number:am-pm/>",i+=2;break}if(t.slice(i,i+5).toLowerCase()=="am/pm"){a+="<number:am-pm/>",i+=4;break}default:console.error("unrecognized character "+s+" in ODF format "+t)}break e}if(t.indexOf(/\$/)>-1&&(n="currency"),t[0]=="$"&&(a+='<number:currency-symbol number:language="en" number:country="US">$</number:currency-symbol>',t=t.slice(1),i=0),i=0,t[i]=='"'){for(;t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,t[i+1]=="*"?(i++,a+="<number:fill-character>"+nn(s.replace(/""/g,'"'))+"</number:fill-character>"):a+="<number:text>"+nn(s.replace(/""/g,'"'))+"</number:text>",t=t.slice(i+1),i=0}var u=t.match(/([#0][0#,]*)(\.[0#]*|)(E[+]?0*|)/i);if(!u||!u[0])console.error("Could not find numeric part of "+t);else{var d=u[1].replace(/,/g,"");a+="<number:"+(u[3]?"scientific-":"")+'number number:min-integer-digits="'+(d.indexOf("0")==-1?"0":d.length-d.indexOf("0"))+'"'+(u[0].indexOf(",")>-1?' number:grouping="true"':"")+(u[2]&&' number:decimal-places="'+(u[2].length-1)+'"'||' number:decimal-places="0"')+(u[3]&&u[3].indexOf("+")>-1?' number:forced-exponent-sign="true"':"")+(u[3]?' number:min-exponent-digits="'+u[3].match(/0+/)[0].length+'"':"")+"></number:"+(u[3]?"scientific-":"")+"number>",i=u.index+u[0].length}if(t[i]=='"'){for(s="";t[++i]!='"'||t[++i]=='"';)s+=t[i];--i,a+="<number:text>"+nn(s.replace(/""/g,'"'))+"</number:text>"}}return a?at("number:"+n+"-style",a,r):(console.error("Could not generate ODS number format for |"+t+"|"),"")}function jM(t,e,n){for(var a=[],r=0;r<t.length;++r){var s=t[r];s&&s.Sheet==(n==-1?null:n)&&a.push(s)}return a.length?`      <table:named-expressions>
`+a.map(function(i){var o=(n==-1?"$":"")+oK(i.Ref);return"        "+at("table:named-range",null,{"table:name":i.Name,"table:cell-range-address":o,"table:base-cell-address":o.replace(/[\.][^\.]*$/,".$A$1")})}).join(`
`)+`
      </table:named-expressions>
`:""}var HM=function(){var t=function(r,s){return nn(r).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=function(r,s,i,o,c,l){var u=[];u.push('      <table:table table:name="'+nn(s.SheetNames[i])+`" table:style-name="ta1">
`);var d=0,h=0,m=or(r["!ref"]||"A1"),y=r["!merges"]||[],v=0,x=r["!data"]!=null;if(r["!cols"])for(h=0;h<=m.e.c;++h)u.push("        <table:table-column"+(r["!cols"][h]?' table:style-name="co'+r["!cols"][h].ods+'"':"")+`></table:table-column>
`);var k="",b=r["!rows"]||[];for(d=0;d<m.s.r;++d)k=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+k+`></table:table-row>
`);for(;d<=m.e.r;++d){for(k=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+k+`>
`),h=0;h<m.s.c;++h)u.push(e);for(;h<=m.e.c;++h){var _=!1,A={},S="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>h)&&!(y[v].s.r>d)&&!(y[v].e.c<h)&&!(y[v].e.r<d)){(y[v].s.c!=h||y[v].s.r!=d)&&(_=!0),A["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,A["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(_){u.push(`          <table:covered-table-cell/>
`);continue}var C=pn({r:d,c:h}),E=x?(r["!data"][d]||[])[h]:r[C];if(E&&E.f&&(A["table:formula"]=nn(W8e(E.f)),E.F&&E.F.slice(0,C.length)==C)){var D=or(E.F);A["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,A["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!E){u.push(e);continue}switch(E.t){case"b":S=E.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=E.v?"true":"false";break;case"n":isFinite(E.v)?(S=E.w||String(E.v||0),A["office:value-type"]="float",A["office:value"]=E.v||0):(isNaN(E.v)?(S="#NUM!",A["table:formula"]="of:=#NUM!"):(S="#DIV/0!",A["table:formula"]="of:="+(E.v<0?"-":"")+"1/0"),A["office:string-value"]="",A["office:value-type"]="string",A["calcext:value-type"]="error");break;case"s":case"str":S=E.v==null?"":E.v,A["office:value-type"]="string";break;case"d":S=E.w||va(E.v,l).toISOString(),A["office:value-type"]="date",A["office:date-value"]=va(E.v,l).toISOString(),A["table:style-name"]="ce1";break;default:u.push(e);continue}var I=t(S);if(E.l&&E.l.Target){var P=E.l.Target;P=P.charAt(0)=="#"?"#"+oK(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),I=at("text:a",I,{"xlink:href":P.replace(/&/g,"&amp;")})}c[E.z]&&(A["table:style-name"]="ce"+c[E.z].slice(1));var R=at("text:p",I,{});if(E.c){for(var B="",U="",V={},j=0;j<E.c.length;++j)!B&&E.c[j].a&&(B=E.c[j].a),U+="<text:p>"+t(E.c[j].t)+"</text:p>";E.c.hidden||(V["office:display"]=!0),R=at("office:annotation",U,V)+R}u.push("          "+at("table:table-cell",R,A)+`
`)}u.push(`        </table:table-row>
`)}return(s.Workbook||{}).Names&&u.push(jM(s.Workbook.Names,s.SheetNames,i)),u.push(`      </table:table>
`),u.join("")},a=function(r,s){r.push(` <office:automatic-styles>
`);var i=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var h=u["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;gl(h),h.ods=i;var m=u["!cols"][d].wpx+"px";r.push('  <style:style style:name="co'+i+`" style:family="table-column">
`),r.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),r.push(`  </style:style>
`),++i}}});var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=o;var h=u["!rows"][d].hpx+"px";r.push('  <style:style style:name="ro'+o+`" style:family="table-row">
`),r.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),r.push(`  </style:style>
`),++o}}}),r.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),r.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),r.push(`  </style:style>
`),r.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),r.push(`   <number:month number:style="long"/>
`),r.push(`   <number:text>/</number:text>
`),r.push(`   <number:day number:style="long"/>
`),r.push(`   <number:text>/</number:text>
`),r.push(`   <number:year/>
`),r.push(`  </number:date-style>
`);var c={},l=69;return s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u){var d=u["!data"]!=null;if(u["!ref"])for(var h=or(u["!ref"]),m=0;m<=h.e.r;++m)for(var y=0;y<=h.e.c;++y){var v=d?(u["!data"][m]||[])[y]:u[pn({r:m,c:y})];if(!(!v||!v.z||v.z.toLowerCase()=="general")&&!c[v.z]){var x=i7e(v.z,"N"+l);x&&(c[v.z]="N"+l,++l,r.push(x+`
`))}}}}),r.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),pa(c).forEach(function(u){r.push('<style:style style:name="ce'+c[u].slice(1)+'" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="'+c[u]+`"/>
`)}),r.push(` </office:automatic-styles>
`),c};return function(s,i){var o=[Ua],c=xd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),l=xd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});i.bookType=="fods"?(o.push("<office:document"+c+l+`>
`),o.push(gH().replace(/<office:document-meta[^<>]*?>/,"").replace(/<\/office:document-meta>/,"")+`
`)):o.push("<office:document-content"+c+`>
`);var u=a(o,s);o.push(`  <office:body>
`),o.push(`    <office:spreadsheet>
`),((s.Workbook||{}).WBProps||{}).date1904&&o.push(`      <table:calculation-settings table:case-sensitive="false" table:search-criteria-must-apply-to-whole-cell="true" table:use-wildcards="true" table:use-regular-expressions="false" table:automatic-find-labels="false">
        <table:null-date table:date-value="1904-01-01"/>
      </table:calculation-settings>
`);for(var d=0;d!=s.SheetNames.length;++d)o.push(n(s.Sheets[s.SheetNames[d]],s,d,i,u,((s.Workbook||{}).WBProps||{}).date1904));return(s.Workbook||{}).Names&&o.push(jM(s.Workbook.Names,s.SheetNames,-1)),o.push(`    </office:spreadsheet>
`),o.push(`  </office:body>
`),i.bookType=="fods"?o.push("</office:document>"):o.push("</office:document-content>"),o.join("")}}();function LK(t,e){if(e.bookType=="fods")return HM(t,e);var n=SD(),a="",r=[],s=[];return a="mimetype",en(n,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",en(n,a,HM(t,e)),r.push([a,"text/xml"]),s.push([a,"ContentFile"]),a="styles.xml",en(n,a,s7e(t,e)),r.push([a,"text/xml"]),s.push([a,"StylesFile"]),a="meta.xml",en(n,a,Ua+gH()),r.push([a,"text/xml"]),s.push([a,"MetadataFile"]),a="manifest.rdf",en(n,a,$$e(s)),r.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",en(n,a,F$e(r)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */var Ha=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":(typeof Buffer.from=="function"?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function yl(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function _o(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):qn(xc(t))}function bs(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ss(nc(t))}function Eu(t){for(var e=0,n=0;n<t.length;++n)e+=t[n].length;var a=new Uint8Array(e),r=0;for(n=0;n<t.length;++n){var s=t[n],i=s.length;if(i<250)for(var o=0;o<i;++o)a[r++]=s[o];else a.set(s,r),r+=i}return a}function j0(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function o7e(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,a=t[e+14]&1,r=e+13;r>=e;--r)a=a*256+t[r];return(t[e+15]&128?-a:a)*Math.pow(10,n-6176)}function c7e(t,e,n){var a=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-16,r=n/Math.pow(10,a-6176);t[e+15]|=a>>7,t[e+14]|=(a&127)<<1;for(var s=0;r>=1;++s,r/=256)t[e+s]=r&255;t[e+15]|=n>=0?0:128}function Bg(t,e){var n=e.l,a=t[n]&127;e:if(t[n++]>=128&&(a|=(t[n]&127)<<7,t[n++]<128||(a|=(t[n]&127)<<14,t[n++]<128)||(a|=(t[n]&127)<<21,t[n++]<128)||(a+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(a+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(a+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e.l=n,a}function St(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e[Ha](0,n)}function MK(t){for(var e={l:0},n=[];e.l<t.length;)n.push(Bg(t,e));return n}function BK(t){return Eu(t.map(function(e){return St(e)}))}function tn(t){var e=0,n=t[e]&127;return t[e++]<128||(n|=(t[e]&127)<<7,t[e++]<128)||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128)||(n|=(t[e]&15)<<28),n}function ot(t){for(var e=[],n={l:0};n.l<t.length;){var a=n.l,r=Bg(t,n),s=r&7;r=r/8|0;var i,o=n.l;switch(s){case 0:{for(;t[o++]>=128;);i=t[Ha](n.l,o),n.l=o}break;case 1:i=t[Ha](o,o+8),n.l=o+8;break;case 2:{var c=Bg(t,n);i=t[Ha](n.l,n.l+c),n.l+=c}break;case 5:i=t[Ha](o,o+4),n.l=o+4;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(a))}var l={data:i,type:s};e[r]==null&&(e[r]=[]),e[r].push(l)}return e}function Ct(t){var e=[];return t.forEach(function(n,a){a!=0&&n.forEach(function(r){r.data&&(e.push(St(a*8+r.type)),r.type==2&&e.push(St(r.data.length)),e.push(r.data))})}),Eu(e)}function Cu(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function zg(t){for(var e,n=[],a={l:0};a.l<t.length;){var r=Bg(t,a),s=ot(t[Ha](a.l,a.l+r));a.l+=r;var i={id:tn(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=ot(o.data),l=tn(c[3][0].data);i.messages.push({meta:c,data:t[Ha](a.l,a.l+l)}),a.l+=l}),(e=s[3])!=null&&e[0]&&(i.merge=tn(s[3][0].data)>>>0>0),n.push(i)}return n}function ch(t){var e=[];return t.forEach(function(n){var a=[[],[{data:St(n.id),type:0}],[]];n.merge!=null&&(a[3]=[{data:St(+!!n.merge),type:0}]);var r=[];n.messages.forEach(function(i){r.push(i.data),i.meta[3]=[{type:0,data:St(i.data.length)}],a[2].push({data:Ct(i.meta),type:2})});var s=Ct(a);e.push(St(s.length)),e.push(s),r.forEach(function(i){return e.push(i)})}),Eu(e)}function l7e(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n={l:0},a=Bg(e,n),r=[],s=n.l;s<e.length;){var i=e[s]&3;if(i==0){var o=e[s++]>>2;if(o<60)++o;else{var c=o-59;o=e[s],c>1&&(o|=e[s+1]<<8),c>2&&(o|=e[s+2]<<16),c>3&&(o|=e[s+3]<<24),o>>>=0,o++,s+=c}r.push(e[Ha](s,s+o)),s+=o;continue}else{var l=0,u=0;if(i==1?(u=(e[s]>>2&7)+4,l=(e[s++]&224)<<3,l|=e[s++]):(u=(e[s++]>>2)+1,i==2?(l=e[s]|e[s+1]<<8,s+=2):(l=(e[s]|e[s+1]<<8|e[s+2]<<16|e[s+3]<<24)>>>0,s+=4)),l==0)throw new Error("Invalid offset 0");for(var d=r.length-1,h=l;d>=0&&h>=r[d].length;)h-=r[d].length,--d;if(d<0)if(h==0)h=r[d=0].length;else throw new Error("Invalid offset beyond length");if(u<h)r.push(r[d][Ha](r[d].length-h,r[d].length-h+u));else{for(h>0&&(r.push(r[d][Ha](r[d].length-h)),u-=h),++d;u>=r[d].length;)r.push(r[d]),u-=r[d].length,++d;u&&r.push(r[d][Ha](0,u))}r.length>25&&(r=[Eu(r)])}}for(var m=0,y=0;y<r.length;++y)m+=r[y].length;if(m!=a)throw new Error("Unexpected length: ".concat(m," != ").concat(a));return r}function Gg(t){Array.isArray(t)&&(t=new Uint8Array(t));for(var e=[],n=0;n<t.length;){var a=t[n++],r=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push.apply(e,l7e(a,t[Ha](n,n+r))),n+=r}if(n!==t.length)throw new Error("data is not a valid framed stream!");return e.length==1?e[0]:Eu(e)}function lh(t){for(var e=[],n=0;n<t.length;){var a=Math.min(t.length-n,268435455),r=new Uint8Array(4);e.push(r);var s=St(a),i=s.length;e.push(s),a<=60?(i++,e.push(new Uint8Array([a-1<<2]))):a<=256?(i+=2,e.push(new Uint8Array([240,a-1&255]))):a<=65536?(i+=3,e.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(i+=4,e.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(i+=5,e.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),e.push(t[Ha](n,n+a)),i+=a,r[0]=0,r[1]=i&255,r[2]=i>>8&255,r[3]=i>>16&255,n+=a}return Eu(e)}var u7e=function(){return{sst:[],rsst:[],ofmt:[],nfmt:[],fmla:[],ferr:[],cmnt:[]}};function zK(t,e,n,a,r){var s,i,o,c,l=e&255,u=e>>8,d=u>=5?r:a;e:if(n&(u>4?8:4)&&t.t=="n"&&l==7){var h=(s=d[7])!=null&&s[0]?tn(d[7][0].data):-1;if(h==-1)break e;var m=(i=d[15])!=null&&i[0]?tn(d[15][0].data):-1,y=(o=d[16])!=null&&o[0]?tn(d[16][0].data):-1,v=(c=d[40])!=null&&c[0]?tn(d[40][0].data):-1,x=t.v,k=x;t:if(v){if(x==0){m=y=2;break t}x>=604800?m=1:x>=86400?m=2:x>=3600?m=4:x>=60?m=8:x>=1?m=16:m=32,Math.floor(x)!=x?y=32:x%60?y=16:x%3600?y=8:x%86400?y=4:x%604800&&(y=2),y<m&&(y=m)}if(m==-1||y==-1)break e;var b=[],_=[];m==1&&(k=x/604800,y==1?_.push('d"d"'):(k|=0,x-=604800*k),b.push(k+(h==2?" week"+(k==1?"":"s"):h==1?"w":""))),m<=2&&y>=2&&(k=x/86400,y>2&&(k|=0,x-=86400*k),_.push('d"d"'),b.push(k+(h==2?" day"+(k==1?"":"s"):h==1?"d":""))),m<=4&&y>=4&&(k=x/3600,y>4&&(k|=0,x-=3600*k),_.push((m>=4?"[h]":"h")+'"h"'),b.push(k+(h==2?" hour"+(k==1?"":"s"):h==1?"h":""))),m<=8&&y>=8&&(k=x/60,y>8&&(k|=0,x-=60*k),_.push((m>=8?"[m]":"m")+'"m"'),h==0?b.push((m==8&&y==8||k>=10?"":"0")+k):b.push(k+(h==2?" minute"+(k==1?"":"s"):h==1?"m":""))),m<=16&&y>=16&&(k=x,y>16&&(k|=0,x-=k),_.push((m>=16?"[s]":"s")+'"s"'),h==0?b.push((y==16&&m==16||k>=10?"":"0")+k):b.push(k+(h==2?" second"+(k==1?"":"s"):h==1?"s":""))),y>=32&&(k=Math.round(1e3*x),m<32&&_.push('.000"ms"'),h==0?b.push((k>=100?"":k>=10?"0":"00")+k):b.push(k+(h==2?" millisecond"+(k==1?"":"s"):h==1?"ms":""))),t.w=b.join(h==0?":":" "),t.z=_.join(h==0?'":"':" "),h==0&&(t.w=t.w.replace(/:(\d\d\d)$/,".$1"))}}function f7e(t,e,n,a){var r=yl(t),s=r.getUint32(4,!0),i=-1,o=-1,c=-1,l=NaN,u=0,d=new Date(Date.UTC(2001,0,1)),h=n>1?12:8;s&2&&(c=r.getUint32(h,!0),h+=4),h+=j0(s&(n>1?3468:396))*4,s&512&&(i=r.getUint32(h,!0),h+=4),h+=j0(s&(n>1?12288:4096))*4,s&16&&(o=r.getUint32(h,!0),h+=4),s&32&&(l=r.getFloat64(h,!0),h+=8),s&64&&(d.setTime(d.getTime()+(u=r.getFloat64(h,!0))*1e3),h+=8),n>1&&(s=r.getUint32(8,!0)>>>16,s&255&&(c==-1&&(c=r.getUint32(h,!0)),h+=4));var m,y=t[n>=4?1:2];switch(y){case 0:return;case 2:m={t:"n",v:l};break;case 3:m={t:"s",v:e.sst[o]};break;case 5:a!=null&&a.cellDates?m={t:"d",v:d}:m={t:"n",v:u/86400+35430,z:It[14]};break;case 6:m={t:"b",v:l>0};break;case 7:m={t:"n",v:l};break;case 8:m={t:"e",v:0};break;case 9:if(i>-1){var v=e.rsst[i];m={t:"s",v:v.v},v.l&&(m.l={Target:v.l})}else throw new Error("Unsupported cell type ".concat(t[Ha](0,4)));break;default:throw new Error("Unsupported cell type ".concat(t[Ha](0,4)))}return c>-1&&zK(m,y|n<<8,s,e.ofmt[c],e.nfmt[c]),y==7&&(m.v/=86400),m}function d7e(t,e,n){var a=yl(t);a.getUint32(4,!0);var r=a.getUint32(8,!0),s=12,i=-1,o=-1,c=-1,l=NaN,u=NaN,d=0,h=new Date(Date.UTC(2001,0,1));r&1&&(l=o7e(t,s),s+=16),r&2&&(u=a.getFloat64(s,!0),s+=8),r&4&&(h.setTime(h.getTime()+(d=a.getFloat64(s,!0))*1e3),s+=8),r&8&&(o=a.getUint32(s,!0),s+=4),r&16&&(i=a.getUint32(s,!0),s+=4),s+=j0(r&480)*4,r&512&&(a.getUint32(s,!0),s+=4),s+=j0(r&1024)*4,r&2048&&(a.getUint32(s,!0),s+=4);var m,y=t[1];switch(y){case 0:m={t:"z"};break;case 2:m={t:"n",v:l};break;case 3:m={t:"s",v:e.sst[o]};break;case 5:n!=null&&n.cellDates?m={t:"d",v:h}:m={t:"n",v:d/86400+35430,z:It[14]};break;case 6:m={t:"b",v:u>0};break;case 7:m={t:"n",v:u};break;case 8:m={t:"e",v:0};break;case 9:if(i>-1){var v=e.rsst[i];m={t:"s",v:v.v},v.l&&(m.l={Target:v.l})}else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(r&31," : ").concat(t[Ha](0,4)));break;case 10:m={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(r&31," : ").concat(t[Ha](0,4)))}if(s+=j0(r&4096)*4,r&516096&&(c==-1&&(c=a.getUint32(s,!0)),s+=4),r&524288){var x=a.getUint32(s,!0);s+=4,e.cmnt[x]&&(m.c=g7e(e.cmnt[x]))}return c>-1&&zK(m,y|1280,r>>13,e.ofmt[c],e.nfmt[c]),y==7&&(m.v/=86400),m}function cS(t,e){var n=new Uint8Array(32),a=yl(n),r=12,s=0;switch(n[0]=5,t.t){case"n":if(t.z&&hi(t.z)){n[1]=5,a.setFloat64(r,(rl(t.v+1462).getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break}else n[1]=2,c7e(n,r,t.v),s|=1,r+=16;break;case"b":n[1]=6,a.setFloat64(r,t.v?1:0,!0),s|=2,r+=8;break;case"s":{var i=t.v==null?"":String(t.v);if(t.l){var o=e.rsst.findIndex(function(l){var u;return l.v==i&&l.l==((u=t.l)==null?void 0:u.Target)});o==-1&&(e.rsst[o=e.rsst.length]={v:i,l:t.l.Target}),n[1]=9,a.setUint32(r,o,!0),s|=16,r+=4}else{var c=e.sst.indexOf(i);c==-1&&(e.sst[c=e.sst.length]=i),n[1]=3,a.setUint32(r,c,!0),s|=8,r+=4}}break;case"d":n[1]=5,a.setFloat64(r,(t.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=4,r+=8;break;case"z":n[1]=0;break;default:throw"unsupported cell type "+t.t}return t.c&&(e.cmnt.push(y7e(t.c)),a.setUint32(r,e.cmnt.length-1,!0),s|=524288,r+=4),a.setUint32(8,s,!0),n[Ha](0,r)}function lS(t,e){var n=new Uint8Array(32),a=yl(n),r=12,s=0,i="";switch(n[0]=4,t.t){case"n":break;case"b":break;case"s":if(i=t.v==null?"":String(t.v),t.l){var o=e.rsst.findIndex(function(l){var u;return l.v==i&&l.l==((u=t.l)==null?void 0:u.Target)});o==-1&&(e.rsst[o=e.rsst.length]={v:i,l:t.l.Target}),n[1]=9,a.setUint32(r,o,!0),s|=512,r+=4}break;case"d":break;case"e":break;case"z":break;default:throw"unsupported cell type "+t.t}switch(t.c&&(a.setUint32(r,e.cmnt.length-1,!0),s|=4096,r+=4),t.t){case"n":n[1]=2,a.setFloat64(r,t.v,!0),s|=32,r+=8;break;case"b":n[1]=6,a.setFloat64(r,t.v?1:0,!0),s|=32,r+=8;break;case"s":if(i=t.v==null?"":String(t.v),!t.l){var c=e.sst.indexOf(i);c==-1&&(e.sst[c=e.sst.length]=i),n[1]=3,a.setUint32(r,c,!0),s|=16,r+=4}break;case"d":n[1]=5,a.setFloat64(r,(t.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),s|=64,r+=8;break;case"z":n[1]=0;break;default:throw"unsupported cell type "+t.t}return a.setUint32(8,s,!0),n[Ha](0,r)}function p7e(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:case 4:return f7e(t,e,t[0],n);case 5:return d7e(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function bn(t){var e=ot(t);return tn(e[1][0].data)}function es(t){return Ct([[],[{type:0,data:St(t)}]])}function Jr(t,e){var n,a=(n=t.messages[0].meta[5])!=null&&n[0]?MK(t.messages[0].meta[5][0].data):[],r=a.indexOf(e);r==-1&&(a.push(e),t.messages[0].meta[5]=[{type:2,data:BK(a)}])}function Vc(t,e){var n,a=(n=t.messages[0].meta[5])!=null&&n[0]?MK(t.messages[0].meta[5][0].data):[];t.messages[0].meta[5]=[{type:2,data:BK(a.filter(function(r){return r!=e}))}]}function vf(t,e){var n=ot(e.data),a=tn(n[1][0].data),r=n[3],s=[];return(r||[]).forEach(function(i){var o,c,l=ot(i.data);if(l[1]){var u=tn(l[1][0].data)>>>0;switch(a){case 1:s[u]=_o(l[3][0].data);break;case 8:{var d=t[bn(l[9][0].data)][0],h=ot(d.data),m=t[bn(h[1][0].data)][0],y=tn(m.meta[1][0].data);if(y!=2001)throw new Error("2000 unexpected reference to ".concat(y));var v=ot(m.data),x={v:v[3].map(function(_){return _o(_.data)}).join("")};s[u]=x;e:if((o=v==null?void 0:v[11])!=null&&o[0]){var k=(c=ot(v[11][0].data))==null?void 0:c[1];if(!k)break e;k.forEach(function(_){var A,S,C,E=ot(_.data);if((A=E[2])!=null&&A[0]){var D=t[bn((S=E[2])==null?void 0:S[0].data)][0],I=tn(D.meta[1][0].data);switch(I){case 2032:var P=ot(D.data);(C=P==null?void 0:P[2])!=null&&C[0]&&!x.l&&(x.l=_o(P[2][0].data));break;case 2039:break;default:console.log("unrecognized ObjectAttribute type ".concat(I))}}})}}break;case 2:s[u]=ot(l[6][0].data);break;case 3:s[u]=ot(l[5][0].data);break;case 10:{var b=t[bn(l[10][0].data)][0];s[u]=GK(t,b.data)}break;default:throw a}}}),s}function h7e(t,e){var n,a,r,s,i,o,c,l,u,d,h,m,y,v,x=ot(t),k=tn(x[1][0].data)>>>0,b=tn(x[2][0].data)>>>0,_=((a=(n=x[8])==null?void 0:n[0])==null?void 0:a.data)&&tn(x[8][0].data)>0||!1,A,S;if((s=(r=x[7])==null?void 0:r[0])!=null&&s.data&&e!=0)A=(o=(i=x[7])==null?void 0:i[0])==null?void 0:o.data,S=(l=(c=x[6])==null?void 0:c[0])==null?void 0:l.data;else if((d=(u=x[4])==null?void 0:u[0])!=null&&d.data&&e!=1)A=(m=(h=x[4])==null?void 0:h[0])==null?void 0:m.data,S=(v=(y=x[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var C=_?4:1,E=yl(A),D=[],I=0;I<A.length/2;++I){var P=E.getUint16(I*2,!0);P<65535&&D.push([I,P])}if(D.length!=b)throw"Expected ".concat(b," cells, found ").concat(D.length);var R=[];for(I=0;I<D.length-1;++I)R[D[I][0]]=S[Ha](D[I][1]*C,D[I+1][1]*C);return D.length>=1&&(R[D[D.length-1][0]]=S[Ha](D[D.length-1][1]*C)),{R:k,cells:R}}function m7e(t,e){var n,a=ot(e.data),r=-1;(n=a==null?void 0:a[7])!=null&&n[0]&&(tn(a[7][0].data)>>>0?r=1:r=0);var s=Cu(a[5],function(i){return h7e(i,r)});return{nrows:tn(a[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(c,l){if(i[o.R][l])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(l));i[o.R][l]=c}),i},[])}}function GK(t,e){var n,a,r,s,i,o,c,l,u,d,h={t:"",a:""},m=ot(e);if((a=(n=m==null?void 0:m[1])==null?void 0:n[0])!=null&&a.data&&(h.t=_o((s=(r=m==null?void 0:m[1])==null?void 0:r[0])==null?void 0:s.data)||""),(o=(i=m==null?void 0:m[3])==null?void 0:i[0])!=null&&o.data){var y=t[bn((l=(c=m==null?void 0:m[3])==null?void 0:c[0])==null?void 0:l.data)][0],v=ot(y.data);(d=(u=v[1])==null?void 0:u[0])!=null&&d.data&&(h.a=_o(v[1][0].data))}return m!=null&&m[4]&&(h.replies=[],m[4].forEach(function(x){var k=t[bn(x.data)][0];h.replies.push(GK(t,k.data))})),h}function g7e(t){var e=[];return e.push({t:t.t||"",a:t.a,T:t.replies&&t.replies.length>0}),t.replies&&t.replies.forEach(function(n){e.push({t:n.t||"",a:n.a,T:!0})}),e}function y7e(t){for(var e={a:"",t:"",replies:[]},n=0;n<t.length;++n)n==0?(e.a=t[n].a,e.t=t[n].t):e.replies.push({a:t[n].a,t:t[n].t});return e}function x7e(t,e,n,a){var r,s,i,o,c,l,u,d,h,m,y,v,x,k,b=ot(e.data),_={s:{r:0,c:0},e:{r:0,c:0}};if(_.e.r=(tn(b[6][0].data)>>>0)-1,_.e.r<0)throw new Error("Invalid row varint ".concat(b[6][0].data));if(_.e.c=(tn(b[7][0].data)>>>0)-1,_.e.c<0)throw new Error("Invalid col varint ".concat(b[7][0].data));n["!ref"]=an(_);var A=n["!data"]!=null,S=n,C=ot(b[4][0].data),E=u7e();(r=C[4])!=null&&r[0]&&(E.sst=vf(t,t[bn(C[4][0].data)][0])),(s=C[6])!=null&&s[0]&&(E.fmla=vf(t,t[bn(C[6][0].data)][0])),(i=C[11])!=null&&i[0]&&(E.ofmt=vf(t,t[bn(C[11][0].data)][0])),(o=C[12])!=null&&o[0]&&(E.ferr=vf(t,t[bn(C[12][0].data)][0])),(c=C[17])!=null&&c[0]&&(E.rsst=vf(t,t[bn(C[17][0].data)][0])),(l=C[19])!=null&&l[0]&&(E.cmnt=vf(t,t[bn(C[19][0].data)][0])),(u=C[22])!=null&&u[0]&&(E.nfmt=vf(t,t[bn(C[22][0].data)][0]));var D=ot(C[3][0].data),I=0;if(!((d=C[9])!=null&&d[0]))throw"NUMBERS file missing row tree";var P=ot(C[9][0].data)[1].map(function(j){return ot(j.data)});if(P.forEach(function(j){I=tn(j[1][0].data);var W=tn(j[2][0].data),J=D[1][W];if(!J)throw"NUMBERS missing tile "+W;var q=ot(J.data),Z=t[bn(q[2][0].data)][0],M=tn(Z.meta[1][0].data);if(M!=6002)throw new Error("6001 unexpected reference to ".concat(M));var se=m7e(t,Z);se.data.forEach(function(ue,le){ue.forEach(function(ie,ye){var ke=p7e(ie,E,a);ke&&(A?(S["!data"][I+le]||(S["!data"][I+le]=[]),S["!data"][I+le][ye]=ke):n[Zt(ye)+hn(I+le)]=ke)})}),I+=se.nrows}),(h=C[13])!=null&&h[0]){var R=t[bn(C[13][0].data)][0],B=tn(R.meta[1][0].data);if(B!=6144)throw new Error("Expected merge type 6144, found ".concat(B));n["!merges"]=(m=ot(R.data))==null?void 0:m[1].map(function(j){var W=ot(j.data),J=yl(ot(W[1][0].data)[1][0].data),q=yl(ot(W[2][0].data)[1][0].data);return{s:{r:J.getUint16(0,!0),c:J.getUint16(2,!0)},e:{r:J.getUint16(0,!0)+q.getUint16(0,!0)-1,c:J.getUint16(2,!0)+q.getUint16(2,!0)-1}}})}if(!((y=n["!merges"])!=null&&y.length)&&((v=b[47])!=null&&v[0])){var U=ot(b[47][0].data);if((x=U[2])!=null&&x[0]){var V=ot(U[2][0].data);(k=V[3])!=null&&k[0]&&(n["!merges"]=Cu(V[3],function(j){var W,J,q,Z,M,se=ot(j),ue=ot(se[2][0].data),le=ot(ue[1][0].data);if((W=le[1])!=null&&W[0]){var ie=ot(le[1][0].data),ye=tn(ie[1][0].data);if(ye==67){var ke=ot(ie[40][0].data);if(!(!((J=ke[3])!=null&&J[0])||!((q=ke[4])!=null&&q[0]))){var ge=ot(ke[3][0].data),G=ot(ke[4][0].data),te=tn(ge[1][0].data),ee=(Z=ge[2])!=null&&Z[0]?tn(ge[2][0].data):te,ae=tn(G[1][0].data),be=(M=G[2])!=null&&M[0]?tn(G[2][0].data):ae;return{s:{r:ae,c:te},e:{r:be,c:ee}}}}}}).filter(function(j){return j!=null}))}}}function v7e(t,e,n){var a=ot(e.data),r={"!ref":"A1"};n!=null&&n.dense&&(r["!data"]=[]);var s=t[bn(a[2][0].data)],i=tn(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return x7e(t,s[0],r,n),r}function k7e(t,e,n){var a,r=ot(e.data),s={name:(a=r[1])!=null&&a[0]?_o(r[1][0].data):"",sheets:[]},i=Cu(r[2],bn);return i.forEach(function(o){t[o].forEach(function(c){var l=tn(c.meta[1][0].data);l==6e3&&s.sheets.push(v7e(t,c,n))})}),s}function w7e(t,e,n){var a,r=sR();r.Workbook={WBProps:{date1904:!0}};var s=ot(e.data);if((a=s[2])!=null&&a[0])throw new Error("Keynote presentations are not supported");var i=Cu(s[1],bn);if(i.forEach(function(o){t[o].forEach(function(c){var l=tn(c.meta[1][0].data);if(l==2){var u=k7e(t,c,n);u.sheets.forEach(function(d,h){z1(r,d,h==0?u.name:u.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r.bookType="numbers",r}function uS(t,e){var n,a,r,s,i,o,c,l={},u=[];if(t.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)&&h.content[0]==0){var m;try{m=Gg(h.content)}catch(v){return console.log("?? "+h.content.length+" "+(v.message||v))}var y;try{y=zg(m)}catch(v){return console.log("## "+(v.message||v))}y.forEach(function(v){l[v.id]=v.messages,u.push(v.id)})}}),!u.length)throw new Error("File has no messages");if((r=(a=(n=l==null?void 0:l[1])==null?void 0:n[0].meta)==null?void 0:a[1])!=null&&r[0].data&&tn(l[1][0].meta[1][0].data)==1e4)throw new Error("Pages documents are not supported");var d=((c=(o=(i=(s=l==null?void 0:l[1])==null?void 0:s[0])==null?void 0:i.meta)==null?void 0:o[1])==null?void 0:c[0].data)&&tn(l[1][0].meta[1][0].data)==1&&l[1][0];if(d||u.forEach(function(h){l[h].forEach(function(m){var y=tn(m.meta[1][0].data)>>>0;if(y==1)if(!d)d=m;else throw new Error("Document has multiple roots")})}),!d)throw new Error("Cannot find Document root");return w7e(l,d,e)}function b7e(t,e,n){var a,r,s,i=[[],[{type:0,data:St(0)}],[{type:0,data:St(0)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:St(5)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:St(1)}]];if(!((a=i[6])!=null&&a[0])||!((r=i[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var o=0;if(i[7][0].data.length<2*t.length){var c=new Uint8Array(2*t.length);c.set(i[7][0].data),i[7][0].data=c}if(i[4][0].data.length<2*t.length){var l=new Uint8Array(2*t.length);l.set(i[4][0].data),i[4][0].data=l}for(var u=yl(i[7][0].data),d=0,h=[],m=yl(i[4][0].data),y=0,v=[],x=4,k=0;k<t.length;++k){if(t[k]==null||t[k].t=="z"&&!((s=t[k].c)!=null&&s.length)||t[k].t=="e"){u.setUint16(k*2,65535,!0),m.setUint16(k*2,65535);continue}u.setUint16(k*2,d/x,!0),m.setUint16(k*2,y/x,!0);var b,_;switch(t[k].t){case"d":if(t[k].v instanceof Date){b=cS(t[k],e),_=lS(t[k],e);break}b=cS(t[k],e),_=lS(t[k],e);break;case"s":case"n":case"b":case"z":b=cS(t[k],e),_=lS(t[k],e);break;default:throw new Error("Unsupported value "+t[k])}h.push(b),d+=b.length,v.push(_),y+=_.length,++o}for(i[2][0].data=St(o),i[5][0].data=St(5);k<i[7][0].data.length/2;++k)u.setUint16(k*2,65535,!0),m.setUint16(k*2,65535,!0);return i[6][0].data=Eu(h),i[3][0].data=Eu(v),i[8]=[{type:0,data:St(1)}],i}function sE(t,e){return{meta:[[],[{type:0,data:St(t)}]],data:e}}function Qo(t,e){e.last||(e.last=927262);for(var n=e.last;n<2e6;++n)if(!e[n])return e[e.last=n]=t,n;throw new Error("Too many messages")}function _7e(t){var e={},n=[];return t.FileIndex.map(function(a,r){return[a,t.FullPaths[r]]}).forEach(function(a){var r=a[0],s=a[1];r.type==2&&r.name.match(/\.iwa/)&&r.content[0]==0&&zg(Gg(r.content)).forEach(function(i){n.push(i.id),e[i.id]={deps:[],location:s,type:tn(i.messages[0].meta[1][0].data)}})}),t.FileIndex.forEach(function(a){a.name.match(/\.iwa/)&&a.content[0]==0&&zg(Gg(a.content)).forEach(function(r){r.messages.forEach(function(s){[5,6].forEach(function(i){s.meta[i]&&s.meta[i].forEach(function(o){e[r.id].deps.push(tn(o.data))})})})})}),e}function Pv(t,e,n){return Ct([[],[{type:0,data:St(1)}],[],[{type:5,data:new Uint8Array(Float32Array.from([t/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([e/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([n/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([1]).buffer)}],[],[],[],[],[],[{type:0,data:St(1)}]])}function KM(t){switch(t){case 0:return Pv(99,222,171);case 1:return Pv(162,197,240);case 2:return Pv(255,189,189)}return Pv(Math.random()*255,Math.random()*255,Math.random()*255)}function A7e(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=Mt.read(e.numbers,{type:"base64"}),a=_7e(n),r=Jo(n,a,1);if(r==null)throw"Could not find message ".concat(1," in Numbers template");var s=Cu(ot(r.messages[0].data)[1],bn);if(s.length>1)throw new Error("Template NUMBERS file must have exactly one sheet");return t.SheetNames.forEach(function(i,o){o>=1&&(S7e(n,a,o+1),r=Jo(n,a,1),s=Cu(ot(r.messages[0].data)[1],bn)),T7e(n,a,t.Sheets[i],i,o,s[o])}),n}function Zn(t,e,n,a){var r=Mt.find(t,e[n].location);if(!r)throw"Could not find ".concat(e[n].location," in Numbers template");var s=zg(Gg(r.content)),i=s.find(function(o){return o.id==n});a(i,s),r.content=lh(ch(s)),r.size=r.content.length}function Jo(t,e,n){var a=Mt.find(t,e[n].location);if(!a)throw"Could not find ".concat(e[n].location," in Numbers template");var r=zg(Gg(a.content)),s=r.find(function(i){return i.id==n});return s}function iE(t,e,n){t[3].push({type:2,data:Ct([[],[{type:0,data:St(e)}],[{type:2,data:bs(n.replace(/-[\s\S]*$/,""))}],[{type:2,data:bs(n)}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:St(0)}],[],[{type:0,data:St(0)}]])}),t[1]=[{type:0,data:St(Math.max(e+1,tn(t[1][0].data)))}]}function kf(t,e,n,a,r,s){s||(s=Qo({deps:[],location:"",type:e},r));var i="".concat(a,"-").concat(s,".iwa");r[s].location="Root Entry"+i,Mt.utils.cfb_add(t,i,lh(ch([{id:s,messages:[sE(e,Ct(n))]}])));var o=i.replace(/^[\/]/,"").replace(/^Index\//,"").replace(/\.iwa$/,"");return Zn(t,r,2,function(c){var l=ot(c.messages[0].data);iE(l,s||0,o),c.messages[0].data=Ct(l)}),s}function Bs(t,e,n,a){var r=e[n].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=t[3].findIndex(function(o){var c,l,u=ot(o.data);return(c=u[3])!=null&&c[0]?_o(u[3][0].data)==r:!!((l=u[2])!=null&&l[0]&&_o(u[2][0].data)==r)}),i=ot(t[3][s].data);i[6]||(i[6]=[]),(Array.isArray(a)?a:[a]).forEach(function(o){i[6].push({type:2,data:Ct([[],[{type:0,data:St(o)}]])})}),t[3][s].data=Ct(i)}function N7e(t,e,n,a){var r=e[n].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),s=t[3].findIndex(function(o){var c,l,u=ot(o.data);return(c=u[3])!=null&&c[0]?_o(u[3][0].data)==r:!!((l=u[2])!=null&&l[0]&&_o(u[2][0].data)==r)}),i=ot(t[3][s].data);i[6]||(i[6]=[]),i[6]=i[6].filter(function(o){return tn(ot(o.data)[1][0].data)!=a}),t[3][s].data=Ct(i)}function S7e(t,e,n){var a=-1,r=-1,s={};Zn(t,e,1,function(c,l){var u=ot(c.messages[0].data);a=bn(ot(c.messages[0].data)[1][0].data),r=Qo({deps:[1],location:e[a].location,type:2},e),s[a]=r,Jr(c,r),u[1].push({type:2,data:es(r)});var d=Jo(t,e,a);d.id=r,e[1].location==e[r].location?l.push(d):Zn(t,e,r,function(h,m){return m.push(d)}),c.messages[0].data=Ct(u)});var i=-1;Zn(t,e,r,function(c,l){for(var u=ot(c.messages[0].data),d=3;d<=69;++d)delete u[d];var h=Cu(u[2],bn);h.forEach(function(y){return Vc(c,y)}),i=Qo({deps:[r],location:e[h[0]].location,type:e[h[0]].type},e),Jr(c,i),s[h[0]]=i,u[2]=[{type:2,data:es(i)}];var m=Jo(t,e,h[0]);m.id=i,e[h[0]].location==e[r].location?l.push(m):(Zn(t,e,2,function(y){var v=ot(y.messages[0].data);Bs(v,e,r,i),y.messages[0].data=Ct(v)}),Zn(t,e,i,function(y,v){return v.push(m)})),c.messages[0].data=Ct(u)});var o=-1;Zn(t,e,i,function(c,l){for(var u=ot(c.messages[0].data),d=ot(u[1][0].data),h=3;h<=69;++h)delete d[h];var m=bn(d[2][0].data);d[2][0].data=es(s[m]),u[1][0].data=Ct(d);var y=bn(u[2][0].data);Vc(c,y),o=Qo({deps:[i],location:e[y].location,type:e[y].type},e),Jr(c,o),s[y]=o,u[2][0].data=es(o);var v=Jo(t,e,y);v.id=o,e[i].location==e[o].location?l.push(v):Zn(t,e,o,function(x,k){return k.push(v)}),c.messages[0].data=Ct(u)}),Zn(t,e,o,function(c,l){var u,d,h=ot(c.messages[0].data),m=_o(h[1][0].data),y=m.replace(/-[A-Z0-9]*/,"-".concat(("0000"+n.toString(16)).slice(-4)));if(h[1][0].data=bs(y),[12,13,29,31,32,33,39,44,47,81,82,84].forEach(function(S){return delete h[S]}),h[45]){var v=ot(h[45][0].data),x=bn(v[1][0].data);Vc(c,x),delete h[45]}if(h[70]){var k=ot(h[70][0].data);(u=k[2])==null||u.forEach(function(S){var C=ot(S.data);[2,3].map(function(E){return C[E][0]}).forEach(function(E){var D=ot(E.data);if(D[8]){var I=bn(D[8][0].data);Vc(c,I)}})}),delete h[70]}[46,30,34,35,36,38,48,49,60,61,62,63,64,71,72,73,74,75,85,86,87,88,89].forEach(function(S){if(h[S]){var C=bn(h[S][0].data);delete h[S],Vc(c,C)}});var b=ot(h[4][0].data);{[2,4,5,6,11,12,13,15,16,17,18,19,20,21,22].forEach(function(S){var C;if((C=b[S])!=null&&C[0]){var E=bn(b[S][0].data),D=Qo({deps:[o],location:e[E].location,type:e[E].type},e);Vc(c,E),Jr(c,D),s[E]=D;var I=Jo(t,e,E);if(I.id=D,e[E].location==e[o].location)l.push(I);else{e[D].location=e[E].location.replace(E.toString(),D.toString()),e[D].location==e[E].location&&(e[D].location=e[D].location.replace(/\.iwa/,"-".concat(D,".iwa"))),Mt.utils.cfb_add(t,e[D].location,lh(ch([I])));var P=e[D].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Zn(t,e,2,function(R){var B=ot(R.messages[0].data);iE(B,D,P),Bs(B,e,o,D),R.messages[0].data=Ct(B)})}b[S][0].data=es(D)}});var _=ot(b[1][0].data);(d=_[2])==null||d.forEach(function(S){var C=bn(S.data),E=Qo({deps:[o],location:e[C].location,type:e[C].type},e);Vc(c,C),Jr(c,E),s[C]=E;var D=Jo(t,e,C);if(D.id=E,e[C].location==e[o].location)l.push(D);else{e[E].location=e[C].location.replace(C.toString(),E.toString()),e[E].location==e[C].location&&(e[E].location=e[E].location.replace(/\.iwa/,"-".concat(E,".iwa"))),Mt.utils.cfb_add(t,e[E].location,lh(ch([D])));var I=e[E].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Zn(t,e,2,function(P){var R=ot(P.messages[0].data);iE(R,E,I),Bs(R,e,o,E),P.messages[0].data=Ct(R)})}S.data=es(E)}),b[1][0].data=Ct(_);var A=ot(b[3][0].data);A[1].forEach(function(S){var C=ot(S.data),E=bn(C[2][0].data),D=s[E];if(!s[E]){D=Qo({deps:[o],location:"",type:e[E].type},e),e[D].location="Root Entry/Index/Tables/Tile-".concat(D,".iwa"),s[E]=D;var I=Jo(t,e,E);I.id=D,Vc(c,E),Jr(c,D),Mt.utils.cfb_add(t,"/Index/Tables/Tile-".concat(D,".iwa"),lh(ch([I]))),Zn(t,e,2,function(P){var R=ot(P.messages[0].data);R[3].push({type:2,data:Ct([[],[{type:0,data:St(D)}],[{type:2,data:bs("Tables/Tile")}],[{type:2,data:bs("Tables/Tile-".concat(D))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:St(0)}],[],[{type:0,data:St(0)}]])}),R[1]=[{type:0,data:St(Math.max(D+1,tn(R[1][0].data)))}],Bs(R,e,o,D),P.messages[0].data=Ct(R)})}C[2][0].data=es(D),S.data=Ct(C)}),b[3][0].data=Ct(A)}h[4][0].data=Ct(b),c.messages[0].data=Ct(h)})}function T7e(t,e,n,a,r,s){var i=[];Zn(t,e,s,function(l){var u=ot(l.messages[0].data);u[1]=[{type:2,data:bs(a)}],i=Cu(u[2],bn),l.messages[0].data=Ct(u)});var o=Jo(t,e,i[0]),c=bn(ot(o.messages[0].data)[2][0].data);Zn(t,e,c,function(l,u){return E7e(t,e,n,l,u,c)})}function E7e(t,e,n,a,r,s){if(!n["!ref"])throw new Error("Cannot export empty sheet to NUMBERS");var i=or(n["!ref"]);i.s.r=i.s.c=0;var o=!1;i.e.c>999&&(o=!0,i.e.c=999),i.e.r>999999&&(o=!0,i.e.r=999999),o&&console.error("Truncating to ".concat(an(i)));var c=[];if(n["!data"])c=n["!data"];else{for(var l=[],u=0;u<=i.e.c;++u)l[u]=Zt(u);for(var d=0;d<=i.e.r;++d){c[d]=[];var h=""+(d+1);for(u=0;u<=i.e.c;++u){var m=n[l[u]+h];m&&(c[d][u]=m)}}}var y={cmnt:[{a:"~54ee77S~",t:"... the people who are crazy enough to think they can change the world, are the ones who do."}],rsst:[{v:"~54ee77S~",l:"https://sheetjs.com/"}],sst:["~Sh33tJ5~"]},v=ot(a.messages[0].data);{v[6][0].data=St(i.e.r+1),v[7][0].data=St(i.e.c+1),delete v[46];var x=ot(v[4][0].data);{var k=bn(ot(x[1][0].data)[2][0].data);Zn(t,e,k,function(ue,le){var ie,ye=ot(ue.messages[0].data);if((ie=ye==null?void 0:ye[2])!=null&&ie[0])for(var ke=0;ke<c.length;++ke){var ge=ot(ye[2][0].data);ge[1][0].data=St(ke),ge[4][0].data=St(c[ke].length),ye[2][ke]={type:ye[2][0].type,data:Ct(ge)}}ue.messages[0].data=Ct(ye)});var b=bn(x[2][0].data);Zn(t,e,b,function(ue,le){for(var ie=ot(ue.messages[0].data),ye=0;ye<=i.e.c;++ye){var ke=ot(ie[2][0].data);ke[1][0].data=St(ye),ke[4][0].data=St(i.e.r+1),ie[2][ye]={type:ie[2][0].type,data:Ct(ke)}}ue.messages[0].data=Ct(ie)});var _=ot(x[9][0].data);_[1]=[];var A=ot(x[3][0].data);{var S=256;A[2]=[{type:0,data:St(S)}];var C=bn(ot(A[1][0].data)[2][0].data),E=function(){var ue=Jo(t,e,2),le=ot(ue.messages[0].data),ie=le[3].filter(function(ye){return tn(ot(ye.data)[1][0].data)==C});return ie!=null&&ie.length?tn(ot(ie[0].data)[12][0].data):0}();Mt.utils.cfb_del(t,e[C].location),Zn(t,e,2,function(ue){var le=ot(ue.messages[0].data);le[3]=le[3].filter(function(ie){return tn(ot(ie.data)[1][0].data)!=C}),N7e(le,e,s,C),ue.messages[0].data=Ct(le)}),Vc(a,C),A[1]=[];for(var D=Math.ceil((i.e.r+1)/S),I=0;I<D;++I){var P=Qo({deps:[],location:"",type:6002},e);e[P].location="Root Entry/Index/Tables/Tile-".concat(P,".iwa");for(var R=[[],[{type:0,data:St(0)}],[{type:0,data:St(Math.min(i.e.r+1,(I+1)*S))}],[{type:0,data:St(0)}],[{type:0,data:St(Math.min((I+1)*S,i.e.r+1)-I*S)}],[],[{type:0,data:St(5)}],[{type:0,data:St(1)}],[{type:0,data:St(1)}]],B=I*S;B<=Math.min(i.e.r,(I+1)*S-1);++B){var U=b7e(c[B],y);U[1][0].data=St(B-I*S),R[5].push({data:Ct(U),type:2})}A[1].push({type:2,data:Ct([[],[{type:0,data:St(I)}],[{type:2,data:es(P)}]])});var V={id:P,messages:[sE(6002,Ct(R))]},j=lh(ch([V]));Mt.utils.cfb_add(t,"/Index/Tables/Tile-".concat(P,".iwa"),j),Zn(t,e,2,function(ue){var le=ot(ue.messages[0].data);le[3].push({type:2,data:Ct([[],[{type:0,data:St(P)}],[{type:2,data:bs("Tables/Tile")}],[{type:2,data:bs("Tables/Tile-".concat(P))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:St(0)}],[],[{type:0,data:St(E)}]])}),le[1]=[{type:0,data:St(Math.max(P+1,tn(le[1][0].data)))}],Bs(le,e,s,P),ue.messages[0].data=Ct(le)}),Jr(a,P),_[1].push({type:2,data:Ct([[],[{type:0,data:St(I*S)}],[{type:0,data:St(I)}]])})}}if(x[3][0].data=Ct(A),x[9][0].data=Ct(_),x[10]=[{type:2,data:new Uint8Array([])}],n["!merges"]){var W=Qo({type:6144,deps:[s],location:e[s].location},e);r.push({id:W,messages:[sE(6144,Ct([[],n["!merges"].map(function(ue){return{type:2,data:Ct([[],[{type:2,data:Ct([[],[{type:5,data:new Uint8Array(new Uint16Array([ue.s.r,ue.s.c]).buffer)}]])}],[{type:2,data:Ct([[],[{type:5,data:new Uint8Array(new Uint16Array([ue.e.r-ue.s.r+1,ue.e.c-ue.s.c+1]).buffer)}]])}]])}})]))]}),x[13]=[{type:2,data:es(W)}],Zn(t,e,2,function(ue){var le=ot(ue.messages[0].data);Bs(le,e,s,W),ue.messages[0].data=Ct(le)}),Jr(a,W)}else delete x[13];var J=bn(x[4][0].data);Zn(t,e,J,function(ue){var le=ot(ue.messages[0].data);le[3]=[],y.sst.forEach(function(ie,ye){ye!=0&&le[3].push({type:2,data:Ct([[],[{type:0,data:St(ye)}],[{type:0,data:St(1)}],[{type:2,data:bs(ie)}]])})}),ue.messages[0].data=Ct(le)});var q=bn(x[17][0].data);if(Zn(t,e,q,function(ue){var le=ot(ue.messages[0].data);le[3]=[];var ie=[904980,903835,903815,903845];y.rsst.forEach(function(ye,ke){if(ke!=0){var ge=[[],[{type:0,data:new Uint8Array([5])}],[],[{type:2,data:bs(ye.v)}]];ge[10]=[{type:0,data:new Uint8Array([1])}],ge[19]=[{type:2,data:new Uint8Array([10,6,8,0,18,2,101,110])}],ge[5]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,155,149,55])}],ge[2]=[{type:2,data:new Uint8Array([8,148,158,55])}],ge[6]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ge[7]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,135,149,55])}],ge[8]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,165,149,55])}],ge[14]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],ge[24]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}];var G=Qo({deps:[],location:"",type:2001},e),te=[];if(ye.l){var ee=kf(t,2032,[[],[],[{type:2,data:bs(ye.l)}]],"/Index/Tables/DataList",e);ge[11]=[];var ae=[[],[]];ae[1]||(ae[1]=[]),ae[1].push({type:2,data:Ct([[],[{type:0,data:St(0)}],[{type:2,data:es(ee)}]])}),ge[11][0]={type:2,data:Ct(ae)},te.push(ee)}kf(t,2001,ge,"/Index/Tables/DataList",e,G),Zn(t,e,G,function(Y){ie.forEach(function(Ae){return Jr(Y,Ae)}),te.forEach(function(Ae){return Jr(Y,Ae)})});var be=kf(t,6218,[[],[{type:2,data:es(G)}],[],[{type:2,data:new Uint8Array([13,255,255,255,0,18,10,16,255,255,1,24,255,255,255,255,7])}]],"/Index/Tables/DataList",e);Zn(t,e,be,function(Y){return Jr(Y,G)}),le[3].push({type:2,data:Ct([[],[{type:0,data:St(ke)}],[{type:0,data:St(1)}],[],[],[],[],[],[],[{type:2,data:es(be)}]])}),Jr(ue,be),Zn(t,e,2,function(Y){var Ae=ot(Y.messages[0].data);Bs(Ae,e,q,be),Bs(Ae,e,be,G),Bs(Ae,e,G,te),Bs(Ae,e,G,ie),Y.messages[0].data=Ct(Ae)})}}),ue.messages[0].data=Ct(le)}),y.cmnt.length>1){var Z=bn(x[19][0].data),M={},se=0;Zn(t,e,Z,function(ue){var le=ot(ue.messages[0].data);le[3]=[],y.cmnt.forEach(function(ie,ye){if(ye!=0){var ke=[];ie.replies&&ie.replies.forEach(function(te){M[te.a||""]||(M[te.a||""]=kf(t,212,[[],[{type:2,data:bs(te.a||"")}],[{type:2,data:KM(++se)}],[],[{type:0,data:St(0)}]],"/Index/Tables/DataList",e));var ee=M[te.a||""],ae=kf(t,3056,[[],[{type:2,data:bs(te.t||"")}],[{type:2,data:Ct([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:es(ee)}]],"/Index/Tables/DataList",e);Zn(t,e,ae,function(be){return Jr(be,ee)}),ke.push(ae),Zn(t,e,2,function(be){var Y=ot(be.messages[0].data);Bs(Y,e,ae,ee),be.messages[0].data=Ct(Y)})}),M[ie.a||""]||(M[ie.a||""]=kf(t,212,[[],[{type:2,data:bs(ie.a||"")}],[{type:2,data:KM(++se)}],[],[{type:0,data:St(0)}]],"/Index/Tables/DataList",e));var ge=M[ie.a||""],G=kf(t,3056,[[],[{type:2,data:bs(ie.t||"")}],[{type:2,data:Ct([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:es(ge)}],ke.map(function(te){return{type:2,data:es(te)}}),[{type:2,data:Ct([[],[{type:0,data:St(ye)}],[{type:0,data:St(0)}]])}]],"/Index/Tables/DataList",e);Zn(t,e,G,function(te){Jr(te,ge),ke.forEach(function(ee){return Jr(te,ee)})}),le[3].push({type:2,data:Ct([[],[{type:0,data:St(ye)}],[{type:0,data:St(1)}],[],[],[],[],[],[],[],[{type:2,data:es(G)}]])}),Jr(ue,G),Zn(t,e,2,function(te){var ee=ot(te.messages[0].data);Bs(ee,e,Z,G),Bs(ee,e,G,ge),ke.length&&Bs(ee,e,G,ke),te.messages[0].data=Ct(ee)})}}),le[2][0].data=St(y.cmnt.length+1),ue.messages[0].data=Ct(le)})}}v[4][0].data=Ct(x)}a.messages[0].data=Ct(v)}function UK(t){return function(n){for(var a=0;a!=t.length;++a){var r=t[a];n[r[0]]===void 0&&(n[r[0]]=r[1]),r[2]==="n"&&(n[r[0]]=Number(n[r[0]]))}}}function JD(t){UK([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function eR(t){UK([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function C7e(t){return dn.WS.indexOf(t)>-1?"sheet":t==dn.CS?"chart":t==dn.DS?"dialog":t==dn.MS?"macro":t&&t.length?t:"sheet"}function I7e(t,e){if(!t)return 0;try{t=e.map(function(a){return a.id||(a.id=a.strRelID),[a.name,t["!id"][a.id].Target,C7e(t["!id"][a.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function D7e(t,e,n,a,r,s,i,o){if(!(!t||!t["!legdrawel"])){var c=qp(t["!legdrawel"].Target,a),l=Es(n,c,!0);l&&GBe(qn(l),t,o||[])}}function R7e(t,e,n,a,r,s,i,o,c,l,u,d){try{s[a]=B0(Es(t,n,!0),e);var h=Qa(t,e),m;switch(o){case"sheet":m=lUe(h,e,r,c,s[a],l,u,d);break;case"chart":if(m=uUe(h,e,r,c,s[a],l,u,d),!m||!m["!drawel"])break;var y=qp(m["!drawel"].Target,e),v=Fg(y),x=zBe(Es(t,y,!0),B0(Es(t,v,!0),y)),k=qp(x,y),b=Fg(k);m=PGe(Es(t,k,!0),k,c,B0(Es(t,b,!0),k),l,m);break;case"macro":m=fUe(h,e,r,c,s[a],l,u,d);break;case"dialog":m=dUe(h,e,r,c,s[a],l,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}i[a]=m;var _=[],A=[];s&&s[a]&&pa(s[a]).forEach(function(S){var C="";if(s[a][S].Type==dn.CMNT){if(C=qp(s[a][S].Target,e),_=mUe(Qa(t,C,!0),C,c),!_||!_.length)return;IM(m,_,!1)}s[a][S].Type==dn.TCMNT&&(C=qp(s[a][S].Target,e),A=A.concat(jBe(Qa(t,C,!0),c)))}),A&&A.length&&IM(m,A,!0,c.people||[]),D7e(m,o,t,e,r,c,l,_)}catch(S){if(c.WTF)throw S}}function Pi(t){return t.charAt(0)=="/"?t.slice(1):t}function WK(t,e){if(Bd(),e=e||{},JD(e),$i(t,"META-INF/manifest.xml")||$i(t,"objectdata.xml"))return WM(t,e);if($i(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof uS<"u"){if(t.FileIndex)return uS(t,e);var n=Mt.utils.cfb_new();return ZL(t).forEach(function(j){en(n,j,MOe(t,j))}),uS(n,e)}throw new Error("Unsupported NUMBERS file")}if(!$i(t,"[Content_Types].xml")){if($i(t,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if($i(t,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");var a=Mt.find(t,"Index.zip");if(a)return e=Un(e),delete e.type,typeof a.content=="string"&&(e.type="binary"),typeof Bun<"u"&&Buffer.isBuffer(a.content)?jf(new Uint8Array(a.content),e):jf(a.content,e);throw new Error("Unsupported ZIP file")}var r=ZL(t),s=D$e(Es(t,"[Content_Types].xml")),i=!1,o,c;if(s.workbooks.length===0&&(c="xl/workbook.xml",Qa(t,c,!0)&&s.workbooks.push(c)),s.workbooks.length===0){if(c="xl/workbook.bin",!Qa(t,c,!0))throw new Error("Could not find workbook");s.workbooks.push(c),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},u={};if(!e.bookSheets&&!e.bookProps){if(G0=[],s.sst)try{G0=hUe(Qa(t,Pi(s.sst)),s.sst,e)}catch(j){if(e.WTF)throw j}e.cellStyles&&s.themes.length&&(l=XH(Es(t,s.themes[0].replace(/^\//,""),!0)||"",e)),s.style&&(u=pUe(Qa(t,Pi(s.style)),s.style,l,e))}s.links.map(function(j){try{var W=B0(Es(t,Fg(Pi(j))),j);return yUe(Qa(t,Pi(j)),W,j,e)}catch{}});var d=cUe(Qa(t,Pi(s.workbooks[0])),s.workbooks[0],e),h={},m="";s.coreprops.length&&(m=Qa(t,Pi(s.coreprops[0]),!0),m&&(h=yH(m)),s.extprops.length!==0&&(m=Qa(t,Pi(s.extprops[0]),!0),m&&L$e(m,h,e)));var y={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(m=Es(t,Pi(s.custprops[0]),!0),m&&(y=B$e(m,e)));var v={};if((e.bookSheets||e.bookProps)&&(d.Sheets?o=d.Sheets.map(function(W){return W.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),e.bookProps&&(v.Props=h,v.Custprops=y),e.bookSheets&&typeof o<"u"&&(v.SheetNames=o),e.bookSheets?v.SheetNames:e.bookProps))return v;o={};var x={};e.bookDeps&&s.calcchain&&(x=gUe(Qa(t,Pi(s.calcchain)),s.calcchain));var k=0,b={},_,A;{var S=d.Sheets;h.Worksheets=S.length,h.SheetNames=[];for(var C=0;C!=S.length;++C)h.SheetNames[C]=S[C].name}var E=i?"bin":"xml",D=s.workbooks[0].lastIndexOf("/"),I=(s.workbooks[0].slice(0,D+1)+"_rels/"+s.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");$i(t,I)||(I="xl/_rels/workbook."+E+".rels");var P=B0(Es(t,I,!0),I.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=xUe(Qa(t,Pi(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=HBe(Qa(t,Pi(s.people[0])),e)),P&&(P=I7e(P,d.Sheets));var R=Qa(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(k=0;k!=h.Worksheets;++k){var B="sheet";if(P&&P[k]?(_="xl/"+P[k][1].replace(/[\/]?xl\//,""),$i(t,_)||(_=P[k][1]),$i(t,_)||(_=I.replace(/_rels\/[\S\s]*$/,"")+P[k][1]),B=P[k][2]):(_="xl/worksheets/sheet"+(k+1-R)+"."+E,_=_.replace(/sheet0\./,"sheet.")),A=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(k!=e.sheets)continue e;break;case"string":if(h.SheetNames[k].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var U=!1,V=0;V!=e.sheets.length;++V)typeof e.sheets[V]=="number"&&e.sheets[V]==k&&(U=1),typeof e.sheets[V]=="string"&&e.sheets[V].toLowerCase()==h.SheetNames[k].toLowerCase()&&(U=1);if(!U)continue e}}R7e(t,_,A,h.SheetNames[k],k,b,o,B,e,d,l,u)}return v={Directory:s,Workbook:d,Props:h,Custprops:y,Deps:x,Sheets:o,SheetNames:h.SheetNames,Strings:G0,Styles:u,Themes:l,SSF:Un(It)},e&&e.bookFiles&&(t.files?(v.keys=r,v.files=t.files):(v.keys=[],v.files={},t.FullPaths.forEach(function(j,W){j=j.replace(/^Root Entry[\/]/,""),v.keys.push(j),v.files[j]=t.FileIndex[W]}))),e&&e.bookVBA&&(s.vba.length>0?v.vbaraw=Qa(t,Pi(s.vba[0]),!0):s.defaults&&s.defaults.bin===QBe&&(v.vbaraw=Qa(t,"xl/vbaProject.bin",!0))),v.bookType=i?"xlsb":"xlsx",v}function P7e(t,e){var n=e||{},a="Workbook",r=Mt.find(t,a);try{if(a="/!DataSpaces/Version",r=Mt.find(t,a),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(u5e(r.content),a="/!DataSpaces/DataSpaceMap",r=Mt.find(t,a),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+a);var s=d5e(r.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",r=Mt.find(t,a),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=p5e(r.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",r=Mt.find(t,a),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+a);m5e(r.content)}catch{}if(a="/EncryptionInfo",r=Mt.find(t,a),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=g5e(r.content);if(a="/EncryptedPackage",r=Mt.find(t,a),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],r.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],r.content,n.password||"",n);throw new Error("File is password-protected")}function F7e(t,e){t&&!t.SSF&&(t.SSF=Un(It)),t&&t.SSF&&(Bd(),cm(t.SSF),e.revssf=D1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,U0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="bin",a=!0,r=GD();eR(e=e||{});var s=SD(),i="",o=0;if(e.cellXfs=[],kc(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",en(s,i,xH(t.Props,e)),r.coreprops.push(i),Vn(e.rels,2,i,dn.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],l=0;l<t.SheetNames.length;++l)(t.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(t.SheetNames[l]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,en(s,i,wH(t.Props)),r.extprops.push(i),Vn(e.rels,3,i,dn.EXT_PROPS),t.Custprops!==t.Props&&pa(t.Custprops||{}).length>0&&(i="docProps/custom.xml",en(s,i,bH(t.Custprops)),r.custprops.push(i),Vn(e.rels,4,i,dn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:i="xl/worksheets/sheet"+o+"."+n,en(s,i,DGe(o-1,e,t,d)),r.sheets.push(i),Vn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,dn.WS[0])}if(h){var y=h["!comments"],v=!1,x="";if(y&&y.length>0){var k=!1;y.forEach(function(_){_[1].forEach(function(A){A.T==!0&&(k=!0)})}),k&&(x="xl/threadedComments/threadedComment"+o+".xml",en(s,x,ZH(y,u,e)),r.threadedcomments.push(x),Vn(d,-1,"../threadedComments/threadedComment"+o+".xml",dn.TCMNT)),x="xl/comments"+o+"."+n,en(s,x,ZBe(y)),r.comments.push(x),Vn(d,-1,"../comments"+o+"."+n,dn.CMNT),v=!0}h["!legacy"]&&v&&en(s,"xl/drawings/vmlDrawing"+o+".vml",YH(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&en(s,Fg(i),ih(d))}e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+n,en(s,i,l5e(e.Strings)),r.strs.push(i),Vn(e.wbrels,-1,"sharedStrings."+n,dn.SST)),i="xl/workbook."+n,en(s,i,oUe(t)),r.workbooks.push(i),Vn(e.rels,1,i,dn.WB),i="xl/theme/theme1.xml";var b=KD(t.Themes,e);return en(s,i,b),r.themes.push(i),Vn(e.wbrels,-1,"theme/theme1.xml",dn.THEME),i="xl/styles."+n,en(s,i,pBe(t,e)),r.styles.push(i),Vn(e.wbrels,-1,"styles."+n,dn.STY),t.vbaraw&&a&&(i="xl/vbaProject.bin",en(s,i,t.vbaraw),r.vba.push(i),Vn(e.wbrels,-1,"vbaProject.bin",dn.VBA)),i="xl/metadata."+n,en(s,i,PBe()),r.metadata.push(i),Vn(e.wbrels,-1,"metadata."+n,dn.XLMETA),u.length>1&&(i="xl/persons/person.xml",en(s,i,QH(u)),r.people.push(i),Vn(e.wbrels,-1,"persons/person.xml",dn.PEOPLE)),en(s,"[Content_Types].xml",mH(r,e)),en(s,"_rels/.rels",ih(e.rels)),en(s,"xl/_rels/workbook."+n+".rels",ih(e.wbrels)),delete e.revssf,delete e.ssf,s}function VK(t,e){t&&!t.SSF&&(t.SSF=Un(It)),t&&t.SSF&&(Bd(),cm(t.SSF),e.revssf=D1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,U0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",a=t6e.indexOf(e.bookType)>-1,r=GD();eR(e=e||{});var s=SD(),i="",o=0;if(e.cellXfs=[],kc(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",en(s,i,xH(t.Props,e)),r.coreprops.push(i),Vn(e.rels,2,i,dn.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],l=0;l<t.SheetNames.length;++l)(t.Workbook.Sheets[l]||{}).Hidden!=2&&c.push(t.SheetNames[l]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,en(s,i,wH(t.Props)),r.extprops.push(i),Vn(e.rels,3,i,dn.EXT_PROPS),t.Custprops!==t.Props&&pa(t.Custprops||{}).length>0&&(i="docProps/custom.xml",en(s,i,bH(t.Custprops)),r.custprops.push(i),Vn(e.rels,4,i,dn.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:i="xl/worksheets/sheet"+o+"."+n,en(s,i,xze(o-1,e,t,d)),r.sheets.push(i),Vn(e.wbrels,-1,"worksheets/sheet"+o+"."+n,dn.WS[0])}if(h){var y=h["!comments"],v=!1,x="";if(y&&y.length>0){var k=!1;y.forEach(function(b){b[1].forEach(function(_){_.T==!0&&(k=!0)})}),k&&(x="xl/threadedComments/threadedComment"+o+".xml",en(s,x,ZH(y,u,e)),r.threadedcomments.push(x),Vn(d,-1,"../threadedComments/threadedComment"+o+".xml",dn.TCMNT)),x="xl/comments"+o+"."+n,en(s,x,VBe(y)),r.comments.push(x),Vn(d,-1,"../comments"+o+"."+n,dn.CMNT),v=!0}h["!legacy"]&&v&&en(s,"xl/drawings/vmlDrawing"+o+".vml",YH(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&en(s,Fg(i),ih(d))}return e.Strings!=null&&e.Strings.length>0&&(i="xl/sharedStrings."+n,en(s,i,r5e(e.Strings,e)),r.strs.push(i),Vn(e.wbrels,-1,"sharedStrings."+n,dn.SST)),i="xl/workbook."+n,en(s,i,jGe(t)),r.workbooks.push(i),Vn(e.rels,1,i,dn.WB),i="xl/theme/theme1.xml",en(s,i,KD(t.Themes,e)),r.themes.push(i),Vn(e.wbrels,-1,"theme/theme1.xml",dn.THEME),i="xl/styles."+n,en(s,i,j5e(t,e)),r.styles.push(i),Vn(e.wbrels,-1,"styles."+n,dn.STY),t.vbaraw&&a&&(i="xl/vbaProject.bin",en(s,i,t.vbaraw),r.vba.push(i),Vn(e.wbrels,-1,"vbaProject.bin",dn.VBA)),i="xl/metadata."+n,en(s,i,OBe()),r.metadata.push(i),Vn(e.wbrels,-1,"metadata."+n,dn.XLMETA),u.length>1&&(i="xl/persons/person.xml",en(s,i,QH(u)),r.people.push(i),Vn(e.wbrels,-1,"persons/person.xml",dn.PEOPLE)),en(s,"[Content_Types].xml",mH(r,e)),en(s,"_rels/.rels",ih(e.rels)),en(s,"xl/_rels/workbook."+n+".rels",ih(e.wbrels)),delete e.revssf,delete e.ssf,s}function tR(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=pi(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function O7e(t,e){return Mt.find(t,"EncryptedPackage")?P7e(t,e):QD(t,e)}function $7e(t,e){var n,a=t,r=e||{};return r.type||(r.type=fn&&Buffer.isBuffer(t)?"buffer":"base64"),n=qj(a,r),WK(n,r)}function jK(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return aE(t.slice(n),e);default:break e}return Ch.to_workbook(t,e)}function L7e(t,e){var n="",a=tR(t,e);switch(e.type){case"base64":n=pi(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=gd(t);break;default:throw new Error("Unrecognized type "+e.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(n=qn(n)),e.type="binary",jK(n,e)}function M7e(t,e){var n=t;return e.type=="base64"&&(n=pi(n)),typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer&&(n=new Uint8Array(t)),n=typeof rn<"u"?rn.utils.decode(1200,n.slice(2),"str"):fn&&Buffer.isBuffer(t)?t.slice(2).toString("utf16le"):typeof Uint8Array<"u"&&n instanceof Uint8Array?typeof TextDecoder<"u"?new TextDecoder("utf-16le").decode(n.slice(2)):zFe(n.slice(2)):Rj(n.slice(2)),e.type="binary",jK(n,e)}function B7e(t){return t.match(/[^\x00-\x7F]/)?nc(t):t}function fS(t,e,n,a){return a?(n.type="string",Ch.to_workbook(t,n)):Ch.to_workbook(e,n)}function jf(t,e){P_();var n=e||{};if(n.codepage&&typeof rn>"u"&&console.error("Codepage tables are not loaded.  Non-ASCII characters may not give expected results"),typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return jf(new Uint8Array(t),(n=Un(n),n.type="array",n));if(typeof Int8Array<"u"&&t instanceof Int8Array)return jf(new Uint8Array(t.buffer,t.byteOffset,t.length),n);typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var a=t,r=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),oh={},n.dateNF&&(oh.dateNF=n.dateNF),n.type||(n.type=fn&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=fn?"buffer":"binary",a=vOe(t),typeof Uint8Array<"u"&&!fn&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,a=B7e(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return n=Un(n),n.type="array",jf(vD(a),n)}switch((r=tR(a,n))[0]){case 208:if(r[1]===207&&r[2]===17&&r[3]===224&&r[4]===161&&r[5]===177&&r[6]===26&&r[7]===225)return O7e(Mt.read(a,n),n);break;case 9:if(r[1]<=8)return QD(a,n);break;case 60:return aE(a,n);case 73:if(r[1]===73&&r[2]===42&&r[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(r[1]===68)return qMe(a,n);break;case 84:if(r[1]===65&&r[2]===66&&r[3]===76)return zH.to_workbook(a,n);break;case 80:return r[1]===75&&r[2]<9&&r[3]<9?$7e(a,n):fS(t,a,n,s);case 239:return r[3]===60?aE(a,n):fS(t,a,n,s);case 255:if(r[1]===254)return M7e(a,n);if(r[1]===0&&r[2]===2&&r[3]===0)return Uf.to_workbook(a,n);break;case 0:if(r[1]===0&&(r[2]>=2&&r[3]===0||r[2]===0&&(r[3]===8||r[3]===9)))return Uf.to_workbook(a,n);break;case 3:case 131:case 139:case 140:return nE.to_workbook(a,n);case 123:if(r[1]===92&&r[2]===114&&r[3]===116)return E5e(a,n);break;case 10:case 13:case 32:return L7e(a,n);case 137:if(r[1]===80&&r[2]===78&&r[3]===71)throw new Error("PNG Image File is not a spreadsheet");break;case 8:if(r[1]===231)throw new Error("Unsupported Multiplan 1.x file!");break;case 12:if(r[1]===236)throw new Error("Unsupported Multiplan 2.x file!");if(r[1]===237)throw new Error("Unsupported Multiplan 3.x file!");break}return KMe.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?nE.to_workbook(a,n):fS(t,a,n,s)}function qM(t,e){var n=e||{};return n.type="file",jf(t,n)}function HK(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return I1(e.file,Mt.write(t,{type:fn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Mt.write(t,e)}function z7e(t,e){switch(e.bookType){case"ods":return LK(t,e);case"numbers":return A7e(t,e);case"xlsb":return F7e(t,e);default:return VK(t,e)}}function G7e(t,e){var n=Un(e||{}),a=z7e(t,n);return KK(a,n)}function U7e(t,e){var n=Un(e||{}),a=VK(t,n);return KK(a,n)}function KK(t,e){var n={},a=fn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=a;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=a;break;default:throw new Error("Unrecognized type "+e.type)}var r=t.FullPaths?Mt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof r=="string"){if(e.type=="binary"||e.type=="base64")return r;r=new Uint8Array(C1(r))}return e.password&&typeof encrypt_agile<"u"?HK(encrypt_agile(r,e.password),e):e.type==="file"?I1(e.file,r):e.type=="string"?qn(r):r}function W7e(t,e){var n=e||{},a=LUe(t,n);return HK(a,n)}function Ko(t,e,n){n||(n="");var a=n+t;switch(e.type){case"base64":return nw(nc(a));case"binary":return nc(a);case"string":return t;case"file":return I1(e.file,a,"utf8");case"buffer":return fn?Nc(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Ko(a,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function V7e(t,e){switch(e.type){case"base64":return WFe(t);case"binary":return t;case"string":return t;case"file":return I1(e.file,t,"binary");case"buffer":return fn?Nc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Fv(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",a=0;a<t.length;++a)n+=String.fromCharCode(t[a]);return e.type=="base64"?nw(n):e.type=="string"?qn(n):n;case"file":return I1(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function nR(t,e){P_(),hK(t);var n=Un(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var a=nR(t,n);return n.type="array",C1(a)}return U7e(t,n)}function V_(t,e){P_(),hK(t);var n=Un(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var a=V_(t,n);return n.type="array",C1(a)}var r=0;if(n.sheet&&(typeof n.sheet=="number"?r=n.sheet:r=t.SheetNames.indexOf(n.sheet),!t.SheetNames[r]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Ko(IUe(t,n),n);case"slk":case"sylk":return Ko(BH.from_sheet(t.Sheets[t.SheetNames[r]],n,t),n);case"htm":case"html":return Ko(RK(t.Sheets[t.SheetNames[r]],n),n);case"txt":return V7e(YK(t.Sheets[t.SheetNames[r]],n),n);case"csv":return Ko(rR(t.Sheets[t.SheetNames[r]],n),n,"\uFEFF");case"dif":return Ko(zH.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"dbf":return Fv(nE.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"prn":return Ko(Ch.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"rtf":return Ko(C5e(t.Sheets[t.SheetNames[r]]),n);case"eth":return Ko(GH.from_sheet(t.Sheets[t.SheetNames[r]],n),n);case"fods":return Ko(LK(t,n),n);case"wk1":return Fv(Uf.sheet_to_wk1(t.Sheets[t.SheetNames[r]],n),n);case"wk3":return Fv(Uf.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Fv(TK(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),W7e(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return G7e(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function aR(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function XM(t,e,n){var a=n||{};return a.type="file",a.file=e,aR(a),V_(t,a)}function j7e(t,e,n){var a=n||{};return a.type="file",a.file=e,aR(a),nR(t,a)}function H7e(t,e,n,a){var r=n||{};r.type="file",r.file=t,aR(r),r.type="buffer";var s=a;return s instanceof Function||(s=n),Qc.writeFile(t,V_(e,r),s)}function qK(t,e,n,a,r,s,i){var o=hn(n),c=i.defval,l=i.raw||!Object.prototype.hasOwnProperty.call(i,"raw"),u=!0,d=t["!data"]!=null,h=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!d||t["!data"][n])for(var m=e.s.c;m<=e.e.c;++m){var y=d?(t["!data"][n]||[])[m]:t[a[m]+o];if(y==null||y.t===void 0){if(c===void 0)continue;s[m]!=null&&(h[s[m]]=c);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"b":case"n":if(!y.z||!hi(y.z)||(v=rl(v),typeof v=="number"))break;case"d":i&&(i.UTC||i.raw===!1)||(v=yd(new Date(v)));break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(v==null)if(y.t=="e"&&v===null)h[s[m]]=null;else if(c!==void 0)h[s[m]]=c;else if(l&&v===null)h[s[m]]=null;else continue;else h[s[m]]=(y.t==="n"&&typeof i.rawNumbers=="boolean"?i.rawNumbers:l)?v:vc(y,v,i);v!=null&&(u=!1)}}return{row:h,isempty:u}}function oE(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},a=0,r=1,s=[],i=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},l=e||{},u=l.range!=null?l.range:t["!ref"];switch(l.header===1?a=1:l.header==="A"?a=2:Array.isArray(l.header)?a=3:l.header==null&&(a=0),typeof u){case"string":c=An(u);break;case"number":c=An(t["!ref"]),c.s.r=u;break;default:c=u}a>0&&(r=0);var d=hn(c.s.r),h=[],m=[],y=0,v=0,x=t["!data"]!=null,k=c.s.r,b=0,_={};x&&!t["!data"][k]&&(t["!data"][k]=[]);var A=l.skipHidden&&t["!cols"]||[],S=l.skipHidden&&t["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(A[b]||{}).hidden)switch(h[b]=Zt(b),n=x?t["!data"][k][b]:t[h[b]+d],a){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=l.header[b-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=i=vc(n,null,l),v=_[i]||0,!v)_[i]=1;else{do o=i+"_"+v++;while(_[o]);_[i]=v,_[o]=1}s[b]=o}for(k=c.s.r+r;k<=c.e.r;++k)if(!(S[k]||{}).hidden){var C=qK(t,c,k,h,a,s,l);(C.isempty===!1||(a===1?l.blankrows!==!1:l.blankrows))&&(m[y++]=C.row)}return m.length=y,m}var YM=/"/g;function XK(t,e,n,a,r,s,i,o,c){for(var l=!0,u=[],d="",h=hn(n),m=t["!data"]!=null,y=m&&t["!data"][n]||[],v=e.s.c;v<=e.e.c;++v)if(a[v]){var x=m?y[v]:t[a[v]+h];if(x==null)d="";else if(x.v!=null){l=!1,d=""+(c.rawNumbers&&x.t=="n"?x.v:vc(x,null,c));for(var k=0,b=0;k!==d.length;++k)if((b=d.charCodeAt(k))===r||b===s||b===34||c.forceQuotes){d='"'+d.replace(YM,'""')+'"';break}d=="ID"&&o==0&&u.length==0&&(d='"ID"')}else x.f!=null&&!x.F?(l=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(YM,'""')+'"')):d="";u.push(d)}if(c.strip)for(;u[u.length-1]==="";)--u.length;return c.blankrows===!1&&l?null:u.join(i)}function rR(t,e){var n=[],a=e??{};if(t==null||t["!ref"]==null)return"";for(var r=An(t["!ref"]),s=a.FS!==void 0?a.FS:",",i=s.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,c=o.charCodeAt(0),l="",u=[],d=a.skipHidden&&t["!cols"]||[],h=a.skipHidden&&t["!rows"]||[],m=r.s.c;m<=r.e.c;++m)(d[m]||{}).hidden||(u[m]=Zt(m));for(var y=0,v=r.s.r;v<=r.e.r;++v)(h[v]||{}).hidden||(l=XK(t,r,v,u,i,c,s,y,a),l!=null&&(l||a.blankrows!==!1)&&n.push((y++?o:"")+l));return n.join("")}function YK(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=rR(t,e);if(typeof rn>"u"||e.type=="string")return n;var a=rn.utils.encode(1200,n,"str");return""+a}function K7e(t,e){var n="",a,r="";if(t==null||t["!ref"]==null)return[];var s=An(t["!ref"]),i="",o=[],c,l=[],u=t["!data"]!=null;for(c=s.s.c;c<=s.e.c;++c)o[c]=Zt(c);for(var d=s.s.r;d<=s.e.r;++d)for(i=hn(d),c=s.s.c;c<=s.e.c;++c)if(n=o[c]+i,a=u?(t["!data"][d]||[])[c]:t[n],r="",a!==void 0){if(a.F!=null){if(n=a.F,!a.f)continue;r=a.f,n.indexOf(":")==-1&&(n=n+":"+n)}if(a.f!=null)r=a.f;else{if(e&&e.values===!1)continue;if(a.t=="z")continue;if(a.t=="n"&&a.v!=null)r=""+a.v;else if(a.t=="b")r=a.v?"TRUE":"FALSE";else if(a.w!==void 0)r="'"+a.w;else{if(a.v===void 0)continue;a.t=="s"?r="'"+a.v:r=""+a.v}}l[l.length]=n+"="+r}return l}function ZK(t,e,n){var a=n||{},r=t?t["!data"]!=null:a.dense,s=+!a.skipHeader,i=t||{};!t&&r&&(i["!data"]=[]);var o=0,c=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var l=typeof a.origin=="string"?Xn(a.origin):a.origin;o=l.r,c=l.c}var u={s:{c:0,r:0},e:{c,r:o+e.length-1+s}};if(i["!ref"]){var d=An(i["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(o=d.e.r+1,u.e.r=o+e.length-1+s)}else o==-1&&(o=0,u.e.r=e.length-1+s);var h=a.header||[],m=0,y=[];e.forEach(function(x,k){r&&!i["!data"][o+k+s]&&(i["!data"][o+k+s]=[]),r&&(y=i["!data"][o+k+s]),pa(x).forEach(function(b){(m=h.indexOf(b))==-1&&(h[m=h.length]=b);var _=x[b],A="z",S="",C=r?"":Zt(c+m)+hn(o+k+s),E=r?y[c+m]:i[C];_&&typeof _=="object"&&!(_ instanceof Date)?r?y[c+m]=_:i[C]=_:(typeof _=="number"?A="n":typeof _=="boolean"?A="b":typeof _=="string"?A="s":_ instanceof Date?(A="d",a.UTC||(_=O_(_)),a.cellDates||(A="n",_=Ia(_)),S=E!=null&&E.z&&hi(E.z)?E.z:a.dateNF||It[14]):_===null&&a.nullError&&(A="e",_=0),E?(E.t=A,E.v=_,delete E.w,delete E.R,S&&(E.z=S)):r?y[c+m]=E={t:A,v:_}:i[C]=E={t:A,v:_},S&&(E.z=S))})}),u.e.c=Math.max(u.e.c,c+h.length-1);var v=hn(o);if(r&&!i["!data"][o]&&(i["!data"][o]=[]),s)for(m=0;m<h.length;++m)r?i["!data"][o][m+c]={t:"s",v:h[m]}:i[Zt(m+c)+v]={t:"s",v:h[m]};return i["!ref"]=an(u),i}function q7e(t,e){return ZK(null,t,e)}function Ug(t,e,n){if(typeof e=="string"){if(t["!data"]!=null){var a=Xn(e);return t["!data"][a.r]||(t["!data"][a.r]=[]),t["!data"][a.r][a.c]||(t["!data"][a.r][a.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Ug(t,pn(e)):Ug(t,Zt(n||0)+hn(e))}function X7e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function sR(t,e){var n={SheetNames:[],Sheets:{}};return t&&z1(n,t,e||"Sheet1"),n}function z1(t,e,n,a){var r=1;if(!n)for(;r<=65535&&t.SheetNames.indexOf(n="Sheet"+r)!=-1;++r,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&t.SheetNames.indexOf(n)>=0&&n.length<32){var s=n.match(/\d+$/);r=s&&+s[0]||0;var i=s&&n.slice(0,s.index)||n;for(++r;r<=65535&&t.SheetNames.indexOf(n=i+r)!=-1;++r);}if(pK(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function Y7e(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var a=X7e(t,e);switch(t.Workbook.Sheets[a]||(t.Workbook.Sheets[a]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[a].Hidden=n}function Z7e(t,e){return t.z=e,t}function QK(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function Q7e(t,e,n){return QK(t,"#"+e,n)}function J7e(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function e9e(t,e,n,a){for(var r=typeof e!="string"?e:An(e),s=typeof e=="string"?e:an(e),i=r.s.r;i<=r.e.r;++i)for(var o=r.s.c;o<=r.e.c;++o){var c=Ug(t,i,o);c.t="n",c.F=s,delete c.v,i==r.s.r&&o==r.s.c&&(c.f=n,a&&(c.D=!0))}var l=or(t["!ref"]);return l.s.r>r.s.r&&(l.s.r=r.s.r),l.s.c>r.s.c&&(l.s.c=r.s.c),l.e.r<r.e.r&&(l.e.r=r.e.r),l.e.c<r.e.c&&(l.e.c=r.e.c),t["!ref"]=an(l),t}var t9e={encode_col:Zt,encode_row:hn,encode_cell:pn,encode_range:an,decode_col:$D,decode_row:OD,split_cell:o$e,decode_cell:Xn,decode_range:or,format_cell:vc,sheet_new:c$e,sheet_add_aoa:lH,sheet_add_json:ZK,sheet_add_dom:PK,aoa_to_sheet:um,json_to_sheet:q7e,table_to_sheet:FK,table_to_book:n7e,sheet_to_csv:rR,sheet_to_txt:YK,sheet_to_json:oE,sheet_to_html:RK,sheet_to_formulae:K7e,sheet_to_row_object_array:oE,sheet_get_cell:Ug,book_new:sR,book_append_sheet:z1,book_set_sheet_visibility:Y7e,cell_set_number_format:Z7e,cell_set_hyperlink:QK,cell_set_internal_link:Q7e,cell_add_comment:J7e,sheet_set_array_formula:e9e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},G1;function n9e(t){G1=t}function a9e(t,e){var n=G1(),a=e??{};if(t==null||t["!ref"]==null)return n.push(null),n;for(var r=An(t["!ref"]),s=a.FS!==void 0?a.FS:",",i=s.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,c=o.charCodeAt(0),l="",u=[],d=a.skipHidden&&t["!cols"]||[],h=a.skipHidden&&t["!rows"]||[],m=r.s.c;m<=r.e.c;++m)(d[m]||{}).hidden||(u[m]=Zt(m));var y=r.s.r,v=!1,x=0;return n._read=function(){if(!v)return v=!0,n.push("\uFEFF");for(;y<=r.e.r;)if(++y,!(h[y-1]||{}).hidden&&(l=XK(t,r,y-1,u,i,c,s,x,a),l!=null&&(l||a.blankrows!==!1)))return n.push((x++?o:"")+l);return n.push(null)},n}function r9e(t,e){var n=G1(),a=e||{},r=a.header!=null?a.header:CK,s=a.footer!=null?a.footer:IK;n.push(r);var i=or(t["!ref"]);n.push(DK(t,i,a));var o=i.s.r,c=!1;return n._read=function(){if(o>i.e.r)return c||(c=!0,n.push("</table>"+s)),n.push(null);for(;o<=i.e.r;){n.push(EK(t,i,o,a)),++o;break}},n}function s9e(t,e){var n=G1({objectMode:!0});if(t==null||t["!ref"]==null)return n.push(null),n;var a={t:"n",v:0},r=0,s=1,i=[],o=0,c="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:t["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)&&(r=3),typeof d){case"string":l=An(d);break;case"number":l=An(t["!ref"]),l.s.r=d;break;default:l=d}r>0&&(s=0);var h=hn(l.s.r),m=[],y=0,v=t["!data"]!=null,x=l.s.r,k=0,b={};v&&!t["!data"][x]&&(t["!data"][x]=[]);var _=u.skipHidden&&t["!cols"]||[],A=u.skipHidden&&t["!rows"]||[];for(k=l.s.c;k<=l.e.c;++k)if(!(_[k]||{}).hidden)switch(m[k]=Zt(k),a=v?t["!data"][x][k]:t[m[k]+h],r){case 1:i[k]=k-l.s.c;break;case 2:i[k]=m[k];break;case 3:i[k]=u.header[k-l.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),c=o=vc(a,null,u),y=b[o]||0,!y)b[o]=1;else{do c=o+"_"+y++;while(b[c]);b[o]=y,b[c]=1}i[k]=c}return x=l.s.r+s,n._read=function(){for(;x<=l.e.r;)if(!(A[x-1]||{}).hidden){var S=qK(t,l,x,m,r,i,u);if(++x,S.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows)){n.push(S.row);return}}return n.push(null)},n}function i9e(t,e){var n=G1(),a=e??{},r=+a.stride||10;t.SSF||(t.SSF=Un(It)),t.SSF&&(Bd(),cm(t.SSF),a.revssf=D1(t.SSF),a.revssf[t.SSF[65535]]=0,a.ssf=t.SSF,a.cellXfs=[],kc(a.cellXfs,{},{revssf:{General:0}})),t.SheetNames.forEach(function(k){var b=t.Sheets[k];if(!(!b||!b["!ref"])){for(var _=or(b["!ref"]),A=b["!data"]!=null,S=A?b["!data"]:[],C=_.s.r;C<=_.e.r;++C)if(!(A&&!S[C]))for(var E=_.s.c;E<=_.e.c;++E){var D=A?S[C][E]:b[Zt(E)+hn(C)];D&&(D.t=="d"&&D.z==null&&(D=Un(D),D.z=It[14]),kc(a.cellXfs,D,a))}}});var s=vK(t,a),i=0,o=0,c=t.Sheets[t.SheetNames[o]],l=An(c),u=-1,d=!1,h=[],m=0,y=!1,v=[],x={r:0,c:0};return n._read=function(){switch(i){case 0:i=1,n.push(Ua),n.push("<Workbook"+xd({xmlns:mr.ss,"xmlns:o":mr.o,"xmlns:x":mr.x,"xmlns:ss":mr.ss,"xmlns:dt":mr.dt,"xmlns:html":mr.html})+">");break;case 1:i=2,n.push(yK(t,a)),n.push(xK(t));break;case 2:i=3,n.push(s),n.push(wK(t));break;case 3:{if(d=!1,o>=t.SheetNames.length){i=-1,n.push("");break}if(n.push("<Worksheet"+xd({"ss:Name":nn(t.SheetNames[o])})+">"),c=t.Sheets[t.SheetNames[o]],!c)return n.push("</Worksheet>"),void++o;var k=bK(c,a,o,t);if(k.length&&n.push("<Names>"+k+"</Names>"),!c["!ref"])return i=5;l=An(c["!ref"]),u=l.s.r,i=4}break;case 4:{if(u<0||u>l.e.r)return d&&n.push("</Table>"),void(i=5);u<=l.s.r&&(c["!cols"]&&c["!cols"].forEach(function(D,I){gl(D);var P=!!D.width,R=B1(I,D),B={"ss:Index":I+1};P&&(B["ss:Width"]=Ih(R.width)),D.hidden&&(B["ss:Hidden"]="1"),d||(d=!0,n.push("<Table>")),n.push(at("Column",null,B))}),y=c["!data"]!=null,y&&(v=c["!data"]),x.r=x.c=0);for(var b=0;u<=l.e.r&&b<r;++u,++b){var _=[NK(u,(c["!rows"]||[])[u])];if(x.r=u,!(y&&!v[u]))for(var A=l.s.c;A<=l.e.c;++A){x.c=A;var S=!1;for(m=0;m!=h.length;++m)if(!(h[m].s.c>A)&&!(h[m].s.r>u)&&!(h[m].e.c<A)&&!(h[m].e.r<u)){(h[m].s.c!=A||h[m].s.r!=u)&&(S=!0);break}if(!S){var C=Zt(A)+hn(u),E=y?v[u][A]:c[C];_.push(AK(E,C,c,a,o,t,x))}}_.push("</Row>"),d||(d=!0,n.push("<Table>")),n.push(_.join(""))}}break;case 5:return n.push(_K(c,a,o,t)),c&&c["!autofilter"]&&n.push('<AutoFilter x:Range="'+O1(Th(c["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),n.push("</Worksheet>"),o++,u=-1,void(i=3);case-1:i=-2,n.push("</Workbook>");break;case-2:n.push(null);break}},n}var o9e={to_json:s9e,to_html:r9e,to_csv:a9e,to_xlml:i9e,set_readable:n9e};const H0={parse_xlscfb:QD,parse_zip:WK,read:jf,readFile:qM,readFileSync:qM,write:V_,writeFile:XM,writeFileSync:XM,writeFileAsync:H7e,writeXLSX:nR,writeFileXLSX:j7e,utils:t9e,set_fs:xOe,set_cptable:GFe,stream:o9e,SSF:Uj,CFB:Mt},c9e=()=>{const{ownedCards:t}=F.use(Jg),e=()=>{const n=uh.map(s=>{var i;return{Id:s.card_id,CardName:s.name,NumberOwned:((i=t.find(o=>o.card_id===s.card_id))==null?void 0:i.amount_owned)??0}}),a=H0.utils.json_to_sheet(n),r=H0.utils.book_new(a);H0.writeFile(r,"tcgcollectiontracterexport.csv")};return L.jsx(ia,{onClick:()=>e(),type:"submit",className:"w-40",children:"Download CSV file"})};function l9e(){const{user:t}=F.use(vl);return t?L.jsxs("div",{className:"flex flex-col gap-y-4 mx-auto",children:[L.jsx(Jk,{title:"Export",paragraph:"This will export your current collection to a CSV file.",className:"bg-amber-600"}),L.jsx("div",{className:"w-full text-center",children:L.jsx(c9e,{})})]}):L.jsx(Jk,{title:"Sign up to export your collection",paragraph:"To export your collection, please log in.",className:"bg-gray-400"})}var dS={exports:{}},pS,ZM;function u9e(){if(ZM)return pS;ZM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pS=t,pS}var hS,QM;function f9e(){if(QM)return hS;QM=1;var t=u9e();function e(){}function n(){}return n.resetWarningCache=e,hS=function(){function a(i,o,c,l,u,d){if(d!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}a.isRequired=a;function r(){return a}var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:r,element:a,elementType:a,instanceOf:r,node:a,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},hS}var JM;function d9e(){return JM||(JM=1,dS.exports=f9e()()),dS.exports}var p9e=d9e();const sa=Fh(p9e),h9e=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Rh(t,e,n){const a=m9e(t),{webkitRelativePath:r}=t,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${t.name}`;return typeof a.path!="string"&&e5(a,"path",s),e5(a,"relativePath",s),a}function m9e(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const a=e.split(".").pop().toLowerCase(),r=h9e.get(a);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}function e5(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const g9e=[".DS_Store","Thumbs.db"];function y9e(t){return Nd(this,void 0,void 0,function*(){return pw(t)&&x9e(t.dataTransfer)?b9e(t.dataTransfer,t.type):v9e(t)?k9e(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?w9e(t):[]})}function x9e(t){return pw(t)}function v9e(t){return pw(t)&&pw(t.target)}function pw(t){return typeof t=="object"&&t!==null}function k9e(t){return cE(t.target.files).map(e=>Rh(e))}function w9e(t){return Nd(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Rh(n))})}function b9e(t,e){return Nd(this,void 0,void 0,function*(){if(t.items){const n=cE(t.items).filter(r=>r.kind==="file");if(e!=="drop")return n;const a=yield Promise.all(n.map(_9e));return t5(JK(a))}return t5(cE(t.files).map(n=>Rh(n)))})}function t5(t){return t.filter(e=>g9e.indexOf(e.name)===-1)}function cE(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const a=t[n];e.push(a)}return e}function _9e(t){if(typeof t.webkitGetAsEntry!="function")return n5(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?eq(e):n5(t,e)}function JK(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?JK(n):[n]],[])}function n5(t,e){return Nd(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const i=yield s.getFile();return i.handle=s,Rh(i)}}const a=t.getAsFile();if(!a)throw new Error(`${t} is not a File`);return Rh(a,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function A9e(t){return Nd(this,void 0,void 0,function*(){return t.isDirectory?eq(t):N9e(t)})}function eq(t){const e=t.createReader();return new Promise((n,a)=>{const r=[];function s(){e.readEntries(i=>Nd(this,void 0,void 0,function*(){if(i.length){const o=Promise.all(i.map(A9e));r.push(o),s()}else try{const o=yield Promise.all(r);n(o)}catch(o){a(o)}}),i=>{a(i)})}s()})}function N9e(t){return Nd(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(a=>{const r=Rh(a,t.fullPath);e(r)},a=>{n(a)})})})}var Ov={},a5;function S9e(){return a5||(a5=1,Ov.__esModule=!0,Ov.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var a=t.name||"",r=(t.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return n.some(function(i){var o=i.trim().toLowerCase();return o.charAt(0)==="."?a.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):r===o})}return!0}),Ov}var T9e=S9e();const mS=Fh(T9e);function r5(t){return I9e(t)||C9e(t)||nq(t)||E9e()}function E9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I9e(t){if(Array.isArray(t))return lE(t)}function s5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function i5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(n),!0).forEach(function(a){tq(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function tq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wg(t,e){return P9e(t)||R9e(t,e)||nq(t,e)||D9e()}function D9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nq(t,e){if(t){if(typeof t=="string")return lE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(t,e)}}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function R9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a=[],r=!0,s=!1,i,o;try{for(n=n.call(t);!(r=(i=n.next()).done)&&(a.push(i.value),!(e&&a.length===e));r=!0);}catch(c){s=!0,o=c}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw o}}return a}}function P9e(t){if(Array.isArray(t))return t}var F9e=typeof mS=="function"?mS:mS.default,O9e="file-invalid-type",$9e="file-too-large",L9e="file-too-small",M9e="too-many-files",B9e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),a=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:O9e,message:"File type must be ".concat(a)}},o5=function(e){return{code:$9e,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},c5=function(e){return{code:L9e,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},z9e={code:M9e,message:"Too many files"};function aq(t,e){var n=t.type==="application/x-moz-file"||F9e(t,e);return[n,n?null:B9e(e)]}function rq(t,e,n){if(Ef(t.size))if(Ef(e)&&Ef(n)){if(t.size>n)return[!1,o5(n)];if(t.size<e)return[!1,c5(e)]}else{if(Ef(e)&&t.size<e)return[!1,c5(e)];if(Ef(n)&&t.size>n)return[!1,o5(n)]}return[!0,null]}function Ef(t){return t!=null}function G9e(t){var e=t.files,n=t.accept,a=t.minSize,r=t.maxSize,s=t.multiple,i=t.maxFiles,o=t.validator;return!s&&e.length>1||s&&i>=1&&e.length>i?!1:e.every(function(c){var l=aq(c,n),u=Wg(l,1),d=u[0],h=rq(c,a,r),m=Wg(h,1),y=m[0],v=o?o(c):null;return d&&y&&!v})}function hw(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function $v(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function l5(t){t.preventDefault()}function U9e(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function W9e(t){return t.indexOf("Edge/")!==-1}function V9e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return U9e(t)||W9e(t)}function jo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(a){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return e.some(function(o){return!hw(a)&&o&&o.apply(void 0,[a].concat(s)),hw(a)})}}function j9e(){return"showOpenFilePicker"in window}function H9e(t){if(Ef(t)){var e=Object.entries(t).filter(function(n){var a=Wg(n,2),r=a[0],s=a[1],i=!0;return sq(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(iq))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(n,a){var r=Wg(a,2),s=r[0],i=r[1];return i5(i5({},n),{},tq({},s,i))},{});return[{description:"Files",accept:e}]}return t}function K9e(t){if(Ef(t))return Object.entries(t).reduce(function(e,n){var a=Wg(n,2),r=a[0],s=a[1];return[].concat(r5(e),[r],r5(s))},[]).filter(function(e){return sq(e)||iq(e)}).join(",")}function q9e(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function X9e(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function sq(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function iq(t){return/^.*\.[\w]+$/.test(t)}var Y9e=["children"],Z9e=["open"],Q9e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],J9e=["refKey","onChange","onClick"];function eWe(t){return aWe(t)||nWe(t)||oq(t)||tWe()}function tWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aWe(t){if(Array.isArray(t))return uE(t)}function gS(t,e){return iWe(t)||sWe(t,e)||oq(t,e)||rWe()}function rWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oq(t,e){if(t){if(typeof t=="string")return uE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(t,e)}}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function sWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a=[],r=!0,s=!1,i,o;try{for(n=n.call(t);!(r=(i=n.next()).done)&&(a.push(i.value),!(e&&a.length===e));r=!0);}catch(c){s=!0,o=c}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw o}}return a}}function iWe(t){if(Array.isArray(t))return t}function u5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(n),!0).forEach(function(a){fE(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function fE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mw(t,e){if(t==null)return{};var n=oWe(t,e),a,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)a=s[r],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function oWe(t,e){if(t==null)return{};var n={},a=Object.keys(t),r,s;for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var iR=F.forwardRef(function(t,e){var n=t.children,a=mw(t,Y9e),r=lq(a),s=r.open,i=mw(r,Z9e);return F.useImperativeHandle(e,function(){return{open:s}},[s]),ns.createElement(F.Fragment,null,n(Aa(Aa({},i),{},{open:s})))});iR.displayName="Dropzone";var cq={disabled:!1,getFilesFromEvent:y9e,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};iR.defaultProps=cq;iR.propTypes={children:sa.func,accept:sa.objectOf(sa.arrayOf(sa.string)),multiple:sa.bool,preventDropOnDocument:sa.bool,noClick:sa.bool,noKeyboard:sa.bool,noDrag:sa.bool,noDragEventsBubbling:sa.bool,minSize:sa.number,maxSize:sa.number,maxFiles:sa.number,disabled:sa.bool,getFilesFromEvent:sa.func,onFileDialogCancel:sa.func,onFileDialogOpen:sa.func,useFsAccessApi:sa.bool,autoFocus:sa.bool,onDragEnter:sa.func,onDragLeave:sa.func,onDragOver:sa.func,onDrop:sa.func,onDropAccepted:sa.func,onDropRejected:sa.func,onError:sa.func,validator:sa.func};var dE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function lq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Aa(Aa({},cq),t),n=e.accept,a=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,i=e.minSize,o=e.multiple,c=e.maxFiles,l=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,h=e.onDrop,m=e.onDropAccepted,y=e.onDropRejected,v=e.onFileDialogCancel,x=e.onFileDialogOpen,k=e.useFsAccessApi,b=e.autoFocus,_=e.preventDropOnDocument,A=e.noClick,S=e.noKeyboard,C=e.noDrag,E=e.noDragEventsBubbling,D=e.onError,I=e.validator,P=F.useMemo(function(){return K9e(n)},[n]),R=F.useMemo(function(){return H9e(n)},[n]),B=F.useMemo(function(){return typeof x=="function"?x:f5},[x]),U=F.useMemo(function(){return typeof v=="function"?v:f5},[v]),V=F.useRef(null),j=F.useRef(null),W=F.useReducer(cWe,dE),J=gS(W,2),q=J[0],Z=J[1],M=q.isFocused,se=q.isFileDialogActive,ue=F.useRef(typeof window<"u"&&window.isSecureContext&&k&&j9e()),le=function(){!ue.current&&se&&setTimeout(function(){if(j.current){var Fe=j.current.files;Fe.length||(Z({type:"closeDialog"}),U())}},300)};F.useEffect(function(){return window.addEventListener("focus",le,!1),function(){window.removeEventListener("focus",le,!1)}},[j,se,U,ue]);var ie=F.useRef([]),ye=function(Fe){V.current&&V.current.contains(Fe.target)||(Fe.preventDefault(),ie.current=[])};F.useEffect(function(){return _&&(document.addEventListener("dragover",l5,!1),document.addEventListener("drop",ye,!1)),function(){_&&(document.removeEventListener("dragover",l5),document.removeEventListener("drop",ye))}},[V,_]),F.useEffect(function(){return!a&&b&&V.current&&V.current.focus(),function(){}},[V,b,a]);var ke=F.useCallback(function(Be){D?D(Be):console.error(Be)},[D]),ge=F.useCallback(function(Be){Be.preventDefault(),Be.persist(),lt(Be),ie.current=[].concat(eWe(ie.current),[Be.target]),$v(Be)&&Promise.resolve(r(Be)).then(function(Fe){if(!(hw(Be)&&!E)){var Dt=Fe.length,Bt=Dt>0&&G9e({files:Fe,accept:P,minSize:i,maxSize:s,multiple:o,maxFiles:c,validator:I}),Rt=Dt>0&&!Bt;Z({isDragAccept:Bt,isDragReject:Rt,isDragActive:!0,type:"setDraggedFiles"}),l&&l(Be)}}).catch(function(Fe){return ke(Fe)})},[r,l,ke,E,P,i,s,o,c,I]),G=F.useCallback(function(Be){Be.preventDefault(),Be.persist(),lt(Be);var Fe=$v(Be);if(Fe&&Be.dataTransfer)try{Be.dataTransfer.dropEffect="copy"}catch{}return Fe&&d&&d(Be),!1},[d,E]),te=F.useCallback(function(Be){Be.preventDefault(),Be.persist(),lt(Be);var Fe=ie.current.filter(function(Bt){return V.current&&V.current.contains(Bt)}),Dt=Fe.indexOf(Be.target);Dt!==-1&&Fe.splice(Dt,1),ie.current=Fe,!(Fe.length>0)&&(Z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$v(Be)&&u&&u(Be))},[V,u,E]),ee=F.useCallback(function(Be,Fe){var Dt=[],Bt=[];Be.forEach(function(Rt){var Mn=aq(Rt,P),Bn=gS(Mn,2),it=Bn[0],qt=Bn[1],Xt=rq(Rt,i,s),Ht=gS(Xt,2),ur=Ht[0],Ka=Ht[1],Da=I?I(Rt):null;if(it&&ur&&!Da)Dt.push(Rt);else{var Sl=[qt,Ka];Da&&(Sl=Sl.concat(Da)),Bt.push({file:Rt,errors:Sl.filter(function(Hd){return Hd})})}}),(!o&&Dt.length>1||o&&c>=1&&Dt.length>c)&&(Dt.forEach(function(Rt){Bt.push({file:Rt,errors:[z9e]})}),Dt.splice(0)),Z({acceptedFiles:Dt,fileRejections:Bt,isDragReject:Bt.length>0,type:"setFiles"}),h&&h(Dt,Bt,Fe),Bt.length>0&&y&&y(Bt,Fe),Dt.length>0&&m&&m(Dt,Fe)},[Z,o,P,i,s,c,h,m,y,I]),ae=F.useCallback(function(Be){Be.preventDefault(),Be.persist(),lt(Be),ie.current=[],$v(Be)&&Promise.resolve(r(Be)).then(function(Fe){hw(Be)&&!E||ee(Fe,Be)}).catch(function(Fe){return ke(Fe)}),Z({type:"reset"})},[r,ee,ke,E]),be=F.useCallback(function(){if(ue.current){Z({type:"openDialog"}),B();var Be={multiple:o,types:R};window.showOpenFilePicker(Be).then(function(Fe){return r(Fe)}).then(function(Fe){ee(Fe,null),Z({type:"closeDialog"})}).catch(function(Fe){q9e(Fe)?(U(Fe),Z({type:"closeDialog"})):X9e(Fe)?(ue.current=!1,j.current?(j.current.value=null,j.current.click()):ke(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ke(Fe)});return}j.current&&(Z({type:"openDialog"}),B(),j.current.value=null,j.current.click())},[Z,B,U,k,ee,ke,R,o]),Y=F.useCallback(function(Be){!V.current||!V.current.isEqualNode(Be.target)||(Be.key===" "||Be.key==="Enter"||Be.keyCode===32||Be.keyCode===13)&&(Be.preventDefault(),be())},[V,be]),Ae=F.useCallback(function(){Z({type:"focus"})},[]),Oe=F.useCallback(function(){Z({type:"blur"})},[]),$e=F.useCallback(function(){A||(V9e()?setTimeout(be,0):be())},[A,be]),He=function(Fe){return a?null:Fe},Ve=function(Fe){return S?null:He(Fe)},tt=function(Fe){return C?null:He(Fe)},lt=function(Fe){E&&Fe.stopPropagation()},zt=F.useMemo(function(){return function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=Be.refKey,Dt=Fe===void 0?"ref":Fe,Bt=Be.role,Rt=Be.onKeyDown,Mn=Be.onFocus,Bn=Be.onBlur,it=Be.onClick,qt=Be.onDragEnter,Xt=Be.onDragOver,Ht=Be.onDragLeave,ur=Be.onDrop,Ka=mw(Be,Q9e);return Aa(Aa(fE({onKeyDown:Ve(jo(Rt,Y)),onFocus:Ve(jo(Mn,Ae)),onBlur:Ve(jo(Bn,Oe)),onClick:He(jo(it,$e)),onDragEnter:tt(jo(qt,ge)),onDragOver:tt(jo(Xt,G)),onDragLeave:tt(jo(Ht,te)),onDrop:tt(jo(ur,ae)),role:typeof Bt=="string"&&Bt!==""?Bt:"presentation"},Dt,V),!a&&!S?{tabIndex:0}:{}),Ka)}},[V,Y,Ae,Oe,$e,ge,G,te,ae,S,C,a]),$t=F.useCallback(function(Be){Be.stopPropagation()},[]),st=F.useMemo(function(){return function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=Be.refKey,Dt=Fe===void 0?"ref":Fe,Bt=Be.onChange,Rt=Be.onClick,Mn=mw(Be,J9e),Bn=fE({accept:P,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:He(jo(Bt,ae)),onClick:He(jo(Rt,$t)),tabIndex:-1},Dt,j);return Aa(Aa({},Bn),Mn)}},[j,n,o,ae,a]);return Aa(Aa({},q),{},{isFocused:M&&!a,getRootProps:zt,getInputProps:st,rootRef:V,inputRef:j,open:He(be)})}function cWe(t,e){switch(e.type){case"focus":return Aa(Aa({},t),{},{isFocused:!0});case"blur":return Aa(Aa({},t),{},{isFocused:!1});case"openDialog":return Aa(Aa({},dE),{},{isFileDialogActive:!0});case"closeDialog":return Aa(Aa({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Aa(Aa({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Aa(Aa({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Aa({},dE);default:return t}}function f5(){}const lWe=()=>{const{user:t}=F.use(vl),{ownedCards:e,setOwnedCards:n}=F.use(Jg),[a,r]=F.useState(null),[s,i]=F.useState(0),[o,c]=F.useState(!1),[l,u]=F.useState(""),[d,h]=F.useState(""),m=async k=>{if(k){const b=await Bh();for(let _=0;_<k.length;_++){const A=k[_];console.log("Row",A),console.log("First Owned Card",e[0]);const S=Number(A.NumberOwned),C=A.Id,E=e.find(D=>D.card_id===A.Id);if(console.log("Owned Card",E),E&&E.amount_owned!==S)console.log("updating card",E.card_id,S),E.amount_owned=Math.max(0,S),n([...e]),await b.updateDocument(fc,cl,E.$id,{amount_owned:E.amount_owned}),r(D=>[...D??[],{...A,updated:S>0,removed:S===0}]);else if(!E&&S>0){console.log("creating card",A.Id,S);const D=await b.createDocument(fc,cl,ol.unique(),{email:t==null?void 0:t.email,card_id:C,amount_owned:S});n([...e,{$id:D.$id,email:D.email,card_id:D.card_id,amount_owned:D.amount_owned}]),r(I=>[...I??[],{...A,added:!0}])}h(`Processed ${_+1} of ${k.length}`),i(D=>D+1)}}},y=F.useCallback(k=>{c(!0),u("");const b=k[0],_=new FileReader;_.onabort=()=>{c(!1),u("File Was Aborted")},_.onerror=()=>{c(!1),u("Error With File")},_.onload=async A=>{var S;try{const C=H0.read((S=A.target)==null?void 0:S.result);console.log("Workbook Sheets",C.SheetNames);const E=C.Sheets[C.SheetNames[0]],D=H0.utils.sheet_to_json(E);console.log("JsonData",D),await m(D),console.log("Processed File Rows")}catch(C){console.error("Error processing Excel file:",C),u(`Error processing Excel file: ${C}`)}finally{c(!1)}},_.readAsArrayBuffer(b)},[]),{getRootProps:v,getInputProps:x}=lq({onDrop:y});return L.jsxs(L.Fragment,{children:[L.jsxs("div",{...v(),children:[L.jsx("input",{...x()}),L.jsx("p",{children:"Drag 'n' drop some files here, or click to select files"})]}),o&&L.jsxs(L.Fragment,{children:[L.jsx("p",{children:"Excel file is loading"}),L.jsx("progress",{className:"w-full",value:s})]}),(l==null?void 0:l.length)>0&&L.jsx("p",{className:"text-red-400 mb-2",children:l}),(d==null?void 0:d.length)>0&&L.jsx("p",{className:"text-gray-200 mb-2",children:d}),a&&console.log("Processed Data",a)&&L.jsx("div",{children:a.length>0?L.jsxs("pre",{children:["Data updated:",L.jsxs("table",{className:"w-full text-left table-auto",children:[L.jsx("thead",{children:L.jsxs("tr",{children:[L.jsx("th",{children:"Expansion Name"}),L.jsx("th",{children:"ID"}),L.jsx("th",{children:"Card Name"}),L.jsx("th",{children:"Status (Count)"})]})}),a.map((k,b)=>L.jsx("tbody",{children:L.jsxs("tr",{children:[L.jsx("td",{children:k.Id}),L.jsx("td",{children:k.CardName}),L.jsx("td",{children:k.added?`Added (${k.NumberOwned})`:k.updated?`Updated (${k.NumberOwned})`:k.removed?"Removed":"Unknown"})]})},`data-${k.Id}-${b}`))]})]}):L.jsx("pre",{children:"No Data Updated."})})]})};function uWe(){const{user:t}=F.use(vl);return t?L.jsxs("div",{className:"flex flex-col gap-y-4 max-w-[900px] mx-auto",children:[L.jsx(Jk,{title:"Import",paragraph:"This will OVERWRITE your current collection with the values from the imported CSV file. ONLY do this process if your spreadsheet contains the exact count values you want in your collection.",className:"bg-amber-600"}),L.jsx("div",{className:"w-full border-2 border-indigo-600 rounded-xl p-4 text-center",children:L.jsx(lWe,{})})]}):L.jsx(Jk,{title:"Sign up to import your cards",paragraph:"To import your spreadsheet, please log in.",className:"bg-gray-400"})}function fWe(){const{user:t,setUser:e,isLoginDialogOpen:n,setIsLoginDialogOpen:a,setIsProfileDialogOpen:r}=F.use(vl),[s,i]=F.useState(!1),[o,c]=F.useState(!1),{t:l,i18n:u}=Hg("header"),d=h=>u.changeLanguage(h);return L.jsxs(L.Fragment,{children:[L.jsxs("header",{className:"flex h-20 w-full shrink-0 flex-wrap items-center px-4 md:px-6",children:[L.jsx("div",{className:"shrink font-bold pr-4 hidden md:block",children:"TCG Pocket Collection Tracker"}),L.jsxs(Cj,{className:"max-w-full justify-start",children:[L.jsxs(Ij,{children:[L.jsx(HN,{asChild:!0,children:L.jsx(Rf,{to:"/",children:L.jsx(ia,{variant:"ghost",children:l("overview")})})}),L.jsx(HN,{asChild:!0,className:"hidden sm:block",children:L.jsx(Rf,{to:"/collection",children:L.jsx(ia,{variant:"ghost",children:l("collection")})})}),L.jsx(HN,{asChild:!0,className:"hidden sm:block",children:L.jsx(Rf,{to:"/trade",children:L.jsx(ia,{variant:"ghost",children:l("trade")})})})]}),L.jsx(DRe,{})]}),L.jsxs("div",{className:"items-center gap-2 flex",children:[L.jsx(Rf,{to:"https://community.tcgpocketcollectiontracker.com",className:"hidden sm:block",children:L.jsx(ia,{variant:"ghost",children:l("community")})}),L.jsxs($L,{children:[L.jsx(LL,{asChild:!0,children:L.jsx(ia,{variant:"ghost",size:"icon",children:L.jsx(xee,{})})}),L.jsxs(WT,{className:"w-56",children:[L.jsx(VT,{children:l("selectLanguage")}),L.jsx(N0,{}),L.jsx(Wc,{onClick:()=>d("en-US"),children:l("languages.en-US")}),L.jsx(Wc,{onClick:()=>d("es-ES"),children:l("languages.es-ES")}),L.jsx(Wc,{onClick:()=>d("pt-BR"),children:l("languages.pt-BR")}),L.jsx(Wc,{onClick:()=>d("fr-FR"),children:l("languages.fr-FR")})]})]}),t?L.jsx("div",{className:"hidden sm:block",children:L.jsxs($L,{children:[L.jsx(LL,{asChild:!0,children:L.jsx(ia,{variant:"ghost",size:"icon",children:L.jsx(vB,{})})}),L.jsxs(WT,{className:"w-56",children:[L.jsx(VT,{children:l("myAccount")}),L.jsx(N0,{}),L.jsx(Wc,{onClick:()=>r(!0),children:l("editProfile")}),L.jsx(N0,{}),L.jsx(Wc,{onClick:()=>c(!0),children:l("export")}),L.jsx(Wc,{onClick:()=>i(!0),children:l("import")}),L.jsxs(lFe,{children:[L.jsx(N0,{}),L.jsxs(Wc,{onClick:async()=>{await mB(),e(null)},children:[l("logOut"),L.jsx(yB,{})]})]})]})]})}):L.jsxs(Hv,{open:n,onOpenChange:a,children:[L.jsx(sre,{asChild:!0,children:L.jsx(ia,{children:l("login")})}),L.jsxs(I0,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(D0,{children:L.jsx(R0,{children:l("signUp")})}),L.jsx(nre,{})]})]})]}),L.jsx(Rne,{})]}),L.jsx(Hv,{open:s,onOpenChange:i,children:L.jsxs(I0,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(D0,{children:L.jsx(R0,{children:l("import")})}),L.jsx(uWe,{})]})}),L.jsx(Hv,{open:o,onOpenChange:c,children:L.jsxs(I0,{className:"border-2 border-slate-600 shadow-none",children:[L.jsx(D0,{children:L.jsx(R0,{children:l("export")})}),L.jsx(l9e,{})]})})]})}var oR="ToastProvider",[cR,dWe,pWe]=N1("Toast"),[uq,YVe]=Du("Toast",[pWe]),[hWe,j_]=uq(oR),fq=t=>{const{__scopeToast:e,label:n="Notification",duration:a=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:i}=t,[o,c]=F.useState(null),[l,u]=F.useState(0),d=F.useRef(!1),h=F.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${oR}\`. Expected non-empty \`string\`.`),L.jsx(cR.Provider,{scope:e,children:L.jsx(hWe,{scope:e,label:n,duration:a,swipeDirection:r,swipeThreshold:s,toastCount:l,viewport:o,onViewportChange:c,onToastAdd:F.useCallback(()=>u(m=>m+1),[]),onToastRemove:F.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};fq.displayName=oR;var dq="ToastViewport",mWe=["F8"],pE="toast.viewportPause",hE="toast.viewportResume",pq=F.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:a=mWe,label:r="Notifications ({hotkey})",...s}=t,i=j_(dq,n),o=dWe(n),c=F.useRef(null),l=F.useRef(null),u=F.useRef(null),d=F.useRef(null),h=xa(e,d,i.onViewportChange),m=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;F.useEffect(()=>{const x=k=>{var _;a.length!==0&&a.every(A=>k[A]||k.code===A)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[a]),F.useEffect(()=>{const x=c.current,k=d.current;if(y&&x&&k){const b=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(pE);k.dispatchEvent(C),i.isClosePausedRef.current=!0}},_=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(hE);k.dispatchEvent(C),i.isClosePausedRef.current=!1}},A=C=>{!x.contains(C.relatedTarget)&&_()},S=()=>{x.contains(document.activeElement)||_()};return x.addEventListener("focusin",b),x.addEventListener("focusout",A),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",_),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",A),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",_)}}},[y,i.isClosePausedRef]);const v=F.useCallback(({tabbingDirection:x})=>{const b=o().map(_=>{const A=_.ref.current,S=[A,...EWe(A)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?b.reverse():b).flat()},[o]);return F.useEffect(()=>{const x=d.current;if(x){const k=b=>{var S,C,E;const _=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!_){const D=document.activeElement,I=b.shiftKey;if(b.target===x&&I){(S=l.current)==null||S.focus();return}const B=v({tabbingDirection:I?"backwards":"forwards"}),U=B.findIndex(V=>V===D);yS(B.slice(U+1))?b.preventDefault():I?(C=l.current)==null||C.focus():(E=u.current)==null||E.focus()}};return x.addEventListener("keydown",k),()=>x.removeEventListener("keydown",k)}},[o,v]),L.jsxs(Uee,{ref:c,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&L.jsx(mE,{ref:l,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});yS(x)}}),L.jsx(cR.Slot,{scope:n,children:L.jsx(_n.ol,{tabIndex:-1,...s,ref:h})}),y&&L.jsx(mE,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});yS(x)}})]})});pq.displayName=dq;var hq="ToastFocusProxy",mE=F.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...r}=t,s=j_(hq,n);return L.jsx(D_,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:i=>{var l;const o=i.relatedTarget;!((l=s.viewport)!=null&&l.contains(o))&&a()}})});mE.displayName=hq;var H_="Toast",gWe="toast.swipeStart",yWe="toast.swipeMove",xWe="toast.swipeCancel",vWe="toast.swipeEnd",mq=F.forwardRef((t,e)=>{const{forceMount:n,open:a,defaultOpen:r,onOpenChange:s,...i}=t,[o=!0,c]=zh({prop:a,defaultProp:r,onChange:s});return L.jsx(mi,{present:n||o,children:L.jsx(bWe,{open:o,...i,ref:e,onClose:()=>c(!1),onPause:$a(t.onPause),onResume:$a(t.onResume),onSwipeStart:wt(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:wt(t.onSwipeMove,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:wt(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:wt(t.onSwipeEnd,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});mq.displayName=H_;var[kWe,wWe]=uq(H_,{onClose(){}}),bWe=F.forwardRef((t,e)=>{const{__scopeToast:n,type:a="foreground",duration:r,open:s,onClose:i,onEscapeKeyDown:o,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:m,...y}=t,v=j_(H_,n),[x,k]=F.useState(null),b=xa(e,V=>k(V)),_=F.useRef(null),A=F.useRef(null),S=r||v.duration,C=F.useRef(0),E=F.useRef(S),D=F.useRef(0),{onToastAdd:I,onToastRemove:P}=v,R=$a(()=>{var j;(x==null?void 0:x.contains(document.activeElement))&&((j=v.viewport)==null||j.focus()),i()}),B=F.useCallback(V=>{!V||V===1/0||(window.clearTimeout(D.current),C.current=new Date().getTime(),D.current=window.setTimeout(R,V))},[R]);F.useEffect(()=>{const V=v.viewport;if(V){const j=()=>{B(E.current),l==null||l()},W=()=>{const J=new Date().getTime()-C.current;E.current=E.current-J,window.clearTimeout(D.current),c==null||c()};return V.addEventListener(pE,W),V.addEventListener(hE,j),()=>{V.removeEventListener(pE,W),V.removeEventListener(hE,j)}}},[v.viewport,S,c,l,B]),F.useEffect(()=>{s&&!v.isClosePausedRef.current&&B(S)},[s,S,v.isClosePausedRef,B]),F.useEffect(()=>(I(),()=>P()),[I,P]);const U=F.useMemo(()=>x?bq(x):null,[x]);return v.viewport?L.jsxs(L.Fragment,{children:[U&&L.jsx(_We,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),L.jsx(kWe,{scope:n,onClose:R,children:Aw.createPortal(L.jsx(cR.ItemSlot,{scope:n,children:L.jsx(Gee,{asChild:!0,onEscapeKeyDown:wt(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:L.jsx(_n.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:wt(t.onKeyDown,V=>{V.key==="Escape"&&(o==null||o(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:wt(t.onPointerDown,V=>{V.button===0&&(_.current={x:V.clientX,y:V.clientY})}),onPointerMove:wt(t.onPointerMove,V=>{if(!_.current)return;const j=V.clientX-_.current.x,W=V.clientY-_.current.y,J=!!A.current,q=["left","right"].includes(v.swipeDirection),Z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,M=q?Z(0,j):0,se=q?0:Z(0,W),ue=V.pointerType==="touch"?10:2,le={x:M,y:se},ie={originalEvent:V,delta:le};J?(A.current=le,Lv(yWe,d,ie,{discrete:!1})):d5(le,v.swipeDirection,ue)?(A.current=le,Lv(gWe,u,ie,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(j)>ue||Math.abs(W)>ue)&&(_.current=null)}),onPointerUp:wt(t.onPointerUp,V=>{const j=A.current,W=V.target;if(W.hasPointerCapture(V.pointerId)&&W.releasePointerCapture(V.pointerId),A.current=null,_.current=null,j){const J=V.currentTarget,q={originalEvent:V,delta:j};d5(j,v.swipeDirection,v.swipeThreshold)?Lv(vWe,m,q,{discrete:!0}):Lv(xWe,h,q,{discrete:!0}),J.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),_We=t=>{const{__scopeToast:e,children:n,...a}=t,r=j_(H_,e),[s,i]=F.useState(!1),[o,c]=F.useState(!1);return SWe(()=>i(!0)),F.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),o?null:L.jsx(Nw,{asChild:!0,children:L.jsx(D_,{...a,children:s&&L.jsxs(L.Fragment,{children:[r.label," ",n]})})})},AWe="ToastTitle",gq=F.forwardRef((t,e)=>{const{__scopeToast:n,...a}=t;return L.jsx(_n.div,{...a,ref:e})});gq.displayName=AWe;var NWe="ToastDescription",yq=F.forwardRef((t,e)=>{const{__scopeToast:n,...a}=t;return L.jsx(_n.div,{...a,ref:e})});yq.displayName=NWe;var xq="ToastAction",vq=F.forwardRef((t,e)=>{const{altText:n,...a}=t;return n.trim()?L.jsx(wq,{altText:n,asChild:!0,children:L.jsx(lR,{...a,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${xq}\`. Expected non-empty \`string\`.`),null)});vq.displayName=xq;var kq="ToastClose",lR=F.forwardRef((t,e)=>{const{__scopeToast:n,...a}=t,r=wWe(kq,n);return L.jsx(wq,{asChild:!0,children:L.jsx(_n.button,{type:"button",...a,ref:e,onClick:wt(t.onClick,r.onClose)})})});lR.displayName=kq;var wq=F.forwardRef((t,e)=>{const{__scopeToast:n,altText:a,...r}=t;return L.jsx(_n.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...r,ref:e})});function bq(t){const e=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&e.push(a.textContent),TWe(a)){const r=a.ariaHidden||a.hidden||a.style.display==="none",s=a.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const i=a.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...bq(a))}}),e}function Lv(t,e,n,{discrete:a}){const r=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),a?Y0(r,s):r.dispatchEvent(s)}var d5=(t,e,n=0)=>{const a=Math.abs(t.x),r=Math.abs(t.y),s=a>r;return e==="left"||e==="right"?s&&a>n:!s&&r>n};function SWe(t=()=>{}){const e=$a(t);No(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[e])}function TWe(t){return t.nodeType===t.ELEMENT_NODE}function EWe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var CWe=fq,_q=pq,Aq=mq,Nq=gq,Sq=yq,Tq=vq,Eq=lR;const IWe=CWe,Cq=F.forwardRef(({className:t,...e},n)=>L.jsx(_q,{ref:n,className:ln("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:top-auto sm:right-0 sm:bottom-0 sm:flex-col md:max-w-[420px]",t),...e}));Cq.displayName=_q.displayName;const DWe=Qg("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-neutral-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-neutral-800",{variants:{variant:{default:"border bg-white text-neutral-950 dark:bg-green-800 dark:text-neutral-50",destructive:"destructive group border-red-500 bg-red-500 text-neutral-50 dark:border-red-900 dark:bg-red-900 dark:text-neutral-50"}},defaultVariants:{variant:"default"}}),Iq=F.forwardRef(({className:t,variant:e,...n},a)=>L.jsx(Aq,{ref:a,className:ln(DWe({variant:e}),t),...n}));Iq.displayName=Aq.displayName;const RWe=F.forwardRef(({className:t,...e},n)=>L.jsx(Tq,{ref:n,className:ln("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-neutral-200 bg-transparent px-3 font-medium text-sm transition-colors hover:bg-neutral-100 focus:outline-none focus:ring-1 focus:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-neutral-100/40 group-[.destructive]:focus:ring-red-500 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-neutral-50 dark:border-neutral-800 dark:group-[.destructive]:border-neutral-800/40 dark:focus:ring-neutral-300 dark:group-[.destructive]:focus:ring-red-900 dark:hover:bg-neutral-800 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-neutral-50",t),...e}));RWe.displayName=Tq.displayName;const Dq=F.forwardRef(({className:t,...e},n)=>L.jsx(Eq,{ref:n,className:ln("absolute top-1 right-1 rounded-md p-1 text-neutral-950/50 opacity-0 transition-opacity hover:text-neutral-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 group-[.destructive]:hover:text-red-50 dark:text-neutral-50/50 dark:hover:text-neutral-50",t),"toast-close":"",...e,children:L.jsx(CE,{className:"h-4 w-4"})}));Dq.displayName=Eq.displayName;const Rq=F.forwardRef(({className:t,...e},n)=>L.jsx(Nq,{ref:n,className:ln("font-semibold text-sm [&+div]:text-xs",t),...e}));Rq.displayName=Nq.displayName;const Pq=F.forwardRef(({className:t,...e},n)=>L.jsx(Sq,{ref:n,className:ln("text-sm opacity-90",t),...e}));Pq.displayName=Sq.displayName;function PWe(){const{toasts:t}=TE();return L.jsxs(IWe,{children:[t.map(({id:e,title:n,description:a,action:r,...s})=>L.jsxs(Iq,{...s,children:[L.jsxs("div",{className:"grid gap-1",children:[n&&L.jsx(Rq,{children:n}),a&&L.jsx(Pq,{children:a})]}),r,L.jsx(Dq,{})]},e)),L.jsx(Cq,{})]})}async function FWe(){const t=await Bh(),{documents:e}=await t.listDocuments(fc,cl,[Vt.select(["$id","amount_owned","card_id","email"]),Vt.limit(5e3)]);return e}const OWe=ny(()=>Yg(()=>import("./Overview-Bdu_oQkq.js"),__vite__mapDeps([0,1,2,3]))),$We=ny(()=>Yg(()=>import("./Collection-Dv-xLwDz.js"),__vite__mapDeps([4,5,2]))),LWe=ny(()=>Yg(()=>import("./Trade-Bns3B452.js"),__vite__mapDeps([6,5,2,1,3]))),MWe=ny(()=>Yg(()=>import("./EditProfile-Dk3gyFfo.js"),__vite__mapDeps([7,3])));function BWe(){const{toast:t}=TE(),[e,n]=F.useState(null),[a,r]=F.useState(null),[s,i]=F.useState([]),[o,c]=F.useState(!1),[l,u]=F.useState(!1),[d,h]=F.useState("");return F.useEffect(()=>{hB().then(n).catch(console.error)},[]),F.useEffect(()=>{if(e){const m=new URLSearchParams(window.location.search),y=m.get("sso"),v=m.get("sig");y&&v?(t({title:"Logging in",description:"Please wait...",variant:"default"}),nee(y,v).catch(console.error)):(FWe().then(i).catch(console.error),aee(e.email).then(r).catch(console.error))}else i([])},[e]),L.jsx(vl.Provider,{value:{user:e,setUser:n,account:a,setAccount:r,isLoginDialogOpen:o,setIsLoginDialogOpen:c,isProfileDialogOpen:l,setIsProfileDialogOpen:u},children:L.jsx(Jg.Provider,{value:{ownedCards:s,setOwnedCards:i,selectedCardId:d,setSelectedCardId:h},children:L.jsxs(Ene,{fallback:L.jsx("div",{className:"m-4",children:"A new version was deployed, please refresh the page to see the latest changes."}),children:[L.jsx(PWe,{}),L.jsx(fWe,{}),L.jsxs(hQ,{children:[L.jsx(Bv,{path:"/",element:L.jsx(OWe,{})}),L.jsx(Bv,{path:"/collection",element:L.jsx($We,{})}),L.jsx(Bv,{path:"/trade",element:L.jsx(LWe,{})})]}),L.jsx(MWe,{account:a,setAccount:r,isProfileDialogOpen:l,setIsProfileDialogOpen:u}),L.jsx(one,{cardId:d,onClose:()=>h("")}),L.jsx(UJ,{})]})})})}const Yt=t=>typeof t=="string",m0=()=>{let t,e;const n=new Promise((a,r)=>{t=a,e=r});return n.resolve=t,n.reject=e,n},p5=t=>t==null?"":""+t,zWe=(t,e,n)=>{t.forEach(a=>{e[a]&&(n[a]=e[a])})},GWe=/###/g,h5=t=>t&&t.indexOf("###")>-1?t.replace(GWe,"."):t,m5=t=>!t||Yt(t),K0=(t,e,n)=>{const a=Yt(e)?e.split("."):e;let r=0;for(;r<a.length-1;){if(m5(t))return{};const s=h5(a[r]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++r}return m5(t)?{}:{obj:t,k:h5(a[r])}},g5=(t,e,n)=>{const{obj:a,k:r}=K0(t,e,Object);if(a!==void 0||e.length===1){a[r]=n;return}let s=e[e.length-1],i=e.slice(0,e.length-1),o=K0(t,i,Object);for(;o.obj===void 0&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),o=K0(t,i,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},UWe=(t,e,n,a)=>{const{obj:r,k:s}=K0(t,e,Object);r[s]=r[s]||[],r[s].push(n)},gw=(t,e)=>{const{obj:n,k:a}=K0(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},WWe=(t,e,n)=>{const a=gw(t,n);return a!==void 0?a:gw(e,n)},Fq=(t,e,n)=>{for(const a in e)a!=="__proto__"&&a!=="constructor"&&(a in t?Yt(t[a])||t[a]instanceof String||Yt(e[a])||e[a]instanceof String?n&&(t[a]=e[a]):Fq(t[a],e[a],n):t[a]=e[a]);return t},$p=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var VWe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jWe=t=>Yt(t)?t.replace(/[&<>"'\/]/g,e=>VWe[e]):t;class HWe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const a=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,a),this.regExpQueue.push(e),a}}const KWe=[" ",",","?","!",";"],qWe=new HWe(20),XWe=(t,e,n)=>{e=e||"",n=n||"";const a=KWe.filter(i=>e.indexOf(i)<0&&n.indexOf(i)<0);if(a.length===0)return!0;const r=qWe.getRegExp(`(${a.map(i=>i==="?"?"\\?":i).join("|")})`);let s=!r.test(t);if(!s){const i=t.indexOf(n);i>0&&!r.test(t.substring(0,i))&&(s=!0)}return s},gE=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const a=e.split(n);let r=t;for(let s=0;s<a.length;){if(!r||typeof r!="object")return;let i,o="";for(let c=s;c<a.length;++c)if(c!==s&&(o+=n),o+=a[c],i=r[o],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<a.length-1)continue;s+=c-s+1;break}r=i}return r},yw=t=>t==null?void 0:t.replace("_","-"),YWe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,a;(a=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||a.call(n,console,e)}};class xw{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||YWe,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,a,r){return r&&!this.debug?null:(Yt(e[0])&&(e[0]=`${a}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new xw(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new xw(this.logger,e)}}var ac=new xw;class K_{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const r=this.observers[a].get(n)||0;this.observers[a].set(n,r+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(i=>{let[o,c]=i;for(let l=0;l<c;l++)o(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[o,c]=i;for(let l=0;l<c;l++)o.apply(o,[e,...a])})}}class y5 extends K_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,a){var l,u;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,i=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],a&&(Array.isArray(a)?o.push(...a):Yt(a)&&s?o.push(...a.split(s)):o.push(a)));const c=gw(this.data,o);return!c&&!n&&!a&&e.indexOf(".")>-1&&(e=o[0],n=o[1],a=o.slice(2).join(".")),c||!i||!Yt(a)?c:gE((u=(l=this.data)==null?void 0:l[e])==null?void 0:u[n],a,s)}addResource(e,n,a,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,n];a&&(o=o.concat(i?a.split(i):a)),e.indexOf(".")>-1&&(o=e.split("."),r=n,n=o[1]),this.addNamespaces(n),g5(this.data,o,r),s.silent||this.emit("added",e,n,a,r)}addResources(e,n,a){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in a)(Yt(a[s])||Array.isArray(a[s]))&&this.addResource(e,n,s,a[s],{silent:!0});r.silent||this.emit("added",e,n,a)}addResourceBundle(e,n,a,r,s){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),r=a,a=n,n=o[1]),this.addNamespaces(n);let c=gw(this.data,o)||{};i.skipCopy||(a=JSON.parse(JSON.stringify(a))),r?Fq(c,a,s):c={...c,...a},g5(this.data,o,c),i.silent||this.emit("added",e,n,a)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var Oq={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,a,r){return t.forEach(s=>{var i;e=((i=this.processors[s])==null?void 0:i.process(e,n,a,r))??e}),e}};const x5={},v5=t=>!Yt(t)&&typeof t!="boolean"&&typeof t!="number";class vw extends K_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),zWe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ac.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const a=this.resolve(e,n);return(a==null?void 0:a.res)!==void 0}extractFromKey(e,n){let a=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const i=a&&e.indexOf(a)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!XWe(e,a,r);if(i&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Yt(s)?[s]:s};const l=e.split(a);(a!==r||a===r&&this.options.ns.indexOf(l[0])>-1)&&(s=l.shift()),e=l.join(r)}return{key:e,namespaces:Yt(s)?[s]:s}}translate(e,n,a){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:i,namespaces:o}=this.extractFromKey(e[e.length-1],n),c=o[o.length-1],l=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((l==null?void 0:l.toLowerCase())==="cimode"){if(u){const R=n.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${R}${i}`,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${R}${i}`}return r?{res:i,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:i}const d=this.resolve(e,n);let h=d==null?void 0:d.res;const m=(d==null?void 0:d.usedKey)||i,y=(d==null?void 0:d.exactUsedKey)||i,v=["[object Number]","[object Function]","[object RegExp]"],x=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,b=n.count!==void 0&&!Yt(n.count),_=vw.hasDefaultValue(n),A=b?this.pluralResolver.getSuffix(l,n.count,n):"",S=n.ordinal&&b?this.pluralResolver.getSuffix(l,n.count,{ordinal:!1}):"",C=b&&!n.ordinal&&n.count===0,E=C&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${A}`]||n[`defaultValue${S}`]||n.defaultValue;let D=h;k&&!h&&_&&(D=E);const I=v5(D),P=Object.prototype.toString.apply(D);if(k&&D&&I&&v.indexOf(P)<0&&!(Yt(x)&&Array.isArray(D))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,D,{...n,ns:o}):`key '${i} (${this.language})' returned an object instead of string.`;return r?(d.res=R,d.usedParams=this.getUsedParamsDetails(n),d):R}if(s){const R=Array.isArray(D),B=R?[]:{},U=R?y:m;for(const V in D)if(Object.prototype.hasOwnProperty.call(D,V)){const j=`${U}${s}${V}`;_&&!h?B[V]=this.translate(j,{...n,defaultValue:v5(E)?E[V]:void 0,joinArrays:!1,ns:o}):B[V]=this.translate(j,{...n,joinArrays:!1,ns:o}),B[V]===j&&(B[V]=D[V])}h=B}}else if(k&&Yt(x)&&Array.isArray(h))h=h.join(x),h&&(h=this.extendTranslation(h,e,n,a));else{let R=!1,B=!1;!this.isValidLookup(h)&&_&&(R=!0,h=E),this.isValidLookup(h)||(B=!0,h=i);const V=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&B?void 0:h,j=_&&E!==h&&this.options.updateMissing;if(B||R||j){if(this.logger.log(j?"updateKey":"missingKey",l,c,i,j?E:h),s){const Z=this.resolve(i,{...n,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const J=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&J&&J[0])for(let Z=0;Z<J.length;Z++)W.push(J[Z]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(n.lng||this.language):W.push(n.lng||this.language);const q=(Z,M,se)=>{var le;const ue=_&&se!==h?se:V;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,c,M,ue,j,n):(le=this.backendConnector)!=null&&le.saveMissing&&this.backendConnector.saveMissing(Z,c,M,ue,j,n),this.emit("missingKey",Z,c,M,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?W.forEach(Z=>{const M=this.pluralResolver.getSuffixes(Z,n);C&&n[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(se=>{q([Z],i+se,n[`defaultValue${se}`]||E)})}):q(W,i,E))}h=this.extendTranslation(h,e,n,d,a),B&&h===i&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${i}`),(B||R)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${i}`:i,R?h:void 0))}return r?(d.res=h,d.usedParams=this.getUsedParamsDetails(n),d):h}extendTranslation(e,n,a,r,s){var l,u;var i=this;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const d=Yt(e)&&(((u=a==null?void 0:a.interpolation)==null?void 0:u.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const y=e.match(this.interpolator.nestingRegexp);h=y&&y.length}let m=a.replace&&!Yt(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,a.lng||this.language||r.usedLng,a),d){const y=e.match(this.interpolator.nestingRegexp),v=y&&y.length;h<v&&(a.nest=!1)}!a.lng&&r&&r.res&&(a.lng=this.language||r.usedLng),a.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var y=arguments.length,v=new Array(y),x=0;x<y;x++)v[x]=arguments[x];return(s==null?void 0:s[0])===v[0]&&!a.context?(i.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${n[0]}`),null):i.translate(...v,n)},a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,c=Yt(o)?[o]:o;return e!=null&&(c!=null&&c.length)&&a.applyPostProcessor!==!1&&(e=Oq.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,r,s,i,o;return Yt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(a))return;const l=this.extractFromKey(c,n),u=l.key;r=u;let d=l.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!Yt(n.count),m=h&&!n.ordinal&&n.count===0,y=n.context!==void 0&&(Yt(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(x=>{var k,b;this.isValidLookup(a)||(o=x,!x5[`${v[0]}-${x}`]&&((k=this.utils)!=null&&k.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(o))&&(x5[`${v[0]}-${x}`]=!0,this.logger.warn(`key "${r}" for languages "${v.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(_=>{var C;if(this.isValidLookup(a))return;i=_;const A=[u];if((C=this.i18nFormat)!=null&&C.addLookupKeys)this.i18nFormat.addLookupKeys(A,u,_,x,n);else{let E;h&&(E=this.pluralResolver.getSuffix(_,n.count,n));const D=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(A.push(u+E),n.ordinal&&E.indexOf(I)===0&&A.push(u+E.replace(I,this.options.pluralSeparator)),m&&A.push(u+D)),y){const P=`${u}${this.options.contextSeparator}${n.context}`;A.push(P),h&&(A.push(P+E),n.ordinal&&E.indexOf(I)===0&&A.push(P+E.replace(I,this.options.pluralSeparator)),m&&A.push(P+D))}}let S;for(;S=A.pop();)this.isValidLookup(a)||(s=S,a=this.getResource(_,x,S,n))}))})}),{res:a,usedKey:r,exactUsedKey:s,usedLng:i,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,a){var s;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,a,r):this.resourceStore.getResource(e,n,a,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=e.replace&&!Yt(e.replace);let r=a?e.replace:e;if(a&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!a){r={...r};for(const s of n)delete r[s]}return r}static hasDefaultValue(e){const n="defaultValue";for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&n===a.substring(0,n.length)&&e[a]!==void 0)return!0;return!1}}class k5{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ac.create("languageUtils")}getScriptPartFromCode(e){if(e=yw(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=yw(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Yt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(a=>{if(n)return;const r=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&e.forEach(a=>{if(n)return;const r=this.getLanguagePartFromCode(a);if(this.isSupportedCode(r))return n=r;n=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&(s.indexOf("-")>0&&r.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===r||s.indexOf(r)===0&&r.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Yt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let a=e[n];return a||(a=e[this.getScriptPartFromCode(n)]),a||(a=e[this.formatLanguageCode(n)]),a||(a=e[this.getLanguagePartFromCode(n)]),a||(a=e.default),a||[]}toResolveHierarchy(e,n){const a=this.getFallbackCodes(n||this.options.fallbackLng||[],e),r=[],s=i=>{i&&(this.isSupportedCode(i)?r.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return Yt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Yt(e)&&s(this.formatLanguageCode(e)),a.forEach(i=>{r.indexOf(i)<0&&s(this.formatLanguageCode(i))}),r}}const w5={zero:0,one:1,two:2,few:3,many:4,other:5},b5={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ZWe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=ac.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=yw(e==="dev"?"en":e),r=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:a,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(a,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),b5;if(!e.match(/-|_/))return b5;const c=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(c,n)}return this.pluralRulesCache[s]=i,i}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(e,n);return a||(a=this.getRule("dev",n)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,a).map(r=>`${n}${r}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(e,n);return a||(a=this.getRule("dev",n)),a?a.resolvedOptions().pluralCategories.sort((r,s)=>w5[r]-w5[s]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,a);return r?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,a))}}const _5=function(t,e,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=WWe(t,e,n);return!s&&r&&Yt(n)&&(s=gE(t,n,a),s===void 0&&(s=gE(e,n,a))),s},xS=t=>t.replace(/\$/g,"$$$$");class QWe{constructor(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ac.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(a=>a),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:a,useRawValueToEscape:r,prefix:s,prefixEscaped:i,suffix:o,suffixEscaped:c,formatSeparator:l,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:y,nestingSuffixEscaped:v,nestingOptionsSeparator:x,maxReplaces:k,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:jWe,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?$p(s):i||"{{",this.suffix=o?$p(o):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?$p(h):m||$p("$t("),this.nestingSuffix=y?$p(y):v||$p(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=k||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,a)=>(n==null?void 0:n.source)===a?(n.lastIndex=0,n):new RegExp(a,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,a,r){var m;let s,i,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=y=>{if(y.indexOf(this.formatSeparator)<0){const b=_5(n,c,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,a,{...r,...n,interpolationkey:y}):b}const v=y.split(this.formatSeparator),x=v.shift().trim(),k=v.join(this.formatSeparator).trim();return this.format(_5(n,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),k,a,{...r,...n,interpolationkey:x})};this.resetRegExp();const u=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((m=r==null?void 0:r.interpolation)==null?void 0:m.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>xS(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?xS(this.escape(y)):xS(y)}].forEach(y=>{for(o=0;s=y.regex.exec(e);){const v=s[1].trim();if(i=l(v),i===void 0)if(typeof u=="function"){const k=u(e,s,r);i=Yt(k)?k:""}else if(r&&Object.prototype.hasOwnProperty.call(r,v))i="";else if(d){i=s[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),i="";else!Yt(i)&&!this.useRawValueToEscape&&(i=p5(i));const x=y.safeValue(i);if(e=e.replace(s[0],x),d?(y.regex.lastIndex+=i.length,y.regex.lastIndex-=s[0].length):y.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,i;const o=(c,l)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const d=c.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;c=d[0],h=this.interpolate(h,i);const m=h.match(/'/g),y=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),l&&(i={...l,...i})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${u}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];i={...a},i=i.replace&&!Yt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let l=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const u=r[1].split(this.formatSeparator).map(d=>d.trim());r[1]=u.shift(),c=u,l=!0}if(s=n(o.call(this,r[1].trim(),i),i),s&&r[0]===e&&!Yt(s))return s;Yt(s)||(s=p5(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),l&&(s=c.reduce((u,d)=>this.format(u,d,a.lng,{...a,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const JWe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const a=t.split("(");e=a[0].toLowerCase().trim();const r=a[1].substring(0,a[1].length-1);e==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(i=>{if(i){const[o,...c]=i.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=l),l==="false"&&(n[u]=!1),l==="true"&&(n[u]=!0),isNaN(l)||(n[u]=parseInt(l,10))}})}return{formatName:e,formatOptions:n}},Lp=t=>{const e={};return(n,a,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const i=a+JSON.stringify(s);let o=e[i];return o||(o=t(yw(a),r),e[i]=o),o(n)}};class eVe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ac.create("formatter"),this.options=e,this.formats={number:Lp((n,a)=>{const r=new Intl.NumberFormat(n,{...a});return s=>r.format(s)}),currency:Lp((n,a)=>{const r=new Intl.NumberFormat(n,{...a,style:"currency"});return s=>r.format(s)}),datetime:Lp((n,a)=>{const r=new Intl.DateTimeFormat(n,{...a});return s=>r.format(s)}),relativetime:Lp((n,a)=>{const r=new Intl.RelativeTimeFormat(n,{...a});return s=>r.format(s,a.range||"day")}),list:Lp((n,a)=>{const r=new Intl.ListFormat(n,{...a});return s=>r.format(s)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Lp(n)}format(e,n,a){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,c)=>{var d;const{formatName:l,formatOptions:u}=JWe(c);if(this.formats[l]){let h=o;try{const m=((d=r==null?void 0:r.formatParams)==null?void 0:d[r.interpolationkey])||{},y=m.locale||m.lng||r.locale||r.lng||a;h=this.formats[l](o,y,{...u,...r,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${l}`);return o},e)}}const tVe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class nVe extends K_{constructor(e,n,a){var s,i;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=a,this.languageUtils=a.languageUtils,this.options=r,this.logger=ac.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(i=(s=this.backend)==null?void 0:s.init)==null||i.call(s,a,r.backend,r)}queueLoad(e,n,a,r){const s={},i={},o={},c={};return e.forEach(l=>{let u=!0;n.forEach(d=>{const h=`${l}|${d}`;!a.reload&&this.store.hasResourceBundle(l,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,u=!1,i[h]===void 0&&(i[h]=!0),s[h]===void 0&&(s[h]=!0),c[d]===void 0&&(c[d]=!0)))}),u||(o[l]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,n,a){const r=e.split("|"),s=r[0],i=r[1];n&&this.emit("failedLoading",s,i,n),!n&&a&&this.store.addResourceBundle(s,i,a,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&a&&(this.state[e]=0);const o={};this.queue.forEach(c=>{UWe(c.loaded,[s],i),tVe(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{o[l]||(o[l]={});const u=c.loaded[l];u.length&&u.forEach(d=>{o[l][d]===void 0&&(o[l][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,n,a){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:a,tried:r,wait:s,callback:i});return}this.readingCalls++;const o=(l,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(l&&u&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,a,r+1,s*2,i)},s);return}i(l,u)},c=this.backend[a].bind(this.backend);if(c.length===2){try{const l=c(e,n);l&&typeof l.then=="function"?l.then(u=>o(null,u)).catch(o):o(null,l)}catch(l){o(l)}return}return c(e,n,o)}prepareLoading(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Yt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Yt(n)&&(n=[n]);const s=this.queueLoad(e,n,a,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(i=>{this.loadOne(i)})}load(e,n,a){this.prepareLoading(e,n,{},a)}reload(e,n,a){this.prepareLoading(e,n,{reload:!0},a)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=e.split("|"),r=a[0],s=a[1];this.read(r,s,"read",void 0,void 0,(i,o)=>{i&&this.logger.warn(`${n}loading namespace ${s} for language ${r} failed`,i),!i&&o&&this.logger.log(`${n}loaded namespace ${s} for language ${r}`,o),this.loaded(e,i,o)})}saveMissing(e,n,a,r,s){var c,l,u,d,h;let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((l=(c=this.services)==null?void 0:c.utils)!=null&&l.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${a}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((h=this.backend)!=null&&h.create){const m={...i,isUpdate:s},y=this.backend.create.bind(this.backend);if(y.length<6)try{let v;y.length===5?v=y(e,n,a,r,m):v=y(e,n,a,r),v&&typeof v.then=="function"?v.then(x=>o(null,x)).catch(o):o(null,v)}catch(v){o(v)}else y(e,n,a,r,o,m)}!e||!e[0]||this.store.addResource(e[0],n,a,r)}}}const A5=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Yt(t[1])&&(e.defaultValue=t[1]),Yt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(a=>{e[a]=n[a]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),N5=t=>{var e,n;return Yt(t.ns)&&(t.ns=[t.ns]),Yt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Yt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Mv=()=>{},aVe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Vg extends K_{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=N5(e),this.services={},this.logger=ac,this.modules={external:[]},aVe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(a=n,n={}),n.defaultNS==null&&n.ns&&(Yt(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const r=A5();this.options={...r,...this.options,...N5(n)},this.options.interpolation={...r.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?ac.init(s(this.modules.logger),this.options):ac.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=eVe;const d=new k5(this.options);this.store=new y5(this.options.resources,this.options);const h=this.services;h.logger=ac,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new ZWe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=s(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new QWe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new nVe(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var y=arguments.length,v=new Array(y>1?y-1:0),x=1;x<y;x++)v[x-1]=arguments[x];e.emit(m,...v)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new vw(this.services,this.options),this.translator.on("*",function(m){for(var y=arguments.length,v=new Array(y>1?y-1:0),x=1;x<y;x++)v[x-1]=arguments[x];e.emit(m,...v)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,a||(a=Mv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const c=m0(),l=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),a(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),c}loadResources(e){var s,i;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mv;const r=Yt(e)?e:this.language;if(typeof e=="function"&&(a=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const o=[],c=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};r?c(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>c(u)),(i=(s=this.options.preload)==null?void 0:s.forEach)==null||i.call(s,l=>c(l)),this.services.backendConnector.load(o,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(l)})}else a(null)}reloadResources(e,n,a){const r=m0();return typeof e=="function"&&(a=e,e=void 0),typeof n=="function"&&(a=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),a||(a=Mv),this.services.backendConnector.reload(e,n,s=>{r.resolve(),a(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Oq.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const a=this.languages[n];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}changeLanguage(e,n){var a=this;this.isLanguageChangingTo=e;const r=m0();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,l)=>{l?(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve(function(){return a.t(...arguments)}),n&&n(c,function(){return a.t(...arguments)})},o=c=>{var u,d;!e&&!c&&this.services.languageDetector&&(c=[]);const l=Yt(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);l&&(this.language||s(l),this.translator.language||this.translator.changeLanguage(l),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,l)),this.loadResources(l,h=>{i(h,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,a){var r=this;const s=function(i,o){let c;if(typeof o!="object"){for(var l=arguments.length,u=new Array(l>2?l-2:0),d=2;d<l;d++)u[d-2]=arguments[d];c=r.options.overloadTranslationOptionHandler([i,o].concat(u))}else c={...o};c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||a||s.keyPrefix);const h=r.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(i)?m=i.map(y=>`${c.keyPrefix}${h}${y}`):m=c.keyPrefix?`${c.keyPrefix}${h}${i}`:i,r.t(m,c)};return Yt(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=a,s}t(){var r;for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(r=this.translator)==null?void 0:r.translate(...n)}exists(){var r;for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(r=this.translator)==null?void 0:r.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const i=(o,c)=>{const l=this.services.backendConnector.state[`${o}|${c}`];return l===-1||l===0||l===2};if(n.precheck){const o=n.precheck(this,i);if(o!==void 0)return o}return!!(this.hasResourceBundle(a,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(a,e)&&(!r||i(s,e)))}loadNamespaces(e,n){const a=m0();return this.options.ns?(Yt(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{a.resolve(),n&&n(r)}),a):(n&&n(),Promise.resolve())}loadLanguages(e,n){const a=m0();Yt(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(i=>r.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return s.length?(this.options.preload=r.concat(s),this.loadResources(i=>{a.resolve(),n&&n(i)}),a):(n&&n(),Promise.resolve())}dir(e){var r,s;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((s=this.services)==null?void 0:s.languageUtils)||new k5(A5());return n.indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Vg(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mv;const a=e.forkResourceStore;a&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new Vg(r);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},a){const o=Object.keys(this.store.data).reduce((c,l)=>(c[l]={...this.store.data[l]},Object.keys(c[l]).reduce((u,d)=>(u[d]={...c[l][d]},u),{})),{});s.store=new y5(o,r),s.services.resourceStore=s.store}return s.translator=new vw(s.services,r),s.translator.on("*",function(o){for(var c=arguments.length,l=new Array(c>1?c-1:0),u=1;u<c;u++)l[u-1]=arguments[u];s.emit(o,...l)}),s.init(r,n),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Xr=Vg.createInstance();Xr.createInstance=Vg.createInstance;Xr.createInstance;Xr.dir;Xr.init;Xr.loadResources;Xr.reloadResources;Xr.use;Xr.changeLanguage;Xr.getFixedT;Xr.t;Xr.exists;Xr.setDefaultNamespace;Xr.hasLoadedNamespace;Xr.loadNamespaces;Xr.loadLanguages;const{slice:rVe,forEach:sVe}=[];function iVe(t){return sVe.call(rVe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}const S5=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,oVe=function(t,e){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let s=`${t}=${r}`;if(a.maxAge>0){const i=a.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(i)}`}if(a.domain){if(!S5.test(a.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${a.domain}`}if(a.path){if(!S5.test(a.path))throw new TypeError("option path is invalid");s+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(s+="; HttpOnly"),a.secure&&(s+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s},T5={create(t,e,n,a){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+n*60*1e3)),a&&(r.domain=a),document.cookie=oVe(t,encodeURIComponent(e),r)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let a=0;a<n.length;a++){let r=n[a];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(t){this.create(t,"",-1)}};var cVe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return T5.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:a,cookieDomain:r,cookieOptions:s}=e;n&&typeof document<"u"&&T5.create(n,t,a,r,s)}},lVe={name:"querystring",lookup(t){var a;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let o=0;o<i.length;o++){const c=i[o].indexOf("=");c>0&&i[o].substring(0,c)===e&&(n=i[o].substring(c+1))}}return n}};let Mp=null;const E5=()=>{if(Mp!==null)return Mp;try{if(Mp=typeof window<"u"&&window.localStorage!==null,!Mp)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Mp=!1}return Mp};var uVe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&E5())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&E5()&&window.localStorage.setItem(n,t)}};let Bp=null;const C5=()=>{if(Bp!==null)return Bp;try{if(Bp=typeof window<"u"&&window.sessionStorage!==null,!Bp)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Bp=!1}return Bp};var fVe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&C5())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&C5()&&window.sessionStorage.setItem(n,t)}},dVe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:a,language:r}=navigator;if(n)for(let s=0;s<n.length;s++)e.push(n[s]);a&&e.push(a),r&&e.push(r)}return e.length>0?e:void 0}},pVe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const a=e||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(n=a.getAttribute("lang")),n}},hVe={name:"path",lookup(t){var r;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(r=n[typeof e=="number"?e:0])==null?void 0:r.replace("/",""):void 0}},mVe={name:"subdomain",lookup(t){var r,s;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,a=typeof window<"u"&&((s=(r=window.location)==null?void 0:r.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[n]}};let $q=!1;try{document.cookie,$q=!0}catch{}const Lq=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];$q||Lq.splice(1,1);const gVe=()=>({order:Lq,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Mq{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=iVe(n,this.options||{},gVe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(cVe),this.addDetector(lVe),this.addDetector(uVe),this.addDetector(fVe),this.addDetector(dVe),this.addDetector(pVe),this.addDetector(hVe),this.addDetector(mVe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(a=>{if(this.detectors[a]){let r=this.detectors[a].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(n=n.concat(r))}}),n=n.map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(e,this.options)}))}}Mq.type="languageDetector";function yE(t){"@babel/helpers - typeof";return yE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yE(t)}function Bq(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":yE(XMLHttpRequest))==="object"}function yVe(t){return!!t&&typeof t.then=="function"}function xVe(t){return yVe(t)?t:Promise.resolve(t)}function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function D5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(a){vVe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function vVe(t,e,n){return(e=kVe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kVe(t){var e=wVe(t,"string");return bd(e)=="symbol"?e:e+""}function wVe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(bd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}var Iu=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Iu=global.fetch:typeof window<"u"&&window.fetch&&(Iu=window.fetch);var jg;Bq()&&(typeof global<"u"&&global.XMLHttpRequest?jg=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(jg=window.XMLHttpRequest));var kw;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?kw=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(kw=window.ActiveXObject));typeof Iu!="function"&&(Iu=void 0);if(!Iu&&!jg&&!kw)try{Yg(()=>import("./browser-ponyfill-CIY2FaqA.js").then(t=>t.b),[]).then(function(t){Iu=t.default}).catch(function(){})}catch{}var xE=function(e,n){if(n&&bd(n)==="object"){var a="";for(var r in n)a+="&"+encodeURIComponent(r)+"="+encodeURIComponent(n[r]);if(!a)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+a.slice(1)}return e},R5=function(e,n,a,r){var s=function(c){if(!c.ok)return a(c.statusText||"Error",{status:c.status});c.text().then(function(l){a(null,{status:c.status,data:l})}).catch(a)};if(r){var i=r(e,n);if(i instanceof Promise){i.then(s).catch(a);return}}typeof fetch=="function"?fetch(e,n).then(s).catch(a):Iu(e,n).then(s).catch(a)},P5=!1,bVe=function(e,n,a,r){e.queryStringParams&&(n=xE(n,e.queryStringParams));var s=D5({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),a&&(s["Content-Type"]="application/json");var i=typeof e.requestOptions=="function"?e.requestOptions(a):e.requestOptions,o=D5({method:a?"POST":"GET",body:a?e.stringify(a):void 0,headers:s},P5?{}:i),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{R5(n,o,r,c)}catch(l){if(!i||Object.keys(i).length===0||!l.message||l.message.indexOf("not implemented")<0)return r(l);try{Object.keys(i).forEach(function(u){delete o[u]}),R5(n,o,r,c),P5=!0}catch(u){r(u)}}},_Ve=function(e,n,a,r){a&&bd(a)==="object"&&(a=xE("",a).slice(1)),e.queryStringParams&&(n=xE(n,e.queryStringParams));try{var s=jg?new jg:new kw("MSXML2.XMLHTTP.3.0");s.open(a?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,a&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var i=e.customHeaders;if(i=typeof i=="function"?i():i,i)for(var o in i)s.setRequestHeader(o,i[o]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(a)}catch(c){console&&console.log(c)}},AVe=function(e,n,a,r){if(typeof a=="function"&&(r=a,a=void 0),r=r||function(){},Iu&&n.indexOf("file:")!==0)return bVe(e,n,a,r);if(Bq()||typeof ActiveXObject=="function")return _Ve(e,n,a,r);r(new Error("No fetch and no xhr implementation found!"))};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function F5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function vS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(n),!0).forEach(function(a){zq(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function NVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SVe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Gq(a.key),a)}}function TVe(t,e,n){return e&&SVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zq(t,e,n){return(e=Gq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gq(t){var e=EVe(t,"string");return Ph(e)=="symbol"?e:e+""}function EVe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Ph(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CVe=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,a,r){return zq({},a,r||"")},parseLoadPayload:function(n,a){},request:AVe,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Uq=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};NVe(this,t),this.services=e,this.options=n,this.allOptions=a,this.type="backend",this.init(e,n,a)}return TVe(t,[{key:"init",value:function(n){var a=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=vS(vS(vS({},CVe()),this.options||{}),r),this.allOptions=s,this.services&&this.options.reloadInterval){var i=setInterval(function(){return a.reload()},this.options.reloadInterval);Ph(i)==="object"&&typeof i.unref=="function"&&i.unref()}}},{key:"readMulti",value:function(n,a,r){this._readAny(n,n,a,a,r)}},{key:"read",value:function(n,a,r){this._readAny([n],n,[a],a,r)}},{key:"_readAny",value:function(n,a,r,s,i){var o=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(n,r)),c=xVe(c),c.then(function(l){if(!l)return i(null,{});var u=o.services.interpolator.interpolate(l,{lng:n.join("+"),ns:r.join("+")});o.loadUrl(u,i,a,s)})}},{key:"loadUrl",value:function(n,a,r,s){var i=this,o=typeof r=="string"?[r]:r,c=typeof s=="string"?[s]:s,l=this.options.parseLoadPayload(o,c);this.options.request(this.options,n,l,function(u,d){if(d&&(d.status>=500&&d.status<600||!d.status))return a("failed loading "+n+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return a("failed loading "+n+"; status code: "+d.status,!1);if(!d&&u&&u.message){var h=u.message.toLowerCase(),m=["failed","fetch","network","load"].find(function(x){return h.indexOf(x)>-1});if(m)return a("failed loading "+n+": "+u.message,!0)}if(u)return a(u,!1);var y,v;try{typeof d.data=="string"?y=i.options.parse(d.data,r,s):y=d.data}catch{v="failed parsing "+n+" to json"}if(v)return a(v,!1);a(null,y)})}},{key:"create",value:function(n,a,r,s,i){var o=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var c=this.options.parsePayload(a,r,s),l=0,u=[],d=[];n.forEach(function(h){var m=o.options.addPath;typeof o.options.addPath=="function"&&(m=o.options.addPath(h,a));var y=o.services.interpolator.interpolate(m,{lng:h,ns:a});o.options.request(o.options,y,c,function(v,x){l+=1,u.push(v),d.push(x),l===n.length&&typeof i=="function"&&i(u,d)})})}}},{key:"reload",value:function(){var n=this,a=this.services,r=a.backendConnector,s=a.languageUtils,i=a.logger,o=r.language;if(!(o&&o.toLowerCase()==="cimode")){var c=[],l=function(d){var h=s.toResolveHierarchy(d);h.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};l(o),this.allOptions.preload&&this.allOptions.preload.forEach(function(u){return l(u)}),c.forEach(function(u){n.allOptions.ns.forEach(function(d){r.read(u,d,"read",null,null,function(h,m){h&&i.warn("loading namespace ".concat(d," for language ").concat(u," failed"),h),!h&&m&&i.log("loaded namespace ".concat(d," for language ").concat(u),m),r.loaded("".concat(u,"|").concat(d),h,m)})})})}}}])}();Uq.type="backend";Xr.use(Uq).use(vZ).use(Mq).init({interpolation:{escapeValue:!1},fallbackLng:"en",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},supportedLngs:["en-US","es-ES","pt-BR","fr-FR"]});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>console.log("Service Worker registered",t)).catch(t=>console.log("Service Worker registration failed",t))});const Wq=document.getElementById("root");if(!Wq)throw new Error("No root element found!");oZ.createRoot(Wq).render(L.jsx(F.Suspense,{fallback:L.jsx("div",{}),children:L.jsx(_Z,{i18n:Xr,children:L.jsx(MQ,{children:L.jsx(BWe,{})})})}));export{NB as $,D6 as A,ia as B,Jg as C,Hv as D,See as E,ree as F,q3 as G,zh as H,I6 as I,nu as J,iV as K,JPe as L,EE as M,e4e as N,wt as O,sa as P,mi as Q,ns as R,YW as S,BPe as T,vl as U,xa as V,zPe as W,Nw as X,FB as Y,DE as Z,Hf as _,DVe as a,IE as a0,ey as a1,GPe as a2,UPe as a3,Qg as a4,Gae as a5,Bh as a6,fc as a7,JJ as a8,ol as a9,Po as aa,aB as b,ln as c,Du as d,_n as e,LVe as f,Fh as g,MVe as h,OVe as i,L as j,rre as k,LS as l,I0 as m,D0 as n,R0 as o,BVe as p,xB as q,F as r,R6 as s,uh as t,Hg as u,RVe as v,TE as w,$Ve as x,ane as y,Aw as z};
