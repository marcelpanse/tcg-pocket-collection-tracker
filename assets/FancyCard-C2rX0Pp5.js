import{j as u}from"./query-vendor-BtExsvmS.js";import{i as v}from"./i18n-vendor-Dl1_3pZV.js";import{r}from"./react-vendor-BHI5tqau.js";import{o as b}from"./index-Dqjtc5L5.js";function $({selected:l,card:o,size:t="default"}){const n=r.useRef(null),[a,c]=r.useState({x:0,y:0}),[s,d]=r.useState(!1),y=r.useRef(j(e=>c(e),50)),f=e=>{y.current({x:e.clientX,y:e.clientY})},w=r.useCallback(()=>{d(!0),window.addEventListener("mousemove",f)},[]),C=r.useCallback(()=>{d(!1),window.removeEventListener("mousemove",f)},[]);let p=0,g=0;if(n.current&&s){const e=n.current.getBoundingClientRect(),i=e.left+e.width/2,m=e.top+e.height/2;p=a.x-i,g=a.y-m}const x=(e,i,m)=>Math.min(Math.max(e,i),m),E=s?x(p/4,-10,10):0,L=s?x(-g/4,-10,10):0,M={transform:`perspective(1000px)
                   rotateY(${E}deg)
                   rotateX(${L}deg)
                   scale(${s?1.04:1})`,transition:"transform 0.3s cubic-bezier(0.17, 0.67, 0.5, 1.03)",transformStyle:"preserve-3d",opacity:l?1:.5,width:t==="small"?"80px":"100%",height:t==="small"?"112px":"auto"},h=o.image?.split("/").at(-1),S=`/images/${v.language}/${h}`;return u.jsx("div",{style:{flex:"1 0 20%",perspective:"1000px",transformStyle:navigator?.userAgent.toLowerCase().includes("firefox")?"flat":"preserve-3d",display:"flex",justifyContent:"center",alignItems:"center",zIndex:s?10:0},children:h&&u.jsx("div",{style:{width:t==="small"?"80px":"100%",height:t==="small"?"112px":"auto"},onMouseEnter:w,onMouseLeave:C,children:u.jsx("img",{draggable:!1,loading:"lazy",ref:n,className:"card-test",style:M,src:S,alt:b(o,v.language),onError:e=>{e.target.src=o.image}})})})}const j=(l,o)=>{let t=0,n=null;return(...a)=>{const c=performance.now(),s=c-t;if(s<o){n||(n=setTimeout(()=>{t=performance.now(),n=null,l(...a)},o-s));return}t=c,l(...a)}};export{$ as F};
