import{u as h,r as i,z as j,t as g,C as N,j as e,S as y,E as b,F as u,G as f,l as C,m as v,H as k,W as _}from"./index-D6GrvPxw.js";import{C as w}from"./Card-CJbzIJKE.js";function A({cardId:d,onClose:o}){const{t:s}=h(["pages/card-detail","common/types","common/packs","common/sets"]),[n,x]=i.useState(d),t=j(n)||{},r=g(t.expansion),{ownedCards:m}=i.use(N),c=t.pack==="everypack"?r?.packs[0].name:t.pack,l=m.find(a=>a.card_id===n),p=a=>new Intl.DateTimeFormat(void 0,{dateStyle:"long",timeStyle:"long"}).format(new Date(a));return e.jsx(y,{open:!0,onOpenChange:a=>{a||o()},children:e.jsxs(b,{className:"transition-all duration-300 ease-in-out border-slate-600 overflow-y-auto",children:[e.jsx(u,{children:e.jsxs(f,{children:[C(t,v.language)," ",t.rarity]})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"px-10 py-4 w-full",children:e.jsx(w,{card:{...t,amount_owned:l?.amount_owned||0},useMaxWidth:!0},n)}),e.jsxs("div",{className:"p-4 w-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Alternate versions"}),t.alternate_versions?.map(a=>e.jsxs("p",{onClick:()=>x(a.card_id),children:[a.card_id===n?"✓":"→"," ",a.version]},a.card_id))]}),r&&c&&e.jsx("p",{className:"text-lg mb-1",children:e.jsx("strong",{children:s("text.chanceToPull",{ns:"pages/card-detail",percent:k(r,c,t).toFixed(2)})})}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.tradeTokens"),":"]})," ",_[t.rarity]??"N/A"]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.expansion"),":"]})," ",t.expansion]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.pack"),":"]})," ",s(`${t.pack}`,{ns:"common/packs"})]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsx("strong",{children:"Energy:"})," ",t.energy]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.hp"),":"]})," ",t.hp]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.cardType"),":"]})," ",s(`cardType.${t.card_type}`)]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.evolutionType"),":"]})," ",s(`evolutionType.${t.evolution_type}`)]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.ex"),":"]})," ",s(`ex.${t.ex}`)]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.baby"),":"]})," ",s(`ex.${t.baby?"yes":"no"}`)]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.craftingCost"),":"]})," ",t.crafting_cost]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.artist"),":"]})," ",t.artist]}),e.jsxs("p",{className:"text-lg mb-1",children:[e.jsxs("strong",{children:[s("text.setDetails"),":"]})," ",s(t.set_details,{ns:"common/sets"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s("text.details")}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("text.weakness"),":"]})," ",s(`${t.weakness}`,{ns:"common/types"})||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("text.retreat"),":"]})," ",t.retreat||"N/A"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("text.ability"),":"]})," ",t.ability?.name||"No ability"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:[s("text.abilityEffect"),":"]})," ",t.ability?.effect||"N/A"]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("p",{className:"text-neutral-400 text-sm",children:[e.jsxs("strong",{className:"font-semibold",children:[s("text.updated"),":"]})," ",l?.updated_at?p(l.updated_at):"N/A"]})})]})]})]})})}export{A as C};
