import{j as s}from"./query-vendor-DpGHCXpY.js";import{h as O,c as q,H as Q,y as V,z as G,D as W,E as X,S as Y,F as Z,B as T,C as U,G as ee}from"./index-MBvA3LEt.js";import{L as J,f as te,e as se,r as le}from"./react-vendor-DjlsVz29.js";import{T as ie,a as ae}from"./Filters-CO2xdL2y.js";import"./i18n-vendor-DDmeScd6.js";import"./charts-vendor-D-Ae2kUX.js";import"./supabase-vendor-CP3OYKhD.js";import"./ui-vendor-9yhwxkpr.js";import"./xlsx-vendor-De4COjWB.js";import"./tabs-Cp_XhsZX.js";const ne=[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]],re=O("chevron-first",ne);function ce(e){const t=q.c(18),{deck:l}=e,o=`/decks/${l.id??""}`,v=l.id;let r;t[0]!==l.energy?(r=l.energy.map(oe),t[0]=l.energy,t[1]=r):r=t[1];let c;t[2]!==r?(c=s.jsx("div",{className:"flex flex-wrap gap-1 items-center justify-center w-10",children:r}),t[2]=r,t[3]=c):c=t[3];let i;t[4]!==l.name?(i=s.jsx("h2",{className:"font-semibold",children:l.name}),t[4]=l.name,t[5]=i):i=t[5];let n;t[6]!==l.is_public||t[7]!==l.likes?(n=l.likes!==void 0?s.jsxs("span",{className:"ml-auto inline-flex gap-1",children:[s.jsx("span",{children:l.likes}),s.jsx(Q,{})]}):s.jsx("span",{className:"ml-auto italic text-neutral-400 text-sm",children:l.is_public?"Public":"Private"}),t[6]=l.is_public,t[7]=l.likes,t[8]=n):n=t[8];let a;t[9]!==l.id||t[10]!==c||t[11]!==i||t[12]!==n?(a=s.jsxs("div",{className:"flex items-center gap-2 bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 rounded-md p-2",children:[c,i,n]},v),t[9]=l.id,t[10]=c,t[11]=i,t[12]=n,t[13]=a):a=t[13];let m;return t[14]!==l||t[15]!==o||t[16]!==a?(m=s.jsx(J,{to:o,state:l,children:a}),t[14]=l,t[15]=o,t[16]=a,t[17]=m):m=t[17],m}function oe(e){return s.jsx("img",{src:`/images/energy/${e}.webp`,alt:e,className:"size-4"},e)}function Se(){const e=q.c(50),t=te(),{kind:l}=se();let o;e[0]!==l?(o=l&&G.includes(l)?l:"popular",e[0]=l,e[1]=o):o=e[1];const v=o;let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[2]=r):r=e[2];let c;e[3]!==v?(c={kind:v,page:0,energy:r},e[3]=v,e[4]=c):c=e[4];const[i,n]=le.useState(c),{data:a,isLoading:m,isError:z,error:R}=V(i);let y;e[5]!==t?(y=P=>{n(M=>({...M,kind:P,page:0})),t(`/decks/filter/${P}`,{replace:!0})},e[5]=t,e[6]=y):y=e[6];const A=y;let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(J,{to:"/decks/edit",children:s.jsxs(T,{className:"w-full",children:["New deck",s.jsx(U,{})]})}),e[7]=N):N=e[7];let f;e[8]!==i.kind||e[9]!==A?(f=s.jsx(ie,{className:"w-full",options:G,value:i.kind,onChange:A,show:xe}),e[8]=i.kind,e[9]=A,e[10]=f):f=e[10];let S;e[11]===Symbol.for("react.memo_cache_sentinel")?(S=P=>n(M=>({...M,energy:P})),e[11]=S):S=e[11];let d;e[12]!==i.energy?(d=s.jsx(ae,{options:X,value:i.energy,onChange:S,show:W}),e[12]=i.energy,e[13]=d):d=e[13];let p;e[14]!==f||e[15]!==d?(p=s.jsxs("div",{className:"flex flex-col gap-2",children:[N,f,d]}),e[14]=f,e[15]=d,e[16]=p):p=e[16];const B=i.page+1;let x;e[17]!==B?(x=s.jsxs("span",{children:["Page ",B]}),e[17]=B,e[18]=x):x=e[18];let C;e[19]===Symbol.for("react.memo_cache_sentinel")?(C=()=>n(pe),e[19]=C):C=e[19];const H=i.page<=0;let w;e[20]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(re,{}),e[20]=w):w=e[20];let u;e[21]!==H?(u=s.jsx(T,{variant:"outline",onClick:C,disabled:H,children:w}),e[21]=H,e[22]=u):u=e[22];let E;e[23]===Symbol.for("react.memo_cache_sentinel")?(E=()=>n(de),e[23]=E):E=e[23];const I=i.page<=0;let F;e[24]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(ee,{}),e[24]=F):F=e[24];let h;e[25]!==I?(h=s.jsx(T,{variant:"outline",onClick:E,disabled:I,children:F}),e[25]=I,e[26]=h):h=e[26];let $;e[27]===Symbol.for("react.memo_cache_sentinel")?($=()=>n(fe),e[27]=$):$=e[27];const K=!a?.hasNext;let L;e[28]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(U,{}),e[28]=L):L=e[28];let g;e[29]!==K?(g=s.jsx(T,{variant:"outline",onClick:$,disabled:K,children:L}),e[29]=K,e[30]=g):g=e[30];let j;e[31]!==a?(j=a&&s.jsxs("p",{className:"italic text-neutral-400",children:["Found ",a.count," decks"]}),e[31]=a,e[32]=j):j=e[32];let k;e[33]!==x||e[34]!==u||e[35]!==h||e[36]!==g||e[37]!==j?(k=s.jsxs("div",{className:"flex items-center gap-2",children:[x,u,h,g,j]}),e[33]=x,e[34]=u,e[35]=h,e[36]=g,e[37]=j,e[38]=k):k=e[38];let _;e[39]!==a||e[40]!==R||e[41]!==z||e[42]!==m?(_=m?s.jsx(Y,{size:"md",overlay:!0}):z||!a?s.jsx(Z,{error:R??void 0}):a.decks.map(me),e[39]=a,e[40]=R,e[41]=z,e[42]=m,e[43]=_):_=e[43];let b;e[44]!==k||e[45]!==_?(b=s.jsxs("div",{className:"flex flex-col gap-2 sm:w-xl",children:[k,_]}),e[44]=k,e[45]=_,e[46]=b):b=e[46];let D;return e[47]!==b||e[48]!==p?(D=s.jsxs("div",{className:"flex gap-4 flex-col sm:flex-row sm:w-fit mx-auto px-1",children:[p,b]}),e[47]=b,e[48]=p,e[49]=D):D=e[49],D}function me(e){return s.jsx(ce,{deck:e},e.id)}function fe(e){return{...e,page:e.page+1}}function de(e){return{...e,page:Math.max(e.page-1,0)}}function pe(e){return{...e,page:0}}function xe(e){return`${e.charAt(0).toUpperCase()+e.slice(1)} decks`}export{Se as default};
